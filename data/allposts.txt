---
title: 人生啊，就是这么无常……
date: '2005-01-07T20:13:00+08:00'
slug: 20-13-00
---

> 美丽的花开了，可它也会有一天凋谢  
在这个世界上，生命是一瞬也不会停止的  
它一直在动着，变着，这就是无常  
人的一生也是这样

![](https://db.yihui.org/hexun/b_DC54A44095AFE95B.jpg)

> 但是，最后还是只有一死......  
这难道不可以说，人生还是被悲伤所支配着吗？  
活着的时候 无论是克服痛苦还是追求喜悦  
最终死亡还是把一切都化为虚无  
那，人是为什么而生？  
想要和死亡这种永恒的东西对抗根本就是不可能

> 沙加啊，你忘记了  
忘记了？  
那是......  
沙罗双树的花也......凋落了吗......  

![](https://db.yihui.org/hexun/b_04860ED6B9B4B863.jpg)

> 死并不是一切的终结  
即使是死也只不过是变化的一种  
沙加，沙加，你一定不能忘记啊！  
死亡决不是最后...  
曾经活在这个世上的圣人们，  
都超越了死的境界！  
沙加啊！  
如果你也能领悟这一点的话  
那你也就成为了人类中最接近于神的人！

> 花开了，然后又会凋零  
星星是璀璨的，可那光芒也会消失！  
这个地球，太阳，这整个银河系  
甚至连这个宇宙，也会有死亡的时候！  
人的一生，和这些东西相比，简直就像是刹那间的事情  
在这样的一个瞬间，人降生了  
笑着，哭着，战斗，伤害，喜悦，悲伤，憎恶，爱  
一切都只是刹那间的邂逅  
而最后都要归入死亡的永眠！
---
title: 春江花月夜
date: '2005-01-08T22:02:00+08:00'
slug: 22-02-00
---

唐诗中的一株奇花异葩，曾被前人喻为“孤篇盖全唐”之杰作。

诗中的诗，顶峰上的顶峰。

<!--
![春江花月夜](http://210.35.160.8/gdwxw/picture/moji_cjhyyue.jpg)
-->

> 春江潮水连海平，海上明月共潮生。  
滟滟随波千万里，何处春江无月明。  
江流宛转绕芳甸，月照花林皆似霰。  
空里流霜不觉飞，汀上白沙看不见。  
江天一色无纤尘，皎皎空中孤月轮。  
江畔何人初见月？江月何年初照人？  
人生代代无穷已，江月年年只相似。  
不知江月待何人，但见长江送流水。  
白云一片去悠悠，青枫浦上不胜愁。  
谁家今夜扁舟子？何处相思明月楼？  
可怜楼上月徘徊，应照离人妆镜台。  
玉户帘中卷不去，捣衣砧上拂还来。  
此时相望不相闻，愿逐月华流照君。  
鸿雁长飞光不度，鱼龙潜跃水成文。  
昨夜闲潭梦落花，可怜春半不还家。  
江水流春去欲尽，江潭落月复西斜。  
斜月沉沉藏海雾，碣石潇湘无限路。  
不知乘月几人归，落月摇情满江树。
---
title: “CCTV2004中国经济年度人物年度新锐”——马化腾
date: '2005-01-08T11:31:00+08:00'
slug: cctv-ma-huateng
---

玩也是生产力！——马化腾

你也能把玩变成生产力吗？独特的视角与思维的创新才是现代公司企业生存的保障，谁落后于时代、不善于发现新市场、新潮流、新动向，谁就注定被淘汰。腾讯之前，谁想到了在网络这个虚拟空间里的娱乐并实现它直至今日如此欣欣向荣了呢？
---
title: “2004CCTV中国经济年度人物”——马云
date: '2005-01-08T12:50:00+08:00'
slug: cctv-ma-yun
---

阿里巴巴把互联网和商业结合起来，创造了电子商务新模式，用电子商务整合传统产业，最值得称道的是，它推动了中国商业信用的建立，在激烈的国际竞争中为大量的国内中小企业创造无限机会，阿里巴巴的作用是让买者和卖者直接见面，他的作用是减少中间商，消灭中间商——这是从节约成本的角度出发增加商业利润。

我们需要的人才，一要讲诚信，二要有学习的能力，好学的精神，三要有拥抱变化的能力，四要乐观上进。只要具备这四方面的素质，我们都要——企业的实力与人才分不开。

而我最欣赏的便是他引入的B2B电子商务模式，如今的商业普遍流行的一个词就是客户群细分，这种细分的目的就是留住客户，建立与客户的良好的合作关系，而细分的极限也就是一个个的单个客户，如果没有网络，这种单个客户的方式可能无法想象，一个公司哪能派出那么多人和有那么多精力去管理一个个的客户呢？任务实在太繁重，而电子商务的出现则为这种客户细分提供了实现的载体，我们可以采取注册的方式，一个用户名对应着一个客户，用一个用户名登录后可以按照选项个性化自己所需要的服务，完全把服务选择权交给客户，为自己节约人力劳力，客户选择完成后可以在线提交订单，然后公司企业直接按照订单提供相应服务即可，同时也省去了交易场所。

马云投资淘宝网一年半时间就打造成中国第一的个人交易网站，他称淘宝的主业不是竞争，而是把中国最好的C2C交易平台（Consumer to Consumer的电子商务模式）建成。应该把眼光放在客户身上，而不是对手身上。由此我们也可以看出现代的公司应该努力的方向，"客户至上"必须深入公司的文化理念。
---
title: 年度经济人物评选腾讯成新锐 RTX海尔不买帐
date: '2005-01-08T11:02:00+08:00'
slug: rtx
---

以前去腾讯的网站上把RTX的说明文档下载下来看了看，实在是很佩服马化腾的战略思想，从RTX的各项功能来看，对于提高企业的效率确实有很大的帮助；市场的高度发达如果没有伴随它的方便的商业交流沟通，是难以真正繁荣的，交流的意识实在太重要，那么该如何实现交流？工具当然也是很重要的，互联网时代给我们提供了一个方便的平台，那就看谁能率先利用这个平台了；个人感觉现在的公司企业还不够重视互联网的作用，手机、电话、邮件这些通讯方式在Internet面前已经有些逊色了。

但是，腾讯在开发RTX时似乎忽略了企业公司的一大忌，那就是老总们都很不希望员工在工作的时候不专心或者干别的与工作不相关的事情，而RTX作为腾讯的产品，与QQ是相通的，众所周知，QQ的娱乐功能已经发展得很完善了，各种游戏、棋牌等等应有尽有，这些东西对于公司来说是很忌讳的，因此，海尔回绝了使用QQ提议。
---
title: Rush——匆匆
date: '2005-01-09T19:10:00+08:00'
slug: rush
---

Swallows may have gone, but there is a time of return; willow trees may have died back, but there is a time of regreening; peach blossoms may have fallen, but they will bloom again. Now, you the wise, tell me, why should our days leave us, never to return? - If they had been stolen by someone, who could it be? Where could he hide them? If they had made the escape themselves, then where could they stay at the moment?

燕子去了，有再来的时候；杨柳枯了，有再青的时候；桃花谢了，有再开的时候。但是，聪明的，你告诉我，我们的日子为什么一去不复返呢？——是有人偷了他们罢：那是谁？又藏在何处呢？是他们自己逃走了：现在又到了哪里呢？

I don't know how many days I have been given to spend, but I do feel my hands are getting empty. Taking stock silently, I find that more than eight thousand days have already slid away from me. Like a drop of water from the point of a needle disappearing into the ocean, my days are dripping into the stream of time, soundless, traceless. Already sweat is starting on my forehead, and tears welling up in my eyes.

我不知道他们给了我多少日子；但我的手确乎是渐渐空虚了。在默默里算着，八千多日子已经从我手中溜去；像针尖上一滴水滴在大海里，我的日子滴在时间的流里，没有声音也没有影子。我不禁头涔涔而泪潸潸了。

Those that have gone have gone for good, those to come keep coming; yet in between, how swift is the shift, in such a rush? When I get up in the morning, the slanting sun marks its presence in my small room in two or three oblongs. The sun has feet, look, he is treading on, lightly and furtively; and I am caught, blankly, in his revolution. Thus--the day flows away through the sink when I wash my hands, wears off in the bowl when I eat my meal, and passes away before my day-dreaming gaze as reflect in silence. I can feel his haste now, so I reach out my hands to hold him back, but he keeps flowing past my withholding hands. In the evening, as I lie in bed, he strides over my body, glides past my feet, in his agile way. The moment I open my eyes and meet the sun again, one whole day has gone. I bury my face in my hands and heave a sigh. But the new day begins to flash past in the sigh.

去的尽管去了，来的尽管来着，去来的中间，又怎样的匆匆呢？早上我起来的时候，小屋里射进两三方斜斜的太阳。太阳他有脚啊，轻轻悄悄地挪移了；我也茫茫然跟着旋转。于是——洗手的时候，日子从水盆里过去；吃饭的时候，日子从饭碗里过去；默默时，便从凝然的双眼前过去。我觉察他去的匆匆了，伸出手遮挽时，他又从遮挽着的手边过去，天黑时，我躺在床上，他便伶伶俐俐地从我身边跨过，从我脚边飞去了。等我睁开眼和太阳再见，这算又溜走了一日。我掩着面叹息。但是新来的日子的影儿又开始在叹息里闪过了。

What can I do, in this bustling world, with my days flying in their escape? Nothing but to hesitate, to rush. What have I been doing in that eight-thousand-day rush, apart from hesitating? Those bygone days have been dispersed as smoke by a light wind, or evaporated as mist by the morning sun. What traces have I left behind me? Have I ever left behind any gossamer traces at all? I have come to the world, stark naked; am I to go back, in a blink, in the same stark nakedness? It is not fair though: why should I have made such a trip for nothing!

在逃去如飞的日子里，在千门万户的世界里的我能做些什么呢？只有徘徊罢了，只有匆匆罢了；在八千多日的匆匆里，除徘徊外，又剩些什么呢？过去的日子如轻烟却被微风吹散了，如薄雾，被初阳蒸融了；我留着些什么痕迹呢？我何曾留着象游丝样的痕迹呢？我赤裸裸来到这世界，转眼间也将赤裸裸地回去罢？但不能平的，为什么偏要白白走这一遭啊？

You the wise, tell me, why should our days leave us, never to return?

你聪明的，告诉我，我们的日子为什么一去不复返呢？
---
title: Eulogy of The Dog（狗的礼赞）
date: '2005-01-10T18:23:00+08:00'
slug: eulogy-of-the-dog
---

佛斯特的这篇《狗的礼赞》，把犬对主人最朴素、最纯真、最珍贵的感情表达得淋漓尽致，感人肺腑，因而以其强烈的感染力成为全球养狗爱好者喜爱的经典篇章，倍受推崇，万人争颂，其影响力至今不衰。当地还把此文刻在了为"老鼓"建立的纪念碑上，闻名于世。

第一次看到这篇文章是刚上大一的时候在图书馆的期刊阅览室的一本杂志上，当时就感动不已，跑回去拿来纸笔抄了下来，后来也背了下来，可惜现在也忘得差不多了；我不喜欢现在有些人对狗过度宠爱，读读这篇文章，感受一下那种纯真的感情吧……

---

## Eulogy of The Dog

--- George Graham Vest in 1870 at the old courthouse in Warrensburg, MO during a trial about the shooting of a farmer's dog named "Old Drum" by a neighbor. 

Gentlemen of the jury, the best friend a man has in this world may turn against him and become his enemy. His son or daughter whom he has reared with loving care may prove ungrateful. Those who are nearest and dearest to us---those who we trust with our happiness and our good name---may become traitors to their faith. The money that a man has he may lose. It flies away from him, perhaps when he needs it most. A man's reputation may be sacrificed in a moment of ill-considered action. The people who are prone to fall on their knees to do us honor when success is with us may be the first to throw the stone of malice when failure settles its clouds upon our heads. The one absolutely unselfish friend that man can have in this selfish world---the one that never deserts him, the one that never proves ungrateful or treacherous---is his dog. 

Gentlemen of the jury, a man's dog stands by him in prosperity and in poverty, in health and sickness. He will sleep on the cold ground where the wintry winds blow and the snow drives fiercely, if only he can be near his master's side. He will kiss the hand that has no food to offer, he will lick the wounds and sores that come in encounter with the roughness of the world. He guards the sleep of his pauper master as if he were a prince. When all other friends desert, he remains. When riches take wings and reputation falls to pieces he is as constant in his love as the sun in its journey through the heavens. If fortune drives the master forth an outcast in the world, friendless and homeless, the faithful dog asks no higher privilege than that of accompanying him to guard against danger, to fight against his enemies. And when the last scene of all comes, and death takes the master in its embrace, and his body is laid away in the cold ground, no matter if all other friends pursue their way, there by his graveside will the noble dog be found, his head between his paws, his eyes sad but open in alert watchfulness, faithful and true even to death.

## 狗的礼赞

〖美〗佛斯特 1870年

在这个世界上，一个人的好友可能和他作对，变成敌人；他用慈爱培养起来的儿女也可能变得不忠不孝；那些我们最感密切和亲近的人，那些我们用全部幸福和名誉所痴信的人，都可能会舍弃忠诚而成叛逆。一个人所拥有的金钱可能失去，很可能在最需要的时候它却插翅飞走；一个人的声誉可能断送在考虑欠周的一瞬间。那些惯会在我们成功时来屈膝奉承的人，很可能就是当失败的阴云笼罩在我们头上时投掷第一块阴险恶毒之石的人。 

在这个自私的世界上，一个人唯一毫不自私的朋友，唯一不抛弃他的朋友，唯一不忘恩负义的朋友，就是他的狗。 

不问主人是否穷困或富贵，健康或病弱，狗都会守在主人的身旁。只要能靠近主人，不管地面冰凉坚硬，寒风凛冽，大雪纷飞，它会全然不顾地躺在主人身边。哪怕主人无食喂养，它仍会舐主人的手和主人手上因抵御这个冷酷的世界而受的创伤。纵然主人是乞丐，它也象守护王子一样伴随着他。当他所有的朋友都掉头而去，它却义无反顾。当财富消失，声誉扫地时，它对主人的爱依如天空运行不息的太阳一样永恒不变。假若因命运的捉弄，它的主人变成一个无家可归的流浪者，这只忠诚的狗只求陪伴主人，有难同当，对抗敌人，此外毫无奢求。当万物共同的结局来临，死神夺去了主人的生命，尸体埋葬在寒冷的地下时，纵使所有的亲友都各奔前程，而这只高贵的狗却会独自守卫在墓旁。它仰首于两足之间，眼睛里虽然充满悲伤，却仍机警地守护墓地，忠贞不渝，直到死亡。 
---
title: 印度洋海啸视频集锦？
date: '2005-01-10T11:34:00+08:00'
slug: india-gallery
---

印度洋海啸视频集锦？这是在新浪网上看见的标题，竟然用了"集锦"一词，真是服了他们，什么叫"锦"？什么叫"集锦"？集锦是用来表示"编辑在一起的精彩的图画、诗文等"（《现代汉语词典》P593），印度洋的海啸让当地的人民家破人亡、惨不忍睹，难道这也算是"精彩"的东西？！

这是今天刚刚在新浪上面看见的，这些天印度洋的海啸是人们广泛关注的话题，也许是我在这里挑刺儿，但是我还是觉得用这个词太不严肃了！可能是编辑失误，平时的"集锦"做多了，这次大意。这种重大的严肃新闻事件也应该仔细点吧？要是碰上真要挑刺的人，拿岂不是可以说新浪没良心？有幸灾乐祸的心理？缺乏起码的同情心？

上了一学期周士琦老师的课，看来受这方面的影响还是比较大啊......

也许是我的文字功夫不够，在这里瞎说，赏脸看见我的胡言乱语的各位，还请你们批评指正：）
---
title: 我们到底学到了什么？
date: '2005-01-11T19:07:00+08:00'
slug: what-did-we-learn
---

考完了这门课，大多数都来自作业题，要不就是完全没问题，要不就是完全不会做，感觉很不爽，这门课确实感觉也挺难，不出做过的题大家肯定会挂一大片，没办法。到底是怪老师没有讲清楚知识呢？还是怪我们自己没有好好学？还是怪这么课本身就不适合在我们学院开？其实看看书的后面部分也可以看出随机过程在金融市场上应用较为广泛，还是挺有用、挺有意思的，但是我们的课程根本不可能讲到那里去，课时太少，由此我又想到本科阶段到底该学些什么；以我跟老师们的接触，他们大多都说该打好基础，我也赞同，但是我们开的这些课有没有达到这种目的呢？哪些课能显著体现统计学的基础？都是值得大家一起思考的问题。比如现在看计量经济学就严重感觉到高等代数中矩阵的知识忘得差不多了，那才能让人感觉到什么叫基础，像我们所开过的社会医学统计、随机过程等课程有基础作用吗？似乎感觉有些偏了......反倒是描述统计、数理统计这些课要好好深入学习学习，但是这些课我们又上好了吗？似乎也没有......我们的课程安排似乎是想让学生尽量多学些东西，但是顾了广度肯定会顾不上深度，这永远是一对矛盾，又是一个权重的问题。

拚命狂赶了两天，觉得应该不会挂了，但是一点也不值得高兴……
---
title: 做你自己，不要迷失自我
date: '2005-01-12'
slug: be-yourself
---

男爵语："你应该学着做你自己，面对真实的自我，只要做到这一点，你就不会害怕任何事情。"

距雅典不远有一座古希腊的圣城叫德尔斐，这里是传说中的太阳神阿波罗的驻地，但现在这座古城最有名的却是哲人塔列斯刻在太阳神圣殿外的一句传世名言："人啊，认识你自己！"这句名言受到现今希腊人的推崇，是因为他们清楚地明白，神话是用来传颂的，而奇迹则是要靠自己来创造。

其实啊，我觉得我们很多时候都是不认识自己的，生活得很麻木，Be Yourself！谈何容易......真正的快乐，是要能够感觉到自己的真实存在，在不放纵的前提下顺从自己的意愿，获得一种满足感，用马斯洛的话说就是要满足最高层次的需要——自我实现（Self-Realization），这个前提就是要认识自己，然后才能知道怎样自我实现。小时候吃鱼的小雪一般的心理学中所讲的"知、情、意"也是把"知"排在首位，只有充分的认知，才能有明确的方向，然后有所作为。

经历过这一次灵世界的历险，小春后来逐渐变得坚强和自信，展现微笑着的自我，说出"我已经不在乎了"。看着她乐观的微笑，微风轻拂着她的短发，我的心情不觉也轻快起来......

<!--
![](http://comic.qq.com/images/comic/2004/10/20/pt17/21.jpg)
-->

PS：片中的小雪很让人喜欢，小时候吃鱼那么可爱，长大了又那么善良，好漂亮的一只猫猫啊......
---
title: 从程序里学到的
date: '2005-03-15'
slug: learned-from-programming
---

从程序里学到什么了呢？

- 细心细心再细心！干这活儿真是强烈感觉到细心无极限......每一个变量从何而来、归往何处、何时产生、何时消失等都要注意；变量名有没有写错；程序时候有逻辑漏洞；各种复杂的参数四处传递；修改程序时往往是牵一发而动全身，考虑周到很关键。

- 整体感。管中窥豹者，往往觉得程序复杂无比，但是程序的长度与程序复杂程度根本没有关系，读程序时要有整体感，比如找到一个"IF"就往下看"END IF"，一段一段地看，复杂程度便会减少。（突然冒出一种"不识庐山真面目，只缘身在此山中"的感觉）此外，把整体相对独立的程序段提出来专门用一个子过程或者子函数写效果会更好，更容易看清楚。

- 团结合作（只是指变量之间，当然开发程序更是要团队合作）。一个程序变量若干，真要好好考虑它们之间的关系，虽不如人际关系复杂，但是总有互相依存互相利用的关系，这时就要用程序思想来管理它们，让这些家伙们团结一些为程序作贡献。

- 思想是最重要的。意即工具是次要的，在程序里面混到今天，觉得这些工具们也都差不多，只是实现思想的辅助手段。（哲学的重要性就不再罗嗦，犹太人知道脑子比房子车子财富重要的多，有思想有智慧在就行）

也许未完待续......
---
title: 黄向阳老师印象记
date: '2005-03-22'
slug: huang-xiangyang
---

昨日第一次听黄老师上课，风格果然有些与众不同，也早有耳闻。初见他是大二的时候有一天晚上突然冲进我那边屋子里，现在也忘了是为什么事情了。往后就只是在他打印复印东西的时候见他在910出没，也没怎么说过话，也很少听见他说什么话，似乎一向比较沉默。

到了大三才逐渐跟他熟悉起来，有一天在赵老师屋里翻出一本书，是汇集我们学院各个老师文章的一本文集《统计理论、方法、应用研究》（统计学系建系五十周年），其中就有他的文章《鞋子、病床和居民消费水平》，写的是关于中国农村和城市居民消费的，而描述消费水平的指标就选取得很有意思——鞋子和病床。"是爷不是爷，单看脚上鞋"，他从统计年鉴中查出了这些年来（85~99年）老百姓关于买鞋的人均消费数，城乡差别便显而易见了。"人越有钱就活得越仔细"，生活水平提高就会推动医疗服务增长，人均病床数应该要增加，而从统计年鉴上的数据中国大陆的人均病床数这些年并没有显著的变化（为了更好论证，他同时选取了台湾香港的数据做对比，这两个地区的人均病床数就有显著上升趋势）。最后他就以"何不食肉糜"的故事把坐在漂亮房子里享受豪华生活的国内经济学家狂嘲笑了一顿......的确有个性。

昨日去上他的课"会计与财务分析"，再次感受到他的"嚣张"与"不羁"，会耍幽默，但确实也有道理，提到背英语单词一些乱七八糟的事情，再一点感触就是他对Excel中VBA的应用，估计同学们没什么人看明白怎么回事了（除了张海洋），用了一个ScrollBar改变保费；然后一个细节之处就是看到他电脑里的MathType添加了两个自定义Tab，都是用来输入精算公式的，这一点可能别的老师也不会注意，果然电脑水平也还不错啊，善于利用电脑这个方便的工具（咱院的老师电脑水平似乎都不怎么样）。第二节课我逃掉了，回到院里处理一下网站的事情，也比较忙，但是听说从孙子兵法讲到地心说什么的，好像很有意思，有点遗憾没继续听下去：（下次再去吧。

初步印象便是如此，以后有什么新发现再继续写吧......

小结一下：

- 从身边的细节之处说明问题（其实宏观角度也很重要，这一点我感觉他是不是太忽视了）
- "君子善假于物"，尤其是要善于利用先进工具。
- 适度的"挑刺儿"对思维的扩展很有好处。
- 有些东西要硬背，这是基础。（上课被严重讽刺忘了牛顿-莱布尼茨公式，所以回来赶紧翻开数学分析课本看了一下，原来就是定积分的那个简单的基本公式（P289），还以为是什么神奇的公式呢）
---
title: Scripts from Schindler's List
date: '2005-04-16'
slug: schindlers-list
---

> Oscar Schindler: I could've got more... I could've got more, if I'd just... I could've got more ...
> 
> Stern: Oscar, there are eleven hundred people who are alive because of you. Look at them.
> 
> Schindler: If I'd made more money ... I threw away so much money, you have no idea. If I'd just ...
> 
> Stern: There will be generations because of what you did.
> 
> Schindler: I didn't do enough.
> 
> Stern: You did so much.
> 
> Schindler: This car. Goeth would've bought this car. Why did I keep the car? Ten people, right there. Ten people, ten more people... (He rips the swastika pin from his lapel) This pin, two people. This is gold. Two more people. He would've given me two for it. At least one. He would've given me one. One more. One more person. A person, Stern. For this. I could've gotten one more person and I didn't. I didn't ...

---

I'd like to strongly recommend the theme music of this movie: _Give Me Your Names_.
---
title: 惨不忍睹的博客……
date: '2005-04-29'
slug: ugly-blogchina
---

最近BlogChina把俺们的Blog改得一塌糊涂……真是难看啊，都不想写下去了。等什么时候弄得好看一点了再来写吧。
---
title: 微软下一个金矿：无缝计算
date: '2005-04-30'
slug: ms-gold-mine
---

计算机行业的竞争已经达到白热化，微软这头大牛准备怎么办呢？看看李开复的想法，愈发感到计算机的发展的目标与方向已经很明显，借用UC这个缩写的由来来说就是：Universal Communication

2002年.NET在北京正式发布，我去年才开始接触它，从开篇序言中就已经嗅出了微软进军的方向——一网打尽天下。程序的开发都开始基于Internet网络了，如今的通讯工具种类繁多，用网络可以解决就这个连接问题，到时候无论是手机等移动设备还是电脑、电视等，必定可以达到在任何时间任何地点获取任何可能的信息的地步。

MicroSoft的这个方向对于我们是不是应该有些启发呢？

---

微软的下一个金矿在哪里？

搜索、娱乐、游戏、即时通信、企业软件解决方案、杀毒......所有热门的行业似乎都有微软闪身而过的影子。
 
“微软希望未来实现无缝计算。”日前，前来参加博鳌亚洲论坛的微软全球副总裁李开复接受了21世纪经济报道记者的专访，作为微软亚洲研究院的创办者，李开复认为，手机、电视、电话、电脑等信息串在一起将创造巨大的市场，“这是微软技术研究的方向，也是微软可以投资和发展的机会。”

微软希望未来能够实现无缝计算，即手机、电视、电话、电脑等的信息都可以串在一起，不用担心文件在什么地方，而且能够靠内容直接提取，这是微软研究的一个方向。

第二项研究是语音识别和搜索，怎样让人能够更自然地在任何情况下都能获得想要的信息，比如，要实现用自然语言进行搜索的话，就要让电脑理解人的语言、语音，理解每个情景下要做什么样的工作。通过语音达到人机交互，并将语音和搜索相结合，Windows的新版本将初步涉及这项技术。

还有一个是自然用户的界面应用，就是让计算机里的世界和外面一样生动。比如说，一个小孩学习秦以前的历史，我们可以根据史书将一些信息重现出来，例如当时的宫殿、服饰、器皿等，让他可以在其间漫游，通过这一功能将用户被动的经验变成主动的体验。

另外，我们在做很多与IPTV和手机相关的工作，经过IPTV可以达到一个电视互动，且软件不仅仅只是在计算机上使用，还可以在手机上能使用。此外，我们可以在价位和成本上做得更好，并希望能够节省服务器的使用，如果手机本身能够完成70%的功能，移动运营商的服务器就可以免去很多工作。

这些都是微软可以投资和发展的机会。（原始出处： 21世纪经济报道）
---
title: 外长李肇星的几句话
date: '2005-05-01'
slug: li-zhaoxing
---

> 现在，也知道大家也有一些想法、情绪甚至行动，我个人认为，最关键的是把我们自己的事情做好。比如说如果你是学生，那么学习好，将来为祖国劳动，使我们祖国很快强大起来，特别要提的，要有创造性的劳动，现在世界上各国的竞争，看起来最主要的是创新能力的竞争……如果你是企业家，我认为就应该把企业办好，多给国家交税；如果你是运动员，多为祖国拿奖牌……

> ——实在的爱国

<!-- -->

> 最后，联合国改革，这个事情大家也很关心。有的国家想提拔提拔自己，想当个联合国安理会的常任理事国，这个可以理解，谁不想提拔自己呢？……(日本入常)必须得到全体会员国三分之二以上多数通过，不管哪个方案，最少128票。票不到，免谈……我们一定努力地参加这个民主讨论，讨论的时候应该是讲道理、摆事实、讲法制，但是关键还得多交朋友。比如说能够交到65、66、67个，什么都解决了。如果交到128个，什么事都没有了……

> ——嗯，这就是外长说的话

<!-- -->

> 早在2000年5月，当李禾禾还在美国宾西法尼亚大学留学时，身为父亲的李肇星就曾以一首诗表达对儿子的嘱托：别忘了你是谁/你是朋友的朋友/你是亲人的亲人/你是祖国的儿子/这是一切的根。

> ——如此教子
---
title: Growing
date: '2005-05-02T21:46:00+08:00'
slug: 21-46-00
---

Now I know why birds sit on telephone lines. They listen.


I am either nine or ten years old. At the orphanage they call me Miguel.


When I want to feel important, I say, "Call me Don Miguel."


I used to act important all the time because I felt I wasn't.


Back then no one liked me very much because I didn't like other people.


But last year, I began to learn two important things: **I was learning to see, not just look**. And I was learning to listen, not just hear.


I used to lie in the dark and make up relatives that I didn't have. My favorite relative was a nice old man who spoke Spanish, like me.


One day a man came to see me. He said he was my uncle.


"I don't have an uncle," I said.


"Now you do," he said.


He was an old man who liked children. He had a boy once who went to Korea. His daughter moved to the city. He said the city can be a difficult place in which to live. He taught me how to see and listen. I don't know if he is my uncle or not; neither did he, but he came to see me often. I guess if you act like an uncle all the time, you are one.
I was mot a good student before my uncle came along. He took me walking in the fields. At one point he spread his arms and said, "It is all here."


"What?" I said.


"Everything you need to know," he replied.


At first it appeared to be nothing more than just a few trees. I thought I was nowhere.


Then he had me close my eyes. First I heard the breeze in the grass, then in the trees. I also heard a faraway train and a barking dog. For a while I heard nothing. I was almost scared, he said to listen harder.


I heard my heart beat.


Because I used to be so sad, **I had almost forgotten that I had a heart.**


Once I asked him who he was.


"An experiment," he said.


He grinned and said, "Nobody knows. Like you, there is no one in the world like me. So who is to say what I will be."


One day in the field he showed me the way the breeze made the trees move. The rustling of the leaves made a sound that frightened a nearby bird. It flew away.


We watched the bird drop an acorn.


"The bird," he said, "can make a seed move. From that seed the oak can grow fifty feet tall. It will be a friend to those who want one."


I always knew that trees were there, but I never knew they were real like me.


One Sunday I was angry. When my uncle came, I said: "I don't have anything. I wish I had something."


"You have everything worth having," he said. "And I will give you even more. I will give some secrets of the universe. Do you believe me?"


"Yes," I said, wanting to believe him.


He gave me three small seeds.


"Put each seed into a small box filled with dirt. Then care for them. Talk to them if you wish. They will grow with you."


Now they are in larger boxes. One of the plants has grown up to my knee. I sometimes wonder what else it is up to.


Another time we were walking in the field when we saw two birds on a telephone line. They seemed so peaceful. Then suddenly they flew away. My uncle just laughed.


"See," he said. **"Someone said something they didn't like. Be careful what you tell the birds."**


One night I passed by the office of the orphanage. A man I don't like very much was on the phone. He was angry and loud.


When he left, I went into the office and picked up the phone. I heard the funniest sound.


"Listen," I said. **"Listen, birds. Come on back, never mind what he says. We like you."**


One day uncle did not come. I waited and waited but he did not come. The man I don't like at the orphanage said uncle was sick.


"May I go see him?" I asked.


"No," he said. "I'll call him for you."


"Don't do that," I said.


"Why not?"


"You'll make the birds fly away."


I sneaked into the office one night and called uncle.


"Are you all right?" I said.


"Yes, but I must go away."


"Why?"


"To make room for something else."


"Will you come back?"


"I will help you remember me, if you want me to."


"I do... I do..."


When I went to bed at night, I would try to imagine that he was there. He was harder and harder to see. One night, he was not there at all. **There was only a green fields.**


I went back to our field. It was raining. The sky was dark, the way I was inside. I looked for uncle everywhere. I called his name.


I was anger for a while. I said some things out loud that I shouldn't have said. Two birds flew out of the tree. I made them get wet.


On the way back, I saw something that was only an inch or two tall. It was where that bird dropped the acorn. I didn't tell anybody, but I knew.


**Someday uncle will be fifty feet tall.**
---
title: 学问、事业的三种境界
date: '2005-05-02T21:52:00+08:00'
slug: 21-52-00
---

> 古今之成就大事业、大学问者，必经过三种之境界：

> > 昨夜西风凋碧树，独上高楼，望尽天涯路。

> > 衣带渐宽终不悔，为伊消得人憔悴。

> > **蓦然回首，那人却在，灯火阑珊处。**

> ——王国维《人间词话》

一直以来，总是在想第三句话，“蓦然回首，那人却在，灯火阑珊处。”似乎有很多种理解……众人蜂拥而上的，可能并不是什么好东西；师长谆谆教诲的，也不一定是我们真正需要的；世人所崇拜的，可能只是为挣虚荣而已；……真正有价值的，也许还是在灯火阑珊处，却不知我们什么时候能蓦然回首……

王国维活了半辈子悟出来的三句话，我等小辈怎能一时间去理解、参透……

但是，岳武穆似乎明白了，三十功名尘与土……
---
title: 教育公正——路漫漫其修远兮……
date: '2005-05-02T10:00:00+08:00'
slug: edu-equality
---

上周上调查技术与方法课设计问卷，不少同学提到了教育公正问题，尤其是农民工子女教育，本来教育问题也是我比较关注的问题之一，今天在南风窗上看见一些言论和一些数据，先陈列如下：

---

联合国主管教育权利事务的特别调查员来华考察，离开时，她抛下一句把所有闻者当场噎住的评价：“在保证教育权利方面，贵国连非洲的乌干达都不如！”

2005年2月，湖南省教委原党委书记朱尚同等5位教育界老同志在媒体上联合撰文追问中国教育公正问题，文章发出了空前尖锐的质问：“今天有钱有势者的子女，进入好学校的比例，是不是增多了？他们都是考上的么？我们这么多教育工作者，对此是习以为常了，还是觉得汗颜？”（不公平不是最可悲的，可悲的是人都麻木了）

“教育的基本功能之一，就是缩小贫富差距，促进社会平等……如果教育反而扩大社会差距，那岂不是背离了初衷？”（2005年3月3日《人民日报》发表题为《教育公平：和谐社会的基石》的短评）（教育影响着人的一生，教育上的不公极可能就导致一个恶性循环，强势更强，弱势更弱。）

“没有教育公平，便没有和谐社会”！——洪可柱

教育的“三大不公”：

1、城乡受教育机会的不均衡

看看这些数字：城市人口拥有高中、中专、大专、本科、研究生学历的人数，分别是农村人口的3.5倍、16.5倍、55.5倍、281.55倍、323倍

2、国家名校招生指标对广大“外省人”的不公

今春“两会”上，来自湖北团的全国人大代表洪可柱在其关于“高招制度”改革的著名议案中，对当下招生配额不公的具体情形，进行了一番精细的分析：

“据不完全统计，恢复高考制度20多年来，清华、北大在湖北省每校每年招生人数不足百人，在北京市则不低于500人，招生人数两者相差5倍；而湖北省总人口7500万人，北京市总人口1500万人，相差5倍。即同等条件下，如果湖北省只有一个招生指标，北京市却拥有25个指标，这是多么严重的不公平！据统计，湖北省考生上清华、北大的平均分数比北京市考生要高160分！”

学者张玉林先生也解剖了“清华”神话：在迄今为止的20多年间，清华大学投放北京市的招生名额始终超过苏、皖、鄂、川4省总和，2001年则占其招生总数的18%，而当年北京高中毕业生数量只占全国总量的0.9%。结果必然是各地录取比例和分数线的极大悬殊。

对此，北京大学教授郑也夫也指出：“所谓配额制，大多是偏向弱势群体的，只有在中国当代高考才反其道而行之，它公然照顾强势群体——大城市中的考生！”

3、除了城乡差异与招生指标的不公正外，还有一种不公正，它是由各种特殊招生手段造成的不公——也往往和“教育腐败”相挂钩。

上大学，现在不但要比较智力和勤奋，还要比较身份、户口、关系网、财力。教育本应是推动社会公正的利器，为每个不分贫富贵贱的国民，提供改善命运的愿景，但面对“三大不公”，教育的光芒却黯淡了，它失去了传统价值系统赋予其的道义色彩，反而造就与扩大了阶层鸿沟。

中国社会科学院2004年7月28日发布的《当代中国社会流动》研究报告表明，目前我国处于社会优势地位的阶层，其子女职业继承性明显增强，调查数据表明：“干部子女当干部的机会比常人高2.1倍。”（长此以往，阶层鸿沟将越来越大。）

学者张玉林以讽刺的笔墨写道：“近10年以来，当大中城市重点学校的教师可以前往‘新马泰’旅游，从而展现城市中产阶级的富足和潇洒，无数遭受工资‘拖欠’的乡村教师却构成了各地上访队伍中令人瞩目的群体。”（这一点正是我做问卷的动机，师资力量如此薄弱，山村/农村教师待遇低下，广大农民怎么办？）

乡村教师这支在传统社会曾担当社会整合作用的力量，现在却向着“不稳定”的方向转化，这显然是一个“不祥的信号”。

“目前这样一种不公平的教育资源配置制度，在全世界都是罕见的。”学者陆学艺感叹。学者朱学勤也指出：高校是教育的最后一站，理应对此前阶段客观存在的教育上的不公进行亡羊补牢，尽可能补救前衍，怎能再人为继续扩大教育不公平现象呢？

不少研究者指出，中国目前这种“教育不公”的体制，很大程度上源于计划经济体制下“城市优先取向”的思路残余——

据中国社科院“当代中国社会结构变迁研究课题组”调查，2002年全社会的各项教育投资是5800多亿元，其中用在占总人口不到40%的城市人口上的投资占77%，而占总人口数60%以上的农村人口只获得23%的教育投资。

相关资料显示：城乡分割办学制度使农村儿童一开始就处于劣势，从而使80%左右的农村适龄人口无缘参加高考。（“两个趋向”中的后一个什么时候才能完成？工业何时来反哺农业？城市何时来支持农村？如何保证会回过头来支持农村？说的是“工业化达到相当程度以后”，这个相当程度又该如何理解？）

此外，令人迷惑不解的是，中国高等教育所获公共资源竟远远多于基础教育——为创办所谓“一流高等学府”，上亿财政拨款往往投给办学条件已相当不错的大学，而农村中小学校危险教室改造的经费，则要通过农民集资方式解决。这也就是说，为了造就堂皇体面的大学，其副产品可能正是乡村中小学的凋敝！从数据上看，中国的小学生、中学生、大学生平均公共教育经费之比为1∶1∶23，而美国为1∶3∶2。（基础教育不搞好，整个教育结构就是一个倒金字塔形）

还有观察者指出，长期以来，中国的教育和财政官员有种偏好，即人为制造“重点”。于是我们听说这样一种荒谬：一所普通中学不得不用10万元的可支配经费，去面对130万元的正常运转需求；而它邻近的重点中学却可以得到1000多万元的“教育现代化工程改造”拨款，与此相对应，在同一个城市，重点中学教职员工的收入，可能在相邻普通中学的五六倍以上。

农村地区亦然。县里大部分高中教育经费通常投向一两所高中，力求培养几个尖子，几个状元，结果“树起一根杆，倒掉一大片”。也就是说，农村地区的教育，不仅承受了城市给予的不公正，还将这种不公正的模式可悲地复制到自己体内。（农村一向认为城市里什么都是先进的，这是一个普遍的心理问题，不要不理解，也不可笑，人穷了就这样。）

这一行为的逻辑是什么呢？最大可能性就是教育资源的掌控者们倾向于让自家子女入读名校、重点校，便合力使“扶富削弱”的风气愈演愈烈。在某省，就出现了这样的情况，财政部门向一所重点中学每年多拨款50万元，以换取本系统子弟优先入学的机会。（人不为己，天诛地灭。本性使然。）

在市场经济时代，随着农村劳动力广泛流动和城市化加速，这种偏袒城市居民、刻意制造学校等级的教育政策显然已失去现实合理性。

对此，中国政府显然已有所意识，教育部日前表示，将把教育投入增加部分主要用于农村，从根本上促进教育公平。在高等教育阶段，将力求建立一套完整的国家助学体系……这不能不说是一种好的开端，但离问题的公正解决，还有相当遥远的距离。（城市和农村这两股力量对比，农村明显苍白无力，如果没有高层的大力支持，恐怕是无法与城市抗衡的。）

观察者指出：中国高校招生考试制度改革喊了近20年，直到1998年底，教育部才公布高考改革方案，并提出“用3年时间基本建成中国特色的招生考试制度”。此后，全国陆续形成包括“3+2”、“3+综合”以及保送生“综合能力测试”等多种招生考试。但是，改革一直没有触及非议最多的招生指标地域分配不公平等重大问题。（中国特色这四个字本身没有错，但是总是被打作一个幌子，或是一种借口，因为特色不意味着对。）

武汉大学洪可柱教授对《南风窗》直言，中国现行高考制度仅仅具备形式上的公平，但实际采取的是分省定额、划线录取的办法，因此出现各省录取率和分数线的极大差异，加剧了地区之间原已存在的教育不平等，不利于当前和谐社会建设和中西部崛起的国家战略。

洪教授尖锐地指出，国立大学是依靠全体人民纳税的政府财政来维持的，理应对全民平等开放。而现在，一些大学以帮助落后地区培养人才为借口，搞分数线差异，“其真实目的，很大一部分是为了维护大城市的特权利益和小群体的特殊利益”。（既是裁判又是运动员）

对中国教育改革历来存在的“虚幻性”，2005年元月毅然从清华大学美术学院辞去教职的陈丹青教授在其辞职声明中有这样鞭辟入里的分析——

近期教改种种“药方”，均移自西方先进经验。然实行易，见效难，因西方体制背后的深层结构——学术自主、教育私立、市场机制等—— 中国无一具备，仅片面引进“教条”，一厢情愿强求，遂不免效颦画虎，两皆不似。而50年文化断层、教育滞后、行政结构尾大不掉、知识储备浅薄寡陋等历史包袱，并无本质改换，兼以“药、症”同体之效，诸般教条如急火猛药，过犹不及，尤添病源……

有人将教育体制称为计划经济的最后“堡垒”。显然，它已掩饰不了丛生的裂缝，也无法阻止多数人对此的质疑与抨击。

湖南“教育界五老”建议：在国家预算法中规定，国家每年财政性教育经费占国民生产总值的比例不能低于4%，并应严格规定对农村义务教育投入的恰当比例；（这里的“4%”也是我上课提到的，多么可悲的数字）

全国政协委员崔琳在今春“两会”上提议：农民工子女上学收费应与当地学生一视同仁；公办中小学要尽快成为吸收农民工子女上学的主渠道；

著名教育学者建议：大学应可分为国立、省立、市立，其中，国立大学向全国公平招生，地方高校可倾向当地生源。杨还认为中小学的“重点学校”制度完全违反义务教育法，造成强烈的择校热，应该停止。保送生、特长生、定向生、国防生、三好生加分等政策，也都应予取消。（一丝腐败的机会也不能留！）

以网上论政著称的全国人大代表周洪宇指出：应从农村开始实施九年义务教育完全免费制。（“工业反哺农业、城市支持农村”，难道不应该从这里做起？）

广东民营教育家信力建先生则认为，只有建立至少省一级以上的公共财政，实现教育财政划拨的整体均衡，才能产生真正意义上的公民教育或者国民教育。

“教育的改革，关系到民族国家的深远利益，有理由发动广泛的社会力量来参与教育改革，吸收最大多数人的道德热情、聪明才智，共同铸造一个透明、法治的公共教育制度——和谐社会的理想就寓于其中。”洪可柱教授充满激情地如是呼吁。

来源：【南风窗】教育不平等扩大阶层鸿沟 中国教育公平受关注
---
title: 10职业出台，包括“网络编辑员”
date: '2005-05-02T15:27:00+08:00'
slug: web-editor
---

> 劳动和社会保障部3月31日正式向社会发布了信用管理师、网络编辑员、房地产策划师、职业信息分析师、玩具设计师、黄金投资分析师、企业文化师、家用纺织品设计师、微水电利用工、智能楼宇管理师等10个新职业。这是我国发布的第三批新职业。
> 
> 第三批新职业主要集中在现代服务业，涉及管理、策划创意、设计、分析等工作，对从业人员的理论知识和实际职业能力都有较高要求。
> 
> 网络编辑员
> 
> ● 市场反应
> 
> 采访对象：赵童　网易商业频道编辑
> 
> 我大学一毕业就进了网易做编辑，可能是我入行不久，领导想锻炼我多方面的才能吧，虽然我的名片上印的职位是网络编辑员，但其实我做的工作很杂：策划活动、做户外广告、设计征文比赛等等，可以说一人兼了多种角色。
> 
> 与传统的媒体不同，网络编辑是最近几年才兴起的一个新行业。我做的工作也和新闻系那些在报社、电视台工作的同学不大一样。这次劳动和社会保障部也算是为我们网络编辑正了名，我以前总怀疑自己到底算不算一个编辑。惟一不爽的是，这次发布的10个新职业，别的都是什么什么“师”，只有网络编辑后面加了一个“员”，感觉国家对网络编辑还是不太重视。
> 
> 我相信随着职业标准与规范的发布，网络编辑会逐步走向正规，我会越来越像一个编辑，如果还能考试考证就更好了，这样我就可以有一个小本本揣在衣兜里。为了早日做一个正式的网络编辑，我要抓紧时间多学点知识，只是不知道考试具体要考些什么内容，哪里有相关的资料和培训班。
> 
> ● 职业概况
> 
> 互联网进入中国以来，网站建设取得惊人发展。据中国互联网络发展状况统计报告显示，截至2005年1月，中国万维网站点数67万个，网民9400万人。按照网站数量估算，目前，中国拥有网络编辑从业人员三百多万人，在未来十年内，网络编辑需求将呈上升趋势，总增长量将超过百分之二十六。
> 
> 由于网络编辑职业是个新兴的职业。目前从业人员一般是从传统媒体编辑、记者、网站管理员、图文设计等职业中分流出来的。缺乏统一的职业标准与规范，给企业的培训、考核及人员使用带来了很多技术困难。
> 
> 来源：南方报业网

嗯，这下子遇到本行了，以后起码不会饿死在街头吧，昨天晚上还跟人说大学里面最好培养一门特长，今天竟然看见网络编辑也成了一个新职业了，不过心里还是惴惴不安，IT业还是忒恐怖，竞争那一个激烈，唉……再说就像赵童说的，毕竟还是“员”，还是不重视啊，估计也混不好。现在主要目标还是搞好自己的专业，兼顾其他知识的学习，不过大三了也就甭想了，学不了了，集中精力搞统计吧，网络方面到此为止，顶多再收两个徒弟，网管的日子也就算过去了。

不过这次发布的新职业都是以服务业为主的，也可以看出社会的进步，发展的方向逐渐向第三产业靠拢，应该来说对我们还是有所启发的。

P.S. 网络编辑员并不是什么好工作，可以混口饭吃，但是确实没什么大意思，基本都是机械工作，只是不懂的人觉得很神秘、很好玩。
---
title: 想起宋芳蓉
date: '2005-05-04'
slug: song-fangrong
---

今天“五四”，本想写点什么纪念一下，突然间想起一个人——宋芳蓉。

2002年暑假，我去参加了宜昌市西陵剧场的一场晚会，是关于宜昌市教育局资助50名品学兼优的贫困大学新生的，有幸代表50位同学讲了几句话；今天之所以想起宋芳蓉，是因为当时也很荣幸见到了她，时间也真快，都过了三年了，如今看见她获得了“五四青年奖章”，心里为她高兴，但更多的是崇敬。

如果不是在网上再看看照片，我已经回想不起她的面容，只是记得她的地方口音很重，把Hu念成Fu（她给我们讲自己曾受到过Fu Jintao的接见），另外一个比较深刻的印象就是她特别瘦，瘦得令人肃然起敬；高山深处吊脚楼里的生活很苦，她为孩子们付出的太多太多……

可那两天我见她时从没听她提过生活有多么苦多么累，相反只是见她笑，那种对生活的乐观和包容让我觉得甚至很震撼，这是何等的勇气和坚强！她15岁便开始到高山里单人任教，而我们那时都还是初中毕业的懵懂的小孩子，相比之下不由慨叹……

今天“五四”，做不了当年的“北李南陈”，也会有我们力所能及能做的事吧；不能尽力推动社会进步，不使自己的祖国富强，枉为青年。这不应被看作空话。

P.S. [晚会上那些兄弟姐妹们](https://web.archive.org/web/20050205012545/http://www.ycsx.net/sb/news/2002-8/9.htm)，如今都在哪儿呢？

附上一点资料吧：["五四青年奖章"获得者宋芳蓉：洒向群山都是爱](http://politics.people.com.cn/GB/1026/3365334.html)
---
title: 刚才于老师的一句话
date: '2005-05-13'
slug: yu-jun
draft: yes
---

于军老师说，“看看宋大我这个大胖子，可以把王晓军装进去了”，我顿时 `@#^%$^$!@`……

佩服得五体投地……

注：院长金勇进（左二）、党委书记兼副院长王晓军（左三）、副院长张波（左四）、党委副书记宋大我（左一）
---
title: 今天被人叫谢老师，感觉有些不一样
date: '2005-05-15'
slug: teacher-xie
---

想想“谢老师”这名号，最初是楼下的保安给我的，我说了好多次我不是老师他们还是顽固地叫老师，我也没办法，只好任由他们叫了。后来不幸被温慧博和陶茜听见了，也跟我开玩笑，班里的同学当中就她们两个最先叫起“谢老师”来的，一开始我也是很无语，后来竟然传播开去，大家过来这边都这样叫，再后来竟然被叫成了习惯……于是我就麻木了稀里糊涂成了老师……

今天“五月的鲜花”活动结束了，我去那边找到我的小破车，骑着准备回去，路上人特别多，我得横穿马路过去，所以慢慢悠过去，开始看见了陶茜，又被叫了一声，我哼哼了一声就努力穿过人群，然后听见背后还有人叫了我一声，如果没听错应该是温慧博，路上人太多了，我也没法停下来回头（要不然挡在路中间阻塞交通我就死了），只好很不礼貌地直接过去了……唔，太对不起了……

感觉大家都挺好的。骑过人群还听后面人叫谢老师，今天有些不一样的感觉。

只有一年大家都要毕业了啊，若有幸将来的某一个地方与大家再遇见，若还能听见这样叫我，我觉得我会很感动的。

---

附：今天活动的节目里面，觉得南京财经大学的那个节目特别好（江南丝竹之声，真是特别特别好听啊！）
---
title: 萨缪尔森说
date: '2005-05-17'
slug: samuelson
---

> “大多数伟大的经济学家在他们的自传中都告诉我们，他们之所以成为经济学家，是因为他们有志于改良社会。”

今天刚刚看到这句话，要记下来。
---
title: 时序课 惨绝人寰 生不如死
date: '2005-05-18'
slug: time-series
---

上课前我跟李中秋在那儿吟诗作对，想想怎么形容金阳老师，我一看，教室里放眼望去，不觉视野开阔，开阔得颇有苍凉之感——座位基本都是空的，也就想起了“千山鸟飞绝，万座人踪灭”，嗯，（画外音：中秋对这里的“鸟”比较感兴趣……）再往下想，“孤舟蓑笠翁，独钓寒江雪”，真够可怜的……

我念着“孤舟蓑笠翁”，又想起一句“僵卧孤村不自哀”，云云。貌似比上一句更好。“尚思为院树人才”……下面的就没想了，因为上课了。看这可怜的金阳哥哥没法儿打开PDF文档，机器里没有装Acrobat Reader，我英勇牺牲了我的睡觉大计，跑回办公室拷了一个安装程序给他装上，他这才开始兴致勃勃地讲起课来……

下面似乎有不少人失眠了……竟然还有那么多人活着，很佩服他们！曹祺和覃兆勇已经死了（覃兆勇今天穿拖鞋到教室，唔，怎么跟石恒泽一样没出息了，也可能是脚受伤了吧，不知道），中秋宁愿苦背单词也不愿听课，我也失眠了，因为张海洋问了我一个什么什么n阶差分的问题，我都听不懂，心里着急，一着急就没睡着，看了一下午还是没明白，汗如雨下……

下课铃响的时候，我发现正好资料楼的玻璃把夕阳的余辉反射到我的笔记上，真是一个BEAUTIFUL SCENE啊，还是很不错的。

懒得像对随机过程一样发牢骚了——因为还要对付考试，用赵本山的话，“背矮呀，真是背矮……”（他那东北腔没法儿用汉字打出来，先凑合吧）
---
title: 从地球上消失
date: '2005-05-19'
slug: disappear
---

今天就算是天皇老子找我我也不管了……

撤！

有事烧纸吧……
---
title: Sadness and Sorrow
date: '2005-05-31T01:17:00+08:00'
slug: 01-17-00
---

应该有很多人能听出来这首曲子的来源吧……

前两天蹲在李中秋床边看了两集火影忍者，看得很不全，但是还是记住了里面的一段话，就是那个小男孩的父亲说的：

> 如果你是男人  
就要选择做不会让自己后悔的事  
对自己来说 真正重要的东西  
无论痛苦也好 悲伤也好  
都要努力 再努力  
就算失去生命  
也要用双手去保护

看动画片极其感动我的、记忆最深刻的，除了沙罗双树园中的Shaka殉难之外，也就是这段话了吧。不是我自大，似乎还是跟我的性格有点相似的。不过有些话真是说起来容易做起来太难了。

——本来说不怎么写博客了，今天没忍住。
---
title: 六一儿童节
date: '2005-06-01'
slug: childrens-day
---

也不知道该写什么呀。

突然想起来一首歌，唱什么“我们的祖国是花园，花园的花朵真鲜艳……”高二的时候有一晚闲来没事，想练习练习英语，于是做了个翻译：Our's country is garden, garden's flower is beautiful... 嗯，现在想起来真无聊……

想说点别的，但也没空写。不过说真的我对儿童节似乎没什么印象，除了儿童节学校大发慈悲会放假，别的就不记得了……放假了就是捞鱼摸虾田间地头光着脚丫子跑，再不然就是爬到某个草垛上偶尔会发现哪家不听话的母鸡把鸡蛋生在草垛里可以被我们掏到，如此种种。

牛羊、芦苇棒棒、野果、酸酸的不知名的叶子、桑椹、荷花、泥鳅、鳝鱼、螃蟹、蝴蝶、蚱蜢、魔神坛斗士……好了，就这些吧。困了，要回去睡了。

放假完了上学记得戴红领巾啊……不然不让进校门的！
---
title: 特困生
date: '2005-06-02'
slug: sleepy
---

早上上课刚开始还好，上到九点钟发现好困，于是晕晕乎乎“梦游天姥”去了，也顺带着小猫钓鱼，然后梦见自己在调查课上睡着了，吓一跳，醒过来，发现自己果然睡着了（瞎扯的，不过真的困了）

中午在沙发上睡午觉，被杜老师在外面大声说话给吵起来了，看看表一点半该去教室了，于是不情愿地爬起来顶着烈日去上课。

阿杜上午见我在办公室，问我“你电脑玩儿得挺转的啊？”，也不知从谁那里听说的……以前我以为阿杜电脑水平不太好，今天听他说什么Project的软件，我竟然没用过，不由得崇拜一下。

嗯，阿杜上午说“这位同学的笔记记得很好”，我心里在想“你真是没看‘事实’‘真相’‘本色’，我的笔记真是很乱糟糟的呀”，我估计阿杜是看见我用红笔写了一些话，就觉得这笔记很不错，其实被我骗了，嘻嘻，不过阿杜的语录我倒是记了很多，最近没空整理出来写在这儿，但是有两句一定要写自在这儿：

> 麻烦都是你们自找的！

> 我不是上帝，我不可能什么都知道！

嗯，我继续看抽样调查，用别人的电脑写了这么些话。

今天差差的Blog我抢了第一个回复，好得意呀！

鉴于本文归在“念念有词”栏目下，所以写得奇烂无比也不管了……
---
title: Something about Sirius
date: '2005-06-04'
slug: something-about-sirius
---

Historically, many cultures have attached special significance to Sirius. Sirius was worshipped in the valley of the Nile long before Rome was founded, and many ancient Egyptian temples were constructed oriented so that light from the star could penetrate to their inner altars. The Egyptians based their calendar on the heliacal rising of Sirius, which occurred just before the annual flooding of the Nile and the Summer solstice. In Greek mythology, Orion's dog became Sirius. The Greeks also associated Sirius with the heat of summer: the name Sirius is derived from Seirios meaning "the scorcher". This also explains the phrase "dog days of summer".

There are a few unsolved mysteries regarding Sirius.

Firstly, it has been suggested that there is a third very small companion star, but it appears that this has not yet been definitely confirmed.

Secondly, ancient observations of Sirius describe it as a red star, when today Sirius A is bluish white. The possibility that stellar evolution of either Sirius A or Sirius B could be responsible for this discrepancy is rejected by astronomers on the grounds that the timescale of thousands of years is too short and that there is no sign of the nebulosity in the system that would be expected had such a change taken place. Alternative explanations are either that the description as red is a poetic metaphor for ill fortune, or that the dramatic scintillations of the star when it was observed rising left the viewer with the impression that it was red.

A third mystery is a suggestion that the Dogon tribe of Africa knew about unseen companion star(s) before they were discovered in the 19th century, although careful research reveals this was probably cultural contamination on the part of visiting astronomers who went to the region to observe a transit of Venus. This is a source of speculation for UFO enthusiasts and was the subject of the book The Sirius Mystery by Robert Temple.

说起天狼，当然不会不想起苏轼（跟本文没什么大关系哦）：

> 江城子·密州出猎

> 老夫聊发少年狂，左牵黄，又擎苍，锦帽貂裘，千骑卷平岗。为报倾城随太守，亲射虎，看孙郎。  
> 酒酣胸胆尚开张；鬓微霜，又何妨。持节云中，何日遣冯唐？会挽雕弓如满月，西北望，射天狼。

差差说我要是写英文将会失去大批读者，大家也表灰心，我不是存心写英文的；只是搜索时发现英文资料比较多，于是写英文了；另外，大家看看古希腊神坛的建筑跟天狼星的关系，还是很有意思的，当成一片阅读理解看看吧：）
---
title: 学年论文写到死
date: '2005-06-05'
slug: semester-paper
---

写了两天，发现了几个秘密：

1. 我废话比较多

2. 我文风不实

3. 我注重逻辑结构和规范

4. 我野心大，导致文章平庸

5. 英文文献很有趣，大力推荐

没时间多写，就写这么五句话。观众朋友们，我们下次节目再会……（背景音响起）
---
title: 脑子一团浆糊
date: '2005-06-06'
slug: twisted-mind
---

因为没带手机，所以还是忍了忍，回来了，否则真不想回来了，想在外面坐会儿。

总是发现我有种种致命的缺点，只恨我只有一个脑子，总顾不过来。

算了，不想写了。继续学年论文。决不可以说累！

也不可以变成木头人……
---
title: 说实话，统计计算不咋地
date: '2005-06-08T21:39:00+08:00'
slug: 21-39-00
---

要说呢，有时候《统计计算》这本书可以当笑话书来看，不是我鄙视清华人，二位编者关先生和陈先生都还是很强很强的，换了我十辈子都编不出这么一本书来，整本书呢，就是“逼近”与“求解”两块内容，但是所用的数学知识实在太猛了，有种“理论指导实践”的意味儿，只不过是指导数学实践而已。其逻辑性、结构性比较强，数学分析、高等代数基础知识的运用可谓自如，洋洋洒洒，很是壮观。


但是（惯用伎俩——好话说前头），星星老师今天提到理科学多了的人要多学学文科的东西，这一点呢，跟现在的我也算是"Great minds think alike"，一头扎在理科的东西里不是什么好事。想起来好像朱光潜先生说过一句话叫“以出世的态度做人，以入世的态度做事”（提醒一下这里的入世不是加入WTO），说得很有道理。我用猪脑袋想了想，似乎文科学生容易出世，理科学生容易入世。看二位先生编书编得多认真多细致！看某些人套话空话说得多么响亮！说到这里，“中庸”二字又冒出来了（关于中庸今日不谈，有空再说），所谓理论，所谓实践，都不可钻进去爬不出来。


下面仅讲一两个小笑话吧，就举咱刚学过的例子：Gauss消去法（或者主元素Gauss消去法）和反幂法。


Gauss消去法实在是……有那么一点点弱智+机械，还有点死板（`a[k, k] = 0` 了就停止了？没道理）；那种程序啊，实在不值得**大家都去编**！一两个人编出来其他人看看就够了，很没劲的。星星老师让我们画程序框图，这一点更要反对！如果写程序的步骤或者方法的思想的话我倒还可以认可，框图这东西不是咱的事情，有专业编程的人在，我们还画什么图啊？反正我是死活记不住什么平行四边形矩形菱形什么的。用星星自己的话说：“**这不是本质！**”


我承认我眼高手低。


反幂法呀，那就更搞笑了，既然第一步要求矩阵的逆，我都有求逆的功夫了我还算什么特征根啊？你既然用了solve函数求逆，凭什么就不能用eigen函数求特征根？Gauss也一样，既然编那么复杂的程序求解，那我干吗不用$A^{-1}b$直接写出结果？所以说啊，理科学多了人都迂了。用肚子的话说：“**麻烦都是你们自己找的！**”


还有一系列笑话，比如拉格朗日插值什么的，书上的例题都给出了原函数的具体形式，那还估计什么误差呀？真正的误差都明摆着了，还用费劲去估计一个误差范围啊？还求导数，求阶乘，求连乘积，我吃饱了撑着了吧。![](https://www.blogdriver.com/jsp/face/taotao/PP15.gif)（第一次用这个表情，看见差差用了好多次了）


说了半天，意思是办事要讲效率，认真研究是一回事，效率是另一回事。顾了细节顾不了大局，那是不行滴。如果大家都用$A^{-1}b$求解线性方程组，用eigen求特征根，那么这本书可以砍掉一半了。


最后一句：本课程应该改名叫<FONT style="BACKGROUND-COLOR: #ffffcc">数学计算</FONT>，不叫统计计算；因为放不下面子要高举“统计”大旗，，所以竟然“保险学原理”课活生生被改成了“保险统计”。似乎神马东西都可以贴上一块“统计”的膏药。不够虚心，不够大气，当初建院大会上，谢邦昌老师说，“在这里，可以做大国统计，这里有特色的题目有自由的DATA”，足以让咱们汗颜到死……台湾的统计杂志Statistica Sinica有响亮的名字，一下办成了SCI；咱们的《统计与精算》定价6元，是中国人民大学书报资料中心复印报刊资料，封面上写的我们的目标是办成“中国统计的‘SCI’”，注意，是中国统计的“SCI”，不是全世界的，也不是中国的……谢老师给统计学院提的愿景是：人大的统计，中国的统计。


跑题了……


但是，有两个词是要知道的：SCOPE &amp; SLOGAN
---
title: 背脊发凉
date: '2005-06-08'
slug: terrified
---

今天上课星星老师说到了英文的问题，跟我英雄所见略同，咱英语普遍比较差。我正得意之际，突然想起前面那篇文章，还说她的论文摘要写得一塌糊涂，难道……被她看见了……不禁背脊阵阵发凉……不会吧……
---
title: 吃粽子
date: '2005-06-08'
slug: zongzi
---

今天中午吃了差差一个粽子，很8错的！特此纪念！

P.S. 吃到中间（应该是枣吧），差点被甜死了……不过还是很好吃！要谢谢差差同学！

P.S. again: 从小到大我就一直有个疑问，怎么老觉得粽叶和玉米叶子是一样的呢……不知道……也许我是个五谷不分的人吧。或许本身现在粽子就是用玉米叶子？
---
title: 走
date: '2005-06-12'
slug: leaving
---

我头大如猪……（确切的说是如蚂蚁）照例过来休息两分钟。

想好决定走了，至于哪天回来，或者还会不会回来，再说吧。

老在这儿是不行的，在此呆了太久，要改变先从离开这开始。

小的叩谢各位汹涌的大水让我的Blog蓬荜生辉，Adieu……

啊，这次，不要求烧纸：）万一要烧请排好队一个个来别抢。

特别鸣谢（排名不分先后）：

长期以来大力支持我的：

colinisstudent

notfar

小花

os

moon/moon42

小鱼

当然，还有曾经路过的

jojoe

周师

某神秘的小飞侠

蠹鱼生活

yaoyaocong

lyla lor

以及不能不提的宿舍兄弟们……

还有一个神秘人物，惨绝人寰的时序课后面留言的那位至今没想出来是谁

若有遗漏，恕在下记性不太好，只有一个脑袋没办法。我也常常想脑袋太少了不够用。

总之，谢谢大家！Adieu……（顺便说一句这个词来源于法语）
---
title: 垂死挣扎
date: '2005-06-12'
slug: struggle-to-death
---

真是奇怪，我的事情就跟正弦函数图像一样，一波一波的，人背运的时候就开始迷迷糊糊丢三落四，心情越糟糕事情就越多，这倒是蛮好的，锻炼本老大啊！

垂死挣扎！！项目答辩、整理会议论文摘要（我一看183页的Word文档顿时无话可说）、复习一门门课、数松针、编程序、还有……

靠，我一辉大人是这么容易被打倒的吗？准备拼死一战！
---
title: 开始无风险挣扎
date: '2005-06-30'
slug: free-struggle
---

虽说考完了，但是生命不息，挣扎不止！开始搞学院网站，催了我好久了，耳朵都起了茧……

不过好歹不用担心什么东西了，我称之为“无风险挣扎”

P.S. 考试真是太猪了，鄙视之。
---
title: 期末考试
date: '2005-07-01'
slug: final-exam
---

六门课，折磨了俺两周时间，不过这次考试倒是本人大学里面准备得最“狠”的一次，拼上了身家性命啊，数次奋战到夜里两三点，国际金融还通宵了一次，如今看到一个90的成绩，不禁想起高中时常常用来鼓励别人的一句话——"No pains no gains"，大学三年，从未有过这种感觉。

这次考试，男生和女生的复习准备真是有天壤之别呀，我每天回去看见大家都悠闲无比，真是深受打击，前天准备考运筹，结果回去发现玩游戏的玩游戏，看电影的看电影，还有《笑傲江湖》什么的，昨天回去在看《文茜小妹大》；不说啥了，“人之将死”，考试用点什么小手段也无可厚非了，不说这个，也罢，也罢。

考试真是一场残酷的竞争，残酷不在于考试的难度，而在于重压之下人的行为。对于这个社会，我唯一惧怕就是恶性竞争——非理性博弈行为。高中时对达尔文“物竞天择，适者生存”很是相信，如今发现这种选择并非最优选择。（不深谈）

我对那些行为暂时持中立态度，因为可以理解但不可以提倡，所有人，包括学习好的同学（为何不帮助别的同学），包括校方（为何肆意放水），包括用人单位（对人的评判标准），统统都该反思！！错的不止是那些学生！不要一味指责他们！

我反思了，也做了一点微薄的努力，可是只是杯水车薪而已。大学也快完了，与俺同窗四年的兄弟姐妹们，在学习上大家想互相帮助也没什么机会了啊……
---
title: 面朝大海，春暖花开
date: '2005-07-01'
slug: sea-flower
---

> 从明天起，做一个幸福的人  
> 喂马，劈柴，周游世界  
> 从明天起，关心粮食和蔬菜  
> 我有一所房子，面朝大海，春暖花开
> 
> 从明天起，和每一个亲人通信  
> 告诉他们我的幸福  
> 那幸福的闪电告诉我的  
> 我将告诉每一个人  
> 
> 给每一条河每一座山取一个温暖的名字  
> 陌生人，我也为你祝福  
> 愿你有一个灿烂的前程  
> 愿你有情人终成眷属  
> 愿你在尘世获的幸福  
> 我也愿面朝大海，春暖花开

我觉得，留给我们的，不应该只是感动。

能做到诗里面所写的，我必定敬佩他/她。

以我自己的理解，“面朝大海，春暖花开”并非只是一种享受，应该是一种胸怀吧。“仁者爱人”抑或其它。孟子也说“老吾老以及人之老，幼吾幼以及人之幼”，总之，我读书甚少，不敢说什么“半部论语治天下”之类的话，但不管怎么说，这种广义的仁爱应该是值得推崇的，人和人之间就该多一些相互的关怀嘛。（是不是跑题了，不知道，今天可能灌酒了脑子有些晕晕乎乎的）
---
title: 英语受刺激，要好好练习了
date: '2005-07-02'
slug: practice-english
---

投入产出大会总算是开完了，看他们都已经忙晕了，还好我在期末考试中，没有抓我去干活，昨天是最后一天，我在这边还是遇到了不少老外，其中就有国际投入产出学会的会长大人Faye，觉得太好玩了。

不过很可怕的是昨天下午来了个日本人，那英语水平真是让我严重受打击！他跟一个美国人交流起来一点问题都没有，并且一口美语说的巨标准（有明显的把清辅音浊化的特点）；跟我扯了好半天电脑方面的东西，还好我懂一点电脑方面的知识，要不然从他嘴里迸出来的JavaScript什么的我都不知所云（还向我推荐Firefox浏览器跟我讲述Microsoft的Internet Explorer并不是最好的），总之是强啊，我还跟他讲Great Bell Temple（大钟寺）怎么走turn left turn right的，说得我舌头都绕不过来弯儿……

后来跟两个印度人说了一下餐券退款的事情，听见一个印度人打一喷嚏，我暗自想：原来打喷嚏不是用英语打出来的，还是跟Chinese一样的哦，不禁庆幸听懂了……

I've made up my mind to practise English from now on! (But still write my blog in Chinese:)
---
title: 一个普通的夏日早晨
date: '2005-07-03T21:37:00+08:00'
slug: 21-37-00
---

怎么说呢。


布谷鸟的叫声越来越响亮悠扬，随着还有乌鸦、喜鹊跟着哼哼，路上有好些小狗狗们在散步，想起“早起的鸟儿有虫吃”，但是狗狗们也不吃虫子为啥起这么早呢……


外面很凉快，蹬着小破车也不愿骑快，晃晃悠悠的，慢慢享受着清凉的夏日早晨，比起白天三四十度的气温，还有炎炎烈日，这一片刻也显得很难得了。


坐在办公室把门窗大开着，清风拂过，太舒服了，都不想回去那蒸笼般的宿舍。


~~~·~~~·~~~·~~~·~~~·~~~·~~~·~~~·~~~·~~~·~~~·~~~


看那东升旭日，渐渐的，也会燃烧地越来越炽烈吧……

<!--
嗯，一定会的，我心想。
-->
---
title: 我来说说CSS（顺便解释这只小鸟）
date: '2005-07-03'
slug: explain-css
---

所谓CSS，就是层叠样式表，我也不明白为啥叫“层叠”（cascading），反正CSS在网页里面是个很有用的东西，可以定义网页的样式，并且最方便之处是所有的页面都可以引用这个共同的样式表，可以节省网页的大小。因为它集中规定了一些样式，也就为网页省去了不少麻烦，比如我想让段落的字号大小为10px（像素），那么就可以在CSS文件中规定p{font-size:10px;}，这样一来的话，这个页面中只要是属于段落形式的文字，大小一律都是10px，而不需要再用""这样去一段段地标明了。

如果不懂HTML，那么CSS就可能有点看不懂，想把网页做好的话，一些基本的HTML标签（Label）还是应该懂一些的，比如p，table，div，img，hr，a等等，对于理解CSS的内容很有帮助。

一般说来，打开一个网页，用菜单“查看”-->“源文件”就可以看该网页的源代码（HTML），网页中所使用的技巧什么的都一览无余；对于CSS，它的位置一般在头部的""这句话中，href是CSS文件相对于网页文件的位置。

具体的知识上网搜一搜就明白了，最好是自己能用一用，我也没怎么上网看，只是自己拿着Dreamweaver琢磨了一下，差不多就明白了，还是比较容易的——只要知道CSS是用来定义样式的就可以了。

关于我的Blog，moon同学在问小鸟鼠标是怎么弄出来的，其实就是在CSS中Body的样式里面加上一句

```css
body {
  CURSOR: url('http://www.chinathink.net/background.ani');
}
```

就可以了，这句话的意思是定义Body（即正文）样式中鼠标CURSOR的样式，什么样式呢？就是使用`http://www.chinathink.net/background.ani`这个鼠标样式（是一个图片文件，准确地说是动画光标文件，也就是飞动的小鸟），说到这里，也顺便说说这里的CURSOR样式是完全自定义的，其实系统自带的也有好几种，比如手形的（hand）、十字形的（cross）、沙漏形（hourglass）的等等，具体用法跟前面一样，比如写“cursor: hand”，那么当鼠标在正文中移动时就始终是手形的，不信试试看：）

一般现在的博客提供商都有自定义样式的功能，BlogChina也一样，在控制面板里用“模板DIY”就可以了。总之CSS这东西靠听别人说也不会很明白的，还是自己试着做一做改一改吧：）Good Luck！

P.S. 最近Blogchina让人极度失望，服务器怎么搞得老是出问题，真是越来越不像话！！
---
title: 〖转载〗最美的女孩
date: '2005-07-04'
slug: beauty
---

我不喜欢转载文章，但是看到这一篇，又忍不住贴过来了。98年的事情，今天才看到，仍然感动，直至快要掉泪——也许是穷人的特别感触吧。穷，就会穷得真实、透明、单纯得让你彻底羞愧……什么叫苦……什么叫无私……什么叫美……我们，都没资格说。每念及此，都觉得这世上无所谓苦累，无所谓真实，无所谓美丽——我是说我们眼中所谓的苦累、真实与美丽。你为几个人作出了牺牲……你能作出多大的牺牲……你的存在，让多少人得到了幸福……

---

1998年8月24日，一场特殊的追悼会在山东加祥县后中庄举行。

死者申春玲是一位年仅16岁小姑娘，但她却享受了这个村最高的葬礼规格，她的三个哥哥穿上了为父母送葬才能穿上的孝衣。在灵柩前长跪不起，全村老少自发地佩带黑纱哭着为她送行——

然而有谁知道这位早逝的姑娘其实与这个家庭没有任何血缘关系，她只是一个连户口都没有的继女；在继父瘫痪，亲母亲离家出走后，她却勇敢地留了下来，用柔弱的双肩托起了四个大学生哥哥！

1994年6月，失去丈夫的春玲的母亲带着申春玲姐弟从山东范泽龙周集来到加祥县后申庄。春玲的继父申树平是一个木匠，为人忠老实。继父上有70多岁的二老，下有四个正在读书的儿子。其中大儿子申建国在西安交大读书，其它三个儿子在县里读高中。尽管家庭负担很重，但继父有一门高超的木工手艺，再加上一家人勤俭节约，生活过得比上不足比下有余。对于春玲母子三人的到来，继父全家都表现出极大的热情。或许因为家中没有女孩的缘故，爷爷、奶奶、继父都对小春玲疼爱有加，哥哥们更是亲热地叫她小玲铛。小春玲到继父家时，早已经过了上学的年龄，可是由于父亲去世，她只能失学在家。继父知道后二话不说，拿钱给她上了学。家里本来就有四个孩子上学，再加上小春玲，继父的肩上又增添了一份负担。好在继父勤快，农闲时间常跟镇上的建筑队外出施工赚些外快，总算能对付家里的支出。

小春玲非常珍惜这来之不易的上学机会，第一学期就考了个全年级第三名。除了学习，她还包下了部分家务活，一有空闲，就帮几个哥哥洗脏衣服，帮继父抬木头、拉锯，继父逢人就夸：我这辈子有福气，天上掉下个好女儿！

然而，快乐的时光转眼即逝，一场横祸从天而降。

1995外初夏，继父在一次施工队中从三楼摔了下来，瘫痪在床。一根大梁倒下了，整个家庭的经济来源断绝了，而且为给继父治病背上了沉重的债务。看着瘫在床上的病父，二哥申建军率先提出辍学，父亲坚决不同意，因为他和老三马上就要高考了，他的成绩在全校名列前茅。老三、老四也要求辍学，好挑起家庭的重担。

正在哥哥们相争不让、继父左右为难之时，小春玲却提出由自己辍学，帮妈妈支撑起这个家。继父流泪了，爷爷、奶奶也不停地抹泪。继父沉痛说：玲儿，爹对不住你，你的几个哥哥读了这么多年书，现在放弃可惜了，只能委屈你了——

三个哥哥也紧紧握住小妹的手，并在父亲床前共同许下诺言：不论以后谁考上大学小妹的这份恩情要加倍偿还。

可刚刚走出磨难的春玲母亲却承不住再一次的灾难打击。她从医生口中得知，丈夫很可能终身瘫痪在床，她对这个家彻底失去了信心，更惧怕自已挑起这副沉重的担子，决定带着小儿离家出走。任春玲如何哀求，如何劝止，母亲还是在继父受伤三个月后离开了危难的家。母亲走了，家里的支柱又断了一根，爷爷、奶奶成天抹泪，继父唉声叹气，哥哥们心中更是怕恐不安。家里又陷入一片泪雨纷飞中。村里的人们也好心地劝慰春玲：

“这里没有你任何亲人了，你也回范泽你姥姥家吧，要不，你会受一辈子苦的！”小春玲坚定地摇摇头：“不，我不能走，俺娘走了俺不能再丢下这个家。”小春玲把哥哥们叫到继父的床前，一字一句地保证道：“爹，娘走了，是娘没良心；我不会走，我要留下来陪你们共渡难关，从今天起，我就是你的亲生女儿。”这一年，申春玲年仅12岁。

## 【只要哥哥们有出息了，就是小妹有出息了】

小春玲说到做到，她包揽了家里所有的农活和家务，和真正的家庭妇女一样日出而作，日落而息，为整个家庭精打细算地过日了。小春玲知道，这个家要想好起来，首先得让继父好起来，所以，在繁忙的农活之余，她一刻也没有停止为继父治病。

1996年盛夏，由于天气炎热，继父的病情加重，小春玲决定带他去济宁市住院治疗。安顿好家里的事，她拉着板车上路了。80多公里的路程她足足走了两天一夜，走到目的地时，她的脚磨破了，肩也肿得老高。在医院为了节省住宿费，春玲住在医院的自行车棚里，看车的老大爷以为她是讨饭的乞丐，几次往外撵她。

小春玲只好实话实说，老人深受感动，不仅把她睡觉用的板车放在最里边还专门为她找了一顶蚊帐。

在春玲的精心照顾下，继父的病情得到了稳定，她又拉着继父走回了家乡。刚回到家就赶上了麦收。哥哥们都在上学，爷爷奶奶只能帮着做做饭或捆麦子，7亩多地的麦子只能靠春玲一个人。为了抢收，好连续几天都睡在地里，累得实在支撑不住了，就趴在麦跺上睡一会儿，醒来以后接着再割。

由于心急，再加上过度劳累，小春玲的嘴上起了水泡，手脚也磨出了血。她真有些支撑不住了，可剩下的两亩麦子怎么办？这些都是全家人的口粮啊！她急得禁不住在麦地里失声痛哭起来，哭声引来了乡亲们，大伙对她同情不已，七手八脚帮她割完了麦子。这次艰难的麦收，换来了全家的粮食，二哥在高考中也取得了巨大的丰收，他以优异的成绩被上海同济大学录取。手捧着二哥的录取通知书，小春玲似乎忘记了自已的劳累，高兴地跳着、喊着。望着又黑又瘦的小妹，落榜的三哥申建文不由地流下了伤心的泪水，自责地说：我对不起小妹，她为我们受了这么多苦，可我却——说着痛哭起来。

小春玲慌了，拉住三哥的手，劝道：“哥，今年考不上，明年再考，你别灰心！”

小妹的话让申建文更是惭愧不已，他表示不复读了，留在家里帮妹妹。春玲执意不肯，她哭着问三哥：我受苦受累不就是让你们好好上学吗?哥哥们有出息了，就是我有出息了，你怎么就想不通呢！三哥终于听从了妹妹了劝说，也决定复读，二哥去上海读书的日子越来越近。3000元的学杂费压得全家人喘不过气来。

无奈之际，小春玲想到了卖血。第一次去血站，因年龄太小，医生不给抽；第二次去，她虚报了年龄才被允许抽200CC血。当她拿到400元"营养费"时，脸上的愁容仍没有散去。她知道，这400元钱对于3000元的学费只不是杯水车薪。

于是，她第三天又一次来到血站。这一次，医生说什么都不给抽了。

情急之下，小春玲向医生下跪讲述了卖血的原因。医生沉默良久，才叹了口气说：好吧，就这一次，以后可别再来了；你还小正是长身体的时候。这位好心的医生象征性地给她抽了少量的血，并从自已的口袋里掏出钱，凑了700元钱给了小春玲。小春玲感动得直掉泪。

回到家，春玲如数把钱交给了继父，继父忙问她从哪来这么多钱。小春玲撒谎说是借的。细心的二哥却从她那苍白得没有一丝血色的脸上明白了一切。他抓住小妹的手看了又看，又从她兜里掏了两张卖血的收据，全家人都惊呆了！可是，这些钱还远远不够学费的一半，继父决定卖掉一块老宅地基，爷爷奶奶也决定把他们准备打寿棺的三棵大杨树卖掉。继父不同意，两位老人执意说：“小玲子为了咱这个家拼了命了，我们还要那棺材干啥。”

在全家人的努力下，二哥、三哥的学费总算凑齐了。为了让二哥申建军体体面面地去上大学，小春玲连续几个晚上没休息，给哥哥缝制了新棉被和新布鞋。监行前，春玲去车站送二哥，她说：“二哥，咱家虽穷，但有志气，你一定好好学习，别担心家里，

你在外面也别苦了自已，需要钱尽管来信给家里说，俺给你操办。”申建军再也忍不住了，他把小妹紧紧地搂在怀里，感动得泪流满面——

## 【你们可以忘了我，但不能忘了你们的妹妹】

哥哥们上学走了，小春玲开始盘算着怎么赚钱给继父治病，为哥哥们缴来年的学费。

起初，她也想着跟村里的女孩子们外出打工，可家里的三个老人没人照顾，她只能在家想办法。冥思苦想后，她决定种棉花到富。种棉花与种其它农作物不一样，管理起来不仅费事，而且喷洒农药也很危险，可小春玲却在心里盘算着一年下来种棉花大约可收入八九千元，就毫不犹豫地开始忙乎起来。她雄心勃勃地种起了棉花，可不久，鲁西南地区的棉花全部遭受到棉铃虫的袭击。这可急坏了小春玲，身材没有棉花高的她赶紧背着20多公斤重的药桶在棉田里喷洒农药。

她听人说，中午最热的时候，除虫最有效。她就挑中午阳光最强的时候打药，炙热的太阳晒得棉田像个大蒸笼，令她常常喘不过气来，她只好喷洒一行就出来呼吸一下新鲜空气。一天中午，由于药桶漏水，她中暑晕了过去，被村里人发现送了回去。醒来后，她不顾继父劝阻，又挣扎返回了棉田——

巴心巴肝的苦做终于换来了棉花大丰收，可由于当年棉花收购价太低，小春玲依然没能把攒到她计划的钱。聪明的她又动起了脑筋，什么赚钱她就干什么。

农闲时，她和别人一起收过槐米、柳条，也推销过草帽，黄豆。后来，她听人说泗水的苹果便宜，她又跟着村里的大伯去泗水贩水果。每天晚饭后拉着地排车上路，天亮时赶到苹果园，装上车就往回赶。壮年男子拉一排车，她也拉一地排车。在路上，别人都吃苹果解渴，她却一个也舍不得吃，连烂了点的也留下给继父，爷爷、奶奶吃，四哥申建华看到的仅14岁的妹妹如此艰辛，心中实在过意不去。他决定退学参军，留下来帮妹妹。

小春玲却很支持哥哥，她偷偷地劝慰哥哥道：“我最羡慕的是军人，留在家里又有什么出息呢？你放心去吧，家里的困难我能顶住。”

经不住小春玲的一再劝说，继父终于同意了。

四哥去部队那天，小春玲从口袋掏出一大把皱巴巴的零钱塞到哥哥手里：“哥哥，这是80多元钱，是俺省下来的，你留着零用，到部队后你好好干，争取当个军官回来。”申建华的眼睛湿润了。

1997年春节，是小春玲最快乐的一个春节。除了四哥在部队外，三个哥哥都回来了，并且三个哥哥都为小妹准备了新年礼物。大哥带给她的是一套新衣服，二哥送给了她一条红围巾，就连三哥也给她买了一盒美容霜。小春玲抱着礼物从里屋跑到外屋，不住地跳着笑着，此时的她又恢复了孩子的天性，那么天真活泼。

小春玲喜悦的神情让全家为之动容，继父的脸上也绽开了笑容。他把儿子们叫到床前，说：“你们三个哥哥做得对！玲玲太苦了，以后你们有了本事，可以忘了我，但不能忘了你们的小妹。”

## 我们永远爱着你──亲情小妹

在繁忙的农活中，春玲始终不忘给继父治病，一有希望，哪怕山高路远，她也带着继父去。苍天不负有心人，继父的病有了很大的好转，有时还可以拄着拐杖挪步。哥哥们也是学业有成。大哥申建国在完成本科学业后又考取了硕士研究生。

四哥申建华在部队入了党，并被提拔为班长。

1997年9月，三哥申建文高考顺利过关，被山东中医学院录取。

1998年3月，奶奶突然重病，临终前，老人紧紧抓住小春玲的手艰难地说：“玲儿，奶奶这辈子不亏，有你这么个好孙女，奶奶真舍不得人呀！”说着老人颤抖着从枕头底下摸出一个玉手镯递给春玲，春玲迟疑着没接。爷爷说：玲儿，这是奶奶原本留给你长嫂的，可奶奶想，这个手镯最该给你，你就满足了奶奶的心愿吧！春玲含泪接过了手镯，老人安详地闭上了眼睛。

奶奶去世后，四哥来信了，说他原准备考军校，可知道奶奶去世后，家里又用了不少钱，他决定放弃。春玲看了信，急了，她马上找人给哥哥去信劝说，并寄去了200元钱，让哥哥买学习资料。她说：“哥哥，考军校是你一辈子的大事，可千万别为了眼前的困难而耽误了一生啊！”就在春玲想着法了鼓励四哥时，出走了几年的母亲突然来信了，原来，母亲离家出走时就偷偷开了个假离婚证明，后来去了平阳县，找了一个做食品加工的老板做丈夫，生活还算可以。她从别人口中得知女儿这几年受的苦难，心里充满了愧疚。母亲来信想让女儿也去平阳县跟着她过，还允诺给小春玲找一个好婆家。读着母亲的信，春玲的眼泪夺眶而出，她恨母亲的无情，可那毕竟是自已的亲生母亲啊！她多想扑到母亲的怀里好好地哭一场，多想跟着母亲过一个正常女孩无忧的生活。可她怎能舍弃这个家，这个家虽穷，但且家人都是真心地疼她爱她啊！

善良的继父看出了她的忧悉，劝她道：“玲儿，你去找你娘吧，爹不怪你，咱家这么苦，会拖累你一辈子的，爹也于心不忍啊！”春玲咬了咬嘴唇，双膝跪在继父的床前：“爹，再大的苦俺都能吃，您可千万别赶俺走。”春玲让人代笔给母亲写了一封回信，拒绝了母亲的要求。

她一如既往地为这个家操持着。为了给四哥多筹点钱买学习资料，1998年8月的一天，小春玲又一次想到了卖血。在她的再三请求下，医生一次为她抽了300CC血，原本身体虚弱、营养不良的她此时更加虚弱。她强打起精神去邮局汇钱。

没想到，过马路时一恍惚，她被一辆满载着钢筋的大卡车挂倒，沉重的车轮从她身上轧过——

噩耗传来，爷爷承受不住打击，病倒在床上，继父四度昏厥过去。

三哥申建文是第一个知道消息赶到家的，他扑到在妹妹的遗体前，哭昏了过去。

二哥申建军接到电报后，在火车上两天没吃没喝，哭着从上海站着回到家乡。

远在西安的读研究生的大哥申建国闻讯失声痛哭，他实在抽不出空回家奔丧，流着泪为小妹发来唁电：亲情小妹，你用母亲般的胸怀挑起一个沉重的家；至爱小妹，你用脆弱的双肩撑起一片希望，我们永远爱着你——亲情小妹。

刚刚收到桂林陆军学院录取通知书的申建华同时收到了妹妹的噩耗，他当场晕倒在训练场上。他也匆忙赶回了家乡。

按当地的风俗，未成年的人死后不仅不能举行葬礼，就连祖宗的“老林”也不能入。

小春玲到继父家四年，除了改姓，连户口也没来得及报，所以，她还不能算村里的人。可村里的长辈们深深地被这个“亲情义女”的大仁大义感动，不仅破例为她举行了最高规格的葬礼，而且还在祖宗的“老林”为她选择了一块坟地。老人们流着泪说：这么好的闺女，死了再不能让她受屈了。

曾经采访过申春玲的山东省女作家刘红也赶来参加了葬礼，并为她撰写了祭文：

你，宛如山涧一朵野花，

你，又是天边的一抹云霞，

悄悄地来了，又悄悄地走了。

柔弱的双肩担起满腔挚情，幼小的心灵托起一个完整的家，年轻的岁月，本应如诗如画，如丝如缕，可是你的面前却堆满了太多的艰辛和沉重，一个毫无血缘的家，演绎出一番轰轰烈烈的真情；一个小小的你，虽不惊天地，泣鬼神，可又让许多天下人为这动情。

你走了，走得那么轻，那么轻，轻得像天边那朵云——

你留下的情又是那么重，那么重，重得像巍峨的泰山——

不是没个女孩都有自己的化妆品，也许她一生没见过也没触摸过！但是她是最美的女孩。

---

感动之余，也觉得这几个哥哥实在……哪像当哥的！怎能让这样的小妹独自一人养活你们四人和继父爷爷奶奶……

唉，不管这故事否真实，仍旧为这孩子慨叹，我们挣扎活一生，死时如果有这么多人为你哭那也很值了。
---
title: 我决心好好写东西了
date: '2005-07-04'
slug: serious-writing
---

今天下午在办公室遇到李静萍老师，对我说“你的文笔挺好的”，让我觉得受宠若惊，原来不只是一个老师在看我的Blog啊，顿时觉得压力颇大，决心要好好写东西，要尽量写一点有技术含量的东西（当然流水账也会照记不误），不能让这里的观众失望啊！

我大致想了想，以后Blog里面首先要写一些自己比较擅长并且对大家有用的东西，比如Knowledge about Computer & Web（其实早就想动笔写就是一直拖沓着）；然后呢，把我平时在学习上对各位老师以及课程的唠叨清理清理，看能不能挑点有用的东西出来讨论讨论；再次呢，就写点人物吧，目前只是写了赵老师和黄老师，还有几位老师一定要写上的，其实像李老师我上学期就大概写了写，只不过没有发在这儿而已；最后就是乱七八糟的所谓念念有词——恶习不改，对了，现在真的要考虑写写英文了，晚上赵老师还交给我一个任务，说有个澳大利亚人会打电话过来，让我应付一下，这几天总在对付老外，越来越觉得要好好练习英语。

暂时就想这么多吧。谨记差差同学的教导：不要太啰嗦（让我将受益终生的教导）。然后Fighting！嗯。
---
title: 也许是白努力
date: '2005-07-07'
slug: in-vain
---

记在前面：我只是说事情，希望有更高效的办法，并非发牢骚，也丝毫没有生气的意思，这一点要讲明白，否则有违我初衷。

做网页没关系，可以尽力去做。但是我们在做，学校为什么还要我们提交网站材料呢，好像学校也要组织人做，那为何又催得风急火燎的让我们把英文网页挂上去呢？我很佩服学校领导们，一级压一级，突然有个重大外事活动，然后先拍脑瓜，再拍桌子，你们各个院系赶快把英文网站挂上！然后就是我这样子了……

英文网站我一点意见也没有，甚至是大力支持，活到21世纪，连一点国际交流都没有那实在是很不像话，这几天我一直跟老外们打交道，所谈的不全是北京天气热之类的，也有中国的政治、经济，听听他们的观点，还是很能启发人的。

然而，我要说的不是英文网站错了，而是你们拍桌子错了，我生平最恨人临时抱佛脚，火落到脚背上才着急，这时候急是最不明智的，不如静心应付。以前在干什么？为何不注重自己的网络？只能说你们目光有问题，还竟敢骂我们的院领导。

我理解你们，很理解。请你们也理解我们这些可怜的下属，和我们共同努力让大家办事更高效些，不要重复劳动。仅此而已。不是我想偷懒，只是不要让我白努力，不要哪天突然对我说，你们的网页都删掉，换成学校统一做的网页。那……你们觉得该不该骂呢：）

其实，我完全可以忍受我的努力白白浪费掉。常常就是这样的，习惯了。我继续加油吧，希望明天可以交差。

最后说两句吧：傅雷说，我们的致命伤——中庸，苟且，小智小慧；而我觉得在学术圣地里，还应该加上“面子”，要务实啊，撑门面的事情还是少做为妙。教育，时刻要谨记社会责任感。也许鄙人人生阅历不够太狂妄自大吧。

---

又突然想起昨天我在我们东门口的大石头下面指着那四个字，对着我的这位老外朋友Elias解释这就是"To seek truth from facts"……
---
title: 春田花花幼稚园校歌
date: '2005-07-14T21:32:00+08:00'
slug: 21-32-00
---

我们是快乐的好儿童，

我们天天一起歌唱，

我们在学习，我们在成长，

我们是春天的花~~

我们是美丽的主人翁，

我们是社会的栋梁，

校长你好吗？老师你好吗？

我们天天问侯你~~ 
---
title: QQ、泡泡等IM工具的表情符
date: '2005-07-16'
slug: bye-emo
---

为什么“再见”都笑得那么灿烂呢？

嗯，今天刚发现原来这个表情符有时候很不符合实际的！

我真无聊……赶紧回去睡觉，明天接着想论文……
---
title: 介绍一下我的Blog
date: '2005-07-20'
slug: my-blogchina
---

首先呢，我这人做网页有个风格就是爱好简洁，简洁如果走到极端也就变成了呆板，所以以前差差同学说谢老师的Blog就“跟我们学院网站一样，白花花的”，估计是在批评我的网页太简陋，不漂亮，所以今天看见nnlibra同学留言说这个Blog很PP，就觉得很吃惊。不过有些地方我还是下了功夫的，也不能完全否定自己。

对于左边的“关于作者”和右边的“博客介绍”，我专门调整了图片的大小，让这两栏的底部基本平齐（还是有点不精确的不过没关系）；整个博客页面基本色是浅黄色，我可也是专门为了保护视力选择这种颜色的呀，因为想起高中初中使用的作业本的颜色就差不多是这种浅黄色，说是为了保护视力，不过我不知道在网上上使用这种颜色是不是也保护视力，呵呵。自己看着还行，对眼睛刺激不大。

一个网页页面应该讲究和谐，尤其是颜色（还有板块的大小），我的页面中使用的颜色种类算是比较少，如果够细心的话，可以看看这三者的颜色：“关于作者”那一栏的图片中文字的颜色、右边“摘要”上面小图标“”的颜色、左边框中滚动条上三角尖的颜色，它们的颜色基本是一致的。还有左边的滚动条，我把它们调整得若隐若现，看起来有一种透明的感觉，就是为了不凸显滚动条，因为毕竟它不是主角，若搞得灰不拉叽的（像整个页面的滚动条那样），就有点喧宾夺主了。

字体使用了Georgia，这个纯属个人爱好，我觉得这种字体在网页上比较好看，特别是数字，高高低低的，看起来很好玩。字体颜色呢，我不是用的纯黑色，而是稍微有点灰，也是为了减少对眼睛的刺激，让人看文章时觉得比较柔和、安静。还有页面上的链接我特别设置了一下，当鼠标指向链接时，文字就会向右下方略微移动一下，也显得活泼一点吧。整个页面的鼠标样式用了一只飞动的小鸟，其原因也是如此。

关于页面中比较大的图片，我也不是完完全全一幅图摆在那里，而是调整了CSS，一般都是用了边界渐隐的方法，也让图片不要显得太突兀。总之是要制造一个比较舒缓轻松的氛围。

还有些东西，就不想说了，都藏在Blog里面，呵呵，我一般不会在后台管理中把文章设为隐藏的，那是比较低级的隐藏手段，我不会用的。观察观察，还是有一些好玩的东西的，并且有些东西还是颇有纪念意义，比如Blog的标题Fighting，比如首页右边那朵花，比如有些文字。

---

注1：链接样式的代码如下——

```css
a:hover {
  position: relative;
  FONT-SIZE: 9pt; 
  COLOR: #B4B4B4; 
  TEXT-DECORATION: underline overline;
  left: 1px;
  top: 1px;
}
```

（因为位置是相对的，所以当鼠标在我的“俺滴友情Blog们”栏目里有连接的字上停留时，转动鼠标滚轮，有连接的字就会跟着鼠标跑；另外，hover的样式中有left和top的设置，当鼠标移上去时，文字会向右下方移动1px）

注2：若想在首页上加上那两只蝴蝶，按照如下操作——在后台管理“链接列表”-->任意一个列表“编辑”-->“描述：（选填）”，添加下面的代码（最好不要再添加别的文字）：

```html
<embed style="LEFT: 20px; POSITION: absolute; TOP: 0px" align="2" src="http://imgfree.21cn.com/free/flash/9.swf" width="940" height="210" type="application/x-shockwave-flash" ;="" quality="high" wmode="transparent" />
```

这里的width和height都可以自己调整。然后保存修改，更新首页，刷新一遍看看，应该就OK了！
---
title: 也谈博客网新版亮相——看法与意见
date: '2005-07-20'
slug: new-blogchina
---

今天时间不多，只是先写下一个比较粗略的提纲文字。

1、时刻要记得社会责任感。

无论如何改版，都不应该忘记一个网站的存在是要对社会负责的。现在的这个网络世界，越来越让我深深感到不安。垃圾文化泛滥成灾——网站首页上有吹捧的，尤其打开BBS、论坛、社区这些地方，看看那些热门帖子，已让人觉得不堪入目。网络现在日益成为一种强大的宣传工具，当你在发表你的言论、散布你的信息时，要知道这后面有多少双眼睛会看到，要知道你造成的影响。博客网，口号是成为博客第一门户，那么，更要注意你们的社会责任——抑恶扬善。不要单单只是为了吸引眼球而不顾你的影响，不要炒作——尤其是不要炒作！这一点我尤其反感。就算是热门话题，请你们加以引导或限制，有些东西就算大家“乐于讨论”，请考虑那些东西对社会（风气）是否会造成严重的后果，不要任由它泛滥。这个时代，就像你们所说，追求个性，追求自由，在我看来根本不是什么好事！极端的自由必然会造成自我毁灭。

2、博客网到底想干什么？——专一的方向

看看我们的博客网，现在在这个网络世界里不知伸出了多少只手。上次在公司参观，我看见墙上的发展规划，虽然看似宏伟，图片博客、音乐博客、娱乐博客、Email、IM、视频聊天、手机博客……昨日在中华世纪坛的发布会上又推出了电影博客、儿童博客……不知大家怎么看，反正在我看来，这样发展下去必然行不通！囊括了这么多内容，哪里还叫博客？我一向反对把别人所有的特长全都想揽在自己身上，那是做不到的——不是我这人没有理想、没有抱负、不能吃苦耐劳。别人的图片、音乐、电影、IM、Email都发展了多少年了？你这样泛泛地发展，你斗得过谁？我还是主张博客就是博客，不要把什么牌子都往自己身上挂。田忌和齐王赛马的启示还不够简单么？你总是拿自己的次等马去跟别人的优等马去比赛，赛得过么？专注于一项，这才是发展的出路——仅仅一项足以击垮对手。

3、可靠的基础设施和优秀的技术

可以看出，广大用户已经对博客网的基础设施稳定状况产生了极大的怀疑，还有那可怜的技术，每天无数的帖子在骂，你说他们都无理取闹么？当然不是。服务器三天两头出问题，后台每过一会儿就登不进去了，我们都看了无数遍那张哭丧的脸，已经忍受得够多了。还有你们的技术，我上次也提过建议，为什么不向别的博客网站学习？为什么不取人之长？用户反映了无数遍的技术问题和系统漏洞，总是迟迟不能解决。若是很难的技术那先暂且不论，可是在我看来有些东西很容易办到，稍微改一改代码就可以解决，为什么还是不能为我们做到呢？

CEO方兴东上次提到“细节”，我无可奈何，因为博客网的细节问题我能挑出一大筐，可能是跟我做了两年网站的经验有关。别的不说，举个很简单的例子，也是我上次在座谈会中提到的一个小的细节，虽然不重要，但是可以看出我们技术人员的细心程度（至少不如我吧）——大家可以回到首页看最底部的“Copyright?2003-2004 BlogChina.COM All rights reserved”，这一句话中在Copyright后面那个“？”本来应该是“©”符号的，可是却显示的只是问号，看了一下HTML代码，发现代码中也是问号，于是我猜测当初做网页的时候这个符号应该是从Word或者什么地方复制过来的，正确的HTML代码应该是“& copy;”（&和copy之间不应有空格，我这样写是因为博客网的文章编辑器有点问题，没办法），我想，网站制作人员不会连这点常识都没有吧。

服务器不稳定，技术漏洞太多。有愧于第一门户的称谓。当然，问题远不止我前面提到的这么一个符号问题，其实这个问题倒是可以忽略的，因为不是致命的问题。以后我再来一一列举技术问题吧——又要占用我宝贵的时间呀……博客网可能也会以为我要“造反”了，呵呵（我现在自称假造反派，不会真的造反的，放心好了，提意见是对博客网关爱，这一点你们要相信我）
---
title: 在博客网上，学统计的能做什么
date: '2005-07-21'
slug: stats-for-blogchina
---

正在修改学年论文，想着统计的应用问题，突然也想起BBS上那位翔宇同学所提的一个问题“统计到底能做些什么”，加上昨天黄国祥让我帮忙试着介绍一份工作给他（我脑子里面想的事情真多，不专心），于是想到这么一个问题。

学了三年统计，到底现在能干什么呢？其实实习的时候就在考虑，似乎有种无用武之地的感觉（略去“英雄”二字），我们学习了这么多方法理论，到哪里能用得上？我感觉真的比较高深的理论、比较精细的方法在实际中是很难用上的，可能也是因为我缺乏实际工作经验吧。

但是，这两天在博客网上混，发现其实还是有些地方可以用上我们学的一些简单的知识的。上次在博客网公司，客服中心总监叶秀敏师姐把我拉到一边，对我说可能有些统计方面的需要我帮忙，因为他们不大熟悉SPSS等统计软件的应用。不过我目前也没接触到他们公司里具体数据的分析，只是知道里面有这么一份工作而已。

当然不仅是数据分析，统计包括数据的收集、分析、表述和解释，所以，在数据的收集（例如问卷设计）、表述（例如用统计软件做图表）和解释（怎样合理地把数据给网民说清楚）等方面，仍然有需要我们统计人才的地方。

前几天看见博客网的[网上调查问卷](http://www.chinalabs.com/survey.1003.html)，被刺激了一下专业嗅觉，要是去挑毛病，肯定能找出来的。比如问题的顺序不太合理、Q12的打分题最好用直接填数字的方法而不要用顺序型数据，等等。

至于数据分析问题，那就有更广阔的天地了，看看[互联网实验室](http://www.chinalabs.com/)的网页，大量的数据让人头晕目眩，也正是我们研究的对象呀。

博客在中国还算是个Internet新生儿，所以我觉得对它做一下统计研究还是会很有意思的。不过赵老师昨天对我说，这些东西啊，不要老去吵它的社会、文化意义，那没多大价值，你们年轻人就爱吵吵闹闹，咱还是安下心来研究一下它对经济等各方面的实际贡献吧。嗯，很实在的建议啊。
---
title: 谢益辉其人
date: '2005-07-22'
slug: about-me
---

最近BBS上把我扯得一塌糊涂，正在愤愤中……

所谓谢益辉，不是上帝，不是你们的老大，叫我谢老师我也就忍了，叫我老谢我也认了，老就老点吧，咱不计较。虽然是巨蟹座的，但是谁说巨蟹座就适合学统计的？！那我还爱吃辣呢，是不是爱吃辣的就适合学统计啊……

所谓谢益辉，就是一个小人，无远大理想壮志的普通青年，不过还是在慢慢地向前爬。

所谓谢益辉，其实大部分时间还是很冷静的，不是什么什么狂热者，统计狂热者、VB狂热者、睡觉狂热者……都是瞎编的，或者缺乏历史唯物主义观的看法。谢益辉过去有段时间假装对VB狂热，因为觉得VB学不好；有段时间假装对数理统计狂热，因为数理统计心里没底；有段时间假装对实变函数狂热，因为上课我实在听不懂；有段时间假装对统计狂热，因为想到要考研了还有很多外校的统计强人咱拼不过；有段时间对睡觉狂热，那……那……才是真的狂热……天天睡到11点才起床……起床了就想往墙上撞……

不过话说回来，虽然是“假装”，但是也还真的对这些东西有些兴趣的，只是被你们给俺打了一个深深的烙印，唉，一帮极端主义分子。

谢益辉整天忙忙乎乎，可以随时找事做，不过也有时候可以没事做；当我没事做的时候呢，一般就会又有人来找我……

谢益辉略通网站制作，扛着统计学院和一些中心还有社团协会的网站，时不时还有一些别的网站，因此，虽然一直忙忙乎乎，但也能靠这些事情养活自己了，并且认识了一些人，抽屉里稀稀拉拉有几张Name Cards；想起来后天说是要去什么中国国际科学与和平促进会看看网站，就像从天上掉下来一件事一样……我的世界里总是会从天上掉下来一些事情，习惯了……不过我对自己在大学学了这门技术还是挺得意，到处都用得着。

呃……不扯了……没空瞎扯。

总之，谢益辉一向得意洋洋的，偶尔被打击一下，不过谢益辉喜欢从打击中找点有用的东西出来。人品大致没问题。有时帮人修修电脑。没事儿爱琢磨两个小问题什么的找点自信。我也知道我这人啰嗦，所以现在闭嘴了。

未完但不待续。（用了这么多“人”来帮我澄清谢益辉其人，不知够了没有）
---
title: CSS的应用——去除日志评论中的头像
date: '2005-07-22'
slug: css-hide-avatar
---

很简单，只是把这段代码添加到单篇文章的CSS中就搞定了。

```css
div.operation img{
  display:none;
}
```

这是利用了CSS样式继承的特点。由于评论前面的头像是处于层div（operation样式）中，于是img标签设置为不显示（display:none;）那么就可以把评论中的所有图片都隐藏了。现在的页面，没了手拉手，没了一大块一大块的头像，真是干净多了……
---
title: 作者已锁定该文，您没有权限浏览
date: '2005-07-22'
slug: secret-post
---

其实没什么，我故意写这么个标题的，因为我觉得人们普遍比较好奇。对不起哦。

呵呵，确实很无聊吧？（我准备好讨打了）
---
title: Another Rainy Day
date: '2005-07-23T20:59:00+08:00'
slug: 20-59-00
---

![](https://db.yihui.org/hexun/b_E62E238FD0556758.jpg)

Mental images of happy times would appear when silently sitting in the room...

Imaging that I, we, they, or all of us would be happy for good...

Sometimes it's just too naive whereas naive dreams are also precious...

Such a fresh day with raindrops falling and breeze blowing...

Ordinary as a trifle may be, sometimes it could remind you of something not trivial...

So it is with the rain today...
---
title: 谈谈英文网站的一个不规范之处
date: '2005-07-23'
slug: nonstandard-english-web
---

前两天浏览一些英文网站，一时心血来潮，想看看我们国内的一些所谓的大型英文网站怎么样，我专门选取了一个charset的“指标”来衡量（注1），先看看几个网站的meta部分（为了方便显示我在代码中加了一些适当的空格）——

People's Daily Online

```html
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
```

China Forum

```html
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
```

China Daily

```html
<META http-equiv="Content-Type" content="text/html; charset=gb2312" />
<META content="China News Business Information 中国日报" name="keywords" />
<META content="Chinadaily.com.cn is largest English portal in China, providing news, business info, BBS, learning materials and 中文国际新闻." name="description" />
```

再随便看一个国外的——

USATODAY.com

```html
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"/>
```

China Daily号称中国最大的英文门户，网站的keywords（关键词）和description（描述）中竟然还有中文字符，这是明显的不规范现象（注2），还有本文要说的字符集的问题，都是用的gb2312（简体中文），要是用英文操作系统来看的话，则可能会出现一些错误。人民日报的英文论坛也是同样的毛病，并且该论坛还有个问题就是英文字体用的是宋体，这一点也不恰当；不过人民日报英文版的字符集是对的。

在此没有贬低China Daily和人民日报的想法，但是我觉得至少可以看出，在国内缺乏比较合格的英文网站制作人才（我这种要求也有些苛刻）。或者说，我们的网站制作人员还需要多学点英文方面的网页知识。呵呵，说到这里，不禁又要嘲笑一次被我嘲笑了无数遍的中国的English Exams，考吧，考吧，看看有多大用处，看看培养出来的所谓的人才。考试观念亟待改革，这次的考试改革至少我不太看好。观念不变，形式再怎么变也是徒劳的，不过要改变中国人的“考试观”，难于上青天。

---

注1：所谓charset，顾名思义，就是字符集。不同语言的网站需要不同的字符集，否则可能出现乱码，比如英文网站要是用gb2312的字符集，则可能会出现有些字符显示不出来的情况（显示为“？”）。

注2：写到这里，突然想起杨柳同学，因为那次上调查技术课，她把我说得跟国家标准委员会的委员似的，心里怕怕的……
---
title: 一个令我迷惑的单词Virtual
date: '2005-07-23'
slug: virtual
---

我死活想不明白为什么这个词竟然可以有两种相反的意思，（1）虚的（2）实质的。

世界上哪有这种词呢？——集“虚实”于一身，二义兼而有之。以前就没想明白，今日再次遇见，又开始琢磨。

> Existing or resulting in essence or effect though not in actual fact, form, or name:
> 
> 实质上的，实际上的：虽然没有实际的事实、形式或名义，但在实际上或效果上存在或产生的：
> 
> e.g. the virtual extinction of the buffalo.
> 
> 例：野牛实际上已经绝迹
> 
> Existing in the mind, especially as a product of the imagination. Used in literary criticism of text.
> 
> 虚的，内心的：在头脑中存在的，尤指意想的产物。用于文学批评中

看到“用于文学批评中”稍微放心了一点，还好不是普遍应用的，要不然真的搞不清什么时候“虚”、什么时候“实”了。不过我想可能就跟以前马哲中说“必然是偶然的，偶然是必然的”这种道理差不多的，这里的“实”是一种无名之实，“虚”也是一种意象之实（说得我自己都迷糊了）。再加上这里的“虚”跟“实”大多数场合下不会冲突，也就是说我们一般遇到的意思还是“实”。看起来也似乎无大碍了。
---
title: 路过三环上的宜家
date: '2005-07-24'
slug: ikea
---

IKEA——宜家。原来是如此精深的翻译啊。

> “桃之夭夭，灼灼其华。之子于归，宜其室家。”

> --- 《诗经·周南·桃夭》
---
title: Dripping Water
date: '2005-07-25'
slug: dripping-water
---

Just as what I wrote in the former weblog, memories long ago would show up in your mind when sitting alone... I don't know why I find this piece of memory in retrospect... Anyway, the purpose of writing this weblog is just recording some English words here to help me learn them by heart.

---

longitudinal study

纵向研究

Each year the project will conduct an extensive survey of these 2,000 households and then, using standard longitudinal methods for retention, watch as the non-users become users and as the users become more advanced and comfortable users.

unprecedented 

adj.空前的

While television has had an unprecedented influence on American culture (witness the debate after the April 1999 Colorado school shootings), television has been primarily about entertainment and leisure.

dwarf

n.矮子, 侏儒
v.(使)变矮小（相形见绌就这么说）

Believing that the importance and influence of computer technology and the Internet will dwarf that of television, this is a project designed to do the important research that should have been conducted on television in the 1940s.

comprise

v.包含, 由...组成

The research plan calls for drawing a truly random and representative American sample comprising computer and Internet users and non-users as they are accounted for in the national population.

compel

vt.强迫, 迫使

Then we will learn what compels many of them to become users and how their already-established patterns of media use, child-rearing policies, economic and political behavior and other activities change.

retail store

零售店

Can small retail stores compete with Internet business?
---
title: 最后一次啰嗦——博客网的技术问题，加油
date: '2005-07-27'
slug: last-comments-blogchina
---

不知道博客网到底给自己什么样的定位，不要吹什么“门户”，这种帽子还是别人（比如这千万个用户）给你戴上比较合适，不要自己抓着往自己头上扣。上次和讯CEO谢文在博客网发布会上言辞比较激烈，我们听着很过瘾，后来想了想他说的有些地方还是有点过火的，但是我更觉得博客网应该把心胸方开阔一些，多接受别人的意见。至少，不可以忽视这么多用户的意见，我还是在上次座谈会上的话：取人之长；用户至上。这事我提出的一个“空泛”的总体原则。下面就开始兴师问罪，一一列举罪状，你们听好了——

## Logout毫无安全性可言，只是一个普通的Redirect而已

此话怎讲？当用户点击“注销”时基本上是把网页重新定向到博客网首页，而不是把Cookie清除了，多么可笑的安全问题！不信你们注销之后再点击“后退”到你的后台界面，然后随便进行操作，照样可以畅通无阻！！！充分说明这个“注销”有多么差劲！难道技术人员连清除Cookie的程序都不会写？！笑话……

## 翻页功能迟迟不能实现

博客网改版，把这个功能给去掉了，让人真是很生气，首页上的文章看到最底下了，本应习惯性地点击“下一页”，可是堂堂的博客门户网，竟然连翻页功能都做不出，你们说是不是很差劲？随便看看哪个博客提供商，有谁到现在还跟博客网一样，没有翻页功能的？号称门户，害不害羞啊？还有，后台文章列表也没有翻页功能，这个在程序中很难实现么？好像也不是！那我只好下结论，你们技术人员该下台了，重新招聘吧。

## 单篇文章顶部留出大段空白，为什么呢？

看看单篇文章的源代码，就会发现每篇文章的开头都有“`&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;`”这样好长一段代码（HTML符号，表示空格），多此一举，明显垃圾代码。我要这么多空格干什么？徒增文件大小！你们嫌服务器空间太大了是吧？尤其一个大公司（或企业），就应该在细处着手，因为这样的累积效应会很大，你每篇Blog节约一点大小，那么将会为你的服务器减小很大的负担！明白？

## Tag令人生厌，搜索结果大多都与原文不搭配！相关度太低。

看看CTO的简历，还是蛮吓人的，什么什么搜索算法的设计者，云云，我不想说什么，你们自己看看Tag搜索的相关度吧……这个问题很多用户都反映了，我不知道这所谓的算法是如何设计的，比百度、Google优越在哪里，我不懂算法，我只懂实践检验理论。我不想要博客手拉手，所以我只好用低级的办法（修CSS）把它隐藏掉……

## 索引太低级，明细度太差

不能按照月份或者单独按照栏目列出索引，只有那么一个简单的页面。并且索引页中最好加上文章的浏览次数和回复条数！还是那句话，你们看看现在的博客提供商，有哪家跟你们博客网这样，索引做得这么弱智！只有一个年度总索引？拜托，如果你那个页面也能称之为索引页的话，那我们档案学院的同学都不用再上学了，随便找个人都能把所有文章的标题拿出来放在一个页面中，所以请你们不要搞笑了，做出真正的索引给我们看吧！

模板设置没有考虑到不同显示器的分辨率，在800*600分辨率下就很难看。（怎么这点基本常识都没有呢？）
这个问题已经有人开始反映了，你们有没有真正考虑用户？不要以为提供给我们一块贫瘠的土地就把人打发了，不是我得寸进尺，是你们缺乏做网页的基本素质。

## 页面更新速度太慢，例如留言、评论不能及时显示出来等

慢！就一个字，我不知道为什么别人可以快，你们号称门户却这么慢。你们自己想想吧。

## 上传文件类型限制太死，根本没有必要

用户可以自己更改文件名再上传，我把wmv、mp3的文件名改为jpg，照样可以达到上传的目的，告诉别人下载之后更改文件名，你们把我有什么办法么？所以这种限制形同虚设。连一些基本的音频视频文件都不能上传，说不过去。方总说，这里有版权的问题，这个你可以在博客注册条款里说清楚，有问题博客网不负责，用户自己承担责任。不是理由。

## 评论前面加上头像实在是让人无法忍受。页面整个旧乱七八糟的。

还好，已经被我解决掉了。我很好奇你们对网页的审美观。一个页面上横七竖八的贴几大块“膏药”，很好看吧？

## 服务器极度不稳定！！！一天出好几次问题登陆不进去

基础设施不行，怎么号称门户？请问，你什么时候见过新浪、搜狐、网易上不去了？见过么？！

## 博客空间太小

既然图片博客给了2G空间，为什么文字博客只有50M空间？搞不懂你们怎么想的！

你们空间既然这么“富余”，可以容许2G的图片空间，为什么文字博客只给50M，1/40的比例，想不通……

## “在线留言”里面那段Script根本不起作用

还有评论里面的Script也是这样

```html
<script>
if(getCookie(' userID ') == null) document.write(' <h6 class=" name ">·昵　称：<h6 /><input name=" note.authorNameFUI " type=" text " class=" guestbookName " id=" userName " size=" 10 " maxlength="16"  value=" 请输入用户名"> ');
else document.write('　　　　');
</script>
```

即使Cookie里面userID不为空，那么仍然显示需要输入用户名！但是登陆后即使输入用户名也不会显示你输入的用户名，而是显示登陆者。那么请问那段脚本代码的意义何在？碍手碍脚的！根本不能达到目的！这里的想法是好的——如果用户登录了，那么就不用再输入用户名了（不显示登录框）；否则，显示一个登录框，让你填写用户名。

## 博客网所使用的后台文章编辑器也是问题多多

比如：对于图片，非要加上 `onload="javascript: img_auto_size(this,450,true);"` 这样一段代码，我知道是为了调整图片大小，但是完全可以让用户自己随心所欲调整，干嘛要多此一举？还有，当用户再次切换到HTML界面时，图片中就会出现这样的代码：

```js
onload="function anonymous()
{
img_auto_size(this,450,true);
}"
```

多切换几次，这段代码会不断重复出现，嵌套一层又一层，不明显就是冗余代码么？

这个编辑器很不科学，对于一个空的段落，其代码应该是 `<p>&nbsp;</p>`，而这个编辑器的空段落却是 `<p><p/>`，这样根本不能在页面上显示出来的！所以，我要是想在两段落之间留出一个空隙，用回车的办法是不可能的。我建议技术人员好好看看Dreamweaver吧！

还有，这个后台编辑器对于HTML源代码的处理效果相当差！一些源代码放在里面很容易就显示成了HTML对象，这也是个很大的漏洞！比如像`&copy`这样的字符就很容易给你自动转化为"©"。这也是为什么我要在前文章里面涉及到源代码的地方在一些字符后面或前面添加一个空格，就是为了防止系统给我自动转换掉。

## “预览”按钮从来就是灰色的(disabled)

不知放在那儿干嘛的，从来就没见它能用过。

## 表情符可以考虑参照别的Blog提供商，种类还是少了点

不过这倒不是关键问题。（泡泡表情的种类不全）其实我觉得应该也很容易解决啊，在服务器上多放一些表情符嘛！很难么？当然不难！

看看博客首页的底部，连一个“©”字符都显示不出来，而显示的是问号，这像什么话？谁干的？拖出来打！！

注意充分保护用户的隐私，包括注册ID，首页上干嘛非要显示注册的用户名呢？如果你们真是为用户着想，那么就只能显示笔名！因为笔名才是用户愿意公开用的！而不要显示别的信息。

## 发布文章应该仍旧像以前一样，在新窗口中进行，因为有时发不出去

我怀疑博客网是不是换工程师了，现在的工程师不如以前的细致。不就是加上一句代码："target="_blank"么？很难么？不难！

## “评论内容”那个框中为什么有一大串空格？

去掉不是很容易么？（设置textarea的值就可以了）偏要放那儿给网站增加负担！“主页”框中“`HTTP://`”请小写，问题不大，但是反映出你们的认真程度，你们上网时在地址栏中输入的是大写字母么？我想也不是吧。

## CSS请你们做的人性化一点好不好？

虽然我在CSS方面没有问题，但是我想大部分用户应该不明白何谓CSS吧？他们不会修改代码的！有一部分CSS能实现的功能，请你们以图形界面显示出来，让用户可以选择调整自己的页面。不要把一大堆代码交给用户，说实话这些代码我看着都很头大！

## 博客栏目竟然不可排序！

我记得在博客网改版之前，我们自己的博客栏目是可以设置一个数字决定栏目的显示顺序的，现在没有了这个功能。我想调整栏目的顺序也没办法调整了。唉。忍了。

## 日历就是一个摆设！

告诉我这个日历有什么用？！也是在博客网改版之前，日历还是很不错的，可以随便点击一天就可以看那天发表的Blog，而现在呢，随便点击一个带有链接的数字，显示出来的就是那个傻乎乎的大索引页面。还有，改版后，日历的翻页功能消失了，我不能翻到上个月或者前一年某一天了，请你们睁大眼睛看看，现在哪家博客提供商还有这么傻的日历？！还我日历索引功能！！！改良改良，越改越凉，冰凉！

## 头像问题——更换头像太难！

不要以“缓存”为由推脱责任，你们技术人员在干嘛？为什么更换头像这么困难？为什么删除的头像还在服务器上？就忽悠我们吧！还有，凭什么博客的头像和跟别人留言时显示的头像必须是一样的？一般来说，博客头像会比较大，而留言的头像小一点比较好，否则一大块一大块，尺寸不统一，颜色不统一，乱七八糟，实在难看！幸亏我也懂CSS把它隐藏掉了。你们口口声声说显示头像的目的是为了方便找到别人的博客，因为上面有链接，完全是瞎扯，以前的博客评论后面也会有一个小图标，上面照样有链接，同样可以点击之后到别人的博客上去，并且小图标就整齐好看多了！

## 计数器不限制IP，可以恶意刷新

呵呵，我这人比较懒，也不太在乎我的博客访问量，否则我可以开着Maxthon浏览器，然后打开好几个我的博客页面，然后使用自动刷新功能，估计一天之内把我的浏览量提升到十万八万的是没问题的。而你们就不知道通过限制IP和访问时间的手段来防止恶意刷新，当然不仅如此，你们的计数器太简陋了（访问一次就记录一次），这也导致统计数据不准确。

## 文章不可以备份

在页面上增加一个“保存”的按钮，把博客存为文本文件或是其他文件格式，是一件很困难的事么？当然也不是。备份功能都没有，我们写东西写得提心吊胆，你们这么差的服务器，指不定哪天崩了，我们的心血就没了。到时候我们找谁去哭？

## 关于用户信息里面的地址格式

谁告诉你们地址格式必须是“XXX-XXX”这种的？为什么要这么死板？

## 后台文章列表缺少“全选”的复选框

这种功能更是简单吧？一段脚本就可以搞定了。每次我想更新发布所有文章时，都必须先选择显示“所有”文章，然后几十篇文章挨个点击选中，然后才能更新，麻不麻烦啊？要是有了几百篇文章，我的鼠标非点废了不可！

## 有关更新发布首页、索引页等

真是笑话，当你删除一篇文章或者新增了链接列表之后，就会出现一个按钮让你点击了更新发布首页或者索引页，我不知道为什么还要多这么一步，你们怎么就不能在代码中写进去自己更新呢？非要我们点击一下……点击的时候也提心吊胆的——因为很怕看见那个哭丧着脸的小人儿告诉我们系统错误。

## 推出新功能不问用户，不进行“民意调查”

看看什么博客秀，什么手拉手，什么评论前面的头像，推出之后遭到多么强烈的抵制！

## 关于“屏蔽词汇”

这个上次在座谈会上提到过，大家可以看 <http://bbs.bokee.com/p726600.html>，在网页中部，看看卢亮是怎么说的吧，我想大家会觉得好笑的。

懒得说这件事，因为会涉及到一些比较尖锐的话题。至少，靠计算机系统肯定是无法屏蔽一些词汇的，大家一定能想出各种办法来对付，比如在词语中加入空格或者"*"等手段，你们以为计算机有多聪明呢？再者，国家有没有出台法律或者政策说清楚屏蔽词汇是哪些？你们的依据在哪里？竟然说“不是自己做的”，能服人么？这叫什么理由？

不知道我说完了没，总之，还是力劝博客网不要搞些花哨的功能，多学习别人的博客的优点，那些技术应该不会困难的，多多取人之长！强烈建议你们用一个小组专门负责观察收集对手的强项用在自己身上，这样才能加强自己的竞争力！还有，毕竟是在发展初期，老实点踏踏实实做事比较好，不要还没开始就在想商业化，走不通的。

今天看见连上次参加座谈会的太阳雨88都离开了博客网去了和讯的博客，我觉得，你们是不是该反思了呢？是不是该反省了呢？！为滕叔叔搬家而默哀……

——我最后一次提技术问题，博客网。至于听不听，我无权干涉，但我有权“造反”。张五常说：“如果99%的经济学论文没有发表，世界照样会发展成现在这个样子。”所以我不想再多说什么了。
---
title: 懒人如何判断二元函数的单调性
date: '2005-07-28T20:54:00+08:00'
slug: 20-54-00
---

晚上陈淼同学问我一个关于二元函数单调性的问题，最近我也没有准备复习考研，所以数学分析也没看，脑子里没有一点数学思维了。拿起题目一看，有些傻眼，不知该咋个整。函数是这样的：

$$f(d,u)={1/(d-u)-(\log(d/u))*u/(d-u)^2},\quad d\in(0.5,1),\,u\in(0,0.5)$$

目的是想知道f什么时候取最小值，我在S-Plus中实现的步骤如下（注意，我的S-Plus是自己设置过的，这里的":)"就是一般见到的">"表示另一段完整的程序语句开始，而"^^"就是一般的"+"表示续行，我只不过觉得S-Plus默认的不好玩，所以这样设置了一下——题外话）：


```r
:) d_seq(0.51,1,0.01)
:) u_seq(0,0.49,0.01)
:) f_function(d,u)
^^ {1/(d-u)-(log(d/u))*u/(d-u)^2}
:) d_seq(0.51,1,0.01)
:) u_seq(0,0.49,0.01)
:) persp(d,u,outer(d,u,FUN="f"),"d","u","f")
```

注意看我对d和u的设置，把定义域稍微缩小了一点点，原因是d和u的定义域都不包括边界，另一个目的是因为后面用到outer函数时可能会涉及到d-u可能等于0的问题（不可作分母），所以我去掉了边界0.5。上面的f是一个自定义函数没什么好说的，关键在于两个函数outer和persp，我长话短说吧，具体说明自己看文章最后的英文：）outer的作用是把两个向量的元素依次**遍历**使用FUN函数作用得到一个新的数组（或者矩阵），因此，其元素个数就是两个向量的长度（元素个数）之积。注意理解什么叫遍历！其实就类似于一个二重循环。persp的作用在于作出三维图，三个参数依次使用x,y,z坐标，要注意的是z坐标比较特殊，**z[i,j]是与x[i]和y[j]对应的**；现在再回过头去理解一下outer函数的意义所在吧。


不知道是否说清楚了，输出图形如下：


![函数图形](https://db.yihui.org/images/f2-mono.png)

很容易就知道，当d和u分别尽量大时，f值会尽量小，同时单调性也显而易见。至于严格证明，我懒得花时间证了，思路就是固定一个变量，然后用作差法看单调性，应该没问题的（高中数学问题）。


附：下面是对outer函数和persp函数的详细说明——

```
**Outer**

**DESCRIPTION**


Performs an outer product operation given two arrays (or vectors) and, optionally, a function.


**USAGE**


outer(X, Y, FUN="*", ...)


X %o% Y #operator form


**REQUIRED ARGUMENTS**


X,Y　　　first and second arguments to the function FUN. Missing values (NAs) are allowed if FUN accepts them.


**OPTIONAL ARGUMENTS**


FUN　　　an S-PLUS function that takes at least two vectors as arguments and returns a single value. This may also be a character string giving the name of such a function.
　　　...　　　other arguments to FUN, if needed.  The names of the arguments, if any, should be those meaningful to FUN.


**VALUE**


array, whose dimension vector is the concatenation of the dimension vectors of X and Y, and such that FUN(X[i,j,k,...], Y[a,b,c,...]) is the value of the [i,j,k,...,a,b,c,...] element. (Vectors are considered to be one-dimensional arrays.)


**DETAILS**


outer forms two arrays corresponding to the data in X and Y, each of which has a dim attribute formed by concatenating the dim attributes of X and Y. It then calls FUN just once with these two arrays as arguments. Therefore, FUN should be a function that operates elementwise on vectors or arrays and expects (at least) two arguments.


**SEE ALSO**


crossprod, Matrix-product.


**EXAMPLES**


z <- x %o% y   # The outer product array


# dim(z) == c(dim(as.array(x)), dim(as.array(y)))


# simulate a two-way table


outer(c(3.1, 4.5, 2.8, 5.2), c(2.7, 3.1, 2.8),"+") + matrix(rnorm(12), nrow=4)


z <- outer(months, years, paste) # All month, year combinations pasted.


 


**Persp**


**DESCRIPTION**


Creates a perspective plot given a matrix that represents heights on an evenly spaced grid. Axes and/or a box may be placed on the plot.


**USAGE**


persp(x, y, z, xlab = "X", ylab = "Y", zlab = "Z", axes = T, 
      box = T, eye = <<SEE below="" />>, zlim = <<SEE below="" />>, ar = 1)


**REQUIRED ARGUMENTS**


x　　　vector containing x coordinates of the grid over  which  z is evaluated. The values should be in sorted order; missing values are not accepted.
y　　　vector of grid y coordinates. The values should be in sorted order; missing values are not accepted.
z　　　matrix of size length(x) by length(y) giving  the  surface height  at grid points, i.e., z[i,j] is evaluated at x[i], y[j].  The rows of z are indexed by x, and the columns  by y.  Missing values (NAs) are allowed, but should generally not occur in the convex hull of the non-missing values.


The first argument may be a list with components x, y, and z. In particular, the result of interp is suitable.


If the first argument is a matrix, it is assumed to be the z matrix and vectors x and y are generated (x is 1:nrow(z), y is 1:ncol(z)).   The result of 
predict together with expand.grid is suitable as an argument to persp.


**OPTIONAL ARGUMENTS**


xlab　　　character label for the x axis.
ylab　　　character label for the y axis.
zlab　　　character label for the z axis.
eye　　　vector giving the x,y,z coordinates for the viewpoint. The default is c(-6, -8, 5) times the range of the x, y, and z values.
axes　　　logical flag: should axes be drawn around the surface?
box　　　logical flag: should a box be drawn around the surface?


zlim　　　vector of the desired minimum and maximum z axis values.  The default is the range(z, na.rm=T).  This range will be expanded to round numbers.  The values in the input matrix z will be truncated to the z axis limits.
ar　　　aspect ratio for plotting the x,y grid, i.e., (xmax-xmin)/(ymax-ymin).



Graphical parameters may also be supplied as arguments to this function (see par).


**NOTE**


persp assumes that the grid vectors x and y are increasing and evenly spaced.  If this is not true, suppress the axes with axes=F or use par commands to customize the axes.


**VALUE**


invisible list containing information about what was plotted.


rotation　　　integer flag between 1 and 4 describing the point of view based on which corner of the xy plane appears closest to the viewer.
proj　　　2 by 2 by 2 array describing the projection of vectors that span the data.
rangex　　　vector giving the min and max values for x.
rangey　　　vector giving the min and max values for y.
rangez　　　vector giving the min and max values for z.


**SIDE EFFECTS**


a perspective plot is created on the current graphics device.


**DETAILS**


Use persp.setup to change the color, line width and line type of the perspective lines.  Use the perspp function to add information to a perspective plot.


**BUGS**


For some plots (including the case where mfrow or mfcol is bigger than c(2,2)) parts of the axes are cut off.  You can solve this problem either by putting up fewer figures on the page, changing the perspective angle with the eye argument, or by expanding the margin in which the cut off occurs.


Lines with an endpoint outside the plot may not be drawn.


**SEE ALSO**


contour, expand.grid, image, interp, outer, par, persp.setup, perspp, predict.


**EXAMPLES**


#Example 1, a polynomial


poly1 <-function(x, y){x^2 + x * y + y^2}
y <- x <- seq(-25, 25, length = 50)
persp(x,y, outer(x,y, FUN =  poly1))


#Example 2, data at geographic points
i <- interp(ozone.xy$x,ozone.xy$y,ozone.median)
persp(i, xlab = "Longitude", ylab = "Latitude", zlab = "Ozone")
title(main = "Median Ozone Concentrations in the North East")


#Example 3, first argument is a matrix
persp(switzerland)


#Example 4, a smooth surface
int.ak <- interp(akima.x, akima.y, akima.z)
r.ak <- sapply(int.ak, function(x) diff(range(x,na.rm = T)))


par(mfrow = c(2,2), oma = c(0,0,5,0))
persp(int.ak)
persp(int.ak, eye = c(6,-8,5)*r.ak)
persp(int.ak, eye = c(6,8,5)*r.ak)
persp(int.ak, eye = c(-6,8,5)*r.ak)
mtext(outer = T, side = 3, line = 2, "WAVEFORM DISTORTION", cex = 1.5)


par(mfrow = c(1,1))
persp(int.ak, eye = c(6,8,5)*r.ak)
title(main = "WAVEFORM DISTORTION")
```
---
title: 强者·境界·智慧
date: '2005-07-29T20:52:00+08:00'
slug: 20-52-00
---

> （王国维《人间词话》）**境界**有大小，不以是而分优劣。“细雨鱼儿出，微风燕子斜（1）”何遽不若“落日照大旗，马鸣风萧萧（2）”。“宝帘闲挂小银钩（3）”何遽不若“雾失楼台，月迷津渡（4）”也。

> 注释：

> （1）杜甫【水槛遣心二首】之一：“去郭轩楹敞，无村眺望赊。澄江平少岸，幽树晚多花。细雨鱼儿出，微风燕子斜。城中十万户，此地两三家。”

> （2）杜甫【后出塞五首】之一：“朝进东门营，暮上河阳桥。落日照大旗，马鸣风萧萧。平沙列万幕，部伍各见招。中天悬明月，令严夜寂寥。悲笳数声动，壮士惨不骄。借问大将谁，恐是霍嫖姚。”

> （3）秦观【浣溪沙】：“漠漠轻寒上小楼，晓阴无赖似穷秋，淡烟流水画屏幽。自在飞花轻似梦，无边丝雨细如愁，宝帘闲挂小银钩。”

> （4）秦观【踏沙行】：“雾失楼台，月迷津渡，桃源望断无寻处。可堪孤馆闭春寒，杜鹃声里斜阳暮。驿寄梅花，鱼传尺素，砌成此恨无重数。郴江幸自绕郴山，为谁流下潇湘去？”

境界有大小，不以是而分优劣——触动了我脑中的一种平等观念（或是一种哲学观吧）。王国维的“境界观”与我素来的一种想法是一样的，那就是天下智慧无高下之分，因而无所谓强者弱者。世人皆有其独特之处——长处与短处，应该客观承认，当然也要取长补短，但是要摆正心态，否则只是为“爱智慧”而“爱智慧”，只会徒增烦恼，可谓“庸人”矣。退而言之，强者只不过是一个相对的概念，咬牙奋斗一生，也未必能成为所有人眼中的强者。


非我无斗志，只不过我不想成为造原子弹的专家，可能也成不了外交部长，甚至不会成什么所谓的大器；但我追求自由，有我的生存方式，有我值得骄傲的能力，有我的朴素的哲学，我给别人足够的尊重和信心让他们活得轻松一些，我认为人就应该平等相处，活得轻松、快乐、幸福；但是就因为人又太“聪明”并常常苦苦追求别人“更大的聪明”，于是常常自卑不已，也许这就叫“聪明累”，累到尽头，还不只是为何而累，悲哉……当然我也会很努力地前进，不会因为我在脑中“消灭”了“强者”而止步不前；因为很多地方还是需要“强”的。聪明智慧，是为了更好的生活，为自己，也为别人。


戴着镣铐跳舞，本来就是很正常的生活。镣铐，对于我，并不是负担，就像强者对于我来说不是很大的压力一样。


因为我心中的这种“平等”，于是我的生活无忧无虑，我狂而不妄。


不过，这种状况，如今已经有些改变，这篇文字，应该算是一篇祭文。
---
title: 计划从今在此介绍和研究S-Plus
date: '2005-07-30'
slug: s-plus
---

在网上看见几句气势恢宏的话——

> S语言的出现，永久性地改变了人们分析数据，可视化数据和操纵数据(manipulate)的方式。

> 但是S语言的开放者坚持认为统计并不是S语言自身的一部分，S是一个用于数据分析和作图的计算语言和环境。

> The goal of S language is: to turn ideas into software, quickly and faithfully.

在把idea转换成程序的时候，是一个具有挑战性的工作，也会给你带来满足感。同时，这个过程能够促使你理清自己的思路。

在我动笔之前，先郑重声明，我不是什么XXXX狂热者！
---
title: SPSS 11.5与Excel相比功能上的缺陷
date: '2005-08-03'
slug: spss-vs-excel
---

这两天用SPSS作统计分析，顺便把它和Excel对比了一下，发现几个小问题。

## 使用公式计算时的缺陷

SPSS计算时需要用到“Compute”菜单，键盘、鼠标输入麻烦暂且不说，主要是输入的计算公式不易修改，如果发现计算公式有误，那么只能删除计算结果列，重新点菜单输入公式再次计算。

Excel在公式处理方面就方便多了，只要在一个单元各种输入公式，然后用鼠标双击单元格右下方的小黑块，该行以下所有有数据的行就都会自动填充公式，并且Excel在输入公式方面比SPSS方便，想引用某个单元格时，只需用鼠标点击该单元格就可以了（Excel就会自动为你填写单元格名称），最大的好处就在于当发现公式有误时，只需在第一行中修改公式，然后重新双击那个小黑块，下面所有单元格中的公式就随之更改了，而不用删除这一列重新。还有，使用function的时候，Excel可以引导你填写公式，不容易出现例如公式形式、参数位置填写错误等情况，这一系列操作均可以用鼠标点击完成。而SPSS在写公式时，总让人感觉战战兢兢，怕出现格式不对等问题。

## 单元格选择的缺陷

当选中SPSS数据表中同一列的几行单元格之后，若想再一并选中其同行右列或者左列的数据，那就是不可能的了，只能放弃选择，然后重新拿起鼠标拖动选择；所以当你拖着鼠标选了很长一列数据之后不小心放开了鼠标，而又想选择旁边列的数据，这时候就直想撞墙。

而Office的选择方式则是多种多样的，有Shift、Ctrl键的辅助，还可以用Home、End、Page Up、Page Down、Up Arrow、Down Arrow、Left Arrow、Right Arrow这些键来扩展选择，十分方便，上面SPSS的问题就可以用Shift+Left/Right Arrow的办法来解决。

还有一点我很惊异的是SPSS竟然没有“全选”（Ctrl+A）的功能，太诧异了……我的鼠标从桌上拖到地上去了都还没把数据选完，FT！

## 没有查找/替换功能

SPSS这一点缺陷我今天刚发现，很是吃惊，刚开始我就硬着头皮查找，找到之后自己动手更改数据，后来发现实在太多了，很麻烦，于是还是到Excel中用查找/替换的方法搞定了；并且SPSS的查找功能本身也很差！竟然没有“全字匹配”的功能，于是我吃了第二惊；比如我想查找“福建”，结果“福建省”它也给我找出来，实在是让我头疼，只好换用Excel。

当然，作为统计软件，SPSS总体说来还是比Excel强的，Excel毕竟不是专业统计软件，昨天也发现它的一个问题，那就是Excel对于字符串（文本）数据无法作频数统计，这一点不太好，不过可以自己编程序（VBA）解决，但也有些麻烦。顺便说一句，个人还是比较喜欢Excel的VBA的，比较灵活，基本可以随心所欲地操作数据。
---
title: 脚踏实地做事情很不容易
date: '2005-08-04'
slug: do-it-for-real
---

平日里瞎吵吵嚷嚷，发现真的落到实处来做事情却不是一件很容易的事，吾辈翅膀还是太嫩了点。今日作一个简单的箱线图都费了这么大工夫，还竟然一时间没能想起outlier的意思，瞧我这英文没落成什么样儿了……

还是要谨记差差的教诲，踏踏实实做事情，不要废话连篇只是耍嘴皮子工夫。我觉得差差同学其实是个很好的老师。

今天咋这么累呢，也许玩累了吧，赵老师的稿子还没怎么弄，真是羞愧万分。但也不能太累了，马上回去休息，明天真的要认真做这篇稿子了；还有匡宏波师兄那个统计软件代理小组，竟然让我等小辈当组长，又可以欺负研究生了，嘻嘻，得意，不过还要学习PHP（很久以来想学的东西只是没机会学），又觉得任务不轻啊，我一定要认认真真做。第一次这么早回去睡觉，哇，太阳从西边出来了……（旁白：什么眼神儿啊，明明是月亮！）

寒汗飞流直下……
---
title: 向MS Excel发起进攻！
date: '2005-08-05'
slug: learn-ms-excel
---

刚才被匡宏波师兄大大刺激了一下！！方知“天外有天”是什么意思……

Excel的“数据透视表”功能还从来没用过，没想到这么方便！看来不能什么东西都去死编程序了，VBA不是最好的选择！

这几天怎么都在琢磨统计软件？一会儿S-Plus，一会儿SPSS，一会儿又转到Excel这里了，看来真是学无止境啊！嗯，真的要大力学习，Keep on Studying to Death!
---
title: 老吾老以及人之老
date: '2005-08-08'
slug: respect-elderly
---

中午和匡晓波等几人一起吃饭了回来，走到电梯门口，见一位颤颤巍巍的老人走过来，电梯门开后，我跟迎春两人就马上钻进去了，而乔丽娜师姐则在后面帮老人护着电梯门，我就特别鄙视自己，我真是一向不讲礼貌的孩子。

写得像一篇小学生日记，也不怕师姐看见了笑话。

---

今天发现在我的博客上潜水的熟人越来越多，写东西压力越来越大啊。
---
title: 哀悼陈希孺老师去世
date: '2005-08-09T20:51:00+08:00'
slug: 20-51-00
---

下午听赵老师说陈希孺去世了；以前也没怎么关注过他的文章，只是曾在《统计研究》上看见过一篇基尼系数的，今日专门找来一些文章拜读了一下。默哀之，摘二三句如下是以为念： 

- 数理统计与经济统计以及数学的关系；数学的本质特征——抽象性；“大统计”的思想。
- 当代统计学的发展缺少“思想家”（像Fisher那样的），而多为“学问家”。
- 统计学历史的发展——发展数学理论还是发展实际应用？
- 统计学和其他学科结合发展是一个正确的方向，也极可能成为未来发展的主流之一。
- 不可忽视计算机的迅猛发展。
- 统计学课程的配置问题——经济统计与数理统计应该互补。
- 如果一件工作在实用标准和数学标准（纯方法）上都无可取之处，则这种工作必然很快退出人们的视野而被遗忘。——引用Turkey观点
- 我们培养硕士生、博士生对论文要求太苛刻，研究做得太少，造成“硕士不硕，博士不博”。本科生刻苦钻研精神不够，知识面不够广泛。
- 统计学的发展，有无数彪炳史册的前辈们付出了巨大努力，不容易。

---

附：陈希孺，男，1934 年出生，1956 年毕业于武汉大学数学系，获理学学士学位。同年到中国科学院数学所工作。1957 —1958 年间在波兰科学院学习数学。1960 —1986 年在中国科技大学从事教学工作。1986 至今在中国科技大学研究生院从事教学和科研工作。1986 —1988 年在美国匹兹堡大学作访问学者，1992 年在加拿大约克大学作访问学者。现任中国科技大学教授、中国科学院院士、中国统计学会副会长、中国现场统计学会理士长。主要研究方向为大样本理论。
---
title: 疯了，疯了，互联网
date: '2005-08-09'
slug: crazy-internet
---

博客网开发布会易帜，新浪跟着疯；百度上市，博客网跟着疯；某两三人现身网络，一群人跟着疯。

这个暑假真是过得不安稳，中国的互联网一路疯狂。

最早似乎应该追溯到木子美——一个对社会不负责的人（个人评价），然后一系列“惊爆”人物，诸如frJJ之流。后者与前者有所不同，暂不评价。

---

Freedom, Equality, Fraternity

---

很多人在网上叫嚣所谓的“自由”，我恨不得说声“呸”，凭什么给你自由？你作出了什么贡献？往往叫得越凶的人，越是不知怎样行使自由的权利，这种高贵的权利，在互联网上往往是被滥用了。看看现在这互联网被折腾什么样了，看看网络文化（Cyber Culture）遭到了什么样的破坏，看看论坛上头条充斥的都是些什么东西！法国人的自由，那是经历了法国大革命的血腥洗礼，岂是说有就有的？按李敖的老话，抛头颅洒热血，坐穿牢底横尸法场才能得来的，有些人用着匿名的ID躲在墙角嬉笑怒骂吵吵嚷嚷瞎起哄，便觉得体会到了“自由”的权利，感觉很不错。当然，我是说“有些人”，网上的人很大一部分还是很不错的。虚拟世界不代表一切都虚拟。

前面说人，后面说说事。

博客真是搅了一个不小的浪，自从“门户”的概念打出来之后，新浪吓坏了，唯恐自己不是“门户”了。颇具讽刺意味的是，7月7日新浪还借郭良的《社科院05年互联网报告》把自己狠狠吹捧了一把（29.1%的首访率，多么惊人的数字），不到两周时间，便觉得自己站不住脚，受到了博客网狠狠的威胁。可以看出，我们的网络媒介多么的争面子。新浪啊新浪，亏你是个元老级网站，你怎么就不看看博客网的缺陷，为什么不批评它呢？长他人志气，灭自己威风。

最近百度纳斯达克上市，哎哟哟，看看博客网竟然在首页上整整用了一屏的地方来说这件事，别人百度网站自己首页上就用了一行字，够威风吧？再看看博客网，把自己家里搞得比百度还百度，没有大家风范。不就是上市了么？哪有这么多分析的呀？博客网的高层领导真是倾巢出动啊，纷纷去发表自己的意见，哇哇哇，壮观！殊不知你们客服忙得焦头烂额处理自己网站的事情，看看自己家里乱成什么样了吧？这么烂的技术，你们还不赶紧修补？别人上市了羡慕吧？羡慕就要更加努力啊！你吹捧百度有什么用？你分析百度的优点但你又不学习人家，有什么用？这世道，众说纷纭，就像张五常说的，说了也没用，社会也不会因为有这么多人发表意见而进步。

我看谁发疯我就泼谁冷水——如果我觉得发疯的理由不够充分的话。

百度呢，曾经被我严重鄙视，也曾经被我严重夸奖。我夸它，是因为当年李彦宏的眼光独到，看到大街上人们的T恤上都印着“.com”，觉得互联网时代已经步入人们的生活了，他看到了一个时代的标志；我鄙视它，是因为它的商业化成份入侵纯搜索的程度未免太大了，一个竞价排名，让我再也不想用百度；不过李总赚钱的手法也很刁钻啊。还有版权问题，这个我无权说什么，因为我自己都在百度下载mp3听。还有贴吧，该整顿了。

看了一些观点，自认为大家没有看到一些有用的东西，于是我来发表我的意见：百度的成功，应该给那些盲目扩张的网站头头们狠狠敲一闷棍，你们低下头来仔细看看百度的特点——百度是中国的搜索引擎。我说这句话有两重含义 —— 一、中国。去年7月的互联网络发展统计报告给出中国网民数目是8700万，老大们你们不要追求网站的全面性，不要想着去满足所有人的需求，8700万人啊，今年不知道增长到多少了，抓住一部分就是成功。百度只是在中国做就已经取得了巨大的成功，它没有像Google那样遍布全世界一百多个国家。二、搜索引擎。一项业务就比你们所有人做得成功，更是提醒你们要专心致志，不要眉毛胡子一把抓。博客网，你有好几十万用户支持，干嘛不好好把博客这一项做好？（博客中国2004年的注册人数为75万，2005年的目标是1000万；这个数字……嗯……）

听说，杨坤入住博客网了，没兴趣；还有雅虎收购了阿里巴巴35%股权，看来大头们还是有些心虚的，纷纷结盟吧。

互联网疯了，就说这么多；当务之急，还是“麦莎”来了。
---
title: 本博客的介绍（内容、代码及其它）
date: '2005-08-11'
slug: intro-blogchina
---

因为看到左边留言框里面的留言太多了，影响首页的页面加载速度，加上博客网目前留言的显示速度非常之慢，一时半刻还看不见，所以对本站有任何问题请在下面以评论的方式提出，这样就能较快为大家解决问题。

## 代 码 篇

- 关于本站的页面设计基本情况，请参见“介绍一下我的Blog”（关于首页上的透明Flash，可能在Firefox中确实不支持，这一点没办法，只能在IE或者Maxthon中浏览了）

- 若想去除评论中的头像（或任何图片），请参见“CSS的应用——去除日志评论中的头像”

- [我的首页CSS文件](http://xieyihui.blogchina.com/default.css)，[索引页面CSS](http://xieyihui.blogchina.com/catalog.css)，[单篇文章的CSS](http://xieyihui.blogchina.com/diary.css)；点击下载后请注意更换我的博客页面顶部以及底部的图片（其实都是背景图片的形式），这两幅图我可是有版权的(C)；其他的地方基本就用不着怎么改了，照抄我的无所谓。随便修改吧。还有，如果是新手的话，下载CSS之后（在链接上点右键“目标另存为”），用记事本打开就可以了，然后复制文本内容，粘贴到博客网后台的模板中。

- 我的博客页面上所有我不想要的信息都隐藏了，仔细看我的CSS文件，凡是出现“display: none;”这样的语句，都是起隐藏作用的：）

其他文章，若不怕啰嗦，尽请参观。

嗯，从今天起就别在首页上留言了哦！

---

看到一些朋友们问到有些所谓的“技巧”，还是说说吧，其实我自己很颇不以为然的，那些“技巧”，公布出来的唯一后果就是跟我们用户找麻烦，跟博客网减轻负担；真是悲哀。

去掉首页的快速登陆栏：在首页的CSS中加入这段代码——

```css
div#loginFrm{display: none;}
```

去除BlogChina的Logo图片以及邀请友情博客的图片链接：在首页的CSS中加入这段代码——

```css
div.logoFrm{display: none;}
```

去除RSS那三个图片链接：在首页的CSS中加入这段代码——

```css
div#otherFrm a{display:none;}
```

注：对于2、3，如果想像我这样，索性把那个框全部隐藏掉，访问量也不看了，那么可以在首页CSS加入——

```css
div#otherFrm{display:none;}
```

去除底部BlogChina的版权信息（这一点很不厚道！）在首页的CSS中加入这段代码——

```css
div#footer a{display: none;}
```

注：这一段其实在索引页面和单篇文章里面都可以用。

如果像我这样厚颜的话，可以自己做一张图片，尺寸根据你的博客的大框架的宽度来定，比如我的就是940px，做好了图之后在首页CSS中加入这段代码：

```css
div#footer{
  border: 1px solid #8a96a8; 
  width:940px;
  height:50px;
  margin-top: 5px; 
  background-image: url(http://photo.bokee.com/data1/2005-8-9/000/332/072/77978/77978.jpg);
}
```

重要的是最后一句，注意这里的url中修改为你自己的图片地址；还有宽度高度都要相应修改；这样，就把Copyright这一栏改成自己的了；唉，重申一遍，这种做法真的很不厚道。

去除文章下面评论中的头像（或任何图片）：在单篇文章的CSS中加入这段代码——

```css
div.operation img{display:none;}
```

怎样做我的Contact me一栏中的Email图片：

到这个网站去瞧一瞧就知道了http://services.nexodyne.com/email/，做好了图片之后在你的博客中添加图片链接，填上刚才Generate的图片地址。

去掉“博客搜索”和“快速通道”：分别在首页CSS中加入div#search{display: none;}和div#chunnel{display: none;}

这些东西我根据大家的问题慢慢整理吧，未完待续。

## 理 念 篇

@ 关于友情连接 @

俺不太在意是否交换友情链接，大家不要生气，一是因为友情链接加载起来实在是太慢，二是网上转载文章太多了，俺喜欢原创文章，比如喜欢看昙花的小诗，喜欢看丸子同学瓦咔咔的文字，喜欢看红白蓝的那些花儿，没空去看转来转去的文章，于是不怎么做链接，还有，太长、太深、太费脑筋的文章也不喜欢看；三是我也不太喜欢宣传自个儿，喜欢看的就来看，不喜欢的也不强求，做了链接我又不怎么看你的文章，那我做链接有啥意义呢，俺这破巢有几个好友偶尔来逛逛也就满足了，不在意那访问量；总之，承蒙大家看得起我，做了我的友情链接，包括赫赫有名的顺风大人、鼎鼎有名的逍遥赵大人等等，谢谢了，有空我会去你们家转转，但是眼下好像能顾得上我的巢就不错了，还请见谅。

嗯，自己的博客，就应该当成自己的一个小家一样，好好爱惜嘛，别堆些杂物。

P.S. 眼下，我最希望有统计界的同仁来交换链接，一起探讨统计学问题。

@ 关于本站内容 @

本博客自公元2005年1月7日建站以来至今日（2005年12月1日），共发文127篇（正好是本人宿舍房间号），留言84条（本人出生年份），评论816条（某同学的生日），访问次数59844（假的！）

把本Blog的内容依照时间整理成为一个时间序列，按照数据挖掘的思想（主要是文本数据挖掘），然后根据Delphi法评判出的关键词（用来反映人的思想倾向），使用相关统计软件，我估计是可以挖掘出本人博客思路的变化的：D——初期就是胡言乱语，什么乱七八糟的都写，其思想之浅薄之幼稚“昭然若揭”，后来逐渐转变到学术研究方向上，现在仍处于学术研究浅层次阶段，还望有志于振兴统计之贤士多多指教！

还有个不得不说的问题，就是不要随便到处乱贴我的文字，先跟我打声招呼，一切好说，偷偷摸摸转载，实在说不过去。

@ 关于本人FTP @

网上找软件真是困难，于是在经历种种磨难之后，把自己搜集的软件（尤其是统计软件）集中起来，开放了我的FTP：<ftp://xieyihui.3322.org>，详情请见“开放我的FTP提供统计软件下载”。

## 链 接 篇

@ 博客链接 @

闪现一瞬又匆匆撤退的差差同学 · 湖南师大的Moon大人 · 瓦咔咔的丸子大人 · 红白蓝大人 · 昙花大人 · 公管学院的孙玉栋老师 · 技术强人猫同学 · 驿路铃声姐姐 ·  灏灏小弟 · “数字”时代的StimetCross ·  澜 · anycall2008 · 财神宝库 · 逍遥赵 · cpperl师兄（已经不写了） · 村长 · 贤思齐大人 · yzaif · kingruc同学 · skyteacher · shouguo0629 · 茶茶棠 · ircspace · 小熊崽子 · 言殇 · lqw0205 · 元帅 · 中央民族大学数学系统计学专业覃事灿 · 垂莲子 ·
---
title: Dying in the Sun
date: '2005-08-12'
slug: dying-in-the-sun
---

A song that makes you feel the remoteness and vacancy...

---

> Do you remember  
> The things we used to say?  
> I feel so nervous  
> When I think of yesterday
> 
> How could I let things  
> Get to me so bad?  
> How did I let things get to me?
> 
> Like dying in the sun  
> Like dying in the sun  
> Like dying in the sun  
> Like dying...  
> Like dying in the sun  
> Like dying in the sun  
> Like dying in the sun  
> Like dying...
> 
> Will you hold on to me  
> I am feeling frail  
> Will you hold on to me  
> We will never fail
> 
> I wanted to be so perfect you see  
> I wanted to be so perfect
> 
> Like dying in the sun  
> Like dying in the sun  
> Like dying in the sun  
> Like dying...  
> Like dying in the sun  
> Like dying in the sun  
> Like dying in the sun  
> Like dying...
---
title: 被蚊子咬成了重伤
date: '2005-08-14'
slug: mosquito
---

我说屋里怎么这么多蚊子呢！

宿舍一共四个人在，其他三个人都有风扇吹，就我没有……

夏天还不能盖被子，更可怕的是这几天北京这破天气，到处都是湿漉漉的，懒得盖被子，被子都感觉潮潮的。

睡觉之前狂抹花露水，只差用它洗澡了。可是……早上起来一看，这什么花露水啊？根本没有防蚊这一项功效。

早上我起床最晚，其余三个都走了，宿舍就剩我一个。蚊子于是都死命咬我。饥不择食。

可恶的是他们走也不关门，我们屋对面就是厕所！

我被咬得生气了，先是看也不看，用脚背打蚊子，后来用巴掌拍，实在不行了，睁开眼睛，傻了，漫天的蚊子在翱翔。

好吧好吧，我投降，我起床还不行么？愤愤……一个包，两个包，三个包……

今晚买蚊香去。看我的情绪怎样，要不敌敌畏也要买的。
---
title: 有感于追求完美
date: '2005-08-15T20:47:00+08:00'
slug: 20-47-00
---

之所以想起这么一句话，是因为看到[统计BBS](http://www.rucstat.com/bbs)上有一位同学提了个问题——给出两列极其精确的数据，问用什么软件可以做出那样精确的图。我笑笑，这里面似乎有种人类的通性。


我反问：就算你作出了精度如此之高的图，看你的图的人难道会拿着显微镜去看不成？


追求完美是没错的，错在追求的过程中忘了完美的本质和作用；进而追求着有名无实的“完美”，感觉就像“共产主义”这样的词，说着说着，就忘了什么是真正的共产主义，而化成一个纯粹的符号。


作图，原本在于让人有直观感受，如果追求精确，那何必用图像的形式表达？何必不用数字呢？


只是作一个简单的引申，没什么别的意思。


我不知道别人怎么看柯南中的那一集“引爆摩天大楼”，我看到的是一个笨蛋建筑师森谷，一个失败的完美主义者。


做人，就该得意忘形——得到了意义，忘记了形状。
---
title: 16小时骑行——我的天津绝望之旅
date: '2005-08-17'
slug: ride-to-tianjin-in-16-hours
---

16小时——早上6点骑车从中国人民大学东门出发，一直到晚上10点到达南开大学宿舍安顿下来。6小时阴天，10小时淋雨，进天津市后，不仅倾盆大雨，而且天津市区的水深几乎淹没膝盖。

200多公里——一望无际的路，大雨打在路上，雾蒙蒙的，眼镜上全是水。进入天津界，开始刮风，逆风骑行。杨柳青的杨柳，一棵一棵，没有尽头。104国道、105国道、廊津公路。三次走错了路，重新退回来。

80%的里程都是前不着村，后不着店，没死在路上，真是万幸。人的意志力真是可怕。

路上，看见被车轧死的小刺猬（国道），还有小狗（津霸公路）。

饥寒交迫，顶着雨衣吃面包，结果自行车被风吹倒，车筐中的水顺着坡滑下去，我拼命把它捞起来，费劲地搬起自行车，喝完最后一口水。

谢谢路上受惊吓的两位出租车司机证实了我的直觉；还有受惊吓的西青区帮我指路的若干路人——尽管他们把我指得冒雨跑了很多冤枉路，重点感谢一位药店的小伙子，终于告诉我真相“南开大学有很多分校区”；谢谢受惊吓的与我同行去鞍山西路的大叔；谢谢受惊吓的安排我的住宿的张忱同学；谢谢石恒泽同学半路上给我发了条短信；还有很多受惊吓的人，明日一一再写……

总之，活着就好。忍耐力极大地提高了。

我从天津坐火车离开时，太阳公公终于露面了，对着我灿烂地笑，我当时想把它扯下来痛打一顿！

如同噩梦一场，今日要修改稿子，没空写，明日再说。

终于明白了，游天津的“游”不是旅游的“游”，而是游泳的“游”。

## 出发前夜

15日晚上我破例早早回宿舍了，就是为了准备第二天的天津之行。可是早回去也是白回去了，11点睡下，又被一群蚊子折腾了好半天，中秋那边还在玩儿三国还是什么游戏，开着音箱和台灯，为我制造方便——打蚊子可以看清楚了打。

磨蹭到大约12点下铺的两位都睡下了我才迷迷糊糊睡着，定了5:40的闹钟，早上醒来觉得还是挺精神，出发之前，最后拿起文超的地图看了一眼，在心里记好北京南站的方向，然后扔下地图，锁上门，宿舍楼的阿姨一定很奇怪我今天怎么这么早起了。

之前我已经想好了两套方案，要么从北京南站跟着长途汽车上国道，要么先骑到京津塘高速公路入口处。至于沿着铁路线走，我想铁道旁边没有公路，可能走不了，于是没有考虑这个方案。

## 开始上路

六点过几分了，我骑上车，给张忱发了条短信说我出发了，然后为了省电就关机了，后来一直到廊坊我才重新开机。早上街上骑车特别舒服，因为没有什么车，畅通无阻的。从学校门口我一直南下骑到车公庄路东转，然后到阜城门大街继续南下，长椿街、白纸坊、右安门，走到南三环西路上，我可能就犯了个错误——过早向南行了，从而与北京南站擦肩而过，从开阳路和马家堡西路冲上了南四环中路，然后公益桥和大红门桥，在大红门发现有铁道了，停下来打开地图，发现北京南站早已经过了，于是吃了根黄瓜，从那里再次南下上了南苑路，好像是在南苑路上（记不太清了），我第一次看到路标：廊坊56公里，天津116公里——心里终于有了底。南苑路骑到中途，发现往下好像没路了，于是顺路向右转，心里觉得是向西，感觉前面不远应该有向左传的路口，可是走了大约10分钟，发现不对劲，往西走得太远了，于是掉头回来，退到南苑路上，往回找了个向东的路口继续骑行，哪知道那条破路走到尽头，竟然走到了一个菜市场上，我当时真是哭笑不得，在那些菜贩子中间挤了半天才挤出去，然后到了一个不知名的小村，骑了一会儿发现总是在向右转，大约15分钟后我又觉得不对劲，方向错了，于是又掉头——走上一条我感觉应该是东南方向的路。

那个小村景色还不错，绿色的田园让我想起了家乡，田埂、水沟、杂草……我走上这条乡村的小路，发现实在太难走：很长一段路上全都是稀泥，我必须费劲地骑，不能下车，我很担心车轮会不会滑——这段路上我的鞋上沾了很多泥，不过我没发觉，后来在国道上停下来一次才看见腿上鞋上竟然有那么多泥……

穿出了村庄，前面有了水泥路，感觉像个小镇了。我在一座小桥上找一个抱孩子的中年男子问了问天津的方向，他也不知道，说的话口音很重，听不太懂。大约8:20，我在一个路口停下来吃早饭；有个警察叔叔在路口查车，一连罚了好几个司机，我也不知道怎么回事，一边啃面包，一边听他在那里教训那些司机。抬头看看，路边是一个小厂房，幸好牌子上写着地址，原来我骑到了旧宫，看了半天地图，我实在搞不明白我是怎么骑到那里去了的。

## 国道之行

啃了几片面包，喝了两口水，我背好书包接着骑。现在走的大约是旧忠路，经过旧忠桥，也就骑出了五环之外，经过瀛海镇，在这条路上我又开始心里不安，于是在路边停下自行车，向一位出租车司机询问，老司机说小伙子你劲头挺足的啊，我笑笑，指了一个方向问他是不是东，证实了我的感觉之后，说了声谢谢，回头推自行车，才发现我闯了大祸——我的车停在主路上离路边大约25厘米的地方，恰好后面是一辆大卡车，被我的小破车挡住了路，这倒不说，我回头向后面路上一看，天哪，堵了好长一路车，怪不得一路上的车全都在按喇叭呢——我和出租车司机说话竟然没注意。吓了一身冷汗。

接着就骑过六环了，一看时间，已经用了三个多小时，觉得时间可能不太够。过了六环，发现接下来的青云店镇实在是太大了，感觉骑了好久都没有骑出头——不过值得庆幸的是我终于上了104国道。

从这时开始，那种“没有尽头”的感觉就出现了。天特别阴，我从早上6点骑到中午12点，觉得天色都一样，一直就那样阴沉沉的。

常常就是一个多小时，没有村庄，没有人家，只有一条路（也幸好只有一条路没有岔路），只有天上厚厚的乌云，偶尔有一辆车从身后呼啸而过——几乎就是唯一能听见的声音。我看着这一辆辆车一会儿就消失在远方，又剩下我一个人在路上。

大兴区的青云店镇好像盛产葡萄，我在路边看见有几家小贩在卖葡萄，旁边也有葡萄园，还看见有一个什么葡萄节似乎也在那个镇举行。继续前行，快走出青云店镇时，下了一场小雨，我第一次穿上雨衣。开始以为这一天不会怎么狂下暴雨的，这种小雨没什么关系，没想到下午下得那么猛烈。

小刺猬就是在青云店镇的国道上看见的，可能有很长时间了，被轧得几乎只剩下一张皮，但是刺都还在。以前看到过一篇美国人的文章讲动物的交通安全问题现在很严重，这次算是真正见识到了。唉，默哀一下。

经过了采育镇，看到路牌上写着廊坊还有二十多公里，那时真是觉得就算2公里也是很长的距离，因为我感觉从32公里骑到30公里都要花特别长的时间。在采育镇看到一些桃树，看来似乎是产桃的地方，还有一家桃园起名叫“世外桃源”，我心里笑笑，这家桃园的主人不错，没把“桃源”写成“桃园”，算是对得起五柳先生了。

## 穿越廊坊

出了采育镇，也就完全骑出了北京，进入了河北境内。中午我吃饭的时候打开手机，发现这里的联通还给我发了条短信欢迎我。

其实也看不出什么明显的风土人情，因为国道两边永远都是树，极少看到人家。倒是想起在北京郊区有个地方（大约也就是旧宫附近）有很多驴肉餐馆。

当我看到廊坊还有10公里的时候，长长呼了一口气，咬咬牙，加快了速度。我的打算是，万一时间或者体力不够骑到天津，那么就在廊坊住一晚第二天打道回府好了。这一次10公里还是很短的，一会儿就看见了远方廊坊市区，视野中终于有了很多很多房子，有一栋楼特别高，现在已经想不起来是什么楼了（似乎是管道科研中心），那栋高楼虽然在很远的地方就看见了，可是这条银河路也够我骑的了，对着那栋楼骑了好半天才真正进入市区。

廊坊市给我的印象还是很不错的，一个干净、有条不紊的小城市。宜昌市就让人觉得颇有些乱哄哄的，可能是因为人多的缘故吧。也许那天廊坊天气不好，下着雨，街上没什么人。

本来也想看看大学城的，可是当时没地图，下雨也不方便，于是没去找。在一座公路桥下停车，找了个小餐馆吃了顿牛肉板面，我看牌子上写着是山西的，但是回来之后查了查，好像板面应该是河南的。这顿饭吃得还是太少，在天津的大雨中骑行时，我后悔了。

吃完饭，我在桥下找了个卖水果的小贩问路，他一脸惊异，旁边的人（应该是他老婆）问她怎么回事，他大声嚷嚷“他要去天津”，搞得我都不敢看周围的人。我向桥上看了看，发现走错了，我应该沿着主路直接上桥的，但是现在沿着主路旁的辅路骑到了桥下，只好把车从旁边的阶梯上推了上去。这样继续一路南行，没过多久，就到了廊坊的南大门。这里是一个十字路口，我犯了个大错——应该穿过马路向东走到武清区的，可是我仍然向南走了，这一错，至少让我多走了二十多公里路，过了廊坊市区，我还在河北境内骑了大约三个半小时。

## 忐忑河北

走出廊坊市，我大约骑过了6个乡镇（杨税务乡、仇庄乡、码头镇、里澜城镇、堂二里镇、东沽港镇）才到达天津界。整个路程中，我虽然一直都有些忐忑怕走错了路，在河北的这段路上我最为担心，在那宽阔的公路上，一直骑了一个半小时，仍然看不到任何向东拐的岔路，现在下着中雨，我越骑越担心，可是时间已经过去这么多了，再退回去的话可能今天就到不了天津了。真怕骑着骑着抬头一看，啊？我怎么到了保定？……

其实更怕骑到天黑仍然到不了任何一个城市，要是天黑了我还在路上，那我必死无疑。不过带了手机，也许可以打110什么的。

那时候，想想其实生活里很多地方跟这段路很相似——一种“鸡肋”心理。往前吧，怕走得更错；往后吧，怕时间不够到不了了。前后为难。真是很难做决定。也许我那时骑得有些麻木了，仍然向前骑。

## 大雨滂沱

终于发现有岔路了！路牌上只写了“廊津公路”，没写有多远，我已经满足了，有一条向左拐的路就好，我要是再继续向右拐，恐怕真要骑到保定去。这条路很窄，就是那种基本刚好容纳两辆汽车并行的路。路边是松树林，全都是树，依旧没有人烟。从这时开始，雨下大了。对雨感受最强烈也就是在这里，那个场景，就像在脑中打下了深深的烙印。

眼睛上沾满了雨滴，视线很模糊，只好把眼镜向下拉一拉，直接从镜框上面看前面——这样都比戴着眼镜看得清楚。还好雨衣比较大，免去了我的淋雨之苦，书包、上衣一直都是干的，只有裤子因为脚踏自行车的缘故，经常露到外面来，所以淋湿了一部分。鞋是不用考虑，肯定保不住了。时不时雨水从雨衣的帽子上流下来，流到脸上，流进嘴里。

雨实在是太大了！路面被雨打得起了一层水汽，一片模糊。一条模糊的路，无尽的路。

## 走出河北

在这条窄路上，也有几个十字路口，偶尔能看见一两个活人。我骑了很久，心里很是没底。在一个路口找了个人问了问，我以为天津最多还有50公里就到了，可那人马上“无情”地打破了我的“肥皂泡”——“天津？50公里绝对到不了！西客站都到不了呢！”

有什么办法呢？我加快了一点速度，但也没坚持多久，又慢下来了。

再往前，就是我第一次“游泳”了。看到路上竟然有那么深的水，我吃了一惊。汽车走进去淹没了半个轮子；我看了看，只能硬着头皮往里面冲。这下鞋子灌满了水，终于湿透了。幸好，这水里面没有大坑，我想到。

感觉仍然再往南走。看见前方有条铁路，这时，我离津同公路不远了，只需再穿过一个镇。

大约3点半，我骑到了一条东西方向的公路的路口。下雨天最可怕的不是雨，而是没有太阳判断方向！这条路，我都不知道哪边是朝天津走的了。本来直觉应该走左边，我不放心，到右边的路牌下看了一下，看见了希望：杨柳青17公里，天津31公里，廊坊45公里。

“廊坊45公里”，真是走错了路，难怪走了那么远。

从这个路口奋力前行，经过最后一个镇（东沽港镇），终于看见一个大的公路收费站。最上面的牌子赫然写着“王庆沱镇”，这是武清区最南边的一个镇，是武清区、北辰区和西青区的交界处，经过它，我在北辰区骑了一小会儿，便进入了西青区。杨柳青的柳树，又给我一个深深的烙印。

## 进入天津

进入天津界内后就开始刮风，真是很可恶！我以为这些树可以挡挡风，可是恰好相反，风就偏偏沿着路在两排树之间迎面刮来！我骑得极其艰难，心里不停地计算——其实是换算——把“米/秒”换算为“公里/小时”，然后把“公里/小时”换算为“米/秒”，计算我这样大约1米/秒的速度需要几个小时能骑到天津市。

在杨柳青的路上，又看见一只被轧死的小狗，躺在路上，雨水淋湿的毛一缕一缕的，惨不忍睹。

骑过了柳道，第三次骑错了路。前面又是一座公路桥，我似乎特别容易在有公路桥的地方走错路——沿着路边的自行车道走到桥下去，而不是直接骑上桥。桥下有些工人施工，又是稀泥，骑过去特别费劲。然后就发现方向不对，似乎转向北了。我向前骑了大约200米，发现完全错了，偏离了刚才骑的那条路。心里很沮丧。

风很大，我想歇会儿。找了另外一座桥，在下面停车，脱下雨衣，打开书包拿出面包和火腿肠，吃了一些。喝了两口水，四处望了望，重新穿上雨衣沿着泥泞的路退回去。远处有个工人一直看着我，一定觉得我疯了。

因为水大，子牙桥（记不清是不是叫子牙桥）好像坏了，但是还能走自行车和行人。桥面只剩下水泥钢筋板架子，其他地方都是空的——人都能掉下去的大缝隙。不过桥栏杆边上有大约一米宽的地面可以走，要不然还真得提心吊胆的。过了桥，就开始渐渐繁华热闹了。我在那儿问了一个出租车司机，那大伯完全就是天津口音了。听我从北京来，也吓坏了。我问了一下南开大学怎么走，听他给我指的路也很简单，向东走一会儿了就直接向南一直走。我一路冲下去，后来才知道冲得太远了，到了南开区的西南角。

## 苦寻南开

我怎么知道南开大学有好几个校区呢，真是重大失误啊！

差不多是晚上七点了，我仍然在一条不知名的路上骑行，天色已经比较昏暗快要黑了，我顺着那位出租车司机指的路骑了很久，现在走的路感觉越来越偏僻。我没有力气了，自从那会儿在公路桥下吃了两片面包之后就一直没再停下来吃东西，肚子很饿，但是大雨又下个不停，我想吃东西都没地方能吃——路上没有遮蔽物可以躲雨的。我绝望地看看路，没办法，顶着雨衣凑合一下吧。

我停下车（这次吸取教训没敢停在路上而是很靠边了），取下书包，准备拿出面包，这时，一阵大风吹来，车被吹下了公路，躺在一个斜坡上；路边没有栏杆，下面就是一条河，为了防止意外，路下面用铁板护起来了，但是铁板下面有很大的缝隙，车筐中的水瓶从缝隙中滑了下去；那时我站在路边，看着倒下去的自行车，心里很不是滋味；尤其是最后的那一点水也滑下去了，强烈体会到缺水的可怕，水是生命之源，这句话只有在这种情况下才能深刻体会到；车扶手很不幸也从缝隙中滑到了铁板的另一面，钩住了铁板，我死活都拖不上来，于是先拿出车筐中的锁，扔上路，还有帽子，全都直接往路上扔，也不管是不是有泥脏不脏，那时已经顾不上这些了；挣扎了好半天才把自行车从斜坡上搬起来——在极度饥饿的状态下完成这样一件事，真是不容易。

终于可以吃面包了，手上似乎有些沙子，混在面包上吃进了嘴里；看看火腿肠还剩两根，吃了一根，喝完最后的几口水，看看车座上沾了一些泥，都不知道用什么擦；让雨水冲了冲，差不多没有泥了，用手抹干了就坐上去继续骑。

在一些小街道里面骑来骑去，问这个人说南开大学很近就在前面，鼓起劲骑过去再问，又说南开大学很远，还要骑至少半个多小时，就这样我问了三四个人，彻底被搞晕了，大雨淋得我快要看不清路边建筑的名称了，晚上了，很多店也都关门了，我想找个地方拿出手机打电话——根本没有能躲雨的地方；在雨中我不可能拿出手机来的。后来终于找到一个修汽车的地方，进去停下车，在隔壁一个药店中，狼狈不堪地问一位小伙子南开大学怎么走，现在终于有人告诉我南开大学有好几个地方，难怪我跑了半天呢。后来我看地图，发现我都跑到南开区的最西南角上了（华苑居住区），在与静海县交界的地方。

我打开手机，一连收到好几条短信，基本都是张忱发给我的，问我到了没有。我打了个电话问了一下，才知道那个真正的南开大学校区原来是在八里台，天津大学旁边。药店的小伙子皱皱眉头，跟我大致说了一下路，复康路——红旗路——鞍山西道，我赶紧牢牢记住这几条路名，仿佛抓着一根救命稻草。穿上雨衣，再次冲进雨中。

现在已经八点半了，天全黑了。我开始找复康路——这条路我完全是猜的，走到一个很大的路口，我就向右转了（东），后来看见路边的牌子确实写着复康路，心里舒了一口气。下一步就是找红旗路，我在复康路上找了个机会骑到路的左边，再往前，又看见一条比较大的路，于是在路口左转上了那条路（北），追上前面不远处的一位大伯，这位大伯挺好心的，知道我从北京过来，嘘寒问暖几句，与我一起骑到了鞍山西道，还告诉我天津大学和南开大学在什么位置，有什么标志。我在路口和大伯说声谢谢，右转（东）上了鞍山西道。

可是最要命的是我在鞍山西道上来回走了四趟都没看见南开大学的校门！并且我看见了天津大学的校门，而别人告诉我南开就在天大旁边挨着。我找疯了都没找到。鞍山西道上的水积得很深，几乎淹没膝盖，我不管那么多了，直接往水里冲。在水里骑车倒也不是那么特别费劲，总比在泥里骑车要好得多。

说是挨着天大，为什么我就死活看不见南开的校门呢？这个问题，我第二天也没过去看个究竟（我从另外一个门进去了），算是这次天津之行的一个谜。

第四遍找过去，仍然没看见。绝望之中，我在鞍山西道上向前找了个路口，右拐下去（南），问了一个同学，他说前面也有天大和南开的校门，这个校门也许就是最后一个希望了。这条路边就是卫津河。骑了大约5分钟，终于看见有座桥，远看似乎还有个门，我欣喜了一下，就冲上桥，看见门上的确写着“**大学”——又犯了错。我骑进门，找了一栋教学楼，在楼下停车，终于可以脱下雨衣拿出手机打电话了。我在鞍山西道上来回找南开时，听见手机在书包里不停地响了好长时间，以为是张忱给我打电话了，打开手机一看，不是。倒是给我发了几条短信，我哆嗦着，不想打字了，于是直接拨电话，顾不得漫游长途什么的了。然后简短地回了别人一条短信。

张忱找我也一定找疯了。我说我就在校门口啊，可是等了好久怎么还不来呢？又打了两次电话，还是找不到。就这样折腾到九点多了，我骑车冲出校门，原来……原来我进的是天津大学……

……

## 入住宿舍

无语地找到了张忱，不停地道歉。校园里也全是水，根本不能走人，我有车，只能自己过去了，于是拿了钥匙，张忱回家去了，我一个人继续找宿舍楼。

漆黑一片的校园，还好看见一个同学，告诉我13宿怎么走。我这一路上左拐右拐真是拐怕了，看见路口就发怵。我不放心，走到他说的那个路口，等他从后面走来，再次确认了一下是不是在这里拐过去。

宿舍周围的水更深，我骑着车在水里接着“游泳”。一片宿舍楼，哪个是13宿啊？……我围着一栋楼走了一圈，愣是没看见宿舍楼的编号牌在哪里。阿弥陀佛，那时竟然还有一个活人在宿舍楼区走，跟我指出了13宿；不过那么昏暗的光线还有那么大的雨，我根本看不清他指的是哪一栋。凭着直觉，认定一栋楼，向那边走去。

这栋楼下，我的鞋子遭遇了最惨痛的经历——不知道他们在施工建什么，楼周围挖了很多坑沟，全是厚厚的泥土。一场雨下了过后，我算是品尝到了稀泥的可怕。

当最后的希望在眼前时，不管前面有多苦多累，那时真是有咬牙拼命的冲动。

双脚深深捅进泥里，推着车，死活推到了宿舍楼门口。锁车，发现有一把锁很难锁了，想起来是因为那时车倒在路边，锁掉到了地面锁头沾了一些泥。幸好还能锁上，也不管明天是否还能开。踩着一脚的泥水在鞋子里晃荡，我爬上三楼。在二楼看见几个同学，我还不放心问了一个同学这里是不是13宿。我很难想象，要是那时他告诉我这里不是13宿，我会怎么样。

宿舍里没人，但是看起来应该有一个人在，因为有一张床上有住过的痕迹，其他床都收起来了。这么晚了，我不知道为什么他还没回来。我扔下书包，脱下鞋袜，总算解放了双脚，赤脚走在地上，宿舍里竟然一双拖鞋都找不到。我担心第二天我怎么走出去，不过这已经不重要了，能住下来，我已经很满足了。

## 南开一梦

不是南柯一梦。

十点了。16个小时，就这样过去了。当时的样子一定很落魄。

这宿舍真是干净，什么都没有！后来才知道放暑假之前才搬来的。我最需要的是水，可是一滴都没有。下楼问了问，楼里面没有卖的。面包还剩下三片，吃了两片，火腿肠剩下一根，也吃了。剩一片面包，实在是太干了，再也吃不下。

不想再动了。垫着被子横躺在床上，头靠在墙上，发短信，告诉宿舍的兄弟们我还活着。写了几条之后，不想写了，太疲惫。这时谁要是还把我骂一顿我觉得我可能真有些撑不住。关机睡觉。

可以睡觉真幸福。

其实也没怎么做梦，睡得很安稳。

雨水，也是很好的呢……

> 雨水它怎不落下 你沉默不说话  
> 雨水啊快快落下 滋养土地啊  
> 雨水它何时落下 你怎么不回答  
> 雨水啊总会落下 幸福会萌芽

怎么想起这个，我也不知道。

## 天津之游

这个游，才是游览的“游”。

第二天总算没下暴雨了，飘了几丝毛毛雨。中午时分，又下了一点小雨。路上也没那么深的水，看起来舒服多了。早上那同学从外面回来，开门进来，很惊异宿舍竟然住了一个陌生人，我便向他解释了一下。他通宵上网去了，后来听张忱说这个人以前是北大的，因为不学习不考试，退学重新考上了南开，到了南开依旧不学习，整日上网。怪不得见他一进来就抽烟，一副痞子气。他回来时，我已经收拾东西准备走了。也没多说话，他躺下睡觉了，我便背起书包出了宿舍楼。

早上费了半天工夫把鞋擦干，现在仍然有些湿，不过好歹可以穿了。大约10点，我在南开大学东门外面一家狗不理吃了顿早饭，奇怪狗不理怎么也引进了蟹黄包；这家店效仿了肯德基的风格，后来在天津发现很多店都效仿着这种风格。包子里的油不知道用的什么油，很香，稍微有点像花生油，但又不是。我觉得小菜太贵了，那么一点点拌海带丝好像是五块钱吧。吃完饭后算是活过来了。

出门开锁，发现很难开，我念叨着“难开难开”，南开……我跟张忱说，我到了南开，锁就很难开了。我们就笑了。

张忱有事先走了，我一个人去找火车站，这下有地图就好了，我总算搞明白了东西南北，看看火车站也挺近的——自从这一路骑到了天津，我就觉得没有什么路可以称得上远的了。看了地图后，心里一下子就记住了，从卫津路北上到鞍山道，向东北方向斜行，到了海河，过桥就到天津站了。在鞍山道上，看见很多路名都是以地名命名的，锦州路、甘肃路、长春路什么的，但是还看见了一条多伦路，不知道多伦在什么地方，不会是多伦多吧……最奇怪的是竟然看见一栋楼叫做“统计大楼”，于是“倍感亲切”，把它拍了下来。

鞍山道上小餐馆比较多，我得去火车站问托运的事情，没空去品尝什么了。临近海河有一条步行街，我把车推进火车站办好了托运手续后，就在这条街上走了两个多小时。

在海河上面，新建了一座桥——大沽桥，位于广场桥和解放桥之间，我站在广场桥上堆着大沽桥拍了几张照片，也把我的破车拍了下来，表明我曾到此一游，注意，游览的“游”。大沽桥与这条河上其他的桥比起来独具特色，“日月同辉”，桥全长154米，主跨106米，边跨24米，桥面最宽处59米。设计构思为“日月双拱”，由两个不对称的拱圈构成，大拱圈面向东方，象征着太阳，高39米；小拱圈面向西方，象征着月亮，高19.2米。桥面两边各有伸出去的弧面，我总觉得俯瞰它就像一条鱼……

天津火车站给我印象很不好。卖地图的老太太听我不是天津口音，说地图四块钱，我咬牙说三块钱，坚持了一会儿，还是被我三块钱买下了。后来张忱说她当时买的就是四块钱，我于是就得意了，不过老太太肯定赚的。还好天津站的托运标志比较明显，这一点比北京站要好，我在北京站找了好半天才知道托运的地方在哪里。托运的那帮人看看我的自行车，旁边明明放着称，她偏偏就不称，随口说25公斤，就填上了。我也懒得跟她争了，当务之急是想办法回去。缴费窗口有个小伙子也很恶心，不排队，就插到前面去了；后面两个妇女就开始咕咕地评论这个年轻人了，我想那小伙子肯定听见了，脸皮倒是厚着呢，面不改色心不跳，装作没听见的样子；我生气了，跟他说你到后面排队吧，也不理睬。到我缴费了，死活都不明白这账是怎么算的，怎么可能12块钱呢？明明是0.197元/公斤（这是最贵的一类货品托运价格），25公斤，大约就是5块钱啊！要不是后面还有焦急的人们在排队等候，我还真是要质问他们一下。窗口的玻璃上贴着一位值班人员的照片和名字，下面用中文写着“今天，我为您服务”，这没什么，让我摸不着头脑的是下面紧跟着一句英语"Today I sevice for you"，不知是谁干的……

买好火车票，办好了托运手续，还剩下大约三小时，我就四处逛了逛。先是游荡到了北安桥上，看见桥上的一些塑像挺不错的，那时下着小雨，我顶着雨衣拍了几张照片。然后走到海河对面的步行街上一路逛下去，在一家加州牛肉面馆吃了顿香菇鸡丝面，味道太淡，不好吃。这条街上其实也没什么特别吸引人的地方，逛来逛去，买了点十八街麻花，心里感觉应该很宰人的，但也想带点什么回去，只好认了。那老板拿了盒子要给我装，我说最多一斤就够了，但她说盒子至少要装一斤半，我想我干嘛非要买那么多呢？于是没有要那包装。

出了麻花店，特别巧，正好遇上张忱从那边骑车过来，要是我晚出门十秒钟估计她就去火车站找我了。我把考研题给她（浸着我的汗水千里迢迢背过来的的题目啊），然后就在这家店前告别了。

我还想买点什么，可是找来找去也找不到合适的东西，看看时间不太够了，只好奔向海河对面的火车站。这时，天气开始转晴。我看着太阳快要从西边出来了。

这次坐火车真是最轻松的一次，背着包，拿着一瓶水就上车了，一点都不挤，比起每次回家要舒服得多。

就这样，别了，汪洋大海的天津！这个曾经缺水的城市，给我留下最深的印象竟然是一片汪洋大海……

火车开了，太阳公公对我露出笑脸。我真是气不打一处来。火车上无聊，对着窗外乱拍照片，回来之后被鄙视为“像没坐过火车的”。只可惜去的路上没能够拍些照片，估计也够吓人的。到了北京站，坐地铁回了学校。那时在地铁里方向感清晰无比——后遗症。从西直门回人大，路上也拍了两张照片，不过公汽上拍得不清楚。

## 后记

这场绝望之旅就这样结束了。

回到了宿舍，小马说下次出去叫上他们一起去，我说那咱们去内蒙古吧，或者沿着京开高速到开封也行。什么？昌平？那太近了！

虽然回去了，也没住脚。赵老师早上就给我打电话，说是稿子数据又有什么变动，让我重新算算，我说我还在天津呢，那下午回去吧。

一切，终归于平静。

第二天，我去北京站取回了自行车，整个北京站的结构，也差不多被我摸清楚了。从北京站骑回人大大约用了一小时十五分钟，这一次，仍然在后遗症的影响下，还有太阳，方向问题就解决了，沿着地铁线一路骑，北京站——崇文门——前门——和平门——宣武门——长椿街——复兴门——阜成门——车公庄——西直门，这些站都能背下来了。可是西直门的桥确实是出了名的复杂，我在桥下愣是没能骑过去，只好直行到了明光村，在那里西行到北理，这才回到学校。

回来之后，大家跟我见面打招呼的用语一律变成“你骑车去天津了？”听说那天他们那些师兄师姐开会之前还专门就我能否骑到天津作了讨论，难怪大家都知道了。

把自己扔在一个绝望的境地里，便能学到很多东西。在绝望过后，便是雨过天晴云开雾散，甚至有些生死的感悟。

这世上，根本就没有什么受不了的苦什么受不了的累。

---

**一些图片**

没能拍到南开大学，只在远处拍了一下天津大学的东门：

![](https://db.yihui.org/images/tianjin/tianjindaxue.jpg)

统计大楼：）

![](https://db.yihui.org/images/tianjin/tongjidalou.jpg)

鞍山道那条小街：

![](https://db.yihui.org/images/tianjin/anshandao.jpg)

广场桥：

![](https://db.yihui.org/images/tianjin/guangchangqiao.jpg)

我的小破车：

![](https://db.yihui.org/images/tianjin/zixingche.jpg)

大沽桥：

![](https://db.yihui.org/images/tianjin/daguqiao.jpg)

![](https://db.yihui.org/images/tianjin/daguqiaojin.jpg)

![](https://db.yihui.org/images/tianjin/huayuan.jpg)

八仙过海：（下面赫然写着“保护环境，节约用水”，当时我很无语）

![](https://db.yihui.org/images/tianjin/baxianguohai.jpg)

天津站的狗不理包子店：

![](https://db.yihui.org/images/tianjin/goubuli.jpg)

北安桥上的塑像：

![](https://db.yihui.org/images/tianjin/suxiang1.jpg)

![](https://db.yihui.org/images/tianjin/suxiang2.jpg)

步行街一个路口地面的图案——和平聚宝：

![](https://db.yihui.org/images/tianjin/hepingjubao.jpg)

临走时太阳快从西边出来了：

![](https://db.yihui.org/images/tianjin/taiyangchulai.jpg)

火车开到天津北站：

![](https://db.yihui.org/images/tianjin/tianjinbei.jpg)

离开天津，太阳公公笑得倍儿灿烂：

![](https://db.yihui.org/images/tianjin/taiyang.jpg)

我真是倍儿ft！
---
title: 扇贝抽样案例——统计方法误区
date: '2005-08-22T20:26:00+08:00'
slug: 20-26-00
---

今日在薛薇老师的数据库研究室网站上看到袁卫老师给法学院的演讲，其中谈到一个案例——扇贝抽样，事情是这样的：

> Arnold Bennett是美国MIT斯隆商学院的一名教授，在杂志Interfaces（1995年3月）中描述了最近他作为统计学“专家”提供相关服务的一个法律案例。这个案例涉及一艘远离新英格兰海岸捕捞扇贝的渔船。
> 
> 为了保护幼扇贝免遭捕捞，美国渔业和野生动物保护机构规定“每个扇贝肉的重量至少1/36磅才可以捕捞”。这艘船被指控违反了这个重量标准。Bennett教授在文章中描述：
> 
> 这艘船抵达马萨诸塞州的一个港口时装有11000袋扇贝，港务人员随机抽选了其中的18袋来检查。港务人员从每一个袋中随机取出一满勺扇贝，然后算出每个扇贝肉的平均重量。港务人员根据18袋的结果估计这艘船的每个扇贝肉的平均重量为1/39磅，低于标准，于是立即没收了捕获的95%，后来进行了拍卖。
> 
> 
> 船主不服，对联邦政府提起诉讼，认为自己的捕捞符合标准，认为只选了18袋，不足以代表全体。律师问Bennett教授的问题之一就是：“能够从一个容量18的样本中得到所有扇贝的平均重量的可靠估计吗？”
> 
> 
> 于是Bennett教授进行了分析：
> 
> 
> Bennett教授把被抽样的18袋的每袋的平均重量按照1/36磅为1的情况作了比较，0.93就是比1/36磅轻，1.14就代表比1/36磅重，数量低于1的表明是不符合标准的。
> 
> 
> 请看下面的数据，只有两袋超过了1/36磅，其他都没有到“1”，都不符合标准。
> 
> 
> 0.93　0.88　0.85　0.91　0.91　0.84　0.90　0.98　0.88
> 0.89　0.98　0.87　0.91　0.92　0.99　1.14　1.06　0.93
> 
> 
> 那么正如律师所问，从11000袋中只抽出18袋作为样本合不合理呢？
> 
> 
> 结论是不合理：仅用18袋作样本太小了，至少应该在30以上，才能作为推断的基本证据，否则误差很大。当然抽样中也并不是越大越好，只要样本的抽样方法是科学的，适当的样本便是好的。

现在我把数据还原：


0.0258　0.0244　0.0236　0.0253　0.0253　0.0233　0.0250　0.0272　0.0244
0.0247　0.0272　0.0242　0.0253　0.0256　0.0275　0.0317　0.0294　0.0258


经过我的计算，样本均值为0.0259，样本方差0.0000043777，总体均值在95%置信度下的置信区间为【0.0258791537，0.0258801055】，这个置信区间的长度非常短，原因就是因为样本方差过小；即便是我们把置信度提高为99.9%，置信区间为【0.0258788307，0.0258804286】，其长度依然非常短。然而，置信区间的长度短，正表明了精确性。


注意我要说的“误区”，不在于Bennett教授指出的样本量过小从而抽样结论不可靠的误区（袁卫老师也这样认为），上面计算的数据表明，实际上精确度是非常之高的，精确度高理所当然是可靠的！我要提出我的一个疑问，如果没错的话，那么就是大多数研究抽样问题的人的一个误区——总认为样本量小是导致误差大的主要原因；我认为我们的理解走错了方向。


本案例的精度从何而来？答曰来自于置信区间，而置信区间又直接来自于样本均值的方差，所以我们从样本均值的方差公式来看这个问题，一切自然明了：

`$$V(\bar{y})=\frac{1-f}{n}S^2$$`

显然，样本均值的方差不仅受样本量n影响，而且受总体方差影响（样本方差是它的无偏估计），当样本方差非常小的时候，n对于估计精度能起多大作用呢？例如本例，样本方差极其小，此时n根本不起多大作用；或者，若n大了，样本方差有可能更大，于是可能导致精确度反而降低。由此看来，样本方差对于精度的影响同样是非常大的！

我上面这段话其实也是看似有理，没有说到本质问题上。为什么样本量小就会导致代表性不够、精度低呢？按常理想想，确实是这个道理，但是（我要说的误区所在）我们的解释往往停留在样本均值的方差公式前面的那个系数(1-f)/n上，如果n小，那么这个系数就会大，导致方差大，这个解释是不太合理的（虽然有一定道理），上面已经作出了初步说明，下面我说说我认为是本质的看法：

`$$P\left(\left|\frac{\bar{y}-\bar{Y}}{\sqrt{V(\bar{y})}}\right|\leq u_{\alpha/2}\right)=1-\alpha$$`

$$E(s^2)=S^2$$

其实，可能多数人都忽略了一种习以为常的替代——用无偏估计值替代真值。影响样本代表性以及精度的真正原因应该在这个替代上！$E(s^2)=S^2$

注意，无偏估计并不一定等于真值的！而通常由于无偏估计的良好统计学性质，我们就把它当作真值使用了；用样本量n很小的样本求出来的$s^2$与n很大的样本求出来的$s^2$，哪个对$S^2$更具有代表性？若n太小，当然感觉心里不踏实。试想，若抽出所有的样本点，那么样本方差就直接等于总体方差了；若抽取少数一两个样本点，代表性当然差，误差当然大！

真正的代表性与误差的根源，我认为来自于此，而不是样本均值的方差公式前面那个系数(1-f)/n，不知各位看法如何。

其实今日看袁卫老师的演讲，想到主要是另一个问题，涉及到统计学的根基性的问题：数据的概括性度量（集中趋势、离散趋势、峰度与偏度）。

原始数据经过整理、分析之后，必然造成信息的丢失；但是同时也概括、集成了主要信息。这是一种必然的、普遍的矛盾。

继续看袁卫老师的演讲：

> 另一个问题是，法律规定扇贝平均重量要超过1/36磅才可以捕捞，这一规定是否合理？
> 
> 我们认为以平均的扇贝重量作为保护扇贝的标准是有问题的。按照这个标准，如果船上有大扇贝，即使捕捞了小扇贝，由于平均重量符合了标准也不会被罚，这并不利于保护小扇贝。应当更改这种标准，比如规定捕捞到的小扇贝的百分比不能超过5%，或者像捕鱼那样，规定网眼的大小等等，这样比较合理。

这里反映充分出均值的缺点，对原数据作平均的处理，集成了信息，但是也掩盖了信息——有一部分小扇贝并没有受到保护。统计分析往往不可避免会丢失信息，同时，这其实也就体现出统计学的特性——不确定性（抑或称之为模糊性）。统计学总是研究不确定性的科学（个人理解），统计学唯一能确定的就是这个不确定性有多么不确定（用概率或者置信区间等手段体现）。


那统计究竟有什么用呢？似乎很没用的样子。我觉得这取决于当事人的风险爱好类型了。统计的结果，也仅仅是一个客观参考而已，不要去那么严厉地推敲它。仍然引用这篇文章的例子，作为本文结尾：

> 下面这个案例是著名的O.J.Simpson案。
> 
> 这个案子影响很大，是世界上最有名的审判之一，美国人把这个审判称为“世纪审判”。从1994年6月12日案发到1995年10月3日审判，美国共播出了5000小时的有关这个案子的电视节目，可见美国人对这个案件的重视程度。
> 
> 辛普森是美国橄榄球明星，又是播音员，是个家喻户晓的人物，这个案件便是要判定他是否杀了前妻和前妻男友。
> 
> 1994年6月12日（周日）晚11点左右，在洛杉矶市郊富人区，晚上跑步的人顺着狗的叫声，在辛普森前妻住宅的外面发现了其前妻和前妻男友的尸体。警察发现前妻被砍7刀，男友被砍22刀。首先被怀疑的就是辛普森，他已经和前妻离婚好几年了，且有虐待前妻的记录。警察在辛普森在富人区的房子外面的车的旁边发现了血迹，还有一只血手套，现场也有一只血手套，一左一右，是一对。
> 
> 
> 辛普森当晚已经乘航班从洛杉矶飞到了芝加哥，在得知前妻被杀时，表示很惊讶，并且立即飞了回来，但不承认自己有罪。洛杉矶警察作为检方提起诉讼，辛普森则请了美国最好的律师组成律师团。8月到11月选陪审团，最后陪审团确定为9个黑人、2个白人、1个拉美人。洛杉矶虽然黑人较多，但是比例也不是很大，但是这个陪审团却有四分之三都是黑人。
> 
> 
> 95年1月正式开始法庭辩论，检方的证据主要是：有作案动机；曾经虐待前妻；不满意前妻和其男友；经过DNA检验，血手套DNA相似的概率为99.99%。
> 
> 
> 庭辩论中，辛普森的律师指出以下几点：手套是几年前前妻买给辛普森的，但是辛普森戴不进去，最后很困难的戴进去了；警察抽了辛普森7毫升血，最后只剩5.5毫升，有1.5毫升不知去向；没有直接目击者，也一直没有找到凶器；辛两个月前买过一把猎刀，但是上面没有找到任何血迹。
> 
> 
> 最后辛普森的律师认为发现手套的警察仇视黑人，少的1.5毫升血液可能是被这个警察为了栽赃辛普森滴到血手套上了。同时从作案时间到飞机起飞仅有半个小时，杀人后洗清血迹，然后再登机，时间并不很充裕。
> 
> 
> 国有一句话：“一碗面条里只有一条虫。”意思是碗里只要找到一条虫子就不能吃了，再去找第二条在法律上是没意义的。这个案子，检方一开始是很顺利的，他们又提出了许多多余的证据，结果弄巧成拙。
> 
> 
> 95年10月3日，陪审团要做出最后的判决，12位陪审团成员一致认为辛普森无罪，因为已有的证据不足以认定有罪，只能做无罪推定。所有黑人欢呼雀跃，大多白人非常失望，并开始质疑陪审团制度和DNA检测。
> 
> 
> 刑事审判结束之后，在97年，法庭认定辛普森对虐待前妻以及其他一些行为要负民事责任，2月10日，判定辛普森赔偿3350万美金给他的前妻及前妻的男友。
> 
> 
> 这个案例并没有直接运用统计方法，只是我们可以注意一个细节，辛普森的律师曾经问DNA检验专家，99.99%的概率是否就意味着辛普森一定是有罪的，专家只能说“NO”。法庭哗然。
> 
> 
> 这表明，概率在法庭上只是一个可能性，只要不是100%，就不能仅依此一项证据定罪。这个案件没有直接的证人，没有直接的凶器，缺少最最重要的证据，因此只能做无罪推定。
> 
> 李昌钰说：“我只为证据说话，不去判断被告是否有罪。”套用一下，统计专家应当“只对数据说话，而不运用数据判断嫌疑人是否有罪”。
---
title: 我是一只只只只只小鸟（可爱的童音）
date: '2005-08-22'
slug: little-bird
---

不说什么了，听了一定不后悔！哈哈哈……

> 有时候我觉得自己永远都吃不饱  
> 也许只有吃的很多才能够长高  
> 盼望能有一张迷人的相貌把所有人都迷倒  
> 最后发现只有一种方法使用蒙汗药
> 
> 长大之后无奈进入了社会我总是睡不着  
> 我怀疑公司给别人的工资都比我高  
> 总是努力学着对别人微笑难免也中他们圈套  
> 偶尔上帝也会对我说失败很重要
> 
> 我是一只只只~~~小鸟  
> 因为吃的太多已经飞飞不高  
> 我寻觅一颗栖息的树已被我压折了  
> 这样的重量算不算太高
> 
> 我是一只只只~~~小鸟  
> 突然一天醒来有了迷人的美貌  
> 麻雀也能飞上青天谁的歌声真美妙  
> 美女的要求也不算太高
---
title: 博客网上没什么意义的访问量统计
date: '2005-08-25'
slug: blogchina-stats
---

想出一个办法，让你的访问量一天之内上升十万八万没问题；未经许可，不得转载。

以前我就跟博客网提过，这访问量若真要做，那么一定要做IP限制，要清除恶意刷新的数据，显示真正的访问量。不记得是卢亮大哥还是王童大哥给我解释说这是用户的要求——访问一次就增加一次。我心想，用户们还真是喜欢这点小虚荣啊，呵呵。

既然你们喜欢，那我告诉大家一个增加自己访问量的绝妙办法，版权所有，未经许可不得转载。不过需要稍微懂一点点很容易的HTML知识，知道怎样查看网页源代码就可以了。IE中就是菜单“查看”-->“源文件”；Maxthon中是“查看”-->“查看源文件”；其他浏览器也类似吧，就不多说了。具体方法如下：

在首页的源代码中找到类似这一句（不同的博客有不同的blogid）：

```html
访问统计：
<script language="JavaScript" src=http://counter.blogchina.com/BlogServlet?blogid=1423339 ></script>
```

把src后面那个地址完整复制出来（就是http那个，不带引号），粘贴到你的浏览器地址栏，回车，你会看到这样一句“`document.write('13679');`”，括号中的数字就是你的博客访问量。每刷新一次这个页面，数字就会增加一位。现在知道了吧？

既然奥秘在这里，那么请打开Maxthon浏览器，开它20个窗口，每个窗口都用上面的那个地址，然后每个窗口都设置自动刷新频率，比如5秒，然后一分钟之内你的博客访问量就飙升240次，一天刷新10小时，那么你的博客访问量就飙升144000次，一天增加十四万次啊，一个月就可以达到四五百万次啊，什么概念？

所以我说，这里的访问量统计没什么意义，于是我把它隐藏掉了。自己写自己的小博客，写自己的小生活，写自己的小思想，偶有两三好友来游荡一圈，怡然自得。我没有完全否认访问量的作用啊，只是，这世界，虚荣多了要不得。
---
title: 在中国挣扎的IM工具
date: '2005-08-26'
slug: im-in-china
---

新浪很高兴，因为新浪UC的市场占有率比MSN只相差5.61%。

今天新浪首页上有这么一条新闻：[新浪UC逼近MSN 获大众软件读者最喜爱的品牌](http://tech.sina.com.cn/i/2005-08-25/1109703488.shtml)

看这新浪这么得意洋洋，对于这些统计数字，忍不住说两句：

首先，根据大众软件的调查，腾讯QQ的市场占有率是55.95%，UC是12.20%，大约只是QQ的1/5；腾讯的地位真是很难撼动啊；IT界，往往是领头羊就会占据绝对的领导地位。看看后来的UC、POPO，仿QQ都仿成什么样了……U币、U秀、泡币、UC游戏大厅、泡泡游戏……（创新和突破太重要）

其次，UC可能觉得跟QQ没法比，于是转过头来“欺负”外来的和尚MSN，其市场占有率是17.81%；于是新浪大喜，认为逼近MSN了，嗯，8错8错。其实都是在玩儿数字，要是我是MSN的卧底，我肯定说MSN市场占有率超过UC45.98%；要是我是UC的托儿，我非说UC市场占有率只比MSN低31.50%；大家拿着计算器算算，都没错啊，可是这些数字给人感觉就不一样啊——很有意思的心理学。（学统计的要稍微研究一下心理学，这样出来的结果可能会令某些人比较高兴，但是颇有些不厚道）

再次，UC、泡泡这些“后起之秀”在聊天这个功能上没有多大必要跟QQ抗衡了，现在也只能靠其它的功能或者宣传方式来给自己增加吸引力了。目前UC好像正在大力推出视频聊天的功能；而POPO，也是靠免费短信简单的维持着。

最后，新浪的网页制作人员（应该是图片编辑人员）应该把那个饼图好好调整一下，Yahoo、Uuboy、ICQ那几个的百分比都看不清楚了，自己排第三了，也不要鄙视别人嘛。

啰嗦完毕。
---
title: 想起那些吃腐乳榨菜的日子
date: '2005-08-26'
slug: poor-days
---

我不在乎别人说我太瘦，但我忌讳别人羡慕我瘦——这两种行为对我来说含义完全不一样。对于后者，我在心里会隐隐感到愤怒。

回想起来，初中的生活最节俭，就是那吃腐乳榨菜的日子。五毛钱的榨菜吃一个星期，直到现在我自己都难以想象。高中的日子，好了很多，但依旧有着饥饿的记忆。不想写出来。

相比之下，大学里算是奢侈的生活了。还好，God opened another door for me

因为初中高中一直都是从家里带菜到学校吃，所以今天在食堂吃饭，吃着张叶银从家里带来的牛肉干，想起了那些日子。

生活的艰辛，我很幸运地品尝到了一些。确实很幸运。因为我知道别人不知道的秘密。
---
title: What I have lived for
date: '2005-08-29'
slug: what-i-have-lived-for
---

Bertrand Russell lived for the longing for love, the search for knowledge, and unbearable pity for the suffering of mankind.

Three passions, simple but overwhelmingly strong, have governed my life: the longing for love, the search for knowledge, and unbearable pity for the suffering of mankind. These passions, like great winds, have blown me hither and thither, in a wayward course, over a deep ocean of anguish, reaching to the very verge of despair.

I have sought love, first, because it brings ecstasy--ecstasy so great that I would often have sacrificed all the rest of life for a few hours of this joy. I have sought it, next, because it relieves loneliness--that terrible loneliness in which one shivering consciousness looks over the rim of the world into the cold unfathomable lifeless abyss. I have sought it, finally, because in the union of love I have seen, in a mystic miniature, the prefiguring vision of the heaven that saints and poets have imagined. This is what I sought, and though it might seem too good for human life, this is what--at last--I have found.

With equal passion I have sought knowledge. I have wished to understand the hearts of men. I have wished to know why the stars shine. And I have tried to apprehend the Pythagorean power by which number holds sway above the flux. A little of this, but not much, I have achieved.

Love and knowledge, so far as they were possible, led upward toward the heavens. But always pity brought me back to earth. Echoes of cries of pain reverberate in my heart. Children in famine, victims tortured by oppressors, helpless old people a hated burden to their sons, and the whole world of loneliness, poverty, and pain make a mockery of what human life should be. I long to alleviate the evil, but I can't, and I too suffer.

This has been my life. I have found it worth living, and would gladly live it again if the chance were offered me.

These aims above were what Bertrand Russell had lived for, but in my eyes, they might be concluded in only one word, that is--happiness--happiness of the old, of the young, of all individuals, of the people. The ultimate aim of love, knowledge, and pity for the suffering of mankind is just happiness--mine, yours, or theirs. In light of this opinion, I have lived my life as an ordinary individual but have never stopped thinking of the happiness of other ordinary persons. I don't believe big words, in which you must put your responsibility. However, that doesn't mean big words are of no use. Only when I've seen facts generated by these words can I put my faith in them. Thus I put most of my attention to the factual contributions one has made instead of what one has said.

Everybody has a mouth together with the freedom to speak, so words alone doesn't count at all. What have you lived for? We may hear a great many answers, among which there are sincere answers and false ones. I don't care what you say about the aim of your life or which way you choose to live your life; the only thing I care about is just what you've done--whether you've brought happiness even to one individual.
---
title: 小结数据标准化的性质及用处
date: '2005-08-30T20:24:00+08:00'
slug: 20-24-00
---

数据标准化是统计里面常用的手段，这种处理对数据有什么影响呢？这次只是看看减均值除方差的那种标准化方式；最后均值为0方差为1就不用说了；说两点别的性质吧。


1. 不改变秩。
2. 不改变变量之间的相关系数——无论是**Pearson**相关系数还是**Spearman**或**Kendall**相关系数还是**偏相关系数**都不会改变。（结论推导很简单也比较有意思，先简单地推出Pearson，由1可推出Spearman和Kendall，由Pearson又可以推出偏相关系数）

由于数据标准化的性质，以下场合使用比较频繁：

1. 回归分析中常用这种手段去除截距项。
2. 在一些需要加权平均的综合指标排名中，为了**消除量纲影响**（其实这几乎是标准化的本质用途），也常用标准化数据的方式。
3. 为了在图中更清楚地看出若干个变量的相关关系，可以使用标准化的方法（仍然类似于消除量纲影响），让数据处于相近的数量级水平，这样作图会比较直观。

如何进行数据的标准化？

答曰：若使用SPSS，在Descriptives（描述统计）分析中，有一个"Save standardized values as variables"选项，我每次都偷懒，用这种方法计算的；若正儿八经地算，那么就用Compute，套着公式做吧；用Excel输入公式计算当然也可以，用两个函数Average和Stdev，在一个单元格中写好了，bia~ji~往下一拖，就完事了。

今天之所以想起这么个事儿，是因为帮一位博士做论文中的统计分析时，发现了上面的第2条性质，接着用标准化后的数据做了个图。
---
title: 开学大吉！打菜的师傅不抖勺了！
date: '2005-09-01'
slug: opening-semester
---

一个暑假就忽悠过去了。

今天中午去东区食堂吃饭，那师傅给我打完菜，然后加好饭，刚准备递给我，又想了想，然后竟还给我多添了两块肉，我差点感激得老泪纵横……平时师傅们不是都苦练抖勺技术的么？今天太阳从西边出来了啊？不过话说回来，东区师傅在四个食堂中还算可以了，一般没有什么抖勺的动作，我看现在中区食堂最抠门，打到盘子里面的菜她能当着你的面给你又拨出一部分出来，KAO，这世道……

嗯，开学了就不再长篇大论了。要精简篇幅。最后感谢东区食堂的水煮肉片，感谢看这堆字的朋友们，感谢CCTV，感谢华纳……
---
title: 软件中别扭的中英文翻译
date: '2005-09-03'
slug: acdsee-translation
---

前两天为了批量处理照片，装了个ACDSee 6.0，今日发现ACD FotoSlate™ 3.0（简体中文版）启动页面中标题为“获取开始”，不禁觉得好笑。熟悉英文软件的人都知道，在英文中本来应该是"Get started"，结果就被翻译成这样了。这样硬生生的，翻译的人也不觉得别扭。干嘛非得每个词都要翻译出来呢？

且不说信、达、雅了。
---
title: 无聊的Blog游戏，不是一般的汗……
date: 2005-09-03
slug: blog-game
---

我一把鼻涕一把泪地写……谁想出来的破主意，写得我满头大汗……

五本最近看过的书（含漫画、杂志、电子书等）：

- 经济学（斯蒂格利茨）（没看完，计划泡汤了）
- A Love of Life
- 中外电子商务统计与应用研究
- 中国信息化评价与比较研究（统计局出的一本很差劲的书）
- Idle thoughts of an Idle Fellow（懒人懒思录）

五部最近看的电影：

- 迁徙的鸟
- Serendipity
- 三部动画片（风之谷、岁月的童话、天空之城）
- Sophie's World
- 活着

五件最近令自己愉快的事：

- 食堂师傅给我加了两块肉
- 拿着相机拍问卷，拍了几百张，腰酸背痛，但是感觉相机就像印钞机，拍出来都是钱呐
- 外国语学院一个博士生不懂计算机和统计，让我帮忙，我感觉SPSS和Word就像印钞机
- 匡晓波老板和我谈得很合得来，让我更加确信我的人生之路
- 发现有些名人心里还是很心虚的，我于是很得意，名人也不过如此嘛

五件最近令自己郁闷的事：

- 蚊子又开始多了，两天都没睡好，天天连夜作战
- 今中午吃饭，发现那肉简直放了几斤盐，怎么那么咸？！极其郁闷！
- 丢人了（Lost a person）
- 昨晚举哑铃，一口气只能举十二下了（40斤）
- 实在是想不出来还有什么郁闷的了，饶了我吧，这游戏真郁闷……

五首最近电脑里最常放的歌/音乐：

- Connie's Butterfly
- Canon in D
- Songs and silhouettes
- Sadness and sorrow
- 那些花儿

五个希望游戏传递下去的朋友：

- 太费脑筋，不想传了……大家联合起来，把游戏传到发明这个“游戏”的“始作俑者”那里去！汗死他/她/它！唉，耽误我这么多时间，继续看新制度经济学！
---
title: 这一年要使劲学习！
date: '2005-09-04'
slug: good-good-study
---

突然间发现很可能马上就要离开校园了，赶紧学点东西……

经过很长时间的考虑以及跟一些公司的联系，工作的事情有了比较大的把握，不用发愁了；于是决定不考研了，虽然很舍不得校园生活、舍不得这里学习的气氛……看有没有保研的希望吧……

所以，这一年，无论如何都要发狂学习！多锻炼自己！
---
title: 非参数统计、S-Plus和王星老师
date: '2005-09-07T20:22:00+08:00'
slug: 20-22-00
---

看见大三的师弟师妹们又开始上非参数统计，忆往昔，花点时间写两句。

对于非参数统计，不应局限于方法的运用，首先应该树立一种思想——比较参数统计和非参数统计各自的优势劣势。我觉得学习了非参数统计，自己的统计思想有了“革命性”的变化，就像是突然间又开辟了一块新天地。非参数统计终于摆脱了各种统计分布的假设，主要研究方法都是从“秩”入手，这样的处理，不可避免会丢失信息。这是一种普遍矛盾，就像绝对的完美是不可能的一样。

S-Plus是很好的工具，这一点还是要感谢王星老师将它介绍给我们。在此想给师弟师妹们一个重要的提醒（荀子《劝学》）：“君子性非异也，善假于物也。”这句话一定要记好，对于学统计的人，务必要掌握好工具、注重效率。S-Plus中各种有用的统计函数，将会给我们编程带来很大的方便，这些函数还要自己多多探索，也要多多向老师请教！切记切记！（王星老师一般不会主动告诉你们什么函数会在作业中用到的）还有，从现在起，一定要加强自己阅读英文帮助的能力，学习软件时看看帮助还是很有好处的；但“不幸”的是，S-Plus是英文版的，大家正好趁机多锻炼。至于S-Plus编程细节方面，以后看时间安排情况再决定是否写一点吧。总之S-Plus并不可怕。

最后要说说王星老师——开明、聪明的一位老师，真可说是“绝世而独立”（每每说“独立”都有一种说“独立同分布”的冲动），有独特的教学风格，不过有些同学也不太能接受这种风格；我倒是挺喜欢的（我倒不是冲着她给我非参92分说这样的话的）。王星老师注重三门学问——心理学、哲学和逻辑学，我一向得意于她的前两门也是我注重的，这样一来跟她还是很有谈资的，谈起来就滔滔不绝直到她上幼儿园的儿子好几次从家里打电话到办公室问怎么还没回家。王星老师在教我们非参数统计时，很多人对她的印象一下子就有了很大的改变。言笑之间，便知此人数理功底的深厚，知道的东西也很广泛（说明实际应用做得比较多）；为了我们的健康，曾力劝我们下课10分钟之间要下楼走动不要趴在桌上睡觉。王星老师是个很有趣的人，上学期给我们几位同学学年论文的参考题目也很有意思，可见还是很注意以兴趣引导学生的。要说不足的话，可能就在于我们的作业吧，很少给我们集体讲解，于是经常有些问题就成了“千古之谜”。

上学期上统计计算课，顺手记了很多王星老师的语录，我上课记笔记有个习惯，喜欢记老师所说的课外的话，真正课堂上的内容，我是懒得记的，因为书上本来就有，自己理解清楚就可以了。翻开笔记，摘录几句如下：

> “成绩不见得准确反映大家的水平。”（对分数这个指标的质疑）
> 
> “不精确的东西也可以应用。”（对统计的深刻阐述啊，有多少人能理解呢）
> 
> “别把东西给笔记本记住而自己没记住。”（正是在下对记笔记持有的态度）
> 
> “误差是会积累的，学统计的一定要控制误差，这样我们的纪律就能得到保障。”（当教室里有说话的嘈杂声，并且越来越大影响纪律时，王星老师如是说，大家爆笑一通，然后安静）
> 
> “这不是本质。”（这句话要结合一定的语境来解释；但是是一句很深刻的话）
> 
> “大家打分时别讨论，否则你们的数据就不独立了。”（有一次她让我们交换笔记互相评分，而下面有人说话商量）
> 
> “要养成锻炼的习惯。”（上课讲着讲着，不知道怎么离题了，但说了一句很对的话）
> 
> “做统计的一定要什么都知道。”（将来搞应用，哪有书上的例题这么简单？都是实际问题，我们得了解啊）
---
title: 谢谢薛薇老师的关心
date: '2005-09-09'
slug: thank-xue-wei
---

不准备考研了，薛老师听说后赶紧打电话过来。

趁着FlashGet里还在下载Apache，在这里说一声谢谢老师吧。从大二VB课后，薛老师一直很关心我；有机会时都会跟我们好好谈话，很能为学生着想；确实是一位好老师……

嗯，有关考研的事情，我会再次好好考虑。
---
title: 行列式值为零的教师节
date: '2005-09-10'
slug: teachers-day
---

所谓“行列式值为零”，就是“奇异”啊。我觉得我的联想能力比较夸张，本来开始写这篇日志时想写“奇异的教师节”，后来想想，这样不好玩，还是改成用行列式表示吧。我早已自封为联想CEO。

估计观众朋友们已经倒下一大片了。

今天教师节，当然应该首先祝各位老师们节日快乐！上午看见了薛老师的留言，真的觉得当老师的都很伟大……诸位老师的恩德，当下也惟有发奋学习将来有所成就来回报吧。

赵老师办公室里今天的学生也是络绎不绝，中午我接电话手都接软了。

下去吃饭时，看见一个小家伙扑在妈妈怀里放出高昂嘹亮的哭声，不知是不是在庆祝教师节。似乎夸张了点。

食堂师傅难道认识“谢老师”了？给我打饭打得堆成了山，我要了三两，结果起码给我打了半斤，还好我吃饭一向只怕少，不嫌多，半斤就半斤吧；差点撑出人命来。

逸夫会议中心前面场地上有很多人在留影，应该是一些感恩的学生吧。看着那些头发花白颤颤巍巍的老教授们，被学生扶着，还是挺感人的。

最为奇异的还是刚才猛然收到一条短信——

```
FROM: 单小丹
09/10 14:02
-----------------
谢老师！节日快
乐哈！:-P
-------结束-----
```

每天都有令人惊异、欣喜的事情发生，这日子真不错。虽然俺是个冒牌老师，沾了份光，也是很得意的。

研究了两天PHP，脑子昏昏沉沉，但一些名字，今日仍会在脑中浮现。感谢过去所有老师的苦心栽培……祝你们节日快乐！
---
title: 文件夹不可以重命名为con
date: '2005-09-12'
slug: rename-con
---

真是怪事！Windows竟然还有这么一点限制，真是奇怪啊。把文件夹重命名为con之后立刻就又会变成原来的文件夹名……
---
title: Facing up to another autumn
date: '2005-09-17'
slug: another-autumn
---

It's said that time flies like an arrow, but for me perhaps it's not true...

Long time as it is, there were also many unforgettbale things happened...

Over and over again, in a certain silent night they'd show up in my mind...

Vacant and clear, faraway and near, joyful and sorrowful, lost and found...

Enjoy life! I say to myself, ignoring past the bitterness I've experienced...

Observing the silver lining every time we get lost in the heavy clouds...

.

Sharing, Sacrificing, Screaming, Sealing, Sensing, Singing, in September...

.
---
title: 突闻网易CEO辞世
date: '2005-09-21'
slug: netease-ceo
---

咋搞的？难道最近人都比较短命？
---
title: 乱糟糟的中国群众大学
date: '2005-09-21'
slug: people-univ
---

在西区看看，就会觉得我们成了弱智儿童；外面涂得花花绿绿的食堂墙壁，小水池底给涂成蓝色用以显出“水蓝蓝”多么漂亮……

一共才三层的中区食堂，大兴土木在修电梯；食堂前挖了一个暑假，以前说是修停车场，现在看看修完之后跟以前几乎没什么区别；我还整天被吵得要死；

网络收费，技术那么烂，明摆着坑学生，一不小心1G国际流量，连个通知警告都没有，估计某某人偷笑着数钱了；流量能精确到小数点后近十位，我不知道那是什么单位了，谁告诉我0.000001bit是什么概念？收费之前的承诺，幼稚无比，现在也不能兑现。

大学大楼大师……明德楼都脱皮好几次了，那外面的瓷砖干吗总是要往下掉呢？糊都糊不住……昨天看见这栋让我们领导得意洋洋的大楼又一次脱皮，差点笑喷了，这不是什么什么渣还能是什么？昨天有人在那里要跳楼，不知道咋回事。

保研政策，明显就是严重误导；居然也能想出来！这种指标体系，真是可笑！俺们辛辛苦苦学习是为了啥？

看看同学间现在的紧张气氛，可悲……
---
title: 大开杀戒！！！
date: '2005-09-30'
slug: study-hard
---

洒家这段时间闲得很，每天过着猪一样的生活，现在保研的事情也过去了，决定要转变这种生活，开始大开杀戒，拼上老命，疯狂学习！

似乎跟大多数人是反的，保研名单决定之前，大家拼命学习准备复试，而我天天睡懒觉；现在这事情初步过去了，名单报到了学校，大家可能就要睡懒觉了，我偏偏要狂学习，哈哈哈……

俺的面前摆着三个大问题，不管怎么说，只要是主观努力能解决的，就要拼上身家性命解决，问题之一就是make money！

明天下午跟中青世嘉谈谈数据分析的事情；然后看看HiAll的VB招聘怎么回事，那边也有认识的人，说不定也可以去混混；Elias的文章还没翻译；Excel的书还没看完，接着泡图书馆；博客网现在乱糟糟的，新版本公测也快开始了，这个热闹也是要凑的；不过最重要的还是学习啊！

我一辉大人从此疯了……
---
title: 有序样品聚类分析S-Plus程序
date: '2005-10-01T17:26:00+08:00'
slug: 17-26-00
---

我写了两整天的S-Plus程序，放在这里做个纪念吧。

## 有序样品聚类介绍

顾名思义，有序样品即为按照一定顺序排列的样品，其次序不可打乱。有序样品聚类方法与一般的聚类方法区别在于各样品的“地位”不相同，而在一般的聚类方法中，所有样品都是按照距离原则平等地被聚到某一类中，不管原先样品是什么样的顺序。

## S-Plus程序初步说明


1. 程序思想/算法：主要难点/重点在于两个样品`$x_i$`和`$x_j$`之间距离$D(i, j)$的计算以及递推寻找类内最小距离`$$e[P(n, k)] = \min\{e[P(j-1, k-1)]+D(j, n)\},\, k<=j<=n$$`
2. 变量/函数意义解释：

一共两个函数——

- `dstc(x, i, j)`：即distance，计算两个样品`$x_i$`和`$x_j$`之间的距离，参数$x$为样品矩阵`$(x_1,x_2,\ldots,x_n)^T$`，每一行$x_i$为一个样品（p维向量），列为变量；
- `OCluster(x, k)`：即Ordinal Cluster，寻找类内最小距离以及相应的类起始点，x同为样品矩阵，k为分类数，输出的结果有三个矩阵：样品两两之间的直径矩阵D(i, j)、类内距离矩阵e[P(n,k)]和分类起始位置矩阵。


涉及到的变量名——



- iniD：即initial distance，初始距离设为零，用来累加计算xi与xj之间的直径；
- n：样品数目（样本量），即为样本矩阵的行数；
- mtrxD：即matrix of distance，n维矩阵，用来存放直径D(i,j)；
- mtrxE：n-2维矩阵，存放最小类内距离；
- mtrxIndex：即matrix of Index，n-2维矩阵，用来存放分类的起始点（样品号）；
- iniMin：即initial Minimum，初始最小距离，用在寻找最小类内距离的算法中，如果某种分法使得类内距离小于iniMin，那么将iniMin替换为这个距离，把距离存放在矩阵mtrxE中，然后记下这个分法的起始点存放在mtrxIndex中，接着用下一种分法的距离和iniMin来比较，重复上面的过程。
- splt：即split，k-1维向量，记录把n个有序样品分成k类时的k-1个分割点的位置。
- rownum：即row number，矩阵行号，具体解释在后面。
- result：聚类的最终结果，本程序用“//”符号将样品序号1, 2, ..., n进行分割表示最后的分类结果。
- 其它l, a, b, p, w等均为循环变量。


程序代码如下（核心程序在于找最小类内距离以及相应的分割点）：


```r
dstc <- function(x, i, j) {
  iniD <- 0
  if (i < j) {
    for (l in i:j) {
      iniD <- iniD + crossprod(x[l, ] -
              apply(matrix(x[i:j, ], j - i + 1), 2, mean))
    }
  }
  return(round(iniD, 3))
}

OCluster <- function(x, k) {
  n <- nrow(x)
  mtrxD <- matrix(, n - 1, n - 1)
  for (a in 2:n) {
    for (b in 1:(a - 1)) {
      mtrxD[a - 1, b] <- dstc(x, b, a)
    }
  }
  print(mtrxD)
  mtrxE <- matrix(, n - 2, n - 2)
  mtrxIndex <- matrix(, n - 2, n - 2)
  for (a in 3:n) {
    iniMin <- dstc(x, 1, 2 - 1) + dstc(x, 2, a)
    mtrxE[a - 2, 1] <- iniMin
    mtrxIndex[a - 2, 1] <- 2
    for (p in 3:a) {
      if (dstc(x, 1, p - 1) + dstc(x, p, a) < iniMin) {
        iniMin <- dstc(x, 1, p - 1) + dstc(x, p, a)
        mtrxE[a - 2, 1] <- iniMin
        mtrxIndex[a - 2, 1] <- p
      }
    }
  }
  for (a in 4:n) {
    for (b in 3:(a - 1)) {
      iniMin <- dstc(x, b, a)
      mtrxE[a - 2, b - 1] <- iniMin
      mtrxIndex[a - 2, b - 1] <- b
      for (p in (b + 1):a) {
        if (mtrxE[p - 3, b - 2] + dstc(x, p, a) < iniMin) {
          iniMin <- mtrxE[p - 3, b - 2] + dstc(x, p, a)
          mtrxE[a - 2, b - 1] <- iniMin
          mtrxIndex[a - 2, b - 1] <- p
        }
      }
    }
  }
  print(mtrxE)
  print(mtrxIndex)
  splt <- NULL
  rownum <- n
  for (p in k:2) {
    splt <- c(mtrxIndex[rownum - 2, p - 1], splt)
    rownum <- mtrxIndex[rownum - 2, p - 1] - 1
  }
  result <- NULL
  for (p in 1:n) {
    result <- cat(result, p, " ")
    for (w in 1:length(splt)) {
      if (p == splt[w] - 1) {
        result <- cat(result, "// ")
      }
    }
  }
  return(result)
}
```

```
> x <- matrix(c(9.3, 1.8, 1.9, 1.7, 1.5, 1.3, 1.4, 2, 1.9, 2.3, 2.1), 11, 1)
> OCluster(x, 5)
numeric matrix: 10 rows, 10 columns. 
        [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8] [,9] [,10] 
 [1,] 28.125    NA    NA    NA    NA    NA    NA    NA   NA    NA
 [2,] 37.007 0.005    NA    NA    NA    NA    NA    NA   NA    NA
 [3,] 42.207 0.020 0.020    NA    NA    NA    NA    NA   NA    NA
 [4,] 45.992 0.087 0.080 0.020    NA    NA    NA    NA   NA    NA
 [5,] 49.128 0.232 0.200 0.080 0.020    NA    NA    NA   NA    NA
 [6,] 51.100 0.280 0.232 0.087 0.020 0.005    NA    NA   NA    NA
 [7,] 51.529 0.417 0.393 0.308 0.290 0.287 0.180    NA   NA    NA
 [8,] 51.980 0.469 0.454 0.393 0.388 0.370 0.207 0.005   NA    NA
 [9,] 52.029 0.802 0.800 0.774 0.773 0.708 0.420 0.087 0.08    NA
[10,] 52.182 0.909 0.909 0.895 0.889 0.793 0.452 0.087 0.08  0.02
numeric matrix: 9 rows, 9 columns. 
      [,1]  [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]  [,9] 
[1,] 0.005    NA    NA    NA    NA    NA    NA    NA    NA
[2,] 0.020 0.005    NA    NA    NA    NA    NA    NA    NA
[3,] 0.087 0.020 0.005    NA    NA    NA    NA    NA    NA
[4,] 0.232 0.040 0.020 0.005    NA    NA    NA    NA    NA
[5,] 0.280 0.040 0.025 0.010 0.005    NA    NA    NA    NA
[6,] 0.417 0.280 0.040 0.025 0.010 0.005    NA    NA    NA
[7,] 0.469 0.285 0.045 0.030 0.015 0.010 0.005    NA    NA
[8,] 0.802 0.367 0.127 0.045 0.030 0.015 0.010 0.005    NA
[9,] 0.909 0.367 0.127 0.065 0.045 0.030 0.015 0.010 0.005
integer matrix: 9 rows, 9 columns. 
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] 
[1,]    2   NA   NA   NA   NA   NA   NA   NA   NA
[2,]    2    4   NA   NA   NA   NA   NA   NA   NA
[3,]    2    5    5   NA   NA   NA   NA   NA   NA
[4,]    2    5    6    6   NA   NA   NA   NA   NA
[5,]    2    5    5    6    6   NA   NA   NA   NA
[6,]    2    8    8    8    8    8   NA   NA   NA
[7,]    2    8    8    8    8    8    8   NA   NA
[8,]    2    8    8   10   10   10   10   10   NA
[9,]    2    8    8   10   11   11   11   11   11
1  // 2  3  4  // 5  6  7  // 8  9  // 10  11
```

唉，谁要是看懂了俺的破程序我真要请他/她吃饭！编得真不容易，虽说只有七十多行，也是挖空心思……
---
title: 8844域名不出我所料
date: '2005-10-10'
slug: '8844'
---

哈哈，果然是网络时代，珠峰高度变化，马上就有了对应的网址。8844.com，8844.cn，8844.org等等，甚至跟8844相邻的几个数字都被注册了。昨天我看见新闻的第一反应就是域名，而不是关注这个数字跟原来有什么变化（因为有8848为先例），看来我脑子里有了很浓的域名商业意识啊：）

上次经过三环上的蓝景丽家大钟寺家居广场，看见他们的招牌上打着网址：<http://www.lanjing-lijia.com> 于是心想可以注册一个网址 <http://www.lanjinglijia.com> 然后卖给他们，因为后者输入更方便。

不过我倒觉得靠域名赚钱没什么意思。话说回来，有些人的创意确实很不错。例如一百万。
---
title: 迷信统计调查——科学的悲哀
date: '2005-10-15T17:13:00+08:00'
slug: 17-13-00
---

想当初杜子芳老师上课慨叹我们国家领导不知道使用**科学**的方式取得数据（主要指的是抽样调查），最近与外面一家教育机构打交道比较多，加上以前的一些感触，算是明白了杜大人说的“科学”仍然是路漫漫其修远兮。


我看到掩盖在“调查”这个光明正大的所谓的“科学”的幌子背后，有一些黑幕，更有一些迷信。黑幕就不说了，这世道，黑幕太多；而迷信就更可怕了——对科学的迷信。这句话自身好像有些矛盾，对科学的信任怎么是迷信呢？


科学，在什么情况下会变成迷信呢？我觉得当使用科学而不分具体情况、场合、背景时，科学就变成了迷信。有些科学的方法，本来是很好的方法，但是往往就因为太科学，所以被滥用了。比如现在问卷调查就是这样（其实问题同样严重的还有我们的统计分析软件）。


现在这种所谓的调查公司真是多如牛毛，而你真正去那些公司看看，就会发现堂堂一个调查公司，连一个会用SPSS的人都没有，更不必说他们设计的问卷，只能用“惨不忍睹”来形容。可以举个例子，看看这样的选项设置：


> 6、第一次就业，你所能够接受的工资待遇是：

> A. 1000以下 B. 1000---1500 C. 1500---2000 D. 2000----3000 E. 3000以上 **F. 其他**

看来这个设计者很注意选项的完备性，因此特意在前面的选项后加上一个“其他”选项，我想破头也不知道这“其他”到底指什么；如果工资能用复数表示的话，比如5000+300i人民币，那我就不说什么了。


这就是典型的对完备性的迷信，太迷信以至于过了头。


上次批评了新浪，这次很不幸，我又要批评它了。最近议论很多的一个话题就是关于公交售票员掐死14岁女孩的事情，我先不论这件事情（似乎冷血了点），我们看看新浪的反应——马上针对“您认为北京公交车售票员态度如何”和“您在北京乘坐公交车时遇到过售票员或者司机的无礼对待吗”做了一项调查，结果是对于前者，83.95%的被调查者认为“不好，有损首都形象”，对于后者61.37%的被调查者认为“经常遇到或者见到”。详情参见：<http://news.survey.sina.com.cn/voteresult.php?pid=4659>


现在这个时候，做这种调查，其结果必然有极大的偏向性，可想而知，在这件事情之后公众对北京公交车售票员的印象必定会突然变得很差，还用得着你调查么？是个正常人都会预料到这个结果。


这就是只顾调查而不注意现实背景的情况。可惜我们的教科书不太提到这些东西，尤其是我们统计抽样调查的教科书，过于偏向数学；我个人觉得我们统计专业的同学应该同时看看社会学的书（如果真想做好调查的话）。


不过我们也应该向各位老师综合学习，关于“背景”，我们的赵彦云老师上宏观经济统计分析课曾经提到过，可能大家都没在意。


唉，感觉这世道真是乱，乱糟糟的。学校与社会，隔阂太深。有科学的东西，却无法被恰到好处地使用，真是莫大的悲哀。


P.S. 今晚特别懒散，什么都没干，睡觉之前，也想个问题，写点东西，算是给自己一个交待，好些天没认真写Blog了。
---
title: S-Plus/R软件使用攻略
date: '2005-10-18T17:02:00+08:00'
slug: 17-02-00
---

关于统计软件和S-Plus，黄思思催我写篇稿子，昨晚花了四个小时写完，先发布于此吧。

---

关于S-Plus（R），想写点东西的念头由来已久，因为据我观察，我们统计学院的学生似乎对编程存在某种情绪，大家都不太愿意编程序。在正式内容开始之前，我先就程序在统计中的作用以我个人的理解啰嗦两句吧。


我们已经有很多种具有很好的用户界面（UI）的统计软件，点着鼠标就可以轻松完成统计分析，比如SPSS、MINITAB，甚至Excel等，那为什么要学习编程呢？我认为这其中有两点原因：


一是因为我们需要适当了解**统计分析的过程**。对于现在的统计软件及其应用，用“泛滥”这个词来形容并不过分。统计软件正在朝“傻瓜式”的方向发展，现在的“傻瓜”意味着不管你怎么点鼠标，软件都能给你运算出来所谓的统计分析结果。人们看见出来的结果中有“df”，“Sig. (2-tailed)”，“95% Confidence Interval of the Difference”等，于是就吓坏了，心想，多么神奇啊，多么科学啊，可能他们所谓的“科学”就是指大家谁都看不懂的东西吧。傻瓜式的东西其实就是把分析计算过程隐藏在一个Black Box中，我们把任何东西都扔进这个Black Box都能产生结果，当然，把奶牛、轮胎、衣架扔进去是不行的，我是指数据。我们学习编程，目的就是清楚计算过程，进而更加深刻地理解统计方法，更重要的是理解统计方法应用的**背景**、**前提条件**以及计算出来的**结果的含义**。


二是因为统计软件的发展要**适应统计方法发展的需要**，尤其是一些特殊方法。任何一门学科的发展，都必须要有不断的**创新**，统计也不例外，并且大量的统计分析也依靠着计算机来完成；在这个时代，庞杂的手工计算是难以想象的。新方法的产生，应该有相应的统计程序在计算机上实现，而现实并非如此。举个例子，比如我们多元统计分析中的有序样品聚类分析，我就没找到相应的SPSS分析方法（不知是否有License的问题），后来只好自己用S-Plus写了这个程序。不仅是这些经典的方法，我们平时自己发现而软件上没有的统计方法，都可以用编程的方法来自己实现。这里附带说一句，现在大三上非参数统计的同学们可能“受苦”了，你们使用的很多非参的方法其实S-Plus中有现成的函数，但你们也应该听王星老师教导，“安分守己”一些，认真编程序，多锻炼锻炼吧。


下面就具体针对S-Plus编程说一点自己学到的S-Plus程序知识吧，仅供参考。


## 一、程序通常的组成部分


完整的程序一般包括三部分，这是经典程序书籍中必然要提到的：**算法**（灵魂）+**数据结构**（对象）+**语言环境**（工具）。


对于所谓算法，我觉得知道三种结构就已经足够了：顺序、选择和循环。这是三种基本的程序机构，顺序结构没什么好说的，原程序是什么顺序就怎样执行；选择结构用得较多的就是`if(test) {true.expr} else {false.expr}`，这也是很明了的结构，当然还有`switch()`函数，有兴趣的同学去查帮助吧；循环无非就是`for (name in values) {expr}`，至于`while()`等都可以自己看相应的帮助。


对于数据结构，在S-Plus中用得最普遍的就是向量（Vector）和矩阵（Matrix），掌握了这两种数据结构的使用，可以说S-Plus的数据结构就算基本掌握了，此外List也是比较常用的，像data.frame什么的，说句实在话，用得不多。向量一般通过函数`c()`来产生，矩阵则是`matrix()`，其中的元素用方括号“[]”来读取，方括号中的下标可以极其灵活地使用，比如a是一个向量，那么a[3:5]则表示a中第3到第5个元素组成的向量；同样，对于一个矩阵a，a[3:5,]表示矩阵的第3到5行，尤其是下标为**负数**时，表示从数据中去除相应位置的元素，例如a[-2]表示去除向量a的第2个元素。后面我要着重要强调三种括号“()”“[]”“{}”的用法。


语言环境当然指S-Plus的特殊语言规定了，比如语法等。之所以提到语言环境，是为了说一下R和S-Plus的区别：目前就我一点浅薄的了解，语法方面似乎R只是在S-Plus中把赋值符号“`_`”改为了“`=`”（对于S-Plus中的“`<-`”和“`_`”我愤愤已久，很BT的规定）；当然这点区别没什么大的意义，还有很多其他方面的区别，比如S-Plus有Data Set，而R没有，等等，就不多说了。总之R跟S-Plus语法上几乎完全是一样的，所以我在标题中把它们俩放在一起来说。当然，用哪种软件没关系，重要的是程序思想（这是独孤求败的剑冢给我们的启示啊）。

## 二、程序为什么出错


辛辛苦苦编出程序，Run一下，发现有Syntax Error（句法错误）或者Object … not found（变量未定义而出错，但注意函数中的参数不用再定义），不禁要抓狂……


程序的错误只要不是逻辑思维上的错误，那就不是什么严重错误，首先我们自己要保证自己逻辑的正确性，对于一些“技术性”的错误，处理起来还是很容易的，我自己大致总结了一下我们容易犯的错误：


1. 当年VB“毒害”了我们的语法习惯

    有天晚上徒弟大人就跑过来愤愤地问我VB学了干嘛的，为什么现在又改用S-Plus，我目前只能解释为S-Plus更适合**统计编程**，但是我看到我们脑中VB的语法对现在S-Plus的语法影响确实比较大。比如S-Plus中赋值符号“`<-`”或“`_`”常被误写成“`=`”，逻辑相等符号“`==`”常被误写为“`=`”（记好！S-Plus中几乎没有用“`=`”的地方），逻辑“非”“`!=`”误写为“`<>`”，逻辑“或”“`|`”误写为“`or`”，逻辑“和”“`&`”误写为“`and`”等等。

2. 括号不配对

    我们编写的程序大多也都比较长，于是常常出现括号不配对的情况。好在S-Plus的Script中有自动配对括号的功能，当键入回括号时，前面相应的括号会反显闪动，我们可以利用这一点来检查括号是否缺失。

3. 循环下标出界

    由于我们的程序中经常用到向量和矩阵作循环，循环下标出界也是常见的错误。如果程序运行遇到什么“疑难杂症”或者莫名其妙的错误，可以检查一下是否属于这种错误。

## 三、括号的用法


基本就三句话：**`()`里面放函数的参数，`[]`获取数组或者向量的元素，`{}`放结构程序段**。比较特殊的是“`[[]]`”，这是在List型数据中使用的，表示一个List的某一个位置的数据对象，大家可以试试看geyser[[1]]或者geyser[[2]]表示什么。

## 四、两个强烈建议——使用函数和帮助

1. 关于函数

    我编出来的程序经常挨大家骂，因为我总是使用一些大家不知道的函数，大家觉得读不懂，但是我的目的是为了**简化程序**，本来编程就是一件让人很头大的事情，能抄近路就抄啊！所以我大力提倡大家使用一些很便利的函数如seq()，rep()，%%，%/%，%*%，abs()，sqrt()，对于我们统计专业的同学，更是应该掌握一些基本的统计函数，如sum()，mean()等，还有大量的分布函数如chisq，t，norm等，也是必需要掌握的。

2. 使用帮助

    对于帮助，我不得不说，在下实在是很想不明白，为什么大家能咬牙背完红宝书、TOFEL词汇，却仍然惧怕英文帮助呢？这是多么大一块宝藏啊！可惜我们都不利用。一定要记得，养成在问别人之前先问帮助的习惯。

    ![S-Plus帮助文件](https://db.yihui.org/images/shelp.jpg)

好了，不敢多啰嗦了，谢某本来就是个很啰嗦的人。只是希望大家看了这些文字之后不要再犯if(a**=**3){...}这样的错误，如果能写出for(i in **10:1**){...}这样的程序（要学会**灵活运用**程序语法！），那我再高兴不过。也欢迎大家在此跟我讨论，什么都可以谈，八卦除外。

附：一些教程PDF版本下载以及R 2.1.1 Windows版下载地址

- [SAS+S-Plus教程](http://cn.math.pku.edu.cn/teachers/lidf/docs/statsoft/PDF/web.pdf)（北京大学数学科学学院李东风）
- S-Plus教程（北京大学数学科学学院李东风）
- S-Plus教程（中国科大 孟强）（写得不错）
- R 2.1.1 Windows版[下载](http://cn.math.pku.edu.cn/teachers/lidf/download/R/rw2011.exe)（25.4M）
---
title: 明天霜降，继续睡凉席
date: '2005-10-22'
slug: frost-mat
---

我真是懒得出奇，懒得换床单，所以就从夏天一直睡凉席睡到现在……我现在管我的床叫“寒玉床”。这几天北京气温似乎明显降低了。不过我初步打算睡到小雪，看能否扛到那一天吧。
---
title: 对离散系数/变异系数的质疑
date: '2005-10-31T16:34:00+08:00'
slug: 16-34-00
---

我现在越来越觉得人是很懒惰的动物，尤其是在思考问题上。常常就被一些貌似有理的理由给说服了，而不去认真推敲——这是懒惰的一个方面。前辈们常常给我们探索出很多条路，或是遗留给我们很多物质或精神财富，我们就容易死抱着它们——这是懒惰的另个方面。


这种懒惰，体现在统计里面最明显的就是我们对各种度量指标的信任和依赖（注意这两个词分别对应着前面说的懒惰的两个方面）。举一例说明：


对于数据的概括性度量，我们可以从几种趋势、离散趋势和偏态与峰态这三个方面着手去度量，在离散趋势的度量中，统计学中有一个度量相对离散程度的指标“离散系数”，它是用一组数据的标准差与其相应的平均数之比而得来的，这种度量方法，看似在标准差的基础上进了一大步，前人对它的解释都是称其“消除变量值水平高低和计量单位不同对离散程度测度值的影响”，很动听的解释，也确实有一定的道理，但是我觉得其实这种度量方法也未必能显示出相对离散程度。请看下面的三组数据：


![离散系数/变异系数](https://db.yihui.org/images/covar.gif)

先看一、二两组数据，从右图中直观来看，我个人觉得第二组的离散程度应该比较大，而从计算的离散系数结果可知，第一组数据的相对离散程度几乎是第二组的四倍，与常理似乎不符；如果说这一点有争议的话（因为直观上的离散程度可能有主观判断的问题存在），那么看第一组和第三组数据，很明显，第三组数据只是在第一组的数据上分别都加上了2，按理说，这两组数据的相对离散程度应该是差不太远，可结果是第一组的相对离散程度是第三组的两倍多。


其实我在这里啰嗦一通，本意不在于离散系数本身，动动脑筋，我的观点一样会被打倒。我真正的目的有二：（1）有点怀疑精神，书是应该批判地读的（上学期听老程在讲台上大手一挥：“就算是中央文件，我们也是可以拿来讨论的！”嗯，很不错）；（2）对于数据的度量，应该从多个角度进行，我举这个例子，其实也是走了个极端，只用一个指标度量，钻了个空子而已。
---
title: 搜索结果频数的小小应用
date: '2005-11-05T16:31:00+08:00'
slug: 16-31-00
---

这几天给王星老师打杂，一直忙着翻译一本_Computational Statistics_的书中的一部分，其中的数学专业名词让我大伤脑筋，因此没少用Baidu和Google，今日在此介绍我自己发明的一些搜索引擎用法。学统计的有个特点，就是比较注意数字，因为整天跟数据打交道嘛，不过我也不知道其他人是否有这个特征，至少我自己是这样的吧。


注意到每个搜索引擎在列出搜索结果的同时，也会列出一项数据，就是找到了多少篇网页（当然还有搜索用时多少），例如百度：“百度一下，找到相关网页约48,000篇，用时0.001秒 ”；Google：“**简体中文**网页中，约有 **255** 项符合**贝耶斯**的查询结果，以下是第 **1 - 10** 项。 （搜索用时 **0.34** 秒）”。


若是装装样子吓唬吓唬别人，我可以说这就是“**频数**”啊！（估计不懂统计的外行就会以极其崇拜的眼神看着我：哇，原来除了贾俊平老师书中之外，在这里也会有频数出现啊？）各位看官先别吐，听我继续说：频数具有某种特定特征的数据的个数（我没有用贾老的定义，自己编的“谢氏定义”），既然是一个数目，那么就可以跟其他数比较大小（旁白：你TM废话！这还用你说？）。比较频数大小的意义在于看数据的集中趋势，说到现在才说到了正道上。


数据的集中趋势，在实际应用中可以有多种解释。在这里，对于网络搜索引擎的结果数目数据（频数），我们知道这是“具有或包含搜索关键词（这就是前面所说的‘特定特征’）的所有收录网页的数目”，哪个关键词所搜索出来的网页数目多，也就表示网页内容向这个关键词的集中程度越高，换句话说，就是这个关键词在网页中使用的频率越高。


为什么要比较关键词的**使用频率**呢？我举个例子，比如翻译人名“**Bayes**”，到底是译作“贝耶斯”呢还是译作“贝叶斯”呢？我需要了解大家的翻译习惯，因此可以使用Baidu分别搜索一下这两个词，得到的结果分别是“百度一下，找到相关网页约**1,080**篇，用时0.001秒”和“百度一下，找到相关网页约**48,000**篇，用时0.001秒”，很明显，使用“贝叶斯”的网页比“贝耶斯”远远要多！因此，译作“贝叶斯”是比较符合大家的习惯的。


大家认为频数分析低级也好，弱智也好，白痴也好，不管怎么说，我觉得重要的不在于方法，而在于**细心的观察和巧妙的应用**。方法本身只有难易繁简之分，而无高低之分，就像我前面一篇文章“强者·境界·智慧”中所说，“境界有大小，不以是而分优劣”。
---
title: 昨晚睡觉小腿一定抽筋了
date: '2005-11-07'
slug: cramp
---

今早起床觉得右小腿隐隐作痛，就是那种抽筋过后的感觉，小小佩服一下自己，做梦时也能抽筋，居然还没醒，看来我睡觉的功夫到了一定境界了……裹着被子一口气做了40个俯卧撑，起来后拿着臂力器再锻炼了一下，然后正式起床。

晚上跑步本来打算跑8圈，结果今天觉得跑得不顺，只跑了5圈就下来了；嗯，这个时候好像确实不能硬拼啊，明天再试试看。

今天特别懒，写Blog也写得很没劲，连饭量都减了，三两米饭居然可以吃饱了。继续看那道假设检验的题，我觉得出题人有点问题。晚安各位。

对了，今天偶尔看到王怡的一句话：ESKIMO，你是一个好人。突然间，心中涌起一种久违的感动，祝这个大个子找工作顺利吧。（注：ESKIMO是当年王怡给我起的一个名字，因为我冬天很抗冻，所以他就叫我爱斯基摩了）
---
title: UN officials praise openness of Beijing
date: '2005-11-12'
slug: un-praise-beijing
---

这是一则好消息，难得遇见一次UCLA对中国的正面评论：）

---

Geneva --- The mainland has been honest with the international community about its latest outbreaks of bird flu, a policy vital to global efforts to avert a threatened human pandemic, top UN health officials said.

Concerns have been raised over the transparency of disease outbreaks on the mainland, particularly after Sars in 2003, when secrecy allowed its spread to Hong Kong and other countries, killing 774 people worldwide.

Margaret Chan Fung Fu-chun, the World Health Organisation's top flu pandemic official, said the global community was engaging China, and it had shown a willingness to be a major player.

"If you look at the kind of things they have done in the last few months, [these indicate] a very strong commitment that they are willing to join this international partnership. The risk of a pandemic is an international issue; China needs to be part of the equation," said Dr. Chan.

She was referring to the 2 billion yuan the mainland had announced it was allocating to strengthen disease control systems, its request for technical assistance from the WHO for investigation of human flu cases, as well as its hosting of a donor agency conference in January to raise US$1 billion for a global action plan on flu.

Dr. Chan acknowledged there were problems with the mainland's disease reporting during Sars.

"What you are saying is correct. We saw that in Sars," said Dr. Chan, former director of health in Hong Kong who was among those criticised for the government's chaotic handling of Sars.

Bernard Vallat, director-general of the Paris-based World Organisation for Animal Health (OIE), said: "China is transparent. We were notified of avian flu outbreaks in animals [on the mainland].

"[It] is making every effort to inform the international community," Dr. Vallat added.

The officials were speaking on Wednesday at the end of a three-day summit in Geneva on bird and human flu, co-hosted by the WHO, OIE, Food and Agriculture Organisation, and World Bank.

Summit delegates announced a 10-point action plan to stem the pandemic threat and said US$1 billion would be needed over the next three years to implement it.

The World Bank's vice-president for operations policy and country services, James Adams, said there was cautious optimism the money would be raised.

From: South China Morning Post  
Friday, November 11, 2005
---
title: 关于我的FTP的说明
date: '2005-11-20T16:10:00+08:00'
slug: 16-10-00
---

敬告找到这里的朋友们：使用盗版软件无论如何都是不对的，切记切记。我已决定远离这些东西，不要再找我要商业软件，学统计的人不要在商业软件上吊死，SPSS和SAS等商业软件远不足以垄断统计学软件，因为，有更强大的免费、开源的统计软件——R，强烈建议那些至今在苦苦寻找破解软件的同志们可以收手了，好好学习R吧。有问题来统计之都找我：<https://cosx.org>，把你们的统计学问题带来，但万万不要把“破解”二字带来。善哉！（或者到R的官方网站<http://www.R-project.org>）
---
title: 懒之道——往往就缺一步
date: '2005-11-20T16:24:00+08:00'
slug: 16-24-00
---

最近总是思考关于“懒”的问题，更是力行克懒之道，最终把办法归结于“**ONE STEP FURTHER**”。

我觉得很多时候我们就是停留在“九十”处，而不肯再向前迈出最后的步伐达百里之处，以至于前面洋洋洒洒说了一大通，却不肯最终落到实处。这些天，我曾在一次党员民主生活会和党员保先评议总结会上作了试验，但是现在看来，我估计只有第一次算是成功的。即便是党员，很多照样也是懒汉，尤其是开会，每次套路一样，慷慨激昂一番，最后如同放P，还放得挺酣畅淋漓。所以，第一次开完会之后准备散会，我就强烈要求先别散会，让大家进一步想想究竟如何为人民服务，一定要想出一些具体事情来，要不然又是在瞎喊“为人民服务”，喊多了喊臭了，最后大家彼此推托一番，群众也麻木了，“为人民服务”也就这样过去了，好的是这次我的要求还有点用处，现在保研的同学给其他准备考研和找工作的同学天天打热水，总算是落实了一件事情；第二次保先会议上一开始我就提出每个人要把自己最大的**一条**缺点列出来并争取下次开会时能有所改进，最后我们几位党员都照办了，可是不知道现在效果如何，反正我是已经做到了我的思考上的“ONE STEP FURTHER”，至于他们行动上是否有“ONE STEP FURTHER”，我不得而知，但是，可以预料，下次开会时，如果这些缺点没有丝毫改进，作为一个有自知之明的人，多少会有些愧疚的。慢慢来，一些行为的转变也是要花时间的。

人之处，性本懒。可以理解，但是不可借此推托。与本性抗争是一件很痛苦的事情，但是痛苦必定是暂时的；当思维形成习惯，行动自然会有所改观。

当一句话出口时，一定要记得抽自己一鞭子。
---
title: 不要再使用盗版商业统计软件
date: '2005-11-20'
slug: use-r
---

学统计的又不是非得用商业软件，干嘛要整天找破解，有本事的好好研究理论，再用功学习R：<http://www.r-project.org>

因此只说八个字：珍爱生命，远离盗版！
---
title: '如果领导开会时把矿泉水换成水杯 '
date: '2005-12-03'
slug: bottle-to-cup
---

周四学校在八百人大开会，讲宿舍文明建设问题，这是好事，此事我感触良多。世风之所向，似乎偏向瞧不起做小事，尤其瞧不起做身边能做的小事。一屋不扫何以扫天下，即便是不完全对，但也是有道理的。而偏偏一些人的“反叛”不用在正道上，偏偏就要反这句话，偏偏就要一屋不扫而扫天下。

我当然没什么好说，有些人就是有本事扫天下，我没本事，于是我闭上我的嘴。

今日不打算说这事。我在那里开会时，听着台上某某校长某某书记慷慨陈词，一个讲话完毕，我直揉耳朵，都嗡嗡响了（心中暗想，当领导的充分条件是要嗓门好）。种种恶劣事迹响彻会场，我也颇有些义愤填膺，尤其是那些没事把消防带拖出来玩的无聊者，简直该杀头。至于踢扁不锈钢垃圾桶的，踹坏宿舍门的，只当他们是足球队的在练习脚法吧；还有浪费水电的，践踏草坪的，等等。

这样下去确实不行，怎么办？我们中国群众大学可不能沦为中国侏罗纪大学了……

必须有一种力量，想来想去，还是把目光对准了我们台上坐着的那些Leaders。你们面前的农夫山泉，能否换成茶杯呢？

到散会，八个人，没有一个人喝完水的。

不必要求校长不开宝马而骑自行车，至少在你们力所能及的范围内，率先做到你们所倡导的。
---
title: 《兰亭集序》（林语堂英译）
date: '2005-12-05T15:59:00+08:00'
slug: 15-59-00
---

> 永和九年，岁在癸丑，暮春之初，会于会稽山阴之兰亭，修禊事也。群贤毕至，少长咸集。此地有崇山峻岭，茂林修竹；又有清流激湍，映带左右，引以为流觞曲水，列坐其次。虽无丝竹管弦之盛，一觞一咏，亦足以畅叙幽情。
> 
> 是日也，天朗气清，惠风和畅，仰观宇宙之大，俯察品类之盛，所以游目骋怀，足以极视听之娱，信可乐也。
> 
> **夫人之相与，俯仰一世，或取诸怀抱，晤言一室之内；或因寄所托，放浪形骸之外。**虽取舍万殊，静躁不同，**当其欣于所遇，暂得于己，快然自足，不知老之将至。**及其所之既倦，情随事迁，感慨系之矣。向之所欣，俯仰之间，已为陈迹，犹不能不以之兴怀。**况修短随化，终期于尽。古人云：“死生亦大矣。”岂不痛哉！**
> 
> 每览昔人兴感之由，若合一契，未尝不临文嗟悼，不能喻之于怀。**固知一死生为虚诞，齐彭殇为妄作。**后之视今，亦犹今之视昔。悲夫！故列叙时人，录其所述，虽世殊事异，所以兴怀，其致一也。后之览者，亦将有感于斯文。

第一种翻译（个人觉得稍显生硬）：

> This is the ninth year of Yungho (AD353) Kueichou in cycle. We met in late spring at the Orchid Pavilion in Shanyin to celebrate the Water Festival.
> 
> All the scholar friends are gathered, and there is a goodly mixture of old and young. In the background lie high peaks and deep forests, while a clear, gurgling brook catches the light to the right and to the left. We then arrange ourselves, sitting on its bank, drinking in succession form the goblet as it floats down the stream .No music is provided, but with drinking and with song, our hearts are gay and at ease. It is a clear spring day with a mild, caressing breeze, the vast universe, throbbing with life, lies spread before us, entertaining the eye and pleasing the spirit and all the senses. It is perfect.
> 
> Now when men come together, they let their thoughts travel to the present. Some enjoy a quiet conversation indoors and others play about outdoors, occupied with what they love. The forms of annulment differ according to temperaments, but when each has found what he wants, he is happy and never feels old, then as time passes on and one is tired of his pursuits, it  seems that what fascinated him not so long ago has become a mere memory. What a thought! Besides, whether individually we live a long life or not, we all return to nothingness. The ancient regarded death as the great question. Is it not sad to think of it?
> 
> I often thought that the people of the past lived and felt exactly as we of today. Whenever I read their writing, I felt this way and was seized with its pathos. It is cool comfort to say that life and death are different phases of the same thing and that a long span of life or a short one does not matter. Alas! The people of the future will look upon us as we look upon those who have gone before us. Hence I have recorded here those present and what they said. Ages may pass and times may change, but the human sentiments will be the same; I know that future readers who set their eyes upon these words will be affected in the same way.

下面是第二种翻译（这个版本可能更好）：

> **The Orchid Pavilion**

> In the ninth year of the reign Yungho[A.D. 353] in the beginning of late spring we met at the Orchid Pavilion in Shanyin of Kweich'i for the Water Festival, to wash away the evil spirits.
> 
> Here are gathered all the illustrious persons and assembled both the old and the young. Here are **tall mountains and majestic peaks, trees with thick foliage and tall bamboos**. Here are also clear streams and gurgling rapids, catching one's eye from the right and left. We group ourselves in order, sitting by the waterside, and drinking in succession from a cup  floating down **the curving stream**; and although there is no music from string and wood-wind instruments, yet with **alternate** singing and drinking, we **are well disposed to** thoroughly enjoy a quiet **intimate** conversation. 
> 
> Today the sky is clear, the air is fresh and the kind breeze is mild. **Truly** enjoyable it is sit to watch the immense universe above and the myriad things below, **traveling over the entire landscape with our eyes** and allowing our sentiments to **roam about** at will, thus **exhausting** the pleasures of the eye and the ear.
> 
> Now when people gather together to surmise life itself, some sit and talk and **unburden** their thoughts in the **intimacy** of a room, and some, overcome by a sentiment, **soar** forth into a world **beyond bodily realities**. Although we select our pleasures according to our inclinations—some noisy and rowdy, and others quiet and sedate—yet when we have found that which pleases us, we are all happy and contented, **to the extent of** forgetting that we are growing old. And then, when **satiety follows satisfaction**, and with the change of circumstances, change also our whims and desires, there then arises a feeling of poignant regret. In the twinkling of an eye, the objects of our former pleasures have become things of the past, still compelling in us moods of regretful memory. Furthermore, although our lives may be long or short, eventually we all end in **nothingness**. "Great indeed are life and death", said the ancients. Ah! What sadness!
> 
> I often study the joys and regrets of the ancient people, and as I lean over their writings and see that they were moved exactly as ourselves, I am often overcome by a feeling of sadness and compassion, and would like to make those things clear to me. Well I know it is a lie to say that life and death are the **same** thing, and that longevity and early death make no difference! Alas! As we of the present look upon those of the past, so will posterity look upon our present selves. Therefore, have I put down a sketch of these contemporaries and their sayings at this feast, and although time and circumstances may change, the way they will evoke our moods of happiness and regret will remain the same. What will future readers feel when they cast their eyes upon this writing.
---
title: Fighting到死都不够！
date: '2005-12-05T16:04:00+08:00'
slug: 16-04-00
---

算是体会到了，什么叫“学，而后知不足”，如同被卷入了一片汪洋大海，此处感叹几句，也算是“望洋兴叹”。


真不是我太懒，我发现把人的精力同时分散到很多方向上，人便会有种虚脱的感觉；我一天之中所接触到的知识，真的是用一辈子都研究不透的。比如今天，从我12点起床吃饭开始，我已经在头脑中开始发动岭回归模型了，想OLS的估计`$(X'X)^{-1}X'Y$`与岭回归的估计`$(X'X+kI)^{-1}X'Y$`孰优孰劣，比较各自的优势，然后想来想去，发现这世道真是简单，大部分问题归到最后总是一个对一种**不可调和的普遍矛盾**的权衡问题，这“缤纷绚丽”的世界，便是由这些矛盾而推动的；像岭回归与普通最小二乘法的比较，说到底就是估计的**无偏**和**精度**之间的较量——在多重共线性的情况下，保证无偏性，便保证不了精度；保证精度，便要放弃无偏性。人不可贪心——这是在东区食堂门口想到的。


多重共线性的解决、回归模型的改进，一辈子研究得透么？


中午在办公室打游击——不停在Amos和LISREL之间来回看，尝试着用，可是研究了一中午，仍旧一无所获。一方面，结构方程模型（SEM）中存在太多理论困惑；另一方面，完全陌生的软件，尤其是专业软件，如果没有人教，真的是很难入门。


结构方程模型的理论和应用、Amos和LISREL的使用，一辈子研究得透么？


这次多元统计分析布置的变态作业，里面数据度量尺度问题可以说是几大难题之一，好多变量都是离散型变量（定类、定序），这种数据的处理，阿杜上课用了些莫名其妙的方法，可以说是比较浅层和感性的，没有什么理论支撑，而往往人们偏向于简单并且看似有道理的数据处理，所以大家写作业时便一窝蜂地去综合变量，非要把离散型变量整合成连续性变量，方法一个比一个奇特，甚至到了怪异的地步。今日上课，令我匪夷所思的是吴翌琳同学都动用了**ANOVA**的方法来求得一个系数去综合这些离散变量从而得到一个所谓的数值型变量（连续型），我当时就想到方差分析的坟头上去烧纸，ANOVA您安息吧，别生气……此事不提也罢，不提也罢。只是突然间想起了曾经教过我们计量经济学的李静萍老师，如今愈发感到佩服。使用一种理论，务必要熟悉该理论是用来解决什么样的问题的，哪怕不知道理论的详细内容。至少，计量经济学的期末考试，给了我这样一种警示。


分类变量的分析方法，一辈子研究得透么？


下午上多元统计分析课，对于课程本身我就不评论了，说正事。课上提到了同样也是困扰人们很长时间的一个问题——Missing Value的处理方法。真不是我胡说八道，我们每个人都应该多看看书了。这种空想主义的课，还是少一些比较好。阿杜总强调“有道理就行”，可事情岂能是“有道理”就可以的？我不知道他有没有听说过“Bootstrap”方法，我看我提出来之后他也没反应，多半是不知道，不过从他嘴里我听到了“多重插补”，还是给点面子好了。悻悻。这样的课上下去，势必会禁锢我们的思维。上次台湾大学的黄光国教授在逸夫讲“科学哲学与中国人的创造力”，到最后提到怎样创新，其中一点就是首先要“站在巨人肩膀上”（于是当时我就站在他肩膀上把他K了一顿），可是我们现在这样，根本就是置“巨人”于不顾，好好的科学方法不用，偏要在那儿争得面红耳赤。


缺失值的处理方法，一辈子研究得透么？


听课听得寡然无味，便怂恿马绍晶看数学建模的获奖作品，让他尝尝痛苦：）我无聊得恨不得数手指头……杜大人又扯起毛**杀人**千万的事情，总算说了一句我认同的话：研究问题不要太多，集中精力讲清楚一个就行了。于是想起前天赵老师站在他的房间门口，跟我讲了好半天他学生生涯的体会（虽说讲了好半天可每次我都发现记不住什么），讲当年别的同学都去讲课赚钱时，他一个人巍然不动，苦心钻研学术，一步一步走到现在；大意也就是告诉我要有一个明确的方向，坚持做下去，不要东边有意思东边瞧瞧，西边好玩儿西边瞅瞅，什么都想做。


可即使就一个方向，一辈子研究得透么？


熬到下课，逃离了那Desriptive Statistics，回到办公室，遇到西部大开发杂志社的一个人（霍治利），要找赵老师，可赵老师当时不在，我便跟他聊了一会儿。他现在研究与农产品产出、销售有关的时间序列预测，向我打听SPSS中Time Series的有关情况，尤其是TS的实际应用案例。薛老师那本书我没看完，TS更是不熟悉，于是就着我的一点薄弱底子跟他聊，发现此人功底一点不浅，关系数据库、空间数据库等等似乎如数家珍的样子，想必也是一位专家了。我边聊边想，就凭我这点TS知识，根本都羞于跨出人民大学的门，呜乎哀哉……大三学的那点理论，除了让我们知道这世界的某个角落还存在AR和MA以外，几乎什么都不剩了。前一段日子，BBS上一位同学提到ARCH模型，我更是一无所知，后来在图书馆的一堆书中终于发现一本讲ARCH和GARCH模型的。无疑又是一个警示，时间序列的理论研究，已经颇有些跟不上实际应用需要了。


时间序列的问题，一辈子研究得透么？


晚上，吃完饭，在中科大数学FTP（<ftp://202.38.70.51/>）上找到一大堆数学建模的书，看得我眼花缭乱。顺便也看了看有关统计的电子书，再次感慨，陈希孺老先生不简单，中国统计的前辈如茆诗松等都不简单。在这些书里面，也再一次看到了Resample的身影，于是下决心要把Bootstrap研究明白。回头来说数学建模，说是一座大山毫不夸张，前两天我还过于乐观，如今发现它与统计思维相差太远，几乎完全不是一个套路。还有一大障碍，便是软件，MatLab，Mathematica，颇感头大。大年初四我就得回到学校，初五到初七是建模大赛的时间。惨。


数学建模、统计新前沿知识，一辈子研究得透么？


眼下，扳着指头数一数，中清研那边的实习、学年论文、各位老师的任务、澳大利亚那边的三项任务（Elias的模型、Ping Yu的路径分析、A梦筹划的汽车估价系统）、法国老头儿的R手册翻译、博乐网的人大活动筹划、博客网的战略研究部，还有山东曲阜师范大学、南京财经大学、浙江工商大学、浙江大学、东北财经大学、西南财经大学，天津财经学院，还有双安那边不知叫什么的公司，还有环保局的，R，SAS，机场，天南地北天昏地暗天旋地转……


所以，岂是Fighting to Death就足够的？


还好，我有时是一只特立独行的猪。“修短随化，终期于尽。古人云：‘死生亦大矣。’岂不痛哉！”我懒得去痛哉悲哉，赶紧认真努力生活，足矣。
---
title: 德州大学AMOS教程及结构方程模型介绍
date: '2005-12-08T15:37:00+08:00'
slug: 15-37-00
---

我都忘了我的PDF教程是从哪里搜罗来的了，现在找教程似乎也挺困难，所以把找到的一点资源贡献出来与大家分享。具体内容我已经看完一大部分了，等看完后我再写一个简略介绍。稍微有点长，真正想学AMOS的就耐心点看吧：）


网页版：<http://www.utexas.edu/its/rc/tutorials/stat/amos/>


PDF版：[点击下载AMOS的PDF版本教程](http://ikki.bokee.com/inc/AMOS.pdf)


安装程序：[详见我的FTP“统计软件”文件夹](http://xieyihui.blogchina.com/3594008.html)


多嘴一句，如果是CRT显示器，最好还是不要盯着屏幕看了，我觉得眼睛太累……

今天抽时间把简略介绍补在下面，其中我觉得尤其在样本量和缺失值的问题上讲得不错：


**第一部分：介绍**


**第二部分：结构方程模型（SEM）基础**



- **SEM概述**（是GLM的延伸，使研究者可以同时检验一个回归方程**集**；注意其特点——可以研究更为复杂的关系和模型例如确定性因子分析和时间序列分析）
- **SEM术语**（注意这四种概念——外生变量、内生变量、显变量、隐变量：exogenous or upstream variables; endogenous or downstream variables; manifest or observed variables; latent or unobserved variables）
- **为什么使用SEM**（为研究提供了一个统一的框架）


**第三部分：SEM假设条件**



- **合理的样本量**（James Stevens的Applied Multivariate Statistics for the Social Sciences一书中说平均一个**自变量**大约需要**15**个case；Bentler and Chou (1987)说平均一个**估计参数**需要**5**个case就差不多了，但前提是数据质量非常好；这两种说法基本上是等价的；而Loehlin (1992)在进行蒙特卡罗模拟之后发现对于包含2~4个因子的模型，至少需要100个case，当然200更好；小样本量容易导致模型计算时收敛的失败进而影响到参数估计；特别要注意的是当数据质量不好比如不服从正态分布或者受到污染时，更需要大的样本量）
- **连续的正态内生变量**（注意一种表面不连续的特例：**underlying continuous**；对于内生变量的分布，理想情况是联合多元正态分布即JMVN）
- **模型识别（识别方程）**（比较有多少可用的输入和有多少需估计的参数；模型不可识别会带来参数估计的失败，我就吃过这个亏）
- **完整的数据或者对不完整数据的适当处理**（对于缺失值的处理，一般的统计软件给出的删除方式选项是**pairwise**和**listwise**，然而这又是一对普遍矛盾：pairwise式的删除虽然估计到尽量减少数据的损失，但会导致协方差阵或者相关系数阵的阶数n参差不齐从而为模型拟合带来巨大困难，甚至导致无法得出参数估计；listwise不会有pairwise的问题，因为凡是遇到case中有缺失值那么该case直接被全部删除，但是又带来了数据信息量利用不足的问题——全杀了吧，难免有冤枉的；不杀吧，又难免影响整体局势）
- **模型的说明和因果关系的理论基础**（实际上就是假设检验的逻辑——你只能说你的模型不能拒绝，而不能下定论说你的模型可以被接受）


**第四部分：用AMOS Graphics建立和检验模型**



- **SEM-Multiple回归关系的图示**
- **用AMOS Graphics画出模型**（椭圆：隐变量/因子；长方形：显变量；单向箭头：因果关系；双向箭头：相关关系；我还花了好半天功夫学画图，ft）
- **读入数据到AMOS**（从File菜单打开数据文件，然后就是简单的拖拽，把变量拖进相应的框框中）
- **选择AMOS分析选项并运行模型**（设置好一些选项之后，点Calculate Estimates，基本就大功告成了）


**第五部分：解释AMOS输出结果**（实际上就是统计工作者最常做的工作：查看统计软件放的“**屁**”，我是说“P值”的那个“P”）



- **评估总体模型拟合度**
- **绝对拟合度的检验**
- **相对拟合度的检验**
- **修改模型以获得更好的拟合优度**（看着不爽的变量就杀掉）
- **查看路径图输出**（这大概是我们最关心的了）
- **单个参数的显著性检验**


**第六部分：综述——对于结果的实际解释**（这才是最重要的工作——联系实际）


最后啰嗦一句，谁要是实在闲得无聊可以在Visual Basic中加载Amos Engine玩玩儿，可以自己编程的，我是没那个精力了。如果感兴趣我可以私下提供教程：D
---
title: 连小马都说我懒，没法混了
date: '2005-12-08'
slug: lazy-me
---

听说昨晚党支部开会，小马专门提起我睡懒觉的事情，ft

---

昨晚上开党支部的会，小马这家伙居然说我懒，整天睡懒觉，我都被懒人鄙视了，还混什么混……

今天6：50起床，看天都不怎么亮，好久没这么早起了，小马这懒鬼不知在梦游天姆还是在梦游楚雄。
---
title: 是否还记得七十年前的今天
date: '2005-12-10T00:45:00+08:00'
slug: 00-45-00
---

真正到了一二·九，似乎反倒没有一二·九的气氛了……

昨天刚写了一句话就去接电话了，结果一聊就聊过了12点，挂上电话发现已经到了12月10日，不过有些话还是要继续说的。

对于学校每年的一二·九合唱，我很矛盾是否也该说两句，因为我的话不会是什么好话。必然有人会强烈反对。豁出去了。

一二·九合唱，几乎仅仅只剩下了“比赛”两个字。前面似乎应该还有“纪念”二字吧。

那几天，路上、食堂、商店、宿舍等等，很多地方都听见我们的同学们评价一二·九合唱比赛；每年财金和商院似乎都是大家谈论的焦点。一次在食堂吃饭，听见一个男生很得意得跟另外一个同学说：“幸亏我们商院人多，助威声压过了财金，……”后来在天地人大上面，果然又是争得一塌糊涂。冠军们都号称要顶帖一周不沉，没夺冠的便说注重的是过程，不注重结果。对这些事情我都不作评论。这期间，还有些小人，没事儿就在那儿挑事端，不尊重别人，对这种人，当然该打。

这事情太复杂，我真是不想说什么。我只有一条基本原则：即便是大家都忘了当年的一二·九学生运动也好，这比赛的目的不应在夺冠上。就此打住。

七十年前的知识分子在做什么，七十年后的所谓知识分子，又在做什么。仅此一个问题，足够我们深思许久。知识分子们，你们拿什么改变历史命运？

昨天天地人大上一位兄台拿我们中国群众大学校园环境与芝加哥大学校园环境相比较（[链接](http://bbs.ruc.edu.cn/bbstcon.php?board=RUCexpress&amp;gid=1073893599)），大意是说这所群众大学缺乏真正的学术研究氛围，说得很好。我们所谓的知识分子们，似乎对争名夺利、玩乐享受更感兴趣。你要是质问他几句爱国主义或是社会责任感在哪儿，他马上就会气势汹汹地反驳你：我在一二·九时唱得很卖力啊！

都快毕业了，学了四年财金的人不知什么是财金，学了四年统计的人不知什么是统计，等等，不一而足。学术根基的薄弱，是否是所谓知识分子的悲哀？

12月4日那天以及之前的几天，校园里放眼望去，合唱比赛的条幅到处都是。

如今，真的到了一二·九，反而，唯有“热烈庆祝XX学院在XX比赛中夺冠”的条幅，一条又一条，在瑟瑟寒风中，飘晃着。
---
title: 世界上最简略的SAS教程
date: '2005-12-11T15:33:00+08:00'
slug: 15-33-00
---

常常听见人说“SAS编程”，我就纳闷儿，SAS那一丁点儿语句也能叫“**编**程”？简直就是对统计软件的“妖魔化”。用软件嘛，“按套路出牌”就行了。


一般的SAS教程都会苦口婆心地告诉你：SAS中有两种步（Step）——数据步（**data**）和过程步（**proc**）；说实在的，我的这份简略教程写到这里就算完了。


失望的人可以继续看，会心一笑的人就可以点右上方那个“X”关掉窗口了。


数据步其实在大部分情况下不用那样仔细研究，因为你完全可以从别的数据文件中Import进来然后就可以直接用了，犯不着自己用cards一个个输入，多麻烦啊。


至于过程步呢，其实也就是SAS的统计核心，基本上每种统计方法都有一个procedure，比如求均值means，求相关系数corr，等等。格式大致就是“proc means data=”这样的，最后加上一句“run;”，OK，可以提交（Submit）运行了。如果需要特别的选项设定，那么可以在proc语句后面增加选项，具体参考每个过程步的说明吧。


说这些，目的是要说明真正重要的在于统计方法本身，而不是在于统计软件。理解了方法，软件用起来自然得心应手，怕什么呢？记不住的东西可以查参考资料，也不用死记硬背。


另：我是极力反对软件崇拜的，SPSS、SAS等都不是神，说白了也就那么个东西，而已。不要觉得它们放个“屁”都是香的。（前面文章中曾经提到过，统计软件放“屁”是指放“P值”，其实对于同一种方法，谁放出的“屁”不都是一样呢？）
---
title: 科研楼祭
date: '2005-12-15'
slug: keyan-lou
---

忆往昔岁月，或伏案苦读，或倚窗凝思，快然自足矣。

---

不知为何，写下标题，突然想起《项脊轩志》，“项脊轩，旧南阁子也”……“庭有枇杷树，吾妻死之年所手植也，今已亭亭如盖矣”……

真正的祭文，不会写在这里。

…… --> 910 -->…… --> 902 --> ……

祭奠910房间的老服务器，尤其祭奠门口那台机器。

祭奠902房间的长沙发和北侧的那把沙发。祭奠电脑前我坐着的这把椅子。祭奠我桌前的椅子和桌子。祭奠我的电脑和鼠标右键。祭奠里面那台电脑和上面盖着的日历以及左边立着的日历。祭奠我的香皂。祭奠这扇窗户。祭奠西侧的一半门。祭奠楼道。祭奠电梯。祭奠楼顶。祭奠公告栏上的图钉。祭奠夜里照着我回宿舍皎洁的月光。
---
title: 格兰杰因果检验简要介绍
date: '2005-12-16T18:35:00+08:00'
slug: 18-35-00
---

格兰杰（Granger）因果性检验目前在计量经济学中应用比较多，不过我们当初学习计量并没有学这个检验方法，经济学专业的学生应该会学到吧。上次谭英平师姐给我们讲宏观经济统计分析课时曾经给我们介绍过，不过也只是很肤浅地说了说原理（这种教学有一定的危险性啊）。


要探讨因果关系，首先当然要定义什么是因果关系。这里不再谈伽利略抑或休谟等人在哲学意义上所说的因果关系，只从统计意义上介绍其定义。从统计的角度，因果关系是通过**概率**或者**分布函数**的角度体现出来的：在宇宙中所有其它事件的发生情况固定不变的条件下，如果一个事件A的发生与不发生对于另一个事件B的发生的概率（如果通过事件定义了随机变量那么也可以说分布函数）有影响，并且这两个事件在时间上又先后顺序（A前B后），那么我们便可以说A是B的原因。


早期因果性是简单通过概率来定义的，即如果`$P(B|A)>P(B)$`那么A就是B的原因（Suppes，1970）；然而这种定义有两大缺陷：一、没有考虑时间先后顺序；二、从`$P(B|A)>P(B)$`由条件概率公式马上可以推出`$P(A|B)>P(A)$`，显然上面的定义就自相矛盾了（并且定义中的“>”毫无道理，换成“<”照样讲得通，后来通过改进，把定义中的“>”改为了不等号“≠”，其实按照同样的推理，这样定义一样站不住脚）。


事实上，以上定义还有更大的缺陷，就是**信息集**的问题。严格讲来，要真正确定因果关系，必须考虑到完整的信息集，也就是说，要得出“A是B的原因”这样的结论，必须全面考虑**宇宙中所有的事件**，否则往往就会发生误解。最明显的例子就是若另有一个事件C，它是A和B的共同原因，考虑一个极端情况：若`$P(A|C)=1$`，`$P(B|C)=1$`，那么显然有`$P(B|AC)=P(B|C)$`，此时可以看出A事件是否发生与B事件已经没有关系了。


因此，Granger（1980）提出了因果关系的定义，他的定义是建立在**完整信息集**以及**发生时间先后顺序**基础上的。至于判断准则，也在逐步发展变化：


最初是根据**分布函数**（条件分布）判断，注意`$\Omega_{n}$`是到n期为止宇宙中的所有信息，`$Y_{n}$`为到n期为止所有的`$Y_{t}\,(t=1 \cdots n)$`，`$X_{n+1}$`为第n+1期X的取值，`$\Omega_{n}-Y_{n}$`为除Y之外的所有信息。


`$$F(X_{n+1} | \Omega_{n}) \neq F(X_{n+1} | (\Omega_{n} - Y_{n}))$$`


后来认为宇宙信息集是不可能找到的，于是退而求其次，找一个可获取的信息集**J**来替代**Ω**：


`$$F(X_{n+1} | J_{n}) \neq F(X_{n+1} | (J_{n} - Y_{n}))$$`


再后来，大家又认为验证分布函数是否相等实在是太复杂，于是再次退而求其次，只是验证**期望**是否相等（这种叫做均值因果性，上面用分布函数验证的因果关系叫全面因果性）：


`$$E(X_{n+1} | J_{n}) \neq E(X_{n+1} | (J_{n} - Y_{n}))$$`


也有一种方法是验证Y的出现是否能减小对`$X_{n+1}$`的预测**误差**，即：


`$$\sigma^{2}(X_{n+1} | J_{n}) < \sigma^{2}(X_{n+1} | (J_{n} - Y_{n}))$$`


最后一种方法已经接近我们最常用的格兰杰因果检验方法，统计上通常用**残差平方和**来表示预测误差，于是常常用X和Y建立回归方程，通过假设检验的方法（F检验）检验Y的系数是否为零。


可以看出，我们所使用的Granger因果检验与其最初的定义已经偏离甚远，削减了很多条件（并且由回归分析方法和F检验的使用我们可以知道还增强了若干条件），这很可能会导致虚假的因果关系。因此，在使用这种方法时，务必检查前提条件，使其尽量能够满足。此外，统计方法并非万能的，评判一个对象，往往需要多种角度的观察。正所谓“兼听则明，偏听则暗”。诚然真相永远只有一个，但是也要靠科学的探索方法。
---
title: 煞风景系列™之调和曲线图
date: '2005-12-21T15:55:00+08:00'
slug: 15-55-00
---

调和曲线图是D.F.Andrews 1972年提出的三角多项式作图法，所以又称为三角多项式图，其思想是把**高维**空间中的一个样品点对应于**二维**平面上的一条曲线。


设p维数据`$x = (x_1,x_2,\ldots,x_p)'$`，对应的曲线是：


`$$f_{x}(t)={\frac {x_{1}}{\sqrt {2}}}+x_{2}\sin(t)+x_{3}\cos(t)+x_{4}\sin(2t)+x_{5}\cos(2t)+\cdots$$`

上式当$t$在区间`$[-\pi, \pi]$`上变化时，其轨迹是一条曲线。


在多项式的图表示中，当各变量的数值太悬殊时，最好先标准化后再作图。这种图对聚类分析帮助很大，如果选择聚类统计量为**距离**的话，**同类的曲线非常靠近拧在一起，不同类的曲线相互分开**，非常直观。



书上一般都会讲调和曲线图的两点优良数学性质：一是保持线性性，二是与一般的欧式距离之间的关系。前一点倒是没什么让人惊奇的，因为保持线性性的变换太多了；第二点可以稍作研究。


上面的变换是一个连续函数，我们定义两个样本X与Y之间的距离为如下平方积分形式（事实上也是一种常用的范数）：

`$$d^2_{f_xf_y}=\int_{-\pi}^{\pi}|f_x(t)f_y(t)|^2dt$$`

愿意复习三角函数积分的可以做一做，其实很简单的。最后可以发现这个距离与欧式距离（后者）有如下关系：

`$$d^2_{f_xf_y}=\pi d^2_{XY}$$`

根据这条性质我们马上可以得知前面观察图线聚类的数学依据。关于调和曲线图，有两点需要P.S.一下：


P.S.1 若样本量很大，可以想象，作出的图必然是“浓墨重彩”，混在一起分不清楚。比如1000条线缠在一起，到时候还能分清谁是谁么？所以这种图形只是适合小型样本的大致观察。


P.S.2 本图形是从余毅师兄的书上看到，以前我也不知道。师兄先是问我会不会用SAS，然后再问我怎么用软件作这种图，我便领会到这又是对SAS的畏惧和盲目崇拜的典型例子……大家觉得该怎么作呢？用得着请出SAS老爷爷么？
---
title: 最近一段时间的忙碌&腐败生活
date: '2006-01-05'
slug: busy-life
---

对不住大家，好长时间没有啰嗦给大家看了……

最近事情比较多，腐败活动也比较多，吃完北京烤鸭回来，发现被批评了，所以赶紧写两句先垫着吧。主要列出一些关键词：大兴、滑冰、科研处、SAS、韩国某大学（福庆？）博士、季诺、中国矿业大学博士、上海交通大学医学院博士、曲阜师范大学老师、马列学院博士、厦门大学学生、切尔诺夫脸谱图、非线性结构方程模型、离散数据的聚类、蒙特卡罗、R、瑞典、北京站、西南财经大学统计学院（院长？）、北京某大学狂妄博士（外经贸？）、ARCH、GARCH、协整、学校车队、八达岭长城狂风+暴冷、鸭王烤鸭。

P.S. 有时候真是怕赵老师在想不出英文单词恰好我也不知道时他以一种无辜的求助的眼神看着我……
---
title: 博客网已经完蛋，鉴定完毕，烧纸
date: '2006-01-13'
slug: doomed-blogchina
---

我K，博客网的系统现在烂得惨不忍睹了。老方，我也不跟你说什么了，口水也说干了，我想走了。

感谢认真复制粘贴回复用户的客服们，但是博客网这地儿，实在不适合人类居住，过年回来我再重新找地方安家吧。技术部的筒子们，好好加油；Bokee领导们，好好反省。

P.S. 王萱同学有句话我实在是喜欢：TNND！
---
title: 开张啦！测试博客天下的程序
date: '2006-01-14T13:37:00+08:00'
slug: 13-37-00
---

对Blog.com.cn全面测试！测试首页！测试文字背景横格！


发现这边其实程序的问题也不少，不过也都无大碍，暂时不去打理。
---
title: 筒子们，我回家啦！bye bye！
date: '2006-01-15'
slug: bye-bye
---

15号走似乎有点不厚道，考研的同学还在考场上奋战，而我已经坐上火车开溜了（默默祝大家好运，狗到成功）。没办法，我不得不走了，初三就要从家里返校……

提前祝各位新年快乐！！See you all next year！

（明年回来，也许这个博客就要搬家了）

（还有，我回家后FTP当然也没法开了，找软件的各位也暂时别找我了）
---
title: 本博客的介绍
date: '2006-02-13T18:39:00+08:00'
slug: 18-39-00
---

由于不堪忍受BlogChina（Bokee）服务器的超级不稳定性，于是暂且搬家于此（域名用了<http://yihui.blog.com.cn>，还花了相当长的时间自己做了本站的模板（不知道是不是很难看），希望Blog.com.cn不要令我失望。


我的前一个博客地址见于<http://xieyihui.blogchina.com/>，里面有我144篇心血（当然其实也不全是），算是苦心经营过的吧，包括文字和各种代码，尤其是CSS，更是花费了很大的功夫。在这边的新家里，一方面我会“顶住压力”接着写大煞风景的文章，争取能在学习上有所长进（其实我的目标不仅仅只是有所长进）；另一方面也会继承以前的啰嗦，一心一意，一如既往，一往无前，义无反顾……不过说实在的，也不能整天瞎啰嗦，世上并不缺啰嗦的人，像那些没事儿总拿“超女”来讨论中国民主的啊，像那些没事儿总争执中国经济学家到底是不是只有5个的啊，像那些没事儿总为大家揭秘XXX的啊，像那些总在“无聊 X 2”的世界中启发大家人生哲理的啊，诸如此类，等等。


到这边我把我的分类名称都改了，大致也能与原先的分类对应起来。对于这些分类，如果王羲之有意见我可以换掉。


还有个不得不说的问题，就是不要随便到处乱贴我的文字，先跟我打声招呼，一切好说，偷偷摸摸转载，实在说不过去。以前在BlogChina那边有人转载文章实在是可怕，连我的那篇博客介绍都给我活生生转走了，我实在是摸不着头脑，我介绍我自己的博客，你转载过去有什么用啊，ft。


P.S.一句：这个模板估计还得修改，有什么意见请赶紧提，免得市长大人来找我，说你这模板忒难看，影响市容市貌。还有，本站推荐使用1280*1024分辨率浏览。


**关于谢益辉**：**Male**（因此发邮件就不要用Ms这样的称呼了），**中国人民大学统计学院**（湖北宜昌人氏），愿与各位统计研究者共同探讨统计问题，包括统计学基础、统计方法、统计软件、统计前沿问题等等。当然，我非深陷统计不能自拔之人，本博中也会记载很多其他方面的谢益辉。


**关于联系方式**：用左边CONTACT ME中的**Gmail邮箱地址**联系我就可以了，不要往Hotmail邮箱发信，Hotmail地址只是我的**MSN**专用，一般不用来发邮件！即时通讯（IM）工具QQ、GTalk和MSN我不太喜欢用，万一邮件不能解决问题再考虑这几种联系方式吧。


**关于统计软件下载**：请参见<http://yihui.blog.com.cn/archives/2006/370621.shtml>


**关于本站栏目介绍**：《兰亭集序》就不用说了；“死生亦大”，记载人生生死大事；“仰观宇宙”，社会生活是也；“言一室内”，躲进小楼成一统，满纸统计言；“临文嗟悼”，有感于“斯文”而发；“修短随化”，不能齐彭殇，鸡毛蒜皮亦大事矣；“不知老至”，欣于所遇，暂得于己，快然自足是也。
---
title: MSN去广告多开补丁
date: '2006-02-14T15:14:00+08:00'
slug: 15-14-00
---

MSN广告看着挺烦人的，于是找了下面这个补丁程序，去掉了MSN下面的广告条。[下载地址](http://www.cnhello.com/Tool/MSN/Files/MsnNoAd1.12_MultiMSNPatch_cnHello.com.rar)。


从[作者主页](http://ntu.csie.org/~piaip/msn/)看是台湾的。台湾很多东西的叫法跟大陆不一样，比如把我们所说的“程序”叫做“程式”，把“文件”（File）叫做“档案”；上次看统计教材，他们把“变量”叫做“变数”，还有很多名词都不一样，总之读起来很费劲，这是题外话。


MSN这个聊天工具其实极其不好用，我并不喜欢，只是现在很多公司老板员工都用它（可能是MS Windows强行绑定的后果吧，使得他们并不知道QQ、POPO），所以就硬着头皮用了。这个压缩包内有两个补丁，mmsn_noad.exe是用来一并解除一台电脑上只能同时开一个MSN的限制的。
---
title: 关于统计软件的下载方法
date: '2006-02-15T15:52:00+08:00'
slug: 15-52-00
---

Well, it's time to stop now.


这个页面上的软件列表已经删除，那些通过搜索引擎缓存搜索过来的同志们请不要继续找我索要商业软件，**No AMOS，No LISREL，No Clementine，No Pirate Software**。目前我只能向你们推荐R软件：免费、开源、几乎无可比拟地强大。那些做回归、聚类、因子、主成分、时间序列等等分析的同志们当然可以用R，而我要特别说明的是那些做**结构方程模型**的同志们（因为据我统计找我的大部分都是这样方面的）也可以用R的sem包来完成你们的计算，不要围着商业软件打转转了，那里没什么前途，Garbage in, Garbage out的事情太容易发生。


有兴趣的研究者可以考虑把偏最小二乘法写入SEM的算法，不难，若没人干这事儿，我可要自个儿编了。了解计算过程对你们很重要，不要指望GFI、RMSR那些乱七八糟的指数真的能“指”出很好的实际现象。


Over. And also, begin.
---
title: 正式搬家到yihui.blog.com.cn了
date: '2006-02-15'
slug: yihui-blog-com-cn
---

感谢所有过去关注过我的Blog的朋友们，在这边我就不发新文章了，但如果还有评论，我仍会回来回复。欢迎造访新家：<http://yihui.blog.com.cn>，多多提意见！：）
---
title: 行者
date: '2006-02-18T09:01:00+08:00'
slug: 09-01-00
---

明明觉得已经走了很远，  
却总是在刹那间，  
发现竟然又回到了原点。


明明看上去是很平坦的路，  
却不断地跌跤，  
等再次站起时发现又迷失了方向。
---
title: 全乱套了！
date: '2006-02-20T01:08:00+08:00'
slug: 01-08-00
---

诸事不顺。MCM的论文竟然没有寄到。


本来打算在开学前写点东西的，可是为了尝试杀毒软件，在装了万恶的金山毒霸之后电脑死机了一个小时，然后重启了大约10次费了九猪二刺猬之力才把问题搞定。时间就这样过去了。时间总是过得太快……昨夜回宿舍，从办公室下楼疾走在明德广场上，耳边突然响起中秋经常对我说的一句话：益辉你去奔丧啊？（有时候也会说“益辉你赶着去投胎啊？”）


可这也不怨我，要怪就怪时间守恒定律。我得压缩一些地方的的时间来延长另一些地方的时间。


寒假在家，始终没有弄明白为什么一朵花儿开就要有一朵花儿败，就像弄不明白为什么因为爱就所以爱一样。我甚至疑心我是不是老糊涂了。


有时候我很想大喊一声，我&#8482;累死了！可是马上就会想起这世上仍旧有无数辛辛苦苦忙忙碌碌的人们，大家应该互相鼓励，咬牙奋斗，不能乱喊累。有些话是不能乱说的，我一直这样认为，尤其是消极的话。


有一晚在西门外的成都小吃吃饭，顺便看了一会儿电视，正播出一个节目，讲的是妻子为丈夫献了四分之三的肝，两人与死神擦肩而过最后却都能顽强地活了下来，说实话我当时看得鼻子酸酸的。不禁慨叹，生活真美好。


我这人对什么要求都不高，能让我感慨一句“生活真美好”的，便是我最大的满足。


生活的美好，并不是可以拼命追寻就能找到的。有很多东西，可能你一辈子都找不到也不会知道。比如西门外面墙上不知谁画的一个火影忍者的标记，比如北洼路的栗子买一斤送二两。


好几位大师都去世了，都是出生于那个年代的人们。单纯而充满热情的人们啊。单纯的人们应该好好保护。


但破坏一样东西比保护一样东西要容易得多。看看这个社会，越来越缺乏安全感。暴戾、狂躁、恐惧。负面的事情总比正面的事情做起来要容易。指责人并不需要努力，而帮助人所需要的努力何止是千百倍？


上辈子一定得罪了老天，不然为何总跟我开玩笑。莫非上辈子我是骑天大圣？老天也未必太小心眼儿了。


我常常思考一个问题，就是位置。就是应该把自己放在哪儿。这是一个很重要的问题，由此可以衍生出很多表面上虚幻缥缈的名词，比如责任，比如尊重，等等。


……


每每我感到那些无形的压力，常常就会想起老人与海。


我根本不在乎何时年华老去，我也无暇顾及。真诚地待人，努力地生活。


刘德华说：我只想做个好人。而我，连让别人评价我是好人的要求都没有，我只想做个正常人。


宿命？管他呢！！！
---
title: 让你们见识见识饼图！！
date: '2006-02-21T18:42:00+08:00'
slug: 18-42-00
---

![](https://db.yihui.org/hexun/b_0E3BA57DB6FF0AA6.jpg)

![](https://db.yihui.org/hexun/b_64B282A429103A55.jpg)

不知各位看了作何感想啊？（注：这是从偶像曹明老师那边[转过来的](http://stat.smmu.edu.cn/STONE/graphenjoy.htm)）
---
title: 偶像曹阳老师
date: '2006-02-21T22:33:00+08:00'
slug: 22-33-00
---

我知道，此时曹老师肯定不认识我，但是我已经把他偷偷强行列为偶像了。


这事儿要从第二军医大学卫生统计学教研室的小妍师姐说起，因为LISREL软件认识了师姐，然后今天师姐告诉我他们[教研室的网站](http://stat.smmu.edu.cn/)，我上去之后发现这网站做得真不错（尤其是在我看过的统计学系网站中），真是羞愧死我了，觉得我这两下三脚猫功夫以后就别出去献丑了……师姐说他们网站是曹阳老师做的（其实首页上写着负责人是贺佳和曹阳，然后从源码中看一段注释：`<!-- this file is first modified by caoyang 2001-8-23 9:31 -->`，于是便可推断这“苦工”必定是他了，而且是01年暑假作的“案”，天太热那天一定没睡懒觉），我看了这家伙的[简历](http://stat.smmu.edu.cn/person/caoyang.htm)，经历挺多，还有无数照片，人也挺帅，不像个副教授。


从网站上的内容来看，曹老师的知识一定很丰富，统计知识我就不说了。我发现他有个特点，就是喜欢把文件作成Flash展示，比如他的[博士论文答辩PPT](http://stat.smmu.edu.cn/person/caoyang/doctorthesis.htm)，确实是一位很厉害的统计老师。从照片的处理上来看，FW和PS工具也一定都很熟。


其实我大力夸奖这位老师是因为我在阅读里面的内容时发现这家伙跟我的眼光比较顺路，我曾经下载过的文件他的网站里面也有，比如[“统计学在社会学中的应用：1950-2000，一个简要的回顾”](http://stat.smmu.edu.cn/STONE/yingyong.swf)，还比如多水平模型，再比如人工神经网络，等等。只可惜我老谢学识尚浅啊……


嗯，还有Stata软件，让我想起了瑞金医院内分泌研究所的那位周伟斌博士GG，已经过了这么久了，ROC分析我还没正儿八经的看呢……惭愧惭愧……Stata目前也几乎是一窍不通的状态……希望他不要转悠到这儿来……


说了几句题外话，不过也不能多说了，要赶紧学习了。争取尽快把层次分析法弄透彻，给那位武汉的Angel一个交待。


最后有点煞风景地说一句：老曹，你的网页上有个地方似乎有点小小的错误，也顺便提出来与你商榷一下，就是“它山之石”的问题，据我所知，这个“它”应该是“他”吧，参见《诗经·小雅·鹤鸣》：“**他**山之石，可以为错。”万一是我错了你莫打我板子。


网页上有句话是不能不引用的，虽然也是引用别人的：

> WC. Schener -- "We might think of the study's design as the dog and the statistical as the tail of the dog and it should fit the dog. Dogs are supposed to wag tails, tails are not supposed to wag dogs."
---
title: TNT印象
date: '2006-02-21'
slug: tnt
---

上TNT论坛大致翻了翻，有两点印象：

一、果然跟Bokee一个风格，帖子暴多，页面暴长——这是外观印象。

二、回复者暴少——应该能由此对帖子内容作出一定程度的推断。

BTW，学统计的其实就喜欢数据暴多，TNT的管理员们不妨对论坛背后的数据分析分析，相信会很有价值的。
---
title: S-Plus常用函数参考（示例）
date: '2006-02-22T23:37:00+08:00'
slug: 23-37-00
---

以前编S-Plus程序就会经常因为狂用函数而挨骂，其实在S-Plus中不多多使用内置函数真是枉费了AT&T贝尔实验室和MathSoft公司的一片苦心，也忽略了S-Plus语言的核心对象：向量和矩阵。每念及此，夜不能寐，就算挣扎着入睡，也会梦见AT&T和MathSoft哽咽着对我说……


## 基本


一、数据管理


vector：向量　 numeric：数值型向量　 logical：逻辑型向量　 character：字符型向量　 list：列表　 data.frame：数据框　 c：连接为向量或列表　 length：求长度　 subset：求子集　 seq，sequence：等差序列　 rep：重复　 NA：缺失值　 NULL：空对象　 sort，order，unique，rev：排序　 unlist：展平列表　 attr，attributes：对象属性　 mode，typeof：对象存储模式与类型　 names：对象的名字属性


```r
> vector("numeric",10)
 [1] 0 0 0 0 0 0 0 0 0 0
> logical(13)
 [1] F F F F F F F F F F F F F
> seq(10,1)
 [1] 10  9  8  7  6  5  4  3  2  1
> unique(rep(1,10))
[1] 1
> rev(seq(10,1))
 [1]  1  2  3  4  5  6  7  8  9 10
> unlist(list(1:6,"Xie Yihui"))
[1] "1"       "2"       "3"       "4"       "5"       "6"       "Xie Yihui"
```

二、字符串处理


character：字符型向量　 nchar：字符数　 substr：取子串　 format，formatC：把对象用格式转换为字符串　 paste，unpaste：连接或拆分　 charmatch，pmatch：字符串匹配　 grep，sub，gsub：模式匹配与替换


```r
> paste("NO.",1:10)
 [1] "NO. 1"  "NO. 2"  "NO. 3"  "NO. 4"  "NO. 5"  "NO. 6"  "NO. 7"  "NO. 8"
 [9] "NO. 9"  "NO. 10"
> unpaste("Xie|Yihui",sep="|")
[[1]]:
[1] "Xie"

[[2]]:
[1] "Yihui"
```
三、复数


complex，Re，Im，Mod，Arg，Conj：复数函数


四、因子


factor：因子　 codes：因子的编码　 levels：因子的各水平的名字　 nlevels：因子的水平个数　 cut：把数值型对象分区间转换为因子　 table：交叉频数表　 split：按因子分组　 aggregate：计算各数据子集的概括统计量　 tapply：对“不规则”数组应用函数


```r
> factor(c(1,0),labels=c("Male","Female"))
[1] Female Male
> table(rep(1:2,4),c(1:4,rep(8,4)))
  1 2 3 4 8 
1 1 0 1 0 2
2 0 1 0 1 2
```

## 数学


一、计算


+, -, *, /, ^, **%%**, **%/%**：四则运算　 ceiling，floor，round，signif，trunc，zapsmall：舍入　 max，min，pmax，pmin：最大最小值　 range：最大值和最小值　 sum，prod：向量元素和，积　 cumsum，cumprod，cummax，cummin：累加、累乘　 sort：排序　 approx和approxfun：插值　 diff：差分　 sign：符号函数


```
> ceiling(5.21)
[1] 6
> cumprod(1:4)
[1]  1  2  6 24
> 911%%711
[1] 200
```
二、数学函数


abs，sqrt：绝对值，平方根　 log, exp, log10, logb：对数与指数函数　 sin，cos，tan，asin，acos，atan，atan2：三角函数　 sinh，cosh，tanh，asinh，acosh，atanh：双曲函数　 beta，lbeta，gamma，lgamma，digamma，trigamma，tetragamma，pentagamma，choose，lchoose：与贝塔函数、伽玛函数、组合数有关的特殊函数　 fft，mvfft，convolve：富利叶变换及卷积　 polyroot：多项式求根　 poly：正交多项式　 spline，splinefun：样条差值　 besselI，besselK，besselJ，besselY，gammaCody：Bessel函数　 deriv：简单表达式的符号微分或算法微分


```r
> logb(9,base=3)
[1] 2
> deriv(~x^2,"x")
expression({
 .value <- x^2
 .grad <- array(0, c(length(.value), 1), list(NULL, "x"))
 .grad[, "x"] <- 2 * x
 attr(.value, "gradient") <- .grad
 .value
}
) 
> choose(9,7)
[1] 36
```

三、数组


array：建立数组　 matrix：生成矩阵　 data.matrix：把数据框转换为数值型矩阵　 lower.tri：矩阵的下三角部分　 mat.or.vec：生成矩阵或向量　 t：矩阵转置　 cbind：把列合并为矩阵　 rbind：把行合并为矩阵　 diag：矩阵对角元素向量或生成对角矩阵　 aperm：数组转置　 nrow,ncol：计算数组的行数和列数　 dim：对象的维向量　 dimnames：对象的维名　 row/colnames：行名或列名　 %*%：矩阵乘法　 crossprod：矩阵交叉乘积（内积）　 outer：数组外积　 kronecker：数组的Kronecker积　 apply：对数组的某些维应用函数　 tapply：对“不规则”数组应用函数　 sweep：计算数组的概括统计量　 aggregate：计算数据子集的概括统计量　 scale：矩阵标准化　 matplot：对矩阵各列绘图　 cor：相关阵或协差阵　 row：矩阵的行下标集　 col：求列下标集


```r
> diag(matrix(1:16,4,4,byrow=T))
[1]  1  6 11 16
> a<-matrix(1:4,2)
> a
     [,1] [,2] 
[1,]    1    3
[2,]    2    4
> t(a)
     [,1] [,2] 
[1,]    1    2
[2,]    3    4
> crossprod(a,t(a))
     [,1] [,2] 
[1,]    7   10
[2,]   15   22
> apply(a,2,mean)
[1] 1.5 3.5
```

四、线性代数


solve：解线性方程组或求逆　 eigen：矩阵的特征值分解　 svd：矩阵的奇异值分解　 backsolve：解上三角或下三角方程组　 chol：Choleski分解　 qr：矩阵的QR分解　 chol2inv：由Choleski分解求逆


```r
> eigen(matrix(1:16,4))
$values:
[1]  3.620937e+001 -2.209373e+000 -1.031241e-016  0.000000e+000

$vectors:
           [,1]        [,2]       [,3]     [,4] 
[1,] -0.5642946  0.78566010 -0.5460082 -4.60465
[2,] -0.6390124  0.40284883  0.7280110  5.80620
[3,] -0.7137302  0.02003756  0.1820027  2.20155
[4,] -0.7884480 -0.36277371 -0.3640055 -3.40310
```

五、逻辑运算


<，>，<=，>=，==，!=：比较运算符　 !，&amp;，&amp;&amp;，|，||，xor()：逻辑运算符　 logical：生成逻辑向量　 all，any：逻辑向量都为真或存在真　 ifelse()：二者择一　 match，%in%：查找　 unique：找出互不相同的元素　 which：找到真值下标集合　 duplicated：找到重复元素


六、优化及求根


optimize，uniroot，polyroot：一维优化与求根


```r
> f<-function(x) x^2-3*x+2
> uniroot(f,0.001,1.5,2.5)
$root:
[1] 1.999972

$f.root:
[1] -0.00002849252

$nf:
[1] 8

$neg:
[1] 1.999972

$f.neg:
[1] -0.00002849252

$pos:
[1] 2.000033

$f.pos:
[1] 0.00003254289

$message:
[1] "normal termination"

$aux:
list()

$call:
uniroot(f = f, interval = 0.001, lower = 1.5, upper = 2.5)
```

## 程序设计


一、控制结构


if，else，ifelse，switch：分支　 for，while，repeat，break，next：循环　 apply，lapply，sapply，tapply，sweep：替代循环的函数。


```r
> if(1 == 2) {
           print("1 is equal to 2!")
} else {
           print("1 is not equal to 2!")
}
[1] "1 is not equal to 2!"
```

二、函数


function：函数定义　 source：调用文件　 call：函数调用　 .C，.Fortran：调用C或者Fortran子程序的动态链接库。　 Recall：递归调用　 browser，debug，trace，traceback：程序调试　 options：指定系统参数　 missing：判断虚参是否有对应实参　 nargs：参数个数　 stop：终止函数执行　 on.exit：指定退出时执行　 eval，expression：表达式计算　 system.time：表达式计算计时　 invisible：使变量不显示　 menu：选择菜单（字符列表菜单）　 其它与函数有关的还有：delay，delete.response，deparse，do.call，dput，environment，formals，format.info，interactive，is.finite，is.function，is.language，is.recursive，match.arg，match.call，match.fun，model.extract，name，parse，substitute，sys.parent，warning，machine。


三、输入输出


cat，print：显示对象　 sink：输出转向到指定文件　 dump，save，dput，write：输出对象　 scan，read.table，load，dget：读入


四、工作环境


ls，objects：显示对象列表　 rm,remove：删除对象　 q，quit：退出系统　 .First，.Last：初始运行函数与退出运行函数　 options：系统选项　 **?**，help，help.start，apropos：帮助功能　 data：列出数据集


## 统计计算


一、统计分布


每一种分布有四个函数：d―density（密度函数），p―分布函数，q―分位数函数，r―随机数函数。比如，正态分布的这四个函数为dnorm，pnorm，qnorm，rnorm。下面我们列出各分布后缀，前面加前缀d、p、q或r就构成函数名：


norm：正态，t：t分布，f：F分布，chisq：卡方（包括非中心）　 unif：均匀，exp：指数，weibull：威布尔，gamma：伽玛，beta：贝塔　 lnorm：对数正态，logis：逻辑分布，cauchy：柯西，　 binom：二项分布，geom：几何分布，hyper：超几何，nbinom：负二项，pois：泊松　 signrank：符号秩，wilcox：秩和，tukey：学生化极差


```r
> rnorm(10)
 [1] -0.3648305  0.4973082  1.8412667 -0.2787127  0.0257934  0.6441702
 [7]  0.5582823 -0.7876886  0.8104928  1.2928385
> pchisq(3.940,10)
[1] 0.04998691
```

二、简单统计量


sum, mean, var, sd, min, max, range, median, IQR（四分位间距）等为统计量，sort，order，rank与排序有关，其它还有ave，fivenum，mad，quantile，stem等。（注：我在S-Plus 6.2中似乎没找到fivenum函数，但是R中有，大家可以试试看）


三、统计检验


R中已实现的有chisq.test，prop.test，t.test。


```r
> t.test(1:10,mu=2)

 One-sample t-Test

data:  1:10 
t = 3.6556, df = 9, p-value = 0.0053 
alternative hypothesis:  mean is not equal to 2 
95 percent confidence interval:
 3.334149 7.665851 
sample estimates:
 mean of x 
       5.5
```

四、多元分析


cor，cov.wt，var：协方差阵及相关阵计算　 biplot，biplot.princomp：多元数据biplot图　 cancor：典则相关　 princomp：主成分分析　 hclust：谱系聚类　 kmeans：k-均值聚类　 cmdscale：经典多维标度　 其它有dist，mahalanobis，cov.rob


```r
> cancor(matrix(1:80,10),matrix(70:21,10))
$cor:
[1] 1

$xcoef:
          [,1] 
[1,] 0.1100964

$ycoef:
           [,1] 
[1,] -0.1100964

$xcenter:
[1]  5.5 15.5 25.5 35.5 45.5 55.5 65.5 75.5

$ycenter:
[1] 65.5 55.5 45.5 35.5 25.5
```

五、时间序列


ts：时间序列对象　 diff：计算差分　 time：时间序列的采样时间　 window：时间窗


六、统计模型


lm，glm，aov：线性模型、广义线性模型、方差分析


```r
> x<-rnorm(100)
> y<-rchisq(100,9)
> lm(y~x)
Call:
lm(formula = y ~ x)

Coefficients:
 (Intercept)          x 
    8.180136 0.07897231

Degrees of freedom: 100 total; 98 residual
Residual standard error: 3.540729
```

抱歉，肚子饿了，得回去睡觉了。今天先写到这里。还有，本文函数大多来自于[北京大学李东风老师](http://www.math.pku.edu.cn/teachers/lidf/)的教程，在此向原作者的辛苦工作表示致谢。其中有一部分函数我作了小的删改，同时声明一下我所用的版本是S-Plus 6.2。
---
title: 总理的羽绒服……
date: '2006-02-23T13:52:00+08:00'
slug: 13-52-00
---

10年前：

![](https://db.yihui.org/hexun/b_0ED0078C597F400F.jpg)

2006春节： 

![](https://db.yihui.org/hexun/b_19F09124F04FC96E.jpg)
---
title: 统计在某些学校的模样
date: '2006-02-25T16:09:00+08:00'
slug: 16-09-00
---

这已不是第一次感慨了，有些地方的统计学，和我们心中的统计学是大不一样的。上周日做一份统计学的题，差点没把我难死，做得我大汗淋漓、战战兢兢……其中不乏有“今天一个数，明天一个数，后天一个数，三天平均数是多少”这样的题，以前传闻某博士不敢确定“1+1=2”，现在我算是理解了，不知我是不是也读书读迂了。还有些题，莫名其妙，让我们学院的学生做，估计没人能知道，比如“某公司去年计划降低成本80%，最后实际降低了75%，问计划完成度是多少”，鬼才知道“计划完成程度＝(1－实际降低率)/(1－计划降低率)”！这种指标的计算，不知道是谁制定的，明显不合理，还流传了这么多年，一代代传下去。


我们不知道的太多了，比如统计工作中计算平均发展速度的方法有哪两种，只有天知道标准答案是“几何平均法”和“方程式法”！


“工业统计学”、“农业统计学”、不知道是不是还有“马克思主义统计学”……
---
title: 公平
date: '2006-02-26T09:27:00+08:00'
slug: 09-27-00
draft: yes
---

没有做错事，
也要接受做错事的惩罚。


后记：


吾当以吾之力，宁焚吾之身，亦将明汝之心！
---
title: 明德楼明晃晃的灯
date: '2006-02-26T21:31:00+08:00'
slug: 21-31-00
---

（一）

![](https://db.yihui.org/hexun/b_96AEB531D0A4B366.jpg)

（二）

![](https://db.yihui.org/hexun/b_A67B910EDA678D5A.jpg)

（三）

![](https://db.yihui.org/hexun/b_8166A8F80AE4865E.jpg)

（四）

![](https://db.yihui.org/hexun/b_8D4C589C774EB76B.jpg)

从白天到晚上，这些超大功率的灯就一直亮着。已经大约四天了。我向保安反映了这个情况，他告诉我这是在试灯呢。我总觉得这是灯泡寿命试验。（在下拍摄技术比较差，见笑了，上面的图片分别是远近对比和昼夜对比）
---
title: 你永远玩不过定规则的人(zz)
date: '2006-03-01T17:33:00+08:00'
slug: 17-33-00
---

> 狐狸跟街上走着，迎面碰上了老狼。老狼伸手就给他一大嘴巴，“让你丫不戴帽子”。  
> 狐狸很郁闷地回家了，弄一帽子戴着。  
> 第二天又碰上老狼了，又挨了一大嘴巴，“让你丫戴帽子”。  
> 如是几次，总挨打。狐狸想，这么老挨打不是个事儿啊，不行，我得找老虎投诉去。
> 
> 刚到老虎家门口，就听老虎在屋里说话。  
> “你也不能老这么蛮不讲理打狐狸阿，回头狐狸找我投诉来，我也不好罩着你啊。好歹咱面子上得过得去，我教你一招。  
> 下回你见着狐狸，跟他说：给我弄点儿洗衣服的来。他给你拿肥皂来，你就打他一顿的，说我要的是洗衣粉，谁让你拿肥皂。  
> 他拿洗衣粉来，你也能打，说我要肥皂，谁让你拿洗衣粉。  
> 要不然你跟他说，去，给我找个女人来。他给你找个胖的，你打他一顿说我要瘦的；给你找个瘦的，你也打一顿，说我要胖的。  
> 这样不结了，你也能打他，我面子上也能说得过去。”  
> 狐狸一听，得，咱也别投诉了，回家吧。
> 
> 第二天，狐狸在街上又撞上老狼。老狼大喝一声：去，给我找点儿洗衣服的来。  
> 狐狸不慌不忙：你是要洗衣粉阿，还是要肥皂啊？  
> 老狼一听，嗯？有一手啊。又说：去，给我找个女人来。  
> 狐狸还是不慌不忙：你是要胖的啊，还是瘦的？  
> 老狼一听勃然大怒，伸手就给狐狸一个大嘴巴，  
> 让你丫不戴帽子
---
title: 统计学与概率论的区别
date: '2006-03-02T14:15:00+08:00'
slug: 14-15-00
---

![](https://db.yihui.org/hexun/b_52F90F59226181F7.jpg) 

这幅图表明了统计学与概率论之间的差异。 (此图由麻省理工学院开放式软件教程绘制，素材来源于Gilbert、Norma合著的Statistics. W.B. Saunders Co., 1976.) 原始网页[参见这里](http://www.core.org.cn/OCW_CN/Sloan-School-of-Management/15-075Applied-StatisticsSpring2003/CourseHome/index.htm)。
---
title: 这几天天气不错
date: '2006-03-02T16:15:00+08:00'
slug: 16-15-00
---

![](https://db.yihui.org/hexun/b_EA03F791A71FDB57.jpg)

天气不错，拿起桌上的相机朝窗外随便拍一张。用FireWorks处理了一下边缘（免得看起来一整块蓝，太单调），天蓝得都有点假了，拍摄技术也比较差，怎么就拍不出渐变色的效果呢，不过仔细看还是能看出来（注意调整显示器亮度）。


不知道某人所说的风沙天气何时来临。埋头继续看结构方程模型的求解方法。
---
title: 行者（续）
date: '2006-03-03T20:09:00+08:00'
slug: 20-09-00
---

> When I stood up,  
I just said,  
"Damn! The road should be repaired!"  
Then I walked away, as if nothing had happened, heading for my destination,  
again.
---
title: 中译英的一些感受
date: '2006-03-03T20:30:00+08:00'
slug: 20-30-00
---

简单地说，我觉得中文翻译为英文有三点应该注意：

1. 语法基础。这一点在正式文件的翻译中不是特别突出，反倒是在文学作品的翻译中比较重要。因为正式文件中一般不会使用复杂的语法，其目的只是把事情交待清楚，因此大多就是简单的主谓宾结构，外加一些定语、状语从句。翻译中不能有语法错误是比较基本的要求。
2. 尽量用熟悉的英文单词。翻译时，金山词霸和金山快译固然是好帮手，但是不能一味指望它，尤其是不要轻易使用由它翻译出来的没见过的词。把英文在金山快译中翻译为中文试试看，你就会明白把中文在金山快译中翻译为英文给老外看时他们的感受。那天我看了R软件手册用金山快译翻译出来的文字（已经经过人为修改了），心中感慨：人要想得精神分裂症很容易，只要多看看金山快译翻译的东西就可以了。
3. 理解中文。很久以来，我一直认为这才是翻译中最难的一部分。中译英，首先要对中文词句有彻底的把握和理解，从而让信息表达准确到位，关于这一点，前面的[《兰亭集序》（林语堂英译）](/cn/2005/12/15-59-00/)中已经有过很好的示例。

总结起来就一句话：翻译得自然就好。（其实这也与我的生活态度很相似）
---
title: 鸟·驴·锻炼想象力
date: '2006-03-04T20:19:00+08:00'
slug: 20-19-00
---

傍晚，联想CEO&#8482;（也就是我）看见窗外一群鸟儿飞过，于是抓拍了下来：

![](https://db.yihui.org/hexun/b_7E2D01B9814263AC.jpg)

然后眼看着众鸟撤去（左上角显示了俺办公室外面的屋檐，以示真实性）：

![]()

之后我看着图片觉得有些奇怪，本来我不太懂星座，却总感觉这像一幅星座图（大驴座？）：

![](https://db.yihui.org/hexun/b_70CA37BE7F8C4F25.jpg)

我最终觉得还是以我的名字命名为“**驴肝肺座**”吧。然后我就撒开联想的猪蹄，肆意虚构出一个关于“形状”和“视角”的饱含哲理的故事：

![](https://db.yihui.org/hexun/b_60817E7EBF2F243A.jpg)

要擦汗的同志们赶紧擦汗去吧，我联想CEO&#8482;大人不管了。
---
title: 关于层次分析法的介绍
date: '2006-03-05T23:20:00+08:00'
slug: 23-20-00
---

本来“层次分析法”是数学建模中“对策和决策模型”的一部分内容，N天之前angel同学问过，我也一直没作出响应，现在刚忙着看完几篇SEM的论文（关于SEM，我看完那几篇论文之后只想说“胡说八道！”在此不提），抽几分钟时间把AHP（Analytic Hierarchy Process）也整理一下。

层次分析法是对一些较为复杂、较为模糊的问题作出决策的简易方法，它特别适用于那些难于完全定量分析的问题。它是美国运筹学家T. L. Saaty 教授于70年代初期提出的一种简便、灵活而又实用的多准则决策方法。

我翻来覆去地看，总觉得层次分析法这种方法的主要贡献只是提出了一种**检验**方法，这种检验，是建立在简单的常理基础上（效用的比较，也即效用相除），把常理数学化，也就提出了正互反矩阵的概念（`$a_{ij}=1/a_{ji}$`），然后给出对该矩阵的检验，检验规则也是据常理推出（所谓的一致性：`$a_{ij}*a_{jk}=a_{ik}$`，这条性质引伸出了特征值的问题）。

详细情况自己参见下面几篇文章吧，今天懒得动手写了：

- [东华大学理学院应用数学系尤苏蓉老师数学建模讲义之一：层次分析法（PDF文件）](http://math.dhu.edu.cn/teacher/math/%E5%B0%A4%E8%8B%8F%E8%93%89/teaching/mathmodel/数学班/lecture%204.pdf)
- [还有一个Word文档（沈阳建筑大学的？不清楚）](http://jy.sjzu.edu.cn/depart/jcb/web/001/jpk/jch/8.doc)
- [基于改进层次分析法的模糊综合评价模型](http://www.cws.net.cn/Journal/slxb/200403/11.pdf)

关于软件，MatLab或者R或者S-Plus都行，只要能计算特征值就可以了。
---
title: 推荐一篇关于数学家的故事
date: '2006-03-06T16:33:00+08:00'
slug: 16-33-00
---

《Heros in My Heart》是北大未名上ukim在2002年写的一系列小文章，去年在找数学建模大赛的资料时偶然看到，觉得很有意思，今天突然想起来，在此大力推荐一下。

这篇文章实际上是以BBS帖子的形式发出来的，后来经人整理，做成了PDF文档，名为“Heroes in my heart”。其中讲到了大量的数学名家，如Bernoulli、Jacobi、L.Hospital、Newton、Minkowski、Goldbach、Riemann、Hilbert、Weber、Gauss、Kolmogorov、Dirichlet、Cantor、Einstein、John von Neumann、Banach、Abel、de Moivre、Cauchy、Lebesgue、Hermite、Lagrange、Legendre、……

这些小故事也都挺有意思的，像勒贝格与蒙特尔的故事：一次，Lebesgue打电话给Montel讨论一个事情，两个人各持己见，吵了一个小时也没有结果；第二天早上，Lebesgue又给Montel打了一个电话，说我开始同意你的说法了，然而Montel说我也同意你的了，于是又开始争吵。看看便可以感受到这些“嗔”人的可爱之处，有些故事甚至也能影响到一个人的价值观。

下载地址：<http://ir.hit.edu.cn/download/temp/Heroes_in_my_Heart.pdf>
---
title: 论风格的演说（布封）
date: '2006-03-06T18:42:00+08:00'
slug: 18-42-00
---

今天下午本来在看SEM，后来觉得论文都太长， 有些看不下去，于是随便找了本书叫《智慧的灵光》（主编：宋建林）读一读，见到第一章的序言中主编对其中一篇文章作如此评价“法国博物学家布封，在法兰西学院为他举行的入院典礼上发表了著名的‘论风格的演说’，**这一演说可称之为传世经典，人们可以从中获得深刻的启迪**”，颇为好奇，于是仔细读了读，其间想起赵老师经常说的一句话：“……关键是对**问题**的理解”，笑笑，觉得和本文的主旨之一很相似。看来人生还是应该多经历和见识一些事情，思想境界才会有所提高。没想到布封这位研究毛毛虫的老头儿，在如何行文写作上谈到的观点也是相当中肯、独到。要是我用一句话来概括这篇演讲，则是**“行文须趋‘均值’于真理，且制‘方差’于定域”。**

> **论风格的演说**^[布封于1753年6月23日当选为法兰西学士院院士，补已故院士桑思总主教兰格·碍·热尔日的遗缺；8月25日举行入院式。因演说内容是谈风格，所以后人称之为“论风格的演说”。]

> 作者：布封

> 布封（1707——1788），法国博物学家。生于蒙巴尔。曾任法国皇家植物园园长，1733年选为法国科学院院士，1740年选为英国皇家学会会员。他是进化思想的先驱，主张物种的可变，提倡生物转变论，提出了“生物的变异基于环境的影响”原理。提出“缓慢起因”论。创立了新地质年代学。最重要的著作是《自然史》。

> 诸位先生：
> 
> 蒙你们召唤我到你们的行列里来，真使我荣幸万分；但是，只有在接受光荣的人能实副其名的条件下，光荣才是宝贵的，而我那几篇论文，写得既没有艺术，除大自然本身的藻饰之外又没有其他藻饰，我不敢相信，它们竟能使我有足够的资格，敢侧身于艺术大师之林。诸位都是在这里代表着法兰西文学光辉的卓越人物，诸位的名字现在被各国人民赞扬着，将来还要在我们的子子孙孙底口里获得轰轰烈烈的流传。诸位这次属意于我，还有些别的动机：多年以来我就荣幸地属于另一个著名的学术机构了，诸位此次推选我，也就是为了对于这个学术机构作一个新的崇敬表示；我虽然对双方面都应该感激，但并不因之减低了我感激的热诚。今天，我的感激心情迫使我有所贡献，但是我怎样去尽我这个责任呢？诸位> 先生，我所能贡献给诸位的，不过是诸位自己所已有的一些东西罢了：我对于文章风格的一点见解，是从你们的著作中汲取来的；我是在拜读你们的著作和欣赏你们的著作之余，心里才产生了这些见解；也只有在你们的明鉴之下，我把这些见解提出来，才能获得些许成就。
> 
> 历来都有一些人，善于用言辞的力量指挥别的人们。但究竟只有在明达的世纪里人们才写得好，说得好。真正的雄辩需要锻炼天赋的才能，具备学识修养。它与口才大不相同，口才不过是一种才干，一种天赋，凡是感情强烈、口齿伶俐、想象敏捷的人都能具有。这种人感觉得快，感受得也快，并能把所感所受的东西有力地表达出来；他们以纯粹机械的印象把自己的兴奋与感受传递给别的人们。这是单纯的官能与官能之间的语言；一切动作，一切姿态，都奔向共同目标，起着同样作用。为了感动群众，号召群众，需要的是什么呢？就是对于大部分一般的人来说，为了动摇他们，说服他们，需要的是什么呢？一个激烈而动人的腔调，一些频繁的表情手势，一些爽利而响亮的词句，如此而已。但是对于少数**神> 智坚定、鉴别精审、感觉细腻**的人，他们和诸位一样，不重视腔调、手势和空洞的词句，那么，就需要言之有物了，就需要有思想，有意义了；就需要善于把这些物、这些思想和意义陈述出来，辨别出来，序列起来了：专门耸人视听是不够的，还需要在读者的心灵上发生作用，针对他的智慧说话以感动他的内心。
> 
> 文章风格，它仅仅是作者放在他的思想里的层次和调度。如果作者把他的思想严密地贯串起来，如果他把思想排列得紧凑，他的风格就变得坚实、遒劲而简练；如果他让他的思想慢吞吞地互相承继着，只利用一些词句把它们联接起来，则不论词句是如何漂亮，风格却是冗散的、松懈的、拖沓的。
> 
> 但是，在寻找表达思想的那个层次之前，还需要先拟定另一个**较概括而又较固定的层次**，在这个层次里只应该包含**基本见解和主要概念**：把这些基本见解和主要概念安排到这初步草案上来，题材的界限才能明确，题材的幅度也才能认清；作者不断地记起这最初的轮廓，就能够在主要概念之间确定出适当的间隔，而用于填充间隔的那些附带的、**承转**的意思也就产生出来了。凭着天才的力量，作者可以看到全部的意思，这些意思不论是概括的或个别的，都能以真正应有的角度呈现在他的跟前；凭着辨别力的高度精审，作者就能区别空洞的思想和丰富的概念；凭着长期写作习惯养成的慧眼，作者就能预先感觉到他这全部精神活动会产生什么样的成果。只要题目稍微广阔一点或者复杂一点，则一眼就能看到全题，或者凭天才的最初一下努力就能渗透整个题目，那是很罕见的事；就是在经过许多思索之后，能掌握题材的全部关系也还是很少有的。因此，**揣摩题目，应该不厌其烦**；这是使作者充实、扩张并提高他的思想的唯一的方法：愈能借冥想之力赋予思想以实质和力量，则用文词来表现思想也就愈为容易。
> 
> 这种草案还不能算是风格，但它却是风格的基础；它支持风格，导引风格，调整风格的层次而使之合乎规律；不如此，则最好的作家也会迷失路途，他的笔就会像无缰之马任意驰骋，东划一些不规则的线条，西涂一些不调和的形象。不管他用的色彩是多么鲜明，不管他在细节里散播些什么美妙的词句，由于全文不协调，或者没有足够的感动力，这种作品可以说是丝毫没有结构；人们佩服作者的智慧，却很可以怀疑他缺乏天才。唯其如此，所以有些人写文章和说话一样，虽然话说得很好而文章却写得很差；唯其如此，所以有些人凭着想象力的灵机一动，起调很高，后面却接不下去；唯其如此，所以又有些人生怕一些孤立的、稍纵即逝的思想散失无存，便在不同的时间里写下许多零篇断什，然后勉强地、生硬地把这些零篇断什连缀起来；总之，唯其如此，所以七拼八凑的作品才这样多，**一气呵成**的作品才这样少。
> 
> 然而，**任何主题都有其统一性**；不管主题是多么广阔，都可以用一篇文章包括净尽。间断，停息，割裂，似乎应该只在处理不同的主题的时候，或者在要写的事物太广泛、太棘手、太庞杂，才思底运行被重重障碍所间断、被环境的需要所限制的时候，才用得着。否则，割裂太多，不仅不能使作品坚实，反而破坏整体；这样写成的书，乍一看似乎很清楚，但是作者的用意却始终是隐晦的；作者的用意要想印入读者的头脑，甚至仅仅想叫读者感觉得到，都只能凭线索的连贯，意思的和谐配合，只能凭逐步发挥、循序而进、层次匀整；然而这一切，一间断就没有了，或者就软弱无力了。
> 
> 为什么大自然的作品是这样地完善呢？那是因为每一个作品都是一个整体，因为大自然造物都依据一个永恒的计划，从来不离开一步；它不声不响地准备着它的产品的萌芽；**它先以单一的动作草创任何一个生物的雏形；然后它以绵续不断的活动，在预定的时间内，发展这雏形，改善这雏形。**这种成品当然使人惊奇；但是真正应该使我们震惊的却是物象所表现出来的那种神的迹印。人类精神绝不能凭空创造什么；它只能在从经验与冥想那里受了精之后才能有所孕育。它的知识就是他的产品的萌芽；但是，如果它能在大自然的远行中、工作中去摹仿大自然，如果它能以静观方法达到最高真理，如果它能把这些最高真理集合起来，连贯起来，用思维方法把它们造成一个整体、一个体系，那么，它就可以在坚固不拔的基础上建立起不朽的纪念碑了。
> 
> 就是由于**缺乏计划，由于对对象想得不够**，一个才智之士感到处处为难，不知道从哪里下笔。他同时想到许许多多的意思，却因为他既没有拿这些意思互相比较，又没有分别它们的从属关系，他毫无标准来决定取舍；因而他就停留在糊里糊涂、不知所措的境地。
> 
> 但是，只要他能先定好一个计划，然后把题材所有主要的意思都集拢起来，分别主从先后排列，他就很容易看出何时应该动笔，他就能感觉到他的腹稿的成熟，急于要使它像小鸡一样破壳而出，他动起笔来只有感到愉快：意思很容易地互相承续着，风格一定是既自然而又流畅；热力就从这种愉快里产生，到处传播，给每一个辞语灌注生气；一切都愈来愈活泼；笔调提高了，所写的事物也就有了色彩；情感结合着光明，便更增加这光明，使它愈照愈远，由已写的照耀到未写的，于是风格就能引人入胜而且显得明朗。
> 
> 有些人想在文章里到处布置些**警语**，这种意图是完全和文章的热力背道而驰的。**光明应该构成一整个的发光体，均匀地散布到全文**，而那些警语就像许多火星子，只是硬让许多字眼互相撞击出来的，它们只是闪一闪，在我们的眼前炫耀一下，然后又把我们丢到黑暗里了，这种火星子是最违反真正的光明的。那都是一些仅仅凭着正反对立来显露身手的思想：作者只呈现出事物的一面，而将其余的各面一概藏到阴影里；通常，他所选择的这一面，只是一个点、一个角，作者可以在上面卖弄才情，这一点、一角离事物的广大面愈远，则卖弄才情愈为容易，而人类常情之考察事物却正是要从事物的广大面着眼的。
> 
> 还有些人喜欢运用纤巧的思想，追求那些轻飘的、无拘束的、不固定的概念，这种巧思妙想就和金箔一样，**只有在失去坚固性时才能获得光芒**，没有比这种巧思妙想的追求更违反真正雄辩的了。因此，作者在文章里把这种浅薄的、浮华的才调放得愈多，则文章就愈少筋骨，愈少光明，愈少热力，也愈没有风格；除非这种才调本身就是主题内容，作者本意只在谐滤，没有其他目标：这样说来，谈论小事物的艺术也许比谈论大事物的更困难了。
> 
> 又有些人，呕尽心血，要把平常的或普通的事物，用独特的或铺张的方式表达出来，没有比这个更违反**自然美**的了；也没有比这个更降低作家品格的了。读者不仅不赞赏他，反而要可怜他：他竟花了这样多的工夫锤炼字句的新的音调，其目的无非讲一些人云亦云的话。这个毛病是那些富于学识修养然而精神贫瘠的人的毛病；这种人有的是字眼儿，却毫无思想；因此他们在字面上做工夫，他们排比了词句就自以为是组织了意思，他们歪曲了字义，因而败坏了语言，却自以为是纯化了语言。这种作家毫无风格，或者也可以说，只有风格的幻影。风格是应该**刻画**^[法文Style（风格）一词，源出拉丁语stilus（刻字刀），正如中国的“笔”是从“刀”演变而来的一样，所以“刻画”一词在这里用得非常恰当而有力。]思想的，而他们只晓得涂抹空言。
> 
> 所以，为了写得好，必须充分地掌握题材；必须对题材加以充分的思索，以便清楚地看出**思想的层次**，把思想构成一个连贯体，一根绵续不断的链条，每一个环节代表一个概念；并且，拿起了笔，还要使它遵循着这最初的链条，陆续前进，不使它离开线索，不使它忽轻忽重，笔的运行以它**所应到的范围**为度，不许它有其他的动作。风格的谨严在此，构成风格一致性的、调节风格徐疾速度的也在此；同时，这一点，也只要这一点，就够使风格确切而简练、匀整而明快、活泼而井然了。这是天才所制定的第一条规律，如果在遵守这一条规律之外，作者更能鉴别精微，审美正确，征词选字不惜**推敲**，时时留心只用最一般的^[“一般的”，原文是General；布封用这个字，是指平易近人，没有专门学识的人也能懂的辞语，同时也指最能表达事物的全部基本特性的辞语，下文所说的“一般性generalite”，“最一般的概念”，就是说“能概括而又深入浅出”。]词语来称呼事物，那么，风格就典雅了。如果作者再能不对他灵机初动的结果轻易信从，对一切华而不实的炫赫概予鄙弃，对模棱语、谐渡语经常加以嫌恶，那么，他的风格就庄重了，甚至就尊严了。最后，如果作者能怎样想就怎样写，如果他要说服人家的，他自己先深信不疑，则这种**不自欺的真诚**，就构成对别人的正确态度，就构成风格的真实性，这就能使文章产生它的全部效果了；不过，这也还需要不把内心深信的事物用过度的兴奋表示出来，还需要处处显得纯朴多于自信，理智多于热情。
> 
> 上述各点，诸位先生，我读着你们的作品，仿佛你们就是这样对我说的，就是这样教导我的。我的心灵，它如饥如渴地吸取着你们这些至理名言，很想飞腾起来，达到你们的高度。然而，枉然！你们又告许我，规则不能代替天才；如果没有天才，规则是无用的。所谓写得好，就是同时又想得好，又感觉得好，又表达得好；同时又有智慧，又有心灵，又有审美力。风格必须有全部智力机能的配合与活动；只有意思能构成风格的内容，至于词语的和谐，它只是风格的附件，它只依赖着官能的感觉：只要耳朵灵敏一点就能避免字音的失调，只要多读诗人和演说家的作品，耳朵有了训练，精于审音，就会机械地趋向于摹仿诗的节奏和演说的语调。然而，摹仿从来也不能创造出什么；所以这种字句的和谐不能构成风格的内容，也不能构成风格的笔调，有些言之无物的作品，字句倒往往是铿锵动听的哩。
> 
> 笔调不过是风格对题材性质的切合，一点也勉强不得；它是由内容的本质里自然而然地产生出来的，要看作者能否使他的**思想达到一般性的程度**来决定。如果作者能上升到最一般的概念，而对象本身又是伟大的，则笔调也就仿佛提到了同样的高度；并且，如果天才能一面把笔调维持在这高度上，一面又有足够的力量给予每一对象以强烈的光彩，如果作者能在素描的刚健上再加上色彩的绚丽，总之，如果作者能把每一概念都用活泼而又十分明确的形象表现出来，把每一套概念都构成一幅和谐而生动的图画，则笔调不仅是高超的，甚且是壮丽的。
> 
> 说到这里，诸位先生，讲规则也许不如讲实际应用那样易于使人明了，举出实例来也许比空讲箴言更易使人获益；但是，我读着你们的著作时常使我眉飞色舞的那些壮丽的篇章，现在既不容许我——征引，我只好限于说出一些感想。只有写得好的作品才是能够传世的：作品里面所包含的知识之多，事实之奇，乃至发现之新颖，都不能成为不朽的确实保证；如果包含这些知识、事实与发现的作品只谈论些琐屑对象，如果他们写得无风致，无天才，毫不高雅，那么，它们就会是湮没无闻的，因为，知识、事实与发现都很容易脱离作品而转入别人手里，它们经更巧妙的手笔一写，甚至于会比原作还要出色些哩。这些东西都是身外物，**风格却就是本人**^[这是布纣的一句名言，在法国常被引用，也常被误解，因此有许多人把它释为“文如其人”。]。因此，风格既不能脱离作品，又不能转借，也不能变换；如果它是高超的，典雅的，壮丽的，则作者在任何时代都将被赞美；因为，只有真理是持久的，甚至是永恒的。我们知道，<FONT color=#f70909>一个优美的风格之所以优美，完全由于它所呈献出来的那些无量数的真理。它所包含的全部精神美，它所赖以组成的全部情节，都是真理，对于人类智慧来说，这些真理比起那些可以构成题材内容的真理，是同样有用，而且也许是更为宝贵。</FONT>
> 
> 壮丽之美只有在伟大的题材里才能有。诗、历史和哲学都有同样的对象，并且是一个极伟大的对象，那就是**人与自然**。哲学讲述并描写自然；诗则绘画自然，并且加以美化：它也画人，加以放大，加以夸张，它创造出许多英雄和神抵。历史只画人，并且只画本来面目；因此，历史家只有在给最伟大的人物画像的时候，在叙述最伟大的行为、最伟大的运动、最伟大的革命的时候，笔调才变得壮丽；而在其他的一切场合，他的笔调只要尊严、庄重就够了。哲学家每逢讲自然规律、泛论万物的时候，述说空间、物质、运动与时间的时候，讲心灵、人类精神、情感、热情的时候，他的笔调是可以变得壮丽的。在其他场合，他的笔调但求能典雅、高超就够了。但是演说家与诗人，只要题材是伟大的，笔调就应该经常是壮丽的，因为他们是大师，他们能结合着题材的伟大性，恣意地加上许多色彩、许多波澜、许多幻象；并且也因为他们既然要经常渲染对象，放大对象，他们也就应该处处使用天才的全部力量，展开天才的全部幅度。
> 
> --- （范希衡　译）
---
title: 结构方程模型研究所需知识
date: '2006-03-06T23:58:00+08:00'
slug: 23-58-00
---

抓狂了，愤怒了。侯杰泰老师，温忠麟老师，成子娟老师，你们的书中怎么会没有一个地方提起**Wishart分布**的呢？……

看了一系列论文，现在列出最近需要认真补习的知识：

- 多元统计分析中的Wishart分布（老杜你上课也不吱一声，这个分布与`$\chi^2$`分布有**同等重要**的位置啊）
- 最大似然估计的原理（Maximum Likelihood Estimation）——不管研究什么，基础性的原理都是至关重要的，我现在就期待着某位大哥能把SEM中似然函数得出的过程写清楚一点，大家的文章总是模模糊糊一笔带过，ft，看得人直冒火
- 统计计算**算法**，包括**MCMC**（Markov Chain Monte Carlo）、**MCECM**（Multi-Cycle Expectation Conditional Maximization）等——这是通往最后结果的唯一出口，马景义师兄曾经告诉过我，统计计算是统计分析的瓶颈，我已经越来越深刻地感受到了，这也是为什么我最近在S-Plus和R上下功夫比较大、在宏能畅然公司活动比较频繁的原因
- **Bootstrap**方法——样本问题也总是制约统计分析的瓶颈之一，重抽样方法（**Resampling**）也算是一个统计前沿问题
- 偏最小二乘法（Partial Least Squares，PLS）、典型相关分析（Canonical Correlation）——貌似这二者有某种关系，暂时不明
- 工具变量法（Instrumental Variables，IV）和一系列最小二乘法：两步最小二乘法（Two Stage Least Squares）、未加权最小二乘法（Unweighted Least Squares，ULS）、广义最小二乘法（Generalized Least Squares，GLS）、广义加权最小二乘法（Generally Weighted Least Squares，GWLS）、对角加权最小二乘法（Diagonally Weighted Least Squares，DWLS）——静萍姐姐讲计量经济学时好像讲过一些，不过至今一点印象都没了，汗

晚上在食堂吃饭，正一边沉思着如何在结构方程模型中取得突破和创新，师傅不知何时站在了旁边，我竟然一点没发觉。
---
title: 谎言、糟糕的谎言和统计数字
date: '2006-03-07T23:22:00+08:00'
slug: 23-22-00
---

今日新浪头条之一——[政协委员质疑大学高收费：学费20年上涨25倍](http://news.sina.com.cn/c/2006-03-07/10398381642s.shtml)。从问题本身来看，孙继业委员其实说得很对，有关教育收费问题对于一部分人群来说已经是比较沉重的负担。这社会难题太多，不可调和的矛盾也太多，我非聪明人，暂时没什么高招。但是，我总觉得这种问题的解决不是简单地靠大家喊两句让政府多拨些款就可以的，今天喊着教育多投入，明天喊着农村医疗多投入，后天喊着国防多投入，……最后就开始骂了，咱纳税人的税都交哪儿去了？然后就贪污腐败什么的都来了……

倒不是想说这个。我是想说现在的很多媒体都明显走上了**炒作**之路，而且还义无反顾一往无前一发不可收拾，没事儿就爱给出点爆料。关于统计数字，炒起来是最容易不过了。**TWENTY-FIVE TIMES? 贰拾伍倍？**学费涨了那么多？大家一片哗然，然后又开始义愤填膺摩拳擦掌了……注意我的前提，这个问题的提出是很好的，确实是一个应该认真考虑的问题，我敬佩孙委员对人民群众的关心。

与此同时，我们其实可以看很多组另外可以用来相比照的数字，比如使用最广泛的一个指标：GDP。2005年GDP约182321亿元，1985年约8989.1亿元，容易计算：182321/8989.1=**20.3**，这样看的话，也许就不会再有那么大的轰动效应，新浪网的流量可能就会稍微下降一些了。以前我在BlogChina那边也曾写过类似的文章，很不幸也是关于新浪的（谁让我看新浪比较多呢）：[在中国挣扎的IM工具](http://xieyihui.blogchina.com/2708756.html)。

引用Benjamin很经典的一句话：

> “谎言有三种：谎言、糟糕的谎言和统计数字。”

> ——本杰明·迪斯雷利（1804-1881），英国政治家

<!-- -->

> "There are three kinds of lies: lies, damn lies, and statistics."

> --- Benjamin Disraeli

写到这儿，突然想起上次读到的一篇关于红楼梦的文章，里面有这么一段，也是描写这个一惊一诧的年代的，也一并引用过来（[原文地址](http://blogteam.bokee.com/viewdiary.10106573.html)）：

> 《红楼梦》真正的作者不是曹雪芹？文坛一片哗然！ 
> 
> 贾宝玉是民族主义者证据确凿？文坛一片哗然！ 
> 
> 贾宝玉真实的身份是顺治皇帝？文坛一片哗然！ 
> 
> 红楼情榜中女性的自杀与自相残杀？文坛一片哗然！ 
> 
> 林黛玉自恋有女人味史湘云纯真令人怀疑？又一片哗然！ 
> 
> 薛宝钗……

是不是有点意思呢？
---
title: 事件研究方法的基本原理
date: '2006-03-08T12:41:00+08:00'
slug: 12-41-00
---

上午认识了金融实验班的谢磊同学（本家啊），聊天过程中提到一个词：Event Study，我心里琢磨着这是什么研究呢，于是Google一下，发现原来又是一个“冒牌货”，我认为，这种研究实质上和Chow断点检验（Breakpoint Test）很相似，就是看一段时期前后某一项指标是否有显著变化；而且Chow Breakpoint Test比Event Study的外延更广。在统计检验方法上，Event Study只是粗略地使用了正态统计量，Chow Breakpoint Test则使用了F统计量。记得有一次开会我就拿“保先”的事情说过应该做Chow断点检验，看看“保先”前后社会经济政治文化是否有显著变化，今天看来，准确地说，应该是做Event Study。

经济学家们经常要研究一件具体的事情对企业价值的影响，事件研究（**Event Study**）就是分析事件对公司股价影响的一种办法。在理性的金融市场上，一个事件的影响会迅速反映到股票价格中，事件的影响可以通过股票价格在短期内的变化来衡量。

最先采用事件研究方法的是Dolly。1933年，他以美国股票市场1921年~1931年间的95个股票拆分事件作为样本，对股票拆分事件发生引起的股票价格的变化进行了研究。他发现，在95起拆分事件中，有57起引起了股票价格上升，26起引起了股价下降，另外12起没有引起明显反应。

事件研究方法通常包括以下步骤：

1. 对事件的定义。事件研究的首要任务是确定所研究的事件，并且确定要研究的该事件引起的股票价格变化的时间区段。例如，如果要研究宏观政策事件对于股票价格变化的影响，首先应该选取符合要求的宏观经济政策事件，例如重要法律的颁布，然后确定在信息颁布前后的多长时间中研究股票价格的变化。

2. 取样标准。界定事件后，有必要确定取样标准。取样标准可能会受比如股票交易所上市公司数据可获性（data availability）的限制，也可能受特殊行业的会员之类的限制。在此阶段，归纳出一些样本特征（如：公司市场资本化、行业代表、事件发布的时间分布等）并注明通过选样可能导致的任何倾向性是十分有用的。

3. 建立正常收益和非正常收益计算模型。评估事件的影响需要计算非正常收益（abnormal return）。非正常收益即事件期间内该证券事前或事后实际收益与同期正常收益之差，而正常收益是指假设不发生该事件条件下的预期收益。对于公司i、事件发生日t来说，非正常收益为：

    `$$AR_{it} = R_{it} - E( R_{it} | X_{t})$$`

    其中，`$AR_{it}$`、`$R_{it}$`和`$E( R_{it} | X_{t})$`分别为t期的非正常收益、实际收益、正常收益。`$X_{t}$`是正常收益模型的限定内容。正常收益模型通常有两种：固定平均收益模型（the constant mean return model），其中`$X_{t}$`为常数；市场模型（the market model），其中`$X_{t}$`为市场收益。顾名思义，前一模型中假定某一证券的平均收益不变，即为常数，后一模型假定市场收益与证券收益之间存在稳定的线性关系。

4. 确定正常收益模型后，则需要进行估计。在界定估计期时，最常见的是把事件期间之前的时期作为估计期，比如，在运用每日数据及市场模型的事件研究中，市场模型的参数估计期可定为事件发生前的n天（n的大小由研究者根据情况自行选择，一般n≥30）。通常，事件期间本身不包含在估计期中，以免事件影响正常收益模型参数的估计。正常收益模型的参数估定后，便可计算出非正常收益。

5. 检验过程。接下来，需要设计非正常收益的检验框架。此处需要着重考虑的是零假设（the null hypothesis），并且确定综合计算非正常收益的方法。

6. 实证结果。实证的结果跟所采用的计量经济学方法有直接的关系。除了描述出最基本的实证结果以外，诊断性的说明也极为有用。有时，特别是当研究的事件个数非常有限时，一两个事件可能会对整个实证结果产生严重影响。注意到这一点，对于评价实证结果是至关重要的。

7. 解释和结论。比较理想状况的是，实证结果能够导引出有关事件对股票价格产生影响的原因。另外，也可以加上其他的一些说明，将自己的分析与别人做的类似分析进行比较。
---
title: 历史意见与时代意见——钱穆
date: '2006-03-10T00:06:00+08:00'
slug: 00-06-00
---

这两天工作杂事多，心里感觉有些乱，所以读读书安安神。钱穆是我比较喜欢的一位大师，中庸^[这个词究竟是褒还是贬，似乎难以说清楚，此处我当然是采取褒义，意即钱穆善于全面考察问题，而不是由一己之“时代意见”而走极端并匆忙下定论。关于这个词，还有不得不提及的就是，傅雷曾经说过，中国人的致命伤有三：**中庸，苟且，小智小慧**。我窃以为他所指“中庸”的是说人们缺乏勇气站出来挑战，而总是唯唯诺诺。]、谨慎、睿智，读其文，常感受到一种“大”；黄仁宇写了一本《中国大历史》^[黄sir自创了一个词，叫“macro-history”。]，与此处我说的“大”意思基本相同。钱穆的弟子严耕望在《钱穆传》对他如此评价：“近七十年来，中国史坛甚盛，名家大师辈出。论根柢深厚、著作宏富，不仅穆一人；但其**才气磅礴，识力深透，文章劲悍，几无比伦**。只到晚年，后辈学人从其问学，仍常感其思如泉涌，随时提出新观点；退而思之，亦多有理据，非恣意想象之说。纵或感其论点如**天马行空，难可捉摸，但仍富启发性**，好学深思者，听其言，读其书，不论能否领受，皆可获启示，当别开蹊径，不能执著，拘守成规，此为其著作除建立本身论点外，对于史学教育之另一贡献，殊为难能！”

时间紧迫，尚只读完钱穆《中国历代政治得失》的序和前言，其实这中间说明的一些道理都是很朴素的，处处都体现着研究历史所应采用的的科学方法以及钱穆的历史观，摘取一段如下：

> “……第五，任何一制度，决不会绝对有利而无弊，也不会绝对有弊而无利。所谓得失，即根据其**实际利弊**而判定。而所谓利弊，则指其在当时所发生的实际影响而觉出。因此要讲某一代的制度得失，必需知道在此**制度实施时期之有关各方意见之反映**。这些意见，才是评判该项制度之利弊得失的真凭据与真意见。此种意见，我将称之曰**历史意见**。历史意见，指的是在那制度实施时代的人们所切身感受而发出的意见。这些意见，比较真实而客观。待时代隔得久了，该项制度早已消失不存在，而后代人单凭后代人自己所处的环境和需要来批评历史上已往的各项制度，那只能说是一种时代意见。**时代意见并非是全不合真理**，但我们不该单凭时代意见来抹杀已往的历史意见。即使我们此刻所处的时代，已是需要民主政治的时代，我们不能再要有一个皇帝，这是不必再说的。但我们也不该单凭我们当前的时代意见来一笔抹杀历史，认为从有历史以来，便不该有一个皇帝，皇帝总是要不得，一切历史上的政治制度，只要有了一个皇帝，便是坏政治。这正如一个壮年人，不要睡摇篮，便认为睡摇篮是要不得的事。但在婴孩期，让他睡摇篮，未必要不得。我上述的历史意见，单就中国历史论，如今所传**历代名臣奏议**之类，便是一项极该重视的材料。那些人，在历史上，在他当时，所以得称为名臣，而他们那些奏议，所以得流传下，仍为此后较长时期所保留，所诵览，正因为他们的话，在当时，便认为是可以代表他们当时的时代意见的。只有在当时成为时代意见的，所以到后来，才能成为历史意见。我们此刻重视这些历史意见，其意正如我们之重视我们自己的时代意见般。这两者间，该有精义相通，并不即是一种矛盾与冲突。……”

可以看出，钱穆对于历史制度的评价，极其注重“客观”二字，以及对史实的尊重，而不是妄加评论（盲目追随“时代意见”）。这不禁让我想起上次台湾那位黄光国教授过来在逸夫会议中心讲“中国人的创造力”是提到关于“科学”的一些说法，其中特别提到了胡适老先生那句“大胆地假设，小心地求证”。钱穆的历史观与此颇有几分相似，所谓“大胆假设”，是要放开思维，而“小心求证”，则是尊重史实、重视证据。

其实之所以读历史方面的书是因为最近我一直反省着自己的思维方式以及思考角度是不是有问题^[可是，我觉得好多人思维方式都有问题呀，比如昨天张老师在WC里问我吃过饭没有，我当时憋了半天实在是不知道怎么回答，上次赵老师在同样的地方问我同样的问题我都觉得够呛了……怎么在那个地方会想起吃饭的问题呢……]，培根说“读史使人明智”，我就暂时听他一句话，看我这种糊涂蛋，是否能变明智一些吧。
---
title: 孤灯
date: '2006-03-11T00:38:00+08:00'
slug: 00-38-00
---

![](https://db.yihui.org/hexun/b_27F368F6B9A74233.jpg)



![](https://db.yihui.org/hexun/b_0CEE0F4D72AC8304.jpg)

每当陷入人生的黑暗之中，觉得迷惘时，我都会想起一个场景：高三的时候，深夜别人都睡了，我从卫生间看完书出来，透过窗户看着远方，可以看到学校对面那条河，河的两岸是街道，那些街灯，奋力刺穿黑暗……
---
title: 胡天三月仍飞雪
date: '2006-03-11T13:24:00+08:00'
slug: 13-24-00
---

3月11号了，竟然还纷纷扬扬地下雪……楼上不适合拍照，也就罢了。北京这天气，真是太奇怪，前天阳光普照，昨天沙尘，今天飘雪。

> 雪一片一片一片一片  
> 在天空静静缤纷  
> 眼看春天就要来了  
> 而我也将也将不再生存

> 不管与你的路有多苦  
> 我只想要拥有最后的祝福  
> 再多的伤害我都不在乎  
> 愿你我挣脱一切的束缚

人的条件反射很有意思，比如我听到那英的“不管有多苦”，便会有种下雪的感觉（因为高中某个冬天睡午觉起床的广播一直放这首歌）；看到下雪时，又不禁想起“雪人”。
---
title: 多元正态分布参数最大似然估计
date: '2006-03-11T21:32:00+08:00'
slug: 21-32-00
---

在多元统计分析中，多元正态分布有着核心地位（很容易与一元统计分析类比），今日将其分布密度函数及最大似然估计（ML）的简单推导过程和结果记载于此，供我向SEM迈进奠基之用。首先是密度函数：

![](https://db.yihui.org/hexun/b_EA7289976B701582.jpg)

对于来自多元正态分布总体的样本Y~N<SUB>m</SUB>(μ, V)，

![](https://db.yihui.org/hexun/b_0A22BF4EBE550FC9.jpg)

显然很容易写出这n个样品的联合分布密度：


![](https://db.yihui.org/hexun/b_C2D36A913E09D857.jpg)

按ML的常规套路，取对数（注意为了书写方便现令Ψ=V<SUP>-1</SUP>）：


![](https://db.yihui.org/hexun/b_CE2CD681E94B38CF.jpg)

现在根据推导需要引进几个记号：


![](https://db.yihui.org/hexun/b_A7E7EB2E3571C213.jpg)

具体推导过程就省去了，忒麻烦，令人匪夷所思，恕我矩阵基础知识不太牢固，实在是没能咬牙把详细过程看完；最后的结果是：


![](https://db.yihui.org/hexun/b_4BA967D5B6B8D0A8.jpg)

敲公式也真是件麻烦活儿！（不过今天记住了不少MathType中的快捷键）
---
title: 好冷啊！（外一篇）
date: '2006-03-12T11:00:00+08:00'
slug: 11-00-00
---

今天蹬车到办公室，路上风比较大，真是感觉到料峭春寒。我一手拎着两个暖壶，一手扶车，到了办公室手都冻僵了，不禁慨叹：好冷啊！

> **家用电器讲笑话（zz）**
> 
> 据说有一次，各位家用电器召开会议，会议的内容就是讲笑话，谁讲得好，谁就是最好的家用电器，谁讲得不好，就立即淘汰掉，作废品处理。
> 
> 首先上场的是电视机，电视机最能讲，话话一讲完，全堂轰然大笑，在笑声中只听得电饭锅哆哆嗦嗦地喊了一句：“好冷啊！”于是电视机被一脚踹到废品堆中去了。
> 
> 接着是洗衣机，洗衣机的笑话和它洗衣服的水似的，哗哗不断，讲完毕，也是全堂轰然，在笑声中又听得电饭锅哆哆嗦嗦地喊了一句：“好冷啊！”于是洗衣机也被一脚踹到废品堆中去了。
> 
> 下一位是收音机，收音机最能讲，讲的笑话还好听，全场笑声不断，在笑声中又听得电饭锅哆哆嗦嗦地喊了一句：“好冷啊！”于是收音机也被一脚踹到废品堆中去了。
> 
> 这时，全场的眼光都投向了电饭锅，不知它是什么意思！这时，电饭锅哆哆嗦嗦地转身对电冰箱说道：“你笑就笑吧，嘴巴张那么大干嘛呀！”
---
title: 荒唐的CuteFTP
date: '2006-03-12T19:07:00+08:00'
slug: 19-07-00
---

![](https://db.yihui.org/hexun/b_8EA7808533535BFD.jpg)

有时候电脑也会犯糊涂……看看CuteFTP的杰作：Progress可以到102%……
---
title: 维希特分布(Wishart)的分布密度
date: '2006-03-12T19:48:00+08:00'
slug: 19-48-00
---

这是伟大的SEM工程之——**Wishart分布**篇！要用最大似然估计（ML）的话，目前似乎只有这一条路可走，今日强忍着看多元统计分析的书没吐出来，实在是佩服张尧庭老师，他简直不是人——只能说是神^[我可以放话：世界上不容怀疑的事情只有两件——一是太阳从东边升起；二是张尧庭老师是神。]……其中用到的高等代数证明我几乎一个都没看懂，汗如雨下。此分布由Wishart于1928年推导出来（因此我认为Wishart也不是人），据称有人就用这个时间作为**多元统计分析的诞生时间**，由此可见Wishart分布之牛X。废话少说，言归正传：

首先定义一个矩阵**X**<SUB>nxm</SUB>=(x<SUB>ij</SUB>)的分布，**X**的分布即其列向量一个个拼接起来形成的长向量的分布；若**X**是n阶对称矩阵，那么只需要取上三角（或下三角）部分组成长向量即可，此时

![](https://db.yihui.org/hexun/b_73946BDE35F851DB.jpg)

样本矩阵仍然是：


![](https://db.yihui.org/hexun/b_0A22BF4EBE550FC9.jpg)

其中假定y<SUB>(i)</SUB>**相互独立**，且y<SUB>(i)</SUB>~N<SUB>m</SUB>(μ<SUB>i</SUB>, V)，Y的期望记作：


![](https://db.yihui.org/hexun/b_D3773B03E4EBD13D.jpg)

此时就可以给出Wishart分布的定义了。以下二式中，（1）式是非中心Wishart分布（τ≠0），（2）式是中心Wishart分布（τ=0）：


![](https://db.yihui.org/hexun/b_8D57D113EA57F893.jpg)

现隆重推出中心Wishart分布的密度函数：


![](https://db.yihui.org/hexun/b_864B708179E515FC.jpg)

注意当A不是正定阵时，f(A)=0，在SEM参数的最大似然估计中，似乎没看见对A的正定性的检验，这是目前我的一点小疑问。现在给出密度函数之后，可以顺便说说SEM参数最大似然估计的思路：首先将结构方程模型中的样本标准化（如果只是做ML那么事实上只需要中心化就可以了），使各个样品的均值为零，这一步其实就是为中心Wishart分布做准备（使得τ=0），那么现在容易证明**A**其实就是**样本协方差阵S**。而SEM参数估计的关键工作（或者说目的）也就在于使理论推导出的协方差阵（**Σ(θ)**）与实际样本协方差阵**S**尽可能接近；理论协方差阵**Σ(θ)**也就是上式密度函数中的**V**，那么现在要做的就是知道了**S**来估计**Σ(θ)**，也即知道了**A**来估计**V**，正好就顺路上了最大似然估计的“贼船”，如果最大似然估计的原理忘了请参见尾注^[最大似然估计法（Maximum Likelihood Estimation）：设<EM>X</EM><SUB>1</SUB>, <EM>X</EM><SUB>2</SUB>, ..., <EM>X</EM><SUB>n</SUB>是来自总体<EM>X</EM>~<EM>f</EM>(<EM>x</EM>; θ)（其中θ未知）的样本，而<EM>x</EM><SUB>1</SUB>, <EM>x</EM><SUB>2</SUB>, ..., <EM>x</EM><SUB>n</SUB>为样本值，使似然函数
![](https://db.yihui.org/hexun/b_CC2AA0412B664012.jpg)
达到最大的![](https://db.yihui.org/hexun/b_DF6353C63D07567D.jpg)称为参数θ的最大似然估计值。一般地，θ的最大似然估计值![](https://db.yihui.org/hexun/b_DF6353C63D07567D.jpg)满足：
![](https://db.yihui.org/hexun/b_808779F37ED0C566.jpg)]。还有一点需要提醒注意的是，最大似然估计本身并没有直接达到使**Σ(θ)**与**S**尽量接近的目的，看估计的效果如何，还得在估计之后再对结果进行检验（拟合指数）。

---
title: Gemini Saga
date: '2006-03-14T00:34:00+08:00'
slug: 00-34-00
---

当卡妙、修罗在巨蟹宫面对无边的幻影时，他们会不约而同的喊：“Saga！”

当史昂发觉自己无法从童虎那里脱身时，他会毫不犹豫的喊：“Saga！”

可是Saga呢？当他众叛亲离孤立无援时，当他四面楚歌举步维艰时，他又能叫谁的名字呢？他伸出一只求助的手，又能握住些什么呢？

就是因为什么都没有，Saga的眼才会如宇宙般深邃大海般湛蓝，忧郁的目光总是穿过无尽的虚空到达寰宇的彼岸。

![](https://db.yihui.org/hexun/b_7D2FCA3064FAD9E8.jpg)

Galaxy Explosion

![](https://db.yihui.org/hexun/b_773DF4E4C27D9AEC.jpg)

![](https://db.yihui.org/hexun/b_063C7E545EA40D69.jpg)

![](https://db.yihui.org/hexun/b_A631A7490AE60B98.jpg)

异次元空间

![](https://db.yihui.org/hexun/b_AA90F8BDE8F85E38.jpg)

![](https://db.yihui.org/hexun/b_11638AB40D4A3C72.jpg)

与Virgo Shaka的两次对决

![](https://db.yihui.org/images/saga7.gif)

![](https://db.yihui.org/images/saga8.gif)
---
title: 二月十五的月亮
date: '2006-03-15T18:13:00+08:00'
slug: 18-13-00
---

![](https://db.yihui.org/hexun/b_510B21D1C1143414.jpg)

![](https://db.yihui.org/hexun/b_7A33CAA1C32DFBCB.jpg)

![](https://db.yihui.org/hexun/b_014B1EDADB9DB003.jpg)

前天晚上回去时抬头看月亮很圆了，昨晚翻开日历一看，发现昨天恰好是阴历十五（据说还是个XX节，我指的是阳历），于是三更半夜翻窗出去在传说中的中国群众大学掉渣大楼&#8482;主楼十层的外面拍月亮，当时迎面吹来凉爽的风，我也顺便向下拍了一张，在那黑暗处，就是下面九层楼；我觉得在刮风的情况下最好不要在掉渣大楼™外面呆太久（山不转那水在转，楼不晃那心在晃），于是完成了伟大的拍月工程之后就赶紧爬进来了——特此纪念月圆的一天。

![](https://db.yihui.org/hexun/b_152A05DB1E4413DB.jpg)
---
title: 忽悠的年代
date: '2006-03-16T08:56:00+08:00'
slug: 08-56-00
---

就像有一次我跟王惟说的，这世上既没真功夫又混得好的人多的是。我们算是跨入了一个忽悠的新纪元了。（本山大叔打响了第一枪？）

已经感受到一种越来越浮躁的风气，无论在什么领域；我以为只是我个人的感觉，可是这次两会上也反映出这个问题，由此看来并非我臆断。为什么有些人们沉不住气，为什么急功近利，等等一系列问题，我一直苦寻着答案。恐怕追根溯源，要怪就怪两个人：秦始皇和慈禧老太婆，尤其是后者。参见Alfred Adler的理论（有关Inferiority and Superiority），就不展开了。

> ……都拿着板刀，钢鞭，炸弹，洋炮，三尖两刃刀，钩镰枪，走过土谷祠，叫道，“阿Q！同忽悠同忽悠！”于是一同忽悠……

> ——《阿Q正传》，有改动，向鲁迅说声不好意思

<!-- -->

> 那是最美好的时代，那是最糟糕的时代；那是智慧的年头，那是愚昧的年头；那是信仰的时期，那是怀疑的时期；那是光明的季节，那是黑暗的季节；那是希望的春天，那是失望的冬天；我们全都在直奔天堂，我们全都在直奔相反的方向。

> It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was the epoch of incredulity, it was the season of Light, it was the season of Darkness, it was the spring of hope, it was the winter of despair, we had everything before us, we had nothing before us, we were all going direct to Heaven, we were all going direct the other way.

> —— _A Tale of Two Cities_, by Charles Dickens

那是忽悠的年代。It was the epoch of frivolity. （征集“忽悠”一词的翻译！za同学帮帮忙吧）
---
title: 大数定律和中心极限定理
date: '2006-03-17T20:52:00+08:00'
slug: 20-52-00
---

这是SEM伟大工程第二步中的序曲（注意只是序曲）——大数定律和中心极限定理，目的是研究统计计算算法，尤其是Monte Carlo方法，因为据我所知，这玩意儿是基于大数定律的。学习至今，发现自己的基础是千疮百孔，惨不忍睹，遂把这些漏洞趁现在尽力补上。还有另外一个原因是看着别人动不动就叫唤：“俺的结论是有大数定律支持的！”然后就把听众吓坏了，因为有好些人自己也搞不清楚这所谓的**Law of Large Numbers**是个啥东东，于是，大家一起忽悠吧！


不是我贬损谁，确实有这样的例子。像王星老师上课讲有些学生，“我都这么大样本量了还不服从正态分布啊？”言下之意就是说只要搞到的数字足够多，那么就可以请出正态分布老祖宗了。这不扯的么？……我坦言，我自己对于大数定律和中心极限定理其实也是有些晕晕乎乎，还是有些怕所谓的测度论这些东西的，不过无论如何，我还是努力把这俩玩意儿清理明白吧。


首先看看究竟啥叫大数定律和中心极限定理。（下面的东西叫“定义”，不叫“证明”，当年某人为此还和我争了半天，真是想不明白这有什么好争的）


**定义1** 若ξ<SUB>1</SUB>, ξ<SUB>2</SUB>, ..., ξ<SUB>n</SUB>, ...是随机变量序列，令


![](https://db.yihui.org/hexun/b_CF09C7EA76B7BAC4.jpg)

若存在常数序列a<SUB>1</SUB>, a<SUB>2</SUB>, ..., a<SUB>n</SUB>, ...对任何的正数ε，恒有

![](https://db.yihui.org/hexun/b_32838923D31F0F19.jpg)

则称序列{ξ<SUB>n</SUB>}服从**大数定律**（或**大数法则**）


**定义2** 对于独立随机变量序列ξ<SUB>1</SUB>, ξ<SUB>2</SUB>, ..., ξ<SUB>n</SUB>, ...假定Eξ<SUB>n</SUB>和Dξ<SUB>n</SUB>都存在，令

![](https://db.yihui.org/hexun/b_A0C2FBEC36FB27BC.jpg)

若

![](https://db.yihui.org/hexun/b_704CA0F10A4E1CAF.jpg)

则称序列{ξ<SUB>n</SUB>}服从**中心极限定理**（**Central Limit Theorem**）。

**（1）切比雪夫（Chebyishev）不等式** 它是切比雪夫大数定律的基础：

设随机变量X有数学期望E(X)与方差D(X)，则对任意的正数ε，有

![](https://db.yihui.org/hexun/b_1DCFEC84780F60F6.jpg)

**（2）大数定律**


**切比雪夫定理的特殊情况** 设随机变量X<SUB>1</SUB>, X<SUB>2</SUB>, ..., X<SUB>n</SUB>相互独立，且具有相同的数学期望和方差：


![](https://db.yihui.org/hexun/b_2AEA9A5D20619741.jpg)

则对任意的正数ε，有


![](https://db.yihui.org/hexun/b_8E23163965A45570.jpg)

**·贝努利定理** 设n<SUB>A</SUB>是n次独立重复试验中事件A发生的次数，p是事件A在每次试验中发生的概率，则对任意的正数ε，有


![](https://db.yihui.org/hexun/b_C5D95ED93B154DA6.jpg)

**·辛钦定理** 设X<SUB>1</SUB>, X<SUB>2</SUB>, ..., X<SUB>n</SUB>相互独立，服从同一分布，具有数学期望E(X<SUB>k</SUB>)=μ，则对任意正数，有


![](https://db.yihui.org/hexun/b_AAEB74EC18FFC9D2.jpg)

**（3）中心极限定律**


**·同分布的中心极限定理** 设X<SUB>1</SUB>, X<SUB>2</SUB>, ..., X<SUB>n</SUB>相互独立，服从同一分布，具有数学期望和方差：


![](https://db.yihui.org/hexun/b_4FE2288307FFF259.jpg)

则对任意的x，恒有


![](https://db.yihui.org/hexun/b_94BC3E85BB876C97.jpg)

**德莫佛－拉普拉斯定理** 设随机变量η<SUB>n</SUB>(n=1, 2, ...)服从参数为n, p (0<p<1)的二项分布，

![](https://db.yihui.org/hexun/b_EC9D60AA1B877025.jpg)
---
title: 虽千万人吾往矣
date: '2006-03-18T00:15:00+08:00'
slug: 00-15-00
---

回答一个我那会儿没回答的问题：我只知道前一句的来源，至于后一句，只是我偶尔遇到的，不知出处。

> “自反而不缩，虽褐宽博，吾不惴焉？自反而缩，虽千万人，吾往矣。”—— 《孟子·公孙丑上》。 

> “道之所在，虽千万人吾往矣；义之所当，千金散尽不后悔；情之所钟，世俗礼法如粪土；兴之所在，与君痛饮三百杯！”（出处不明）

这世上，有太多的豪言壮语，可是真正的勇气不是靠豪言壮语喊出来的。我这种离经叛道的人，对于豪言壮语，是不会去关心的。那我关心什么呢？

> **你为生存做些什么，我不关心**

> 〔英〕 达纳·左哈 伊恩·马歇尔
> 
> 你为生存做些什么，我不关心；  
> 我想知道，你的渴求，你是否敢于梦想，  
> 那内心的渴望。  
> 你的年龄有多大，我不关心；  
> 我想知道，为了爱，为了梦，为了生机勃勃的奇遇，  
> 你是否愿意像傻瓜一样冒险。  
> 我不关心，是什么行星使你的月亮位于方照，  
> 我想知道，你是否已触及自己悲哀的中心，  
> 是否因生活的种种背叛而心胸开阔，  
> 抑或因为害怕更多的痛苦而变得消沉和封闭！  
> 我想知道，你是否能面对痛苦——我的或者你自己的，  
> 用不着去掩饰，使其消退或使其凝固。  
> 我想知道，你是否能安享快乐——我的或者你自己的，  
> 你是否能充满野性地舞蹈，让狂喜注满你的指尖和足尖，  
> 而不告诫我们要小心 、要现实、要记住人的存在的局限。  
> 我并不关心你告诉我的故事是否真实，  
> 我想知道，你是否能为了真实地对待自己而不怕别人失望，  
> 你是否能承受背叛的指责而不出卖自己的灵魂。  
> 我想知道，你是否能忠心耿耿从而值得信赖；  
> 我想知道，你是否能保持精神饱满的状态，  
> —即使每天的生活并不舒心，  
> 你是否能从上帝的存在中寻求自己生命的来源。  
> 我想知道，你能否身处颓境，却依然站立在湖边对着银色的月光喊一声“真美”！  
> 我并不关心你在哪里生活或者你拥有多少金钱，  
> 我想知道，在一个悲伤、绝望、厌烦、受到严重伤害的夜晚之后，  
> 你能否重新站起，为孩子们做一些需要的事情。  
> 我并不关心你是谁，你是如何来到这里，  
> 我想知道，你是否会同我一起站在火焰的中心，毫不退缩。  
> 我并不关心你在哪里受到教育、你学了什么或者你同谁一起学习，  
> 我想知道，当一切都背弃了你时，是什么在内心支撑着你。  
> 我想知道，你是否能孤独地面对你自己，  
> 在空寂的时候，你是否真正喜欢你结交的朋友。

> **The Invitation**
> 
> It doesn't interest me what you do for a living. I want to know what you ache for, and if you dare to dream of meeting your heart's longing.
> 
> It doesn't interest me how old you are. I want to know if you will risk looking like a fool for love, for your dream, for the adventure of being alive.
> 
> It doesn't interest me what planets are squaring your moon. I want to know if you have touched the center of your own sorrow, if you have been opened by life's betrayals or have become shriveled and closed from fear of further pain! I want to know if you can sit with pain, mine or your own, without moving to hide it or fade it, or fix it.
> 
> I want to know if you can be with joy, mine or your own, if you can dance with wildness and let the ecstasy fill you to the tips of your fingers and toes without cautioning us to be careful, to be realistic, to remember the limitations of being human.
> 
> It doesn't interest me if the story you are telling me is true. I want to know if you can disappoint another to be true to yourself; if you can bear the accusation of betrayal and not betray your own soul; if you can be faithless and therefore trustworthy.
> 
> I want to know if you can see beauty even when it's not pretty, every day, and if you can source your own life from its presence.
> 
> I want to know if you can live with failure, yours and mine, and still stand on the edge of the lake and shout to the silver of the full moon, "Yes!"
> 
> It doesn't interest me to know where you live or how much money you have. I want to know if you can get up, after the night of grief and despair, weary and bruised to the bone, and do what needs to be done to feed the children.
> 
> It doesn't interest me who you know or how you came to be here. I want to know if you will stand in the center of the fire with me and not shrink back.
> 
> It doesn't interest me where or what or with whom you have studied. I want to know what sustains you, from the inside, when all else falls away.
> 
> I want to know if you can be alone with yourself and if you truly like the company you keep in the empty moments.
> 
> --- by Oriah Mountain Dreamer  
copyright &copy; 1999 by Oriah Mountain Dreamer.
---
title: 研殇
date: '2006-03-18T13:24:00+08:00'
slug: 13-24-01
---

许久以来，一直想写一篇关于我对考研这件事的想法。无奈终日忙碌，间或想起，也无头绪。这事情，要从保研说起。当初薛薇老师让我仔细想想要是能上研究生，那么上研之后到底想干嘛呢。这是一个好问题，当时我也认真思考过，写了一点东西，今日既然说起这件事，也把那时的一些想法放在下面吧：

> **上研究生干嘛？**
> 
> 作为一个21岁的活人，凡事都应该有个目的，上研究生更应如此。
> 
> 我的题目主要问的是上研究生之后的计划，同时也可以倒过来理解：干嘛上研究生？这样问的就是上研究生的目的。
> 
> 在一些人生方向上的抉择上或者人生基本问题的探究上，我形成了这样的思考方式：连续问两个问题——**What? So what?** 这样常常就会搞清楚要走的方向到底是对是错，到底有没有真正的意义。在读研的问题上，我的这两个问题就可以这样问：
> 
> **What** is your aim of going to be a postgraduate? ——读研的目的是什么？（为什么读研）
> 
> **So what?** ——那又怎样？
> 
> 后一个问题往往比前一个要重要得多，有澄清事实的作用。比如，有人说，读研的目的是为了有更高的学历，而**那又怎样呢？**更高的学历又意味着什么呢？意味着更好的前途吗？不一定（不过以现在的社会观念，可能这个答案更偏向于肯定回答）。对于那些对于本专业不感兴趣的人，可能仅仅意味着一本文凭加上两年浑浑噩噩的生活。这样的话，读研的价值在哪里？
> 
> 在我做出不考研的决定之前，曾经仔细考虑过研究生和本科生的区别以及各自的价值。也许我所见所闻与事实有所偏差，但是我认为仍然可以说明问题，就像统计中不精确的数据同样可以说明问题一样。我一向坚持认为在能力方面，本科生看似好像比研究生弱很多，但是这只是表面现象，造成这种现象的原因在于人们普遍看到研究生能跟着导师做项目，于是觉得研究生就很厉害，事实上呢，他们不过比本科生在年龄上相差一两岁而已，真正能力方面的差距，比我们想象的要小；我们有很多优秀的本科生，绝不会比研究生差，只不过这种潜力没有合适的时机以及合适的人来发掘而被埋没，甚至本科生自己都认为自己没有什么能力，不够自信。（由此我也想到本科生很需要良好的环境去发展，这种环境一是要靠师长去提供，二是自己也要积极主动创造）
> 
> 昨天大三的吴箫同学来找我，我跟她谈了一中午，发现她跟我的学习经历比较相似；到了大三，随着专业课的增多，逐渐认识到自己应用水平之差，以及过去所学知识由于无用武之地而渐渐遗忘，突然有种茫然的感觉。
> 
> **What** do you study?
> 
> 有人会兴致冲冲地给我们列举：我们学的东西多了去了，高等代数、数学分析、概率论、数理统计、随机过程、实变函数、国民经济核算、西方经济学、描述统计、统计软件、抽样技术、回归分析、时间序列分析、多元统计分析……
> 
> **So what?**
> 
> 那又怎样呢？结果是学了又忘了，只是匆匆对付了一下考试，然后全都抛诸脑后；如果突然让我们的学生做一件实际应用的事情，我们会发现阻碍重重，以前还觉得“英雄无用武之地”，现在感觉连“英雄”都根本算不上。
> 
> 我对吴箫说，你现在能感到“茫然”就很不错了！
> 
> 如果，上研之后仍然茫茫然，那又何必荒废这两年青春呢？
> 
> 写于2005年9月21日

保研时有一批人“牺牲”了，考研时又有一批人“牺牲”了。所以题为“研殇”。

> 殇，不成人也。——《说文》

用“愤青”一点的话说，这一次保上研的都是狗熊，根本不是英雄。我扪心自问，确实不算英雄，于是诚惶诚恐，努力学习，抓紧时间从狗熊变成英雄，以无愧于真正的英雄们。

> 出不入兮往不反，平原忽兮路超远。——屈原《九歌·国殇》

考研，一场硝烟过后，有人哭了，有人笑了，有人惴惴不安，有人无所谓。这一切，我都看在眼里。我扼腕，悲愤，叹息。

我常常想，这个国家，究竟想要培养什么样的人才呢？我对考研的制度相当怀疑。不过现在不合理的制度太多太多。

祝愿所有努力过的人们都有好结果吧。

特此纪念那些英雄。我依然尊敬你们。请你们振作，继续为美好的生活奋斗！
---
title: 墙砖……
date: '2006-03-18'
slug: bricks
---

Bokee又在干嘛呢？开始卖砖头了……

http://blogwall.bokee.com
---
title: PROJECTION PURSUIT REGRESSION
date: '2006-03-19T14:46:00+08:00'
slug: 14-46-00
---

先写个标题贴点摘要在这儿，我正在看Friedman这篇JASA文章，30页英文，头大……不过不能辜负赵阳同志的重托，咬牙看吧！！

> **PROJECTION PURSUIT REGRESSION**
> 
> Jerome H. Friedman  
> Stanford Linear Accelerator Center  
> Stanford University  
> Stanford, California 94305
> 
> Werner Stuetzle  
> Stanford Linear Accelerator Center  
> and  
> Department of Statistics  
> Stanford University  
> Stanford, California 94305
> 
> A new method for nonparametric multiple regression is presented. The procedure models the regression surface as a sum of general-smooth functions of **linear combinations of the predictor variables** in an iterative manner. It is more general than standard stepwise and stagewise regression procedures, does not require the definition of a metric in the predictor space, and lends itself to graphical interpretation.
> 
> (Submitted to Journal of the American Statistical Association)

1981年的论文，25年后我才看到……啥叫“学海无涯”？体会体会吧……


R中的ppr函数说明如下：


```
ppr                  package:stats                  R Documentation

**Projection Pursuit Regression**

**Description:**
     Fit a projection pursuit regression model.

**Usage:**
     ppr(x, ...)
     ## S3 method for class 'formula':
     ppr(formula, data, weights, subset, na.action,
         contrasts = NULL, ..., model = FALSE)
     ## Default S3 method:
     ppr(x, y, weights = rep(1,n),
         ww = rep(1,q), nterms, max.terms = nterms, optlevel = 2,
         sm.method = c("supsmu", "spline", "gcvspline"),
         bass = 0, span = 0, df = 5, gcvpen = 1, ...)

**Arguments:**
 formula: a formula specifying one or more numeric response variables
          and the explanatory variables. 
       x: numeric matrix of explanatory variables.  Rows represent
          observations, and columns represent variables.  Missing
          values are not accepted. 
       y: numeric matrix of response variables.  Rows represent
          observations, and columns represent variables.  Missing
          values are not accepted. 
  nterms: number of terms to include in the final model.
    data: data frame from which variables specified in 'formula' are
          preferentially to be taken. 
 weights: a vector of weights 'w_i' for each _case_.
      ww: a vector of weights for each _response_, so the fit criterion
          is the sum over case 'i' and responses 'j' of 'w_i ww_j (y_ij
          - fit_ij)^2' divided by the sum of 'w_i'. 
  subset: an index vector specifying the cases to be used in the
          training sample.  (NOTE: If given, this argument must be
          named.) 
na.action: a function to specify the action to be taken if 'NA's are
          found. The default action is given by
          'getOption("na.action")'. (NOTE: If given, this argument must
          be named.) 
contrasts: the contrasts to be used when any factor explanatory
          variables are coded. 
max.terms: maximum number of terms to choose from when building the
          model. 
optlevel: integer from 0 to 3 which determines the thoroughness of an
          optimization routine in the SMART program. See the *Details*
          section. 
sm.method: the method used for smoothing the ridge functions.  The
          default is to use Friedman's super smoother 'supsmu'.  The
          alternatives are to use the smoothing spline code underlying
          'smooth.spline', either with a specified (equivalent) degrees
          of freedom for each ridge functions, or to allow the
          smoothness to be chosen by GCV. 
    bass: super smoother bass tone control used with automatic span
          selection (see 'supsmu'); the range of values is 0 to 10,
          with larger values resulting in increased smoothing. 
    span: super smoother span control (see 'supsmu').  The default,
          '0', results in automatic span selection by local cross
          validation. 'span' can also take a value in '(0, 1]'. 
      df: if 'sm.method' is '"spline"' specifies the smoothness of each
          ridge term via the requested equivalent degrees of freedom. 
  gcvpen: if 'sm.method' is '"gcvspline"' this is the penalty used in
          the GCV selection for each degree of freedom used. 
     ...: arguments to be passed to or from other methods.
   model: logical.  If true, the model frame is returned.

**Details:**
     The basic method is given by Friedman (1984), and is essentially
     the same code used by S-PLUS's 'ppreg'.  This code is extremely
     sensitive to the compiler used.
     The algorithm first adds up to 'max.terms' ridge terms one at a
     time; it will use less if it is unable to find a term to add that
     makes sufficient difference.  It then removes the least
     "_important_" term at each step until 'nterms' terms are left.
     The levels of optimization (argument 'optlevel') differ in how
     thoroughly the models are refitted during this process. At level 0
     the existing ridge terms are not refitted.  At level 1 the
     projection directions are not refitted, but the ridge functions
     and the regression coefficients are. Levels 2 and 3 refit all the
     terms and are equivalent for one response; level 3 is more careful
     to re-balance the contributions from each regressor at each step
     and so is a little less likely to converge to a saddle point of
     the sum of squares criterion.

**Value:**
     A list with the following components, many of which are for use by
     the method functions.
    call: the matched call
       p: the number of explanatory variables (after any coding)
       q: the number of response variables
      mu: the argument 'nterms'
      ml: the argument 'max.terms'
     gof: the overall residual (weighted) sum of squares for the
          selected model
    gofn: the overall residual (weighted) sum of squares against the
          number of terms, up to 'max.terms'.  Will be invalid (and
          zero) for less than 'nterms'.
      df: the argument 'df'
     edf: if 'sm.method' is '"spline"' or '"gcvspline"' the equivalent
          number of degrees of freedom for each ridge term used.
  xnames: the names of the explanatory variables
  ynames: the names of the response variables
   alpha: a matrix of the projection directions, with a column for each
          ridge term
    beta: a matrix of the coefficients applied for each response to the
          ridge terms: the rows are the responses and the columns the
          ridge terms
      yb: the weighted means of each response
      ys: the overall scale factor used: internally the responses are
          divided by 'ys' to have unit total weighted sum of squares.
fitted.values: the fitted values, as a matrix if 'q > 1'.
residuals: the residuals, as a matrix if 'q > 1'.
    smod: internal work array, which includes the ridge functions
          evaluated at the training set points.
   model: (only if 'model=TRUE') the model frame.

**References:**
     Friedman, J. H. and Stuetzle, W. (1981) Projection pursuit
     regression. _Journal of the American Statistical Association_,
     *76*, 817-823.
     Friedman, J. H. (1984) SMART User's Guide. Laboratory for
     Computational Statistics, Stanford University Technical Report No.
     1.
     Venables, W. N. &amp; Ripley, B. D. (2002) _Modern Applied Statistics
     with S._  Springer.

**See Also:**
     'plot.ppr', 'supsmu', 'smooth.spline'

**Examples:**
     # Note: your numerical values may differ
     attach(rock)
     area1 <- area/10000; peri1 <- peri/10000
     rock.ppr <- ppr(log(perm) ~ area1 + peri1 + shape,
                     data = rock, nterms = 2, max.terms = 5)
     rock.ppr
     # Call:
     # ppr.formula(formula = log(perm) ~ area1 + peri1 + shape, data = rock,
     #     nterms = 2, max.terms = 5)
     #
     # Goodness of fit:
     #  2 terms  3 terms  4 terms  5 terms
     # 8.737806 5.289517 4.745799 4.490378
     summary(rock.ppr)
     # .....  (same as above)
     # .....
     #
     # Projection direction vectors:
     #       term 1      term 2
     # area1  0.34357179  0.37071027
     # peri1 -0.93781471 -0.61923542
     # shape  0.04961846  0.69218595
     #
     # Coefficients of ridge terms:
     #    term 1    term 2
     # 1.6079271 0.5460971
     par(mfrow=c(3,2))# maybe: , pty="s")
     plot(rock.ppr, main="ppr(log(perm)~ ., nterms=2, max.terms=5)")
     plot(update(rock.ppr, bass=5), main = "update(..., bass = 5)")
     plot(update(rock.ppr, sm.method="gcv", gcvpen=2),
          main = "update(..., sm.method=\"gcv\", gcvpen=2)")
     cbind(perm=rock$perm, prediction=round(exp(predict(rock.ppr)), 1))
     detach()
```

S-Plus中的ppreg函数说明如下：


```
**Projection Pursuit Regression**

**DESCRIPTION:** 
Computes an exploratory nonlinear regression method that models y as a sum of 
nonparametric functions of projections of the x variables. 

**USAGE:** 
ppreg(x, y, min.term, max.term=min.term, wt=rep(1, nrow(x)),  
      rwt=rep(1, ncol(y)), xpred=NULL, optlevel=2, bass=0, span="cv") 

**REQUIRED ARGUMENTS:** 
x 
matrix of explanatory variables. Rows represent observations, and columns represent 
variables. Missing values are not accepted. The ppreg function is not very useful if 
x contains only one column. 
y 
vector or matrix of response variables. Rows represent observations, and columns 
represent variables. Missing values are not accepted. 
min.term 
minimum number of terms to include in the model; ppreg will return complete results 
only for this minimum number of terms. 



**OPTIONAL ARGUMENTS:** 
max.term 
maximum number of terms to choose from in the model. 
wt 
vector of weights for the observations. The length must be the same as the number of
 rows in x. Missing values are not accepted. 
rwt 
vector of weights for the responses. The length must be the same as the number of 
columns in y. Missing values are not accepted. 
xpred= 
vector or matrix of explanatory variables for which responses are to be estimated. 
If xpred is omitted, then the original x data will be regressed on, and the residuals 
will be returned in ypred. Missing values are not accepted. 
optlevel= 
integer from 0 to 3 which determines the throughness of an optimization routine in 
ppreg. A higher number means more optimization. 
bass= 
super smoother bass tone control used with automatic span selection (see supsmu); 
the range of values is 0 to 10, with increasing values resulting in increased smoothing. 
span= 
super smoother span control (see supsmu). The default is "cv", which results in 
automatic span selection by local cross validation. span can also take a value from 
0 < span <= 1. 

**VALUE:** 
a list containing the following components: 
ypred 
matrix of predicted values for y given the matrix xpred. If xpred was not input, 
then ypred contains the residuals for the model fit. 
fl2 
the sum of squared residuals divided by the total corrected sums of squares. 
alpha 
a minterm by ncol(x) matrix of the direction vectors, alpha[m,j] contains the j-th 
component of the direction in the m-th term. 
beta 
a minterm by ncol(y) matrix of term weights, beta[m,k] contains the value of the term 
weight for the m-th term and the k-th response variable. 
z 
a matrix of values to be plotted against zhat. z[i,m] contains the z value of the 
i-th observation in the m-th model term, i.e., z equals x %*% t(alpha). The columns of 
z have been sorted. 
zhat 
a matrix of function values to be plotted. zhat[i,m] is the smoothed ordinate value 
(phi) of the i-th observation in the m-th model term evaluated at z[i,m]. 
allalpha 
a three dimensional array, the [m,j,M] element contains the j-th component of the 
direction in the m-th model term for the solution consisting of M terms. Values 
are zero for M less than minterm. 
allbeta 
a three dimensional array, the [m,k,M] element contains the term weight for the 
m-th term and the k-th response variable for the solution consisting of M terms. 
Values are zero for M less than minterm. 
esq 
esq[M] contains the fraction of unexplained variance for the solution consisting of 
M terms. Values are zero for M less than minterm. 
esqrsp 
matrix that is ncol(y) by maxterm containing the fraction of unexplained variance for 
each response. esqrsp[k,M] is for the k-th response variable for the solution 
consisting of M terms, for M ranging from min.term to max.term. Other columns are zero. 
DETAILS:
The z component of the result is sorted, thus it can not be compared with the 
original data. 

**REFERENCES:** 
Friedman, J. H. and Stuetzle, W. (1981). Projection pursuit regression. Journal of the 
American Statistical Association 76, 817-823. 
The chapter "Regression and Smoothing for Continous Response Data" in the S-PLUS
 Guide to Statistical and Mathematical Analysis. 

**SEE ALSO:** 
ace , avas , supsmu . 

**EXAMPLES:** 
x1 <- rnorm(100) ; x2 <- rnorm(100) ; eps <- rnorm(100, 0, .1) 
x <- matrix(c(x1, x2), 100, 2) 
y <- x1*x2 + eps 
# Set up a matrix of predictor values. 
xpred <- matrix(c(0, 0, 0, 1, 1, 0, 1, 1), 4, 2, byrow=T) 
# Use ppreg with unit weights for both the observations and 
# the response, and a 2 term regression model (picked from 3 terms). 
a <- ppreg(x, y, 2, 3, xpred=xpred) 
# Plot the function values versus their abscissas, to look for structure. 
matplot(a$z, a$zhat) 
```
---
title: 瞌睡碰到了枕头
date: '2006-03-20T12:02:00+08:00'
slug: 12-02-00
---

中午出去吃饭，碰巧遇到王燕老师也一起下去吃饭，于是说起精品课程《保险精算学》的网页问题，因为最近学校网站统一迁址改版，所以这个课程的网页也要一起迁过去，我考虑到以前做得太粗糙，这次干脆重新做一下，和王老师一说，结果她蹦出一句“瞌睡碰到了枕头”，说是正想把网页的内容更新一下呢；刚好我也有这个意思，所以一拍即合，曰：真乃“瞌睡碰到了枕头”！

王老师真是一位好玩儿的老师，有时候听见她就在走道里扯着嗓门大喊“林秋池同志！……”于是林老师不知从哪个角落“千里传音”回来答应一句。老师们有时候挺可爱的，就像王汀老师和我聊QQ也会用 :blush: 这样的表情符。
---
title: 研究生的统计模型课
date: '2006-03-20T12:17:00+08:00'
slug: 12-17-00
---

说实在的，我对这课意见比较大。过了一周了，今天抽点时间写写吧。上周是第一次去听课，见到了传说中的田茂再老师，果然又是一位有个性的“嗔”人。据传说，此人曾经在香港用概率论知识助人赌马，收效如何就不得而知了。我猜这位老师当年一定是数学学太多了，形象思维太强，他在思考“八点到九点半”这样一个时间概念时居然用粉笔在黑板上画起时钟在那儿绕圈儿，我不禁佩服得五体投地。（形象思维的特点，在老杜和黄向阳老师讲课过程中也可以观察出，只不过没有田老师这样强烈，那二位顶多是在思考矩阵时想象着n行m列，而他居然连思考时间段都要画个钟）

言归正传。我看了看这门课用的教材，目录如下：

> **I. Density Smoothing**
> 
> 1. Histogram
> 2. Kernel Density Estimation
> 3. Further Density Estimation
> 4. Bandwidth Selection in Practice
> 
> **II. Regression Smoothing**
> 
> 1. Nonparametric Regression
> 2. Bandwidth Selection
> 3. Simutaneous Error Bar

整个课程基本就是讲光滑方法（非参数理论），与我想象的统计模型课差远了。我时常怀疑，对光滑方法这么深入的研究在统计上究竟有多大意义。就拿我去听的这堂课来说，关于直方图（Histogram）的带宽h的选择（Bandwidth Selection），从数学推导上得出这个带宽（它直接关系到密度函数的求得）与两个因素有关：一是样本量`n`，二是密度函数的导函数`$f'$`。我们按照黄向阳老师一贯的“**看什么都不对**”的眼光来审视这两个结论：

一、关于样本量：废话，有脑子的人想想就知道，样本量越大，带宽当然就可以选得越宽。

二、关于密度函数的导函数：更废话，要是都已经知道了密度函数的导函数那还要推导密度函数干嘛？这不扯的么？典型的本末倒置啊。于是有人发明了所谓的Plug-in方法来弥补这点缺憾，我想问，难道你心里不觉得悬乎么？你咋知道正态分布与未知的总体分布相近呢？这不又是扯的么？

三、我们在推导密度函数时，最后得出的结论竟然是要用自己推导自己，绕了个大圈，沿途观赏了伟大的Taylor展开、伟大的高阶无穷小、伟大的MSE、伟大的依分布收敛、伟大的XXX……最后还是绕回自个儿家了。从这个意义上讲，阿基米德说给他一根棍子他就能撬动地球，那我也可以，只要你给我一根**能撬动地球**的棍子就可以了（撬不动的话我就怪棍子，怪你给我的棍子不能撬动地球）。

唉，统计模型，多好的课啊，无限广阔的统计新天地，干嘛不讲讲SEM、PPR、Resampling、MCMC、Bootstrap、Neural Networks……若有幸田sir能看见我的啰嗦，也请提提批评意见。

另：这门课上认识了冯伟广的师兄孟鹏辉，嗯，算是一大收获。
---
title: 本学期第一次正式吃早饭
date: '2006-03-21T07:40:00+08:00'
slug: 07-40-00
---

昨晚睡觉怎么又没关窗户，我说早上怎么那么冷、爬都爬不起来呢！害我在床上挣扎了好半天终于起来了。今天去参观了传说中著名的“201早饭协会”，发现现有会员两名（会长和副会长？），等我从东区风驰电掣地赶去北区，这二位已经吃完了。看来都怪昨晚没关窗户，弄得我去晚了。

一早上在明德掉渣广场&reg;上远远就看见赵老师走过来，我一连和他打了三声招呼他才看见我（只差没有大喊“老赵”了）。上楼之后在走道里看见一名保安远远就和我打招呼，此刻我面朝西，他面朝东，光源在他那边，所以我看不清脸，走进了才发现原来是老熟人啊：每晚过来查房敲我的门，然后说对不起（因为我已经跟楼下说明过了，我每晚必在，所以晚上查房不要再敲我的门，他们总是记不住）。保安挺有意思的，所以我决定从今天开始我要慢慢和楼里的保安叔叔们清洁工阿姨们混熟了。

美好的一天开始喽，俺要去听老田的课了！
---
title: Tinn-R for Windows
date: '2006-03-21T12:42:00+08:00'
slug: 12-42-00
---

Tinn-R is a small, free and simple, yet efficient, replacement for the basic code editor provided by Rgui or SciViews-R. 

Tinn-R是一个小小的R代码编辑器；如果R的代码让人看得眼花缭乱，大家最好还是搞一个文本编辑器吧：）Tinn-R的下载页参见：<http://www.sciviews.org/Tinn-R/>下面是关于下载的两个链接：

- [Setup for Tinn-R, latest stable version (1.18.2.0)](http://www.sciviews.org/Tinn-R/Tinn-R_1.18.2.0_setup.exe) (.exe, 2.1 Mb)
Not compatible with Rgui in MDI mode or S-PLUS (only Rgui-SDI or SciViews R Console).
- [Setup for Tinn-R, previous stable version (1.17.2.4)](http://www.sciviews.org/Tinn-R/Tinn-R%201.17.2.4%20setup.exe) (.exe, 5.2 Mb)
Compatible with Rgui in SDI or MDI mode, with SciViews R Console and with S-PLUS.
---
title: Stata三个版本介绍
date: '2006-03-21T23:42:00+08:00'
slug: 23-42-00
---

**Stata/SE, Intercooled Stata, Small Stata** 


Stata/SE, Intercooled Stata, and Small Stata differ in the size of the dataset that each one can analyze and the maximum length of string variables. Here is a general guideline: 



- Stata/SE — Stata for large datasets 
- Intercooled Stata — the "standard" version of Stata 
- Small Stata — a smaller, "student" version of Stata 

![](https://db.yihui.org/hexun/b_9288F4805DBBFCF8.jpg)

**Stata/SE**

Stata/SE allows datasets with up to 32,766 variables. The limit of observations is based on the amount of RAM in your computer. Stata/SE allows datasets to contain longer string variables — variables up to 244 characters long. Stata/SE also allows matrices up to 11,000 x 11,000 on computers with sufficient memory. An implication of this is that Stata/SE can estimate models with more independent variables (up to 10,998) and can estimate certain panel-data models with larger time-series within panel. 

**Intercooled Stata**

Intercooled Stata allows datasets with as many as 2,047 variables. The limit of observations is based on the amount of RAM in your computer. Intercooled Stata allows string variables to contain a maximum of 80 characters. In addition, Intercooled Stata can have at most 798 right-hand-side variables in a model. 

**Small Stata**

Small Stata is limited to analyzing datasets with a maximum of 99 variables on approximately 1,000 observations. Small Stata allows string variables to contain a maximum of 80 characters. Small Stata can have at most 38 right-hand-side variables in a model. 

**Requirements**

```
　　　Stata/SE    Intercooled Stata   Small Stata
Memory 　128 MB 　　128 MB 　　　　128 MB
Disk space 　60 MB 　　60 MB 　　　　　60 MB 
```

以上是Stata的三个版本（7.0似乎只有两个版本？）；之所以看Stata，一是因为很久以前周伟斌大哥拜托的ROC分析至今还未仔细看完，Stata软件也没怎么用；二是因为Brunel University这位Yuwei Hu同学找我帮忙改Stata程序，说实在的，我还真是不太会，不过已经打算明天抽2小时自学Stata然后解决问题，不知道能否拿下。今日去听易丹辉老师的统计预测课，仍觉得讲得有些慢，推导计算时，显得有些繁琐。不过大师级人物到底还是大师，口中是会有一针见血的话语的，这就要看听众的注意力了。这节课上，我也算花了半小时看她用EViews，觉得有些“开窍”，看来突破EViews大关也是指日可待。

时间紧迫，不搞“爆炸式学习”根本不行。要不然整天淹没在一堆杂事中，我这学期就废了。另：今天数了数，一天之中一共35封邮件——又一天平常的日子过去了。庆军师兄，小虎师兄，咱都加油吧！

再另：今天得知“**R for Beginners**”已经初步翻译整理完了，王学枫把初稿发给我看了看，感觉还不错。这个翻译小组中还有李军焘大人、丁国徽大人，不胜荣幸啊；另外还有传说中的华东师范大学汤银才博士作了最后的整理和排版。
---
title: 一个函数拟合问题
date: '2006-03-22T00:19:00+08:00'
slug: 00-19-00
---

这是张法伟sir问我的问题，现在太晚了，得回去睡觉了，所以把这个问题放在下面征集大家的意见，数据的散点图如下，现在想找一个合适的函数拟合它，请问这样的图形用什么函数比较合适呢？

![](https://db.yihui.org/hexun/b_F8F799BAFB69F465.jpg)

我的第一反应是非参数方法，看成一个密度估计也好，看成一个回归问题也好，本质上差不多。使用的方法无非也就是经典的**核估计**（**Kernel Estimation**）或者**k-近邻估计**（**k-nearest neighbor estimation**），这些估计方法都存在选择带宽h的问题，由于手头没有数据，所以现在也没法做，只能是一种思路吧。

P.S. 晚上比较背运，我伸手拿非参书竟然磕破了手指头，打字还得小心翼翼的。
---
title: 统计结果展示与统计分析逻辑
date: '2006-03-22T15:23:00+08:00'
slug: 15-23-00
---

看见王众在BBS上贴了一篇文章：[《下一代数据分析软件将加快药物开发》——S-PLUS在药物开发中的应用](http://www.magnsoftbi.com/forum/uploads/8/2006-03-22_144850_Splus0220.rar)，粗略地读了读，摘取文章一段如下：

> ……使用图形和现代统计技术来探索临床数据，能分离和揭示数据中的模式和特征。这些技术都可以揭示意料之外的违背假设模型（比如违背正态分布）的情况。此探索性方法的一个重要元素是软件的灵活性——可以将各种数据结构应用到分析中，然后由连续的分析揭示数据中的模式。探索性数据分析对于群体药物动力学建模很有必要，新的统计分析软件使数据分析家更有效地观察和探索数据。
> 
> 据Vertex Pharmaceuticals公司的首席药物科学家Ene Ette教授所说，把计算机功能和成熟的数据分析工具（如S-PLUS）相结合，会更快带给药物开发团队有价值的发现。DR.Ette说道： “**药物计量学家的的困难在于将药物计量分析的发现传递给临床医生和其他药物开发团队中的成员。**这些发现如果不能有效传达就会阻碍药物研究和开发。S-PLUS提供了**可读性强而且吸引人的图形**（如Trellis图形），以确保和药物开发团队有效沟通，推动了开发进程”。
> 
> DR.Ette领导一个研究团队整合群体药物动力学方法于药物开发中。“我们相信数据分析工具可以加强我们为市场更快地带来安全，有效的药物的能力。S-PLUS提供给我们在临床实验数据中发现模式和趋势，以及在收集的数据中探索有意义趋势所需要的成熟的统计分析技术。有这些信息，我们就可以设计更好更精确的实验。”DR.Ette说道。
> 
> DR.Ette的工作包括使用现代统计技术，例如在S-PLUS中可以执行的来抽取隐藏在群体药物动力学和药效数据中的信息。“我们选择S-PLUS是因为它提供我们结合有艺术级统计技术的强大的图形，这使得我们能够充分利用数据，还可以和药物开发团队有效交流结果。”DR.Ette说道。他相信这套统计分析软件可以帮助研究人员探索，分离，分析群体药物动力学和药效数据中的模式，因此可以帮助发现隐藏在数据中的信息。
> 
> 大多数的人口分析程序都是建立在**明确的数据假设**下的。**数据分析的合理性依赖于假设的合理性。**探索性数据分析为确认假设，或者假设不能满足时建议使用正确的处理，提供了强大的诊断工具。……

有两点感受，如我标题所写：

一、如果把统计结果展示给非统计专业人士。统计工作的最后一步也就是展示你的成果，这一步是至关重要的，就好比一个人再有能力，若不擅长表达，别人也无法理解和接受你。我不佩服麦肯锡的名声，我佩服它在这方面的眼力；大家不妨看看他们的[PPT样式](http://blog.com.cn/user46/xieyihui/upload/322872555.rar)。看过之后，再想想贾俊平老师关于表格边框线粗细和有无的要求便会觉得并不过分，那些要求离“美观”还远呢。作出的图表别人看不懂，或是让人看着起鸡皮疙瘩，谁还愿意看你所谓的高深莫测的统计分析？

二、关于统计分析的假设前提，我已经说了无数遍。便不再说了。至少现在已经有软件对这个问题给予了足够的重视，而不再拿到数据就分析。
---
title: 时间与我，谁追谁？
date: '2006-03-24T18:48:00+08:00'
slug: 18-48-00
---

下午5点多，坐在电脑前看网页代码，竟然看着看着趴桌上睡着了。


中午张忱过来人大一起吃了顿饭（都已经快3点了），然后在学校里转悠了一圈，带她参观了办公室，顺便见了素未谋面的陈虹老师。她这次没能考上，不知道来人大是什么心情，不过感觉她倒也挺想得开。


再次祝愿各位努力过、奋斗过的同学们有好的结果吧！


吃饭回来上会儿网，看到一句话，“天下兴亡，匹夫有责。”简直是放屁，当然我不是骂顾炎武老先生，一点骂他的意思都没有，我还是挺尊崇他的。但这句话，在当今这个年代，确实应该如同一位台湾校长所说，该改为“天下兴亡，**我的责任**”。


昨晚在明商掉渣楼0302上贾俊平老师的课，一边听他讲那些老笑话，一边看《南方周末》，读到一篇文章觉得挺好的，叫“[引经据典](http://www.nanfangdaily.com.cn/zm/20060323/wh/ydws/200603230068.asp)”，推荐一下。


赵老师挺注重培养学生，不能辜负厚望。现在尤其是在与国外联系方面，给了我不少好机会。


读书、学习、思考、工作。时间与我，谁在追谁，我也不知道。


人生就是一场大规划，人们总是要花很大的功夫才明白目标函数，至于约束条件，虽然大家心里清楚，但是有时也会忘记。比如生命 < +∞，比如能力 < +∞ 等等。
---
title: 姐姐
date: '2006-03-24T23:20:00+08:00'
slug: 23-20-01
draft: yes
---

晚上心中有种冲动，觉得必须要写点什么了。

这个姐姐我认定了。

前年12月因为考研的缘故认识了姐姐，当时叫紫琦什么来着，现在也忘了，只记得后来有一次改名为“紫琦酸辣粉丝”，我就觉得这名字好玩儿，因为宜昌话和四川话中“紫琦酸辣粉丝”就是“只吃酸辣粉丝”，并且音调都很相近。姐姐是个很热情的人，后来也就聊熟了，其中相当一部分都是用英语聊，让我颇感有压力，逼着我得练习练习English；再后来的事情颇具戏剧性——我先是当了半年老哥，然后就变成了老弟。不过我还是宁愿当老弟的。

考研期间的事情就不多说了。我眼看着一个人一路上一步一步努力地准备到最后却与我们院失之交臂，dreams became pieces of wreckages, sweat became drops of tears...

不能不感到惋惜。

亦木水吉大人说，“真的勇士，敢于正视淋漓的鲜血，敢于直面惨淡的人生”，姐姐说“塞翁失马焉知非福”，希望勇士们都要坚强。而我，也要更加努力，不负众人寄托的厚望。

我的姐姐叫郑志姣，最后一个字特别容易写错（娇），我第一次写的时候就写错了，真是汗颜。

唉，姐姐真是个好人。
---
title: Logit Loglinear Analysis
date: '2006-03-27T20:14:00+08:00'
slug: 20-14-00
---

中午温慧博过来问我**Logit回归**的问题，提到关于因变量（分类变量）取多个值的情况，我一时还真没想起来这种情况用什么方法处理。晚上趁着等电话的时间看了看SPSS，把**Logit模型**的有关帮助贴在这儿（对于中午的问题没有什么帮助，只是粗略介绍Logit对数线性模型而已）。

> The **Logit Loglinear Analysis** procedure analyzes the relationship between dependent (or **response**) variables and independent (or **explanatory**) variables. The dependent variables are always  categorical, while the independent variables can be categorical (factors). Other independent variables, cell covariates, can be continuous, but they are not applied on a case-by-case basis. The weighted  covariate mean for a cell is applied to that cell. The logarithm of the **odds** of the dependent variables is expressed as a linear combination of parameters. A multinomial distribution is  automatically assumed; these models are sometimes called multinomial logit models. This procedure estimates parameters of logit loglinear models using the **Newton-Raphson algorithm**.
> 
> You can select from 1 to 10 dependent and factor variables combined. A cell structure variable allows you to define structural zeros for incomplete tables, include an offset term in the model, fit a  log-rate model, or implement the method of adjustment of marginal tables. Contrast variables allow computation of generalized log-odds ratios (GLOR). The values of the contrast variable are the  coefficients for the linear combination of the logs of the expected cell counts.
> 
> SPSS automatically displays model information and goodness-of-fit statistics. You can also display a variety of statistics and plots or save residuals and predicted values in the working data file.
> 
> **Example.** A study in Florida included 219 alligators. How does the alligators' food type vary with their size and the four lakes in which they live? The study found that the odds of a smaller  alligator preferring reptiles to fish is 0.70 times lower than for larger alligators; also, the odds of selecting primarily reptiles instead of fish were highest in lake 3.
> 
> **Statistics.** Observed and expected frequencies; raw, adjusted, and deviance residuals; design matrix; parameter estimates; generalized log-odds ratio; Wald statistic; and confidence intervals. Plots: adjusted residuals, deviance residuals, and normal probability plots.

多说几句：红色标记的前三个词是提醒注意**统计专业术语的表达**的（不要只认识因变量而不认识response variable，不要只认识概率而不认识odds）；最后一个红色标记的是强调统计计算的地位（这个模型需要用**Newton-Raphson算法**求解）；也可以看看老外们的例子，便会觉得好玩儿，他们研究的是佛罗里达州的鳄鱼吃虫子还是吃鱼与鳄鱼的体型大小和所生长的湖的关系。在中国估计不会有人研究这个吧，毕竟填饱肚子要紧（还是能看出经济文化差异的）。
---
title: 举重冠军“沦为”搓澡工
date: '2006-03-28T09:58:00+08:00'
slug: 09-58-00
---

我一看今天新浪这篇新闻的标题就不爽：“[举重冠军沦为搓澡工续：当年可能服用违禁药物](http://news.sina.com.cn/c/2006-03-27/05448535931s.shtml)”；不爽有二：


一、NND，什么叫“沦为”？从这个用词就可以看出，这位编辑明显有等级观念；“沦为奴隶”、“沦为阶下囚”、“沦为走狗”都可以，怎么叫“沦为搓澡工”？搓澡工怎么啦？靠，我最恨把人分为三六九等，干嘛要瞧不起人？推崇“自由、平等、博爱”的伪君子！你追求平等，只不过是因为眼看着另一些高官富商比你权力更大而已，你的眼睛，会向下看吗？


二、发生这种事情，就是国家的不对，政策有偏。看看刘翔，再看看这些人，不心寒么？那时候只顾着拿冠军捧金牌，看看这些培养出来的畸形冠军，没有文化知识没有生存能力，让他们怎么活？所以，在金牌的背后，我们更应该思考的是我们的布衣百姓，他们的身体素质提高了吗？一百个世界冠军 + 一国的东亚病夫，有意义吗？（我是举一个极端的例子，不是说实际情况如此）


我常常想，所谓的“三个代表”，什么时候才能代表到那些街头卖红薯的大伯，什么时候才能代表到小巷中擦皮鞋的大妈。
---
title: 谢益辉的个人隐私，严禁8卦！
date: '2006-03-31T23:57:00+08:00'
slug: 23-57-00
---

前言：实在抱歉，各位，多谢大家对我老谢同学的关心，但是由于看着前面几位倒下的同志们实在是太凄惨，所以请大家不要再看这篇文章了，我真的是骗大家的，相信我；虽然是愚人节，但这句话一定要相信我啊！


正文：唉，沉思了好长一段时间，我终于要在此写下本人的一项重大秘密，这个秘密，一般人我不告诉他，不过……


![](https://db.yihui.org/hexun/b_B20ECF1EAD92D55E.jpg)

本页面以前本来是弹窗的，损了不少人品值，现在把弹窗去掉了，换成了源代码：

```js
alert("节日快乐 4月1日的英雄 ")

alert("谢某人祝您节日快乐！")

alert("哈哈，上当了吗？")

alert("别难过了~~~")

alert("哪位帅哥美女忽悠你进来的")

alert("哎，真是的！")

alert("回去好好扁他一顿")

alert("对了，你今天愚人了没？")

alert("如果没有的话，千万要把这个给他（她）！")

alert("怎么？不给.....")

alert("好人啊！")

alert("可是不给，你会出不去的")

alert("怎么，就是不给？")

alert("你真是好人啊！")

alert("看你人这么好")

alert("我给你讲个故事！")

alert("从前有个山")

alert("山上有个庙")

alert("庙里有个老和尚有个小和尚")

alert("老和尚正在给小和尚讲故事")

alert("从前有个山")

alert("山上有个庙。。。。")

alert("哎呀！你哭了?!")

alert("早知道你会这样，我就不和你玩了！")

alert("什么？不行？")

alert("别这样嘛！")

alert("你不愿听这个我给你换一个")

alert("从前有个山")

alert("山上有个庵")

alert("庵里有个老尼姑有个小尼姑")

alert("老尼姑。。。哎呦别打了，我换一个！")

alert("讲个好听的")

alert("仔细听啊")

alert("从前有个山")

alert("呵呵，先别打，和那个不一样！")

alert("山上有个庙")

alert("哎呦，听我讲完！")

alert("庙里有个缸")

alert("不一样了吧")

alert("缸里有个瓢")

alert("瓢里有个碗")

alert("碗里有个勺")

alert("勺里有块肉")

alert("我吃了，你馋了")

alert("我的故事讲完了！")

alert("好不好？")

alert("什么？还想听？")

alert("那好，我再来一个！")

alert("从前")

alert("有一个小孩牵个羊")

alert("我的故事就这么长")

alert("你不愿意听是吗？")

alert("那怎么办？")

alert("你已经出不去了")

alert("还是关掉电脑来的干脆")

alert("不愿关？")

alert("那我再给你讲故事！")

alert("哎哎，别哭嘛！")

alert("哭的我挺伤心的")

alert("你真的出不去了")

alert("你还不泄气？")

alert("我佩服你这种精神！")

alert("你坚持这么久一定很急了")

alert("你还真能坚持！")

alert("你一定知道“坚持就是胜利”")

alert("对不对？")

alert("如果你有这种精神的话---")

alert("你一定会成功的！")

alert("相信我")

alert("你快看到希望了")

alert("我不骗你")

alert("真的！")

alert("你马上就会找到出口的")

alert("多亏你坚持了下来")

alert("要不，关了机子多不好！")

alert("是不是？")

alert("对不对？")

alert("对了，你是个好人啊！")

alert("我太感动了！")

alert("我从不难为好人！")

alert("我决定----")

alert("让好人多在我身边一会！")

alert("你愿不愿意？")

alert("怎么还不愿意？")

alert("那好，我马上让你出去！")

alert("别着急！")

alert("你只需再点100000下就可以了！")

alert("开个玩笑")

alert("不要生气")

alert("人生就像一场戏")

alert("因为有缘才相聚")

alert("相扶到老不容易")

alert("是否更该去珍惜")

alert("他人生气我不气")

alert("气出病来无人替")

alert("我说的对不对？")

alert("好了")

alert("玩笑也开过了")

alert("该说的也说了")

alert("该放你出去了！")

alert("高兴了吧")

alert("最后提醒你一下")

alert("不要忘记常来谢某的小博客啊！记住了！！：D")

alert("哈，您终于出来了！恭喜恭喜！")

alert("再次祝福：愚人节快乐！！！")
```

大家的鼠标点废了可别找我赔，也别哭……呃……你们慢慢聊，我还有事，先走了……


后记：本文本来是针对某马同学那样的8卦者的（竟然8卦我），想了想，还是让大家一起分享吧。
---
title: 不知道有些大人是啥脑子
date: '2006-04-05T10:43:00+08:00'
slug: 10-43-00
---

早上起来中秋在说研究生院网站上那则声明（我昨天已经看过了），于是我和王惟就笑，天下居然有这样的声明，真是世界之大无奇不有：

> [关于中国人民大学研究生录取工作情况的声明](http://pgs.ruc.edu.cn/pages/tz/yjslqsm.htm)
> 
> 近日，我们在某些网站上看到所谓“揭密中国人民大学‘隐蔽’的招生腐败”文章。**经查证，所述内容与事实不符。**
> 
> 2006年我校研究生招生和录取工作正在进行中，全部过程及收费政策将严格按照教育部有关规定执行。
> 
> 特此声明。
> 
> --- 中国人民大学研究生院  
2006年3月28日

就不多说啥了。做学生的总是想不通上面的大人们都是怎么想的。

好几天没写Blog了，因为比较忙。刚刚开完数据挖掘会议，还要整理新闻材料、图片什么的。最近零零星星的联系人一大堆，小小统计一下，截至今日，QQ已达235人，泡泡达28人，MSN达86人，Gmail邮件707封（地址簿中366个Email地址），Yahoo邮件787封，这日子简直太恐怖了。

P.S. 今天清明节，南师大的一位同学祝我清明节快乐，吓我一跳，后来才知道原来南宁那边清明节不是扫墓的而是一个很好玩的节日。真是世界之大无奇不有。
---
title: Pegasus Forever
date: '2006-04-06T15:10:00+08:00'
slug: 15-10-00
---

现在使用了Windows Live Messenger，发现签名档没有了（以前一直都用“那些触怒神的人，难道就都是罪人”作签名），于是想起新出的圣斗士冥王篇，因为这个签名就来自于其中的主题曲：

> 命运之门耸立在夜里 谁都能造访  
> 真实之路却需在暗雾中 孜孜寻找  
> 在神话中持续战斗 圣衣披挂身上  
> 冲破黑暗 带来光明 超越时空的天马振翅翱翔  
> 飞翔吧女神的战士 小宇宙熊熊燃烧  
> FOREVER 圣斗士星矢
> 
> **那些触怒神的人 难道就都是罪人**  
> 堕天使们套着重重枷锁 成群地彷徨  
> 在叹息之墙下等待审判日 祈祷声虚无飘渺  
> 疾如流星的天马掠过星座 飞向银河彼方  
> 在黑暗的世界里 将希望之钟敲响  
> FOREVER 圣斗士星矢

嗯，挺喜欢这句话。虽然挺不喜欢新出的冥王篇。下面这幅图还是很酷的。

![](https://db.yihui.org/hexun/b_616EF56EFA8856D9.jpg)

P.S. 在某人的强烈抗议下，今天把那些难看的虚线去掉了。
---
title: 寻找非线性函数的局部最小值
date: '2006-04-06T15:47:00+08:00'
slug: 15-47-00
---

这件事情起因源于美国的Nancy同学，涉及到一个求函数最小值的问题，然后就牵涉到S-Plus中nlmin函数，现将S-Plus中关于nlmin函数的reference粘贴如下：

```
**nlmin** S-PLUS Language Reference


**Find Local Minimum of a Nonlinear Function**


**DESCRIPTION:**


Finds a local minimum of a nonlinear function using a **general quasi-Newton optimizer**.


**USAGE:**<PRE> nlmin(f, x, d=rep(1,length(x)), print.level=0, max.fcal=30,  
      max.iter=15, init.step=1, rfc.tol=<<see below>>, ckfc=0.1,  
      xc.tol=<<see below>>, xf.tol=<<see below>>) </PRE>



**REQUIRED ARGUMENTS:** 


f 
an S-PLUS function which takes as its only argument a real vector of length p. The function must return a value of storage mode "double". 
x 
a vector of length p used as the starting point for the optimizer. 


**OPTIONAL ARGUMENTS: **


d 
a vector of length p used as a scaling vector for x. The elements of the vector d* x should be in comparable units. Normally d is only specified if the elements of x have differing orders of magnitude. 
print.level= 
if print.level=0, then all output from the optimizer is suppressed. If print.level=1, then a short summary of each iteration is printed. If print.level=2, then a long summary of each iteration is printed. 
max.fcal= 
the maximum number of function evaluations permitted. 
max.iter= 
the maximum number of iterations permitted. 
init.step= 
a bound on the L2-norm of the initial scaled step. This can have a dramatic effect on the performance of the optimizer. 
rfc.tol= 
the relative function convergence tolerance. If the predicted function reduction is no more than rfc.tol times |f|, where |f| is the function value, then the optimizer has converged. The default is max(10^-10, e^(2/3)), where e is machine epsilon. 
ckfc= 
if the predicted function decrease is smaller than ckfc times the actual function decrease, then a check is performed for false convergence. 
xc.tol= 
the relative x-convergence tolerance, where x is the argument of the function being minimized. If a Newton step has a scaled step length smaller than xc.tol, then the optimizer converges. The default is sqrt(e) where e is machine epsilon. 
xf.tol= 
the false convergence tolerance. If relative function convergence and relative x-convergence were not achieved, and a Newton step has scaled step length smaller than xf.tol, then the optimizer appears to be stopped at a non-critical solution. The default is 100 times the machine epsilon. 


**VALUE: **


a list with the following components: 
x 
the value at which the optimizer has converged 
converged 
if the optimizer has apparently successfully converged to a minimum, then converged is TRUE; otherwise converged is FALSE. 
conv.type 
a character string describing the type of convergence. 
DETAILS:
The optimizer is based on a quasi-Newton method using the double dogleg step with the BFGS secant update to the Hessian. See Dennis, Gay, and Welsch (1981) and Dennis and Mei (1979) for details. 


**BUGS:**


If the storage mode of the return value of f is "single" or "integer", nlmin will not work properly (but converged will be FALSE). 


**REFERENCES: **


Dennis, J. E., Gay, D. M., and Welsch, R. E. (1981). An adaptive nonlinear least-squares algorithm. ACM Transactions on Mathematical Software 7, 348-383. 


Dennis, J. E. and Mei, H. H. W. (1979). Two new unconstrained optimization algorithms which use function and gradient values. Journal of Optimization Theory and Applications 28, 453-483. 


**SEE ALSO: **


nlminb , arima.mle . 


**EXAMPLES: **


# minimize a simple function 
func <- function(x) {x^2-2*x+4} 
min.func <- nlmin(func,0) 

# One way to pass parameters to the function is: 
function() 
{ 
        co <- c(1, 2) 
        assign("co", co, frame = 1) 
        f1 <- function(x) co[1] + co[2] * x^2 
        nlmin(f1, 10) 
} 
# Another way to pass parameters is by setting the default
# value for an argument; e.g. g$y0 in next example:# nlmin can be used to solve a system of nonlinear equations:
solveNonlinear <- function(f, y0, x, ...){
  # solve f(x) = y0
  # x is vector of initial guesses, same length as y0
  # ... are additional arguments to nlmin (not to f)
  g <- function(x, y0, f) sum((f(x) - y0)^2)
  g$y0 <- y0   # set g's default value for y0
  g$f <- f     # set g's default value for f
  nlmin(g, x, ...)
}
f <- function(x) c(exp(x[1]), sin(x[2]))
solveNonlinear(f, c( 3, .5), c(.2,.2))  # solve exp(x1)=3, sin(x2)=.5
# result$x is c(log(3), asin(.5)) 
g <- function(x) exp(x[1]) * c(1, sin(x[2]))
solveNonlinear(g, c( 3, .5), c(.2,.2))  # solve exp(x1)=3, exp(x1)sin(x2)=.5


# Note that multiple variables (x1 and x2) can be thought of as components
# of a single multivariate variable (x[1] and x[2]), and
# that multiple functions (exp(x1) and exp(x1)*sin(x2))
# correspond to a vector-valued function c(exp(x1), exp(x1)*sin(x2))


# Warning -- solveNonlinear can be fooled; it minimizes a sum of
# squares, and may stop if it believes the SS is not decreasing,
# even if not the SS is zero.
```

感慨一句，统计计算（数值计算 / 数值分析 / Computational Statistics / Numerical Analysis）真是一门恐怖的学问。
---
title: 鸟屎
date: '2006-04-10T20:51:00+08:00'
slug: 20-51-00
---

一辉大人昨天骑车去了房山，来回一百三四十公里，挺累，本想写游记，可是根本没这么多时间。现在心里出奇地烦，就少说几句话，还得抓紧时间干活儿。


要问我房山印象如何，我就三个字：全是灰！要问我回来之后感受如何，我也就三个字：屁股疼！答记者问完毕，请记者们退场。


## 房山游记


一、人生路漫漫，崎岖坎坷再所难免。看看这个坡，就知道万泉河路上那个小坡真的不是坡。（其实路上我还遇到过那种45度的坡）


![](https://db.yihui.org/hexun/b_2565B6A512A43338.jpg)


二、走投无路，只好“高山仰止”。我在茫茫大山中一直骑到前面没有了路，无奈退了回来。


![](https://db.yihui.org/hexun/b_C79C16391813FE0D.jpg)


三、前面没了路倒无所谓，当你再回头看看你走过的漫漫长路时，你会是什么感觉？


![](https://db.yihui.org/hexun/b_851F800059C529CD.jpg)


四、无论在哪里，都会有生命的痕迹。挺立！傲然！


![](https://db.yihui.org/hexun/b_F2EE39243B237450.jpg)


为什么这篇日志题为“鸟屎”，因为，有些事情，本来就是鸟屎。就是鸟屎。这，就是我的Perspective。
---
title: 学院网站访问速度测试
date: '2006-04-13T16:49:00+08:00'
slug: 16-49-00
---

对学院网站的访问速度进行了一下测试，分别找了三位朋友：

**台湾**

> 谢益辉 说 (16:34):
> 帮我个忙，看看你在台湾访问我们学院的新网站有没有什么问题，速度如何：<http://stat.ruc.edu.cn> 
> 
> 
> 谢益辉 说 (16:34):
> 谢谢！
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:35):
> 好
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:35):
> 中英文都要嗎
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:37):
> 我院碩士一年級學生朱麗、李芃芃獲准北美精算師協會（SOA）准精算師（A.S.A.），
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:37):
> 真火
> 
> 
> 谢益辉 说 (16:38):
> 呵呵
> 
> 
> 谢益辉 说 (16:38):
> 访问速度怎么样？
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:38):
> 可以 不過速度有點稍慢
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:38):
> 中文比英文曼
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:38):
> 慢
> 
> 
> 谢益辉 说 (16:39):
> 完全打开一个页面大约需要几秒钟？
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:39):
> 等等 幫你計算一下
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:41):
> 中文13秒
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:41):
> 英文大概5-8秒
> 
> 
> 谢益辉 说 (16:41):
> 好的，多谢多谢 
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:42):
> 恩 客氣
> 
> 
> 谢益辉 说 (16:42):
> 那个进站页（也就是刚开始“中文 English”导航的页面）打开速度如何？
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:43):
> 比 中文快
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:43):
> 你說一開始的
> 
> 
> 谢益辉 说 (16:43):
> 对
> 
> 
> Pan 聞太師 於 絕龍嶺 ，死了罷了! 说 (16:43):
> 4秒鐘
> 
> 
> 谢益辉 说 (16:43):
> 好的，知道了 

**新加坡**

> 谢益辉 说:
> 帮我个忙，看看你在新加坡访问我们学院的新网站有没有什么问题，速度如何：<http://stat.ruc.edu.cn>
> 
> 
> 谢益辉 说:
> 谢谢！
>   
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:44):
> haha not bad
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:44):
> done by you?
> 
> 
> 谢益辉 说 (16:44):
> Yes
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:44):
> 
>  
> 谢益辉 说 (16:45):
> Thanks
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:45):
> 
>  
> 谢益辉 说 (16:46):
> 页面打开一般大约需要几秒钟？
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:46):
> 不到一分钟
> 
> 
> 谢益辉 说 (16:46):
> 
>  
> 谢益辉 说 (16:47):
> 那么慢？……
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:47):
> 国内的有时候好久才打开
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:47):
> 你得算快的了
> 
> 
> 谢益辉 说 (16:47):
> 哦，原来如此，谢谢，呵呵
> 
> 
> Alex 我(Data Mining)---我要做PT(Problem Terminator) 说 (16:48):

**澳大利亚（Monash大学）**

> 2006-04-13 16:32:58 谢益辉
> 帮我个忙，看看你在澳大利亚访问我们的新网站有没有什么问题，速度如何：<http://stat.ruc.edu.cn> 
> 
> 
> 2006-04-13 16:33:04 谢益辉
> 谢谢！ 
> 
> 
> 2006-04-13 18:06:54 梦非梦
> 好 
> 
> 
> 2006-04-13 18:08:55 梦非梦
> 没问题的 
> 
> 
> 2006-04-13 18:09:00 梦非梦
> 可以访问 

看来结果比我想象的要好得多啊，速度还算可以，呵呵。网站搬新家了，BBS也快Over了，正在四处搜罗服务器……

此外，在此向各位表示抱歉，本老大最近相当的忙，写Blog也比较稀疏了，有很多需要写的，比如N天前与张蕾同志的谈话录，以及本次去房山的详情，等等，但就没时间啊！我常常像麦兜同学那样想，麦同学经常说的是：“**马呃代呼**，那里椰林树影，水清沙幼，蓝天白云，是位于印度洋上的世外桃源……”而我就想，要是有大把大把的时间，我一定要去研究意大利文艺复兴的历史以及中国历史，一定要去图书馆猛看人物传记，大口大口地看书，一定要仔细研究柴科夫斯基和天鹅湖，一定也要好好学习打好基础与国外人士多多打拼，一定要好好钻研社会学，一定要打入各大公司闯出一番天地，一定要好好准备暑假写书以及回家建设社会主义新农村的问题，一定要骑车去一个很远很远的地方好好游玩几天再回来……脑子里就这样冒泡泡了. . 。。o o 0 0 O O

8可能的！赶紧干正事儿吧！别瞎想了！今天得赶完会议论文，明天还得往机场跑两趟……
---
title: 我的书桌（外两张）
date: '2006-04-15T17:37:00+08:00'
slug: 17-37-00
---

本来在急着赶论文，突然天降喜讯，论文不用我写了，已经有人做了，所以暂时轻松一刻，发两张图吧。先是我的书桌：

![](https://db.yihui.org/hexun/b_AAA7D1C518B6785D.jpg)


看看老谢同学这两天一边筹备会议一边准备论文的惨状吧，大堆大堆的书，扔了满桌子；最右边的木马是上次瑞典Dalarna大学过来开会两位瑞典老师送给我的。这次开会要来四个外国人：两个澳大利亚人、一个泰国人和一个越南人，明天俺还要单枪匹马杀到机场去接机。对了，打一下广告，会议主题：Australia-China Free Trade Agreement: Econometric Modeling and Policy in Trade, Investment and Economic Integration，时间是下周二，地点就在统计学院会议室，会议使用英文，谁要是感兴趣就来听吧，老谢同学准备在最后发言，欢迎各位来看俺的洋相。

鉴于依稀同学觉得本人图片一向过于灰暗，不能反映首都的风貌，今天就抓起相机对着两棵郁郁葱葱的树拍了一张，不知依稀大人是否满意。（注：上次是房山区，这次是海淀区）

![](https://db.yihui.org/hexun/b_CBC1B6DF18B102B8.jpg)

最后，以谢同学一贯的风格记录今天的天气如下。完毕。

![](https://db.yihui.org/hexun/b_6CB4DFACB44106F2.jpg)
---
title: 暂时归隐一段时间
date: '2006-04-22T21:03:00+08:00'
slug: 21-03-00
---

对不起了各位，谢某需要归隐一段时间了，关于Blog，过些日子再说吧。也许以后也不在这里写了，一辉大人最近在考虑自己建站的事情，准备策划一项大阴谋。多谢各位GGJJDDMM一直以来的捧场！

> Hello darkness my old friend.  
> I've come to talk with you again.  
> Because a vision softly creeping  
> Left its seeds while I was sleeping.  
> And the vision that was planted in my brain  
> Still remains with the sound of silence  
> In restless dreams I walk alone  
> Narrow streets of cobble stone  
> Beneath the hallo of a street lamp,  
> I turned my collar to the cold and damp  
> When my eyes were stabbled by the flash of a neon light  
> That split the night  
> And touched the sound of silence 

> And in the naked night I saw ten thousand people may be more  
> People talking without speaking hearing without listening  
> People writing songs that voices never share  
> And no one dare disturb the sound of silence  
> "Fool" said I "you do not know  
> Silence like a cancer grows  
> Hear my words that I might teach you  
> Take my arms that I might reach you  
> But my words like silent rain-drops fell  
> And echo-ed in the wells of silence  
> And the people bow and prayed  
> to the neon God they made  
> And the sign flash out its warning  
> In the words that it was forming  
> And the sings said "The words of the prophers are  
> written the subway walls and tenement halls"  
> And whispered in the sounds of silence
---
title: 悄悄发个告示
date: '2006-05-20T14:24:00+08:00'
slug: 14-24-00
---

新的网站“统计之都”（Capital of Statistics）经过谢某与若干同伙的一阵密谋策划，已经开始逐步投入使用了。不过现在显得乱糟糟的，所以也不要太声张……嘘……

地址：<https://cosx.org>

谢某重出江湖之日，也不会远了。
---
title: 全力打造“统计之都”
date: '2006-05-21'
slug: start-cos
---

两处的Blog都先后停笔了，现在正建设新的网站——“统计之都”（Capital of Statistics），<https://cosx.org>，有兴趣的朋友们可以过去支持一下！：）
---
title: Surrender to M$ & start writing
date: '2006-09-04T12:12:45+08:00'
slug: surrender-to-m-start-writing
---

Originally I've written blogs at <http://xieyihui.blogchina.com> as well as <http://yihui.blog.com.cn>, but dropped both of them at last. I left _blogchina.com_ because of those endless technique problems of their blog system (I could no longer stand them), while I stopped writing blogs in the site _blog.com.cn_ just for the construction of ["Capital of Statistics"](https://cosx.org/) (COS). Now I've almost finished the work (except for the English version of this site), so I'm now considering writing my blogs again. Due to my busy work every day, maybe I'll not be able to write like before (those long texts take too much time), but I do think I should start writing again so that people who used to paying attention to me might find a place to communicate with me personally.

Actually I don't like MS very much but I cannot deny the fact that it has invaded my domain in many aspects... So... The only thing I can do is just to pray that you'd like this space...

People who are familiar with me certainly know that some statistical issues will be put here (so I registered for the ID "statist", unfortunately, both "statistic" and "statistics" are unavailable), besides, part of my daily life will also be recorded here. 

At last, I hope... I sincerely hope that... this space will be robust enough...

P.S. To view this space in English, please visit <http://statist.spaces.live.com/?mkt=en-us>, otherwise you may visit <http://statist.spaces.live.com/?mkt=zh-cn> if you prefer Chinese, but I just plan to write mainly in English.
---
title: Status of Wishart distribution in multivariate statistics
date: '2006-09-06T00:13:20+08:00'
slug: status-of-wishart-distribution-in-multivariate-statistics
---

I found a book named "An introduction to Wishart distribution" in our library when I was thumbing through some books, and was surprised by the thickness of this book (more than 250 pages). During the 4th year in RUC as an undergraduate, we've learned multivariate statistics, however, this course, to be honest, is disappointing... I did't know that distribution even after when we'd finished this course.

In the last term, I began to notice it when I was studying "Structural Equation Models", because we should use this knowledge to do parameter estimation (using MLE). So I continued to study multivariate statistics, and till then I was aware of the importance of _Wishart Distribution_.
---
title: A new term beginning & an English test coming
date: '2006-09-06T12:55:48+08:00'
slug: a-new-term-beginning-an-english-test-coming
---

This morning there was a ceremony for the beginning of the new term, and when I was listening to the speech of Teng Yuan, suddenly I felt the speed of time. Age is featured in words when speaking, I said to myself.

Soon there'll be an English test this afternoon in order to decide whether we need to study English next term (just like _discriminant analysis_), but I'm reluctant to make any preparations or reviews. I dislike examinations, especially English exams and computer exams. Never have I thought those exams could test the real level of a person.
---
title: Too lazy to be clever
date: '2006-09-06T20:09:08+08:00'
slug: too-lazy-to-be-clever
---

Surprisingly I found that there was only a very little space between simplicity and complexity.

Anyway, I still prefer simple life.

![](https://user-images.githubusercontent.com/163582/50254676-9dec0c80-03b4-11e9-8207-6c7014f60479.png)
---
title: Space blocked again :(
date: '2006-09-07T13:47:19+08:00'
slug: space-blocked-again
---

It seems that the fate of _MSN Space_ (or even _Live.com_) is quite miserable in China. I've heard people complaining for many times, yet I still decide to create a space here, and now I find my choice to write in English is correct.

The freedom brought by the Internet is just an eternal paradox. If one day people become aware of the fact that Internet is not just a space where you give vent to your anger, dissatisfaction or hatred, etc, I believe the environment of the cyberspace will be much better, and as a result (at least one of the results), some websites don't need to be banned.

As for me, I rarely use nickname in the web, because I think one must be responsible for what he/she said. Especially I hate to hide behind "something" and curse others. That's nothing but coward, no matter how hard the curses are.

Now I have to find a [proxy](http://www.gwbn.com/) to enter my space. Just hope it will "recover" soon.
---
title: I've learned... (PPT slides)
date: '2006-09-08T12:57:34+08:00'
slug: ive-learned-ppt-slides
---

I've learned... That life is tough, but I'm tougher.

Click [here](http://images.ruc.edu.cn/other/2006-09-08/1157697312864.rar) to download the file. (These slides are from an email of Prof. Ke Huixin.)
---
title: Blog搬家最终版-_-//
date: '2006-09-09T21:51:00+08:00'
slug: 21-51-00
---

估计不会再搬了吧……地址：<http://yihui.org>
---
title: '再次搬家！…… '
date: '2006-09-09'
slug: move-to-space
---

好吧。本老大终于向微软投降了。

新家：http://statist.spaces.live.com
---
title: No news in the Web
date: '2006-09-09T20:31:33+08:00'
slug: no-news-in-the-web
---

All along I have been holding a strong belief that there is no news in the web, and I just suggest people be less curious to those non-official affairs. Some of them don't make any sense.

I write these words above just because of the recent affair on campus concerning to a master who was described in a long post with very evil words. That post appeared in numerous forums just over the night. Then, as we can imagine, curses followed like flood.

Too naive, I said to myself. It's not immoderate if we call them a **mob** using "net violence".

Occasionally I'd like to make comparison between students in the contemporary society and that in the "May 4th Movement" ("New Culture Movement"), and sigh, if only we could understand what is the spirit of "Science and Democracy". To some degree, we have chosen a false democracy, and lost a true science.

So next time if you meet somebody somewhere and talk about the news in the past few days, just tell them, no news in the web. Nothing happened, really.
---
title: Pessimistic inference
date: '2006-09-15T00:21:17+08:00'
slug: pessimistic-inference
---

Frankly speaking, I do hate pessimism.

![](https://user-images.githubusercontent.com/163582/50254655-80b73e00-03b4-11e9-8679-114b628b3983.png)
---
title: Crafty spam emails
date: '2006-09-16T12:21:06+08:00'
slug: crafty-spam-emails
---

I can no longer stand those endless spam emails now, and I even believe people who send junk mails should be sentenced for this disgraceful conduct, because they are wasting my life, which is no other than committing murders. But all along I've been observing the tricks used in sending junk mails. For instance, the following is the **original** message of one of the spam mails I received yesterday:

```
X-Gmail-Received: 6c16d13cb579b5be844b0c0329d31cd6ebd7b457
Delivered-To: **********@*******
Received: by 10.70.24.2 with SMTP id 2cs1342516wxx;
        Fri, 15 Sep 2006 08:13:58 -0700 (PDT)
Received: by 10.67.29.12 with SMTP id g12mr5437064ugj;
        Fri, 15 Sep 2006 08:13:58 -0700 (PDT)
Return-Path: <sony@1nb.com>
Received: from dchousing.org ([201.79.55.116])
        by mx.gmail.com with SMTP id 53si1239878ugn.2006.09.15.08.13.56;
        Fri, 15 Sep 2006 08:13:58 -0700 (PDT)
Received-SPF: neutral (gmail.com: 201.79.55.116 is neither permitted nor 
denied by best guess record for domain of sony@1nb.com)
Message-ID: <01c6d8d9$8ff24540$9ffea8c0@laboratorio>
Reply-To: "Levon Pinson" <sony@1nb.com>
From: "Levon Pinson" <sony@1nb.com>
To: **********@*******
Subject: PHyinARMA
Date: Fri, 15 Sep 2006 08:10:52 -0700
MIME-Version: 1.0
Content-Type: multipart/alternative;
 boundary="----=_NextPart_000_0037_01C6D8C0.6AA29C40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2800.1106
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2800.1106
X-Antivirus: avast! (VPS 0634-2, 24/08/2006), Outbound message
X-Antivirus-Status: Clean

This is a multi-part message in MIME format.

------=_NextPart_000_0037_01C6D8C0.6AA29C40
Content-Type: text/plain;
 charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

Hi
=20
QUIT OVE x RPA z YI m NG FOR YOU g R PH b ARM a AC s Y
=20
S d AV d E u r p to 50 b % wi z th http://www.hijukinmasdfunter.com

------=_NextPart_000_0037_01C6D8C0.6AA29C40
Content-Type: text/html;
 charset="us-ascii"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<strong><font color="#ff0000"><META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dus-ascii">
<META content=3D"MSHTML 6.00.2800.1106" name=3DGENERATOR>
</font></strong><STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV>Hi</DIV>
<DIV> </DIV>
<DIV>QUIT OVE<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> x </span>RPA<span style =
=3D"float  :  right "> z </span>YI<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> m =
</span>NG FOR YOU<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> g </span>R PH<span =
<strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> b </span>ARM<span style =3D"float  :  right =
"> a </span>AC<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> s </span>Y</DIV>
<DIV> </DIV>
<DIV>S<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> d </span>AV<span style =
=3D"float  :  right "> d </span>E u<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> r =
</span>p to 50<span <strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> b </span> % wi<span =
<strong><font color="#ff0000">style =3D"float  :  right "</font></strong>> z </span>th <A =
href=3D"http://www.hijukinmasdfunter.com">http://www.hijukinmasdfunter.co=
m</A></DIV></BODY></HTML>
------=_NextPart_000_0037_01C6D8C0.6AA29C40--
```

But what you **actually** see in your inbox is like this:

![](https://user-images.githubusercontent.com/163582/50353754-d1db4500-050e-11e9-853a-6379c739e40d.png)

I could say nothing about it... They are just too crafty. From a pure technical view, I just admire their "brightness" in the handling of CSS (Cascading Style Sheets). Anyway, this conduct is absulutely disgusting.
---
title: Communication with A Computer (R language as an example)
date: '2006-10-14T22:30:46+08:00'
slug: communication-with-a-computer-r-language-as-an-example
---

![](https://www.r-project.org/Rlogo.jpg)

Every now and then, some students ask me about the reason why their programs (e.g. **R**) cannot be executed and errors show up one after another. 

They'll be angry just because **R** doesn't know how to compute **9x** if x=2 (of course 9x equals to 18), **R** doesn't understand inequations like **a<x<b**, and an error will occur in **R** when they use conditions like **if (x=a)**, etc. 

Indeed they are frustrated. They cannot imagine that these _clever_ computers cannot understand so _simple_ words. They are amazed, somehow. 

However, there ARE differences between languages of human beings and computers, which is unavoidable. When we are learning a computer language, I think the teacher should emphasize this point. 

Consequently, there are rules to guide us. Usually we call these "rules" **SYNTAX**. When you understand the syntax of a computer language, you'd get to know why errors occur: **9x** doesn't mean **9*x**; **a<x<b** doesn't stands for **a<x & x<b**; in **if (x=a)**, the expression "x=a" won't generate a boolean value (but here "(x=a)" might return a boolean value using **R**, you may consider about the reason yourself). 

There are too many cases to show the misunderstandings toward computer languages. The other day, two classmates of mine asked me whether **R **can draw a plot for _Pareto distribution_. For me, this is an interesting question, because when they raise this question, I'm clear that they still don't understand a _general_ principle: _how does a program draw a plot?_ If they do, their problem would be just an apple pie because they've already know the pdf/cdf of Pareto distribution. Apparently what they want is just type a command (such as "plot pareto(a)"), then the program will generate a graph for them. 

I don't want write too much on this specified problem. In my opinion, there are some basic facts that we should know clearly about; for example: 

> Your program will **never** generate a real **continuous** object (variable, graph, etc) even though it _seems_ to be continuous. Therefore you may only generate a discrete sequence like seq(1, 10, 0.01), but to generate a continuous variable x on the interval [1, 10] is impossible.

Appendix: 

```r    
> x=2
> 9x

Error: syntax error in "9x"

> 1<x<3

Error: syntax error in "1<x<"

> if(x=2){print("hello")}

Error: syntax error in "if(x="

> 9*x

[1] 18

> 1<x & x<3

[1] TRUE

> if(x==2){print("hello")}

[1] "hello"
```
---
title: How to sort a matrix/data frame in R
date: '2006-10-15T16:45:49+08:00'
slug: how-to-sort-a-matrixdata-frame-in-r
---

This is one of the difficulties I encountered when I was making an R script for a sampling task in a project. First I thought this would be a simple problem, and apply(x, 2, sort) might be OK. Later I found it was wrong:

```r
> a
     [,1] [,2]
[1,]  -14   11
[2,]    1    5
[3,]    1    2
[4,]    1    3
[5,]   -2  -20
> apply(a,2,sort)
     [,1] [,2]
[1,]  -14  -20
[2,]   -2    2
[3,]    1    3
[4,]    1    5
[5,]    1   11
```

Apparently the data structure was destroyed. I want to sort the matrix by a column (or several columns), but apply(x, 2, sort) sorts all the columns **respectively**. Of course a simple function sort() will return a more "terrible" result.

The correct way is to use the function **order()**, which returns a _permutation_ which rearranges its first argument into ascending or descending order, but **order()** alone still can't solve the problem. Just compare

```r 
> a[order(a[, 1]), ]
     [,1] [,2]
[1,]  -14   11
[2,]   -2  -20
[3,]    1    5
[4,]    1    2
[5,]    1    3
```

with

```r
> a[order(a[ ,1], a[ ,2]), ]
     [,1] [,2]
[1,]  -14   11
[2,]   -2  -20
[3,]    1    2
[4,]    1    3
[5,]    1    5
```

Today I looked up for this question in "[R FAQ](http://finzi.psych.upenn.edu/R/doc/manual/R-FAQ.html)" and easily found it. It seems that I still lack the habit of searching the [R site](http://finzi.psych.upenn.edu/search.html).
---
title: Too Many Books :-(
date: '2007-04-08T19:24:50+08:00'
slug: too-many-books
---

It seems that I haven't been here for quite a long time... Err... Does this poor space smell moldy now?  I decide to write a few words again from now on.  

Recently I found there were really too many books waiting for me. Actually the number is more than 60. I know neither God nor Bodhisattva would help me because they are merely busy telling us to be good boys and girls instead of generalized linear models or structural equation modeling.

Anyway, I've got a far better understanding on GLM now. I'm clear it's late for a postgraduate, but I'm trying my best.
---
title: GLM, Logistic Regression & Statistical Computation
date: '2007-04-09T13:32:17+08:00'
slug: glm-logistic-regression-statistical-computation
---

I noticed that there were few (domestic) researchers paying attention to statistical computation when they apply models to certain data. This is too dangerous. 

In the class of multivariate statistics this morning, Li gave a lecture on logistic regression. Actually in my opinion, students in the major of statistics should not study this specific regression at first. Instead, I believe generalized linear models (GLM) must be emphasized, or a sequence of problems such as methods of parameter estimation will arise when studying Poisson regression, negative binomial regression, etc. In a word, general framework is much more important than specific cases. 

Well, let's get back to the topic. In this class, teacher Du brought forward a good question, i.e. how does the computer get the final estimation? Indeed it is critical. I know many people are using logistic regression, but few of them know (or even ever heard of) what's Fisher scoring or Newton-Raphson scheme. 

Yes, we rely too much on computers. As Guo Zhigang (an author of a book on logistic regression) told the reader, "Just pass this question to your computer/software, and it'll tell you the result". OK, this is an era for IT; computers are all-mighty; just click a button.  

God knows the result is true or not! Or I'd rather believe he doesn't know either, because he's never attended a class of GLM.  
---
title: 'Questionnaire: Strategy or Tactics'
date: '2007-04-10T12:51:11+08:00'
slug: questionnaire-strategy-or-tactics
---

Last night a doctor from the School of Labor and Human Resources called me to ask for advice on their research project. Judging from her voice and tone, I guess she was almost completely at a loss then (even a little bit angry).  

The reason is clear -- they've encountered great obstacles ever since the beginning of data analysis, and what's worse, these obstacles are NOT from statistical models, but rises from the data collected using an ill-designed questionnaire.  

<blockquote>If you have no hand you can't make a fist.</blockquote>

Many people tend to believe that designing a questionnaire is just something on tactics (how to get data instead of what to get). I can understand this belief, because they're short-sighted from a view of the complete procedure of statistical analysis: collection, classification, analysis and interpretation. All of these four components are equally important.

I don't know why they didn't pay enough attention to this simple philosophy in designing their questionnaire: just connect the research purposes with questions/items (and options). When they got on with the analysis, they found the data had nothing to do with their aims. Ironic, isn't it?

This is not the first case I've met. And they are doctors and teachers, which indicates a great lack of basic recognition on the position of data collection: strategy or tactics?  

---
title: Be Considerate
date: '2007-04-11T23:09:06+08:00'
slug: be-considerate
---

This evening I made a presentation to my classmates. Maybe it took a too long time and in the last 20 minutes some students began to whisper with each other. I was standing on the front platform so I could clearly identify who were talking. Of course this feeling was not so good and I had to raise my voice in order that other students could hear my words.

I'm not expressing my dissatisfaction here, and I'm actually not unhappy at all. All along I have been regarding moral cultivation as the most critical point for a human. What I recalled then was not their whisper, but my own whisper when other people were lecturing in the front. Yes, it's a shame. I should be more considerate of others at least in this aspect.  

P.S. This evening I talked too much on purpose in the class just because I didn't want my teacher to talk that much (usually he will talk and talk and talk, till the screen savers appear, no, till the projection goes out, till some students wake up again)  
---
title: A Sense of Service
date: '2007-04-12T13:48:03+08:00'
slug: a-sense-of-service
---

I didn't go to the dining hall to have my lunch today because there's no remaining money in my card. Thus I rode  my bike to the central campus to recharge my account and by the way bought some dumplings (is the word "jiaozi" popular now?); when I came back with a bag of "jiaozies", I found the elevator had just gone, and a waitress (perhaps from a certain dining hall) quickly said "Gone" to me at the glance of my hurry appearance, in order to slow down my steps and prevent invalid efforts.

Surely most people will ignore such a trivial action, however, I believe this is a good sense of service. Usually we'll not tell a stranger that the elevator has gone; even we'll not utter any words to a stranger met in front of an elevator. She is a waitress, so the action is different.

Hmm... Interesting?  Be professional, no matter what you do.  
---
title: Do you know where are quartiles?
date: '2007-04-13T23:52:16+08:00'
slug: do-you-know-where-are-quartiles
---

This is a very simple question but it's interesting too. In some very influential domestic textbooks of statistics (e.g. Jia Junping, 2004), the definition for quartiles are not appropriate. I didn't notice this point until a member of [COS](https://cosx.org) raised a question about how to compute quartiles in M$ Excel; he just doubted the results computed by the formula QUANTILE() of Excel according to those famous textbooks: the lower and upper quartiles are respectively defined at (n+1)/4 and 3*(n+1)/4. While I believe [(n+1)/2 + 1]/2 and [(n+1)/2 + 1]/2 are better.

Actually when I made some tests in [R](http://www.r-project.org), Excel, SPSS, Stata and Statistica, I found that all these statistical packages computed quartiles in the latter way except SPSS, which adopted the former way. Just use five numbers from 1 to 5 to test the results: if the lower quartile is 2, then the latter way is used, otherwise 1.5 means the former.

My another interesting finding in SPSS is that it computes quartiles in the former way but draws boxplots in the latter way. Again we may use 1, 2, 3, 4, 5 to confirm it. The quartiles presented in the boxplot are 2 and 4, whereas computed by "Frequencies" are 1.5 and 4.5.  

---
title: One-dimensional/Multi-dimensional numerical integration in R
date: '2007-04-14T23:54:37+08:00'
slug: one-dimensionalmulti-dimensional-numerical-integration-in-r
---

More than one members have asked such questions in [COS](https://cosx.org/), and they can be easily solved by the function integrate (pkg stats) and adapt (pkg adapt). For example:

```r
> fnorm = function(x) {
    1/sqrt(2 * pi) * exp(-x^2/2)
}

> integrate(fnorm, -Inf, 0)
0.5 with absolute error < 4.7e-05
> pnorm(0)
[1] 0.5
```
---
title: A Leisure Graph Made in R
date: '2007-04-15T20:23:46+08:00'
slug: a-leisure-graph-made-in-r
---

Some three weeks ago, Renmin University called for the designing of class logos. Usually I don't like such activities, but when I was drawing a graph using R, I suddenly got some inspirations and made a logo by means of some simple R functions like _symbols()_, _lines()_, _dnorm()_, _segments()_, _polygon()_ and _arrows()_, etc.

The PDF version of this (perhaps ugly) logo can be [_downloaded here_](http://xieyihui.googlepages.com/sign.pdf). Below are some core codes:

```r
....
> y = seq(2 * pi, 0, length = 150)
> x = sin(y)
> radius = ifelse(0.5 * abs(cos(y)) + 0.1 < 0.15, 0.15, 
+    0.5 * abs(cos(y)) + 0.1)
> symbols(x, y, circles = radius, inches = F, fg = heat.colors(150))
....
```
---
title: Generate All Combinations of n Elements in R
date: '2007-04-16T00:45:38+08:00'
slug: generate-all-combinations-of-n-elements-in-r
---

Yesterday a member of [COS](https://cosx.org/) asked how to generate all the elements of {_all sets consisting of arbitrary combinations of n elements_} in R and I didn't know the function _combn() _then, so after a while I constructed a simple loop to fulfill this function (later I found this was wrong because it didn't enumerate all possible combinations!):

```r
> x = 1:5    # as an example, you may change this vector
> n = length(x)
> for (i in 1:n) {
    if (i == 1) {
        for (j in 1:n) {
            print(x[j])
        }
    }
    else {
        for (j in 1:(n - i + 1)) {
            for (k in (j + i - 1):n) {
                print(c(x[j:(j + i - 2)], x[k]))
            }
        }
    }
}
```

The output is:

```    
[1] 1
[1] 2
[1] 3
[1] 4
[1] 5
[1] 1 2
[1] 1 3
[1] 1 4
[1] 1 5
[1] 2 3
[1] 2 4
[1] 2 5
[1] 3 4
[1] 3 5
[1] 4 5
[1] 1 2 3
[1] 1 2 4
[1] 1 2 5
[1] 2 3 4
[1] 2 3 5
[1] 3 4 5
[1] 1 2 3 4
[1] 1 2 3 5
[1] 2 3 4 5
[1] 1 2 3 4 5
```

Just now when I was reading the help text of the function _choose()_, I found that there had already been a function _combn()_ in the package utils, which is very appropriate for this situation. For example:

```r
> combn(x = 5, m = 3)
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    1    1    1    1    1    2    2    2     3
[2,]    2    2    2    3    3    4    3    3    4     4
[3,]    3    4    5    4    5    5    4    5    5     5
```

So the problem in the beginning will be much easier.
---
title: Assignments, Lectures, Reports and Training
date: '2007-04-19T20:39:53+08:00'
slug: assignments-lectures-reports-and-training
---

I didn't imagine that I could be driven madly by these affairs. Today I spent two hours in the morning and two in the evening on one of the class assignments and eventually finished it. Last week I prepared a report for the class of marketing and this week it seems that I should prepare a report on the introduction to Java (next Monday afternoon?), a lecture note on structural equation modeling (next Monday morning), a report on support vector machines (next Tuesday morning), a training course for People's Bank of China on Stata (tomorrow afternoon) and a lecture note on statistical programming and analysis with R (in May).

Yep, for me, life is a box of chocolates -- the chocolates are not for me.  
---
title: The Embarrassing "Doctor Xie"
date: '2007-04-20T23:50:51+08:00'
slug: the-embarrassing-doctor-xie
---

![Dr Xie](https://db.yihui.org/space/dr.xie.gif)

Today I went to People's Bank of China (PBC) to give them a training course on Stata. This job was introduced to me through a company in Guangzhou, and there was a young man from this company leading me to an office of PBC. When I entered the room, that man introduced me to those PBC workers as "Doctor Xie". I was really surprised on hearing the title "Doctor", and I've clearly told him that I haven't even got my master's degree yet. Obviously he was lying, because he wanted to win more trust from them. Then I felt quite embarrassed and I was thinking quickly about whether I should correct his words or not -- it was hard to decide.

Frankly speaking, I don't like lying at all, and I don't think it's necessary to lie to them. Usually people put too much emphasis on titles, but I always believe the role of one's competence/strength is more important than his titles (or other superficial things such as certificates, etc).

Fortunately, I still told them  my real identity at last when they asked about my background again.

BTW, just now I "murdered" the first mosquito I saw this year :-D
---
title: Silhouette of Humanistic Psychology
date: '2007-04-22T13:12:36+08:00'
slug: silhouette-of-humanistic-psychology
---

When I was thumbing through the book "The Practice of Management" by Peter F. Drucker after my lunch in the office, I just realized again the importance of humanism. In this aspect, [Abraham Maslow](http://webspace.ship.edu/cgboer/maslow.html) had played a critical role in the development of humanistic psychology. The basic idea is fairly simple: not a single individual should be ignored. Well, simple as it is, there're still many individuals being ignored by managers. On the other hand, responsibility, rather than power, must be emphasized. Sure, this viewpoint will influence the development of an enterprise in the long run.  

---
title: Structural Equation Modeling in R
date: '2007-04-23T19:02:46+08:00'
slug: structural-equation-modeling-in-r
---

I feel unhappy, so I just decide to write something not-so-interesting. 

Everybody is using Structural Equation Models (SEM) in China as if it were shameful that you didn't construct SEMs in your paper. Again, few people know SEM theories -- not to say the computation issues. They don't care, because they know this is a so-called advanced tool. This morning I've talked about several ironic things about SEM in my speech. 

![SEM Paths](https://db.yihui.org/space/sem-path.gif)

The theory can be regarded as easy, though in fact it's not. The main idea is to develop a model with a theoretical covariance matrix ($\Sigma$) which is similar to the sample covariance matrix S. Therefore, how to minimize their discrepancy becomes the most critical part in parameter estimation. Common discrepancy functions can be derived through maximum likelihood (ML), unweighted least squares (ULS) and generalized least squares (GLS), etc. Take ML as an example, the discrepancy function is 

$$FML = tr(S\Sigma-1) + \log|\Sigma| - log|S| - (p + q)$$

This function is quite complicated; usually it has more than 20 parameters. All along I have been doubting the reliability of its optimization (the dimension is really too high!). However, nobody ever mentioned this problem. Maybe they're too happy to notice it.  

OK, since my topic is the implementation in R, let's check the package "sem" first. The function sem() is used to fit general structural equation models. 

```
sem {sem} R Documentation 

**General Structural Equation Models **

**Description** 

`sem` fits general structural equation models (with both observed and unobserved variables) by the method of maximum likelihood, assuming multinormal errors. Observed variables are also called _indicators_ or _manifest variables_; unobserved variables are also called _factors_ or _latent variables_. Normally, the generic function (`sem`) would be used. 


**Usage**
    
    sem(ram, ...)
    
    ## S3 method for class 'mod':
    sem(ram, S, N, obs.variables=rownames(S), fixed.x=NULL, debug=FALSE, ...)
        
    ## Default S3 method:
    sem(ram, S, N, param.names = paste("Param", 1:t, sep = ""), 
        var.names = paste("V", 1:m, sep = ""), fixed.x = NULL, raw=FALSE, 
        debug = FALSE, analytic.gradient = TRUE, warn = FALSE, maxiter = 500, 
        par.size=c('ones', 'startvalues'), refit=TRUE, start.tol=1E-6, ...) 
        
    startvalues(S, ram, debug = FALSE, tol=1E-6)
    
    ## S3 method for class 'sem':
    print(x, ...)
    
    ## S3 method for class 'sem':
    summary(object, digits=5, conf.level=0.9, ...)
    
    ## S3 method for class 'sem':
    deviance(object, ...)
    
    ## S3 method for class 'sem':
    df.residual(object, ...)
```

Currently only _ML_ and_ two-stage least squares (TSLS) _are available in this package. The specification is easy: just tell R your sample covariance matrix and settings for coefficients and covariances. The examples are quite clear:

```r
# Note: These examples can't be run via example() because the default file
#  argument of specify.model() requires that the model specification be entered
#  at the command prompt. The examples can be copied and run in the R console,
#  however. See ?specify.model for further information

    ## Not run: 

# ------------- Duncan, Haller and Portes peer-influences model ----------------------
# A nonrecursive SEM with unobserved endogenous variables and fixed exogenous variables

R.DHP <- matrix(c(      # lower triangle of correlation matrix
            1,      0,      0,      0,      0,      0,      0,      0,      0,      0,            
            .6247,   1,     0,      0,      0,      0,      0,      0,      0,      0,            
            .3269,  .3669,  1,      0,      0,      0,      0,      0,      0,      0,            
            .4216,  .3275,  .6404,  1,      0,      0,      0,      0,      0,      0,
            .2137,  .2742,  .1124,  .0839,  1,      0,      0,      0,      0,      0,
            .4105,  .4043,  .2903,  .2598,  .1839,  1,      0,      0,      0,      0,
            .3240,  .4047,  .3054,  .2786,  .0489,  .2220,  1,      0,      0,      0,
            .2930,  .2407,  .4105,  .3607,  .0186,  .1861,  .2707,  1,      0,      0,
            .2995,  .2863,  .5191,  .5007,  .0782,  .3355,  .2302,  .2950,  1,      0,
            .0760,  .0702,  .2784,  .1988,  .1147,  .1021,  .0931, -.0438,  .2087,  1
            ), ncol=10, byrow=TRUE)
            
rownames(R.DHP) <- colnames(R.DHP) <- 
    c('ROccAsp', 'REdAsp', 'FOccAsp', 'FEdAsp', 'RParAsp', 'RIQ',
        'RSES', 'FSES', 'FIQ', 'FParAsp')

# Fit the model using a symbolic ram specification

model.dhp <- specify.model()
    RParAsp  -> RGenAsp, gam11,  NA
    RIQ      -> RGenAsp, gam12,  NA
    RSES     -> RGenAsp, gam13,  NA
    FSES     -> RGenAsp, gam14,  NA
    RSES     -> FGenAsp, gam23,  NA
    FSES     -> FGenAsp, gam24,  NA
    FIQ      -> FGenAsp, gam25,  NA
    FParAsp  -> FGenAsp, gam26,  NA
    FGenAsp  -> RGenAsp, beta12, NA
    RGenAsp  -> FGenAsp, beta21, NA
    RGenAsp  -> ROccAsp,  NA,     1
    RGenAsp  -> REdAsp,  lam21,  NA
    FGenAsp  -> FOccAsp,  NA,     1
    FGenAsp  -> FEdAsp,  lam42,  NA
    RGenAsp <-> RGenAsp, ps11,   NA
    FGenAsp <-> FGenAsp, ps22,   NA
    RGenAsp <-> FGenAsp, ps12,   NA
    ROccAsp <-> ROccAsp, theta1, NA
    REdAsp  <-> REdAsp,  theta2, NA
    FOccAsp <-> FOccAsp, theta3, NA
    FEdAsp  <-> FEdAsp,  theta4, NA

sem.dhp.1 <- sem(model.dhp, R.DHP, 329,
    fixed.x=c('RParAsp', 'RIQ', 'RSES', 'FSES', 'FIQ', 'FParAsp'))

summary(sem.dhp.1)

##     Model Chisquare =  26.697   Df =  15 Pr(>Chisq) = 0.031302
##     Chisquare (null model) =  872   Df =  45
##     Goodness-of-fit index =  0.98439
##     Adjusted goodness-of-fit index =  0.94275
##     RMSEA index =  0.048759   90 
##     Bentler-Bonnett NFI =  0.96938
##     Tucker-Lewis NNFI =  0.95757
##     Bentler CFI =  0.98586
##     BIC =  -60.244 
##    
##     Normalized Residuals
##       Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    -0.7990 -0.1180  0.0000 -0.0120  0.0397  1.5700 
##    
##     Parameter Estimates
##           Estimate  Std Error z value Pr(>|z|)                       
##    gam11   0.161224 0.038487   4.1890 2.8019e-05 RGenAsp <--- RParAsp
##    gam12   0.249653 0.044580   5.6001 2.1428e-08 RGenAsp <--- RIQ    
##    gam13   0.218404 0.043476   5.0235 5.0730e-07 RGenAsp <--- RSES   
##    gam14   0.071843 0.050335   1.4273 1.5350e-01 RGenAsp <--- FSES   
##    gam23   0.061894 0.051738   1.1963 2.3158e-01 FGenAsp <--- RSES   
##    gam24   0.228868 0.044495   5.1437 2.6938e-07 FGenAsp <--- FSES   
##    gam25   0.349039 0.044551   7.8346 4.6629e-15 FGenAsp <--- FIQ    
##    gam26   0.159535 0.040129   3.9755 7.0224e-05 FGenAsp <--- FParAsp
##    beta12  0.184226 0.096207   1.9149 5.5506e-02 RGenAsp <--- FGenAsp
##    beta21  0.235458 0.119742   1.9664 4.9255e-02 FGenAsp <--- RGenAsp
##    lam21   1.062674 0.091967  11.5549 0.0000e+00 REdAsp <--- RGenAsp 
##    lam42   0.929727 0.071152  13.0668 0.0000e+00 FEdAsp <--- FGenAsp 
##    ps11    0.280987 0.046311   6.0674 1.2999e-09 RGenAsp <--> RGenAsp
##    ps22    0.263836 0.044902   5.8759 4.2067e-09 FGenAsp <--> FGenAsp
##    ps12   -0.022601 0.051649  -0.4376 6.6168e-01 FGenAsp <--> RGenAsp
##    theta1  0.412145 0.052211   7.8939 2.8866e-15 ROccAsp <--> ROccAsp
##    theta2  0.336148 0.053323   6.3040 2.9003e-10 REdAsp <--> REdAsp  
##    theta3  0.311194 0.046665   6.6687 2.5800e-11 FOccAsp <--> FOccAsp
##    theta4  0.404604 0.046733   8.6578 0.0000e+00 FEdAsp <--> FEdAsp  
##    
##     Iterations =  28 

# Fit the model using a numerical ram specification

ram.dhp <- matrix(c(
#               heads   to      from    param  start
                1,       1,     11,      0,     1,
                1,       2,     11,      1,     NA, # lam21
                1,       3,     12,      0,     1,
                1,       4,     12,      2,     NA, # lam42
                1,      11,      5,      3,     NA, # gam11
                1,      11,      6,      4,     NA, # gam12
                1,      11,      7,      5,     NA, # gam13
                1,      11,      8,      6,     NA, # gam14
                1,      12,      7,      7,     NA, # gam23
                1,      12,      8,      8,     NA, # gam24
                1,      12,      9,      9,     NA, # gam25
                1,      12,     10,     10,     NA, # gam26
                1,      11,     12,     11,     NA, # beta12
                1,      12,     11,     12,     NA, # beta21
                2,       1,      1,     13,     NA, # theta1
                2,       2,      2,     14,     NA, # theta2
                2,       3,      3,     15,     NA, # theta3
                2,       4,      4,     16,     NA, # theta4
                2,      11,     11,     17,     NA, # psi11
                2,      12,     12,     18,     NA, # psi22
                2,      11,     12,     19,     NA  # psi12
                ), ncol=5, byrow=TRUE)

params.dhp <- c('lam21', 'lam42', 'gam11', 'gam12', 'gam13', 'gam14',
                 'gam23',  'gam24',  'gam25',  'gam26',
                 'beta12', 'beta21', 'theta1', 'theta2', 'theta3', 'theta4',
                 'psi11', 'psi22', 'psi12')
                 
vars.dhp <- c('ROccAsp', 'REdAsp', 'FOccAsp', 'FEdAsp', 'RParAsp', 'RIQ',
                'RSES', 'FSES', 'FIQ', 'FParAsp', 'RGenAsp', 'FGenAsp')
                
sem.dhp.2 <- sem(ram.dhp, R.DHP, 329, params.dhp, vars.dhp, fixed.x=5:10)

summary(sem.dhp.2)
    
##     Model Chisquare =  26.697   Df =  15 Pr(>Chisq) = 0.031302
##     Chisquare (null model) =  872   Df =  45
##     Goodness-of-fit index =  0.98439
##     Adjusted goodness-of-fit index =  0.94275
##     RMSEA index =  0.048759   90 
##     Bentler-Bonnett NFI =  0.96938
##     Tucker-Lewis NNFI =  0.95757
##     Bentler CFI =  0.98586
##     BIC =  -60.244 
##    
##     Normalized Residuals
##       Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    -0.7990 -0.1180  0.0000 -0.0120  0.0397  1.5700 
##    
##     Parameter Estimates
##           Estimate  Std Error z value Pr(>|z|)                       
##    lam21   1.062674 0.091967  11.5549 0.0000e+00 REdAsp <--- RGenAsp 
##    lam42   0.929727 0.071152  13.0668 0.0000e+00 FEdAsp <--- FGenAsp 
##    gam11   0.161224 0.038487   4.1890 2.8019e-05 RGenAsp <--- RParAsp
##    gam12   0.249653 0.044580   5.6001 2.1428e-08 RGenAsp <--- RIQ    
##    gam13   0.218404 0.043476   5.0235 5.0730e-07 RGenAsp <--- RSES   
##    gam14   0.071843 0.050335   1.4273 1.5350e-01 RGenAsp <--- FSES   
##    gam23   0.061894 0.051738   1.1963 2.3158e-01 FGenAsp <--- RSES   
##    gam24   0.228868 0.044495   5.1437 2.6938e-07 FGenAsp <--- FSES   
##    gam25   0.349039 0.044551   7.8346 4.6629e-15 FGenAsp <--- FIQ    
##    gam26   0.159535 0.040129   3.9755 7.0224e-05 FGenAsp <--- FParAsp
##    beta12  0.184226 0.096207   1.9149 5.5506e-02 RGenAsp <--- FGenAsp
##    beta21  0.235458 0.119742   1.9664 4.9255e-02 FGenAsp <--- RGenAsp
##    theta1  0.412145 0.052211   7.8939 2.8866e-15 ROccAsp <--> ROccAsp
##    theta2  0.336148 0.053323   6.3040 2.9003e-10 REdAsp <--> REdAsp  
##    theta3  0.311194 0.046665   6.6687 2.5800e-11 FOccAsp <--> FOccAsp
##    theta4  0.404604 0.046733   8.6578 0.0000e+00 FEdAsp <--> FEdAsp  
##    psi11   0.280987 0.046311   6.0674 1.2999e-09 RGenAsp <--> RGenAsp
##    psi22   0.263836 0.044902   5.8759 4.2067e-09 FGenAsp <--> FGenAsp
##    psi12  -0.022601 0.051649  -0.4376 6.6168e-01 RGenAsp <--> FGenAsp
    
     Iterations =  28 

# -------------------- Wheaton et al. alienation data ----------------------
    

S.wh <- matrix(c(
   11.834,     0,        0,        0,       0,        0,
    6.947,    9.364,     0,        0,       0,        0,
    6.819,    5.091,   12.532,     0,       0,        0,
    4.783,    5.028,    7.495,    9.986,    0,        0,
   -3.839,   -3.889,   -3.841,   -3.625,   9.610,     0,
  -21.899,  -18.831,  -21.748,  -18.775,  35.522,  450.288), 
  6, 6)
  
rownames(S.wh) <- colnames(S.wh) <-
    c('Anomia67','Powerless67','Anomia71','Powerless71','Education','SEI')
  
# This is the model in the SAS manual for PROC CALIS: A Recursive SEM with
# latent endogenous and exogenous variables.
# Curiously, both factor loadings for two of the latent variables are fixed.

model.wh.1 <- specify.model()
    Alienation67   ->  Anomia67,      NA,     1
    Alienation67   ->  Powerless67,   NA,     0.833
    Alienation71   ->  Anomia71,      NA,     1
    Alienation71   ->  Powerless71,   NA,     0.833 
    SES            ->  Education,     NA,     1     
    SES            ->  SEI,           lamb,   NA
    SES            ->  Alienation67,  gam1,   NA
    Alienation67   ->  Alienation71,  beta,   NA
    SES            ->  Alienation71,  gam2,   NA
    Anomia67       <-> Anomia67,      the1,   NA
    Anomia71       <-> Anomia71,      the1,   NA
    Powerless67    <-> Powerless67,   the2,   NA
    Powerless71    <-> Powerless71,   the2,   NA
    Education      <-> Education,     the3,   NA
    SEI            <-> SEI,           the4,   NA
    Anomia67       <-> Anomia71,      the5,   NA
    Powerless67    <-> Powerless71,   the5,   NA
    Alienation67   <-> Alienation67,  psi1,   NA
    Alienation71   <-> Alienation71,  psi2,   NA
    SES            <-> SES,           phi,    NA
    
                        
sem.wh.1 <- sem(model.wh.1, S.wh, 932)

summary(sem.wh.1)

##     Model Chisquare =  13.485   Df =  9 Pr(>Chisq) = 0.14186
##     Chisquare (null model) =  2131.4   Df =  15
##     Goodness-of-fit index =  0.99527
##     Adjusted goodness-of-fit index =  0.98896
##     RMSEA index =  0.023136   90 
##     Bentler-Bonnett NFI =  0.99367
##     Tucker-Lewis NNFI =  0.99647
##     Bentler CFI =  0.99788
##     BIC =  -48.051 
##    
##     Normalized Residuals
##        Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##    -1.26000 -0.13100  0.00014 -0.02870  0.11400  0.87400 
##    
##     Parameter Estimates
##         Estimate  Std Error z value  Pr(>|z|)                                 
##    lamb   5.36880  0.433982  12.3710 0.0000e+00 SEI <--- SES                  
##    gam1  -0.62994  0.056128 -11.2233 0.0000e+00 Alienation67 <--- SES         
##    beta   0.59312  0.046820  12.6680 0.0000e+00 Alienation71 <--- Alienation67
##    gam2  -0.24086  0.055202  -4.3632 1.2817e-05 Alienation71 <--- SES         
##    the1   3.60787  0.200589  17.9864 0.0000e+00 Anomia67 <--> Anomia67        
##    the2   3.59494  0.165234  21.7567 0.0000e+00 Powerless67 <--> Powerless67  
##    the3   2.99366  0.498972   5.9996 1.9774e-09 Education <--> Education      
##    the4 259.57583 18.321121  14.1681 0.0000e+00 SEI <--> SEI                  
##    the5   0.90579  0.121710   7.4422 9.9032e-14 Anomia71 <--> Anomia67        
##    psi1   5.67050  0.422906  13.4084 0.0000e+00 Alienation67 <--> Alienation67
##    psi2   4.51481  0.334993  13.4773 0.0000e+00 Alienation71 <--> Alienation71
##    phi    6.61632  0.639506  10.3460 0.0000e+00 SES <--> SES                  
##    
##     Iterations =  78 

# The same model, but treating one loading for each latent variable as free.

model.wh.2 <- specify.model()
    Alienation67   ->  Anomia67,      NA,        1
    Alienation67   ->  Powerless67,   lamby,    NA
    Alienation71   ->  Anomia71,      NA,        1
    Alienation71   ->  Powerless71,   lamby,    NA 
    SES            ->  Education,     NA,        1     
    SES            ->  SEI,           lambx,    NA
    SES            ->  Alienation67,  gam1,     NA
    Alienation67   ->  Alienation71,  beta,     NA
    SES            ->  Alienation71,  gam2,     NA
    Anomia67       <-> Anomia67,      the1,     NA
    Anomia71       <-> Anomia71,      the1,     NA
    Powerless67    <-> Powerless67,   the2,     NA
    Powerless71    <-> Powerless71,   the2,     NA
    Education      <-> Education,     the3,     NA
    SEI            <-> SEI,           the4,     NA
    Anomia67       <-> Anomia71,      the5,     NA
    Powerless67    <-> Powerless71,   the5,     NA
    Alienation67   <-> Alienation67,  psi1,     NA
    Alienation71   <-> Alienation71,  psi2,     NA
    SES            <-> SES,           phi,      NA 

sem.wh.2 <- sem(model.wh.2, S.wh, 932)

summary(sem.wh.2)

##     Model Chisquare =  12.673   Df =  8 Pr(>Chisq) = 0.12360
##     Chisquare (null model) =  2131.4   Df =  15
##     Goodness-of-fit index =  0.99553
##     Adjusted goodness-of-fit index =  0.98828
##     RMSEA index =  0.025049   90 
##     Bentler-Bonnett NFI =  0.99405
##     Tucker-Lewis NNFI =  0.99586
##     Bentler CFI =  0.9978
##     BIC =  -42.026 
##    
##     Normalized Residuals
##         Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
##    -0.997000 -0.140000  0.000295 -0.028800  0.100000  0.759000 
##    
##     Parameter Estimates
##          Estimate  Std Error z value  Pr(>|z|)                                 
##    lamby   0.86261  0.033383  25.8402 0.0000e+00 Powerless67 <--- Alienation67 
##    lambx   5.35302  0.432591  12.3743 0.0000e+00 SEI <--- SES                  
##    gam1   -0.62129  0.056142 -11.0663 0.0000e+00 Alienation67 <--- SES         
##    beta    0.59428  0.047040  12.6335 0.0000e+00 Alienation71 <--- Alienation67
##    gam2   -0.23580  0.054684  -4.3121 1.6173e-05 Alienation71 <--- SES         
##    the1    3.74499  0.249823  14.9906 0.0000e+00 Anomia67 <--> Anomia67        
##    the2    3.49378  0.200754  17.4033 0.0000e+00 Powerless67 <--> Powerless67  
##    the3    2.97409  0.499661   5.9522 2.6456e-09 Education <--> Education      
##    the4  260.13252 18.298141  14.2163 0.0000e+00 SEI <--> SEI                  
##    the5    0.90377  0.121818   7.4190 1.1791e-13 Anomia71 <--> Anomia67        
##    psi1    5.47380  0.464073  11.7951 0.0000e+00 Alienation67 <--> Alienation67
##    psi2    4.36410  0.362722  12.0315 0.0000e+00 Alienation71 <--> Alienation71
##    phi     6.63576  0.640425  10.3615 0.0000e+00 SES <--> SES                  
##    
##     Iterations =  79 
##

# ----------------------- Thurstone data ---------------------------------------
#  Second-order confirmatory factor analysis, from the SAS manual for PROC CALIS

R.thur <- matrix(c(
        1.,       0,      0,      0,      0,      0,      0,      0,      0, 
         .828,   1.,      0,      0,      0,      0,      0,      0,      0, 
         .776,   .779,   1.,      0,      0,      0,      0,      0,      0, 
         .439,   .493,    .460,   1.,     0,      0,      0,      0,      0, 
         .432,   .464,    .425,   .674,   1.,     0,      0,      0,      0, 
         .447,   .489,    .443,   .590,    .541,  1.,     0,      0,      0, 
         .447,   .432,    .401,   .381,    .402,   .288,  1.,     0,      0, 
         .541,   .537,    .534,   .350,    .367,   .320,   .555,  1.,     0, 
         .380,   .358,    .359,   .424,    .446,   .325,   .598,   .452,  1.
            ), ncol=9, byrow=TRUE)
            
rownames(R.thur) <- colnames(R.Thur) <-
    c('Sentences','Vocabulary','Sent.Completion','First.Letters',
        '4.Letter.Words','Suffixes','Letter.Series','Pedigrees', 'Letter.Group')

model.thur <- specify.model()
    F1 -> Sentences,                      lam11, NA
    F1 -> Vocabulary,                     lam21, NA
    F1 -> Sent.Completion,                lam31, NA
    F2 -> First.Letters,                  lam41, NA
    F2 -> 4.Letter.Words,                 lam52, NA
    F2 -> Suffixes,                       lam62, NA
    F3 -> Letter.Series,                  lam73, NA
    F3 -> Pedigrees,                      lam83, NA
    F3 -> Letter.Group,                   lam93, NA
    F4 -> F1,                             gam1,  NA
    F4 -> F2,                             gam2,  NA
    F4 -> F3,                             gam3,  NA 
    Sentences <-> Sentences,              th1,   NA
    Vocabulary <-> Vocabulary,            th2,   NA
    Sent.Completion <-> Sent.Completion,  th3,   NA
    First.Letters <-> First.Letters,      th4,   NA
    4.Letter.Words <-> 4.Letter.Words,    th5,   NA
    Suffixes <-> Suffixes,                th6,   NA
    Letter.Series <-> Letter.Series,      th7,   NA
    Pedigrees <-> Pedigrees,              th8,   NA
    Letter.Group <-> Letter.Group,        th9,   NA
    F1 <-> F1,                            NA,     1
    F2 <-> F2,                            NA,     1
    F3 <-> F3,                            NA,     1
    F4 <-> F4,                            NA,     1

sem.thur <- sem(model.thur, R.thur, 213)

summary(sem.thur)

##     Model Chisquare =  38.196   Df =  24 Pr(>Chisq) = 0.033101
##     Chisquare (null model) =  1101.9   Df =  36
##     Goodness-of-fit index =  0.95957
##     Adjusted goodness-of-fit index =  0.9242
##     RMSEA index =  0.052822   90 
##     Bentler-Bonnett NFI =  0.96534
##     Tucker-Lewis NNFI =  0.98002
##     Bentler CFI =  0.98668
##     BIC =  -90.475 
##    
##     Normalized Residuals
##         Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
##    -9.72e-01 -4.16e-01 -4.20e-07  4.01e-02  9.39e-02  1.63e+00 
##    
##     Parameter Estimates
##          Estimate Std Error z value Pr(>|z|)                                       
##    lam11 0.51512  0.064964  7.9293  2.2204e-15 Sentences <--- F1                   
##    lam21 0.52031  0.065162  7.9849  1.3323e-15 Vocabulary <--- F1                  
##    lam31 0.48743  0.062422  7.8087  5.7732e-15 Sent.Completion <--- F1             
##    lam41 0.52112  0.063137  8.2538  2.2204e-16 First.Letters <--- F2               
##    lam52 0.49707  0.059673  8.3298  0.0000e+00 4.Letter.Words <--- F2              
##    lam62 0.43806  0.056479  7.7562  8.6597e-15 Suffixes <--- F2                    
##    lam73 0.45244  0.071371  6.3392  2.3100e-10 Letter.Series <--- F3               
##    lam83 0.41729  0.061037  6.8367  8.1020e-12 Pedigrees <--- F3                   
##    lam93 0.40763  0.064524  6.3175  2.6584e-10 Letter.Group <--- F3                
##    gam1  1.44381  0.264173  5.4654  4.6184e-08 F1 <--- F4                          
##    gam2  1.25383  0.216597  5.7888  7.0907e-09 F2 <--- F4                          
##    gam3  1.40655  0.279331  5.0354  4.7681e-07 F3 <--- F4                          
##    th1   0.18150  0.028400  6.3907  1.6517e-10 Sentences <--> Sentences            
##    th2   0.16493  0.027797  5.9334  2.9678e-09 Vocabulary <--> Vocabulary          
##    th3   0.26713  0.033468  7.9816  1.5543e-15 Sent.Completion <--> Sent.Completion
##    th4   0.30150  0.050686  5.9484  2.7073e-09 First.Letters <--> First.Letters    
##    th5   0.36450  0.052358  6.9617  3.3618e-12 4.Letter.Words <--> 4.Letter.Words  
##    th6   0.50642  0.059963  8.4455  0.0000e+00 Suffixes <--> Suffixes              
##    th7   0.39033  0.061599  6.3367  2.3474e-10 Letter.Series <--> Letter.Series    
##    th8   0.48137  0.065388  7.3618  1.8141e-13 Pedigrees <--> Pedigrees            
##    th9   0.50510  0.065227  7.7437  9.5479e-15 Letter.Group <--> Letter.Group      
##
##    Iterations =  54 
##

#------------------------- Kerchoff/Kenney path analysis ---------------------
# An observed-variable recursive SEM from the LISREL manual

R.kerch <- matrix(c(
    1,      0,      0,      0,      0,      0,      0,
    -.100,  1,      0,      0,      0,      0,      0,
     .277,  -.152,  1,      0,      0,      0,      0,
     .250,  -.108,  .611,   1,      0,      0,      0,
     .572,  -.105,  .294,   .248,   1,      0,      0,
     .489,  -.213,  .446,   .410,   .597,   1,      0,
     .335,  -.153,  .303,   .331,   .478,   .651,   1),
     ncol=7, byrow=TRUE)

rownames(R.kerch) <- colnames(R.kerch) <- c('Intelligence','Siblings',
    'FatherEd','FatherOcc','Grades','EducExp','OccupAsp')

    
model.kerch <- specify.model()
    Intelligence -> Grades,       gam51,    NA
    Siblings -> Grades,           gam52,    NA
    FatherEd -> Grades,           gam53,    NA
    FatherOcc -> Grades,          gam54,    NA
    Intelligence -> EducExp,      gam61,    NA
    Siblings -> EducExp,          gam62,    NA
    FatherEd -> EducExp,          gam63,    NA
    FatherOcc -> EducExp,         gam64,    NA
    Grades -> EducExp,            beta65,   NA
    Intelligence -> OccupAsp,     gam71,    NA
    Siblings -> OccupAsp,         gam72,    NA
    FatherEd -> OccupAsp,         gam73,    NA
    FatherOcc -> OccupAsp,        gam74,    NA
    Grades -> OccupAsp,           beta75,   NA
    EducExp -> OccupAsp,          beta76,   NA
    Grades <-> Grades,            psi5,     NA
    EducExp <-> EducExp,          psi6,     NA
    OccupAsp <-> OccupAsp,        psi7,     NA

                       
sem.kerch <- sem(model.kerch, R.kerch, 737, fixed.x=c('Intelligence','Siblings',
    'FatherEd','FatherOcc'))
    
summary(sem.kerch)

##     Model Chisquare =  3.2685e-13   Df =  0 Pr(>Chisq) = NA
##     Chisquare (null model) =  1664.3   Df =  21
##     Goodness-of-fit index =  1
##     BIC =  3.2685e-13 
##    
##     Normalized Residuals
##         Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
##    -4.28e-15  0.00e+00  0.00e+00  7.62e-16  1.47e-15  5.17e-15 
##    
##     Parameter Estimates
##           Estimate  Std Error z value  Pr(>|z|)                             
##    gam51   0.525902 0.031182  16.86530 0.0000e+00 Grades <--- Intelligence  
##    gam52  -0.029942 0.030149  -0.99314 3.2064e-01 Grades <--- Siblings      
##    gam53   0.118966 0.038259   3.10951 1.8740e-03 Grades <--- FatherEd      
##    gam54   0.040603 0.037785   1.07456 2.8257e-01 Grades <--- FatherOcc     
##    gam61   0.160270 0.032710   4.89979 9.5940e-07 EducExp <--- Intelligence 
##    gam62  -0.111779 0.026876  -4.15899 3.1966e-05 EducExp <--- Siblings     
##    gam63   0.172719 0.034306   5.03461 4.7882e-07 EducExp <--- FatherEd     
##    gam64   0.151852 0.033688   4.50758 6.5571e-06 EducExp <--- FatherOcc    
##    beta65  0.405150 0.032838  12.33799 0.0000e+00 EducExp <--- Grades       
##    gam71  -0.039405 0.034500  -1.14215 2.5339e-01 OccupAsp <--- Intelligence
##    gam72  -0.018825 0.028222  -0.66700 5.0477e-01 OccupAsp <--- Siblings    
##    gam73  -0.041333 0.036216  -1.14126 2.5376e-01 OccupAsp <--- FatherEd    
##    gam74   0.099577 0.035446   2.80924 4.9658e-03 OccupAsp <--- FatherOcc   
##    beta75  0.157912 0.037443   4.21738 2.4716e-05 OccupAsp <--- Grades      
##    beta76  0.549593 0.038260  14.36486 0.0000e+00 OccupAsp <--- EducExp     
##    psi5    0.650995 0.033946  19.17743 0.0000e+00 Grades <--> Grades        
##    psi6    0.516652 0.026943  19.17590 0.0000e+00 EducExp <--> EducExp      
##    psi7    0.556617 0.029026  19.17644 0.0000e+00 OccupAsp <--> OccupAsp    
##    
##     Iterations =  0 

#------------------- McArdle/Epstein latent-growth-curve model -----------------
# This model, from McArdle and Epstein (1987, p.118), illustrates the use of a 
# raw moment matrix to fit a model with an intercept. (The example was suggested
# by Mike Stoolmiller.)

M.McArdle <- scan()
365.661     0           0           0           0
503.175     719.905     0           0           0
675.656     958.479    1303.392     0           0
890.680    1265.846    1712.475    2278.257     0
 18.034      25.819      35.255      46.593     1.000
 
M.McArdle <- matrix(M.McArdle, 5, 5, byrow=TRUE)
rownames(M.McArdle) <- colnames(M.McArdle) <- scan(what="")
WISC1 WISC2 WISC3 WISC4 UNIT
 
mod.McArdle <- specify.model()
C -> WISC1, NA, 6.07
C -> WISC2, B2, NA
C -> WISC3, B3, NA
C -> WISC4, B4, NA
UNIT -> C, Mc, NA
C <-> C, Vc, NA,
WISC1 <-> WISC1, Vd, NA
WISC2 <-> WISC2, Vd, NA
WISC3 <-> WISC3, Vd, NA
WISC4 <-> WISC4, Vd, NA

sem.McArdle <- sem(mod.McArdle, M.McArdle, 204, fixed.x="UNIT", raw=TRUE)
summary(sem.McArdle)

##    Model fit to raw moment matrix.
##    
##     Model Chisquare =  83.791   Df =  8 Pr(>Chisq) = 8.4377e-15
##     BIC =  41.246 
##    
##     Normalized Residuals
##        Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##    -0.15300 -0.01840  0.00132 -0.00576  0.02400  0.07760 
##    
##     Parameter Estimates
##       Estimate Std Error z value Pr(>|z|)                 
##    B2  8.61354 0.135438  63.5976 0        WISC2 <--- C    
##    B3 11.64054 0.168854  68.9387 0        WISC3 <--- C    
##    B4 15.40323 0.213071  72.2916 0        WISC4 <--- C    
##    Mc  3.01763 0.060690  49.7219 0        C <--- UNIT     
##    Vc  0.44343 0.047704   9.2955 0        C <--> C        
##    Vd 11.78832 0.674060  17.4885 0        WISC1 <--> WISC1
##    
##     Iterations =  37 

    ## End(Not run)
```

Besides, you may draw your path diagram (see the function _path.diagram()_) via the graph-drawing program _dot_; see Koutsofios and North (2002) and <http://www.graphviz.org/> (also free & open-source).  Below is a diagram I draw in _dot_: 

![](https://user-images.githubusercontent.com/163582/50353811-fcc59900-050e-11e9-8981-13f3ecc9d542.png)

In the end, I believe the function _boot.sem() _is worth our attention. As the model is too complicated, it's natural to doubt its stability, so _bootstrapping _surely will be a good choice, which might be more reliable than the coefficients' standard errors directly computed under the assumption of multi-normality. Bear in mind that bootstrapping takes some time, so be patient.
---
title: Seeking Chances to Popularize R in China
date: '2007-04-24T23:55:24+08:00'
slug: seeking-chances-to-popularize-r-in-china
---

Recently I have been negotiating with SCIGE Information Technology Co., LTD on some training-course issues, and I introduced R to them when talking about training courses of EViews. It seems that they're interested. So perhaps I've just found an intermediate by which I can popularize the domestic applications of R. Sure, there's still a long way to go, and I'm too clear that the greatest obstacle is the knowledge of statistics rather than statistical packages themselves. 

Besides, use EViews, SPSS, SAS and Stata to make money, and R for research. It's true.  

---
title: Life is Like a Bowl of Spaghetti
date: '2007-04-26T00:27:00+08:00'
slug: life-is-like-a-bowl-of-spaghetti
---

A man from China Asset Management Co.,Ltd (HuaXia JiJin) wanted to cooperate with me in the analysis of their data cubes. I'm quite interested.  

A doctor from the Institute of Botany, Chinese Academy of Science wanted to cooperate with me in statistical analysis and the usage of S-Plus in their English papers. I'm also interested in it.  

Perhaps I should go to People's Bank of China again this Friday, and I have to add some content to my slides.

An outline on the training course of EViews needs to be prepared these days. And it's the same with R.  

I must find some applications of Java, and I wonder whether there're special "libraries" or "packages" for statistics.

I'd better publish the first volume of the electronic journal of [COS](https://cosx.org) before May 7th.

And, I think I have another two reports to write.
---
title: English Classes for Postgraduates
date: '2007-04-26T22:14:13+08:00'
slug: english-classes-for-postgraduates
---

![English courses](https://db.yihui.org/space/english.gif)

I insist that such classes should be canceled, because what we need is no longer the knowledge from special English classes. To some degree, these classes are listed in the schedule of our teaching programs just in case that some teachers should have nothing to do and some students should totally forget English.

Many students in the major of statistics don't know words like "pilot survey", "positive definite", "imputation", "interpolation", "multicollinearity" and "eigenvalue", etc, so I wonder what's the use of English classes. Reading English textbooks and papers in our major will be much better -- usually we badly lack this kind of practice.  

This evening Yu WU asked me how to describe the place of an object below another, and I told him the word "beneath", but it seemed that he didn't know how to spell it. It's strange.  

---
title: The Setting of Undergraduate Courses in the Major of Statistics
date: '2007-04-27T23:09:04+08:00'
slug: the-setting-of-undergraduate-courses-in-the-major-of-statistics
---

Just now I chatted with Teacher Yan JIANG for about two hours on the topic of course setting for undergraduates (when we finished the discussion of a project from the China Customs). There are really so many problems that I can list examples one after another. I've always been holding a belief that elder students in higher grades should communicate with those in lower grades, telling them some useful experience -- no matter in the aspect of academic research or daily life. This is only too important. We need to simplify, or more precisely speaking, clarify their disordered directions.

Statistics is a discipline with strong logics. From traditional regressions (modeling the mean of Y) to generalized linear models (modeling a function of a certain parameter of Y's distribution), and to quantile regressions (modeling the quantiles of Y); from sampling without replacement (traditional sampling) to with replacement (the idea of bootstrap); from the central limit theorem (CLT) in probability theory to the confidence interval of the sample mean in sampling survey; ... There are just too many connected "lines", and accordingly, many orbits in which this discipline can develop. Teachers should put great emphasis on the training of the thinking ability of students and tell them how to make innovations (after they've mastered the basic knowledge).

For postgraduates, currently I have noticed a strange phenomenon, i.e. we are pursuing the "frontiers" of statistics, but lack some very very basic knowledge of statistics. For example, we're discussing LASSO every day, but we know little about computational statistics, or even we're using the principle of least squares every day, but we still have no idea about the computation of standard errors of the coefficients in a nonlinear least square (NLS) regression.  

![Graduate courses](https://db.yihui.org/space/courses.gif)

Problems always exist. The only thing we can do is neither worry nor complain, but make efforts to improve the current situation. Again, there's a long long way to go. Some day I shall discuss these problems with our teachers and students again.  

By the way, this Sunday I should go to the China Customs to help them with the usage of my R program, so I'm worried about small's going home. Just hope I can get back at noon. Besides, it seems that I'll be extremely busy in the "May Day" holidays; mountains of things to do...  

---
title: Harvie Krumpet
date: '2007-04-28T23:56:23+08:00'
slug: harvie-krumpet
---

I just remembered a sentence in the film script: "His world was turned upside down and back to front... again..."

![Harvie Krumpet](https://db.yihui.org/space/krumpet.jpg)
---
title: Conditional Inference
date: '2007-04-29T23:58:53+08:00'
slug: conditional-inference
---

It seems that we've never paid attention to the conditional inference (I mean most students and many teachers in our school). The idea is simple: re-randomize the data and perform tests again. Usually our inferences about data are based on certain distributions, or in other words, on the assumption of known characteristics of the population. Theoretical guys may love assumptions, but it's not the same with people who apply models and methods in practical life.

Re-randomization or permutation is, in my eyes, a strategic thought rather than a simple tactics -- the difference lies in the area of applications (a strategy is universal but a tactics is specific). Therefore we may apply this idea in many classical models and methods such as testing the equality of survival distributions in two or more independent groups in survival analysis, testing the independence of two numeric variables (similar to Spearman's correlation), and testing marginal homogeneity in a complete block design (similar to McNemar test in traditional statistics), etc.

I myself didn't recognize the importance of conditional tests (actually I didn't know there existed conditional tests!) until last winter holiday when I was reading the book "A Handbook of Statistical Analysis Using R" at home. And then I remembered a question raised by my teacher Jingping LI: how to perform a 2-sample location test when the variances of their populations are both unknown and unequal under the assumption of normality? She said she didn't know the answer then. I guess the reason why we feel such questions are difficult is that domestic textbooks of mathematical statistics almost never mention the wide application of conditional inferences.  
---
title: Notes on "The Effective Executive" (1)
date: '2007-04-30T20:13:12+08:00'
slug: notes-on-the-effective-executive-1
---

Factors that prevent our effectiveness are:   

1. Time is not belonged to ourselves;   
2. We are busy with trivial daily transactions;   
3. We make no contributions to our unit (or we don't regard contributions as important);
4. We are so restricted by our environment that cannot see changes in external world;

The book is by Peter F. Drucker.
---
title: Ludwig von Mises; Conditional Logistic Regression
date: '2007-05-01T23:59:14+08:00'
slug: ludwig-von-mises-conditional-logistic-regression
---

Today I continued to help Dongxu CHENG with her SAS installation. Usually I call SAS "Stupid Analysis System" and SPSS "Stupid Package for Social Science"; though I'm kidding, the fact is that they are sometimes really stupid... Here I just want to remind researchers of statistics a fact that ASCII data are always convenient for any software. Don't rely on Excel! Save your data in ASCII format (such as `*.txt`, `*.csv`, etc) before importing. Yes, it's not the same with databases. (In such cases, use special database language instead, e.g. SQL) 

This evening I thumbed through a part of [Ludwig von Mises](http://www.mises.org/content/mises.asp)'s book Liberalismus (German edition, 1927, and English translation as "[The Free and Prosperous Commonwealth](http://www.mises.org/liberal.asp)", 1962). Suddenly I felt that we should talk something about such economists in our CPC courses because some of their views are very practical and they will help us understand (meditate on) socialism further. Below are two paragraphs in the end of his book (I believe Mises is a great writer; readers can be easily affected by these words using parallelism):  

> "Liberalism is no religion, no world view, no party of special interests. It is no religion because it demands neither faith nor devotion, because there is nothing mystical about it, and because it has no dogmas. It is no world view because it does not try to explain the cosmos and because it says nothing and does not seek to say anything about the meaning and purpose of human existence. It is no party of special interests because it does not provide or seek to provide any special advantage whatsoever to any individual or any group. It is something entirely different. It is an ideology, a doctrine of the mutual relationship among the members of society and, at the same time, the application of this doctrine to the conduct of men in actual society. It promises nothing that exceeds what can be accomplished in society and through society. It seeks to give men only one thing, the peaceful, undisturbed development of material well-being for all, in order thereby to shield them from the external causes of pain and suffering as far as it lies within the power of social institutions to do so at all. To diminish suffering, to increase happiness: that is its aim.   
> 
> No sect and no political party has believed that it could afford to forgo advancing its cause by appealing to men's senses. Rhetorical bombast, music and song resound, banners wave, flowers and colors serve as symbols, and the leaders seek to attach their followers to their own person. Liberalism has nothing to do with all this. It has no party flower and no party color, no party song and no party idols, no symbols and no slogans. It has the substance and the arguments. These must lead it to victory."

This book can be [downloaded in PDF](http://www.mises.org/liberal/liberalism-portrait.pdf) or [read online](http://www.mises.org/liberal.asp). It has also been translated into Chinese in 1994. 

Conditional logitstic regression surely has nothing to do with Mises; that's just what I studied this evening. The idea is based on the _conditional probability_ of `$n_i$` "positive" ones in `$N_i$` cases in the $i$-th group. Usually we don't care _which_ `$n_i$` cases are "positive", but in conditional logistic regression, we do care -- that's why _conditional probabilities_ arises: P{_these_ ni cases are positive} / P{ni cases are positive}. Some relavent terms are "Risk Ratio" (RR), "Odds Ratio" (OR), and "Relative Risk Ratio" (RRR). The last one appears in _multinomial logistic regression_. 

And I also read a paper on instrument variables (IV) and general method of moments (GMM), but gave up at last because they were a little bit too difficult for me. My knowledge of mathematical statistics is still insufficient.
---
title: Notes on "The Effective Executive" (2)
date: '2007-05-02T23:58:36+08:00'
slug: notes-on-the-effective-executive-2
---

Some principles for the precedence of doing things:

1. Put your eyes on the future instead of the past. ("Get rid of the stale and bring forth the fresh." Don't waste time on past things which can no longer generate fruits. And "future" usually means new environments.)
2. Opportunities are more important than difficulties.
3. Choose your own direction, and don't follow others like sheep.
4. Set your aim high, make novelties, and don't merely pay attention to safety and convenience.  
---
title: I Hate VIPs
date: '2007-05-03T21:50:45+08:00'
slug: i-hate-vips
---

It's said that tomorrow there will be a certain "VIP" (sorry, but I always relate this acronym to Very Important Pig -_-!!) coming to our school, so we need to be well prepared. Today I saw many senseless disguises: cleaners cleaning the floor, students tidying up their rooms... So, when that VIP enter our school, he/she will see a pleasant campus, "Hmm... RUC is good...", he/she nods, with our leaders smiling beside him/her.

Actually what I hate are not VIPs, but I do hate inefficiencies caused by disguising.  
---
title: What Do I Use R for? (1)
date: '2007-05-04T22:56:58+08:00'
slug: what-do-i-use-r-for-1
---

I decide to write down some interesting daily work I do with R from today on. In the past, there've been many times that I wanted to get _a file list_ containing all the files in a certain directory (folder), but I find it difficult without a special software. Actually it's extremely easy in R; just use the function _list.files()_, e.g.

```r
> list.files("C:\\Documents and Settings\\Yihui Xie\\Desktop")
....
[3] Copula Structure Analysis Based on Robust and - Extreme Dependence Measures.pdf 
[4] Copulae and Their Uses (2002).pdf 
[5] Copulas and Credit Models (2001).pdf 
[6] Correlation--Pitfalls and Alternatives (1999).pdf 
[7] Correlation And Dependence In Risk Management--Properties And Pitfalls (1999).pdf 
[8] Estimation Of Copula Models For Time Series Of Possibly Different Lengths (2001).pdf 
[9] Estimation Procedures for a Semiparametric Family of Bivariate Copulas.pdf 
[10] Financial Risk and Heavy Tails (2002).pdf
....
```

Sure we may write the result into a file. (Use _write.table()_, _write.csv()_, etc.) For Windows users, _choose.dir()_ might be a helpful function to get the path of a folder, so we may as well use _list.files(choose.dir())_.
---
title: Selfish Guys
date: '2007-05-05T23:37:44+08:00'
slug: selfish-guys
---

Frankly speaking, I don't like Renmin University at all, but I love our school (the School of Statistics). Occasionally I go to the BBS of RUC and see what they're discussing, and my impression of that BBS is just a place of _endless _quarrels day after day. Every now and then I can see selfish guys quarrelling for their own interests -- they just cannot stand their profits being violated. It's a great shame for these so-called "educated" students.

Why don't we think more of others?
---
title: My Emacs Does Not Speak Statistics :-(
date: '2007-05-06T23:57:41+08:00'
slug: my-emacs-does-not-speak-statistics
---

After more than three hours' efforts I have to give up the complicated configuration of Emacs and ESS. I just downloaded R 2.4.0 again in order to use the function source() which is convenient for "tidying up" my codes. For example, below are my source codes (which look ugly):

```r
y=.1+runif(20,.2,1)
xx=c(1,1:20,20)
yy=c(0,y,0)
plot(xx, yy,type='n',xlab='x',ylab='y')
for (i in 255:0){
  yy=c(0,y-(1-i/255)*min(y),0)
  polygon(xx,yy,col=rgb(1,i/255,0),border=NA)
  Sys.sleep(.05)
}
```

When I use _source()_ in R 2.4.1, they look like:

```r
> source("D:\\Yihui\\R\\gradient.r", echo = T, max = 1000)
> y = 0.1 + runif(20, 0.2, 1)
> xx = c(1, 1:20, 20)
> yy = c(0, y, 0)
> plot(xx, yy, type = "n", xlab = "x", ylab = "y")
> for (i in 255:0) {
    yy = c(0, y - (1 - i/255) * min(y), 0)
    polygon(xx, yy, col = rgb(1, i/255, 0), border = NA)
    Sys.sleep(0.05)
}
```

We can also prevent `>` by setting the parameter `prompt = ""`. From R 2.5.0, the function has stopped tidying up my codes. That's a pity.
---
title: 'Numbers: What You Think Is Not What You Get'
date: '2007-05-07T23:59:22+08:00'
slug: numbers-what-you-think-is-not-what-you-get
---

For example:

```r
> 0.02 / 0.00000000001 - 2000000000
[1] 2.384186e-07
> 1000 * (.15 + .3) - 450
[1] -5.684342e-14
> 0.02/0.00000000001 == 2000000000
[1] FALSE
> 1000*(.15 + .3) == 450
[1] FALSE
```

Yes, this is too old a topic.
---
title: Where am I?
date: '2007-05-08T21:36:13+08:00'
slug: where-am-i
draft: yes
---

I've no idea. That's all.
---
title: A Story I Told to My Group Members
date: '2007-05-09T23:42:29+08:00'
slug: a-story-i-told-to-my-group-members
---

This evening our teacher Mr. Simple (?) let us discuss for ourselves. So I just began to tell jokes -- as I always do when Mr. Simple asks us to discuss some problems.

One of my stories was:

> Have you heard the story in which the little dog said "Yes" but the little pig said "No"?

Both Ms. Fan and Ms. Wang said "No" -- these two girls were very quick in response. Ms. Ding thought for a long long time -- hmm... it seemed that she was a little bit slow in action -- at last she didn't answer me.

Hey, have you ever heard this story? See what see? Say you! (kan shenme kan? shuo ni ne!)  
---
title: Interesting Man; Everything Dies?
date: '2007-05-10T23:56:30+08:00'
slug: interesting-man-everything-dies
---

Here are two quotations:

"Give a man a fish and he will eat for a day. Teach a man to fish and he will eat for a lifetime. Teach a man to create an artificial shortage of fish and he will eat steak."

Jay Leno

"I have a rock garden. Last week three of them died."

Richard Diran

(Perhaps somebody doesn't know what's "rock garden".)
---
title: EViews; R
date: '2007-05-11T23:57:53+08:00'
slug: eviews-r
---

Tasks tomorrow:

1. Preparing a training course on EViews.
2. A sampling program (using R) for the China Customs is waiting for me.  
---
title: Paradox
date: '2007-05-14T22:23:37+08:00'
slug: paradox
---

Sometimes you want prove something or solve a problem, but at last you find out it's just a paradox. Just like the case when you solve the equation $x^2 + 1 = 0$. People without knowledge of complex numbers surely will regard it as impossible, and for people who know imaginary numbers, they still have no idea about how big x is, even they know $x = i$ or $-i$.

Another case is a confidence interval `[0, 1]` for a proportion statistic p. It doesn't violate any statistical rules, but it's of no use.

What I mean is: you'll still be confused even if you've got an answer. However, answers are much better than mysteries.

![Paradox](https://db.yihui.org/space/chessmen.jpg)
---
title: Life is Tough
date: '2007-05-16T02:35:39+08:00'
slug: life-is-tough
draft: yes
---

More patience. More tolerance.
---
title: 'Mobile Phone v.s. Mouse: A Funny Habit'
date: '2007-05-16T21:58:39+08:00'
slug: mobile-phone-v-s-mouse-a-funny-habit
---

When I put my mobile phone on my right side in front of the LCD, usually I'll unconsciously take it as my mouse...

---

Two irrelevant quotations:  

> "If only we'd stop trying to be happy we could have a pretty good time."
> 
> --- Edith Wharton  

<!-- -->

> "Ask yourself whether you are happy and you cease to be so."
> 
> --- John Stuart Mill
---
title: Ridiculous
date: '2007-05-17T23:56:35+08:00'
slug: ridiculous
---

It's ridiculous. And I remembered some words; the general idea is (my own translation):

> [...] In these years, professors are giving talks everywhere and making money -- like businessmen more and more; businessmen are standing behind the teaching desks, giving lectures and writing books -- like professors more and more; doctors are not responsible and "kill" their patients at will -- like killers more and more; killers are very skillful and no "troubles" will be left -- like doctors more and more; stars are flirting and merely want money -- like strumpets more and more; strumpets are beautiful and the prices are clearly marked -- like stars more and more; policemen are tyrannizing over little people, bullying the weak and fearing the strong -- like local ruffians more and more; local ruffians are quite brave and firmly occupying their territories -- just like policemen; rumors have strong evidences and are almost factual -- like news more and more; news always exaggerates and speaks on hearsay evidences -- like rumors more and more. [...]

I wrote these words because some so-called "professors" are really disappointing.  
---
title: Northeastern People
date: '2007-05-18T23:55:58+08:00'
slug: northeastern-people
---

This evening Xiaoye LU from the China Asset Management Co.,Ltd invited me to supper and at last we were too full to come back because we ate too much...

He is from the northeast and 10 years elder than me. This guy is very extroverted and enthusiastic. I suddenly remembered some words describing northeastern people: dong bei ren dou shi huo lei feng. But somebody modified the last word just for kidding: dong bei ren dou shi huo lei gong. I believe this is reasonable, for northeastern people like talking aloud. (While LU doesn't talk so loudly)  
---
title: No Facts Exist in Your Brain
date: '2007-05-20T00:55:06+08:00'
slug: no-facts-exist-in-your-brain
---

Suddenly a simple law came to my mind: sometimes you think you are `_____`, but the fact turns out to be you are not.

For example, sometimes you think you are important, but... Or you think you are great, but... Or wise, but... Or useful, but...

It's simple, because everything you think is subjective. In your brain, there are almost no facts. I must declare that actually I have no interest in such philosophy.  

---
title: Directions
date: '2007-05-21T16:51:13+08:00'
slug: directions
---

I believe many people have quite vague recognitions of the "directions" for life, and I also believe "better late than never" is nothing but a magnificent excuse, for late is late.  

> "The surprising thing about young fools is how many survive to become old fools."
> 
> --- Doug Larson

Usually I put great emphasis on my directions and my little aims are very clear (while the greatest aim is not that easy to decide). I know what I don't understand, where I shouldn't waste efforts, and what I don't want. I often try to balance advantages and disadvantages. Everything can be balanced except time, so the critical problem lies in the management of time. My logic is always simple, just as what I think about statistics models. (For example, I summarize the whole subject of machine learning as far as I know to only one word: grid)  

---
title: Endless Reading of Books, Endless Killing of Pigs
date: '2007-05-22T21:39:18+08:00'
slug: endless-reading-of-books-endless-killing-of-pigs
---

Teacher MZ Tian is good at telling folksays...
---
title: Wolfgang Hardle
date: '2007-05-23T23:56:39+08:00'
slug: wolfgang-hardle
---

Just now I find this guy is indeed a guru... Wrote several books in a year... Published so many papers every year... OMG...

<http://www.wiwi.hu-berlin.de/Professuren/quantitativ/statistik/members/personalpages/wh>  

What's "worse", I find there're just toooooo many gurus.  

---
title: Celebration to An Ending of A Course
date: '2007-05-24T23:58:57+08:00'
slug: celebration-to-an-ending-of-a-course
---

The course "Qualitative Data Analysis" came to the end at last today. I'm so happy.

Mr Fei P praised our website "[the Capital of Statistics](https://cosx.org)" in the class (because he heard about this site from some students in Fudan University when he paid a visit there) and changed his viewpoints about me (in the last class he seemed to be very unhappy for my opinions).

Yet, there are still too many "pigs" to kill.  

---
title: Disappeared :(
date: '2007-05-25T23:16:37+08:00'
slug: disappeared
draft: yes
---

Why? ...

---

An irrelevant quotation about statistics:

> "A single death is a tragedy; a million deaths is a statistic."
>
> --- Joseph Stalin
---
title: Disappointed!
date: '2007-05-26T23:51:59+08:00'
slug: disappointed
draft: yes
---

Yes, really disappointed. Nothing. Over.
---
title: To Concentrate
date: '2007-05-27T17:44:35+08:00'
slug: to-concentrate
draft: yes
---

Leave it alone.

P.S. I dreamed of something last night, and surely it would not be true: merely my own ridiculous imagination. Ridiculous, indeed. Something's come back again. Something's got stranger. Something's gone away.  

---
title: A "Cool" Business
date: '2007-05-29T22:40:45+08:00'
slug: a-cool-business
---

This evening when I was having supper with some people from the China Customs, one of them told us a strange business: some guys in Canada split icebergs in the Arctic Ocean and bind the big block of ice to their ship, then drag it to Japan to sell it as pure fresh water; because the ice block is extremely big, it won't completely melt on the way (in the Pacific Ocean) -- when they reach Japan, they can sell the rest of the ice at a very high price.

Isn't it a cool business? (Maybe even "cold"?)

BTW, I'm ultimately temporarily free now. 10000 years old, 10000 years old, 10000 10000 years old!  
---
title: Radish Bait
date: '2007-05-30T23:57:54+08:00'
slug: radish-bait
---

Suddenly I realized it was not strange for a rabbit to fish with radish as baits, because rabbits just eat radish. Thus they think fish eats radish too. But fish will regard rabbits as fools.

---

Background of these words:  

> A rabbit was fishing in a river on the 1st day but got no fish... The rabbit was fishing in the river on the 2nd day but got no fish... 3rd day... nth day... And on the evening of this day, when the rabbit was just about to leave the river and go home, a fish jumped out of the river angrily, "YOU FOOL! Don't feed me with radish again! Or I'll beat you!"
---
title: Cold
date: '2007-05-31T23:59:21+08:00'
slug: cold
draft: yes
---

The weather is cold. And so are the words.
---
title: Everything's gonna be OK
date: '2007-06-03T01:38:17+08:00'
slug: everythings-gonna-be-ok
---

Take it easy, and ultimately there'll be a happy ending; just like a fairy tale -- "And they (usually the Prince & Princess) live happily ever after".

---

I remembered a joke just now:

> A teacher was very angry with one of his students because of that student's English composition: it was started with a story about the Prince and Princess long long ago (looks like a good composition, huh?), but the next sentence was, "The Prince asked the Princess, 'Can you speak Chinese?', and the Princess answered, 'Yes!', so they began to talk in Chinese", therefore, the rest part of the composition was completely written in Chinese -______-!!!! Orz...  
---
title: TODO List Next Week
date: '2007-06-03T23:55:44+08:00'
slug: todo-list-next-week
---

1. Today Dr KUANG told me that they had bought the website of 8sta (www.8sta.com), and I was quite surprised. I knew that web was to be sold, but I didn't expect it was at last bought by them. Thus I have to make a good plan for managing two websites (COS & 8sta) because I'm interested in this site too. However, the biggest headache will be the notions of these two websites. As the administrator, I must be very clear about the roles which they play respectively. This is what I'm to consider in the near future.
2. I'm going to make several modifications to the web pages of "BIstone Inc." after a glance at some pages: there're still much room to improve. Total time for this task seems to be rather limited.
3. A research project on statistical quality control co-operated with China National Research Institute of Food and Fermentation Industries, National Standardization Centre of Food & Fermentation Industry, P.R.C.; I have great interest in this project because of both the personality of my co-worker (I like his passion) and the usage of R again.  
---
title: 'Boosting: Good Good Study, Day Day Up!'
date: '2007-06-04T23:57:11+08:00'
slug: boosting-good-good-study-day-day-up
---

After writing down the title, I seemed to have forgotten what I wanted to say `*____*!!!`

OK, the idea came back to my mind again.

When Dr. CHEN was making a presentation on Leo Breiman's paper "[SOME INFINITY THEORY FOR PREDICTOR ENSEMBLES](http://salford-systems.com/doc/SOME_THEORY2001.pdf)", I suddenly got a further understanding on boosting and bagging (though I still don't understand some details). I believe there are some very very important issues about the philosophy of machine learning, which are actually hardly emphasized (or even mentioned) in Chinese books or papers I ever read.

Take boosting for example: I just describe this algorithm as "Good Good Study, Day Day Up" because it really "studies" from the past results to improve future classifiers.  

That's where the machine is "learning", I think.
---
title: Poor Google Pages...
date: '2007-06-05T16:12:54+08:00'
slug: poor-google-pages
---

Really disgusting! I don't know the real reason of "googlepages" being blocked, but surely something in "Google Pages" has violated something, again.

Now [my resume pages](http://xieyihui.googlepages.com/) has to be accessed through a certain proxy, e.g. <http://www.proxyhub.co.uk> (this is a good proxy which I'd like to recommend; so you can visit my resume in China [through this link](http://www.proxyhub.co.uk/index.php?q=kvrlvuhv.tbbtyrcntrf.pbz&hl=0011110001))  

![](https://static.flickr.com/38/123101128_930ac6f68f.jpg)

Actually this kind of blocking has no influence on my own visiting those blocked websites because I use [Firefox](https://addons.mozilla.org/en-US/firefox/) and an according add-on named "[gladder](https://addons.mozilla.org/en-US/firefox/addon/2864)", thus I can conveniently look up information in web pages such as [Wikipedia](http://www.wikipedia.org), etc. But for most novices not knowing proxy, a blocked site can never be accessed again.

---

An irrelevant quotation:

> "We are what we pretend to be, so we must be careful what we pretend to be."
> 
> --- Kurt Vonnegut
---
title: Klein Bottle; R (D)COM; R2HTML
date: '2007-06-06T22:19:12+08:00'
slug: klein-bottle-r-dcom-r2html
---

"Klein Bottle" is really a strange surface; can you imagine such a "bottle"? 

[![](https://math1.cgu.edu.tw/mediawiki-1.9.3/images/gnuplot/2547f0cb18ec91f6f723929df6baccad.png)](http://math1.cgu.edu.tw/mediawiki-1.9.3/index.php?title=Main_Page) 

And this animated one? 

[![](https://user-images.githubusercontent.com/163582/50254780-0a670b80-03b5-11e9-95d4-e9326cdfbd7b.gif)](http://alem3d.obidos.org/en/struik/kbottle/) 

I spent more than an hour trying to make a perspective plot using R but failed at last, because [the equations for Klein Bottle](http://mathworld.wolfram.com/KleinBottle.html) is a little bit complex and I don't know how to find a proper function to denote _z_ by _x_ and _y_. 

In the next few days, I will concentrate on [R (D)COM](http://sunsite.univie.ac.at/rcom/) and the package "R2HTML" in order to make better use of R in other Windows applications such as Excel. On second thoughts, I believe I should avoid programming using C++ because I'm not familiar with it at all and I'd better develop easier applications instead. 

---

An irrelevant quotation: 

> "Democracy means that anyone can grow up to be president, and anyone who doesn't grow up can be vice president." 
> 
> --- Johnny Carson
---
title: Hot Hot Hot
date: '2007-06-07T23:17:31+08:00'
slug: hot-hot-hot
---

The weather in Beijing is hard to endure. Thirty-six centigrade degrees. ft!

So let's tell cold jokes:

> An "excellent" student was asked to answer a question raised by his teacher, and the question was very very very difficult. However, he stood up and asked, "Should I answer it in Chinese or in English?" His classmates admired him so much because almost nobody was able to give an answer (even a Chinese answer). The teacher thought for a while, and preferred a Chinese answer, thus the student gave this one:
> 
> "Bu Zhi Dao."
> 
> The teacher was a little bit amazed and changed his mind. And this time, the student said:
> 
> "I don't know."  

\+ - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + - + -

A quotation:

> "Middle age is when your broad mind and narrow waist begin to change places."
> 
> --- E. Joseph Crossman
---
title: Chinese Characters in R Graphics
date: '2007-06-08T23:59:22+08:00'
slug: chinese-characters-in-r-graphics
---

With the help of [Dr. Paul Murrell](http://www.stat.auckland.ac.nz/showperson?firstname=Paul&surname=Murrell), I seem to have solved 90% of the problem. Cheers!

Actually I've never noticed the problem of drawing Chinese characters in a pdf/postscript device until Sizhe LIU brought forward a solution using the package pictex of [MiKTex](http://miktex.org/). I even didn't know such a problem existed then because rarely have I used Chinese texts in R graphics.

In order to use (simplified) Chinese characters in pdf/postscript devices of R graphics system, we need to specify the argument "family" in the function pdf() or postscript(). For instance,

```r
pdf("d:/cn.pdf", family = "GB1")
plot(1, main = "你好")  # use Chinese characters in the main title
dev.off()

postscript("d:/cn.ps", family = "GB1")
plot(1, main = "你好")
dev.off()
```

Usually there'll be no problem with pdf files, but it's a little more complicated for postscript files. If we want to view the ps file normally, the next step is to edit a [ghostscript](http://www.cs.wisc.edu/~ghost/) file named "cidfmap" which exists in a directory like `C:\Program Files\CTeX\gs\gs8.51\lib\`. A line `/BousungEG-Light-GB << /FileType /TrueType /Path(C:/Windows/Fonts/gbsn00lp.ttf) /SubfontID 0 /CSI [(GB1) 2] >> ;` should be appended to that file in order that [ghostscript](http://www.cs.wisc.edu/~ghost/) knows how to find the font BousungEG-Light-GB, which needs to be downloaded and installed from <ftp://ftp.gnu.org/pub/non-gnu/chinese-fonts-truetype/> beforehand. After all these work has been done, we can view the ps file using ghostscript now.

Besides, if we want to include such eps files (for R there's no difference between eps and ps) in a LATEX document, there's nothing different with the case when we use English graphics except that the dvi files seem to be abnormal. However, we can first compile the document to dvi, then ps, then pdf.  

I'm indeed grateful to Dr. Paul Murrell for his great help.
---
title: '"Big" Street'
date: '2007-06-09T19:26:58+08:00'
slug: big-street
---

Just now, a doctor was writing the address of our school, and beside her another doctor murmured "... No. 59, Zhongguancun Big Street...", which was written by the first doctor.

After I thought for a while, I eventually knew what she meant. That is:

> "Zhongguancun Da Jie..." Orz & `*__________*////`

By the way, I've read eight compositions today. And... finally got the degree of "permanent head damage" (PHD)... What a happy "numb"!   
---
title: I Hate Urgent Problems
date: '2007-06-11T20:38:04+08:00'
slug: i-hate-urgent-problems
---

I don't understand why these people never remember to ask for help earlier until the deadline is quite near. In the past, I've met a great many such people. Frankly speaking, I have absolutely NO sympathy for their difficulties. For instance, yesterday a guy sent a short message to me asking for help with his structural equation modeling, and told me the deadline was tomorrow. I couldn't help being angry. Perhaps they think statistics is just too easy and I have a lot of leisure time.

Just now, I remembered some "generous" words between friends, which often appear in TV plays: "Your XXX is my XXX, and my XXX is your XXX." (e.g. Your business is my business, and my business is your business. However, they're always modified as "My business is your business, and your business is still your business." Poor guy...)  

---
title: The Rabbit Fishing Again
date: '2007-06-12T21:57:37+08:00'
slug: the-rabbit-fishing-again
---

Mr. Rabbit went fishing again today. First he used some leaves from a tree as the bait but got no fish. Then used bread and got no fish either. Then earthworms, and none again.

Eventually he was rather angry. And... He threw 100$ into the river... shouting:

> "Damn you! What on earth do you want to eat?! Just go shopping for yourself!"

This story tells us that... freedom is important `+____+///`
---
title: How Can We Survive Such Dining Halls; Plum Blossom & Brownian Motion
date: '2007-06-13T18:26:46+08:00'
slug: how-can-we-survive-such-dining-halls-plum-blossom-brownian-motion
---

My poor supper turned out to be a fried steamed bun (mantou) and a cup of yoghourt, because the food in the dining hall was tooooo disgusting. 

Dear RUC, do you let live or not let live?! (hai rang bu rang ren huo a?) 

---

Today I suddenly found that the plum blossom was quite similar to Brownian motion @___@!!! Just take a look at this graph (it is in fact a trace for the Brownian motion on the 2-D plane): 

![](https://db.yihui.org/space/plum-blossom.gif) 

Below is the source R code (slightly modified):

```r
op = par(mar = c(0.5, 0.5, 3, 0.5))
n = 1000
x = apply(d <- matrix(rnorm(2 * n), ncol = 2), 2, 
    cumsum)
cl = terrain.colors(n)[rank(apply(d, 1, mean))]
plot(x, type = "n", ann = F, axes = F)
title("PLUM BLOSSOM")
mtext("--Made in R by Yihui", side = 3, adj = 1)
box()
for (i in 2:n) {
    points(x[i, 1], x[i, 2], col = cl[i])
    lines(c(x[i - 1, 1], x[i, 1]), c(x[i - 1, 2], x[i, 2]), col = cl[i])
    Sys.sleep(0.01)
}
par(op)
```
---
title: I'm Not Smart At All
date: '2007-06-14T19:36:48+08:00'
slug: im-not-smart-at-all
---

I have to admit that I'm far from smart or clever, and I believe perhaps more torture will come along with being smarter because I'm not yet the smartest. I always require nothing too much. I never regard myself as a somebody and dream to be a real somebody, but instead I'm just a commonplace nobody dreaming to be somebody.

It's cruel, again. Really.  

![](https://www.huangjiwei.com/blog/wp-content/uploads/2007/06/zuiniude1.jpg)
---
title: How Many Kinds of People Are There in the World?
date: '2007-06-17T15:34:30+08:00'
slug: how-many-kinds-of-people-are-there-in-the-world
---

There are two kinds of people in the world: the first kind is people who belong to these two kinds, while the second kind is people who do not.

Above is just one of the classification methods. Confused?

Here is another rule of classification: there are 10 kinds of people in the world -- one kind is people who know the binary system, while the other kind is people who do not.

This rule is much more difficult to understand than the first one.  
---
title: Statistical Inference and Common Sense
date: '2007-06-18T18:38:33+08:00'
slug: statistical-inference-and-common-sense
---

> "It is proven that the celebration of birthdays is healthy. Statistics show that those people who celebrate the most birthdays become the oldest." 

> --- From [GARY C. RAMSEYER'S FIRST INTERNET GALLERY OF STATISTICS JOKES](http://www.ilstu.edu/~gcramsey/Fisher.html) 

Some people may be astonished by such foolish inferences, but this is just what we do sometimes. And here's another less humorous joke: 

> THE RELATIVE IMPORTANCE OF STATISTICS: 
> 
> Albert Einstein died, and found himself on the train to heaven. In his car, there were four men sitting on separate benches. He walked up to the first who said, "Hello! My name is Bob, and I have an IQ of 186." Einstein smiled brilliantly, and said "Ah-hah! We shall discuss quantum physics together!" 
> 
> The second man greeted him with "Hello, sir. My name is Edward, and my IQ is 150." Einstein smiled, replying "Excellent! We shall discuss mathematics together." 
> 
> Moving on, Einstein shook hands with the third man, who said, "Hello; my name is William, and my IQ is 119." Smiling again, Einstein replied "Very good! We shall talk together about European history." 
> 
> The last man looked up glumly as Einstein approached, and said "Hi, my name's Chuck, and my IQ's only 87." Einstein replied sadly "I see -- we shall have to discuss statistics."</blockquote>

Today I happened to encounter a rule for classifying statisticians:

> Did you know that there are _three_ kinds of statisticians -- those that can count and those that can't. 
---
title: Be Honest
date: '2007-06-19T23:00:40+08:00'
slug: be-honest
---

Statistics is, to some degree, the science of repeated experiments. Of course, lies are difficult to be repeated, so we'd better be honest:  

> Three roommates slept through their midterm statistics exam on Monday morning. Since they had returned together by car from the same hometown late Sunday evening, they decided on a great little falsehood. The three met with the instructor Monday afternoon and told him that an ill-timed flat tire had delayed their arrival until noon.The instructor, while somewhat skeptical, agreed to give them a makeup exam on Tuesday.
> 
> When they arrived the instructor issued them the same makeup exam and ushered each to a different classroom. The first student sat down and noticed immediately the instructions indicated that the exam would be divided into Parts I and II weighted 10% and 90% respectively. Thinking nothing of this disparity, he proceeded to answer the questions in Part I. These he found rather easy and moved confidently to Part II on the next page. Suddenly his eyes grew large and his face paled. Part II consisted of one short and pointed question...
> 
> "Which tire was it?"  
> 
> --- From [GARY C. RAMSEYER'S FIRST INTERNET GALLERY OF STATISTICS JOKES](http://www.ilstu.edu/~gcramsey/Fisher.html)

By the way, today I found that [googlepages](http://www.googlepages.com) was set free again and I'm so happy for this good news.
---
title: Don't Want to Be Taught Again and Again
date: '2007-06-20T21:56:23+08:00'
slug: dont-want-to-be-taught-again-and-again
---

Perhaps you are from the Bayesian family... (although there's no such a "family" in statistics)

> A Bayesian and a Frequentist were to be executed. The judge asked them what were their last wishes. The Bayesian replied that he would like to give the Frequentist one more lecture. The judge granted the Bayesian's wish and then turned to the Frequentist for his last wish. The Frequentist quickly responded that he wished to hear the lecture _again and again and again and again_...
> 
> --- From [GARY C. RAMSEYER'S FIRST INTERNET GALLERY OF STATISTICS JOKES](http://www.ilstu.edu/~gcramsey/Gallery.html)

OK, jokes for statisticians are enough now; tomorrow I'll stop the quotations.
---
title: Confused by Clarity
date: '2007-06-21T23:38:57+08:00'
slug: confused-by-clarity
---

I believe there are two kinds of people who are most likely to be confused: those who have extremely vague goals and those who have extremely clear goals. This is not a paradox at all. Unfortunately, I find I seem to belong to the second type.

---

This evening when I was chatting with Dr. CHEN, he told me that he found himself still confused by some problems in regression analysis and it was the same with Dr. LI. Frankly speaking, I'm not amazed at all, because I'm clear that it is the same with me, too. Students in the major of statistics always look down upon the method of regression, but I can affirm that few of us have completely mastered the knowledge in the area of regression (even linear regression!).  
---
title: Who Knows
date: '2007-06-22T23:52:28+08:00'
slug: who-knows
---

In our life, dream is always important. So...

Just go to bed now.
---
title: The Most Dreadful Dream (Fictional)
date: '2007-06-23T21:55:24+08:00'
slug: the-most-dreadful-dream-fictional
---

> One day, I had a dream that I was attending an exam. When I woke up, I found my dream had come true (I was really attending an exam).  
---
title: TeXmacs is A Useful Stuff
date: '2007-06-24T23:57:52+08:00'
slug: texmacs-is-a-useful-stuff
---

[![](https://www.gnu.org/graphics/gnu-head-banner.png)](http://www.gnu.org/)

Website: <http://www.texmacs.org>

[GNU](http://www.gnu.org/) is really a toooooo great project!

I love this head, though I don't know what on earth is this animal... (a goat or a bull?)  

This evening I spent several hours on the study of TEXMACS, and there were many surprising features. Actually I just wanted to make some transparencies for a presentation next week, but PowerPoint® is too ugly for me, especially when we use mathematical formulae (the quality is hard to endure!). In contrast, TeX/LaTeX is much better, but it's a little bit inconvenient, so at last I chose TeXmacs. ([This is what I made in TeXmacs](https://github.com/downloads/yihui/yihui.github.com/Bootstrap-2007-Yihui-Xie.pdf))  

---
title: Moving Block Bootstrap
date: '2007-06-26T23:58:10+08:00'
slug: moving-block-bootstrap
---

![Block Bootstrap](https://db.yihui.org/space/block.gif)

My R code for illustration:

```r
x = 5 * sin(seq(0, pi, length = 90)) + rnorm(90)
plot(x, main = "Illustration of Moving Block Bootstrap (MBB)")
for (idx in 1:(length(x) - 30 + 1)) {
    rect(idx, min(x[idx:(idx + 30 - 1)]), idx + 30 - 1, max(x[idx:(idx + 
        30 - 1)]), border = "gray")
    Sys.sleep(0.5)
}
bt = sample(1:(length(x) - 30 + 1), 3, rep = T)
for (b in bt) {
    rect(b, min(x[b:(b + 30 - 1)]), b + 30 - 1, max(x[b:(b + 
        30 - 1)]), col = "yellow")
    points(b:(b + 30 - 1), x[b:(b + 30 - 1)], col = "blue", pch = 19)
}
```
---
title: It's Dark at 1:37 pm
date: '2007-06-27T13:38:17+08:00'
slug: its-dark-at-137-pm
---

The weather in Beijing is strange today... This morning I was waken up by the abnormal hot weather and found myself all of a muck of sweat, so I just took a bath before I went out.  

Look at the clouds now:  

![Clouds](https://db.yihui.org/space/weather1.jpg)

The lamps were on at noon!

![Lamps](https://db.yihui.org/space/weather2.jpg)

Terrible...
---
title: All Classes Are Over
date: '2007-06-28T22:46:41+08:00'
slug: all-classes-are-over
---

But there's still too much work to do :-(

---

By the way, yesterday I registered a domain name for myself: <http://yihui.org>. I plan to build a genuine personal website during this summer holiday and drop all my other websites such as blogs or spaces. I never have a sense of safety (or satisfaction) when using services which do not really belong to myself. Now you may visit `http://blog.yihui.org` for this MSN space, but the [homepage](http://www.yihui.org) is not available currently.  

---
title: Back
date: '2007-07-12T08:25:49+08:00'
slug: back
---

Happy times will perish, and so will hard times.
---
title: How to Write Email Addresses in the Web
date: '2007-07-13T22:45:24+08:00'
slug: how-to-write-email-addresses-in-the-web
---

What I hate most about the internet is the spam email, so I pay much attention to how to write my email address in the public web pages. Of course we cannot write it directly, because it'll be easily searched out by those spam-makers and the consequence will be terrible.

Therefore, sometimes I write `xieyihui (a) gmail.com`, sometimes `xieyihui AT gmail.com`, or `xieyihui # gmail.com`, but what I like most is `x@y` with `x=xieyihui & y=gmail.com`.  

---
title: I think, therefore I hate you
date: '2007-07-17T23:51:23+08:00'
slug: i-think-therefore-i-hate-you
---

Sometimes thinking is not that pleasant:  

> "If you make people think they're thinking, they'll love you; But if you really make them think, they'll hate you."
> 
> --- Don Marquis
---
title: Great Edison -___-||
date: '2007-07-19T19:08:39+08:00'
slug: great-edison
---

> "Do you realize if it weren't for Edison we'd be watching TV by candlelight?"
> 
> --- Al Boliska
---
title: Disgusting Space Interface
date: '2007-07-22T17:52:13+08:00'
slug: disgusting-space-interface
---

M$ never understands art design? Why the new version is so disgusting and inconvenient...
---
title: Here I Am
date: '2007-08-06T14:31:41+08:00'
slug: here-i-am
---

Well, this site is available at last: <http://www.yihui.org>

But it seems that I don't have enough time to look after it currently. I'm 2 bz...  
---
title: 在Windows下建立远程桌面连接
date: '2007-08-08'
slug: remote-connection-under-windows
---

网络最大的好处在于省去了很多跑腿的时间，而不在于有QQ可以聊天。Windows的远程桌面连接也算是节省跑腿功夫的一种办法，它可以通过网络让我们从自己的计算机连接到远程计算机，连接上之后就如同真正登录到那台计算机的系统一样，我们可以进行系统管理员的几乎所有操作。

设置很简单，必要条件是要在远程系统的Windows防火墙（控制面板-->Windows防火墙）中打开系统对远程桌面连接的限制（如下图），然后就可以从自己的计算机登录该远程计算机了，不过这里还有一个小前提——远程计算机的管理员必须设置密码！这样我们才可以用管理员的帐号和密码登录。

![Windows的远程桌面连接](https://db.yihui.org/imgur/b2Hqw.png)

如果想用两台电脑同时干活，或者同学同事谁的电脑出问题了，都可以采用这种方法登录操作，但我现在不知道远程连接究竟会占用本机多大的内存，通过任务管理器，似乎也没看到远程桌面连接很明显占用了多少内存。

---
title: 对于大型数据处理的“庖丁解牛”
date: '2007-08-12'
slug: deal-with-large-data-using-r
---

9号通宵大战，总算大致赶完了一篇报告。这个通宵让我创下了42小时不睡觉的记录，其惨烈程度可想而知。这篇 报告的主题是针对人口抽样调查数据进行分析，得出地区人口素质的一些描述性结论。其实我的相当大一部分时间都花在了处理数据上面，因为数据比较庞大，一共 有260万行、90个变量，数据文件大小在FoxPro存储格式下为424M，首先我要想办法将 FoxPro数据转化为一般常见的数据库格式，因此将之导出为dBase IV（`*.dbf`），这样SPSS就可以读了（当然也可以用R的RODBC包读）， 从dBase IV转为SPSS格式（`*.sav`）之后文件大小变为约1.5G，但很容易就能找出减小数据文件大小的办法：将以文本形式（String）表示的数字转化 为数值型（Numeric）即可（其实这份数据中的大部分数值都是用文本形式保存的，除非以零开头，都可以直接转换为数值形式）——我并不了解真正的 SPSS存储形式，但我猜测对于字符数据，至少要比数值数据多两个引号吧。初步整理之后，文件大小能缩减到400多M，当然我是不会直接用SPSS来作分 析的，因为速度太慢，一个变量的频数统计就要花半分钟时间，我可没那么多时间和耐心去等。最终我采用的办法是将数据存为纯文本格式，具体来说是逗号分隔符 数据（`*.csv`），然后开始用R来作分析。到这里，数据的预处理仍然没有结束，我为了让分析做得更快，又采取了一个策略：将每一列变量都单独存为一个数 据文件。要达到这样的目的，当然要首先把每一列变量提取出来，那么怎样依次提取变量呢？方法很简单，用SQL的select语句即可。文本文件当然也可以 当作数据库来处理，因为Windows一般会有文本文件的ODBC Driver，利用R的RODBC包结合SQL的select语句，变量就可以顺利被选择出来了。

以下是一个R程序示例：

```r
# 生成一个随机的Poisson矩阵
> x = apply(matrix(rpois(1e+05, 5), ncol = 10), 2, as.integer)
> colnames(x) = LETTERS[1:10] 将列命名为A-J的十个字母
> print(x[1:10, ]) 这是数据的形式
       A B C D E F G H I  J
 [1,]  2 2 9 3 5 5 3 8 3  5
 [2,]  4 5 1 2 6 3 6 6 4  7
 [3,]  7 4 4 3 2 3 5 1 8  5
 [4,]  5 7 2 5 6 7 6 7 4  3
 [5,] 10 3 5 4 6 7 5 5 1  5
 [6,]  1 6 8 3 6 2 4 7 5  3
 [7,]  7 5 3 4 2 4 2 4 4  7
 [8,]  4 6 4 1 4 3 4 1 2  3
 [9,]  2 0 4 9 6 6 7 3 3 10
 [10,]  2 2 8 2 5 9 4 5 4  8
> f = c("c:/x.csv", "c:/x.RData", "c:/y.RData")
> write.csv(x, file = f[1], row.names = F) csv格式文件
> save(x, file = f[2]) 二进制文件
> y = x
> save(y, file = f[3], ascii = T) ASCII文件
> print(file.info(f)[, 1:3]) 看看三种文件的大小对比
             size isdir mode
 c:/x.csv   213189 FALSE  666
 c:/x.RData  64389 FALSE  666
 c:/y.RData 203336 FALSE  666
> require(RODBC) 加载RODBC包
# 注意，"Text Files"只是我自己命名的一个数据库连接，
# 请按照图1、图2的步骤建立文本数据库驱动的连接
# 这里也可以将odbcConnect()的参数设为空字符串""
# 这样系统会自动弹出选择ODBC连接的对话框
> channel = odbcConnect("Text Files")
> print(sqlColumns(channel, "x.csv")[, c(1, 3, 4, 6)])
   TABLE_CAT TABLE_NAME COLUMN_NAME TYPE_NAME
 1       C:\      x.csv           A   INTEGER
 2       C:\      x.csv           B   INTEGER
 3       C:\      x.csv           C   INTEGER
 4       C:\      x.csv           D   INTEGER
 5       C:\      x.csv           E   INTEGER
 6       C:\      x.csv           F   INTEGER
 7       C:\      x.csv           G   INTEGER
 8       C:\      x.csv           H   INTEGER
 9       C:\      x.csv           I   INTEGER
 10      C:\      x.csv           J   INTEGER
# 要依次保存所有的列，只需要把这里的SQL语句放在循环中即可
# 比如paste("select", i, "from x.csv", collapse = " ")
# 让i在LETTERS[1:10]中循环
> sqlQuery(channel, "select A,B from x.csv")[1:10, ]
    A B
 1   2 2
 2   4 5
 3   7 4
 4   5 7
 5  10 3
 6   1 6
 7   7 5
 8   4 6
 9   2 0
 10  2 2
> odbcClose(channel) 关闭ODBC连接
> file.remove(f) 删掉前面生成的三个文件
```
 

![新建数据源（控制面板-->管理工具-->数据源 (ODBC)；添加）](https://db.yihui.org/imgur/rdlDQ.png)

图1：新建数据源（控制面板-->管理工具-->数据源 (ODBC)；添加）

![Microsoft Text Driver](https://db.yihui.org/imgur/3GH3V.png)

图2：Microsoft Text Driver

用R处理完数据之后，预处理过程才算真正结束了，这里要特别提一句的是，由于R的`save()`函数默认采用二进制存储方式（而不是直接存储ASCII字符），数据的大小便可以被大幅度压缩，最后以二进制数据形式存储的这90个变量大小之和才50M左右——数据大小被压缩到原来的1/10。

这次采取的另一个节省时间策略就是[上一篇日志](/cn/2007/08/remote-connection-under-windows/)里 提到的远程桌面连接；我自己这台电脑跑起来比较慢，于是我把这些数据处理工作都交给了办公室的另一台电脑，在那里执行我的R语句，然后回到自己的电脑同时 做别的工作，等那边的计算结束之后再把结果复制回来就可以了。由于R的计算都是在内存（RAM）中进行，大家都知道读写内存的速度比读写硬盘或其它存储的 速度要快很多倍，R的计算速度尤其是在这种大型数据的情况下就显得极其快，频数统计（`table()`函数）往往都是半秒不到就计算出来了。 当然，这世上不存在绝对好或者绝对差的东西，读写内存必然对内存有一定的要求（主要是内存大小），比如当数据很庞大的时候，Windows下就很难把数据 一口气读进来。我前面将每一列变量单独存为数据文件的做法其实也是回避这个缺点，因为我的分析并不需要每次都用到所有的变量，而加载一列数据的时间也是很短的，用谁就加载谁。

---
title: Bo-Blog系统中Tags的大小写问题解决办法
date: '2007-08-12'
slug: prevent-lower-case-tags-bo-blog
---

在 Bo-Blog 博客系统中，Tags 默认都是被转化为小写形式的，不知道官方为何采取这种限定形式。我感觉大部分程序语言都是区分大小写（Case Sensitive）的，所以这种限制真是很奇怪。特别是有些专有名词根本就不能小写，看着 "odbc" "latex" "windows" 等写法我就会觉得不舒服。

这个问题也不难解决，花几秒钟Google一下，查出来PHP的大小写转换函数为 `strtolower()` 和 `strtoupper()`，再花几秒钟看看提交文章的这个表单（Form）中元素的 id（是 `$tags`），然后到 PHP 源文件中搜索一下 `$tags`，马上就找到了转换小写的地方：在 `admin/cp_edit.php` 的第344行有一句 `$tags_array=@explode(' ', strtolower(trim($tags)));`，把这里的小写函数去掉即可。

---
title: Google Maps：我在什么地方？
date: '2007-08-13'
slug: my-location-in-google-maps
---

<div id="map" style="width: 100%; height: 400px"></div>

<script src="https://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAtD6iPO97YnS5U_uBnl9rThR4eWQKjiHdHzdupEhI_33gu1WDmxRjcAv_JMsytB5qG4_31-p1gI_OyA"type="text/javascript"></script><script type="text/javascript">if (GBrowserIsCompatible()) {var map = new GMap2(document.getElementById("map"));map.addControl(new GSmallMapControl());map.addControl(new GMapTypeControl());map.setCenter(new GLatLng(39.9705, 116.301827), 16);map.setMapType(G_HYBRID_MAP);function createMarker(point) {var marker = new GMarker(point);GEvent.addListener(marker, "click", function() {marker.openInfoWindowHtml("Hello, I'm here! -____-&#124;&#124;");});return marker;}}var point = new GLatLng(39.9705, 116.301827);map.addOverlay(createMarker(point));</script>

也可以直接到[Google Maps](http://bit.ly/vZUsgd)上查看地图；关于这幅图的生成，可以查看我的网页源代码。

---
title: Netflix Prize（百万美元大奖）数据预处理的一个简单R程序
date: '2007-08-14'
slug: deal-with-netflix-prize-data-with-r
---

不知道这样一个程序要跑多久：

```r
files = list.files("training_set", full.names = T)
writeLines("movieID,customerID,Rating,ratingDate,movieReleaseDate",
   "training_set.csv")
for (i in 1:17770) {
   x = read.csv(files[i], F, skip = 1, as.is = F, stringsAsFactors = F)
   x = cbind(i, x, read.csv("movie_titles.txt", F, nrows = 1,
       skip = i - 1, as.is = F, stringsAsFactors = F)[1, 2])
   write.table(x, file = "training_set.csv", append = T, sep = ",",
       row.names = F, col.names = F, quote = F)
}
```

当我没加入第7~8行的`read.csv()`那一句时，程序在WinXP+奔四3.0GHz+512M内存下跑了47分钟把一个2G多的CSV数据文件写完了。不过等我用SQL语句去读其中一列时，发现内存终于不够用了。

[Netflix的奖金](http://www.netflixprize.com)是$1,000,000，呃，这么大一堆钱，做做梦吧。莫非这个奖还要比拼各家的计算机配置？国内啥时候能有这样的悬赏啊？

---
title: R的data frame怎么提取一列
date: '2007-08-14'
slug: extract-a-column-in-r-data-frame
---

看了这个帖子<https://cosx.org/cn/topic/7393>，把我笑喷了。楼主莫介意，丝毫没有取笑的意思。rtist一定哭笑不得，急坏了。

---
title: 重命名MySQL数据库
date: '2007-08-14'
slug: rename-mysql-database
---

很简单，RENAME一下就好了。语法：

```sql
RENAME DATABASE db_name TO new_db_name;
# or
RENAME SCHEMA db_name TO new_db_name;
```

这次一边做网页，也算是一边学习MySQL了。其实到现在为止基本上还是一个糊涂蛋。

---
title: 恨死Hotmail！恨死垃圾邮件！
date: '2007-08-15'
slug: hotmail-and-junk-emails
---

Hotmail要么是个白痴（别人可以轻易偷走邮箱里面的联系人信息），要么是故意发广告邮件。Hotmail的用户还是早点逃离吧。

现在垃圾邮件大致分两种，一种是“专业人员”发的，对此我们毫无办法，网络这东西，谁也逮不着谁（就算逮着了，现在有明确的法律制裁么）；另外一种垃圾邮件本来是可以避免的，那就是自己的联系人中某些人在某些网站注册用户，然后稀里糊涂把自己的联系人信息有意无意透露给了那些网站，最后导致的结果就是那些流氓网站无休止地给这些无辜的受害者发邮件说“您好，您的好友XXX在什么什么地方注册了，并邀请您参加，您要不要去啊？”我收到的一般都是英文的，大概形式就是这样：

> Hello, `***@hotmail.com` has added you as a friend on Crickee. `***` needs to confirm that you are friends. Please click this link to accept this friend request: `http://www.***.com/?ik=&^%&$^%#(*@!` It takes just a second. Thank you. `http://www.***.com`, it's free, fun and easy ;-)

痴线！傻子才会去点链接，点了链接无非告诉这些垃圾制造者：喂，我的邮箱是有效的，以后多给我发一些垃圾邮件吧！

---
title: 8月16日骑车又下雨
date: '2007-08-16'
slug: ride-in-the-rain-on-8-16
---

[两年前的今天](/cn/2005/08/ride-to-tianjin-in-16-hours/)，我冒着暴雨骑我的破自行车从北京到了天津；今天白天骑车去BIStone公司，结果晚上的时候下雨了。回来路上马上就想起了两年前在暴雨滂沱中几乎以游泳的形式骑车的情景。

---
title: 第一次拿手机给自己发了一条短信
date: '2007-08-19'
slug: send-sms-to-myself
---

狂汗，居然自己给自己发了一条短信。不过也不能算我脑子晕了，而是懒得查找联系人，于是到回收站找了一条短信直接回复（这样就不用输入手机号了），按了send键，才发现那条短信是我从发件箱删除的……发完过了三秒钟，就收到了自己的短信。

---
title: 砍头发
date: '2007-08-29'
slug: cut-hair
---

晚上吃完饭，去把头发砍了，不用顶着一大头头发了，轻松，尽管还要忙很多事情，心里没法轻松。

BTW，今天算是第一次见识女生砍头发，砍的单位可以以“根”来计算……我每次砍头发，看着大把大把地往下掉，就特别畅快。顺便转一个老笑话吧：

> “男生和女生理发的区别”
> 
> 男生
> 
> 甲：噫，剃头了？  
> 乙：呵呵，剃了.  
> 甲：真他妈傻！  
> 乙：滚！

> 女生
> 
> 甲：呀，你理发了！  
> 乙：是呀，今天我男朋友来  
> 甲：真漂亮！  
> 乙：还可以吧，我也不是很满意了  
> 甲：相当不错的，你看你留这种头发就很好看的，我就不行了  
> 乙：不是呀，你可以试试的  
> 甲：我不行的了。我的脸太圆  
> 乙：说得也是，你为什么不试试瘦脸霜呢？挺好使得  
> 甲：我试过了，也不行呀。  
> 乙：那你用用xx的，听说效果还是不错的  
> 甲：那个牌子的小丽用过了，没什么效果的  
> 乙：小丽的脸型多漂亮呀！还用瘦脸霜干什么呀！  
> 甲：就是呀，我觉得她长的多漂亮呀！特别像xxx  
> 乙：哦，对了。听说xxx拍了一不新电视剧，你看了吗？  
> 甲：我也听说了，不过一直没找到什么地方能下呀。怎么？你下了？  
> 乙：没有，不过男朋友给我带来。  
> 甲：你看看，你男朋友对你多好。我男朋友能有她一半就好了  
> 乙：你男朋友也不错的，那次你感冒了看把他忙的！  
> 甲：什么呀！我感冒还不是因为他！要不是陪她去买电影票能感冒吗？  
> 乙：哦，那次你们看的什么电影？  
> 甲：是xx没意思的。不过主演xx还是很帅的  
> 乙：xx？哦，就是演xxxx的那个吧！  
> 甲：就是了，他其实演技一般，就是那双眼睛特别迷人。  
> 乙：嗯，发型也很好的。我做头发的时候看有个人也做的那个发型  
> 甲：是吗？！！你在那里做的？那个发型很难的，我让我男朋友也做一个！  
> 乙：我在xx发屋做的。  
> 甲：哦，就是xx边上哪一家吧！  
> 乙：事呀。那里有个男生可帅了，就是他会！  
> 甲：你说的是长的像xxx的那个吧！  
> 乙：嗯！  
> 甲：我也注意他好久了，没想到手艺这么好  
> 乙：呀，我男朋友已经到了半天了，我下去接她了  
> 甲：好吧。白白  
> 乙：白白 ......

---
title: R2HTML：将R对象输出为HTML文件
date: '2007-08-29'
slug: r2html-package
---

虽说HTML语言简单，而且理论上用`cat()`函数就足够写文件用了，但我觉得Eric Lecoutre写的这个**R2HTML**包还是很有价值的，轻轻松松就可以获得漂亮的网页输出。

主要函数：

- HTML()：这是个泛型函数（generic function），会根据传入参数的类型（class）自动生成相应的HTML代码。
- HTMLbr()：熟悉HTML的人一看就知道，这是换行符`<br>`。
- HTMLhr()：同上，这是水平线`<hr>`。
- HTMLInsertGraph()：顾名思义，这是插入图片，即`<img src=... >`。

其实比较好玩的是即时生成HTML的两个函数：

- HTMLStart()
- HTMLStop()

它们会记录你在R中的一系列操作，最后用框架页的形式给出类似于日志（log）的报告。

---
title: 俯卧撑
date: '2007-09-02'
slug: push-up
---

先声明：若有巧合，纯属雷同。

晚上和Zhong & Mao几人一起吃饭，席间，Mao的老婆对我们说Mao在运动方面很懒，一周前就说要每晚做多少个俯卧撑，结果一周过去了也没见做。

我接过话来说，“不对吧，他只不过是每天晚上俯卧，第二天早上撑而已。”——呜呼，不知道大家的汗是不是火锅烤出来的。

---
title: 骑驴找驴
date: '2007-09-02'
slug: riding-and-searching-for-donkey
---

其实“骑驴找驴”是好几天前的事情了，不过还是要发布一下，以作纪念：本人某晚昏睡醒来迷迷糊糊，忘了两小时之前曾经把“猛蹬”借给Zhang了，因此三更半夜下楼之后一边嘴里念叨着已经把车借给别人了，一边往平时放车的地方走，Small大人疑惑不解，“你要干嘛？”，答曰，“去骑车。”——全然已经糊涂了。

---
title: 强国梦
date: '2007-09-04'
slug: dream-of-strong-country
---

[这篇文章](http://finance.sina.com.cn/g/20070810/00353868755.shtml)不错，不过貌似找不到电子书。
---
title: 用R编写自己的Package
date: '2007-09-04'
slug: writing-r-packages
---

> 本文已经过期，请参考统计之都上的最新文章：[开发R程序包之忍者篇](https://cosx.org/2011/05/write-r-packages-like-a-ninja/)。

若只想要一个粗略的包，其实也很简单，R 的 **utils** 包中提供了一个 `package.skeleton()` 函数，用它基本上就足够了。

```
package.skeleton            package:utils            R Documentation

Create a Skeleton for a New Source Package

Description:

     'package.skeleton' automates some of the setup for a new source
     package.  It creates directories, saves functions, data, and R
     code files to appropriate places, and creates skeleton help files
     and a 'Read-and-delete-me' file describing further steps in
     packaging.

Usage:

     package.skeleton(name = "anRpackage", list,
                      environment = .GlobalEnv,
                      path = ".", force = FALSE, namespace = FALSE,
                      code_files = character())
```


这个函数会在`path`下面生成一个文件夹，里面包含了`list`中的对象（函数、数据等），接下来我们需要对这个文件夹进行编译，用`R CMD build`就可以了。说实话，很久以来我都完全不知道`R CMD`这一系列命令是怎么用的，昨晚研究了好半天才大致明白，汗。

今晚编写一个包，发现在Ubuntu下用`package.skeleton()`函数会把我的源代码中的中文字符给改掉，我找了半天也没找到在哪里设置语言选项，于是只好现在Windows下把这个Skeleton做好了之后拿到Ubuntu下用`R CMD build`。两台机器上来回跑，才把一个包打好。

呃……急需Linux入门老师……虽说每次遇到问题能Google出来，但感觉还是办事太慢效率太低。

---
title: 又是一年开学时
date: '2007-09-05'
slug: new-term-begins
---
 
早上蹬车从西门到东门，一路上漫山遍野的车和人。每次放完假开学之后，总有一段“晕人”的时间。等到中午从国统局回学校时，发现人就更多了。额地神啊，真是不习惯。新生来了之后唯一的一点好处就是，食堂的伙食必然会改善几天，过段时间之后，师傅们的“抖勺大法”就要开始了。

今天在电梯里想起当年俺自己作为一个土孩子初来人大的一件窘事，那时候土孩子甚至不知道电梯该怎样操作，因此第一次去院办时，愣愣地看了电梯几眼，然后直接转身往楼梯间走，吭哧吭哧一路爬上了九楼。说起来还真有好多事情都是上大学之后第一次做，比如独自乘公交车，其实用计算机也算是其中一件吧，因为大学之前很少接触电脑，大一某一次去机房上机，到一台机器前研究了好半天没搞明白为什么不能开机，后来才知道是显示器没打开。现如今的孩子们，估计没有俺当年那样的了吧。

---
title: 猪肉涨价、查证的保安
date: '2007-09-06'
slug: expensive-pork
---

其一：早上起床，Li ZQ一边刷牙一边过来串门，看了我一眼，说：

> “我怎么觉得你又瘦了？你看看我，看这肉！”

我看他那拍得一颤一颤的肉，说：

> “不要以为猪肉涨价了你就可以来炫耀。”

其二：蹬着破车来到明德楼下，锁上车之后看到车框里的广告名片，于是就拿出来捏在手里准备扔到垃圾桶，结果走到门口时，我开始在兜里掏证件（进楼要查证），保安大约是看见我手里拿着卡片状的东西（其实是广告），还没等我拿出真正的卡，就已经对我说“请进”，一开始我还没反应过来。

---
title: 关于网页的小笔记：Firefox和IE、fieldset标签
date: '2007-09-06'
slug: notes-on-firefox-ie-and-fieldset
---

做网页时比较头疼的事情之一就是要不停地考虑兼容问题：一方面考虑不同的分辨率下的效果（1024 x 768、1280 x 1024等），另一方面就是浏览器的兼容（Internet Exporer、Mozilla Firefox等）。在我做网站的初期，我比较重视前者，因此做网页时经常换分辨率，那时候还特别重视800 x 600的分辨率，如今觉得这种小显示器可能已经只是少数了吧，因此还是以1024 x 768为中心设计网页的宽度（980px左右），保证在1024 x 768下面把屏幕基本填满，而在1280 x 1024下面看着也不觉得太窄就行；后来开始用Firefox时，发现IE和Firefox对HTML的解析有很多区别，因此开始琢磨浏览器的兼容问题。

昨天花了好半天时间把这个Blog的模板自己重新改写了一遍，这个过程中曾经对层（div）的对齐问题恼火了一阵子，因为设置body的文本对齐为居中之后，里面的div在Firefox下死活都不肯居中对齐，后来才明白，必须得设置div的左右边距为`auto`才行。总体感觉Firefox对HTML的解析还是好一些，比如本页右边的那些方框中的列表项我都设置了强制不换行（`white-space: nowrap;`）、隐藏多余的部分（`overflow: hidden;`），可是当鼠标移上去的时候，IE就会把多余的部分又给显示出来，而Firefox就不会。这一点我想了半天都没找出好办法解决，于是就那样扔着吧，不管了。

其实这次改模板的主要目的是想应用`<fieldset>`和`<legend>`这两个标签，顺便把灰色的背景改为白色、把引用`<blockquote>`和代码`<pre>`的样式重新设置一下。一段时间之前我曾经看到过一个叫[Planet PHP](http://www.planet-php.net/)的国外Blog站，当时特别喜欢它那种像Visual Basic里面Frame控件的格式，也就是这样的：

<fieldset style="padding: .5em; border: 1px solid red;"><legend>Here is the title</legend>The FIELDSET element defines a _form control group_. By grouping related form controls, authors can divide a form into smaller, more manageable parts, improving the usability disaster that can strike when confronting users with too many form controls. The grouping provided by FIELDSET also helps the accessibility of forms to those using aural browsers by allowing these users to more easily orient themselves when filling in a large form.</fieldset>

因此看了看它的网页源码，发现用的是`<fieldset>`和`<legend>`标签，本来之前觉得挺神奇，还以为是用CSS+表格作出来的，看了源码才知道原来这么简单。于是乎，我这个Blog页面也就改造成这样了。

关于引用和代码的样式，其中“引用”采用了一个“引号”的图片作为背景放在左上位置，而“代码”采用了上下两条水平虚线作为分界标志，这两种样式的字号都缩小为11px，不过在IE下面看不出11px和12px汉字的区别，但在Firefox下英汉的11px字号都确实被缩小了。

---
title: 网页中的图片点击放大效果：Highslide和Lightbox
date: '2007-09-08'
slug: highslide-and-lightbox
---

这两个网站是我所看到比较经典的JS图片放大效果网站：

- <http://vikjavev.no/highslide/>
- <http://www.huddletogether.com/projects/lightbox/>

前者是在页面内缩放，后者是采用的“全屏”效果，我看后者的代码稍微简单一些，就采用了后者，不过也借鉴了前者的一个放大镜图标，这样有助于提醒访问者他所看到的这幅图片时可以继续放大的；不过这个图标还费了我半天劲才让它在IE中也显示出来，主要是IE对CSS中文件路径的解析比较奇怪，而Firefox就能正确解析出来。

那么以后本站中的图片就可以有缩放效果啦！而且对于多幅图片，还可以以幻灯方式依次浏览，嗯，8错8错。

---
title: 开学了，谁最欢迎新生？
date: '2007-09-08'
slug: welcome-new-students
---

据说某校有这样一个横幅：

![开学了，谁最欢迎新生](https://db.yihui.org/imgur/y4owt.jpg)

---
title: 什么叫“统计意义”——莫名其妙的称谓
date: '2007-09-09'
slug: strange-statistical-significance
---

真不知道这个词是谁发明的，我本人对这个词也很反感；说什么什么东西具有“统计意义”，就好像是把责任全都推给统计学了，仿佛统计学给了人一个安全的保障，告诉别人这东西是有意义的。

这个词本身指的是P值（其实我猜想是从"statistical significance"一词翻译过来的：蹩脚的翻译），而我已经被人问了无数遍关于“显著性”的问题， 以至于我把这个问题直接放在了首页中"Any More to Say"的第1条。一言以蔽之，是否显著直接取决于决策者的风险偏好，同样一个P-value，可能有人认为显著，有人认为不显著。

之所以这些人要反复问这个问题，本质在于他们不知道假设检验，不知道P值是零假设的产物或者根本不知道零假设是什么，否则任何一个有正常逻辑的人都不会问这样的问题，而是自己马上可以做决定。P值越小，说明零假设的情况越不容易发生（越有把握拒绝零假设），知道这一点之后，怎么可能还要不断问别人是否显著？

---
title: 一个假冒伪劣老师的教师节
date: '2007-09-10'
slug: a-fake-teachers-holiday
---

大家常戏称某人为谢老师，不过我估计知道这其中“历史渊源”的人已经很少了，其实最初是科研楼的保安叫起来的，后来不幸被几位同学听到，觉得好玩，于是就叫开了。

作为一个假冒伪劣产品，公元2005年俺曾收到Shan, X. D.的教师节短信，而公元2007年的教师节，俺又收到Li, Z和Diao, L. Q.的邮件，Li给额发了贺卡，Diao的邮件让额也稀里哗啦了一番。

---
title: COS论坛上有个（些）发广告的白痴
date: '2007-09-11'
slug: cos-ad-spammer
---

这个（些）白痴隔几天就来注册一个用户名，然后发一个写EViews图书的广告，白痴大人发广告帖被我看见之后，我马上就会用关键词搜索一下，然后批量删除，为了对付这样的白痴，我特意改了论坛的程序代码，不让同一邮件地址的人注册多次，但这位（些）白痴真是够顽强，每次换一邮箱。好，我看你（们）有多少Email地址可以用，老夫从今天开始在这里直接公布你（们）的邮箱，让别的白痴给你（们）发垃圾邮件：

[pepe23@126.com](mailto:pepe23@126.com) [flashwo1@126.com](mailto:flashwo1@126.com) [flashwo2@126.com](mailto:flashwo2@126.com) (IP: 221.221.154.68) [flashwo3@126.com](mailto:flashwo3@126.com) (IP: 221.221.155.218) [flashwo4@126.com](mailto:flashwo4@126.com) (IP: 221.221.154.68) [flashwo6@126.com](mailto:flashwo6@126.com) (IP: 221.221.154.68) [flashwo7@126.com](mailto:flashwo7@126.com) (IP: 221.221.146.186) [prety168@yahoo.cn](mailto:prety168@yahoo.cn) (IP: 221.221.153.116)

这个（些）白痴每次都招人将个人信息发到他（们）的邮箱：[bookrj@sina.com](mailto:bookrj@sina.com) 或者 [bookcj@sina.com](mailto:bookcj@sina.com)

---
title: 9·11惨案
date: '2007-09-11'
slug: noisy-9-11
---

要是平时哪天看见我六点多在校园里走，那基本上都是通宵未眠的结果，今天六点多在校园里走，是被宿舍楼外面的钻机给活生生吵醒的，估计五点多就开工了，当时浓浓睡意战胜了高分贝的钻机，但到六点半实在忍不了了，那轰隆隆突突突唔唔唔昂昂昂嗡嗡嗡的声音震耳欲聋，只好向工人们投降，起床了。

在阳台上听见楼上有同志在朝施工的地方怒吼，不过可怜了这几位大侠， 人嗓子声音再大也比不过钻机的，他们吼叫了半天，无果，可能就悻悻回屋了。

起床后给Small大人的二位高堂发去了“新华社消息”，告诉他们今天学校是如何激情澎湃一大清早就开始庆祝Small大人生日的，他们看了短信一定很无语，哈哈。

顺祝Small大人生日快乐，万岁，万岁，万万岁！ 

---
title: 查找未阅读邮件的计算机手
date: '2007-09-13'
slug: search-for-unread-emails
---

易老师风尘仆仆跑到我这边办公室来，“谢益辉，请你帮个忙，我问了好几个人都不知道怎么弄，于是来请你这位高手了。”

我额上掠过一丝汗，我撑死算个计算机手（就是拖拉机手的那种“手”），肯定不算“高手”。屁颠屁颠跟着老太过去，知道问题是她有几封未阅读邮件，不过她死活就找不到在哪里，我心想，八成是垃圾邮件，因为这种情况我遇到过很多次了，垃圾邮件的手段之一就是改日期，让接收者的邮箱中有一封“很久以前”的未读邮件。这个问题本质上就是个SQL语句，无论是排序（`select * from YAHOO order by READ`）或是纯粹选择（`select * from YAHOO where READ = 0`）都可以，不过Yahoo!邮箱没有对已读/未读字段的排序，只有对主题、日期等字段的排序，于是我把眼皮往上抬了抬，“这里不是有‘查看’么？”

![查找未阅读邮件的计算机手](https://db.yihui.org/imgur/41ex6.png)

“这里不是有‘查看’么？” “这里不是有‘查看’么？” “这里不是有‘查看’么？” （回音）

最后结果是，未阅读的三封邮件中有两封垃圾邮件，剩下一封是别人刚刚发给她的，这个人也真奇怪，自己电脑时间是2004年也没发现，还是他自己故意改的？

事后，易老太遇见了四处溜达的林老太，又“高手”了我一番，我再次汗——林老太每次Excel或者杀毒软件坏了或者遇上自己的电脑伤风感冒食欲不振什么的就来找我帮忙，因此她一定深信不疑。

---
title: 一个概率问题：发短信怎样省钱？
date: '2007-09-13'
slug: sms-as-a-probability-problem
---

发短信时，我们经常会问一个二分类问题（binary），比如：我们在哪里哪里见好不好？你到哪里哪里等我好不好？……等等。其实问题完全可以改成肯定句：我们在哪里哪里见，你在哪里哪里等我……这样做的前提条件是，发消息的人知道对方回答“是”或“好”的概率大于否定回答的概率。这样的话，接收者就不必回复了，直接对方按说的办。毕竟小概率事件（否定回答）是不容易发生的；发生之后再采取行动（回复）也比经常肯定回答要省。

---
title: 终于搞定了中国分省市地图
date: '2007-09-15'
slug: china-map-at-province-level
---

今天费了半天劲，才一点点从GIS数据中把中国各省市的多边形“抠”出来。问题缘起于COS论坛上的这个帖子：<https://cosx.org/cn/topic/785>)，其实我后面的回复基本都跑题了，跑着跑着突然想起上学期上课的时候Prof. Peng, F曾经提到他当年是如何辛辛苦苦用作图软件去搞定地图图示的，我当时听着觉得不应该太困难，于是下课之后去告诉他用R可以很容易做出地图来，他当时问我是不是S-Plus（看来在他们脑子里还是S-Plus的名气大一点），我说类似但不完全一样，云云，最后他问能否作出重庆市的地图，我当时也没仔细注意这个问题，回来一看，`map("china")`还真没有重庆市。

之后我又花了很长时间找地理数据，其间联系过Victoria University of Wellington的Ray Brownrigg（**maps**和**mapdata**等包的作者），他说没有他也没有数据，告诉我要是我能搞到数据他也许可以给我一点Hints，不过我后来死活也没找到；于是开始打另一个注意，就是活生生去读一幅空白中国地图，从中获得线条（实际上是点）的坐标，然后再用坐标结合`plot()`把图形还原出来，后来发现这种方法做出来的地图太粗糙，而且面临最大的困难是很不容易把各省的坐标数据分开，这样对于地理信息展示是没有意义的。

今天再次找数据的时候，却鬼使神差地发现了国家基础地理信息中心的网站：<http://nfgis.nsdi.gov.cn>，里面可以免费下载GIS数据，我今天一眼就看见了国界与省界数据，各种数据都是一个zip压缩包，里面是`*.dbf`、`*.shp`和`*.shx`文件，这是`shapefile`的通用格式，R里面有**maptools**包可以读取（`read.shape()`函数），事实上作图的时候作出来是925个多边形（polygon），我到现在也没明白为什么会有那么多，不过顺利的是我已经知道哪34个多边形是我想要的了。下面是我的一个示例：

![中国分省市地图（借助R的maptools包实现）](https://db.yihui.org/imgur/EJMNL.png)

---
title: 无题
date: '2007-09-15'
slug: two-animals
---

这个有点意思：

![Hello，大马户！嗯？](https://db.yihui.org/imgur/NnaXhzX.jpg)

---
title: 哪种音乐播放器耗费CPU最少？
date: '2007-09-17'
slug: human-music-player
---

今天在外面游走了一天，傍晚不知什么时候下起雨来，开完会出门发现淅淅沥沥下个不停；冒雨去吃晚饭，再出来时仍然还在下，想打车非常困难，于是先冒雨走到地铁站，坐了几站之后出来再打车，这时候已经八点多，出租车司机都不太愿意拉人了，不过还好遇上一位老太也和我们一起等车，司机看见路边的老太就大发慈悲停了车（本来都没有打出“空车”的牌子已经打算回家了）。一番折腾终于回到了宿舍，洗了个澡，出来时Wu, Y问，

> “什么播放器耗费电脑CPU最少？”

他想找一款不耗资源的MP3播放器；Ou, P说，

> “Foobar吧。”

我想了想，说，

> “Li, Z. Q.吧。”（注1）

两人听了之后，大约过了三秒开始大笑。

## 外一篇：兔死狗烹

我出门的时候，看见垃圾桶里有个袋子，仔细一看，是Ou, P.用过的注会资料的袋子，他刚考完试，东西就扔垃圾桶了。我说，你这是兔死狗烹啊。

![Ou, P.用过的注会资料的袋子](https://db.yihui.org/imgur/ztK6L.jpg)

---

注1：本科的时候，Li, Z. Q.和我同一个宿舍，这位老大经常在晚上坐在床上一边听歌一边哭唱，其惨烈状超出我的描述能力。总之就是如泣如诉，唱到动情之时便憋着喉咙以便发高音，我们受不了的时候就朝他喊一句，

> “Li, Z. Q.，别哭了！”

这位老大夜里和早上又常看喜剧片，看到动情之处便拿被子捂着嘴死命憋着笑，我们时常担心他一口气喘不上来而&*^%#@!

---
title: 风吹草动惊蛇
date: '2007-09-18'
slug: human-perceptron
---

这个也有点意思（场面有点像炒股）：

![风吹草动惊蛇](https://db.yihui.org/imgur/M0E5N.gif)

其实这简直就是一个最经典的机器学习中的感知器（Perceptron），从传入Input经过中间的“训练”到输出Output——只不过这是一个糟糕的感知器。将它视作数值计算中的误差累积也未尝不可。

---
title: 换了个网站服务器
date: '2007-09-21'
slug: web-server-changed
---

这三天网站不能访问，原因可能是服务器IP被封掉了。今天下午看还没恢复，于是索性搬家算了，和COS论坛用同样的服务器，300RMB/年，300M网页空间+300M数据库（MySQL），价钱还行，只是服务器在南方，我以后访问起来速度会慢一些。为了稳定，只好这样了。

将来有票票了一定要自己弄一台服务器，省得像现在这样四处找地方安家，还得提心吊胆服务商会不会突然跑掉或者服务器出现什么灾难。

目前域名解析貌似还有点问题，`www.yihui.org`和`yihui.org`解析IP总有一个有问题，有时候前者是对的，有时候后者解析是对的，郁闷。

## 外一篇：心急吃不了热豆腐

这是补充前面的话。由于域名解析生效时间在24~48小时之间，而我之前见更改解析总是不起作用，因此改了好几次，现在知道麻烦了——每过一段时间，俺的域名解析IP就变一次。好吧，我收手了，先等着，看这股波动要波动到啥时候。

教训就是：做事还是别心急，只要方法是对的，慢慢走就是了，别瞎跑。

---
title: 连打开、保存这样的操作都不清楚，何谈编程序
date: '2007-09-24'
slug: basics-of-programming
---

忍了又忍，实在想发一句牢骚，COS论坛上有些问题让人真是哭笑不得。某大哥（or大姐）在R里写了个程序，关了R再打开，就说找不到之前辛辛苦苦写的程序了，问应该怎样保存，又问该怎样打开已保存的文件。我没有任何笑话的意思，但我实在觉得这种问题凡是会用计算机的人都应该明白。

---
title: 金山词霸2007中的一句错误翻译
date: '2007-09-24'
slug: error-in-kingsoft-ciba-2007
---

刚才看 excel 的解释，无意间看到关于 outstrip 和 outdo 的一个比较：

> Outstrip is often interchangeable with outdo but strongly suggests leaving another behind, as _in a contest_:

> Outstrip经常和outdo互换，但**在上下文中**它更偏重于把另一个甩在后面这个意思：

> It is a case of the student outstripping the teacher.

> 这是一个学生超过老师的例子。

显然译者当时看走眼了，把 "in a contest" （在一场竞赛中）看作了 "in a context"，挺奇怪的，我感觉一般用 "in _the_ context" 要多得多吧，"in _a_ context" 感觉就不太对劲。

---
title: 中秋节刚到，给大家拜个晚年了
date: '2007-09-25'
slug: mid-autumn-day
---

貌似这句话是有版权的……不知道没经过韩同学的授权不知道能不能随便用。总之，祝大家月饼节快乐！

---
title: 美国：美丽的国家；中国：中部的国家
date: '2007-09-28'
slug: beautiful-country-and-central-country
---

刚才在看这个网站的访问记录，CN和US访问量比率大约为27:1，随后是BR、DE、CH、CA……看着这些国家缩写，突然想起上次参加IARIW会议时，一位法国PhD好奇地问我，“听说你们把美国叫做'Beautiful Country'？而中国叫做'Central Country'？”我当时有点瀑布汗，不知道这是哪位中国大哥/大姐如此翻译给她的。我只好结结巴巴告诉她，"beautiful"可能来自"America"的"me"的发音（自己汗，是这样么，“美利坚”到底是谁翻译的）。

下次要是有老外问Law Country、Moral Country、Hero Country怎么办……

好了，作了半天心理准备，终于要开始痛苦地修改以前的程序了。

---
title: 千万不要一口气写500行以上的程序
date: '2007-09-29'
slug: dont-write-too-long-programs
---

直到现在我的心脏还在怦怦跳，原因只是因为昨天和今天一直在修改调试一个半年多以前编的一个抽样程序，刚才正式运行了一遍，总算基本上搞定了，不过在等待程序运行的几分钟里，心里还是极度紧张的——生怕什么地方又出错。

500多行的程序其实不算大，但是时间一长，各个变量的意思就需要花时间回忆（尽管有注释但仍需要理清思路），大脑跟着for/while的循环一起转圈，“绞尽脑汁”的“绞”大约就是这个绞法吧……写程序一定要模块化，分结构写，这样以后修改起来心理压力会小很多。这两天说是修改程序，其实相当大一部分程序都用在心理准备上了——看一大堆已经快忘记的代码确实是一件很折磨人的事情（简直就是酷刑）。

为了防止外界打扰，我一边修改一边戴着耳机听音乐，发现Celine Dion的这几首歌还不错：Immortality、My Precious One、A New Day Has Come，当然，那些经典的也都不错，比如Falling into You、There You'll Be等。我最喜欢的是这首[Immortality](http://www.youtube.com/watch?v=SGeROT6fNrs)。

---
title: 一个在线运行R程序的网站（南京大学地理信息科学系）
date: '2007-10-01'
slug: rphp-online-r-system
---

国内关于R的正式网站不多，以前东南大学有R的镜像，但现在看来基本上也已经荒废了，前几天abel介绍了一个在线运行R程序的网站（南京大学地理信息科学系）：<http://geoinformatics.nju.edu.cn/rphp/r/>

我觉得这个挺不错的，以后作演示就方便多了，只要可以上网，就能给别人展示计算和图示结果。

看看人家的[网络服务](http://geoinformatics.nju.edu.cn/index.php?option=com_content&task=view&id=58&Itemid=57)，再看看中国群众大学的网络服务，简直就只能用一个字来形容：太烂了！去年装模作样大搞英文网站建设，估计花了大价钱买了一个网站后台管理系统（这个系统在Firefox下就是废柴），如今已是破败不堪，有时候发不了新闻、有时候改不了模板、有时候添加不了用户，暑假期间还一声不吭弄丢了大量附件（因为这件事情我简直恨死这帮人了），总之要多烂有多烂，还不如开个FTP让各院系自己做网页往上传，管理起来也方便多了，也用不着差劲的网管中心瞎操心；学生上网条件的恶劣就不多说了……说网管中心技术烂也不是冤枉他们，除了擅长整天花大价钱引进烂系统，他们还擅长制作不符合W3C标准的烂网页，那[70年校庆的主页](http://xq70.ruc.edu.cn/main/)被人耻笑了都不知道（Firefox下会错位变形），字体竟然用的是微软雅黑（`font-family:Verdana,"微软雅黑", "宋体", Arial;`），服了这帮大爷，眼里只有Windows。本来网络是个很好的教育平台，国外很多大学随便找一个院系网站都做得比人大这些院系要好，只可惜摊上这么个网管中心，看三十年后有没有戏吧。跑题了，打住。

---
title: 自由度与自由
date: '2007-10-03'
slug: degree-of-freedom
---

我从来不觉得对“自由度”这个概念作出解释有什么用，或者说，把自由度与自由挂钩是一件没什么意义的事情。常常见人问，“为什么自由度是n - p -1（或者其它数值）”这样的问题，我认为，数学上证明了统计量有什么样的性质就足够了，干嘛要费尽心思去解释DF这个数字呢。自由度说到底在统计学里面最终是用到了**某个统计分布的参数**中（比如&chi;2、t或F分布等），是否解释数值的由来对于解决问题毫无帮助。样本标准差用n作分母对总体标准差的估计来说是有偏估计，用n - 1就是无偏估计了，非要琢磨一下这个-1是为什么吗？有的**整数**自由度琢磨半天也许七拼八凑能找出一种解释方式，那要是遇上**分数**的自由度呢，怎么凑？（样本量不相等、总体方差也不相等的两独立样本t检验往往就是这样，t分布的自由度不是整数）

Wikipedia上对于["Degree of Freedom"的解释](http://en.wikipedia.org/wiki/Degrees_of_freedom_%28statistics%29)也比较空洞，寥寥数语讲了一件盒子里摆球的故事，很简单，但也不知道用意何在（这是Wikipedia上至今为止第一个我看了之后觉得没讲清楚的页面）。

不过在搜索"Degree of Freedom"的时候倒是发现了[这个网页](http://www.bized.co.uk/timeweb/digging/dig_source_dof.htm)，里面关于正态分布和t分布的解释仍然像一些教科书一样给人一个完全糊涂的概念，认为用Z还是用t取决于样本量，大于30就正态了，否则就只能用t。扯啊。当然，它关于自由度的解释也仍然是：糊涂。

---
title: 车筐中的众生
date: '2007-10-05'
slug: life-in-bike-box
---

晚上蹬着自行车去东区吃饭，停车时发现车筐中有一张广告条，拿起来一看，原来是农民工在找体力活儿，还真是头一次看见这样的传单：

![车筐中的众生](https://db.yihui.org/imgur/INDkS.gif)

看着这样一张手写的广告传单，觉得还是挺辛酸的。

小小车筐，貌似早已成为广告宝地之一。在北京的学校里，尤其以打印复印的广告卡片居多，今天这复印社给你扔一张名片，明天那快印部给你丢一张广告，有时候骑车在路上遇见发传单的，不管你停没停车，甚至都直接往你车筐里放。不过这些都无所谓，我一般都把广告传单拿回来当草稿纸用了，但要是遇上节省的主子，给你一张双面都印的广告单，那便没办法做草稿纸了，于是只好折纸飞机（我桌上一大堆我折的飞机）。最要命的其实是有时候遇上某些懒同志，吃完冰棍儿什么的不愿意找垃圾桶扔袋子，就随手扔在你车筐里——俨然车筐成了垃圾桶。

---
title: 春天来了！
date: '2007-10-05'
slug: spring-in-autumn
---

在校园里游走，一幅暮春三月草长莺飞<sup>(1)</sup>的景象让我忍不住拿出手机把这些花花草草虫虫鸟鸟拍了下来。

![spring in fall 1](https://db.yihui.org/imgur/d1DXZ.jpg)

![spring in fall 2](https://db.yihui.org/imgur/AePr1.jpg)

![spring in fall 3](https://db.yihui.org/imgur/T2hkU.jpg)

![spring in fall 5](https://db.yihui.org/imgur/GQxnY.jpg)

![spring in fall 6](https://db.yihui.org/imgur/qqnTu.jpg)

![spring in fall 4](https://db.yihui.org/imgur/fx3Wa.jpg)

注意别把上图中那只蜂看倒了：虽然它的屁股长得像头，而头长得像屁股。当时为了拍这只蜂，真是费了牛鼻子劲，它采蜜的速度太快了，在每一朵五角星上大约都只停留半秒到一秒时间，导致我几乎给它拍了一套写真集。

---

注：(1) 麻烦小麻雀们友情客串一下“莺”了。

---
title: 将统计学的概念、方法和模型融入动画中
date: '2007-10-08'
slug: explain-statistics-with-animations
---

这个想法由来已久，但直至昨日才真正动手做，这项工程看起来有点野心勃勃，也正好借此机会把统计学的经典理论回顾复习一遍。

网址：<http://animation.yihui.org>

专门开一个二级域名用作动画展示。抱歉的是，我暂时不想用中文写……先跟鬼子们交流充分之后再考虑建一个中文版好了。同时对鄙人的蹩脚英文也抱歉一下……有砖头的请使劲拍。

---
title: 黑猫警长 · 洗澡花
date: '2007-10-09'
slug: cat-police-and-flower
---

（一）我：中午吃完饭在园子里溜达，看见一只硕大的黑猫蜷在苗圃下睡觉，于是走过去给这位警长大人拍了一张登记照。警长听见有人过来，只抬起眼皮看了我一眼，继续睡觉。学校里的猫整天见人，胆子就是大！

> 猫：中午吃完饭在园子里睡觉，看见一位瘦小的男子走到苗圃前观景，于是摆好Pose让这位狗仔队队员给拍了一张登记照。我听见一只蚊子飞过来，便抬起眼皮看了它一眼，继续睡觉。狗仔队怎么还不走，别打扰我睡觉！

![黑猫警长](https://db.yihui.org/imgur/9eJMw.jpg)

（二）我：继续溜达，突然发现一株漂亮的洗澡花（回来上网查了一下它的学名，似乎叫“紫茉莉”，“洗澡花”也是它的一种名字），开得挺happy，于是也用手机把它拍了下来。这花倒是勾起一些我小时候和家乡的回忆。（小时候我曾经浇水种过这种花）

> 花：继续晒太阳，突然发现一个年青的谢老大（回来上网查了一下他的学名，似乎叫“谢益辉”，“谢老大”也是他的一种称谓），玩得挺happy，于是也绽开笑脸伸出花枝对他笑了起来。这人倒是勾起一些我小时候和家乡的回忆。（小时候我就是被人浇水长大的）

![洗澡花](https://db.yihui.org/imgur/18Qrb.jpg)

这两则故事告诉我们一个深刻的哲理：这世界并非按个人所想象的方式运转的。哈哈。

P.S. 请五脚星同学自己负责写自己的那两段。

---
title: 关于网页的小笔记：Firefox、IE和JavaScript
date: '2007-10-10'
slug: notes-on-firefox-ie-and-javascript
---

昨天半夜被一个JavaScript的问题迷惑了好一阵子，然后才反应过来，这又是IE和Firefox的差别。主要问题是，Firefox对`document.all["id"]`这种获取页面内元素的方式并不太支持，而最好通过`document.getElementById("id")`这种更严格的方式来引用页面内的对象；对于IE而言，两种方式都可以。

之所以涉及到这个问题是因为我想在HTML页面中直接实现动画展示，省得还要费尽苦心去研究GIF文件格式然后读写GIF文件以便生成GIF动画文件，通过JavaScript的方式生成动画比研究GIF要容易多了，只需要调用Java脚本改变一幅图的src属性就足够了，然后用一个循环让图像“动”起来。示例参见：<https://r.yihui.org/misc/java.htm>页面底部（点击按钮观看布朗运动）

---
title: 点儿守恒定律 · 冷天的大脚丫子 · 名字
date: '2007-10-11'
slug: constant-luck
---

杂事三则。

（一）五脚星同学昨天昨天点儿顺，走路捡到了馅儿饼，回来说这辈子的运气都用光了，我说，那以后所有的发票刮奖都留给我刮好了（反正她的“点儿”变量已经服从一个退化分布了）。

（二）林老太太上午看见我，“嘿！~~大冷天的你还光着个脚丫子！不冷啊？”——我现在还穿凉鞋，老太看见后很吃惊，我说不冷啊。下午又看见我一次，“嘿！~你光着个脚丫子也不怕冷啊？”我又说一点都不冷啊，老太又叮嘱说这样容易生病，云云。我要是告诉她，其实……其实……我现在还睡着凉席，被子还是前几天刚套上的，估计老太会当场晕倒。

北京人儿都爱“嘿”啊，一见面就先“嘿”一声，然后开始讲话。

（三）昨天晚上骑着猛蹬去东区吃饭，恰好遇见下一级师弟们，询其名，一答曰“范坤”，我心想这名字好记。今天继续去东区吃饭，结果又遇见了，于是老远就喊，“犯困！犯困！”

---
title: 继续光着脚丫子在校园溜达
date: '2007-10-12'
slug: bare-feet-on-campus
---

晚上去吃饭遇见一师妹，也惊叹了本人的脚丫子。而上午林老太他们在外面做操，我从他们面前穿过，结果老太马上就对其他老师说，“你看看他！你看看他！……”我马上躲进赵老师办公室了。额地神啊，老太那架势，仿佛见了火星人。可是，我就是没觉得冷啊，十月一定不能穿凉鞋么。

从十一假期开始，基本上天天嘎吱嘎吱骑着小破车从西边往东边跑，吃那边的食堂。回来就顺路看望它们：

![光着脚丫子在校园溜达](https://db.yihui.org/imgur/Lyr9o.jpg)

![光着脚丫子在校园溜达](https://db.yihui.org/imgur/rJ7xF.jpg)

手机拍照效果极其不好， 对于浅色的花照出来基本上就是一片白，郁闷。我还一直认为与其花大价钱卖个好相机还不如学点Photoshop管用，看样子相机太差了也不行。

---
title: 速度的最终解决方案：不要用JavaScript调用任何与URL有关的对象
date: '2007-10-13'
slug: dont-call-url-with-javascript
---

为了MS IE能利用自身的缓存，真是让我想破了头。好在到现在终于找到了一种解决办法，其实所有的技巧都在于：**不要用JavaScript调用任何与URL有关的对象**。既然不能用JavaScript动态改变页面内元素（比如图形`<img src=... />`）的URL，那么，想要在页面内**动态**且**快速**显示图片的路基本上只剩下一条了，那就是CSS。基本原理是：利用JavaScript动态改变一个层（`<div id=...></div>`）的CSS属性，若想让它显示，则设置为`*.style.display = "block"`；否则，设置为`*.style.display = "none"`。通过对若干个层的依次显隐，一副动画就大功告成了。

当然，Firefox对这种办法也是支持的。至此，我才基本搞定了动画在网页上的显示方式——万里长征的第一步。

今天看JavaScript Reference顺便也了解到`window.onload`的作用，当一个页面在客户端加载完成之后这个函数就会被调用，因此可以事先在页面内放置一个“正在加载”的说明字样，等页面全都加载完毕了之后把这个说明隐去，并将动画的“开始”按钮设置为可用（`disabled = false`）。这样一个动画页面就完美了，吼吼。

依然参见：<https://r.yihui.org/misc/java.htm>（猛增速度，faster，直接把时间间隔减小到0秒，看看是什么效果）

## 外一篇：之前走了什么弯路

在此之前，我走的弯路太多了，现在综合起来也就一个特点：那些方法全都涉及到URL……

1. 比如设置图片的src属性（`*.src = ...`）
2. 比如设置表格的背景（`*.setAttribute("background", ...)`）
3. 比如设置对象的背景图像（`*.style.backgroundImage = "url(...)"`）
4. 比如把一个对象的HTML代码（包含图片标签）赋给另一个对象（`*.innerHTML = **.innerHTML`）
5. 等等

而对一个对象的显隐控制不会涉及到图片地址，只是单纯的显示或隐藏一个对象——实质上它一直都在这个页面里。

---
title: I Hate Microsoft Internet Explorer!
date: '2007-10-13'
slug: i-hate-microsoft-internet-explorer
---

NND，花了我六七个小时的时间，就为一个缓存问题，换了四五种方法（JavaScript、CSS方法都用过了），但在IE中始终解决不了。

为了让动画在网页中显示地更流畅，必须要先将动画的所有帧预先下载下来，否则等开始显示动画的时候就很可能会卡。Firefox可以顺利地将图片先放在缓存中随时供调用，而IE这个笨蛋在每次调用图片的时候都要**重新下载**，这样的话根本没办法流畅显示动画。

具体例子可以参见：<https://r.yihui.org/misc/java.htm>（最底端，点“Begin”开始，可以调整动画速度）

各位也不妨用不同的浏览器帮我测试一下，谢谢。也没准儿是我个人IE的问题……

---
title: 《欧历貳拾肆年》
date: '2007-10-14'
slug: ou-peng-birthday
---

公元2007年，在中国为欧历二十四年，论干支则为丁亥，属猪。当日四海升平，全年并无大事可叙，纵是气候有点反常，夏季北京缺雨，五六月间时疫流行，旱情延及山东，南直隶却又因降雨过多而患水，入秋之后山西又有地震，但这种小灾小患，以我国幅员之大，似乎年年在所不免。只要小事未曾酿成大灾，也就无关宏旨。总之，在历史上，欧历十五年实为平平淡淡的一年。

既然如此，著者又何以把《欧历貳拾肆年》注1题作书名来写这样一本专著呢？

2007年，在西欧历史上为**Open魔兽舰队**全部出动征英的前一年。当年，在我国的朝廷上发生了若干为历史学家所易于忽视的事仲。这些事件，表面看来虽似末端小节，但实质上却是以前发生大事的症结，也是将在以后掀起波澜的机缘。其间关系因果，恰为历史的重点。

由于表面看来是末端小节，我们的论述也无妨从小事开始。

这一年阳历的10月14日，北京城内街道两边的花卉尚未凋尽。天气虽然不算酷寒，但树枝几乎已光秃，不是户外活动的良好季节。然而在当日的午餐时分，大街上却熙熙攘攘。原来是消息传来，Open陛下要举行寿辰大典，文武百官不敢怠慢，立即奔赴皇城。乘轿的高级官员，还有机会在轿中整理冠带；徒步的低级官员，从**人大西门**到**九头鹰**，路程逾一里有半，抵达时喘息未定，也就顾不得再在外表上细加整饰了。

站在**九头鹰**门前守卫的禁卫军，事先也没有接到有关的命令，但看到大批盛装的官员来临，也就以为确系举行大典，因而未加询问。进九头鹰门即为餐桌。文武百官看到城乡门之前气氛平静，城楼上下也无朝会的迹象，既无几案，站队点名的御史和御前侍卫“大汉将军”也不见踪影，不免心中揣测，互相询问：所谓大典是否讹传？

近待宦官宣布了确切消息，皇帝陛下并未召集寿辰，官员们也就相继退散。惊魂既定，这空穴来风的午朝事件不免成为交谈议论的话题：这谣传从何而来，全体官员数以千计而均受骗上当，实在令人大惑不解。

对于这一颇带戏剧性的事件，欧历皇帝本来大可付诸一笑。但一经考虑到此事有损朝廷体统，他就决定不能等闲视之。就在官员们交谈议论之际，一道圣旨已由执掌文书的宦官传到内阁，大意是；今日午间之事，实与利部及鸿肿寺职责攸关。利部掌拟具仅注，鸿肿寺掌领督演习。该二衙门明知寿辰大典已经多年未曾举行，决无在仪注未备之时，仓卒传唤百官之理。是以其他衙门既已以讹传误，该二衙门自当立即阻止。既未阻止，即系玩忽职守，着从尚书、寺卿以下官员各罚俸两月，并仍须查明究系何人首先讹传具奏。

礼部的调查毫无结果，于是只能回奏：当时众口相传，首先讹传者无法查明。为了使这些昏昏然的官员知所做戒，皇帝把罚俸的范围由利部、鸿肿寺扩大到了全部在京供职的官员。

……\[省略五十万字\]……

时隔半小时之后，礼部移动营业厅的客服小姐终于给了各位官员最终的答复：寿辰庆典之时Open陛下的手机被打爆了，去营业厅**充话费**了，因此让各位官员等了很久，而事实上，寿辰大典的通知时没有错的。

因此我们的故事只好在这里作喜剧性的结束。欧历丁亥年的年鉴，是为历史上一部值得庆祝的总记录。

## 附录一

祝Ou, P大人生日快乐，万岁万岁万万岁！

## 附录二

再祝找工作顺利！

《欧历貳拾肆年》和我的“大”**五十**观

Wu, Y吃饭结帐时你欠我**五十大洋**， 别忘了还！

---

注1：故事背景其实是，今天中午我们一行人为Ou, P庆祝生日，去九头鹰点好了菜，结果Ou大人就出去接电话了，然后壮士一去兮不复返， 我们一桌人等了好半天才将这位陛下等回来。最后才知道是交电话费去了。请黄仁宇大人看在Ou大人的面子上饶恕本人的抄袭行为……阿门。

---
title: 开会了开会了
date: '2007-10-15'
slug: 17-big-conference
---

城管对一个推着小车卖栗子的人喊：

> “明天开会了，你可别出来了，谢谢啊！”

呃……今天发这种Joke貌似不太河蟹……

---
title: 我们来看看中国群众大学的网站技术有多差
date: '2007-10-17'
slug: poor-tech-in-people-univ-of-china
---

中国群众大学（以下称“群大”）马上就要举办七十年校庆了，大家是不是喜气洋洋不知道，总之是忙忙碌碌，庆贺啊，庆贺啊。嗯，很好，很河蟹。

可这网络似乎一天都不曾河蟹过，大四的时候曾经不知天高地厚地在一次有校长大人参加的网站评估会议上直接骂了网管中心，当时那位sama脸色很难看，在会上不断辩护，说你是外行，不懂，小伙子年轻表乱讲话，云云。太深的技术我确实不懂，不过有些东西是个人都能懂。

群大的网管中心在这几年办了不少好事，比如买了一个看起来很有技术含量的“数字人大”系统，不过因为这个系统技术含量**太高**以至于我们这学期选课、查询成绩都得用技术含量低一些的**老系统**，新系统必须留着在咱的新闻成果中大力报道说我们有XX牛系统实现了校园信息化云云；据说学校的各种软件采购大权也在网管中心，该中心也挺会买东西的，不过因为太有眼光以至于堂堂统计学院要求买SPSS、S-Plus、SAS都买不到，所以我们只好整天从学校[官方FTP](ftp://softwareftp.ruc.edu.cn/)上下载盗版软件用；还比如当年大兴英文网站，买了一套很有技术含量的网站后台系统，不过同样因为技术含量太高以至于大部分院系都没搞清楚怎么用这个后台，该中心提供的网站模板自己号称XHTML Standard，结果用[W3C Validator](http://validator.w3.org/)一查一堆错误，真是个大Joke，至于校庆网站的不规范就不再说了……

再次发牢骚的起因是刚才Yang, Q问我上学期成绩的事情，近些天老网站也同样登不进去了，更大的Joke是我从错误页面中发现了极其低级的网站漏洞，登录研究生院的错误信息是这样的：

```
Microsoft VBScript 编译器错误 错误 '800a03f6'

缺少 'End'

/iisHelp/common/500-100.asp，行242

Microsoft OLE DB Provider for ODBC Drivers 错误 '80004005'

[Microsoft][ODBC SQL Server Driver][TCP/IP Sockets]SQL Server 不存在或访问被拒绝

/xk/include/xk_util.inc，行5
```

最后一行告诉我们有`/xk/include/xk_util.inc`这样一个文件存在，好嘛，我们不妨就来瞅瞅[它究竟是什么](http://202.112.126.188//xk/include/xk_util.inc)，打开一看，乐了，连接数据库的ASP语句、判断用户是否有效的函数等等一览无遗，最可乐的是显然这个函数是很白痴的：

```
<%function isvalid()
if session("usrid")<>"" and session("usrinfo")<>"" and session("usrpwd")<>"" 
then
isvalid="1"
else
isvalid="0"
end 
ifend 
function%>
```

仅仅“判断用户ID等信息**是否为空**”这样的做法让我们很容易在登录进去之后通过修改学号等参数达到查看别人信息的目的，我曾干过这种不厚道的事情……谁让程序这么白痴呢……

错误信息中说第5行处错了，那个inc文件的第5行就是连接数据库的语句，既然出了错，说明数据库DSN已经不存在了，凭我的经验，研究生院最近八成重装了服务器，而没有重新在Windows中建立那个DSN。有兴趣的黑客不妨深入研究一下，我只啰嗦到这里。

---
title: 翻译R的菜单和消息
date: '2007-10-17'
slug: rgui-translation
---

因为R Translation Teams中文组的负责人Fei Chen在国外呆的时间太久，导致中文用得不太好，因此我想花点时间把R的中文菜单和消息重新翻译一下。过去那些版本的翻译确实有点看不过去，比如菜单"View"只翻译为一个字“看”，显然这是不合适的。

编辑工具很简单，从<http://developer.r-project.org/Translations.html>看了一下，Linux下用gettext，Windows用户可以用poEdit；先把R的源代码下载下来，里面有一个po文件夹，放的就是一些各种语言的翻译，当然zh\_CN的就是简体中文了。用poEdit打开，修改之后保存，默认就编译生成`*.mo`文件了，复制到`R-*.*.*/share/locale/zh_CN`下面，则万事大吉了。

[Ripley](http://www.stats.ox.ac.uk/~ripley/)那边已经打好招呼了，没准儿几个月后R发布下一个版本时，谢某的拙作就可以呈现给R中文用户了。吼吼。

---
title: Email啊Email……
date: '2007-10-20'
slug: email-email
---

经常回不完……遇到自己不熟悉的知识就先留在草稿箱中，等自己搞清楚之后才能回复。因此我的邮箱中常年堆积邮件……到现在还留有3月份没回复的邮件，估计到时候给人家回复了人家会疯掉的——这反射弧也够长的。

近两天动画片的网站上也许可以把[Bootstrap](https://r.yihui.org/stat/machine_learning/bootstrapping/)的页面做完吧。在考虑要不要把每个页面都用LaTeX编一个PDF文件，这样方便阅读。要不关于动画片也写一个Package提交给CRAN好了，他们应该会感兴趣吧（如同那个TeachingDemos包一样）。想了想，应该把rgl也纳入动画的范围内。这个工程越来越庞大，ft……

下周还要再去一趟海关，给他们培训培训我的程序使用方法。也在考虑要不要打叉讲点R的统计分析应用，或者讲点Excel也好，周四过去的时候，随意告诉一位科长一点Excel小技巧，他就高兴得不得了。

明天（应该今天） 要开张尧庭前辈的追思会，到时候肯定和那一年追思陈希孺前辈一样，将会有一些“江湖长老”出场。我等小辈就好好听着吧。

---
title: 出国的同志们呐，怎么就不早一点作好准备
date: '2007-10-22'
slug: early-preparation-for-going-abroad
---

晚上大四的Wang, H短信问我最近院里有没有什么项目可以参加，因为感觉PS上没什么可写，我心想这小孩平时怎么一心投入学习而不把出国的计划做得周全一些呢。小孩一边上统计学院的课，一边还跟着数学系上那边的数学课，挺辛苦的。犹记去年一次在图书馆第一次见这位小孩，还聊了很久（尽管我当时根本就不认识，后来还是通过别人打听的名字，汗），心底挺佩服这样的人。

这不是个案，接触到的好几个人都是这样。一心出国、出国、出国，外国的月亮是否更圆另当别论，至少要把计划作好吧，到了最后的几个月，才想起来原来除了上课、上自习、写作业，自己什么特长都没有，科研经历没有，Paper没有，最终被淹没在那90%的人群中。当然不容否认，很多都是优秀的同学，但我一直认为做事要有分位数（quantile）或者众数（mode）的概念，如果自己永远停留在90%的那一群人中或者总是众数中的一员（给别人当分母），那怎能让别人教授们觉得有理由看中并接收你呢？必须不走寻常路、提高核心竞争力。

唠叨完毕。

--------------

下周事务：海关的讲座（`*`）、统计局的人口课题（`*****`）、发酵院的程序（`****`）、Bootstrap的综述论文（`***`）、继续动画片网站（`*`）、构思[IASC2008](http://www.iasc-ars.org/IASC2008/index.html)会议论文的框架顺便考虑将初步成果投给[JDA](http://bidm.stat.fju.edu.tw/jda/)一篇英文论文（`***`）、推进Time Series的学习（`*`）。

我脑子里总是成天冒出很多很多主意，想法太多，真痛苦。挺想参加[useR! 2008](http://www.statistik.uni-dortmund.de/useR-2008/)的，可还没想到一个合适的论文点子。明年的[京津地区青年概率统计研讨会](http://math.bnu.edu.cn/statprob/Confs/11thYouth-3.doc)也想参加。想把那份《“统计之都”月度集萃》刊物办起来，又没时间构想和找帮手组织团队。想组织一个统计方法模型学习小组，把统计方法研究透彻，暂时也没时间构想。主啊，菩萨啊，以及Almighty God，赐予我时间和合作者吧。

---
title: 噔噔噔……哎呀我的脚！
date: '2007-10-23'
slug: feet-stuck
---

这本是中午的事情，由于下午跑腿去了忘了写，现补上：

中午在知三楼下听见“噔！……噔！！……噔！！！……”的高跟鞋声音由远而近，两女子从远处走来，快走到楼门口时，高跟鞋女子突然叫了一声，“哎呀！我的脚！”然后缓缓蹲下去。

把插进下水道井盖的高跟鞋拔了出来——那井盖上刚好有两个小孔，鞋跟儿正好对准了孔，一脚把鞋跟儿踩了进去。

我憋了半天，还是忍不住嘴角上扬了。

---
title: My Life as a Paparazzo
date: '2007-10-23'
slug: my-life-as-a-paparazzo
---

显然本标题模仿了麦兜My Life as McDull；Paparazzo是意大利语，意为“专门追逐名人的摄影记者”，即“狗仔队”（单数）。

我很自信我至少是一名中级狗仔队员，不过也是一名幸运的狗仔队员，因为亲眼撞上了不少八卦新闻。作案手法偶尔也比较残忍，令人发指。例如刚才在知三楼门口不幸撞见Wen同学从楼里出来，\[……此处略去细节八百字\]，刚准备进行狗仔跟踪，结果发现潜伏在灯火阑珊处Chen正瞪着明晃晃的眼睛看着我，只好作罢。改用狗仔大法第三章第二十八式“欲擒故纵plus打草惊蛇mix隔岸观火”，一路走一路高呼，“狗仔队来啦，狗仔队来啦”，硬是活生生将二人置于spotlight下供来往行人驻足参观。马上被Wen同学狠狠教训一顿，"Teacher Xie, **Do People Want Thick Road!!!**" 阿弥陀佛，罪过罪过。

上回还有一次，也是关于这二人，不过只有Chen出场了，他刚和Wen道别回宿舍，又被我撞上了，他没发现我，我遂故意不吱声骑着车在其后面慢慢跟，结果好景不长，刚跟了几步，远处Guo师姐走过来，看见我俩一前一后，（鬼知道为什么）竟然先和后面的我打招呼，大地啊，苍天啊，我就这样被前面的人活生生暴露了，实在是太冤了。

---
title: 真正写点东西真费劲
date: '2007-10-26'
slug: difficulty-in-writing
---

下午（周四）去北京海关讲抽样和我的程序，顺手把基本的四种抽样方法的动画演示给做了。晚上回来把它们做到网页中真是费了好半天功夫，到现在只是把简单随机抽样和分层抽样的演示做完了，整群和系统抽样仅仅只能把动画先放上去。

主要困难在于方法的介绍，动画倒是用R一下子就跑出来了。介绍方法时就得查资料，前因后果都得搞清楚（即使不写出来），还得概括。对英文也是一点点考验，不过相对于方法本身的介绍，英文倒也不是困难。

万事开头难，先做出一个大致的样子来，然后考虑往R主页里的链接中放，没准儿到时候就有帮忙一起做的啦。

抽样的地址在：<https://r.yihui.org/stat/sampling_survey/>

---
title: 不早了不早了……（外两篇）
date: '2007-10-28'
slug: not-early
---

昨晚两点睡的，今天早上醒来想着下午有个空间统计学相关的讨论会，于是九点多爬起来看一看MASS这本书的Spatial Statistics一章，开电脑遇见bbdotalk，说，“这么早就开始干活了啊，真是勤奋”，我说“不早了不早了”，他说，

> “下一句是不是‘该睡了’？”

事实上我的下一句是“太阳都晒屁股了”。

## 外一篇：终于开始穿鞋了

昨夜一场大雨，下得这天气哇凉哇凉的，早上开门伸出脚到阳台上一试，“矮呀马呀，该穿鞋了”。于是钻到桌子底下把鞋翻出来，换掉了凉鞋。明天林老太见了我应该不会再说我了。

## 外二篇：在明德楼苦练凌波微步

最近洒家为了庆祝“大大大大大大大大大大大大大大大大大”的胜利召开（瞎编的理由），于是开始每天爬楼梯，从一楼噌噌噌爬上十楼，今天特地计时，发现成绩已经到1分20秒，也就是平均8秒跑两段楼梯上一层楼，hia~hia~~

---
title: “统计之都”英雄榜（持续更新中）
date: '2007-10-30'
slug: heros-in-cos
---

“统计之都”自从2006年5月19日建站起（`difftime('2007-10-27', '2006-5-19')`），已经积累了约三万五千会员，其中卧虎藏龙有不少英雄人物，其实很久以来都想整理一下这一大批资源，只是迟迟未动手。凭我一双浊眼，必然也有漏掉的，从今天开始慢慢列举吧（ID排序、排名不分先后）：

- [abel](https://cosx.org/cn/profile/123)：数理统计是强项，R爱好者
- [amzon007](https://cosx.org/cn/profile/63)：医学统计（跑到美国去了，很久没在论坛上吱声了）
- [anita_jiu](https://cosx.org/cn/profile/1006)：SPSS，商务、市场方面的统计学`*`
- [anning189](https://cosx.org/cn/profile/3849)：R
- [areg](https://cosx.org/cn/profile/3878)：生物统计，R/S-Plus，异常勤奋的研究者（现在不知道在哪个草原上做试验，半年多没回论坛了）
- [bjt](https://cosx.org/cn/profile/336)：精通R（编写了[R frequently asked questions](https://cosx.org/cn/topic/7673)），也是LaTeX爱好者
- [colinisstudent](https://cosx.org/cn/profile/12)：认真负责的版主，COS的大功臣，对考研的同学帮助巨大
- [cran](https://cosx.org/cn/profile/209)：看ID就知道和R有某种关系，生物统计，MCMC，Bayesian，SAS，Mixed Model`*`
- [ECONOMETRICS](https://cosx.org/cn/profile/3813)：Copula
- [fire_cpp](https://cosx.org/cn/profile/5777)：Linux，R
- [hangover](https://cosx.org/cn/profile/241)：C语言，统计计算，MCMC`*`
- [huadli](https://cosx.org/cn/profile/1083)：SAS
- [ilikemath](https://cosx.org/cn/profile/1754)：数理统计
- [jyma](https://cosx.org/cn/profile/1781)：数理统计、机器学习
- [longoR++](https://cosx.org/cn/profile/10801)：参见[rtist](https://cosx.org/cn/profile/230)`*`
- [losttemple](https://cosx.org/cn/profile/9580)：SAS
- [momozilla](https://cosx.org/cn/profile/28289)：R，Emacs+ESS
- [Msmart ](https://cosx.org/cn/profile/496)：数理统计`*`
- [neige](https://cosx.org/cn/profile/16503)：R`*`
- [nurseshark](https://cosx.org/cn/profile/65)：认真负责的版主
- [pengchy](https://cosx.org/cn/profile/6119)：R，计算
- [redlou](https://cosx.org/cn/profile/7391)：数理统计，生物统计
- [robustreg](https://cosx.org/cn/profile/18223)：名如其人，稳健统计（robust statistics）
- [rtist](https://cosx.org/cn/profile/230)：数理统计功底比较扎实，熟悉统计计算，精通R，老本行在生物统计方面（这位“艺术家”是COS论坛的一大核心支柱，认真负责的版主）`*`
- [sheldonpeng](https://cosx.org/cn/profile/917)：发帖虽不多，但可以看出精通Java语言以及Java和R的接口（rJava包等）
- [shoeda](https://cosx.org/cn/profile/44)：SPSS
- [shunqinature](https://cosx.org/cn/profile/32587)：数理统计`*`
- [sociology](https://cosx.org/cn/profile/4418)：社会学，统计学，R
- [Statsfu](https://cosx.org/cn/profile/26735)：数理统计，SAS`*`
- [wintarcy](https://cosx.org/cn/profile/6513)：R，新来者，但具有钻研精神
- [wumaths](https://cosx.org/cn/profile/5828)：数理统计`*`
- [xifan](https://cosx.org/cn/profile/46)：经济统计，认真负责的版主
- [ypchen](https://cosx.org/cn/profile/20)：强项数理统计，开源软件爱好者
- [南田](https://cosx.org/cn/profile/11844)：数据挖掘`*`
- [謝邦昌](https://cosx.org/cn/profile/61)：数据挖掘，一位牛牛的和蔼的台湾Prof

对了，要不给[lucky](https://cosx.org/cn/profile/68)封一个“大力水手”的称号如何……

---
title: 要正儿八经学习服务器和Linux系统知识了
date: '2007-10-31'
slug: learning-linux
---

前些天煽动老板买服务器，今天基本确定了型号（IBM X3400），由于这一块知识比较欠缺，所以没敢煽动买太好的，先从塔式服务器下手吧。

对于习惯了Windows的人来说，Linux真是让人一头雾水，虽说基本也可以用用，但对于装软件什么的简直是一塌糊涂，`make`这个`make`那个的，屁股后面跟一大堆参数，也搞不清哪些是常用的；甚至软件装在哪个目录下也搞不清楚；各种软件之间的dependency也搞不清楚；顶多只会使用诸如`cd`、`mkdir`、`ls`、`cp`之类的白痴级命令。

被“瘟到死”毒害太深了……

---
title: 叽里咕噜叽里咕噜归来
date: '2007-11-01'
slug: back-from-cueb-talk
---

下午颠颠儿挤公交去了首经贸，应邀参加那边的统计周活动，[吭哧吭哧给讲了两小时](/en/2007/10/jokes-in-statistics-a-talk-to-be-given-in-cueb/)，后来才发现犯了大错：应该多留一些时间和听众互动的……

这种学校之间的交流很好，组织者挺花心思的。

在那边的教学楼看到了吴老的巨幅宣传照片，然后也看见一块展板写着鄙人的讲座介绍，下面写着RUC经济统计专业研究僧XYH、COS站长云云，还活生生给封成了牛人，看得我心里直哆嗦。由于特别强调了“经济统计”，我讲完之后有小孩来问我你为啥要学经济统计呢，我赶紧说我对经济统计一窍不通。还有小孩问数学好难咋办，我说我数学也很差，云云。

今天还差点酿成大错，要不是下午打电话确认一下地点，我肯定跑到东校区去了，后来才知道在本部丰台区，汗。

总算熬过一段繁忙期了，后面尽管还有不少任务（人口课题、会议论文、空间统计学、Bootstrap论文等等），但总的来说可以稍微松口气鸟。
---
title: 编写R程序包的基本步骤和注意事项[简略版]
date: '2007-11-06'
slug: steps-to-write-r-packages
---

> 本文已经过期，请参考统计之都上的最新文章：[开发R程序包之忍者篇](https://cosx.org/2011/05/write-r-packages-like-a-ninja/)。

这两天在忙着写一个R程序包“`animation`”，因此被迫得学习R包的基本写法，粗略看了看"Writing R Extensions"这本Manual，现提供大致步骤如下：

1. 系统准备工作：对于Linux系统来说就基本没什么需要准备的了，但Windows用户必须首先安装一系列的“[Windows Toolset](http://www.murdoch-sutherland.com/Rtools/)”，详细情况参见"R Installation and Administration"的Appendix E；其中[Rtools](http://www.murdoch-sutherland.com/Rtools/Rtools.exe)是必须的，但是为了能顺利编译LaTeX文档（帮助文件以及Vignette等），系统最好也装上[MikTeX](http://www.miktex.org/)。安装这些软件的时候尽量按照默认目录安装，否则你必须明白“环境变量”是什么意思（主要是其中的PATH）。安装完成之后可以打开一个Command窗口（开始-->运行：`cmd`）测试一下，例如Linux下的命令`ls`等能否在Windows的Command窗口（类似Linux的“终端”）正常运行，`ls`命令类似Windows的`dir`命令；关于LaTeX，可以用`latex -help`测试是否可以正常运行。
2. 装好软件之后如果上面的测试命令无法正常运行，那就得检查环境变量的PATH中是否包含相应的路径（有一些路径是在安装Rtools之后就会被自动添加的）。“我的电脑”-->“属性”-->“高级”-->“环境变量”-->“系统变量”-->PATH，这个里面应该包含诸如`c:\Rtools\bin; c:\Rtools\perl\bin; c:\Rtools\MinGW\bin;` 等一系列路径；为了`R CMD INSTALL`等命令能正常运行，`C:\Program Files\R\bin` 这样的路径也是应该包含在这里（取决于R安装在什么位置，这里是我安装的位置）。到这里基本的准备工作就够了。
3. R自身提供了一个构建包的框架的函数：`package.skeleton()`；这个函数对于写包来说非常方便，因为它会自动帮你把包的架子搭好，你要做的工作只是：写函数的源程序（*.R）和帮助文档（*.Rd）；函数用法参见我这篇Blog“[用R编写自己的Package](/cn/2007/09/writing-r-packages/)”，主要是参考R帮助，自己看吧。需要注意的是path参数，否则构造了一个框架自己都找不着放到哪儿去了（如果不指定path参数，那么构造的框架放在`getwd()`下面）。打包的函数会把你的functions放在R文件夹下，把data（如数据框）放在data文件夹下。
4. 包中的函数怎么写我就不说了。写好一系列函数（可能还有数据）之后，用`package.skeleton()`搭好架子，就可以在该文件夹下面开始修改、补充包的详细内容了。（1）DESCRIPTION文件，里面是关于你这个包的基本说明，包括版本、作者、版权、维护者、相关包等，里面需要看文档的可能只是Depends, Imports, Suggests, Enhances等那几项，稍有点费脑子；（2）帮助文档，这个在man文件夹下面，以Rd作为扩展名（R documentation），刚才的`package.skeleton()`函数已经把基本的项目都自动生成好了，我们需要把相应的内容填上，比如函数说明、参数说明、详细说明、返回值、示例、关键词（在R提供的关键词中选择）等。这些文本里面可以用链接\link{}、字体修饰\emph{} \code{}等，具体参见R-exts文档。
5. 修改好了之后就可以开始编译了；打开一个Command窗口，`cd`到你的包源文件所在的文件夹，比如你的包写在`C:\pkg`这里，那么就`cd C:\`，然后用`R CMD`系列命令，如检查包是否有错误：`R CMD check pkg`；编译包：`R CMD build pkg`（需要编译为binary的话就加上相应选项`--binary`）；安装包：`R CMD install pkg`；如果你的包有任何错误，在check的时候会给出提示。

这样一个R包就基本上完成了，build出来的`*.tar.gz`（或者binary形式的`*.zip`）就可以交给别人使用了（前提是check完全通过）。进一步可以为你的包写vignette，也就是PDF说明文档，类似一篇文章的形式。如果要写vignette的话，最好会用Sweave，这在R-exts中有相应的介绍，总体说来它的大致用途就是把LaTeX文档和R code结合起来，你可以在LaTeX文档中仅仅放R code，不必把code的输出（文本或者图形）事先准备好，Sweave文档在编译的时候会自动执行你的R代码生成相应的输出并插入到LaTeX文档中，这实在是太方便了——动态生成报告。Vignette文档（`*.Rnw`）放在包的`inst/doc`目录下，在build包的时候这个文档会被自动编译生成PDF（实际上是转换给LaTeX编译的），安装包的时候这个文档会被装到doc目录下。关于Sweave的用法也可以参见COS论坛上这篇帖子：<https://cosx.org/cn/topic/8434>，momozilla对Emacs、ESS和Sweave比较熟悉，可以向他请教。

编写包的过程中不妨参考一下别人的源文件，看大概是怎么写的。

注意事项：

1. 写代码的时候不要把TRUE/FALSE简写为T/F，虽然它们基本是等价的，但是这样写的话在编包的时候会给出警告和错误信息！我费了半天心思才琢磨明白这一点。
2. 注意LaTeX语法，在写帮助文件的时候有些符号如下划线_是不能直接用的，因为LaTeX语法要求这样的字符必须由\引导。如果Rd文件不符合LaTeX语法，build的时候也会报错。之所以提到下划线，是因为`package.skeleton()`生成的**数据文件**的Rd文件中包含下划线（不知道是否应该给R Core写邮件说明一下），这些下划线应该删掉。

---
title: SVG（Scalable Vector Graphics）太牛了！
date: '2007-11-08'
slug: awesome-scalable-vector-graphics
---

刚才在[Paul Murrell](http://www.stat.auckland.ac.nz/~paul/)的主页上无意间看到他在写一个包[gridSVG](http://www.stat.auckland.ac.nz/~paul/R/gridSVG_0.5-1.tar.gz)，心想这位大哥最近忙些啥呢，于是下载下来安装了试了试（主要是看见里面有animation）；以前也不知道SVG这种格式，我看Paul的动画是用SVG格式写的，于是又去Google了一下SVG浏览器，发现[Adobe提供这样的浏览器](http://www.adobe.com/svg/viewer/install/)。事实上Firefox已经支持SVG格式了（而且是Native Support！），暂时的缺憾是Firefox的animation模块还在开发中，没有正式发行。

装好Adobe SVG Viewer之后观看了SVG动画片，果然是太牛了！！相比之下我的animation包太老土了，苍天啊，为什么计算机技术进步这么快。

看样子下一步我得考虑SVG格式的动画片了（趁现在它还没有火爆起来），grid graphics也是一大重点。

---
title: Sir Arthur Conan Doyle对统计建模的指导
date: '2007-11-08'
slug: sir-arthur-conan-doyle-and-statistical-modelling
---

昨天看"Quotes of the Day"，很吃惊地发现原来《福尔摩斯探案集》中还出现过这样的话：

> ... "I never guess. It is a capital mistake to theorize before one has data. Insensibly one begins to twist facts to suit theories, instead of theories to suit facts."...
> 
> --- Sir Arthur Conan Doyle

我拿出中文版的书找了一下，在《波希米亚丑闻》那篇中还的确出现过类似意思的话。

> ……“我尚无任何可以作出推断的根据。在得到根据之前就妄加推测，是大错而特错的事。有的人在不知不觉中歪曲事实以适应得出的推测，而不是以推测来适应事实。而我们现在手头上只有一纸便条。看你能从中推断出什么来？”……
> 
> --- 《冒险史·波希米亚丑闻》 武铁民 雷春英译

在探案中，这是对推理的理性要求，在统计中，这就是对建模的**道德**要求：扭曲数据来适合模型还是改变模型去拟合数据？

---
title: 课程进度与眼界
date: '2007-11-10'
slug: course-progress-and-horizon
---

这二者对于学生来讲联系太紧密了，尤其是低年级学生，前者几乎完全决定后者：学到哪儿算哪儿。今天发此感慨，系找寻时间序列资料所致。本科的时候时间序列课用Wei的书作为教材，而且只讲了8章，这8章学得稀里糊涂倒不说，关键是后面还有Time Series中很漂亮而且很重要的内容一点都没提，诸如Frequency Domain、Kalman Filter、State Space，等等。前8章的分析都是基于时域（Time Domain），因此我们对于频域（Frequency Domain）一无所知。这真是一件可怕的事情。那时候数学分析中Fourier分析等内容都活生生浪费掉了。这就又继续造成一系列恶果，比如小波分析（Wavelet）等，又是一无所知。

所以上课跟着老师走是远远不够的。要开阔眼界。否则几年下来，一代不如一代。

---
title: animation包：人生第一份正式英文作品
date: '2007-11-12'
slug: 1st-version-of-animation-package
---

我花了一个星期的成果终于提交了第一个版本，现在我的"animation"包已经在CRAN主站上了：

<http://cran.r-project.org/package=animation>

现在Package source和Windows binary都已经出来了。这个包完全是用R语言写的，所以每个函数都可以直接查看源代码；若有Bug请向我报告，多谢。

这个包提供了两种动画方式：一种是在R里面的图形窗口中（Windows / X Window），另一种是通过HTML页面的形式利用JavaScript调用图形“帧”，这种方式生成的结果在大部分计算机上都可以浏览，不用装R。目前包含的动画函数有：布朗运动、交叉验证、K-Means聚类、Buffon投针计算pi、抛硬币模拟概率、K最近邻（k-Nearest Neighbor）方法。有些函数如KNN方法提供了交互式操作，即：用户可以与动画交互，KNN分类中我们可以自己用鼠标在平面上点击确定测试数据集的位置，确定好测试集之后，动画函数就会开始计算判定你所点击位置的点应该属于哪种分类。

详情请参考包里的Vignette文档（写得很罗嗦）。

P.S. 下一步的工作除了添加更多的动画展示函数以外，还得考虑SVG格式，我预感这种格式一两年之内肯定会火爆起来的。尤其是在网络上，矢量图形绝对是王道（文件小、清晰、可以和计算融合）。

---
title: 关于动画包接下来要做的几件事情
date: '2007-11-12'
slug: todo-list-of-the-animation-package
---

这几天不能继续写这个包了，先把预想的几件事记录在此，欢迎有兴趣的朋友们根据我的想法贡献代码。

包中要增加的函数（与动画无关的杂项）：

1. 动态生成Highlight软件的R定义文件，很简单，结合ls()函数即可。参见[这里](/en/2007/09/r-language-definition-file-for-highlight/)。
2. 根据一个文本文件自动创建RSS feed文件，这也很简单，因为XML的语法非常容易，略懂tag即可。
3. 重命名文件。比如对一批照片重命名为***1、***2、……，利用file.rename()即可。

与动画有关的函数：

1. Boosting的过程图示，如AdaBoost等。
2. Bootstrap。这个我其实已经写得差不多了，但我并不满意，打算重写，参见[这里](http://r.yihui.org/stat/machine_learning/bootstrapping/index.htm)。
3. CART。展示一个二维情况下搜索节点的过程。
4. Arcing。暂时没想好。
5. 随机梯度下降寻找线形分割直线。
6. 最速梯度下降。一维和二维情况。
7. Newton系列的优化算法。
8. 中心极限定理。
9. 回归分析中的诊断（离群点、杠杆值等）。
10. 置信区间的展示。参见[这里](/en/2007/10/demonstration-of-confidence-intervals-using-r-animated/)。
11. 四种基本抽样。参见[这里](http://r.yihui.org/stat/sampling_survey/index.htm)。

暂时就这些。现在开始干别的活儿了……另：今天拿到了我精心挑选的42本英文书，旁边书柜一层码满了，以后有的看了。

---
title: Type III Error（第三类错误）
date: '2007-11-13'
slug: type-iii-error
---

其实在半年多以前我对数据挖掘和机器学习还持有一定的反对态度，但后来这种态度逐渐转变了，甚至现在变成对经典统计学的内容开始持有一些怀疑态度（典型的例子如结构方程模型，我觉得它基本上就是统计宗教）。

我自己态度转变的根本原因其实直到近日看一段关于交叉验证（[Cross-Validation](http://en.wikipedia.org/wiki/Cross_validation)）的文字的时候才思考明白，原来冥冥中是[Type III Error](http://en.wikipedia.org/wiki/Type_I_and_type_II_errors)在指引我。在我听的课以及读的书中，还从未遇到过这样一种正式的表述：与Type I Error和Type II Error能到同一等级。具体细节参考Wikipedia，总之大意就是，用“正确”的方法解决本身错误的问题。

从关心模型到关心数据，进而关心怎样充分利用数据本身的信息，这必然是统计哲学和统计方法论的重大进步。参考Breiman（2001）在Statistical Science上的文章。

## 外一篇：好心的易老太

中午吃完饭噌噌噌往回走，路上遇见易老太和刘老太晃晃悠悠在路上也往办公室走，我和二位老太打了招呼，然后顺便向刘老太复了命，然后就回来了。过了一会儿，易老太噔噔噔跑到我这边办公室来，说“你是不是没有毛衣啊，没见你没穿，我那儿有几件”，我赶紧叩谢老太，说我有毛衣，只是没穿而已，不冷，云云。老太就回去了。想当年，刚来人大的时候，林老太也是这样。我对人大这所学校并没有太深的感情，但对咱学院还是有着十分深厚的感情的。易老太真是好心人……

---
title: 从二维数据到三维数据：光滑方法的预测
date: '2007-11-14'
slug: use-smoothing-from-2d-to-3d
---

通常统计所见到的数据都是二维的。注意这里“维”的意思，并不是指有几个变量就叫几维，而是指数据的存放格式。统计数据一般都是行列存放，行为观测，列为变量，这样组织一个二维表格。这种数据并不是可以包打天下的，尤其是到了空间研究的层面，这种数据就很不好办了。

比如，现有一个因变量z，两个自变量分别是经度long、纬度lat，我们想研究z在空间上的分布，而数据格式一般是这样：

    z long lat
    1 2.24 3.1
    2 4.27 6.4
    4 8.24 7.4
    ...

这样的数据能表现的只是一个个离散的点，而且若画到图上去，也只能画散点图，没办法将它连续化。我们最终的目的是找到这样的函数关系：`z = f(long, lat)`，这样的话我们需要的自变量是**网格形**的（Grid），而不是单列的。拿上面三行数据来说，我们得想办法知道 (long = 2.24, lat = 6.4) (long = 2.24, lat = 7.4)等等点对应的z值，这样在一个立体空间中我们才能把z的曲面完整的画出来；类似的，这样也才能把等高线图等图形顺利做出来。

那么如何知道“缝隙”中的点呢？答案之一就是光滑（Smoothing）：无论是样条（Spline）还是局部回归（Local Regression）或是其它办法。用光滑的方法去预测样本数据中本不存在的自变量集合对应的因变量值，这样整个三维空间中的所有点就都能知道了，进而等高线或三维透视图等图形也就可以做出来了。

这种思想用R非常容易实现，区区几行代码。要做的事情首先当然是建立一个光滑模型，比如LOESS（局部多项式回归）：`m = loess(z ~ long + lat, ...)`，然后结合long和lat的网格对m作预测，这个网格可以用`grd = expand.grid(long, lat)`生成，然后`predict(m, grd)`就得到一系列z预测值了。然后万事大吉。

```r
> expand.grid(long = c(2.24, 4.27, 8.24), lat = c(3.1, 6.4, 7.4))
  long lat
1 2.24 3.1
2 4.27 3.1
3 8.24 3.1
4 2.24 6.4
5 4.27 6.4
6 8.24 6.4
7 2.24 7.4
8 4.27 7.4
9 8.24 7.4
```

---
title: “春天在哪里”之饥饿版
date: '2007-11-15'
slug: im-too-hungry
---

这是今天中午饿着肚皮发明的：

> ……馒头在哪里呀，馒头在哪里，馒头在那小朋友的眼睛里……还有那会唱歌的小肚皮……

想当年高中的时候，我在语文课上最常干的事情就是仿写，把课文改得一塌糊涂；有一次仿《秋声赋》，改成《饥声赋》，写成周记（日记的Week版）交给语文老师，据该老师后来反馈说，当时把年级语文组老师都笑翻了。可惜的是我那周记本子如今已无迹可寻。凭着零星记忆，当时形式大约是这样：

> **益辉**子方夜读书，闻有声自**邻桌**来者，悚然而听之，曰：“异哉！”……余谓童子：“此何声也？汝出视之。”童子曰：“星月胶洁，明河在天，四无人声，声在**腹**间。”

> 余曰：“噫嘻悲哉！此饥声也，胡为而来哉？……**腰间裤带渐松**……念谁为之戕贼，亦何恨乎**饥**声！”

> 童子莫对，垂头而睡，但闻四壁**书**声唧唧，如助余之叹息。

这个描写的是上早自习的时候大家朗朗读书，而我在盼着下课吃饭的情景。

---
title: 夜书五百页
date: '2007-11-16'
slug: 500-pages-over-a-night
---

我非常讨厌通宵。但没办法……

赶报告，一夜之间制造出来一个570页的文档，也不完全是垃圾。大部分用R自动生成，图形、表格、题注、部分正文文字等等全都自动化输出。

一会儿九点还有事，我是不回去睡觉呢还是不回去睡觉呢还是不回去睡觉呢？好，回去睡觉！管它呢。

---
title: 服务器到了
date: '2007-11-16'
slug: server-arrived
---

今天得知订购的IBM X3400服务器到了，刚才去看了看，好家伙，巨大的个头，巨大的噪音，看样子是非得把它扛到学校网管中心去了，不然放在这里吵死人了。

两万多大洋的家伙，得好好利用。一方面把咱应用统计科学研究中心的网站搭好（征帮手！），把它的“应用统计”真正展现给大家看；另一方面把中心的大规模数据整理好，让服务器充分发挥它的计算能力。等一切都稳定下来，也可以考虑把COS网站搬回来放在自己服务器上，那样就可以开放上传附件功能了。这是后话。

当务之急，是本Linux白痴抓紧时间补习基础知识，包括系统本身以及Apache服务器 & MySQL数据库，以及一些远程操作的知识。（征师傅！）

---
title: Ubuntu Server：两眼一抹黑
date: '2007-11-17'
slug: ubuntu-server
---

就服务器的操作系统选择来说，Windows Server根本就不在考虑之列。今天拿一台机器试装了Ubuntun 7.10的Server系统，那只能用两眼一摸黑来形容：对着Command Line Interface（没有GUI，服务器也没有必要用GUI），完全找不着北。装了LAMP，基本的静态网页服务应该是能跑了。而对于昏天黑地的MySQL命令、Apache设置和PHP设置，还在继续眩晕中。

刚刚才知道怎样看自己的IP地址：ifconfig命令。ft。

作为Linux世界中的幼儿园级小盆友，只能继续自学了……

---
title: Friedrich Leisch评The R Book
date: '2007-11-19'
slug: friedrich-leisch-reviews-the-r-book
---

2007年Wiley出版的"[The R Book](http://www.bio.ic.ac.uk/research/mjcraw/therbook/index.htm)"为伦敦帝国理工学院的Michael J. Crawley所著，结果在[10月份的Rnews](http://cran.r-project.org/doc/Rnews/Rnews_2007-2.pdf)上面被Friedrich Leisch打成了马蜂窝。有意思。

在他的评论中，好几处都是针对排版问题的；说实话我还真是很少见统计界的人用MS Word写书或写文章，放眼望去大家全都是LaTeX。Michael的书中，严重缺乏结构感，整本书只有27章的序号，其它小节一律光秃秃没有编号，这也太可怕了，一章上百页，看半天看不到尽头，又不是读小说，谁受得了啊。里面R程序代码竟然不用等宽字体，这简直是常识了吧？哪有写代码用比例字体的？……如果用LaTeX，一般人都会乖乖用`verbatim`环境去排版程序代码，出来也就是等宽字体。

这作者也挺能写，1000多页的书，没有功劳也有苦劳了。
---
title: 聚合生存模型
date: '2007-11-24'
slug: survival-ensembles
---

近年来Ensemble的方法已经不算是什么新鲜事儿了，Bootstrap aggregating（bagging）、Boosting、随机森林等等。个人感觉这些方法的理论路线比传统的统计学要次要一些，不像以往的模型、分布、渐进理论等等那样套路化，而是集中精力在提出创意和想法并实现。至于数学推导，有时候甚至都是在创意实现之后再回头来研究的（或者拼凑的）。

现在还在思考准备提交给12月8日“[临床医学研究中的统计方法学术研讨会](http://stat.ruc.edu.cn/cn/notice/52039.html)”的论文。生存分析是医学统计的一大支柱分析，经典的参数、半参数模型基本上也定型，没什么挖掘价值了。那么现在只好眼巴巴指望能从机器学习的方法中找一点出路。可惜的是，这样的想法也被人做得差不多了，比如R界的活跃分子之一Torsten Hothorn，这位德国大叔在2005年干脆写了一篇"**Survival Ensembles**"，这下好了，整个世界基本清静了，还有啥可以做的？

只好从这些狮子老虎的牙缝中拼命扒呀找呀，看有没有他们没做的或没想到的，凑一凑，凑出一篇东西来（只能算是“东西”）。

P.S. 1 今天看到Ensemble的鼻祖竟然是John Tukey，他那本"**Exploratory Data Analysis**"真是孕育了不少思想。

P.S. 2 眼看着[useR! 2008](http://www.statistik.uni-dortmund.de/useR-2008/)还有六天就可以开始提交论文摘要了，到现在还一点正式的想法都没有。晕。等我写完生存分析的论文我得马上把我的动画论文写完投出去了（试试Teaching Statistics），然后考虑useR!的论文，然后赶紧把我的animation包升级一下；如果还有空，就该考虑明年IASC的那个会了。

---
title: 一己之见
date: '2007-11-25'
slug: all-opinions-are-biased
---

这一天，江湖上人称霸主的两位剑客，蚯蚓和毛毛虫终于要决斗了。

他们选了一根树枝，在上面彼此拔刀互砍

鉴！~\~鉴！~\~鉴！~\~

刀光剑影，你来我往打得不可开交

就这样整整战了一天一夜，

身心俱疲之下毛毛虫一个闪神，手中的剑被打飞...

蚯蚓见机不可失，一个箭步上前，把毛毛虫踩在脚下

毛毛虫说：

> 『哼！头可断血可留，要杀要剐随便你啦！』

蚯蚓竟然没有动手，移开脚转身便要离去。

毛毛虫感觉被羞辱，很生气的问：

> 『你为什么不杀我！？』

蚯蚓：

> 『像你这样的高手要是变成两个，输的恐怕就是我了。』

毛毛虫很不甘心，回到家中勤练武功，准备有天一雪前耻。

两年后，他又向蚯蚓下了战书，

同样的地点又是一场激战，这次打了两天两夜，

同样在心力交瘁的情况下，毛毛虫的剑又给震脱手了...

蚯蚓得意的笑了：

> 『承让了。』

赤手空拳的毛毛虫却突然大喊：

> 『还没结束呢！』

毛毛虫开始吐丝缠住蚯蚓，一圈一圈，一圈又一圈~~

蚯蚓即使握有手上的刀，被缠住仍然束手无策

蚯蚓心想『完了！这次换我栽在他手里了！』

就在蚕丝绕啊绕，蚯蚓感觉到快窒息的时候，

毛毛虫突然停手了！

蚯蚓用尽了最后一点力气：

> 『你什么意思！为什么不杀我！？』

毛毛虫：

> 『像你这样的高手要是会飞，我大概就永远赢不了你了。』
---
title: 第一次见到活的统计大牛们
date: '2007-11-25'
slug: see-live-gurus-in-statistics
---

我没去美国，不过见到了Data Mining和Machine Learning界的大圣Leo Breiman作讲座，还见到了Princeton的Robert Schapire讲Boosting（它基本上就是由Schapire最先提出的），我没去台湾，但也见到了支持向量机界的牛人Chih-Jen Lin（SVM界著名的软件库libsvm就是这几个人写的）的一个暑期班讲座。还有很多视频课程（例如还有很多名人诸如Tom Mitchell、Vladimir Vapnik），尽在这个网站：

<http://videolectures.net>

Breiman只留下了一场视频讲座，很遗憾；Schapire的Boosting课非常系统，不妨仔细把两个小时的课听完；Lin的英语口语不太好，毕竟不是native speaker，不过对于中国人来说，这样的英语可能更容易听懂，哈哈。

从这个网站的首页上就足以看出数据挖掘、机器学习以及统计学在当今世道上的盛行。

---
title: 死翘翘……缺失值……
date: '2007-11-28'
slug: damn-missing-values
---

第一次意识到缺失值是很讨厌的东西，尤其是缺失值很多的时候。

若数据的每一行都有缺失值，那么（若没有任何补救措施的话）：k最近邻（kNN）会失败，神经网络会失败，Logistic回归会失败，支持向量机会失败……

我的论文马上急剧缩减为“集成树”而不能写“集成分类器”了。

---
title: 发一个（无聊的）搬砖头Flash游戏：Bloxorz
date: '2007-12-02'
slug: flash-game-bloxorz
---

昨晚写完论文，收到一封邮件，给我发了个游戏，号称全球只有4个人通关，我当时就很怀疑怎么会有这么高智商的游戏，于是乎本同学（低IQ）就查探了一把：

<embed src="https://www.miniclip.com/games/bloxorz/en/bloxorz_miniclip.swf" allowFullScreen="true" quality="high" width="600" height="375" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" />

前前后后大约搬了四个小时才把33级搬过去，看来我也就只能玩玩这种简单游戏了。

另外需要说明的是，本游戏不适合有心脏病的同志们玩（就是块破砖头，没什么恐怖的，但是你玩一会儿就知道什么地方吓人了，我被吓了至少四五十次。

---
title: 别拿管理员当干部
date: '2007-12-05'
slug: admin-is-not-official
---

不要看错标题了，我写的是**不要**把管理员当作干部。有些人天真地以为论坛管理员或者版主是某种官位，有些人幼稚地认为管理员或版主有义务帮忙解决问题，真是荒唐。

没有人为你义务解决问题，所以来到论坛就该摆正心态，别人不回答你的问题本就是应该的，回答你的问题那是在牺牲他们自己的时间和精力给你帮忙。版主删你的帖子都是有原因的：进入论坛不看说明，不看公告，来了就问问题，以为是自己家呢。

有些人就是很自私，只为自己着想。自己的帖子被删掉了就讥讽谩骂版主：你不就就一版主么，牛什么呀。

MD，我根本就懒得跟这种人理论。见多了。爱说啥说啥，我生来又不是为了讨你喜欢的。

---
title: 《女士品茶》中的零碎片断
date: '2007-12-06'
slug: stories-in-the-lady-tasting-tea
---

今晚索性把这本书从头到尾读一遍，顺便记录一些零碎片断：

- Karl Pearson本来叫Carl，后来因为崇拜卡尔·马克思把自己的名字改成了Karl。
- 科学家在土壤肥力对农作物的影响上争吵了20年，被Fisher一篇论文用简单的数学公式结束了这场战争。后来Fisher还指出其实气象影响要远大于肥力影响。
- 在Fisher的实验设计提出之前，科学家浪费了好几十年时间在无谓的实验和争论上。
- Karl Pearson最早提出了统计的参数（分布）体系，由四个Moment（一到四阶矩）构成。
- Biometrika是世界上第一本印有全彩照片的期刊，Galton他们那时候太有钱了。
- Karl Peason关于分布函数和参数的思想统治了20 世纪的科学，并在21 世纪初仍保持着优势。
- 大名鼎鼎的t分布是Gosset拿笔算然后画图发现的。
- Karl Peason故意贬低Fisher的成果（嫉妒？），闹得二人彼此很不爽，Fisher在Biometrika上发表了两篇文章时就闪人了，把自己的文章都发到别的刊物上。
- Fisher从小视力严重受损，不能在人工光线下看东西，因此只好凭几何思维在脑子里想象，从而发展出强大的几何直觉能力，这种能力帮他解决了大量的数理统计难题，这些难题难度之高，别人花几个月或几年时间才能证明，而他一想就想出来了。他教学生很没有耐心，因为他总是觉得问题很简单，但学生无法理解。
- 当年Fisher的巨著都是拿一台原始的带有手摇曲柄的机械计算器摇着算出来的，据说光是一张表格就要花近200个小时去摇曲柄。（看样子那个年代写统计论文简直就是体力劳动）
- Fisher帮Tippett找到了极值分布的答案；1958年Gumbel出版了关于极值的权威教材"Statistics of Extremes"（少有的经典教材）
- Fisher提出了一致、有效和无偏性三大准则。
- Hoeffding提出了U统计量，为中心极限定理的证明提供了间接而重要的支持。
- 运筹学诞生于二战期间（军事需要）。
- Pearson提出了Chi-square拟合优度检验。
- Neyman和小Pearson合作（确切地说是前者给后者在数学上帮忙）诞生了假设检验中著名的NP引理，在此之前，首先是小Pearson对他爹的Chi-square检验提出了质疑（只有一个假设，没有备择）。
- 大Pearson打压Fisher，Fisher一辈子攻击Neyman，但Neyman态度非常好。
- 置信区间的概念自打Neyman提出之时就让人找不着北（概率的北），直至今天人们仍然对这个概念有着极深的误解。
- 贝叶斯定理的提出让统计学家们很恐慌，因为难以想象用后验概率推先验概率是一件多么可怕的事情。
- 凯恩斯的博士论文是关于概率的研究。
- 贝叶斯思想有两种：一种是贝叶斯层次模型（那个定理），另一种是个人概率（信仰），后者为凯恩斯所力挺。
- 柯尔莫哥洛夫的“概率论的公理化”（axiomization of probability theory），至今仍是学校中讲授概率论时采用的唯一方法。这种方法永久性地解决了有关概率计算有效性的所有问题。（若没有Kolmogorov，我们搞统计的可能至今还处于被排斥的地位）
- 弗洛伦斯·南丁格尔发明了饼图。
- Wilcoxon是化学家，由于实验中离群点的苦恼，产生了非参数的检验。
- Pitman解决了非参数统计的两大疑问：若本来有参数分布但仍然用非参方法会有多不好？数据应该多差才能体现非参的优势？（1948年Annals of Statistics，成名作）
- Mahalanobis家里非常有钱；他建立了印度统计研究所；Rao是他的学生之一。
- Wassily Leontief计算24*24的矩阵的逆矩阵时，曾经向哈佛大学购买过一个“逆矩阵”，主要原因是手工计算得花上几百年时间，而哈佛大学刚好发明了第一台原始的计算机，但是Leontief所在的政府部门却无法为此项服务付费，因为当时只有货物可以购买，服务不可以购买，这个会计问题后来就被作为固定资产处理了，购买发票上写着购买的固定资产是“逆矩阵”。
- George W. Snedecor在Iowa State College创建了美国第一个统计系。
- Gertrude Cox是Iowa State College统计学系的第一个统计学硕士。
- Grace Wahba的样条拟合对后世的样条理论产生了重大影响，她也提出了Log-linear模型。
- ETS的评分系统与Wilks有关。
- 计算机领域的两个基本术语bit和software竟然是John Tukey造出来的！（rootgram和boxplot就不说了）
- George Box是Fisher的女婿。
- W. Edwards Deming重塑了日本的产业界。
- Stella Cunliffe说：“我们经常嘲笑社会学家的分析方法过于粗略，然而作为统计学家，除非我们能为他们提供一些更加科学、更易接受的思想，否则又有什么资格嘲笑他们呢？要实现这一点，我们之间应该是互动的。”（很中肯的话）
- Levi在探索中心极限定理中正态分布成立条件时创建了鞅的概念：1. 变异是有界的，因此个别值不可能是无穷大的，也不可能是无穷小的。2．下一个数字的最佳估计值必是它的前一个数值。Martingale一词本身起源于法国一个小镇，镇上的人非常小气，据说他们下周要花的一点小钱，估计起来最有可能等于他们今天花的钱。
- Fisher在《统计方法和科学推论》（Statistical Methods and Scientific Inference）一书中建议，对于P值多大才有意义，最后结果应视情况而定。Fisher从没有很明确地说明他怎么使用P值，他只是提供一些例子。
- 1987年T. Yamakawa将核回归（Kernel-based regression）应用到调焦照相机（“模糊系统”）

八卦笔记到此结束。

---
title: 看书打岔：魔神英雄坛（神龙斗士）
date: '2007-12-08'
slug: dragon-warrior
---

小时候生活中最吸引我的东西莫过于每天晚上5：30或6：00开播的动画片，魔神英雄坛是一部很能勾起小时候回忆的片子。今天参加医学统计的那个会，我作完报告之后有首医的同学来找我，大意是想加强医学和统计的交流，希望能介绍更多的统计方法到医学应用中。简单谈了两句，留了个联系方式，我看邮箱是cimego开头的，于是马上想起了魔神英雄坛中的主人公之一，就是那个小女孩希米戈（？发音就是cimego），然后又会想起瓦塔努、大叔等等一系列人物，回来就Google了一下，发现土豆网上竟然有全集可以观看，于是就看了两集。

（我发现我的思维经常是一个巨大的转移矩阵）小孩子的理想就是简单，打败每一层的Boss，一直到第七层打败背后的总Boss，就拯救了世界。

![](https://db.yihui.org/imgur/iOCqh.jpg)

![](https://db.yihui.org/imgur/M6Lq0.jpg)

（突然发现思维又可以转移回来了）我下午的报告中谈到的关于统计模型的想法也颇有小孩子想法，我希望模型可以尽量符合人们最直接的思维，并可以将最直接的思维用数学的形式表达出来。统计发展史上，也曾有这样一段年月，统计理论越来越抽象，脱离现实越来越远（例如Biometrika已经完全拒绝刊登应用文章），20世纪80年代美国才纷纷成立应用型的统计学系，如生物统计系、流行病学系等。

看来小孩子想法也是很重要的。

继续看统计八卦书。

对了，今晚听说一个惊天八卦，简直就是今年我听到的最震撼的消息，但在这里我不会说。吼吼。

---
title: 巷子里赶猪
date: '2007-12-11'
slug: pig-in-the-lane
---

我是一头猪，在一条巷子里被赶来赶去。在这儿拱一拱泥，在那儿啃一啃萝卜皮。反正就是没有安身之地。

---
title: 月光宝盒之时光倒流？
date: '2007-12-13'
slug: moonlight-box
---

昨天晚上喝得有点晕，某同志又生病了，所以半夜将其扭送去医院看医生，回来快1点了，黑灯瞎火地睡下；早上快五点的时候渴醒了，于是爬起来偷了些水喝，可能之前睡得太死了，加上这一折腾，再躺下去的时候觉得整个人完全清醒了，活生生躺了一个多小时终于忍不住在黑灯瞎火中起床了。出门时感觉就像置身于大话西游之月光宝盒中。

下面两张手机照片分别是走在路上和来到办公室站在楼上拍的：

![](https://db.yihui.org/imgur/Fsmsu.jpg)

![](https://db.yihui.org/imgur/lJXQi.jpg)

---
title: 一天不上论坛的后果（外一篇Logistic回归）
date: '2007-12-14'
slug: logistic-regression-for-grouped-data
---

昨天也不能算没上论坛，只是大致看了看，挑了几个R问题回答了一下然后就下了。导致今天上论坛一口气回了三个多小时帖子。累死了。

## 外一篇：关于Logistic回归

为什么计量经济学的书上至今还要赫然写着关于Logistic回归用分组的方法求频率再用自变量去拟合这些频率（OLS）？莫非Gujarati这些人不懂广义线性模型？不应该吧。Logistic回归的因变量取值是二分类的（比如0、1），表面上看来把样本分组之后计算因变量在每一组中的频率看起来更像是概率，从而拟合这些“概率”是很有道理的，但实际上问题就会出在分组上，以什么为依据分组呢？

在统计上，只要是涉及到综合，就几乎不可避免要损失信息，这是一条被人忽视的铁律（我在[上周的报告](https://github.com/downloads/yihui/yihui.github.com/Medicine-2007-Yihui-Xie.pdf)中特意提到了这一点）。Logistic回归若将样本分组，求得因变量频率的同时必然也损失自变量信息，一般大家都用自变量的均值代替那一组的自变量水平，显然这是很荒谬的。

若不分组的话，可能很多人就很惊恐了：Logistic回归不是用log(p/(1-p))么？要是p=1的话岂不是这个式子就没有意义了？这样理解的人不在少数，包括我们的老杜就误解了这个问题（可能至今还没搞清楚）。

问题出在哪儿？

在于统计理论到应用的时候中间的一个重要连接不知道被谁搞丢了，那就是广义线性模型（GLM）。Logistic回归是广义线性模型的特例，而GLM通常都是采用极大似然估计来计算的，具体计算需要用到Newton-Raphson迭代，一般是无法求出显式解（closed-form）的。搞应用的人偏偏把这几句重要的话丢掉了，由于Logistic回归应用之广，大家纷纷跟风，忘了GLM这个祖宗。

有人的地方就有江湖，有指数分布族的地方就有似然函数。如果能理解到这个层次，那才算是Logistic回归入了门。很多问题包括为什么连接函数是logit的形式等等就都可以大彻大悟了。

---
title: 投名状
date: '2007-12-15'
slug: warrior-king
---

晚上缪请大家看电影《投名状》，一行人浩浩荡荡杀到中影。两个小时就在乒乒乓乓的刀剑声中度过了。总体感觉是戏中人物确实都不洗脸，总是一副从煤窑子里钻出来的样子。我看大规模战争片（尤其是近距离肉搏战）时一般都比较紧张，像《勇敢的心》、《亚瑟王》、《Tristan and Isolde》等等，总是拿着大刀互相砍得血淋淋的，让人捏着一把汗。

现在的影片大多都爱造势，把场面造得气势恢宏，动不动千军万马乌云压城，其实我并不爱看这些。我眼中最好的一部电影是东方不败（笑傲江湖的其中一部），正好也是李连杰演的，所谓英雄，所谓江湖，所谓恩怨，所谓豪情，都让这部片子演绎得淋漓尽致。令狐冲接过美酒，喝下几口，顿时大叫一声好，大笑着在湖中纵身翻滚，那场景，比手提大刀砍下几百人头的境界要高许多。

看Sina上影评有人说看完哭了，我怎么就没啥感觉呢。有人说很爷们儿，我觉得也没啥爷们儿的。当然，去电影院也就是感受个气氛，也不是为了真去看电影。

---
title: 两则打电话的故事，不怕绕的就来看
date: '2007-12-16'
slug: telephone-jokes
---

一、

老总对秘书说：这几天我带你去北京走走.你准备下.

秘书打电话给老公：这几天我要和老总去北京开会,你自己照顾自己.

老公给情人打电话：我老婆这几天要去北京出差,我们也出来玩吧.

情人给辅导功课的小男孩打电话：这几天不用上课，我有事情.

小男孩给爷爷打电话：爷爷，这几天老师有事，不用上课，你陪我玩吧

爷爷给秘书打电话：我这几天要陪孙子玩,不能去北京了.

秘书给老公打电话：这几天老总有急事,我们不去北京开会了.

老公给情人打电话：这几天不能出来玩,我老婆不去北京了.

情人给辅导功课的小男孩电话：这几天继续正常上课.

小男孩给爷爷电话：爷爷，这几天还是要上课，我不能陪你玩了.

爷爷给秘书电话：这几天我还是带你去北京走走的.你准备下。

二、

自从宿舍里装上电话，我们就变成了"君子"--君子动口不动手，当然更懒得动腿，有什么事宁可花点电话费，也不愿出门走动走动。

我们屋有个小伙儿叫李雷，暑假找了份工作，在一家网站做程序员。昨天他上班去了，有人打电话找他，我接的。我说李雷不在，对方问他回老家了吗？我说没有，对方说："那你告诉他，我是他同学，你让他回来给我打个电话吧，电话号码是××××。"我拿笔记了下来(后来我才知道，其实那是斜对过宿舍的电话，跟我们不太熟)。

晚上李雷回来，我跟他说了电话的事，他说大概是高中同学打来的吧，于是就按那个电话回了过去。李雷是陕西人，电话一通他就问："请问你们这儿有陕西的吗？"接电话的人说："我们这儿没有，我们对门倒是有一个，你等会儿啊，我给你喊……"

马上，就听到楼道里大喊："李雷，过来接电话，你老乡！"李雷愣了一下，跟我们屋老三说，我过去接个电话，这儿你帮我盯着，如果通了，就说我一会儿就回来。

李雷过去了，老三拿起电话。没过几秒钟，里面就传出"喂，喂"的声音，老三马上说："他出去了，你等一下啊！"然后推开门就喊："李雷，这个电话通了，赶快回来。"李雷在那边等了会儿，见没反应就挂了，回屋从老三手里接过电话，只能听到挂断后的"嘟嘟"声。"奇怪！"他郁闷地说："怎么都没人接呢？"然后他拿起记号码的纸条，再次拨通那个号码："你们这儿有陕西的吗……"

---
title: 终于把《女士品茶》完整看了一遍
date: '2007-12-19'
slug: finished-reading-lady-tasting-tea
---

这是一本值得推荐的书（[八卦笔记](/cn/2007/12/stories-in-the-lady-tasting-tea/)），尤其是象牙塔中的学子应该好好读一读，尽管有些地方的术语可能看起来比较陌生，但整本书采用的写法已经是非常通俗了。越往后读，发现越多的观点和我个人之前积累的观点相近，但还是有很多问题没弄明白。尽管是一本通俗读物，其实还是需要两下子统计功夫的。此外，这本书也比较适合外专业的人进行专业扫盲，尤其是对统计的诸多误解和滥用行为，可能都会因为此书而消除。

顺便想起来另外一本书，就是Rao的那本《统计与真理》，也是很好的读物。书不厚，但是数学与实践的例子可说是精妙绝伦。Rao大人在书的扉页上写着感谢母亲每天早上四点起床为他点上油灯，使他能在安静的早晨用功读书。这话于今世来看，真是感慨颇多。

这两天精神涣散，不知何故。或许杂事繁多，甚感疲倦。

---
title: 函数性数据分析
date: '2007-12-20'
slug: functional-data-analysis
---

今晚写论文，因为想看一下《统计研究》上的论文中用图的情况，所以把全年的文章都下载下来了，下载过程中忍不住翻了几篇，其中有一篇《函数性数据的统计分析：思想、方法和应用》。一直以来对Functional Data就颇为好奇，于是把这篇文章拜读了一遍，读罢却又糊涂了。

不知是作者没看懂英文原著还是我理解有误，总之看完我是很吃惊，原来Functional Data就是把离散的观测数据用函数连续化，然后就叫函数性数据了？函数变换的方式可以是Fourier变换或者B样条，额滴神呀，这传说中的函数性数据分析不会真的就在干这事儿吧？我怎么觉得这是很无厘头的想法呢。作者拿了几年的陕西第三产业就业人数分类数据，做了一些平滑，然后对光滑之后的函数求一阶导、二阶导分别就是增长率和加速度，显然这些量和所选光滑函数有直接的关系，而选取怎样的光滑函数也没有一定之规，那么求出来的这些量岂不是可以非常随意？那还分析个头啊。

拜求各位走过路过的大仙指点迷津。

这里有一篇短文（[PDF](http://www.stats.ox.ac.uk/~silverma/pdf/iesbs.pdf)），看起来还有点意思，感兴趣的读完谈谈感想啊。

---
title: 其实可以写一个视觉欺骗的R包
date: '2007-12-22'
slug: r-package-for-visual-illusions
---

这是昨天无意间想起来的一个馊主意，鉴于这个主意和统计没什么太大的关系，我也不打算在近期写这样的R包。不过我相信做出来之后还是会吸引一些眼球的，就像R里面的数独[sudoku](http://cran.r-project.org/package=sudoku)包一样，和统计也没太大关系，但把它写出来供娱乐用也颇有点意思。

比如这里我可以提供我昨天随意写的一段光学幻象代码：

```r
# By Yihui XIE, Dec 22, 2007 yihui.org
op = par(bg = "gray", mar = rep(2, 4), xpd = NA)
x = seq(0, 2 * pi, length = 16)
replicate(100, {
  for (i in 1:length(x)) {
    plot(1, xlim = c(-1, 1), ylim = c(-1, 1), axes = F, ann = F,
      type = "n")
    points(sin(x[-i]), cos(x[-i]), col = "magenta", cex = 7,
      pch = 19)
    points(0, 0, pch = "+", cex = 5, lwd = 2)
    Sys.sleep(0.05)
  }
})
par(op)
```

盯着中间的“**+**”看几秒之后，就会发现“绕圈”的那个点似乎变成绿色了。

---
title: 我恨Microsoft Office Word！
date: '2007-12-23'
slug: i-hate-microsoft-office-word
---

谁要是说Word不是垃圾我跟他急。今晚写一篇论文，插图简直让人郁闷死：一个三维图形，用WMF（Windows图元文件）吧，能保持图形的清晰程度，因为它类似于矢量图，但它在Word里面显示巨慢，因为只要你有任何键盘或者鼠标动作，WMF就会更新（redraw），而复杂的图形要redraw一次又非常耗时；不用矢量格式吧，位图贴到Word里面会被自动调整大小，这种自动调整往往让位图变得不清晰，NND，不是垃圾是什么。用不着列举GNU上反对Word的原因，我只有一条反对意见，Word做的东西太丑了。八辈子都赶不上LaTeX。

突然想起来我以前似乎还恨过IE……噫[^1]，貌似我对麦克尔索芙特完全没好感。

[^1]: 你你你……这是公然抄袭[江堂](http://panshanghu.spaces.live.com/)兄常用的叹词……
---
title: 并非所有系统都可以用PNG图形设备
date: '2007-12-24'
slug: not-all-systems-support-png
---

我突然明白过来了。在animation包的Check summary中有两个系统过不去，问题出在`png()`上，有的系统可能不支持PNG图形设备。因为论坛上有人问到这个问题，我特意再比较了一下Ubuntu和Windows下关于`png()`函数的帮助，才注意到Example中的代码是Not run的。难怪。

这么看来，我还得进一步泛化动画图片文件的生成了，不能限制在PNG上。麻烦啊麻烦。或者干脆不管那些不能用PNG设备的系统了，反正也是极少数，Windows、苹果和Ubuntu都可以正常使用，也就够了。

最近有些老外貌似开始陆陆续续注意到我的动画网站了，收到了一些反馈。我也不知道什么时候才能更新下一版，当务之急是把网站更新了，可还是难以挤出时间。

今天把TOEFL报了，下学期就要在这些无聊的考试上浪费时间了。为了喜迎这样的BT考试，特决定每写一篇中文Blog就强制性写一篇英文Blog，不能屈服于这些洋鬼子。

---
title: 话说平安夜
date: '2007-12-26'
slug: chirstmas-eve
---

话说平安夜，有这样一位高人：

> 平安夜那晚 我和同事在赶往PARTY的路上 路过一家服装小店 生意不错 人很多 就多喵了几眼  
> 这时 突然出现一身着圣诞老人服装 手拿金色礼物袋的人走了进去  
> 眼神都齐刷刷的扫向那袋子  
> 圣诞老人开口说：先生 小姐 给点钱吧

---
title: 听力对发音的纠正比记音标还是好一些
date: '2007-12-27'
slug: remember-pronunciation-by-listening
---

今晚居然耐着性子看了一长篇讲英语学习的帖子，该帖似乎是被转载次数最多的网络帖子之一（十大？），内容还可以，除了一点：里面所有的英语单词就没几个拼写正确的。

有一点可以记下来，那就是：关于单词的发音，还是从听力上解决比较有效。例如我经常记不清**specify**的e应该发`[e]`还是`[i]`，主要是形容词**specific**是`[i]`，而名词**specification**又是`[e]`，晚上放着VOA，无意间听到这个动词，很清晰的`[e]`，让我感觉比每次看音标要有效得多。还有一个**ironic**也是，总是在`[i]`和`[ai]`之间混淆不清。

---
title: 统计变得没有意义的两个条件
date: '2007-12-28'
slug: when-statistics-makes-no-sense
---

副标题可以写作：观某某指数的第二次发布会有感。

统计工作若具备两个条件，则会变得毫无意义：

1. 纯粹做排名。

    本条件在另一个条件成立的时候也会失效：人们对指标体系的关注程度大于对排名结果的关注。可惜当前的状况貌似不是这样，管它指标体系是什么。

2. 几十万字的统计分析报告得出的结论是公理，即：在街上随便找个老太都能说出来。

    例如，煞费苦心，XX模型XX估计XX国际先进指数，得出来北京、上海的经济发展水平是最牛的。如果不用统计就知道结果，那还要统计作甚？

---
title: 一个卡通化图片/照片的网站
date: '2007-12-31'
slug: befunky-to-cartoonize-pictures
---

在这里：<http://www.befunky.com>

我利用它转了一张照片，然后结合Fireworks（作图软件）以及R完成了我的新年卡片。和我有过邮件联系的同志们这两天应该都可以看见那张图了（由于联系人忒多，壹千多头，刚发八百头Gmail就不让我发了，可能得等明天后面才能把所有的人都发完）。

---
title: 饿灵灵扒
date: '2007-12-31'
slug: two-thousand-and-eight
---

历史上的今天：朕在若干年前的这一天睡过一夜办公室沙发。

刚才在群发邮件中写道，去年的新年邮件仿佛是昨天刚发，而今天又在发再一个新年的邮件了。的确是光阴似猪，一不小心，这一年就咣当一声过去了。尽管朕平日非常注意积累成果，但一年到头也没感觉积累下了多少有意义的成果，自认为能拿出来给别人看的大约只有那个动画网站和动画R包。朕最近想了想，唯一还剩下的出成果的机会基本上只有寒假了，但愿在家的一个月清休时间能写完一本书，并把R包极大扩充一下。来年新学期，朕要开始广泛撒网重点捕鱼了，根据近几天的侦查，对Harvard一定有敲开门的好机会，但朕仍需要相当一段时间来考虑将来的研究方向，只要不是搞纯理论统计，相信还是会轻松许多的，起码那些人的论文我好歹还能看懂一部分并挑出问题（那帮搞数理统计的论文我至今来看仍然是天书）。

“饿灵灵扒”的意思是：

1. Steve Jobs: Stay **Hungry**, Stay Foolish
2. colinisstudent: 天**灵灵**，地**灵灵**
3. 在统计的领域继续**扒**，扒方向、扒人。

---
title: 睡眠质量明显下降
date: '2008-01-03'
slug: bad-sleep
---

洒家最近生活习惯俨然又堕落回去了，更糟糕的是，以前是倒下就睡着，现在倒下还得琢磨几个问题之后才能睡着。更更糟糕的是，每睡必到中午。洒家非常不喜欢这样的日子。这个小破站上竟然还有18人在线，想必都不是和我同一时区的，要不就是统计错了。

剩下两天时间，还有一件主要的事情要做，要看主成分，看PLS，看判别分析。嗯，回去洗洗睡。本篇不对应写英文，善哉。

---
title: 统计没有义务下结论
date: '2008-01-09'
slug: statistics-cannot-draw-conclusions
---

若某种统计分析得不出结论，有些人便会着急或恼火，什么破统计？辛辛苦苦做个t检验，结果竟然是不显著；任劳任怨做了K-Means聚类分析，聚类结果竟然不稳定，样本一会儿在这一类，一会儿在那一类……

这种现象很普遍，也很容易理解。不知道是谁制造了这样的“言必称显著”的假象，这里面肯定不止一个“谁”。我们都怕没结论可讲，尤其是没有漂亮的结论。想一想，给外行们来一句，"Statistically speaking, the difference is significant at a 0.05 level"，那是多么拽的一件事情。再不行，我搬出K-Means聚类吓死你，看我用K-Means可以把我的样本聚为漂亮的三类。再不行，小样儿你懂LASSO么？知道CART不？明白啥叫希尔伯特空间不？整个VC dimension给你瞅瞅，中不？

今天一位不明来路的陌生人给我发Email问K-Means聚类的问题，说是聚类结果不稳定（不同的初始值会收敛到不同的聚类结果），问怎样选取好的初始值，以及怎样的聚类结果是正确的。

有奖问答：观众朋友们你们觉得这个问题该怎样回答？

（奖品为新年特别礼物一份，各大超市、商场均有售，领取办法为：1、进入商场/超市；2、拿起任意一份你心仪的礼物；3、撒开四蹄给我使劲跑，谁喊都别回头。）

---
title: 结构方程模型：罄竹难书
date: '2008-01-11'
slug: why-i-hate-structural-equation-models
---

积怨已久，才用了如此狠毒的标题。机缘巧合，遇上了这样一种建模方法，经过不才以前的一番研究，以及之后的一番思考，至今坚定地认为，这是统计里面少有的自欺欺人的无聊模型。今日一位UNM的同仁写邮件问起我SEM的事情，我实在刹不住笔，将此模型大批臭批了一通。要不是时间紧迫还有其它事情要做，我还得继续砍竹子写下其“罪行”。以下是我的回信：

> The most obvious disadvantage, I believe, just lies in the critical modeling technique it adopted at the beginning: constructing models to fit the sample COVARIANCE instead of the sample values themselves. I insist that such an idea has almost destroyed our valuable data. You know, the covariance is just one of the TOO MANY characteristics of the data, therefore if we only focus on this simple information (covariance), other information will be dropped (e.g. mean, kurtosis, skewness, ...). And a very natural question is, what does the covariance stand for? Can it represent all of the original information? The answer is certainly NO!
> 
> The second disadvantage in my eyes is the complexity of this model. In statistics, rarely have I ever met models more complex than SEMs. Even the simplest SEMs will include tens of parameters, as there are several parameter matrices in a SEM. The direct consequence it brings is the computational complexity. You can easily calculate the minimum of f(x)=x^2+1, but do you know how to calculate the minimum of `f(a, b, c, d, e, f, g, ...) = a * b^4 / (2 * c + d^14 * a) - f/g * c^d + ...`? Actually the target function for SEM to optimize is much more complex than this one! It involves with the multiplication, inverse and determinant of huge matrices... Just tell me, can you trust the software to correctly find the GLOBAL optimum for such a complex function? Personally I cannot, as I know there are too many "stories" behind this problem. It's very likely that your software only tells you a LOCAL optimum WITHOUT warnings.
> 
> The third reason comes from a philosophy: you may regard SEM simply as a process of hypothesis testing. I think you surely know the null hypothesis. In the end, you can ONLY REJECT your model but you can NEVER accept it (or say, ah, my model is correct!). In other words, you can never find the truth, although there are many measures (Chi-square, GFI, ...) to tell you how "good" you models are. The basic philosophy of hypothesis testing in statistics is that null hypothesis can only be rejected (because in most cases you can only know the risk of rejecting; you cannot know the risk of accepting it). If we are unable to accept a SEM, why bother to construct it? (If you declare this SEM is correct, other people can naturally doubt whether there are other alternative models.)

> I spent about only half a year on SEM, so my words might be incorrect. My advice is never believe anyone (including me) unless you really understand it, especially the mathematical and statistical theories! I really hate those textbooks avoiding maths, because to some degree, they are just cheating the readers by hiding the most important part of a technique.
> 
> There are still a couple of reasons but I don't have enough time to list all of them out here.
> 
> You may judge from my above words that I have been fighting against this model for quite a long time. Once a statistician said, "All models are wrong, but some models are useful", and I'd like to say that SEM is surely not among these "some models". I'd be very glad to hear from you about the "successful" applications of SEM if you have any cases in this aspect. I've inquired such cases of many people who wrote me emails asking about the SEM but I have not got any till today, which ensured me even more of my impression that SEM is a useless technique.

欢迎结构方程模型的fans前来排拍砖，真理越辩越明。如果能挑起SEM界的血雨腥风，那就最好了。（主要是觉得国人对这个洋模型崇拜过度了）

---
title: 遗传算法：机器学习课的遗憾
date: '2008-01-12'
slug: genetic-algorithm
---

我们开的机器学习课所讲到的内容中，真正能体现“学习”的地方并不多（仅仅只是Boosting、神经网络等稍微有点学习的意思），遗传算法模仿了染色体的复制、杂交和变异等过程，最终进化出最优的染色体，所以说没讲遗传算法绝对是该课程的遗憾。

---
title: NB是什么意思？
date: '2008-01-14'
slug: what-does-nb-mean
---

长久以来，我一直在想，NB到底是神嘛东西的缩写呢？今天终于忍不住了，[Wikipedia了一把](http://en.wikipedia.org/wiki/NB)，原来是[nota bene](http://en.wikipedia.org/wiki/Nota_bene)。还是得勤快一点，不然总是在想。以前脑子里还有好几个缩写，后来我都忍不住一一查出来了，比如aka、foo、bar之类的，总是四处看见它们，却总不明白是嘛意思。

看到本文标题把NB想成“牛逼”的自己蹲到墙角背单词去。

---
title: 读完了Using R for Data Analysis and Graphics
date: '2008-01-17'
slug: using-r-for-data-analysis-and-graphics
---

花了两个晚上总算第一次读完一份R文档，这是R官方网站上Contributed Documentation中列在第一位的文档：

> **“Using R for Data Analysis and Graphics - Introduction, Examples and Commentary”** by John Maindonald ([PDF](https://cran.r-project.org/doc/contrib/usingR.pdf), data sets and scripts are available at [JM's homepage](https://maths-people.anu.edu.au/~johnm/)).


简单评论：这份文档对R的基础知识写得比较清楚，适合初学者对R有一个概览性的掌握，其中尤其是数据结构和函数部分写得还不错，作图部分比较一般，至于统计部分，线性模型和方差分析相对比较细致（其实也不太细致，因为这一块内容本来就很多），而其它模型如广义线性模型、混合效应模型、多水平模型、时间序列、树模型、聚类分析等就写得非常粗略了，稍微浏览一遍就够了，不用细看。

文中有若干小误，已经给John发邮件。文档中的图形全都是位图，稍微放大一点就非常不清晰（最清晰是在文档缩放比例为75%之时），这一点我觉得非常不好，太毁损R作图的光辉形象了……John老大也许是觉得用LaTeX太麻烦，于是就用Word凑合着写了。

另：我知道世上至少有两个人不会数数，一个就是我，另外一个就是R团队中的Friedrich Leisch，因为[Using R](https://cran.r-project.org/doc/contrib/usingR.pdf)这份文档明明是99页，却被安排在[贡献文档网页](http://cran.r-project.org/other-docs.html#english)的"Documents with more than 100 pages:"这个section中。
---
title: 如履薄冰
date: '2008-01-18'
slug: speak-carefully
---

讲话还是中庸好，因为只要你一露出偏向哪边的势头，马上就会被人一推到底。比如：“喂，这儿不对。”人就过来说，“照你这么说，所有的东西都是错的？满世界都是废话？”

这还有法儿说话么。

---
title: 准备回家
date: '2008-01-20'
slug: going-home
---

本以为这一周时间都没什么重要事情了，可以安心看两天书，结果一共也就看了一本100页的小册子[Using R](https://cran.r-project.org/doc/contrib/usingR.pdf)，这样那样的事情仍然占了大部分时间。明天的这个时候我就在火车上了，到今天这个时候才把重要事情都了结。

假期在家最大的好处就是可以安心做事，不会像在学校这样，隔三岔五就有意想不到的突发事件或者乱七八糟的杂事要处理。这次回家一个月，又是一番雄心壮志，不知到头来能完成多少。首先是争取把本人上个寒假结束时才想起的计划“关于统计图形的书”大致写完，其次是争取完成两篇关于animation的英文论文，然后是[MEIDE](http://www.merit.unu.edu/MEIDE/)的会议论文，再次是[animation的R包](http://cran.r-project.org/package=animation)也要争取在寒假里能够大大扩充一下，以便来年能够真正拿出手给人看，最后就是看看英语，读读书完事。

另外还要琢磨琢磨COS月刊的事情，现在连LaTeX模板都搞不定，ft。

-------------------------据说我是分隔线-------------------------

补注：为了拷许三多，花了半天建FTP，还是没搞定，NND，今天是怎么了。可能寒假在家用大好青春看许三多不是“有意义”的事情吧，用三多的话讲，我们应该做有意义的事情。

---
title: 人生悲苦
date: '2008-03-06'
slug: bitter-life
---

过去的这一个月，就像做梦一样。寒假里小侄长了一个瘤，我从那天起就开始帮忙寻医问药，其间带他们去了武汉，无果而归，这次又带到北京来，每天起早摸黑，两周时间已经快要过去了，眼看瘤越长越大，却还没能确诊类型和性质。一家农民，千里迢迢，举目无亲，我理所当然成了最大的依靠，每每想到如此性命攸关的事情与我的微弱力量，心底深感惶恐不安。

宿命二字，对这个十二岁的小孩子来说，实在太过于沉重。

![](https://db.yihui.org/imgur/Hbhnj.jpg)

在北京的这段时间，有些事情，我略微回想一下，心中便满是酸楚。4日中午带他去友谊医院取完穿刺切片，出来看见有家麦当劳，于是就带他去吃了一次，很明显他非常兴奋，甚至一边吃一边都情不自禁笑了出来，在他眼中，也许麦当劳肯德基就是城里人的极品美食了，那纯真朴实的笑脸，却让我感到酸楚；他知道我需要攒发票报销，于是每次只要看见有任何票据都要给我，我这里就有他收来的火车票，皱皱巴巴的，他兜里还有一叠公交车票，专门用曲别针别着，那是给他二爹（我弟弟）攒的，说二爹需要这种票，每次坐公交车都要从售票员那里拿票，然后拿出兜里的票，把新的车票别进去，那一沓边都折毛了的车票，让我看了心酸；带他在三元梅园吃完果乳，他看见墙上挂着一些免费明信片，便取来几张，他想好祝福的话，我便帮他写，然后他自己在下面一笔一划写下自己的名字，给每家人都写了一张，后来我们买到了邮票，他站在邮筒前一张一张把明信片塞进去，我想想他爷爷奶奶妈妈他们在家收到他的明信片时的心情，自己心中也感到心酸；……

本来我没打算在他看好病之前写什么，我也顾不上，主要是今晚看见短信说感慨人生辛酸，心里仿佛被什么东西击了一下，想在此释放一下心情，但刚写了几行字，两行泪水已经滚落脸颊，顿时一片模糊。

谢谢这段时间给予我们帮助的老师、同学和朋友们。祈祷小侄平平安安度过这一劫……

![](https://db.yihui.org/imgur/i97it.jpg)

---
title: 浴火重生
date: '2008-04-04'
slug: phoenix
---

听说今天是清明？

四月四日，唔，这日期，突然觉得颇有“置之死地而后生”之韵。

在消失了两个多月之后，终于回到了原来的世界。而这两个多月里，我的人生轨道似乎被一些事情扭转了。从今以后，也许日子会过得更累，但也许会活得更有意义。得失总是要平衡的，这不是什么大道理。接下来一年在和君的日子，还不知会怎样的天翻地覆呢。

攒了一屁股事情，不过紧急的事情倒不多；另一方面，事情多也有助于学习管理。

下午侄子和他爹坐火车回家了，不过也许过一个月又回来了。下午我从火车里出来时，那小子坐在座位上，低着头一语不发，看他眼泪汪汪的，我赶紧走了。你大爹我其实是很怕送人的，小子，祝你好运吧，长大要给你爹妈你爷爷婆婆争口气。

另：感谢前一篇Blog中的同志们！将来有机会我会给他看有多少叔叔阿姨那时候关心过他。

---
title: 太累了
date: '2008-04-19'
slug: too-tired
---

真是太累了。

吱个声只是为了告诉大家，俺还健在，无他。

---
title: 22公里/小时
date: '2008-04-28'
slug: 22-km-per-hour
---

小子我很久没有大规模蹬车了，今晚出门去鸟巢那边，心想该锻炼锻炼身体了，于是乎背着托福听力的MP3和一罐可乐就上路了，11公里路程，一路猛蹬，凡是遇见十字路口就走绿灯的方向，所以一次都没停歇，叮了咣啷大约半小时到达目的地，貌似比上次的公交车快了一倍还多。

不过小子我感觉到体能较之以前有所下降，刚才回来时也是一路狂奔，到学校觉得还挺累的。若不是小子我下个月要赶紧准备托福，过两天就该趁酷暑还没来临，背包蹬车远行一趟了。

本中文博客再接下来的一个月中将暂时罢笔，节省节省各位看官的时间，善莫大焉。由于本小子已决意与国际接轨，日后将着重建设英文Blog（二来也是为了锻炼写作）。

---
title: 赴德短期商务签证
date: '2008-04-30'
slug: commercial-visa-to-germany
---

小子我六月底应邀去德国开会，今天上午办了出国前的最后一道手续——签证。只是出去开个会而已，这铺天盖地的手续就让人准备得头晕。不过还好，小子我的运气尚佳，虽然手续多，但总体来说每一样手续都比较顺利。先是办护照，这个简单，去户籍科借出户籍卡，填好护照申请表，拿到出入境管理处（不一定去北京市的，可以去各区县的分局办）交了等十天去交200块钱取就行了（注：照相免费！不用自己准备照片）；然后学校里研究生院、科研处、国际交流处、学生处跑了一圈，就是为了一张介绍信和组织机构代码证的复印件；剩下就是订机票、买保险（出国人员意外伤害、医疗及紧急救援保险，保险金额要求大于三十万RMB），友邦的保费需要392大洋，我嫌贵就在泰康买了，150大洋；最后揣上护照、对方邀请函原件以及个人存折复印件（经济状况证明）就吭哧吭哧上使馆了。

德国使馆需要电话预约，话说这个电话我真是足足打了一百遍才打通，预约时会给你一个号码，其实到那儿了就知道这个号码没用，进去的顺序是按照排队顺序来的，不过预约时间还是有用的，每个小时放一拨人进去，剩下的人就在外面干站着。当时有个老太太，坐也没个地方坐，大家好心就让她排在第一个了。我八点半就到使馆外面了（约的十点），等了一个多小时才被放进去。进去首先安检，确定你没有什么凶器或危险品之后才让进签证大厅，进大厅就排队等窗口，挨个儿面试。接待我的那位JJ脾气还不错，不像我之前在网上看到的那样都很不耐烦，对我审问了大约10分钟就OK了，这些人问的还都挺细致的，我说我去开会，她就问开啥会以及你去讲什么，甚至都问具体内容是什么，我说我去讲动画，她就笑了，貌似觉得很好玩……看来下次我干脆带上论文好了。审查完材料之后就可以去交钱了，1个申根签证670大洋，然后办理EMS快递30大洋，我身上刚好只带了700.2大洋，要是多一块钱我都拿不出来了，再汗……

之前还以为是英语面试，进去大厅发现一律都是中国人（后台貌似有德国大爷），全都是讲中文的，ft，我还在脑子里捣鼓英文呢。据说五天之后出签证，天灵灵地灵灵，小子我可是机票都已经买好了，签证一定要顺利。在此小烧一香。

---
title: 不再接受关于结构方程模型的咨询
date: '2008-05-02'
slug: no-more-consultation-about-structural-equation-models
---

关于结构方程模型（SEM），本人决定不再接受咨询，请各位勿发邮件询问相关事宜，特此告知。我于05年底在杜老的多元统计分析课上接触到SEM，因为课上对原理讲得并不清楚（确切地说颇有误导性），加上后来查阅了国内这方面的论文，发现几乎没有一篇论文提到SEM的原理，但与此同时，却有诸多作者撰文大肆吹捧SEM，甚至将其供奉为“各种统计模型之母”（李伟明，1998），SEM在各行各业应用的论文也是铺天盖地：心理学、管理学、商学、经济学等等。带着诸多疑惑，我将SEM作为了本科毕业论文的选题，那段时间里才算弄清楚了协方差建模技术以及SEM目标函数的来龙去脉，同时也逐渐丧失了对SEM的兴趣，因为我个人难以认同这种统计建模技术（[参见此文](/cn/2008/01/why-i-hate-structural-equation-models/)），也对其应用价值高度怀疑。

这两年来我收到过很多询问SEM问题的邮件，现在实在是已经回答累了，主要原因是很多提问者根本没有弄清楚SEM的基本原理。不管是主观原因不想弄清楚，还是客观原因无法弄清楚，我都觉得这种事情颇为荒唐。并非我要求统计应用者对统计技术掌握得多么精通，但如果最基础的知识都不具备，如何敢跑模型，如何敢作解释？

![模型这么复杂，晕不晕啊？](https://db.yihui.org/imgur/Xxp7s.gif)

那么话说回来，什么是基础呢？

1. 结构模型和测量模型分别长什么模样；
2. 知道一点矩阵知识，可以把自己画的超复杂的圈圈框框线条用矩阵表达出来（我戏称这种图形为“意大利面条图”），矩阵中包含各种已知参数（一个协方差矩阵）和未知参数（八大矩阵），能分辨哪些已知哪些未知，相应地，知道自由度该怎样数；
3. 知道各种目标函数对应的模型假设是什么，以及假设是否可以被验证；
4. 知道拟合指标的大致公式是什么模样以及指标有什么直观意义；
5. 非常清楚统计假设检验的原理（通常情况下只可能有把握拒绝零假设，而接受零假设犯错误的概率常常是不知道的，即：P值大的时候也许存在若干个“真相”都不能被拒绝）。

我经常被问到的问题有：请帮忙看看模型可不可以这样画、模型为什么解不出来或不可识别、模型拟合指标有些很好有些很差该怎么办、模型拟合很好是不是就可以下结论说事实就是我设想的这样、模型的系数该怎样解释等等。如果各位还有类似的问题，请务必反思以上五点基础。我相信90%的人不会再提问，而对于剩下10%的人，你们的问题超出了我的知识范围，恕我没有能力回答，抱歉。

---
title: 北京市统计年鉴下载（2001~2004年）
date: '2008-05-05'
slug: beijing-statistical-yearbook-2001-2004
---

原帖在[这里](http://www.pinggu.org/bbs/dispbbs.asp?BoardID=55&ID=21041)；下载链接请点击[此处](http://15.down.pinggu.org/UploadFile_20082009/2005-5/200557145315567.rar)。

顺路行个方便，免得大家浪费时间。
---
title: 打听一段“子曰”的来源
date: '2008-05-11'
slug: i-do-and-i-understand
---

今天看[一篇论文](http://www.agresearch.co.nz/downloads/graphics/Dynamic%20Graphics%20JABES%20Dec%202004.pdf)，里面提到孔夫子的一句话：

> "I hear and I forget, I see and I remember, I do and I understand."
> 
> --- Confucius

请过路的同志们抢答，这是哪一篇里的句子？

（依照惯例，答对没奖，谢谢）
---
title: 地震鸟
date: '2008-05-12'
slug: earthquake
---

下午两点半左右的时候，大家突然觉得头晕，一屋子人各自在心里琢磨，咦？咋觉得晕呢？（还有人误以为自己生病了）等震了半分钟左右才有同志终于憋不住了，说，地震了吧？大家如梦初醒，炸开了锅，我本来在写论文，抬头看窗帘，发现都在前后晃，一摆一摆的。我心想，以我之前爬楼梯的速度一分钟多一点能从1楼爬上10楼，如果跑下去三四十秒应该能跑出楼吧……正悠悠地想着，楼逐渐不晃了。反应真是慢……

然后开始看各种小道大道消息，说震源在四川，突然看到小道消息说宜昌也有情况，于是赶紧给老爹打了个电话，他老人家貌似在家安然睡午觉，说完全没感受到，这才放心。

为啥7.8级地震完全没预报呢？想想我几年前还在办公室的桌上立着很多硬币作为我的“地动仪”，后来搬家了也没再立了。如今这么一晃，我还真得再把地动仪摆起来了。

第一次感受地震，小记一笔。
---
title: 寻餐具制作商一名
date: '2008-05-12'
slug: spoon-and-fork-manufacturer
---

下午地震之后外国朋友也很快发来邮件问候（消息传得还真快），然后顺便问我有没有找到生产餐具的人，我就先在这里发广告问问吧。如果有从事餐具制作相关行业的朋友，请速速[联系我](/vitae/)，我们来做一笔小生意。若有认识该行业的人，也请帮忙介绍。谢谢！

---

注：我们想生产一批**很特别**的餐具，暂时先以西餐餐具为主，刀叉勺之类的；制作要求面谈或者私下交流。
---
title: 疲惫
date: '2008-05-20'
slug: tired
---

诸事不顺；心情低迷，啥都不想干；严重怀疑脑子退化了，人变傻了，心胸变狭窄了。

![](https://db.yihui.org/imgur/mHvOX.jpg)

---
title: chameleon 变色蜥蜴
date: '2008-05-25'
slug: chameleon
---

正在背单词。这个单词读音与某人名挺像，特此记之。

> chameleon 变色蜥蜴, 变色龙
---
title: 给托福烧香
date: '2008-05-30'
slug: pray-for-toefl
---

洒家即将奔赴托福刑场，临刑前特地在此烧上一炷香。不过上帝貌似不接受香火吧，不管了，俗话说酒肉穿肠过，主也可以在心中坐。

     (    )  (    )   (    )
    (   )   (   )   (   )
    (  )   (  )   (  )
    ( )   ( )    ( )
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
---
title: 托福归来
date: '2008-05-31'
slug: back-from-toefl
---

主也许见洒家只烧了一炷香，不够虔诚，今天考场上给了洒家一个大大的下马威。不愧是“我变态”（iBT），上场就是一篇变态难的阅读，彻底把我击溃了，我一边适应考场环境（冷、吵），一边安抚情绪，一边对付一篇冰河世纪的阅读，最后的结果是大半都是靠瞎蒙。阅读后两篇才正常一点了，我那焦躁不安的情绪终于稳定下来，不再老眼昏花，终于沉浸到欧洲文明中去了。

听力几乎全都听懂了，不过题目出得不够变态，亏了；我是听力加试，而加试的题就是MM丢卡、浪漫主义诗歌和神经元三篇，这是机经里谈到臭了的加试题，于是憋着“自然的召唤”（后悔水喝多了）搞定了加试题；口语中的段子也都听懂了，不过还是老毛病，说得不够流畅、有条理，例子也没讲充分，45秒和60秒的时间颇为不够用，估计最后分数不会太变态；本来听力结束后休息时间可以偷听别人的口语，不过貌似本考场的MM居多，大家细声细语，我也听不清，只好作罢，反而是我在做听力的和写作的时候有豪迈的GG们在高声朗诵，轮到我豪迈的时候，估计我隔壁的兄弟都听见了，那小子，就是故意不回座位等着我说口语的！唉，点儿不顺，不过没关系；最后就是写作，这对本人一贯的长篇大论作风来说就非常小case了，而且本人也几乎每天都会写英文的东西，软件、邮件、网页，不亦乐乎（唯独不写作文），第一篇要求150~225字，洒家愣是马不停蹄写了三百余字，但愿rater不要怨我写太长了，第二篇要求最少300字，洒家由于考虑论点的时间较长，等一二三罗列下来，已经没时间了，最后只写了三百八十多。

万能的主再保佑俺一次吧，这次给您上三炷香。

    (    )   (    )   (    )
    (   )  (   )    (   )
    (  )   (  )   (  )
    ( )   ( )    ( )
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||
    ||    ||    ||

P. S. 如果我这篇Blog要出一份“中文托福”考题的话，出题人一定会问：根据文中的描述可以推断，那小子考完听力之后第一件事做什么了？

> A. 偷听别人口语 B. 投身大自然 C. 上厕所 D. 休息
---
title: 统计学动画维基百科
date: '2008-06-03'
slug: aniwiki-as-gallery-of-statistical-animations
---

终于可以有几天时间放手玩玩儿了，于是乎开始一项新的工程：[统计学动画维基百科](http://animation.yihui.org)。

基于Wiki来做网站，相信会省事很多。过去的两天时间里刚刚重写完支持网页动画的JavaScript，下一步就是写一个Wiki插件，将Wiki的语言转化为HTML代码，这一点尚需要学习一点PHP；再下一步就该修改更新R程序包了；等这一切框架搭建好之后便可暂时放手网站，开始准备[DataViz VI](http://www.jacobs-university.de/schools/shss/awilhelm/)的论文。

近日接连收到Oxford和Stanford学生来信，大家对animation的评价用词最多的是“impressed”，当然这样的话万不可直接理解为褒义，等有人说“useful”了才算数。如德鲁克所提醒的：

> ……发现任何由于恃才傲物而造成的偏见和无知，并且加以克服。……

不过无论如何，有人关注并使用动画也算是走出一小步了。
---
title: Dokuwiki动画插件基本成型
date: '2008-06-04'
slug: animation-plugin-for-dokuwiki
---

经过一天的努力，终于把我的动画思路转化为了[Dokuwiki](http://wiki.splitbrain.org/wiki:dokuwiki)的插件，名为"[animation](https://www.dokuwiki.org/plugin:animation)"。Wiki语法和相应的说明参见：

<http://animation.yihui.org/wiki:animation_example>

刚刚写完PHP代码，Wiki页面还比较粗糙，明天再详细写。

很久不写代码了，这个插件主要用PHP写，其中核心部分是一个正则表达式（Regular Expression），这个东西简直就是魔鬼。

P. S . Dokuwiki是一款著名的Wiki程序，基于PHP语言，不依赖数据库即可运行，比较方便。
---
title: Dokuwiki数学公式插件基本搞定
date: '2008-06-04'
slug: latex-plugin-for-dokuwiki
---

今天这一天我写完了动画插件的说明文档，顺便把别人的一个数学公式插件修改了一下，让它用起来更顺手一些，这样在这个Wiki中就可以很方便地生成LaTeX数学公式了。

- 动画插件：<http://animation.yihui.org/wiki:animation_plugin>
- 动画示例：<http://animation.yihui.org/wiki:animation_example>
- 数学公式：<http://animation.yihui.org/wiki:math>

至此，这个站点的主要功能算是齐全了。只剩下动画插件还有一个小地方需要扩充一下。
---
title: 转义符：从R到JavaScript到HTML
date: '2008-06-07'
slug: escape-operator-from-r-to-js-to-html
---

每种语言都有自己的特殊字符，比如引号、反斜杠等，当我们需要把这些字符当作普通字符使用时，就必须在前面加上一个转义符（escape character），例如JavaScript中需要输出双引号时，就要用`\"`。想一下，如果用R输出“能输出HTML字符的Java脚本”，那样转义符会是什么模样。

比如HTML中需要一对双引号：`""`，用Java脚本写的话就是：`document.write("\"\"")`，用R来写这句Java脚本的话就是：`cat("document.write(\"\\\"\\\"\")")`。而我需要的Java脚本远比这复杂，不幸的是用R写出来之后Firefox运行正常，IE不正常，说脚本有错，额滴神啊，人海茫茫让我上哪儿去给您找错，IE也没一个debug功能。这就是我崩溃的原因。
---
title: 又忘了吃饭
date: '2008-06-10'
slug: forget-breakfast-again
---

晕，早上爬起来就往办公室走，走到电梯口才想起来忘了吃早饭，又懒得往回走了，于是乎干脆不吃了。有时候中午吃饭太晚的话晚上就容易忘记吃饭，到了半夜肚子饿才想起来，哦，忘了吃晚饭了。

这几天在更新animation程序包，很是累人，不过更新完之后这个包将焕然一新，以后写新的动画函数也方便了。

又：[DataViz VI会议](http://www.jacobs-university.de/schools/shss/awilhelm/13937/)把我安排在第一天演讲，我一看排在前面的人几乎都是大牛，比如Michael Friendly、Lee Wilkinson等牛牛们，我后面还有Di Cook，就我一头无名小毛驴插在中间，噫……微斯人，吾谁与归……

![大牛](https://db.yihui.org/imgur/rREkS.png)

![大牛](https://db.yihui.org/imgur/rREkS.png)

![大牛](https://db.yihui.org/imgur/rREkS.png)

![小毛驴](https://db.yihui.org/imgur/ziJPE.png)

![大牛](https://db.yihui.org/imgur/rREkS.png)
---
title: 终于更新完程序包了：animation 1.0-0
date: '2008-06-11'
slug: animation-1-0-0-updated
---

累死我了，花了五六天时间才把动画包的框架全部改过来，一天到晚啥都不干，就是埋头改代码。剩下的工作还是“路漫漫其修远兮”——[AniWiki](http://animation.yihui.org/)的内容需要慢慢填充，现在只是把动画全都放上去了，关于统计方法的原理介绍都还没有。
---
title: 寻找灵感：StatSci
date: '2008-06-11'
slug: inspiration-from-statsci
---

这是一个统计资源的汇总网站：<http://www.statsci.org>，可以从中“窃取”别人的主意，转化为R代码（据我观察，过去的动画大部分都是基于Java Applet做的），要充分利用R在计算上的优势，相比之下，Java写统计代码太痛苦了。

上回[Hadley](http://had.co.nz/)告诉我另外两个网站：

- <http://www.cs.nyu.edu/algvis/html/abstract.html>
- <http://www.cs.ubc.ca/~harrison/Java/sorting-demo.html?donttaseme>

其中那个排序的demo我以前看过，的确很经典。这些都可以作为思维的源泉。
---
title: 话说这世道
date: '2008-06-13'
slug: ever-changing-world
---

世道多变。

话说[德国战车被克罗地亚给拆了轮子](http://sports.sina.com.cn/euro2008/g/2008-06-13/01513718974.shtml)，话说[湖人被绿衫军疯狂反超](http://sports.sina.com.cn/k/2008-06-13/11503720432.shtml)，话说[罗伯斯跑过了刘翔](http://sports.sina.com.cn/o/2008-06-13/01063718889.shtml)。这世道真奇妙，真呀么真奇妙。

又话说俄罗斯某地的火车出了事，还话说飞香港的飞机也出了事。阿弥陀佛+阿门保佑我的飞机一定要稳稳飞到不莱梅。

又及：话说小猫咪也能救我一命。两只猫咪，两只猫咪，跑得high，跑得high，一只喜欢树枝，一只喜欢树叶，真奇怪，真奇怪。

最后，话说江西高考作文： 以零七洞庭湖鼠灾背景自由命题题目是零七洞庭湖鼠灾背景。要以**田鼠的口吻**或者田鼠天敌的口吻给人类写一封信，八百字以上。话说有人挥笔洋洋洒洒写下：

> 吱吱吱：

> 吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱。

> 吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱。 吱吱吱吱吱吱，吱吱吱吱吱吱吱；吱吱吱吱吱，吱吱吱吱吱吱吱；吱吱吱吱吱，吱吱吱吱 吱吱吱。吱吱吱吱吱，吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱。吱吱吱吱吱吱，吱吱吱吱 吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱。

> 吱吱吱吱吱吱 ，吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱。吱吱吱吱吱吱，吱 吱，吱吱吱吱吱吱？吱吱吱，吱吱吱吱吱吱吱吱。吱吱吱吱吱吱，吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱，吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱，吱吱吱 吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱。

> 吱吱吱吱吱，吱吱吱吱吱吱吱；吱吱吱吱吱，吱吱吱吱吱吱吱；吱吱吱吱吱，吱吱吱吱吱吱吱。吱吱吱吱吱，吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱。吱吱吱吱吱吱，吱吱吱吱 吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱 ，吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱。吱吱吱吱吱吱，吱吱，吱吱吱吱吱吱？吱吱吱，吱吱吱吱吱吱吱吱。

> 吱吱吱吱吱，吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱，吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱吱。吱吱吱吱吱吱吱，吱吱吱吱吱吱吱吱

> 吱吱
> 吱吱
> 吱吱吱吱
---
title: 鼠标上的灰土与格里文科定理
date: '2008-06-15'
slug: glivenko-cantelli-theorem-and-my-mouse
---

这篇日志原文写在[英文Blog](/en/2008/06/dirt-in-the-mouse-glivenko-cantelli-theorem/)中。大意是讲，近日发现鼠标滚轮不好用，于是拆开看了看，一拆吓一跳，咋那么多灰土啊？滚轮的前后灰土分布差异显著，滚轮前的盖子收集的灰土少，后面的盖子收集的多，于是乎，想起格里文科定理，曰：经验分布a.s.收敛到真实分布。鼠标滚轮前后的灰土分布可以视作二项分布，平时用滚轮的时候绝大多数情况下是向下滚，因此向下的p比较大，向上的小，加上鼠标已经用了几年了，滚动无数次，所以滚轮累积起来的“经验分布”可以视作真实分布的完美逼近。

另：顺便看了一眼维基百科，发现Glivenko-Cantelli定理竟然和VC理论有关，最终牵涉到机器学习理论，不禁感叹，这世界的确很奇妙。
---
title: 对照组的重要性
date: '2008-06-16'
slug: importance-of-contrast-group
---

下面两则事例充分说明了试验中设置对照组的重要性：

> 布什和布莱尔坐在酒吧里，有一个人进来，问酒保：“那不是布什和布莱尔吗？”
酒保说：“对啊，就是他们！”
那个人走过去，对两个人说：“哈罗！你们最近在忙些什么啊？”
布什说：“我们在计划第三次世界大战。”那人问：“真的？那会发生什么事？”
布什说：“嗯，我们会杀一百万个阿富汗人和一个修理脚踏车的！”
那人惊呼：“为什么你们要杀一个修理脚踏车的？！！！”
布什转身对布莱尔说：“看吧，我就说没人会担心那一百万个阿富汗人嘛！”

> 布什与鲍威尔出席记者招待会。
CNN记者问：噢，见到你们真是我的荣幸。尊敬的总统先生,有什么大事要发生吗？
布什说：“我们准备枪杀4千万伊拉克人和1个修单车的。”
CNN记者：1个修单车的？！为什么要杀死一个修单车的？
布什转身拍拍鲍威尔的肩膀：看吧，我都说没有人会关心那4千万伊拉克人！
---
title: 再拜一拜路人们，请教出处：no matter where you go, there you are
date: '2008-06-16'
slug: no-matter-where-you-go-there-you-are
---

我第一次见到这句话是在UCLA的统计系主任的Skype签名中：

> "And remember, no matter where you go, there you are."

今天在"Quotes of the Day"中又看到了这句话，然后Google了一下，发现出处简直数不胜数，其中有人说是孔夫子讲的，于是我想请教一下各位高人，这句话到底是啥意思、出自哪篇哪章？谢谢！
---
title: 爱生活，iBT，爱烧香
date: '2008-06-18'
slug: love-life-love-ibt
---

看来有时候确实得烧烧香，话说两周多前[我给iBT（爱变态）烧了几柱香](/cn/2008/05/back-from-toefl/)，今天成绩出来了，万能的主还挺给面子，看在我心诚的份上，没有在变态的阅读上捉弄我。听力在意料之中，口语有点不给面子（貌似我有点得寸进尺），写作比我预期低1分。总的来说，烧香还是管用的。

考试归考试，目的还是尽早适应美国学术生活。从这个意义上来讲，如果不知道啥叫curse of dimensionality、不知道啥叫Newton-Raphson algorithm、不知道学术舞弊是极其严重的自毁前程行为、不知道一篇学术论文的常规写法、不知道Box是近视眼Fisher的女婿等等，即使考它120，去了US也是活受罪（至少要先受受罪）。

突然想起来一句话：烧香的不一定都是和尚，也可能是熊猫。不过我既不是和尚也不是熊猫。
---
title: 问！积极地问！不耻上问！
date: '2008-06-19'
slug: ask-people-actively
---

当今这世道，单枪匹马地干是下策。遗憾的是我经常这么干，常常是劣性难改。大约一周前，我遇到一个看起来很简单自己却无法解决的Flash技术问题，就是把PDF转为SWF动画时，[SWF Tools](http://www.swftools.org/)无法设定帧频率（frame rate），而其它格式的文件转SWF全都可以设定。我第一反应是：下载源代码，找！找了半天晕头转向（世上最痛苦的事情莫过于阅读源代码），加上SWF和PDF的基础知识我都没有，更是无从下手。然后就往邮件列表发了[一封邮件](http://lists.gnu.org/archive/html/swftools-common/2008-06/msg00066.html)，等了一个星期，终于看见[有人提供了答案](http://lists.gnu.org/archive/html/swftools-common/2008-06/msg00071.html)。原来这个功能已经有了，但是还没有被写到文档中去。

这样的话就方便多了，我可以把animation包中的`saveSWF()`函数改了；更重要的是，用PDF制作出来的Flash比用位图格式（PNG、JPEG等）文件制作的Flash要小很多，而且PDF的矢量性让Flash拥有足够的清晰度，这一点实在是太棒了。
---
title: 世界变小了
date: '2008-06-19'
slug: small-small-world
---

有时候你觉得世界变小了，并不是因为科技进步、通讯发达的缘故，而是因为眼睛肿了，肿得眯成一条缝。

本小子前天晚上觉得右眼有点不舒服，昨天起床发现肿了，颠颠儿跑到医院一看，说是结膜炎、麦粒肿，这下可是苦了俺。今天起来发现肿得更厉害了，额滴神啊……我说世界怎么变小了呢。

莫非冥冥之中主在指引我这几天要放弃阅读、苦练听力？
---
title: 觉得天上会掉钱的举手！（比尔盖茨会给大家发钱？）
date: '2008-06-20'
slug: serendipity-from-bill-gates
---

刚才从一个朋友那儿收到一封很有意思的邮件，标题是巨长一串“FW: Fw : Fw : Fw : Fw : Fw : Fw : ?转发:……”，打开来一看，原来是告诉我天上掉钱了，让赶紧打开口袋接着：

> Don't Know True Or False, Just Have a Try
請不要管它是真還是假，試一下！　如下文章的意思是：（水平有限，可能翻譯得不是很正確，班門弄斧了！）
Dear Friends,
Please do not take this for a junk letter. Bill Gates is sharing his fortune. If you ignore this you will repent later. Microsoft and AOL are now the largest Internet companies and in an effort to make sure that Internet Explorer remains the most widely used program, Microsoft and AOL are running an e-mail beta test.
親愛的朋友們，
請不要把此郵件當作是垃圾郵件。比爾.蓋茨正在施捨他的財富。如果你無視此封郵件稍後你將會追悔莫及.Microsoft and AOL 是現今最大的因特網公司並致力於確保因特網Windows資源管理器依然是使用最廣的程序，Microsoft and AOL 正在進行E-mail第二個階段的測試。

> When you forward this e-mail to friends, Microsoft can and will track it (if you are a Microsoft Windows user) for a two week time period.
噹你把此e-mail轉送給你的朋友時，微軟將跟在兩周內蹤它（如果你是Microsoft Windows 的使用者）。
For every person that you forward this e-mail to, Microsoft will pay you $245.00, for every person that you sent it to that forwards it on, Microsoft will pay you $243.00 and for every third person that receives it, you will be paid $241.00. Within two week! s, Microsoft will contact you for your address and then send you a cheque.
對於每一個轉發此mail給朋友的人，微軟將會付給你$245。對於每一個你轉發了的人，別人又繼續轉發的人，微軟將付給你$243並且每三個人收到此mail，你將會得及$241的付款。在兩周內，微軟將會聯繫你的地址並給你一張支票！

我心想世上有这么好的事么，本着“外事不决问Google，内事不决问娇妻”的首要原则，随手Google了一下，感觉只有三个字：toooooo old! （画外音：你会不会数数啊？）

话说[这里有一个页面](http://urbanlegends.about.com/library/blmsaol.htm)澄清这个恶作剧，原来这是上个世纪的垃圾邮件，经过新世纪的洗礼居然还在网上传播，不得不佩服人们对不劳而获的执着向往。我觉得如果人们对自己的理想也有这么执着的信念，那发财只是迟早的事情。俗话说，空即是色，色即是空。按老衲的理解，意思就是，有钱就是没钱，没钱就是有钱，要是一辈子奔着钱去就得不到大钱，赚到大钱的反而是那些没有打算一辈子奔着钱去的人。

有趣的是我可以从转发邮件中一直追溯到第一个发这封邮件的人，中间转手的人来自各行各业，某大学的，某LG的，某株式会社的，某西门子的，某中兴通讯的，等等。实在有趣。下次我干脆给这些人发一封邮件说，比尔盖茨说了，他们正在用IE测试追踪谢益辉的博客，凡是每天访问1次的同志能获得$2，访问两次获得$4，三次$8，以此类推，上限$1024。我看看我的小窝访问量会不会在下个月暴增。

另外，说到垃圾邮件的问题，洒家对它仇视已久，仁慈的主以及涛哥以及未来的奥巴马大叔啊，您们就早点立法惩治一下垃圾邮件吧。话说最近Gmail的垃圾邮件是越来越多，tnnd，寡人对卖软件的、推销网站的、卖药的都很是不喜欢很是不喜欢很是不喜欢。
---
title: Follow Your Heart
date: '2008-06-23'
slug: follow-your-heart
---

刚才看了两个小片子，一个是在世界各地跳舞的人，一个是爱情故事。

跳舞的这位Matt惊动了世界，所做的事情极其简单，就是在各地跺跺脚抖抖手，然后录下来。他爱玩，也玩出了名堂。

<iframe width="560" height="315" src="https://www.youtube.com/embed/zlfKdbWwruY?rel=0" frameborder="0" allowfullscreen></iframe>

爱情故事这个片子叫"THE DANISH POET"，讲的是人生各种机缘巧合；有人顺从了自己，有人顺从了别人。

<iframe width="560" height="315" src="https://www.youtube.com/embed/2lXcufpx2Nk" frameborder="0" allowfullscreen></iframe>

两部片子看起来也没什么联系，不过都透露出一点信息：要知道你心里真正想要的是什么或者真正感兴趣的是什么，唯有如此，人生才不会留下太多遗憾。
---
title: A Blog Post in Bremen
date: '2008-06-26'
slug: a-blog-post-in-bremen
---

I have finished my talk in Jacobs University this afternoon and I got fewer comments than I expected; maybe I can discuss with them in the rest days.

By the way, Bremen is really beautiful! You can see green plants everywhere, but on the other hand, I can hardly find any people walking on campus in most of time except the workshop participants -- the population of Bremen is so small?...

Generally speaking, I'm both tired and exciting in these two days, and sometimes even depressed. It is indeed a special experience to be abroad. I'll write in details when I go back to Beijing.

---
title: 不莱梅归来（已附照片）
date: '2008-06-29'
slug: back-from-bremen
---

可以写中文了。此行颇有历险味道，第一次出国，第一次在天上飞，第一次作为“外国人”在一个陌生城市向不懂英语的人问路；一个人背着个包，晕晕乎乎不知东南西北就上不莱梅去了，呜哈哈哈，有趣。

德国貌似地广人稀，在Jacobs我经常走在路上放眼望去一个人都看不到。绿化率极高，空气清新，气温十几度，每天晴空万里，很是惬意。会议期间只有大约两个小时到市中心参观了一番（Jacobs离市中心还挺远），都没时间买东西，我最后都是一路狂奔在那些小街小巷里极度紧张地考虑要买什么。顺便提一下，那边东西真是贵……后来我才明白为什么去欧洲的同学回来一律都带巧克力……

会议演讲基本上一个都没听懂，不过结识了统计图形界的一些大爷大伯大娘大叔大婶大哥大姐（貌似没有小弟小妹了），也许在不久的未来，洒家还能争取到机会去美国加拿大拜访他们。

有空上两张照片。

![](https://db.yihui.org/imgur/vMIpK.jpg)

![](https://db.yihui.org/imgur/RRFyL.jpg)

![](https://db.yihui.org/imgur/ZgjTR.jpg)

![](https://db.yihui.org/imgur/clqwm.jpg)

![](https://db.yihui.org/imgur/R4FaL.jpg)

![](https://db.yihui.org/imgur/8d1AD.jpg)

![](https://db.yihui.org/imgur/NDVcH.jpg)

![](https://db.yihui.org/imgur/F7Rmu.jpg)

![](https://db.yihui.org/imgur/AYkXe.jpg)

![](https://db.yihui.org/imgur/gYFQy.jpg)

![](https://db.yihui.org/imgur/4hKse.jpg)

![](https://db.yihui.org/imgur/T59v8.jpg)

![](https://db.yihui.org/imgur/Hnis6.jpg)

![](https://db.yihui.org/imgur/bt9NS.jpg)

![](https://db.yihui.org/imgur/TcaiC.jpg)

![](https://db.yihui.org/imgur/GV974.jpg)

![](https://db.yihui.org/imgur/GTSAC.jpg)

![](https://db.yihui.org/imgur/pa0Aj.jpg)

我自己没怎么照相，只是和参会者照了一些合影，就不放上来了。等会议全体合影寄过来之后再放一张大合影。

![不莱梅归来](https://db.yihui.org/imgur/48iA6.jpg)

## 流水账游记

第一次出国，感受颇多，毕竟那是一个从未到过的陌生世界。

在国内开会的时候，每次老外们过来我们都会找人去机场接送，这次我过去一路都是自己找，当时出了不莱梅机场之后看着路牌上的德文地名简直有点傻眼，根本搞不清楚去中心火车站是走左边还是走右边。后来对着Adi给我的提示仔细看，才慢慢明白了方向，找了个土耳其人确认了一下，顺便问了一下在哪儿买电车票（土人啊），那位大哥告诉我上车买，于是乎等了几分钟上了有轨电车（tram），每节车厢都有自动售票机，我看着德文又傻眼了，切换到米字旗的界面，发现还是很懵，因为地名实在让人犯晕，于是干脆让土耳其大哥帮我操作，这才投币买了票。

从机场乘电车到不莱梅中心火车站，还得买从火车站到Sch?nebeck的火车票，找了车站里的一位大叔帮我在自动售票机上买了，又问了服务的大姐上哪儿坐车，那时候刚好有一趟车还有两分钟就开了，结果我晕里西乎跑到站台上也搞不清是哪趟车（也没准儿等我跑过去已经走了），凭直觉跳上一趟车问一位大爷，大爷不懂英语，在一番疯狂的手语交流之后我明白了那趟车不是开往Jacobs那边的，于是下来再在站台上问买东西的小贩，小贩不懂英文，又找车站的服务员，才告诉我在哪个站台几点开车，这才明白。

火车上有报站，所以依稀听到“西什么百科”就下车了，然后按照之前在Google Earth上看的路线沿着公路走，很容易就找到了Jacobs大学。这中间有个小插曲，我从Sch?nebecker大街过马路到Bruno-Bürgel大街时，刚走到马路交叉口，路上前后的车就都停下来等我过马路，着实让我吃惊了一把，洒家在路上走还从未享受过车让人的待遇呢。第二天早上在小街上闲逛时，看到一个小学生在一条小路上等红绿灯过马路，当时远远的都没有车，他就站在那儿老老实实等灯变绿，不禁感叹了一番人家是多么严格地守规矩，难怪说德国人刻板呢。

到了Jacobs大学门口（上面有照片），找门卫领了钥匙，自己去找到了公寓楼，却发现不会开门，问了人才知道手中的小黑纽是电子感应的（唉，乡下人呐）。公寓里面条件还不错，缺点就是没有衣架，没地方挂衣服。时近中午，饥肠辘辘，跑到下面餐厅去饕餮了一番，快要吃完的时候看见Di了（之前看过她的照片所以一下就认出来了），她见了我欲言又止，估计不太确定这小子就是Yihui，我赶紧吞下嘴里的西红柿，和她打了招呼，因为之前邮件一来二去也比较熟了，见面没太多寒暄，她就直接领我去GGobi小组那边和他们一起吃饭，在这个小组里认识了Heike（ISU）、Hadley（Rice U）、Michael（ISU）、Debbie（AT&T Labs）和Andreas（Penn U），在那边一桌也见到了会议组织者Adi他们，Adi教授看起来挺年轻，长得也还挺帅，然后参会者陆续到达了几位，包括德国Augsburg大学的若干老师和学生，还有加拿大Waterloo大学的Wayne、York大学的Michael（这位是统计图形届的长老级任务），Utah州立的Jurgen，还有一位日本的学生（自我介绍时我就听见了名字最后几个字是什么什么马萨卡，心中有点小瀑布汗，后来才知道是Natsuhiko Kumasaka），等等。

第一天下午去了Di他们的GGobi开发小组听了听他们的讨论，几乎啥都没听懂，心中甚是郁闷，看见Michael的Emacs用得相当熟练，算是见识到了传说中的Linux程序员的最爱是什么样了。Debbie送了我一件上一届R会议的T恤，穿着还挺合身，后来我和她说了说我的动画网站和animation包。

吃过晚饭到了get-togeter的时间就觉得又累又困，所以在聚会的地方和人简单聊了聊就和一个Maryland大学的学生一起回公寓了。第一天晚上心情颇为郁郁，在国内讲英文或者开英文会议感觉不到这种氛围，当你真正处在一群外国人中间时，便觉得语言还真是一个问题。其中最为郁闷的是听不懂笑话，每当别人大笑时自己就愣在那儿，不知道人家笑啥。

后面几天几乎一天到晚开会听报告，长了一些见识，不过口语还是听不太懂，看来那些天眼睛出问题确实是老天提醒我要练习听力，可惜我没听……会上认识了另外一些传说中的人物，包括写Grammar of Graphics的Lee、R团队里的Friedrich（大胖子啊大胖子）、AT&T的Simon（也是R团队成员）等等。

走的前一天下午两小时参观市中心，晚上吃大餐，一顿饭吃了六个多小时，每上一次食物就要等一个小时，简直吃得累死我了，不过坐在Lee对面，听他讲了一晚上，从统计图形到政治时事，瞎侃了一番，回学校时和他一起在巴士上又聊了一会儿，发现他也有很多从网上下载的电子书（当我告诉他一个secret的时候他也告诉了我这个secret，最后我明白了这已经不算secret了），后来讲着讲着，发现Lee已经在自己的座位上开始“点头”了，寒。

晚上下车回公寓和York大学的Michael大爷一起走的，大爷说也许有机会上York去玩玩，或者什么时候上加拿大就去找他。我心中暗喜，这正是洒家去开会的目的啊。

从Jacobs大学离开的时候突然下了一场大雨，Hao和我一路往校门口狂奔，路上我看见Adi在往餐厅跑，跟他说了声再见，并补充了一句说"God is crying on my departure"，他大笑着跑过。就这样本落汤鸡奔到了火车站，雨就停了，NND，早不下晚不下，偏偏我走的这几分钟就下雨……

总体来说，不莱梅确实是个漂亮的小城，气候宜人，环境整洁，空气清新。我坐着电车在大街小巷弯弯曲曲行驶时，看着那些古典建筑，心中甚是喜欢。而坐着火车在小森林中穿过时，突然间也会有哈利波特中的那种感觉，仿佛火车穿过森林就开往某所魔法学校了。等我回到北京，看了中文介绍，才想起格林童话中《不莱梅的音乐家》，在那边老听他们说什么musician，愣是没想起来这篇童话，直到回来才明白过来那驴、狗、猫、鸡是怎么回事。

---
title: 屋漏偏逢连夜雨
date: '2008-07-06'
slug: bad-luck
---

前天早上买了一袋面包作早餐，吃了几个就扎起来放桌上了，刚刚觉得肚子饿，打开袋子一看，没想到面包都发霉了！这才过了不到48小时啊。

北京这两天天气奇差，要么烈日，要么暴雨，估计面包发霉和天气很有关系。

至于“屋漏”，指的是搬了新宿舍，楼管特严，要求每晚12点必须进搂，不然就锁外面了。现在已经是2点，寡人显然是进不去了，只好露宿街头鸟。

---
title: 点一下右键就知道你是程序员
date: '2008-07-07'
slug: programmer-and-svn
---

话说老谢今天下午去新浪帮忙解决问题，一伙人坐在会议室说着话，老谢用眼角瞥见一人点了一下右键，弹出如下菜单，心中便知，这位铁定是程序员了：

![](https://db.yihui.org/imgur/ZFqtK.png)

各位看官想必用SVN的并不多，所以对此菜单可能也没感觉。这老谢其实也是前两天刚刚花了几个小时看了一下SVN，啥都不懂，只知道改代码，然后Commit，服务器上的文件就更新了，而且新旧版本可以很方便地比较差异。这都是拜[R-Forge](http://r-forge.r-project.org/)所赐，前段时间我在R-Forge上新开了一个项目，有兴趣的可以[去瞅瞅](http://r-forge.r-project.org/projects/animation/)。
---
title: 置信水平最高的统计推断
date: '2008-07-09'
slug: alpha-equals-to-0
---

收拾电脑桌面，看见了这张图片，没地方放，发上来供大家乐乐，看看人家的统计推断艺术到了什么境界：

![](https://db.yihui.org/imgur/XbsWY.jpg)

想起上回在[首经贸演讲](/en/2007/10/jokes-in-statistics/)中提到的一则笑话：

> A statistician is someone who is skilled at drawing a precise line from an unwarranted assumption to a foregone conclusion.

这块天气预报石和这则Joke颇有异曲同工之处。
---
title: Rweb：交互式计算和作图
date: '2008-07-19'
slug: rweb-for-interactive-computation-and-graphics
---

昨天收到犹他州立[Juergen](http://www.math.usu.edu/~symanzik/)的回信，倒是提醒了我关于网页中的动画的一件重要事情，就是交互。以前接触过Rweb，不过没有想起来怎样把它用在网页开发中，这回想起来才意识到，其实把动画的计算和作图交给别人的服务器去做就可以了，例如明尼苏达的服务器（<http://rweb.stat.umn.edu/Rweb/>）。我要写的一点代码就是用JavaScript在背后偷偷把R代码提交到Rweb，然后再偷偷从服务器上返回的结果中取出图片地址，放在我的网页中就可以了。这一点我想应该是容易实现的。不过就怕别人觉得这太耗服务器资源，把寡人给封掉了。

这样一来，动画网页有望进一步扩展，而不必事先把图形都做好了放在某个位置。善哉善哉。（以前[李晓煦](http://lixiaoxu.lxxm.com/)老师的建议可以通过“曲线救国”的方式实现了）
---
title: 写论文之前要多多考察环境
date: '2008-07-23'
slug: examine-the-literature-before-writing-paper
---

今天无意间发现了三个月前[Jan de Leeuw](http://gifi.stat.ucla.edu/)把我的一篇论文分到了一位法国大哥[Romain Francois](http://francoisromain.free.fr/)手里。心想完蛋了，因为没在论文中提到这位哥哥的[R Movie Gallery](http://addictedtor.free.fr/movies/)，但愿这位主子宽宏大量，不要把我毙了（过了三个月了居然还没给答复）。其实[Paul Murrell](http://www.stat.auckland.ac.nz/~paul/)早跟我提起过，只是写文章时忘了引一下了。

另外突然想起来还得给GRE作文烧香，本小子愣是一篇作文都没练过就上场了（处女作就献给ETS了），“裸奔”到这种程度，估计史上也没几个人了吧。

    (   )   (    )   (    )
    (  )  (   )    (   )
    ( ) (  )  (  )
    () () ( )
    || || ||
    || || ||
    || || ||
    || || ||
    || || ||
    || || ||
---
title: 重见天日
date: '2008-08-07'
slug: back-again
---

话说这几天全国上下貌似都因某件事情紧张兮兮，俺这小破站也因同一台服务器上的某些网站没有备案而受牵连，莫名其妙被封了两天。

话说网站备案这件事，俺是大大的良民，早就在miibeian.gov.cn备好案了，不过本良民长期以来有一件事情没弄明白，为何那个网站自己不备案呢？不信大伙儿看看这个地址能否访问：

<http://www.miibeian.gov.cn/cert/bazs.cert>

算了，非常时期，还是少说两句为妙。
---
title: 热锅上的猪头
date: '2008-08-07'
slug: im-a-busy-guy
---

过两天就要去Dortmund参加useR! 2008了，到现在幻灯片都还没准备，连讲什么都没想。路线也没看，怎么去旅馆也没查，Dortmund到Frankfurt、Augsburg到Dusseldorf的火车票也没定，机场、火车站怎么走都没看。这下去德国可真是要晕菜了！

还有一批数据要清理、建模。

明天也许还要跑医院，侄子又有新情况，病情有变，这件事真是要了我的亲命！

软件程序没编就算了，回国再说。

还有英国的一个回归要做，不过没拿到数据，暂且不管。

今年国家背运，寡人也颇感背运，前两天火速回家一趟，又发现有个姐姐出车祸撞断了腿，俺的娘啊，今年这都是怎么了？

眼下Computational Statistics的投稿还没动笔，IASC2008的投稿也给忘了，真是郁闷。

唯一宽慰的是回家十天，一口气把我的书写到两百多页，不过回学校之后又是诸事缠身，恐怕再难得十天没人打扰的状态了。罢了罢了，睡也，睡也。尽人事，听天命。
---
title: 计量经济学与R
date: '2008-08-08'
slug: econometrics-and-r
---

[JSS第27期](http://www.jstatsoft.org/v27)为计量经济学专辑，对计量经济学感兴趣的不妨看一看。不过一共只有7篇论文（不算第1篇），内容可能不太全面。

看样子Achim Zeileis兴趣还挺广泛。
---
title: Excel中的缺失值和0
date: '2008-08-09'
slug: missing-value-and-zero-in-excel
---

假设单元格A1为空，那么若在B1中写公式 "=A1" 的话，则B1=0，显然这是不对的。在捣腾数据的时候慎用Excel。

![](https://db.yihui.org/imgur/8aANA.gif)

![](https://db.yihui.org/imgur/uNECG.gif)
---
title: 八月德国之行：第一天
date: '2008-08-11'
slug: germany-trip-1
---

话说热锅上的猪头现在已经在多特蒙德落脚了，于是搬出电脑，记下这流水帐。昨天早上7点的飞机，所以打算晚上就直接过去机场，找个椅子凑合着睡一觉算了，不过昨天晚上7点左右，本来还没打算去机场，一位朋友去机场接人，顺便就叫我一起过去，我于是三下五除二跑回办公室拿上机票和护照，草草收拾了一下东西，带上相机和电脑，然后回宿舍拿上几套衣服，就匆匆出发了。临走前，我跟阿黄说，出过一次国之后再出去就没感觉了，看我这收拾东西简直就跟回家没两样。

于是乎，背着一个包上机场，有人帮忙安排了附近的旅馆，便住了半宿，夜里有虫子到处咬我，12点忍不住了，爬起来一巴掌打死，关灯继续睡。半宿无话。早上4点半被电话叫醒，洗漱完毕，坐旅馆的车到2号航站楼，毕竟走过两次程序了，轻车熟路，一会儿的功夫，登机手续、边检等手续刷刷搞定，不过边检时人家问我包里是不是带了榨菜，不知这是为何。7点飞机起飞。

看样子全世界的人们都来北京看奥运了，这往外飞的飞机简直就是空空荡荡，我估计一个大飞机也就50来人；刚刚飞了不到一个小时，大家全都刷刷躺下了。中间的座位是三个连一起的，连起来比较长，把座位的扶手往上一抽，就可以躺下了。我为了保险起见，还是把中间座位的安全带捆在身上了。刚开始空姐还准备说，后来看见大家齐刷刷躺下了，也没办法，让我们尽情坐了一回飞机卧铺。

中途莫斯科转机，紧张了一把，因为11:50登机，我11:55还在转机处等候办手续，心里那个突突突啊……刚办完手续，出门时不巧又遇到一位穿制服的大姐一起出门，大姐看了我一眼，说你是学生吧，我说是啊，她说稍等一下，就拿着我的护照又去办了个什么手续，真是急煞我也，拿回护照赶紧噔噔噔往登机口跑，还好飞机是12:30起飞，时间还够用，不过在莫斯科连张照片都没拍。莫斯科下着小雨，机场一望无垠，也没啥景色可拍，有人下飞机了在那儿照相，被工作人员严厉制止了。

从莫斯科到杜塞尔多夫是小飞机，人装得满满的，飞机上两个小baby，一前一后，一唱一和，好不热闹。一路咿呀咿呀到了德国。北京到莫斯科的飞机上吃的是面条，莫斯科到杜塞尔多夫变成了米饭，敢情俄国人以吃米饭为主？我两路上吃东西总觉得没味道，全都洒胡椒粉撒盐。吃面包和黄油倒是很习惯，拿到面包，咔吃咔吃用锯子锯开，涂上黄油就啃。

从杜塞尔多夫机场出来之后我算是晕了半天，因为完全搞不清楚火车站怎么走，楼上楼下跑了几遍，盯着箭头走，走到Sky train站台之后就不知该往哪边了，后来凭着狗屎运问了一位叔叔：

> - Me: Excuse me! Can you speak English?

> - He: Yes, I'm an American.

我暗自滴汗。

> - Me: How can I buy the ticket for the sky train?

> - He: It's free to take you to the railway station.

再汗。恰好这位叔叔也要去多特蒙德火车站，我心里嘀咕着，该不会是参加useR! 2008的吧？一路走着，他问我来德国干啥子，我说开会，他说开R会吧……于是真相大白。既然是一伙的，就一起买票一起坐火车了。路上跟他聊了聊，交换了名片才知道原来这位大哥是美国海军军官学校的一位Caption（上尉？上校？）。屁颠屁颠跟着他到了多特蒙德火车站，下车到Information处各自问了一下各自的旅馆位置，就各奔东西了。

话说我这回过马路是非常守规矩，老老实实等着灯绿再走。旅馆名叫Koenigshof，很容易就找到了。进门后前台的服务员极其热情，不知道这是德国普遍的状况还是这一家服务比较好，总之帮你跑前跑后，让人宾至如归。我让小伙子帮我查了一下从这里去Technical University Dortmund的路线，他三两分钟就刷刷在Google maps上查好打印出来给我了，还跟我好好解释了一番。等我进屋放好东西之后，发现没水喝，于是拿着杯子颠儿颠儿下楼问他有没有可以喝的水，他问是不是特别的水，我说普通水就可以，结果他告诉我直接接水龙头下的水喝就可以了（他老说bus room，我愣了半天终于想起来原来说的是bath room），不过后来还是给了我一瓶汽水，我都不知道花没花钱，貌似是送我的。

多特蒙德这个城市是相当漂亮啊，但相机没带USB线，暂时就不发照片了。不过这里可以看看网上的照片：

![这就是我说的Sky train，颇有坐过山车的感觉](https://www.cetic.be/IMG/png/dortmund-3.png)

![这就是我住的旅馆](https://www.hotel-koenigshof.biz/images/stories/bthumbs/haus.jpg)

![多特蒙德绿化率非常高](https://graphics8.nytimes.com/images/2006/05/28/travel/28worldcup_dortmund.span.jpg)

当地时间晚上7:20，北京时间夜里1:20，还是有点时差感觉，洗洗之后把后天要讲的幻灯片做一下，然后就准备睡觉啦。
---
title: 八月德国之行：第二天
date: '2008-08-12'
slug: germany-trip-2
---

今天主要是一些短期课程培训（tutorials）。早上去火车站买票，发现Visa卡似乎不能用，捣鼓了半天，找了个德国人问了一下那德语的错误信息是什么意思，后来用现金才成功地买了票。明明是英文界面，为啥不把错误信息也翻译成英语哩。

Technical University Dortmund离多特蒙德中心火车站挺近，只有三站。坐火车时，听车上的人谈话就知道有一大批人都是去参加会议的。于是到站了跟着大伙儿走，不过刚出站就发现一路都有useR! 2008的路标，一直指向数学楼。进楼有很多工作人员在那儿负责注册，注册是按照姓名分组的，我看了一下，我所在的S-Z组队伍特别长，于是对旁边的人说，大家的姓名是有偏分布啊（skewed）。会议材料中有很多赞助商的广告，REvolution公司提供了包，不过那个包实在太差了，要是在国内，一定觉得丢人；想想上回创新那个会，某校提供的包我们都觉得太“发展中国家”了，这回看来，其实中国人还是太爱面子。

到了会场才知道，压根儿就没人管你听谁的课，随便进出，所以后悔花了50欧注册课程，唉。上午听了Douglas Bates的混合模型，下午听了Frank E. Harrell Jr的回归分析策略。Douglas尽量避开讲理论，所以我没听懂多少，大致有点印象而已；而Frank这位老爷子则是属于颇有点功力的“愤青”（愤老？），比较风趣，也爱讽刺；提到`loess()`函数，问大家有多少人每天至少用`loess()`一次，结果就一两个人举手，老爷子说"That's really a scandal!"，言下之意，连Cleveland的`loess()`函数都不天天用，你就甭在统计界混了。总的来说，还是Frank的课程收获比较大，尽管讲的速度如飞。

下午课程结束之后有一个非正式的欢迎仪式，Uwe Ligges和Friedrich Leisch分别讲了话，谈了R是怎样来到多特蒙德大学的，Friedrich说Uwe用R做一些有趣的东西，比如tuneR（音乐），以后干脆组建一个R Band好了。大家于是狂笑。

仪式过后大家自由交流，我碰巧遇到了Nicholas Lewin-Koh，刚开始我还没意识到其实我给他写过邮件，后来谈着谈着他说你是不是给过我Email，我愣了一下，然后突然想起来原来他是[CRAN Task Views](http://cran.r-project.org/web/views/)中[Graphics](http://cran.r-project.org/web/views/Graphics.html)部分的负责人！

再过后我又开始感觉什么都听不懂什么都说不出来了，真是奇怪，在国内讲英语从来不会有这种感觉，怎么到国外了总是会出现这样的状况呢……上回在不莱梅也是这样，有时候觉得啥都听不懂也说不出来。到了7点多，觉得困了，于是先撤回来睡觉了。
---
title: 八月德国之行：第三天
date: '2008-08-13'
slug: germany-trip-3
---

昨晚忒困，强忍着准备了一会儿幻灯片，然后没洗澡就睡下了。早上起来洗了个澡，然后下去自助餐厅吃早饭。由于在国内某教练的长期严格训练，俺对西餐是没有任何不适应的状况。每天沙拉面包咖啡，吃喝怎叫一个不亦乐乎。在这边开会经常有coffee break，供应有水果和火腿面包，所以从早吃到晚，压根儿就不用专门吃饭。我一天到晚也都不饿。

上午John Fox和Kurt Hornik分别讲了R的社会组织形式和R的历史、现状和未来。我最早接触John是当年写本科毕业论文做结构方程模型的理论时，当时问过他一些理论上的问题；后来发现他与R的关系越来越密切，从Rcmdr包到回归（car）以及结构方程模型（sem）的包、到今年成为R News的主编（正巧前段时间给R News投了一篇文章，John基本上已经接受了），今天作为会议的第一个邀请发言者发表了他从社会学角度对R的发展的一些看法；写过R Package的人肯定都认识Kurt，虽说R的服务器在维也纳，但CRAN上的包基本上都是通过Kurt之手发布出来的。John讲得有些忘形，把Kurt的时间都占了一大部分，可怜的Kurt只好草草做了个报告。我发现John的英语口音和Michael Friendly的口音极为相像，莫非那就是加拿大英语？

接下来就是分会场报告了，分为两种形式：万花筒和主题报告；前者顾名思义就是乱七八糟的主题，后者则是在一个大的主题下报告自己的成果。上午的报告基本上没听懂什么，中午休息时间里我把我的幻灯片和演示材料整理了一下，下午第一场主要听了Bioinformatics的两场关于图示的报告，没看出有什么新意，然后听了一场Fedora和R的报告，也没怎么听懂，然后就coffee break，接下来就轮到我的演讲了，主席是Peter Dalgaard（Introductory Statistics with R一书的作者），我以前看过他的主页，所以一下子就能认出他来，不过不知为什么我总觉得他长得像哥伦布……我的幻灯片一共就4页（不包括标题、目录和Thanks那些页面），15分钟基本上刚好讲完，但今天讲的感觉很糟糕，口语简直创下了历史最烂水平，不过下来之后有些听众不知是出于礼貌还是怎地，总之是赞扬了一番。晚上在City Hall市长大人的欢迎会上，我又遇到了前天那位Captain，他兴冲冲地跑过来，说这会议很多演讲都很糟糕，但你的非常好，我看他的语气神态，貌似这个不是安慰我……Captain下午专门跑到我那个会场听了我的报告，说你的动画对我上课会很有用。

无论如何，我自己的广告算是打得差不多了，到现在已经在德国打过两次广告，下面得加紧开发进度了。不然人家闻名而来，发现不过just so so，那就亏大了。

听了两场Teaching报告和一场Connectivity报告之后今天的会议就结束了。晚上7点在City Hall有正式的欢迎会，市长大人亲自出马，用德语作了一个长长的致辞，旁边有人翻译成英语，我也没注意听，光和别人聊天了。今天发现会场中除了Friedrich之外还有两个人是我上次在不莱梅见过的，目前我只和其中一个人寒暄了几句。

欢迎会上我再次尝了德国的啤酒，这次的啤酒似乎没有上回在不莱梅那么苦，但对我来说还是太苦了；后来要了一杯白酒（12度），果然跟喝水一样，感觉不到有酒精。

OK该睡觉了，北京时间凌晨5点……明天有Peter Bühlmann的邀请报告，万花筒中也有一些巨头，应该会比今天的报告更有价值些。
---
title: 八月德国之行：第四天
date: '2008-08-14'
slug: germany-trip-4
---

我突然感觉这一系列日志的标题看起来就像是讲上帝创造世界一样，不过每天晚上回来都觉得困，所以懒得动脑筋想标题了。各位看官在忍受流水帐的同时再忍受一下无聊的标题吧。

有两件事情要先说一下，免得过会儿忘了。第一，CRAN的读法是C`[si:]`-RAN`[raen]`，而不是`[k'raen]`，不知道他们为啥要这样读；第二，德国这地方，有事没事会突然给你下一阵雨，一般不会超过10分钟，所以出门要注意带伞。

今天依旧是早上起来洗澡，然后吃饭，坐火车去学校。不过早上起得有点晚，所以没赶上8点最后一趟火车，等了20分钟之后才坐9点多的火车过去，到会场的时候Peter Bühlmann已经讲到一半了。到那儿才知道Peter原来是个年轻小伙儿，不是个老头子，因为以前见他发了很多篇重量级文章，还以为是个六十多岁的老头儿呢。不知道他在瑞士ETH Zürich统计所是不是撑了半边天。Peter讲的是LASSO的一种变体，由于俺数学太差，加上还迟到了20分钟，所以压根儿就没听懂什么。不过这次会议我倒是看到了几个巨头都挺推崇LASSO的，比如前面曾经提到过的Frank，我昨天晚上回来的时候从火车站出来恰好在他后面走，偷听他和别人谈变量选择的问题，他说在变量选择的问题上逐步回归等方法都不如收缩估计。Peter之后是Graham J. Williams，就是Rattle的作者；Rattle作为一种数据挖掘的工具做得还是挺不错的，无论是界面还是背后与R的交互，都做得比较漂亮。

茶歇之后去听万花筒，第一场是R-Forge的，我7月初已经在那里注册了我的Project，所以这场报告听起来很容易，讲的东西我基本上都已经知道了；第二场rjags包，贝叶斯的东西，不熟悉；第三场，vcd包，这是R包里面很有名的一个，起源追溯到Michael Friendly对分类数据展示的书，我暑假里写书的时候也看了一些函数的介绍，听起来相对容易了一些，几位作者都挺年轻；第四场也比较简单，是对Scatterplot Matrix的扩展，主要引入了分类数据在散点图矩阵中的展示，即：根据数据的类型决定每个Panel采用何种图形；上午报告结束。

中午遇到几位高雄医学大学的台湾同胞，一起聊了半天，这次参加会议的中国人大约有10人，中午那会儿在茶歇处扎堆聊天，除了一行台湾同胞，还有从英国和澳大利亚过来的，英国那位做生统的，这次还讲了一个tutorial，不过我没去听，看样子也是颇有几分功力的。

下午听的报告有用R自动生成报告的（诸如Sweave之类的），有将R嵌入其它软件的（如Excel、Statistica），有提高计算性能的，其中专门去听了Michal Bojanowski的报告，因为以前和他有过邮件来往，其实他讲的社会网络的博弈分析我也不懂，去捧捧场而已，见他在演讲中用了一段动画，不过看样子不像是R直接做出来的。

这次在多特蒙德除了遇见了Friedrich之外，还遇到了另外两位上次在不莱梅开会的参会者，其中一个红脸老头我忘了名字，查了半天也没查出来，另外一位是爱尔兰国立大学的Catherine Hurley，她一见到我就想起来了，看来我上次作报告时大家没打瞌睡啊。

今天突然发现这次会议有人报告的标题是"Statistical Cartoons"，于是回来赶紧查了一下，发现和我做的工作非常类似，心中不免有点担心JSS的论文了，因为这组作者已经在2007年JSS上发表过他们的rpanel包的论文了。我的包和他们的区别在于我可以将动画导出来，他们的目前只能在R里面观看动画，而且是基于Tcl/Tk和rgl的。现在看来，他们做的例子数目和我也差不多，要是加把劲，应该是能比他们做得更好的。

明天Gary King和Andrew Gelman的邀请报告，又是两位巨头啊。
---
title: 八月德国之行：第五天
date: '2008-08-15'
slug: germany-trip-5
---

历时4天的R会议今天下午3点半结束了。本次会议参加人数约400人，报告约70场，经常是五六个平行会场一起开，规模实在庞大。回想一下都觉得累得慌，脑子里塞了太多东西，一时难以一一回顾，回国之后再慢慢梳理吧。今天离开时Martin Maechler告诉我说现在有很多地方都想举办2010年的R会议（2009年的已经定在[法国Rennes](http://www.agrocampus-rennes.fr/math/useR-2009/)了），如果你想在中国举办的话最好早点向R Foundation申请。

早上去火车站遇到那几位台湾同胞，听说了他们的悲惨经历：他们一行四人去买票，在自动售票机上用了一张面值50欧的纸钞，结果被机器给吞掉了，因为机器只认识10欧和5欧的钞票，晕……跑去问火车站的人，别人说要填申请表、而且得等两个星期才能有处理结果。那位带头的老师说，只当是给他们作donation了吧。深表同情，500块钱就这样没了。

早上的两场邀请演讲分别是Gary King和Andrew Gerlman的，Gary讲到了Dataverse Network，感兴趣的参见网站[TheData.org](http://TheData.org)，似乎是一种数据共享方式；Andrew比我想象的年轻（我怎么总是倾向于把别人想老呢），看样子在R界捣鼓的有很多都是青年才俊啊，这位大侠以贝叶斯模型闻名，写了不少文章，他的一个Blog也很有名；鉴于我对Bayesian模型相当不熟悉，所以这里也没啥可说的。

上午的万花筒中我听了Jing Hua Zhao在遗传学中的各种图形报告，他目前在剑桥MRC Epidemiology Unit，看样子在界内还挺有名气，研究经验也比较丰富；然后去听了几场界面方面的报告，水平参差不齐，不过总体看来大家比较偏好Java和XML（竟然没听到有人报告Python）。下午的主题报告中我专门去听了那个“统计卡通”的报告，发现他们做的工作也并不太多，有些例子在TeachingDemos包中都有，例如Box-Cox变换等。不过他们做的比较早，在JSS也发过论文了，但貌似影响力不是太大。我的animation包相比之下更强调统计的味道，同时也可以将动画导出来，这样看来还是有生存空间的。作者报告完之后我过去找他聊了聊，那时候旁边有个小伙子听过我的演讲，甚是激动地把我的动画包描述了一番，说你可以**看到**梯度下降算法，可以**看到**K-Means算法，等等。看样子我去年11月份在研究生统计论坛上演讲时问的问题还比较有代表性：**你们做了这么久统计，看见过正态分布的似然函数长什么模样么？**（后来我用**rgl**包把似然函数用三维图形交互演示了一下）

下午会议结束时，我看见John Fox孤零零坐在那儿没事干，就抓紧机会跑过去搭讪，说我前些天给R News的投稿你还记得吧，他说当然记得啊，扯了几分钟，我说我以前曾经写信问过你结构方程模型的问题，他说不记得了，现在没时间继续写sem那个包，其实还有很多工作应该包括进去的（听众朋友们注意了，谁对SEM感兴趣的话可以从sem包开始跟John搭讪！）。当时Douglas Bates坐在旁边隔着几个位置，会议闭幕后我又抓住机会分别和John以及Douglas合影了，哇哈哈，寡人又有了两个将来能搭讪巨头的机会。现在R Core的21位成员中，已经有4位拿到了我的名片（Douglas Bates、Peter Dalgaard、Friedrich Leisch和Martin Maechler），2位和我合过影（Douglas Bates和Friedrich Leisch），1位（Paul Murrell）和我有邮件来往。嗯，继续实行放长线钓大鱼策略。今天也遇到了Michal小伙儿，我找他都找了几天了，还好在最后一天终于遇上了。

明天要出发去法兰克福找Alfons了，在网上用信用卡定了火车票，我现在对bahn.de网站还挺熟悉了，吼吼。18号夜里火车从奥格斯堡回到杜塞尔多夫机场，19号下午2点多飞机回国。

多特蒙德这边虽然呆了四五天不过没时间逛，主要就是听会。前天在小街上走，发现一家餐馆名叫“龙门客栈”，挺有趣的，可能是中国人开的，我在外面照相，因为天暗，相机自动开闪光了，结果里面做菜的厨师诧异地看着我，心里可能嘀咕着一家餐馆有啥好照的，我看神色不对，赶紧溜走了。明天早上想在市中心溜达一圈再走，不过到现在为止还没搞清楚那些景点都在什么地方……

顺便提一下，在德国看新浪的话，首页就是新闻页，不知为什么会这样处理；这边访问维基百科速度非常快，不像国内，经常需要用代理才能访问。
---
title: 八月德国之行：第六天
date: '2008-08-15'
slug: germany-trip-6
---

我现在正在法兰克福火车站第一站台的长椅上，拿出笔记本匆匆记下一笔。

---

本来打算今天早上起床之后在多特蒙德再逛逛的，可是起来就没多少时间了，加上昨晚查了半天也没搞清楚那些景点都在什么位置，所以作罢。洗完澡收拾好东西退了房，就直奔火车站，15分钟后开车，下午2点多到法兰克福中心火车站。去之前跟Alfons约好了3点见，不过等到3点他还没来，我就拿出笔记本在那儿上网，写下了上面一句。

3点半左右看见Alfons来了，一起喝了杯咖啡，然后他开车带我往东南方向奔。我之前没想到他是自己开车一路从立陶宛过来的，所以见他往车库走还挺吃惊的。他的“别摸我”上装有GPS导航系统，一路不断报路线，大多数时间当然都是在高速公路上，这家伙开车巨快，对我说在德国你想开多快就开多快，没有速度限制，还说因此德国的车质量都超好。一路狂飙两个多小时到班贝格（Bamberg）歇脚。

班贝格这个地方有浓厚的历史气息，曾经是神圣罗马帝国皇帝和主教的驻地。我们找好旅馆之后天还没黑，所以就溜达着去看了班贝格大教堂、雷格尼茨河上的老市政厅、小威尼斯等景点；德国这地方貌似所有地方都有强烈的宗教气息，随处可见天主教堂。逛之前在一家酒吧喝了一大杯啤酒，可惜那时候天比较冷了，啤酒不能发挥它的效应。这是第三次喝德国啤酒，我发现我基本上已经适应那种苦味了，咕咚咕咚大口喝完便出去溜达；逛完之后在一家露天餐馆吃饭，要了一份土豆和牛肉，他们那旮旯似乎都是把土豆当主食吃的。吃完回旅馆，上网发现需要密码，于是睡觉。
---
title: 八月德国之行：第七、八天
date: '2008-08-18'
slug: germany-trip-7-and-8
---

同志们，我现在在Kempten，但其实我不知道我在哪儿。汗。这两天上网不便，所以没有抓紧写流水帐。到德国这些天，每天讲着鸡零狗碎的英语句子，晚上做梦时梦境里说话都变成英语语境了，我真是超适应环境……

先简单列一下这两天的行程吧：昨天在慕尼黑，没有特意去看什么景点，上午在路上，接近中午时去了English Garden，巨大的园子，景点很多，不过我们基本只看了中国塔，然后在大园子里走了半天，中午找了旅馆，然后去吃了Döner kebab（土耳其旋转烤肉），这玩意儿挺有趣，类似肉夹馍，但是肉是从一个竖着的巨大肉串上刮下来的，味道还不错；下午Alfons去机场接老婆了，我自己四处溜达了一圈，他回来之后我们去一处佛教（貌似是藏传佛教）打坐静思的地方接人，最后一起去老城区喝啤酒，那边有很多人在抗议俄罗斯与南奥塞梯的战争，这是我第一次现场看到公开抗议活动；喝完酒去一家意大利露天餐厅吃Pizza，我不顾可能闹肚子的危险要了一份海鲜Pizza，拿上来后发现特别腥，还好我对此不太敏感，说实话味道和国内吃的Pizza也并不相上下；德国抽烟的女人似乎比男人都多，呃，不管男的女的，总之我很是不喜欢烟民。吃完饭回旅馆，因为不能上网，所以只好看电视，所有频道都是德语，只有一个CNN台报道战争是用英语，不管那么多了，反正没事干，德语就德语好了。11点多睡觉。

今天从慕尼黑出发先去了Andechs修道院，在那边看了看寺庙，我还去听了一会儿唱诗，那种情景还是挺震撼人的；据说这个修道院自己酿酒，不过我们没去品尝；修道院出发去了Oberammergau（德语地名一个个暴长无比！），据说那里以木雕闻名，各种小店确实有很多木雕，主题仍然是宗教，墙上到处都是耶稣受难的图或者雕刻，我们在那儿找了一家德国餐馆吃了饭，已经是下午4点，然后奔往天鹅堡，这是慕尼黑周边很有名的景点，在天鹅堡爬爬山看看城堡就离开了。

Alfons说Oberammergau那地方是阿尔卑斯山的起始部分，我观察海拔并不高，搞不清楚，回头再考证吧。总之这些天在德国玩从来都不知道自己具体在什么地方，稀里糊涂，很多地方都是回来上网查了之后才知道，哦！原来我去过天鹅堡啊……

明天去奥格斯堡呆半天，晚上坐夜车回杜塞尔多夫，19号下午飞机-莫斯科 -北京回国。晕里希乎的德国之行就要结束了。回去估计一个月内很可能没时间整理照片：（

德国这个季节已经颇有些寒意了，晚上在外面走我都觉得特冷，今天这家旅馆更夸张，我进来时暖气都开着，ft。
---
title: 八月德国之行：第九、十天
date: '2008-08-20'
slug: germany-trip-9-and-10
---

18号上午起来从Kempten坐火车去Augsburg找皓哥，同时也就与Alfons告别了，白吃白喝白住了他这么多天，我这人真是一点都不客气：D

奥格斯堡城市很小，据说骑自行车半个小时就可以穿过。皓哥在市政厅前面的广场上热情招待了我，吃完饭在城里四处溜达了一圈，看了看莫扎特他爹住过的房子、曼恩集团的厂房，还有老城墙等等。最后去奥格斯堡大学转了一下。我发现德国的校园似乎都没有门，上回在多特蒙德大学也是看了半天没看见校门，走着走着突然就在校园里了。随后参观了一下数学系，就动身购物去了。前些天在德国玩也没什么时间买东西，走马观花游得飞快，所以只好最后一天在奥格斯堡买了点东西。在欧洲买东西真是花钱如流水啊，看着价格后面再添个0，觉得什么都贵的要死（除了巧克力）。

晚上皓哥下厨，手艺非常好，鸡翅、烤肉、自制的土豆沙拉……一边大快朵颐一边喝啤酒，这日子过得真叫一个痛快。不过很不幸的是我发现我去德国之后饭量明显变小了，最后米饭没吃完，啤酒也剩了半瓶，鸡翅和烤肉倒是席卷而光。吃完饭，看了看奥运重播，就到动身回杜塞尔多夫的时间了。热情的皓哥大半夜的送我去奥格斯堡火车站，直到送上火车才离开，有人说东北人是活雷公，有人说是活雷锋，我看还是雷锋比雷公多。

这段行程就是我在德国最惨烈的一次经历了：半夜3点多我莫名其妙被列车员叫醒，大爷不停对我说什么“库不兰兹”“库不兰兹”，可怜我又完全不懂德语，我见车厢里大部分人都下车了，还以为火车出什么问题了要换车（本来是直达杜塞尔多夫的），于是迷迷糊糊下了火车，晕头转向不知要往哪儿去，看见前面两位年轻小哥，边上去问，二哥，这杜塞尔多夫咋个走啊？二位哥哥好心帮我看了半天，研究出几种路线，最后发现刚才那趟车没问题，就是去杜塞尔多夫的，我本应该坚守岗位，早上6点多就到了，结果这下好，那车停了两分钟就开了，我三更半夜在一个从没听说过的地方（Mainz）迷糊打转，最后上自动售票机上查了一下，还有几条去杜塞尔多夫的路线，不过都要换车，而且有几条都是ICE（特快），我一咬牙，心一横，奶奶的，蹭特快去！于是乎，等到5点10分，一趟开往法兰克福的ICE来了，我赶紧跑了上去，结果发现特快的车上查票比普通列车上要严格多了，普通车压根就不怎么查票，而特快上面挨个查，妈呀，幸好只有一站就可以换下一趟车了，所以我跟验票员姐姐装无辜，说我不认识德语，云云，那我下一站就下好不好，姐姐说好，我于是成功到达法兰克福；6点30分开往杜塞尔多夫的ICE来了，我又蹭了上去，这回我也不装无辜了，直接跟验票员阿姨说那趟车莫名其妙让我下来了，本来我6点10分就已经到了，但不知道那趟车发生什么问题，所以我就改这趟了，阿姨说Ok，OK，然后咔哧给我打了票，我就理直气壮地坐到了杜塞尔多夫。差点浪费好几百块钱，噫。另：德国的公交车、火车一般很少查票，所以想逃票是很容易的，不过我一般都老老实实买票了，这次是因为那列车员大叔没讲清楚，所以蹭了一回车，hoho。

因为夜里没睡好，第二天到杜塞尔多夫机场时困得要死，一点玩的兴致都没有，于是在机场呆了一上午，简单逛了逛，然后在椅子上打瞌睡。下午2点50飞机，我过安检之后在候机厅的椅子上居然坐着睡着了，检票登机时幸亏一位俄罗斯姐姐好心把我叫醒，要不然不知会在那儿睡多久……晚上到莫斯科转机，中间有两个小时间隔，所以再去逛了逛莫斯科的商店，本想买那俄罗斯套娃，可最小的也得花10欧左右，质量也不咋地，心想100块钱买这么些薄木片真是不划算，于是作罢。安检一片混乱，我真担心这战争年代会有某地区的恐怖分子混进去劫机，后来一路飞回来也没啥异样，落地时总了一口气。

在机场出来想逗逗那些志愿者小孩，比如假装自己是日本人或韩国人问个路啥的，不过觉得人家辛苦得很，这样太不厚道了。打道回府。在宿舍放下东西去食堂吃了饭马上就回办公室了，又开始我的驴子拉磨生活了！

-----------------------------------我是拉磨分割线-----------------------------------

话说今天去拜见赵老师，简单汇报了一下行程之后，他对我的书提出了不少意见。我一直同意他对我的一点要求，就是要努力创造高水平的产出。本驴子也正在使劲。这两天抓紧处理一些紧急的事情后，马上再腾出几天时间在那本书上集中加把劲。然后就要开学喽，然后时间又要变得鸡零狗碎了。

-----------------------------------我是后记分割线-----------------------------------

话说这次R会议之后我收到了几份对动画包的反馈，看起来上钩的都不是大鱼，不过我也不是完全清楚人家的底细。下一步要加快速度写函数了，以大取胜。下学期争取能用这些鱼去钓更多的机会。善哉善哉。困死了，我回去睡他个天昏地暗加地老天荒。
---
title: 八月德国之行：照片
date: '2008-08-21'
slug: photos-from-germany
---

没工夫整理了，乱糟糟[扔在这里](https://photos.app.goo.gl/c8mogv4deEpJVNJS6)、

话说我今天睡了16个小时，不知道有没有破世界纪录。
---
title: 数据导入/导出的通用方法
date: '2008-08-22'
slug: data-import-and-export-approach
---

总有人对数据的导入/导出产生疑问，比如SPSS怎样导进LISREL，或是SAS怎样导进Stata，或是Excel怎样导进R，等等。其实一般情况下这种问题并不是什么大问题，我们总是被软件蒙蔽，猜不透数据文件背后究竟是什么，或者根本没有想过文件里面究竟是什么。我对计算机文件的机制了解并不多，我只知道两种基本的格式：ASCII格式（或纯文本格式）以及二进制格式。后者是经过某种规则编码了的，所以用纯文本编辑器打开一般看不到内容，而前者就简单多了，用任何纯文本编辑器（如记事本）都可以打开看。

纯文本格式是几乎任何软件都支持读写的，因此它可以成为软件之间互相“沟通”的桥梁。比如Excel可以另存为CSV文件，然后由R用`read.csv()`读进来或者由SPSS的Read Text Data导进去，等等。所以一般情况下通过纯文本文件行事就足够了。

统计数据的形式一般都是二维表格，行为观测，列为变量；纯文本数据中当然要想办法将行列用一定的标志区分开来。对于行，当然就是换行符（例如回车），这没什么好说的，用编辑器打开看到就是一行一行的；对于列，则稍有不同，这就涉及到分隔符（separator / delimiter）的问题了，它们的作用就像是Excel或者其它表格软件中的网格线一样，将一列一列分隔开来，每一列对应一个变量，分隔符可以是任何字符，但常见的一般是逗号（`,`）或者制表符（`\t`，Tab）。所谓CSV文件，也就是以逗号为分隔符的纯文本文件，我们可以将Excel数据存为CSV格式，然后用记事本打开看看就明白了。Windows下CSV文件（`*.csv`）的图标一般是Excel的图标，其实这是很具有误导性的，CSV与Excel毫无关系，只是纯文本文件的一种而已。

这是关于数据的很基础的知识，但我发现很多人并不明白。怪哉。

纯文本文件之外的统计数据我通常推荐采用专门的数据库作为存储工具（尤其是支持SQL的数据库），而不是Excel或SPSS等软件，用数据库捣腾数据一方面比那些看起来易用的Excel或SPSS更高效，另一方面也比较安全。前面我[刚刚谈过这个问题](/cn/2008/08/missing-value-and-zero-in-excel/)。

从今以后，关于数据导入/导出的邮件我也将不再回复。
---
title: 邮件的回复地址
date: '2008-08-22'
slug: reply-address-of-email
---

有时候我收到邮件之后却没法回复，一检查，对方的邮箱地址或者域名根本就不存在，这让人很郁闷，尤其是有时候写了半天，发出去却显示失败。

我琢磨着可能这些人的邮箱设置了一个并不存在的回复地址。比如用 `xxx@xxx.com.cn` 发邮件，而设置 `xxx@xxx.com` 为回复地址，但后者并不存在。这样就麻烦了。

这位 `yangying@sbc.org` 的朋友请检查自己的邮箱设置吧。
---
title: Processing语言简介
date: '2008-08-31'
slug: an-introduction-to-processing
---

上次在不莱梅的时候我曾经看见过AT&T的Debby在浏览一个网页，当时我也不知道那个网页是什么，没太在意，只记得她说"the examples are silly"，而前两天我突然发现我知道她当时看的是什么了，那就是Processing！

网址：[http://processing.org/](http://processing.org/)

刚才本来已经收笔了，突然想起来这件事，不得不记下来，因为我觉得这门语言的设计理念和我做动画的想法非常一致，以后我可以考虑利用它。

Processing语言的作者为Casey Reas和Benjamin Fry（MIT的家伙），他们设计这门语言的目的是想将计算机编程变成一种可视化的趣事，让程序苦海中的人们能够得到一丝喜悦和回报。这个目的可真够人性化的……Processing的长处在于做动画，你可以任意发挥你的想象，把日子过成段子。要想知道想象力的水平能达到多高，请参阅首页的几个例子。

有一位叫John Resig的家伙呢，他觉得Processing的运行需要Java环境，这样对用户要求似乎高了点（实际上这个要求已经很低啦），于是乎，这个小伙子花了几天时间（也许是几个月吧）把Processing整个移植到了[一段JavaScript](http://ejohn.org/blog/processingjs/)中，这样的话只需要浏览器支持JavaScript就足够了（这简直不是什么要求）。你不得不承认，世界上有很多疯子和神，而且很年轻，这个疯子看照片就二十多岁的样子，已经写了一个大函数库和一本书；他的第二本书居然取名叫做《JavaScript忍者秘笈》。

不知各位听我罗嗦了半天昏昏欲睡的看官看了这些东西之后是不是也有点战斗欲望呢？

> 2012/03/15更新：四年后我再来看，发现这个项目已经成长为专门的网站了 <http://processingjs.org/> 而且居然有在线IDE！

---
title: 八月的尾巴
date: '2008-08-31'
slug: in-the-end-of-august
---

恐怖的九月就要来到了。现在听到“九月”简直就背脊发寒，暑假的结束似乎意味着休息的概率从0.05降到了0.001。这个暑假东奔西跑，霎时间觉得地球确实很小。用Alfons的话说，就是“中国很大，但是世界很小”（China is big, but the world is small）。当你觉得世界很小的时候，你就明白随遇而安的心境了，记性好的观众朋友们应该还记得我提过Jan de Leeuw的Skype签名档：No matter where you go, there you are；如今我也不管出自哪个“子曰”了，将其直译为“不管你呆在那儿，丫就好好呆着吧”。在这因特网时代，随时可以实现“谈笑有鸿儒，往来无白丁”（《网吧铭》？）。

昨晚捂着肚子还在帮人救急，可是救完一个还有一个，一眼望不到头。额滴神以及娘以及上帝啊……不过生性乐观的谢某人一直相信这是大家都要降大任于斯人也。

这两次给某一帮人讲东西的时候，脑子里总是冒出有一次学院高老师在听完我的报告后对我说的一句话，她说你这是要把日子过成段子啊。没错，一语惊醒梦中人呐，我就是想把日子过成段子。只有把日子过成段子，日子看起来才有滋有味，不然老是驴子拉磨的生活，一圈又一圈，没有个目标也没有个头。

![找不到驴子拉磨的图片，只好用这一张顶替了](https://db.yihui.org/imgur/OGtOwN1.jpg)

西边的太阳就要落山鸟，恐怖的九月就要来到鸟。好了，没空罗嗦了，无论如何，我们还是要勇敢面对生活。

![](https://db.yihui.org/imgur/WLrJyWg.jpg)

![](https://db.yihui.org/imgur/XyPscDe.jpg)

![](https://db.yihui.org/imgur/47fsopI.jpg)
---
title: 大家来找茬：这批数据有什么特别之处？（已提供真相）
date: '2008-09-02'
slug: whats-special-in-this-data
---

据我所知，历史上“大家来找茬”游戏中应该从来没有过找统计数据的茬的事件（不过国外曾经有类似的事情），老夫再此开一个先例，[数据文件下载](https://github.com/yihui/yihui.github.com/releases/download/latest/special-points.zip)。

一共20000条数据，2个变量，看看这数据有啥特别之处呢？走过路过，千万不要错过。大约一周后公布答案。

注：答对有奖。于北京市各大商场超市领奖，领奖办法：任意商品均为奖品，拿了就使劲跑。

---------------------------------------我是答案分割线---------------------------------------

事实的真相是：这20000行数据中，有10000行是正态分布随机数，另10000行是在一个半径为0.5的圆上。为了揭露其邪恶本质，特提供[这五种办法](/en/2008/09/to-see-a-circle-in-a-pile-of-sand/)。欢迎大家继续提供解决方案。

<iframe src="https://player.vimeo.com/video/4745847" width="500" height="465" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/4745847">Density surface of 2D variables</a> from <a href="https://vimeo.com/yihui">Yihui Xie</a> on <a href="https://vimeo.com">Vimeo</a>.</p>
---
title: 三只蚊子三只蚊子跑得快
date: '2008-09-04'
slug: dead-mosquito
---

吃完晚饭，休息片刻。刚才回到办公室看见Wang M.在我的座位上用我的电脑，见我回来她起身说，“你这儿有好几只蚊子咬了我几下，打了好半天。”我故作大惊状，“哎呀！我辛辛苦苦在这儿养了几年的蚊子，居然都被你打死了！”

事后我琢磨着这话自己听着耳熟，后来想起来那是周星星在《唐伯虎点秋香》中哭小强的情景。
---
title: 用偏最小二乘求解结构方程模型基本属于鬼扯
date: '2008-09-04'
slug: ridiculous-to-use-pls-to-solve-sem
---

这篇日志的数学理论参见朱利平和刘莉2005年的一篇论文《线性结构方程参数估计的一种简单方法》，载于《应用概率统计》。

偏最小二乘法（Partial Least Square，PLS）求解结构方程模型的基本思路是：先用PLS分别求出因变量和自变量的线性组合系数（只求第一成分！），然后根据SEM的形式，将这些线性组合**拆分**为潜变量，然后再计算各个潜变量的数值（因为它们都是观测变量的线性组合），连潜变量都可以计算出数值的话，我们便可以为所欲为了，下面根据这些数值分别和观测变量做回归，求出观测变量对潜变量一一回归的系数，便是测量模型的系数了，最后拿因变量的潜变量对自变量的潜变量一一回归，便得到了结构模型的系数。

记得吴老以前曾经在课上讲过，对于结构方程模型，PLS方法相对于协方差建模来说优势在于前者可以计算出潜变量的值，这句话我不敢苟同，因为我觉得这不能称之为“优势”，充其量是披着人皮的鬼扯。详细原因我没时间写，大致有这么几点：



	
  1. 为什么只取第一成分（或第一组线性组合）？按照“信息”的观点，第一成分未必提取了足够的信息。

	
  2. 为什么一个成分是由若干个潜变量相加而成？或者为什么一个成分可以拆分为若干个潜变量？这种拆分的理论依据何在？仅仅是因为知道某几个观测变量受一个潜变量影响，就硬性从一个成分中提取这几个观测变量的线性组合作为潜变量的代表？

	
  3. 既然潜变量是由观测变量线性组合而来，为什么下一步又要反过来，拿观测变量对潜变量做回归？即：拿每一个观测变量的值和几个观测变量的线性组合值做回归。这一步逻辑是如何扭转过来的？观测变量究竟是原因还是结果？

	
  4. 潜变量作为观测变量的线性组合是什么具体意思？看起来是加权求和的样子，所以大多数做满意度的人都把它奉为“满意度指标”，而这种权数的依据（协方差最大化）和真正的满意度究竟是什么关系？


欢迎力挺结构方程模型以及做满意度研究的朋友们拍砖。
---
title: 娇客二则：（1）不明白你为什么明白（2）光合作用
date: '2008-09-05'
slug: dont-understand-why-you-dont-understand
---

第一则：刚才看到这么一则Quotation


> "I can't understand it. I can't even understand the people who can understand it."
> 
> --- Queen Juliana


这句话正好说出了我对某些统计模型的感受。我自己不明白，但我更不能明白为什么别人能明白。例如结构方程模型。

第二则：光合作用

Yang, Y.经常忘记吃饭，今晚又没吃饭，我们两人站在电梯里，他说，“我老是忘记吃饭，还是这么胖。”我说，“那只有一种解释了——你能进行光合作用。”


------------------------------------------我是Joke二则结束分割线------------------------------------------



我这两天在想，我对于生活中那些幽默的追求一定遗传自我爹。老爷子尤其擅长把废话讲成笑话。有一次骑着摩托车行驶在乡间小路上，别人见了大喊，“嘿，看你的后轮！”他故作大惊状：“怎么啦？轮子是圆的吧？”（言下之意就是别人不知道这世界上轮子是圆的，其实是提醒后轮没气儿了）我听了忍俊不禁。
---
title: 我叫谢益辉，谢是谢益辉的谢
date: '2008-09-09'
slug: how-to-write-her-name
---

新鲜Joke一则：

刚才办公室某路人乙问，周密的密怎么写？某路人甲回答：秘密的密。

可惜了，这则Joke只能讲，不能写。

然而，路人乙居然写对了。一时间我晕倒两次。
---
title: 为什么避免用Excel作统计计算
date: '2008-09-10'
slug: why-avoid-excel-to-do-calculation
---

今天看了[Gregor Gorjanc](http://ggorjan.blogspot.com/)的一篇小文章"[Excel 2007 for statistics?](http://ggorjan.blogspot.com/2008/09/excel-2007-for-statistics.html)"，主要是综述Excel在统计计算中的种种“罪行”。世人一向觉得Excel用起来方便（或者更多的人也许不知道这世界上还有[Open Office](http://www.openoffice.org/)或者[Gnumeric](http://www.gnome.org/projects/gnumeric/)），却不知里面各种严重问题。

其中有一段很有意思，说Microsoft在Office 2003的时候就像把Wichmann-Hill随机数发生器放进去，但是失败了（不仅会产生不在[0, 1]区间内的数字，而且会产生负值！），等到Office 2007发布的时候，这个随机数发生器还是没能被正确加入；而事实是，这个随机数发生器的代码不过是寥寥几行而已。不了解它的同志们请参考R帮助`?RNG`。


----------------------------------------我是附加题分割线----------------------------------------



我突然想起那个猴子打字问题，比如某动物园有100只猴子每天在键盘上随机乱敲，问它们在4年内是否可能敲出Wichmann-Hill随机数发生器的源代码？或者换一个问题，假设这段源代码已经由别人写好，请问这100只猴子在4年内有没有可能把它正确插入到Excel的源代码中？


---------------------------------------------片尾广告---------------------------------------------



广告时间到了：[生物统计和生物多样性数据分析培训班](http://peixun.ibcas.ac.cn/shengwufx)。11月我将去香山讲两天R语言，这次有望大力推进一步R在国内的发展。
---
title: 人生何处不相逢
date: '2008-09-11'
slug: people-meet-everywhere
---

话说今天在R-help的邮件列表中我回了一个“帖子”，然后发现ETH Zurich的Martin Maechler发现了我的回帖，给我发了一封邮件，说还记得我的小名片，上次多特蒙德一见，没有深聊，回头再看看你的动画，云云。

我心想这家伙记性真好，我跟他见面时间不过三分钟而已，居然还记得我。

又及：如果想锻炼英文，那么就订阅一个英文的邮件列表吧。每天上百封邮件，想学不好英语都难。另外，里面圈子相对小一些，认识人也比较方便。
---
title: 狗与猫的对话（老虎不发猫，你当我是病危啊）
date: '2008-09-12'
slug: tiger-is-not-hello-kitty
---

吃饭归来路上，在宿舍楼后遇见一只小狗和一只小猫（似乎是流浪猫）。主人在一旁看着猫，狗在一旁看着主人。狗大概觉得主人有了新宠，心中颇为愤愤。于是：

狗：（郁闷）唔~\~汪汪汪！

猫：（沉默）

狗：（你小子哪根葱）唔~\~~汪汪汪汪！

猫：（你个痴线，继续沉默）

狗：（哟呵，小狗不发威，当我是Hello Kitty呀）唔~\~\~~汪汪汪汪汪！（声音开始高八度）唔~\~\~~哇哇哇哇哇！

猫：（痴线，爷不跟你一般见识，扭头慢慢爬走）

狗：（刚准备开口，主人扔了个球，于是伸着舌头喘着气儿颠颠儿跑去捡球了）

本期节目播送完毕，谢谢收看。（只见那漫天的西红柿朝我飞来）
---
title: 话说圈子的大小以及统计图形的背景
date: '2008-09-13'
slug: academic-circle-and-background-of-stat-graphics
---

这是两个主题。先说第一个：最近[Alfred Inselberg](http://www.math.tau.ac.il/~aiisreal/)老爷子去韩国了，给我写了一封邮件，说要给我介绍另一个"Joke Man"，他叫[Moon Yul HUH](http://stat.skku.ac.kr/myhuh/)。我当时没在意这个名字，上网搜了搜，SKKU的统计系网站打不开，什么都看不到，而今天突然发现这位教授10月份要来我们学院开一场讲座，心中大惊，数据可视化的圈子真小。等他来了我们可以来一个Joke擂台赛。

第二个：浏览网页看着看着，看到[Martin Theus](http://rosuda.org/%7Etheus/)那旮旯去了，突然发现原来[这个Blog](http://statisticalgraphics.blog.com/)是他写的！以前有眼不识泰山，今天又好好看了一遍，看着看着又链接到另一个[R图形网站](http://zoonek2.free.fr/UNIX/48_R/04.html)上去了，往下拖着看的时候突然又想到我在书中提到的统计图形的设计要适应问题的背景，比如全球变暖的图应该用火焰般的面积图。然后我就操起键盘设计了这样一幅关于婚姻幸福的饼图（[数据来源](http://news.sohu.com/20060901/n245103639.shtml)）：

![婚姻幸福比例](https://db.yihui.org/imgur/DNtTSZT.jpg)

---
title: 回归分析中的交互作用展示
date: '2008-09-18'
slug: demo-of-interaction-in-regression
---

我们常见到的教科书上对交互作用的展示一般都是分别给定第二个自变量，然后看第一个自变量对因变量的影响随着第二个自变量取值变化会有何变化。总之，用到的图形都是二维图形，这里我以三维图形来展示交互效应的效果。首先看变量之间没有交互的时候是什么效果：

![无交互作用](https://db.yihui.org/imgur/Mv8F4.png)

无论是从x方向还是z方向来看，y（气泡大小）增大的速度都是一样的，例如x=0与x=10的时候，随着z的增加，y增加的速度一样（因为y与z是线性关系，这种关系不受x影响）。

![有交互作用](https://db.yihui.org/imgur/FzsUH.png)

而有交互效应的时候情况就不一样了，y在x或z方向上增大的速度会与x或z本身的取值有关。例如图中x越大，则y沿着z增大越快（因为斜率里面包含了x）。

不知这种形式是否比教科书上几道折线更清楚一些。这个问题灵感来自于R-help的邮件列表。R代码参考[英文Blog](/en/2008/09/to-observe-interactions-in-bubble-plots/)。
---
title: 多个离群点的探测
date: '2008-09-18'
slug: multiple-outliers-detection
---

据说多个离群点的探测问题是一个统计难题，这里是我的[粗略想法](https://github.com/yihui/yihui.github.com/releases/download/latest/multiple-outliers.swf)，由于太粗略，我就不解释了。

<embed width="600" height="400" src="https://github.com/yihui/yihui.github.com/releases/download/latest/multiple-outliers.swf" type="application/x-shockwave-flash">
---
title: 网络上的开放课程
date: '2008-09-19'
slug: open-courses-in-the-web
---

我想不出十年时间，我们就可以呆在家里任意上课了。如今据我所知已经可以在线听课的地方有：



	
  1. [VideoLectures](http://videolectures.net/)：杂乱的课程视频，想听什么就听什么，有大量的统计课程。

	
  2. [Stanford Engineering Everywhere](http://see.stanford.edu/SEE/courses.aspx)：计算机、人工智能方面的课程视频，有一门[机器学习](http://see.stanford.edu/SEE/courseinfo.aspx?coll=348ca38a-3a6d-4052-937d-cb017338d7b1)。

	
  3. [MIT Open Course](http://ocw.mit.edu/OcwWeb/web/home/home/index.htm)：MIT繁多的课程，不过以讲义为主，没什么视频。里面当然也少不了统计学的课程。包括[数据挖掘](http://ocw.mit.edu/OcwWeb/Sloan-School-of-Management/15-062Data-MiningSpring2003/CourseHome/index.htm)和[机器学习](http://ocw.mit.edu/OcwWeb/Electrical-Engineering-and-Computer-Science/6-867Fall-2006/CourseHome/index.htm)。


我们学院这学期开始大力引进国外老师来开讲座，个人认为这种成本太高，大老远来一次也就只讲一两个小时，其实学生自己应该积极去利用这些免费资源，熟悉了别人的学术环境以及背景知识后再请人来现场讲，效果应该好得多。还有些想出国的学生，其实也可以提前一两年听别人的课，尽早适应环境。出国这件事上我是不主张到了最后一两个月再海投简历的。
---
title: 一种新的检验方法：眼球检验（Eyeball Test）【请路人帮忙】
date: '2008-09-23'
slug: eyeball-test-fake-coin
---

做统计假设检验的同志们注意了，今天我们介绍一种新的检验方法，姑且称之为“眼球检验”，顾名思义，也就是用你的一对眼珠子去完成检验。

问题来源于Dennis Lin的课堂作业，说是有两份抛硬币得到的结果，1代表正面，0代表反面，两份结果如下：

    
    (A)
    11110000000000100000101100000100000101001111001100
    01111110010110110101101001111001100011011101100000
    10001001111110100100001011001011101101110001010010
    01100111111100011100101000101001110011100010100111
    
    (B)
    01110010010010100010011110010100010011010111001110
    01111011010111101101001000111001101011010101101001
    00101001110110100100001110101101101001110101100110
    01110011110110001110011010111001110011110010100111


现在请问你觉得哪份结果可能是作弊（或者哪枚硬币不均匀）？

Lin在课堂上提供了三种方法：（1）求和，看正面朝上的次数是否正常；（2）求游程数，看游程的数目是否正常；（3）游程最大长度是否正常（连续出现最多的0或1的长度）。我觉得这三个统计量的分布用简单的概率论都可以推导出来，不过Lin主张用Monte Carlo方法偷懒去做，也就是随机模拟长度为200的伯努利分布序列（p = 0.5），然后看三种统计量的分布如何，再看从以上样本计算出的统计量是否处于极端的位置，由此得到P值。这都是正道，而我通常是喜欢研究旁门左道的人，我琢磨着能否用眼珠子直接看出来哪份结果可疑，因此本次节目想拿各位路人做一个**心理认知试验**。说明如下：

A和B的序列在下面的Flash动画中分别由x1（上）和x2（下）表示，我用阶梯状的线图表示硬币正正反反的变化，从图中对硬币翻转了多少次以及每次保持一面的长度多长都能有一个大致的了解，比如B的翻转次数是不是更密集？A保持同一面不变的长度是不是更长？等等。更多信息请各位客官仔细观察，我就不加干扰了，免得影响判断。中间的图形表示随机模拟的序列，这个模拟在不断进行，每次你们看到的都是一串长度为200的伯努利随机数，注意拿它和上下两幅图分别做对比，看模拟的图与两幅实际样本图中的哪幅更像？当然，越是觉得实际和模拟差异明显，那就越说明该硬币有问题（或记录者作弊了），因为大量的模拟所扮演的角色就是真实的母体。那么究竟哪个是母体的“孩子”呢？请在后面给出你的猜测，谢谢！[【点击放大Flash】](http://animation.r-forge.r-project.org/swf/fair-coin.swf)

<embed width="600" height="400" src="http://animation.r-forge.r-project.org/swf/fair-coin.swf" type="application/x-shockwave-flash">

我不是完全在开玩笑，国外有人真的做过这方面的理论，将假设检验的理论与图形检验的理论对应，不过时间太长我忘了是谁。如果李晓煦老师看到这篇日志，还请对这个试验多多提出宝贵建议：）
---
title: 多元情况下的描述统计
date: '2008-09-24'
slug: multivariate-descriptive-statistics
---

很多人可能都觉得描述统计简单，就是加加减减算算平均值啥的。可是问题到了多元的环境下就大不一样了，一个严重的问题就是排序，由此导致最小值、最大值、中位数等统计量都不好定义。就拿二维变量来说，怎样确定散点图中的某个点是数据的中位数？或者更通俗地讲，谁是数据的中心？一维的时候没什么争议，从最小到最大数过去，中间位置那个就是中位数。

这个题目已经有些年代了，25年前一个叫Oja的家伙讨论过了这个问题，并定义了多元情况下的统计量。最近两天R-help上面正在讨论Oja中位数，直到今天早上，有个Dortmund的家伙宣布他要写一个函数包了。

相关论文：

- [Computation of the multivariate Oja median](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.3.2494)（只是草稿，非正式论文）
- [Multivariate analysis by data depth: descriptive statistics, graphics and inference, (with discussion and a rejoinder by Liu and Singh)](http://projecteuclid.org/DPubS?service=UI&version=1.0&verb=Display&handle=euclid.aos/1018031260)
---
title: 用R操纵Google Documents以及其它网络操作
date: '2008-09-25'
slug: manipulate-google-docs-with-r
---

语言与软件相比缺点在于，语言的世界对初学者来说太庞大，满眼都是代码，不知从哪儿下手，但是最大的优点也就是灵活性。客官您要是问，R语言能做什么呢？据我所知的话，答案应该是计算机世界的几乎任何事情。比如，今天看见UC Davis的[Duncan Temple Lang](http://www.stat.ucdavis.edu/%7Eduncan)为R写了一个特别的包，叫[RGoogleDocs](http://www.omegahat.org/RGoogleDocs/)，它可以用来读、写、上传、删除[Google Docs](https://docs.google.com)。

顺便提一下，他写的[RCurl](http://www.omegahat.org/RCurl/)包可以用来获取或发送HTML表单（form），有了操纵表单的功能之后也就意味着，网络上大部分交互式操作都可以从R里面完成了，比如登录网站、提交日志、上传文件等等。

许久以来我想利用Socket连接写一个即时聊天的包，不过至今没有发布，其实实现起来不过二十来行代码，用base里面的`socketConnection()`函数以及读写Socket的`read.socket()`和`write.socket()`就可以完成了。我有一次在办公室两台电脑上测试了一下，嘿，还真可以。这件事情要是能结合[Simon Urbanek](http://simon.urbanek.info/)的Rserve包来做的话就更完美了，不仅可以聊文本，还可以传文件，要是再加上tcl/tk或者RGTK包来做一个界面的话，那就完全胜似QQ、MSN了，等等。感兴趣的客官要是哪天把这个想法在R里面实现了一定通知我一声（比如写了一个包叫作RICQ，意即Ah, I seek you!）。或者您有什么疯狂的主意也赶紧操起键盘联系我。
---
title: 国内关于空间统计学的书及国外的部分材料
date: '2008-09-26'
slug: books-on-spatial-statistics
---

在China-Pub、当当、Amazon.cn都搜索了一下，发现国内似乎没有空间统计学的专著。这是一个好机会，严肃考虑一下要不要放下我的统计图形书，先写一本空间统计学与R应用的书。正好也让导师大人少操一份心，不用天天发愁弟子们没有拿得出手的货。

澳大利亚的[Adrian Baddeley](http://www.maths.uwa.edu.au/%7Eadrian/)有一个网站[http://www.spatstat.org](http://www.spatstat.org/)，他写了一个R函数包[spatstat](http://cran.r-project.org/web/packages/spatstat/index.html)，这个网站里面有一些关于这个包的文档，以及培训材料，比如今年二月的[Analysing spatial point patterns in 'R'](http://www.csiro.au/files/files/piph.pdf)。

当然不能不提的是Venables和Ripley在MASS一书的（最后？）一章中也讲了空间统计学。
---
title: Bootstrap方法和置换检验（Permutation Test）的入门读物
date: '2008-09-26'
slug: introduction-to-bootstrap-and-permutation-test
---

今天偶然发现[一个文档](https://pdfs.semanticscholar.org/a964/bc18aabbbd1c507168f3835a54a2f2cab3cd.pdf)，非常适合 Bootstrap 和 Permutation Test 的初学者读。主要是里面内容非常生动活泼，公式的面积一般不超过 10 平方厘米。而我一般是很不爱看包含有面积大于 20 平方厘米或者希腊字母超过 5 个的公式的论文或书籍的。顺带提一下，这是 Introduction to the Practice of Statistics 第五版中第 14 章。

~~这次请路人帮忙的事情是，这一章中提到了用Bootstrap方法不断计算光滑曲线，用来说明彩票的趋势并非纯粹偶然。我觉得这个例子举得不错，因此想把它的动画形式写入我的animation包，可以命名为boot.loess()，就用R里面的loess()函数去拟合局部多项式回归好了，每次Bootstrap就用圈圈把抽中的点标示出来，以及添加相应的平滑曲线。这个动画应该很容易做，有志愿者速速报名。报名之前请仔细阅读[animation包的文档](http://animation.yihui.org/animation:start)以及我对[独立同分布数据进行Bootstrap的展示函数boot.iid()](http://animation.yihui.org/dmml:bootstrap_i.i.d)。~~已经大致在[animation包的2.0-4版本](http://cran.r-project.org/package=animation)中实现，参见`boot.lowess()`函数。
---
title: Inverse Empirical Cumulative Distribution
date: '2008-09-26'
slug: inverse-empirical-cumulative-distribution
---

这个好玩。今天有一个JP摩根的人在R-help里问了个问题，题目很吓人，说R里面有没有可以求Inverse经验分布的函数。我初一看吓坏了，这是啥函数啊，赶紧拿笔在纸上画了一下经验分布函数，然后把它Inverse过来，最后想，这不就是分位数函数么！

这不就是分位数函数么！这不就是分位数函数么！这不就是分位数函数么！……

另：[Peter Dalgaard](http://biostat.ku.dk/~pd)比较严谨，告诉人家要用quantile()中的第7类求法。我颠颠儿去看了一下帮助，不看不知道，一看吓一跳，分位数的求法一共有9种！分位数的求法一共有9种！ 分位数的求法一共有9种！……
---
title: 主成分回归与偏最小二乘回归
date: '2008-09-26'
slug: principle-component-regression-and-partial-least-square-regression
---

我一直都觉得主成分回归（Principle Component Regression，PCR）是很奇怪的方法，原因是主成分分析仅仅与自变量有关，为什么用自变量自身的协方差结构做出来的成分（Principle Component，PC）可以去和因变量作回归呢？PCA本身与因变量毫无关系，难道PC就会与Y有很好的关系？

PCR的优点（大家一般都这么说）在于PC是互相独立的，这样的话回归便不会有多重共线性的问题（大家对此感到很高兴），然而这里面潜在的危险就是，万一成分与因变量无关呢？

事实上我的这点疑虑早已经有人写过文章了，Ali S. Hadi和Robert F. Ling（1998）在The American Statistician上发表了[一篇关于PCR的警告](http://www.jstor.org/stable/info/2685559)，文章给出了一个例子，例子的现象就是，前p-1个PC跟因变量一点关系都没有，而最后一个PC解释了因变量所有的变异。奇怪么？不奇怪。作者们也这么说：原因在于PCA仅仅依赖于X，如果非要用PC的方法，那么应该考虑PC对因变量的贡献。

说白了，偏最小二乘回归（PLSR）基本上就是这个问题的答案。
---
title: 有谁在课上用统计动画
date: '2008-09-27'
slug: animation-in-classes
---

从Google Analytics的数据来看，目前至少有这些人在用动画（animation包）：



	
  * University of Southern Denmark数学与计算机系的Marco Chiarandini的讲[组合优化课](http://www.imada.sdu.dk/~marco/Teaching/Fall2008/DM811/index.html)【[链接](http://www.imada.sdu.dk/~marco/Teaching/Fall2008/DM811/visual.html)】

	
  * 中科大统计与金融系Weiping Zhang的概率论与数理统计课【[链接](http://staff.ustc.edu.cn/~zwp/teach.htm)】

	
  * 以色列海法大学统计系的Yoni Nazarathy的Interactive Demonstrations of Stochastic and Statistical Models课【[链接](http://stat.haifa.ac.il/~yonin/interactive_demos_course_winter_09/material.html)】


现在动画的数量以及解释是个大问题，一个人做这些事显得有点吃力，有个合作者就好了。
---
title: 请熟悉JavaScript、DOM或Ajax的路人帮忙
date: '2008-09-28'
slug: help-me-submit-a-form-to-cgi
---

在下现在有个小技术问题，自己去钻研太浪费时间了，因此拜求江湖高手帮我一把。问题是这样，我想提交一个表单给某个网站的CGI执行，然后把执行返回结果中的图片地址都拿出来。提交和执行过程中不要影响当前的HTML页面（即：不要直接跳转到CGI页面，这似乎是Ajax的特征）。以下是普通的表单界面：

plot(1); plot(rnorm(100)); plot(rnorm(100))

返回的图片URL放在一个数组中即可。谢谢！
---
title: 跨域提交表单的障碍
date: '2008-10-02'
slug: cross-domain-to-submit-form
---

看样子我前一篇日志里面提到的问题并不是一个简单问题，到现在我基本上已经放弃了向Rweb提交代码获取结果的想法了，原因是多数浏览器不允许跨域（cross domain）提交表单并获得结果，据说是有安全问题，我没空去仔细研究里面的细节。现在在尝试了



	
  1. jQuery + Form插件

	
  2. Ajax

	
  3. iframe + JavaScript


三种方法之后，我决定给明尼苏达大学的[Charles Geyer](http://www.stat.umn.edu/%7Echarlie)写信诉苦，我需要服务器支持以在网页上实时生成动画；仅凭我在客户端捣鼓，估计浪费一个星期时间也未必能捣鼓出来。
---
title: 理解计算机中的数字
date: '2008-10-04'
slug: understanding-numbers-in-computer
---

很多人对统计计算或数值计算不以为然，表现在他们充分相信计算机、在遇到计算问题时就是一句话，“交给软件去做就可以了”。不过我觉得稍微了解一下数字的常识还是很有必要的，一些表达式在数学上成立，在计算上未必成立。据R-FAQ介绍，在"The Elements of Programming Style"一书中有这么一句话：

> _10.0 times 0.1 is hardly ever 1.0_. （10.0乘以0.1通常不是1.0。）

类似地，在R里面还有这样的例子：

```r
.17 - .6 + .43
## 5.551115e-17
.17 + .43 - .6
## 0
.6 - .17 - .43
## -5.551115e-17
```

奇怪么？不奇怪（而且注意这不是R的问题），想象与现实总是有差距。以前我见有人用R求极大似然估计，直接使用了密度函数值相乘再最大化，却不知成百上千个小数乘起来在计算机中会是怎样难以表达，我换作取对数求和的形式之后，估计就稳定多了。编程的人（尤其是统计编程的人）千万莫偷懒，写代码之前一定要想好把数学问题转换一下，让计算机能够适应你要用的数字。还有一个最简单的例子就是求组合数，理论上可以用排列数（函数`factorial()`）乘乘除除得出来，但是当n取好几百的大数时，想想n的排列是多大的数、计算机能否表达？这种情况下就应该用组合数本身的函数`choose()`——理论上等价，计算上不等价。万一`choose()`本身也很难计算了，那只能考虑先求对数再求和最后求幂，这样也许损失精度，但计算上可实现。

最近R-help里面出现过好几例类似的案子，甚至有人在优化时初始值取的是Inf（无穷大），让人哭笑不得、无可奈何。昨天又有人问`1 - cumsum(rep(0.1, 10))`的最后一个数字为什么不是0。
---
title: 网上惊现流氓R代码！
date: '2008-10-06'
slug: sexy-r-graphics
---

话说这一天，有人给了这么一段代码，据说其本质好像是是log-log-log函数的取值范围。

```r
xrange = c(-15, 15)
yrange = c(0, 16)
plot(0, xlim = xrange, ylim = yrange, type = "n")
yr = seq(yrange[1], yrange[2], len = 50)
offsetFn = function(y) {
    2 * sin(0 + y/3)
}
offset = offsetFn(yr)
leftE = function(y) {
    -10 - offsetFn(y)
}
rightE = function(y) {
    10 + offsetFn(y)
}
xp = c(leftE(yr), rev(rightE(yr)))
yp = c(yr, rev(yr))
polygon(xp, yp, col = "#ffeecc", border = NA)
h = 9
xt = seq(0, rightE(h), len = 100)
yt = log(1 + log(1 + log(xt + 1)))
yt = yt - min(yt)
yt = h * yt/max(yt)
x = c(leftE(h), rightE(h), rev(xt), -xt)
y = c(h, h, rev(yt), yt)
polygon(x, y, col = "red", border = NA)
```

运行过代码的同志们没喷血吧？……
---
title: 用R画中国地图并标注城市位置
date: '2008-10-07'
slug: china-map-and-city-locations-with-r
---

从[cloud_wei的博客](http://hi.baidu.com/cloud_wei/blog/item/b26cbfa9b8e601fa1e17a295.html)上看到一批数据，拿来放在R里面跑一下：

```r
par(mar=rep(0,4))
dat = read.csv(text = "城市,jd,wd
    北 京,116.4666667,39.9
    上 海,121.4833333,31.23333333
    天 津,117.1833333,39.15
    重 庆,106.5333333,29.53333333
    哈尔滨,126.6833333,45.75
    长 春,125.3166667,43.86666667
    沈 阳,123.4,41.83333333
    呼和浩特,111.8,40.81666667
    石家庄,114.4666667,38.03333333
    太 原,112.5666667,37.86666667
    济 南,117,36.63333333
    郑 州,113.7,34.8
    西 安,108.9,34.26666667
    兰 州,103.8166667,36.05
    银 川,106.2666667,38.33333333
    西 宁,101.75,36.63333333
    乌鲁木齐,87.6,43.8
    合 肥,117.3,31.85
    南 京,118.8333333,32.03333333
    杭 州,120.15,30.23333333
    长 沙,113,28.18333333
    南 昌,115.8666667,28.68333333
    武 汉,114.35,30.61666667
    成 都,104.0833333,30.65
    贵 阳,106.7,26.58333333
    福 州,119.3,26.08333333
    台 北,121.5166667,25.05
    广 州,113.25,23.13333333
    海 口,110.3333333,20.03333333
    南 宁,108.3333333,22.8
    昆 明,102.6833333,25
    拉 萨,91.16666667,29.66666667
    香 港,114.1666667,22.3
    澳门,113.5,22.2")
library(maps)
library(mapdata)
map("china", col = "darkgray", ylim = c(18, 54), panel.first = grid())
points(dat$jd, dat$wd, pch = 19, col = rgb(0, 0, 0, 0.5))
text(dat$jd, dat$wd, dat[, 1], cex = 0.9, col = rgb(0,
    0, 0, 0.7), pos = c(2, 4, 4, 4, 3, 4, 2, 3, 4, 2, 4, 2, 2,
    4, 3, 2, 1, 3, 1, 1, 2, 3, 2, 2, 1, 2, 4, 3, 1, 2, 2, 4, 4, 2))
axis(1, lwd = 0); axis(2, lwd = 0); axis(3, lwd = 0); axis(4, lwd = 0)
```

效果如下：

![用R画中国地图并标注城市位置](https://db.yihui.org/imgur/LE4I8.png)

写这篇日志的目的是征人同投论文，写一些用R获取生活中的“边角料”数据并利用起来做点事情的例子。点击[这里](http://images.ruc.edu.cn/other/2008-10-07/1223373806156.zip)下载论文。关于R会议，请随时[关注通知](https://cosx.org/cn/topic/12064)。有同写意向的请速速联系我。
---
title: 再谈为什么不用Excel做统计分析
date: '2008-10-07'
slug: why-avoid-excel-in-statistics
---

没想到魔鬼经济学（Freakonomics）在NY Times的[Blog](http://freakonomics.blogs.nytimes.com/)上也写起R来了。话说昨天有这么一篇“免费的超牛牛计算软件”（[Free Super-Crunching Software](http://freakonomics.blogs.nytimes.com/2008/10/06/free-super-crunching-software/)），作者小小赞扬了一把Excel可以多么灵活多么实用，然后介绍了一下R。后面顿时狂风大作、飞沙走石、昏天黑地。

其中，第一位留言的同学给了[一篇小文档](http://pages.stern.nyu.edu/~jsimonof/classes/1305/pdf/excelreg.pdf)，对统计分析的人来说值得警醒。
---
title: 循环两例
date: '2008-10-10'
slug: two-loops
---

今日遇到两例循环：

1. 鸡逃课（GTalk）上有人搭讪问R的问题，直到问完我也不知道他是谁，琢磨了好半天决定放弃思考这个问题，不过他问的问题和前两天给我发邮件的一个人说的很有联系，在鸡逃课上他给我看了一个网站（[http://www.msbi.nl/R](http://www.msbi.nl/R)），是在线运行R代码的又一个示例，我心想，怎么最近大家都关心Web和R呀。于是乎，我想把这个网站告诉那个给我发邮件的人，颠儿颠儿跑到邮箱找到邮件，一看，啊？这不就是刚才鸡逃课上的那个人么？这不就是那个人么……这不就是那个人么……回声不断，原来我进入了死循环。
1. 话说八月我颠儿颠儿去多特蒙德讲了动画，今日看见[John Maindonald](http://wwwmaths.anu.edu.au/~johnm/)在[R-help里露脸了](https://stat.ethz.ch/pipermail/r-help/2008-October/176188.html)，而且给了一批关于引用R的文献数量数据，我心想，嗯，这个数据不错，可以用来介绍R的历史发展，于是乎给他写了邮件征求他的允许使用这批数据，刚才John给回信说，小贼（念第一声），听我的好哥们儿Graham Williams说你作报告的时候那教室人山人海好多人都挤不进去啊，恭喜恭喜啊，云云（...He told me that your talk attracted such interest that some people who wanted to hear you could not get into the room!...）。我当时也没注意Graham也在场，前两天刚跟bjt提到这位大牛（rattle的作者），没想到他跟John提我了。而我在多特蒙德听Graham作报告时在致谢中看见了John的名字，心想回来之后要跟John说说这事儿。大家提来提去，又是一例循环。
---
title: rgl英勇奖
date: '2008-10-11'
slug: rgl-medal-of-valor
---

话说近日Michael Friendly老爷子很郁闷，因为从R-forge上下载的rgl包中`rgl.snapshot()`函数不能用了，老是说"failed"，不能保存图形。我也遇到了同样的问题，不过后来Duncan提供了一个[新的下载地址](http://www.stats.uwo.ca/faculty/murdoch/temp/rgl_0.81.708.zip)，我下载之后发现可以用了，于是回了个邮件说问题解决了、表示感谢。今天Michael老爷子很高兴，给我回邮件说谢谢益辉同学啊，我还以为我自己的电脑坏掉了呢，寡人对你的大无畏测试精神很是感激，特授予你“rgl英勇奖”！（[这里是颁奖现场](https://stat.ethz.ch/pipermail/r-help/2008-October/176451.html)）

> ...and your test helped me slay the fear that something had gone horribly wrong with my desktop PC. ?I award you the _rgl Medal of Valor_. ;-)...

Michael是统计图形界的大牛，获此口头奖章本小子也很是高兴。后来他另写一封邮件说，小贼（第一声），大爷受你在不莱梅演讲的启发，近日[也开始玩动画](http://euclid.psych.yorku.ca/SCS/Gallery/Test/rgl-animations.ppt)了。

话说回来，rgl这个包牵涉到大量的C和C++代码，还有png库，编译起来很麻烦，R-forge的环境可能不能成功编译，所以那上面的rgl包会有问题，我还奇怪为什么它没有编译日志呢。
---
title: 避免文本标签重叠：maptools中的pointLabel()
date: '2008-10-12'
slug: avoid-label-overlap-pointlabel-in-maptools
---

**maptools**包中的`pointLabel()`可以利用模拟退火算法或者遗传算法来解决图中文本标签的重叠问题。R本身提供了度量文本高度和宽度的函数`strwidth()`和`strheight()`，因此标签的放置问题本质上就是一个最优化问题，目标函数是标签所占矩形之间重叠面积之和，参数是标签的摆放位置（例如矩形的顶点坐标），问题就是求得参数使目标函数最小化。`pointLabel()`采用了模拟退火算法和遗传算法，另外，**plotrix**包中的`thigmophobe.labels()`利用简单的距离计算可以得出标签摆在点的下、左、上、右哪一面可以使得重叠最小化。以下是前面“[用R画中国地图并标注城市位置](/cn/2008/10/china-map-and-city-locations-with-r)”一文中曾经用到的例子，这里我们用`pointLabel()`添加标签：

![maptools中的pointLabel()添加文本标签](https://db.yihui.org/imgur/pRQqX.png)

相比之下，`thigmophobe.labels()`的功能就差一些了：

![plotrix中的thigmophobe.labels()添加文本标签](https://db.yihui.org/imgur/JKmUh.png)

---
title: 利用超级链接直接打开文件
date: '2008-10-12'
slug: open-files-with-hyperlinks-in-pdf
---

我一直在想，怎样在文档中建立一个超级链接，只要点击就可以打开链接的文件。在Office中基本没什么障碍，但用LaTeX就不能直接通过链接文件地址达到目的了。今天Michael Friendly在邮件中告诉我一个小技巧：只要超级链接的地址前加上`run:`就可以了。例如，用`hyperref`宏包的`href`命令创建一个链接打开一个文件`some.file`就可以用`\href{run:path/to/some.file}{some link}`。

这样的话，我们就可以直接在PDF中点击链接打开文件，而不必先切换界面再去点文件了。其实`run`跟`http`、`ftp`等一样，都是协议。
---
title: 开始邀请R Core成员投稿
date: '2008-10-13'
slug: inviting-r-core-members
---

刚才给[Kurt Hornik](http://statmath.wu-wien.ac.at/~hornik/)写信邀请他给我们的R会议投稿，写着写着，心想何不邀请所有的R Core成员都各自写一篇短文呢？嗯，明天琢磨琢磨，开始邀请所有人。现在的好消息是John Maindonald已经答应投一篇关于数据挖掘的论文。

号外一则：本人于本周三（后天）上午10:00将举行关于统计动画的报告一场（[幻灯片](/cn/vitae/)），左邻右舍们感兴趣的欢迎来捧场，另有[Moon-Yul Huh教授](http://stat.skku.ac.kr/myhuh/)应邀讲他的DAVIS系统。两场报告均为英文。另有[`playwith`](http://playwith.googlecode.com/)包的作者[Felix Andrews](http://nfrac.org/felix/)应邀前来（他今年在北京溜达，被John Maindonald给我透露了行踪于是被我逮来人大），有对GTK+/RGtk2以及R统计图形系统感兴趣的可以借此机会找他搭讪。
---
title: R语言打灯笼
date: '2008-10-15'
slug: highlighting-points-in-r
---

以下是我以前写的一个利用鼠标交互选择点的例子，主要是`getGraphicsEvent()`函数。
    
    par(bg = "black", mar = rep(0, 4), pch = 20)
    xx = runif(100)
    yy = runif(100)
    plot(xx, yy, type = "n")
    mousemove = function(buttons, x, y) {
        r = 0.2
        idx = (x - r < xx & xx < x + r) & (y - r < yy & yy < y + r)
        plot(xx, yy, type = "n")
        rect(x - r, y - r, x + r, y + r, border = "yellow", lty = 2)
        points(xx[idx], yy[idx], col = "yellow", cex = 2)
        points(xx[!idx], yy[!idx], col = "red")
        NULL
    }
    mousedown = function(buttons, x, y) {
        "Done"
    }
    getGraphicsEvent("Click mouse to exit", onMouseDown = mousedown,
        onMouseMove = mousemove)

其中`r`可以自行调整。

![](https://db.yihui.org/imgur/jUMGKFx.png)
---
title: POLLEN数据：散点图中藏数据的历史名案
date: '2008-10-16'
slug: historical-demo-of-pollen-data
---

今天看Simon他们的[iplots](http://www.iplots.org/)主页，突然注意到里面α-Channel小节中有[pollen数据](http://stat.cmu.edu/datasets/pollen.data)的展示，话说九月初我曾经造过一个类似的例子，当时本来是想用这笔数据的，但是由于实在想不起来名字，也就没找到，只好自己编了一批数据。

有位叫David Coleman的老兄在1986年某一天等人的时候随便找了几个字母的坐标表示，然后扔到一大堆随机数中藏起来，后来成了ASA Data Expo的名数据。这里是我用rgl包作出的探索示例：

<iframe src="https://player.vimeo.com/video/1982725" width="500" height="500" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/1982725">Letters &quot;EUREKA&quot; in POLLEN data (using OpenGL)</a> from <a href="https://vimeo.com/yihui">Yihui Xie</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

图穷“匕首”见。

该演示已经收入`animation`包：
    
    library(animation)
    demo('pollen')
---
title: Jackson's Rules of Optimization
date: '2008-10-16'
slug: jacksons-rules-of-optimization
---

今天Ripley在回答一个问题时提到"Jackson's Rules of Optimization"，这两条规则是：


> 1) Don't do it.
2) (For experts only) Don't do it yet.
---
title: Java比R更容易表达连续型动画
date: '2008-10-19'
slug: java-is-better-than-r-in-animation
---

话说我做动画的难题之一就是不容易做连续型动画，即连续表示元素的运动。今天在看[高尔顿板的模拟](http://www.ms.uky.edu/~mai/java/stat/GaltonMachine.html)时，突然意识到，这类问题应该交给Java去解决，而不要在R里面纠缠了。不过由于不太会用Java画图，所以只好继续凑合着用R了，下面是一个初步的模拟：

![](https://db.yihui.org/imgur/KazR8Ip.gif)


这个模拟目前已经放到[AniWiki](http://animation.yihui.org)中（[链接](http://animation.yihui.org/prob:bean_machine)）；看了维基百科，原来高尔顿板又称豌豆机器。本豌豆机器的启发来自于Roger Koenker提供的一个[原型](http://www.econ.uiuc.edu/~roger/courses/476/routines/quincunx.R)。
---
title: 数据可视化工具Flare（生成交互式Flash）
date: '2008-10-20'
slug: flare-to-produce-interactive-flash
---

以前提过的[Processing](http://www.processing.org/)是基于Java语言做动画，这次又发现另一个可视化工具[Flare](http://flare.prefuse.org/)，它可以生成交互式Flash，而且有很多现成模块了。看了一下它的demo，觉得我昨天说的不完整，Flash本身对动画有很多内在的支持，写起代码来应该比Java更快。

有闲工夫的朋友们可以考虑怎样利用Flare改进[Hans Rosling](http://www.ted.com/index.php/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen.html)的数据表达方式（他只是用了气泡图和密度图，还有很多图形都可以在Flash中继续实现）。
---
title: 动态连接图形（iplots包）
date: '2008-10-20'
slug: iplots-package-for-dynamic-graphics
---

用同一批数据作出的若干种图形在屏幕铺开时，连接的作用是很明显的：对一幅图形进行操作（如选择数据区域）时，其他图形会根据这幅图形上的操作相应更新，这样我们可以任意查看局部数据的性质。iplots是R里面基于Java写的一个程序包，感兴趣的看示例就行了。这里要提的是饼图：由于iplots没有给出饼图函数，所以这些动态更新的图形中不会有饼图，不过iplots提供的一些低层函数足够我们利用R自身的饼图函数pie()来实现这种功能了。以下是我的一个示例（可能有bug！）：

```r 
library(iplots)
cat("Select 'Break' from the menu of any plot to return back to R.\n")
set.seed(1)
dat = data.frame(x = rep(1:4, c(50, 100, 150, 80)),
    y = sample(rep(1:6, c(150, 50, 30, 70, 10, 70))))
ibar(dat$x)
while (!is.null(ievent.wait())) {
    if (iset.sel.changed()) {
        s <- iset.selected()
        if (length(s) > 1)
            pie(table(dat$y[s]))
    }
}
```

我估计Simon他们是故意不写饼图函数的，因为统计学家一般不推荐使用饼图——人们对角度感知太差，不如用长度或高度。
---
title: 关于最小中位数平方法（Least Median of Squares）
date: '2008-10-20'
slug: least-median-of-squares
---

如果我没记错的话，Prof Lin在课堂上提到，Least Median of Squares是一个难题：它的目标是最小化误差平方的中位数。当时上课我没去考虑这个问题，晚上突然想起，这个问题不管怎么说至少可以有暴力解法，比如用BFGS等方法去优化就能算出系数了。

但是转念一想，LMS这个东西怎么看着眼熟，打开MASS一看，原来是自己以前用过的。MASS包的lqs()可以计算各种稳健和耐抗回归，LMS是其中一种。LMS是一种稳健回归方法（下第一幅图），然而MASS的文献指出它对大量堆在中间位置上的数值敏感（下第二幅图）。

![LMS与OLS的比较（LMS较稳健）](https://db.yihui.org/imgur/iIb0IDM.png)

图1 离群点对普通最小二乘有严重影响，LMS却没问题

![LMS与OLS的比较（LMS对中间值敏感）](https://db.yihui.org/imgur/YtY3dt0.png)

图2 大量的中间值让LMS失效，普通最小二乘却没事

    # png("lms.png", width = 500, height = 400)
    par(mar = c(4, 4, 0.1, 0.1))
    library(MASS)
    set.seed(1)
    x = runif(50)
    set.seed(1)
    y = 2 + 3 * x + rnorm(50)
    # an outlier
    x = c(x, 2); y = c(y, 30)
    plot(x, y, pch = 20)
    abline(lqs(y ~ x, method = "lqs"), col = "blue", lty = 2)
    abline(lm(y ~ x), col = "red")
    legend("topleft", legend = c("OLS", "LMS"), col = c("red",
        "blue"), lty = 1:2, bty = "n")
    # dev.off()
    
    # png("lms-central.png", width = 500, height = 400)
    par(mar = c(4, 4, 0.1, 0.1))
    library(MASS)
    set.seed(1)
    x = runif(50)
    set.seed(1)
    y = 2 + 3 * x + rnorm(50)
    # 500 central values
    x = c(x, jitter(rep(mean(x), 500), 3))
    y = c(y, jitter(rep(mean(y), 500), 3))
    plot(x, y, pch = 20, cex = c(rep(1, 50), rep(0.1, 500)))
    abline(lqs(y ~ x, method = "lqs"), col = "blue", lty = 2)
    abline(lm(y ~ x), col = "red")
    legend("topleft", legend = c("OLS", "LMS"), col = c("red",
        "blue"), lty = 1:2, bty = "n")
    # dev.off()

---
title: 为什么汇总的数据不能说明问题
date: '2008-10-21'
slug: useless-aggregated-data
---

今天13点左右[COS论坛](https://cosx.org/bbs)的注册人数显示为83778人，我看了一下会员列表，发现一个特征，凡是填了个人主页一栏的几乎都是广告，而且都是一家广告（推广小助手），我就不写网址了，免得帮这帮无耻之徒做了广告。

当我删掉主页中包含这个网址的会员之后，剩下的会员是65123人，这两年来他们竟然注册了近两万机器人。

如果再去掉近35000没有激活的用户，COS真实用户数大约为三万人。

![](https://db.yihui.org/imgur/J8OzStR.png)

乍一看，哇，八万大军，砍掉两万机器人，再砍掉没有激活的，只有36%的用户是可能真实的，里面当然还有机器人，只是目前还没有发现他们的特征。三万大军，意味着平均每天有30个活人注册，也不错了。

俗话说：数据一汇总，上帝就发笑。

R代码仅供图形初学者参考：

    # png("users.png", width = 500, height = 200)
    par(mar = c(2, 0.1, 0.1, 0.1))
    x = c(83778, 65123, 30000)
    plot(x, 1:3, type = "n", xaxt = "n", yaxt = "n", xlim = c(0,
        max(x)), ylim = c(0, 4), ylab = "", xlab = "", bty = "n")
    axis(1, c(0, x))
    s = 0.4
    rect(c(0, 0, x[3]), c(2 - s, 3 - s, 3 - s), c(x[3],
        x[3], x[2]), c(2 + s, 3 + s, 3 + s), lty = 3, border = c("green",
        "green", "blue"))
    rect(c(0, x[3], x[2]), (1:3) - s, rev(x), (1:3) +
        s, col = c("green", "blue", "red"))
    text(c(x[3], x[3] + x[2], x[2] + x[1])/2, 1:3, c("normal users",
        "spammers or confused users", "an ad spammer"), col = "yellow")
    text(c(x[3], x[3] + x[2])/2, c(2, 3), paste(round(100 *
        c(x[3], x[2] - x[3])/x[1], 2), "%", sep = ""))
    # dev.off()
---
title: R 2.8.0终于又能完美支持中文路径了
date: '2008-10-22'
slug: perfect-support-of-chinese-in-r-280
---

不知是从R 2.6.0还是哪一个版本开始，RGui对中文的支持变得很差，以前我经常用拖拽的方式获得文件的路径，后来发现拖拽到Console里面之后中文路径会变成乱码，这一点很是不爽。今天2.8.0的Windows版本也已经发布，安装后看了一下，发现这个问题又恢复到能用了。
---
title: 仰天大笑出门去，我辈岂是杀G人
date: '2008-10-24'
slug: i-hate-gre
---

话说明天武林中召开上午杀G大会，各路英雄将赶赴ETS在我中原的各处分舵。这兵荒马乱的战场上，藏着一男子E不遮体（E即E文），一路念念有词：仰天大笑出门去，我辈岂是杀G人。

明日裸考GRE，希望借着北外的风水宝地，考他个历史最低分，让洋鬼子震惊一下，原来中土大唐人士中还有不吃G的。
---
title: 排除毒素，一身轻松
date: '2008-10-25'
slug: gre-finished
---

我左手一只鸡，右手一只鸭，心里是乐哈哈，呀一二一二哟。话说今日考场上放眼望去，没几个我认识的单词，于是心中大快——好~嘛，全都不认识，正好省去我动脑筋的功夫，于是一路蒙到底，只有两个数学部分动笔做了做。

刚才乐极生悲，出门倒水，结果一杯水倒在了自己脚上。
---
title: 送给Felix的一万天“生日”小礼
date: '2008-10-27'
slug: birthday-present-to-felix-andrews
---

话说上周请[Felix](http://nfrac.org/felix/cv.html)过来作报告，结果最后只有三四个人来听。Felix生于1981年6月6日，报告那天是10月22日，用R计算一下时间差，刚好是一万天，所以他第一张幻灯片就说“我活了一万天了”，有意思。晚上吃饭，他说如果过生日的话得要一万根蜡烛，后来我回到电脑前想，何不把蜡烛藏在数据中让他用他自己的R包去探索呢？于是就有了下面的老套故事：

<iframe src="https://player.vimeo.com/video/2077814" width="500" height="500" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p><a href="https://vimeo.com/2077814">&quot;Candle&quot; in the points</a> from <a href="https://vimeo.com/yihui">Yihui Xie</a> on <a href="https://vimeo.com">Vimeo</a>.</p>

这是他用playwith包给我的答案：

![数据中隐藏的“蜡烛”](https://db.yihui.org/imgur/tvDxB4g.png)
---
title: 几何级数增长应该怎样用图形表达
date: '2008-10-29'
slug: demonstrate-geometric-growth-in-graphics
---

今日在北大听史密斯商学院创业大赛报告，其中有一位参赛者幻灯片中提到了他们的用户数这几年呈几何级数增长，并拿用户数和时间作了一幅图，图中线条呈现出增长越来越快的趋势，其实这种做法有糊弄之嫌——增长越来越快的并不一定是几何级数增长方式。例如y = sin(x) + 1在[1.5&pi;, 2&pi;]区间上增长也是越来越快，但它并非几何级数。

表达几何级数增长（或者指数增长）的方式一般是对y取对数，然后与x作图，看图形是否呈一条直线：若log(y) = a * x + b，那么显然是指数增长方式。人眼观察直线比观察曲线要容易得多，因此这种方法比用原始数据作图要更容易表达“几何级数增长”。下图左边为原始数据，右边为y轴取对数后的图形。R中处理起来非常简单，作图时添加参数log即可（可以对x轴或y轴或者同时取对数）。

![指数增长的图示方法](https://db.yihui.org/imgur/MMM7v5X.png)

    # png("exp_growth.png", width = 600, height = 500)
    options(scipen = 5)
    x = seq(1.51 * pi, 2 * pi, length = 100)
    par(mfrow = c(2, 2), pch = 20, mar = c(5, 6, 1, 0.1),
        col = rgb(0, 0, 0, 0.5), las = 1, mgp = c(4, 1, 0))
    plot(x, sin(x) + 1)
    plot(x, sin(x) + 1, log = "y")
    plot(x, exp(x))
    plot(x, exp(x), log = "y")
    # dev.off()
---
title: 人的世界是连续的，计算机的世界是离散的
date: '2008-10-30'
slug: continuous-human-world-and-discrete-computer-world
---

做统计的经常涉及到在分布函数或密度函数表示概率，例如将P(X<x)的区域涂色，这用多边形很容易办到。有人可能不理解，密度函数不是光滑的么，多边形的边不光滑，怎么能填充我们需要的区域？须知数学和现实往往有差距，数学中存在连续、光滑的概念，计算机中（目前）是无法精确表达这些概念的，而且很多情况下没有必要，例如图形中就没必要取遍一段区间上的所有实数再画图，这本来也是不可能的，因此只需要近似就够了。

以下三幅图说明了这个近似的过程：第一幅图看起来很光滑很强大；第二幅图和第一幅图完全相同，只是把作图用到的数据点标了出来——实际上只用了[-3, 3]区间上的100个点；第三附图只用了10个点，图穷匕首见。


![](https://db.yihui.org/imgur/3gwKxy0.png)

![](https://db.yihui.org/imgur/doMWd56.png)

![](https://db.yihui.org/imgur/tdebC87.png)

    # png("polygon%d-s.png", width = 500, height = 500)
    par(mar = c(2, 2, 0.1, 0.1), las = 1, mgp = c(3, 0.5, 0), tcl = -0.3)
    x1 = seq(-3, 3, length = 100)
    plot(x1, dnorm(x1), type = "n")
    polygon(c(x1[1], x1[1:80], x1[80]), c(0, dnorm(x1[1:80]), 0), col = "gray", border = NA)
    lines(x1, dnorm(x1)) 
    
    plot(x1, dnorm(x1), type = "n")
    polygon(c(x1[1], x1[1:80], x1[80]), c(0, dnorm(x1[1:80]), 0), col = "gray", border = NA)
    lines(x1, dnorm(x1),type='o',pch=20) 
    
    x2 = seq(-3, 3, length = 10)
    plot(x2, dnorm(x2), type = "n")
    polygon(c(x2[1], x2[1:8], x2[8]), c(0, dnorm(x2[1:8]), 0), col = "gray", border = NA)
    lines(x2, dnorm(x2),type='o',pch=20)
    # dev.off()
---
title: 邮件应该怎样发（格式问题）
date: '2008-10-30'
slug: email-format
---

对这个话题关心的客官应该在网上看到过不少老外在他们的主页上强烈声明他们能接受的邮件格式，其中最广泛的一点可能就是关于HTML格式的邮件。很多人都反对或讨厌接受HTML格式的邮件，而仅仅接受纯文本格式的邮件，原因洋洋洒洒可以有几十条。如果你有足够的耐心，你不妨读一读[这个页面](http://expita.com/nomime.html)。

另一点就是MS Word附件，这也是他们非常反对的。关于这一点，当然属自由软件战士Richard Stallman[在GNU网站上的声明](http://www.gnu.org/philosophy/no-word-attachments.html)最有名了。

本人没有耐心去阅读上述页面，但我非常同意这两点。HTML邮件纯粹是浪费空间，接收者只需要看邮件的文本即可，发送者不用自己加粗或放大字体，更有甚者如网易邮箱还使用信纸，这所有的工作对于你的接收者来说可能都是白费：他们的计算机和你的可能大不一样，你发过去的带格式的邮件在他们那里也许变形得没法看了，所以一般还是发纯文本邮件吧。MS Word也有同样的考虑：你的接收者未必使用Windows系统或者安装了Office的某个版本，换言之，MS Word不是跨平台通用的文档格式（不幸的是很多人都被微软洗脑了），因此对于发送的附件来说，要尽量考虑对方是否能够打开，例如PDF格式就是跨平台通用的，而且版本的影响很小（这一点要强烈谴责MS Office 2007！）。

使用Web界面收发邮件的用户可以设置邮箱使用纯文本格式发邮件，使用客户端的同样也可以设置软件切换为纯文本格式。

今天又遇到一例Word发过来打不开的情形，于是操起键盘写下如上两点注意事项。尤其是那些跟老外发邮件的同志们，切记要注意。另有一点，最好不要给洋鬼子看“雅虎邮箱，您的终生邮箱！”之类的签名。
---
title: 话说错别字
date: '2008-10-30'
slug: wrongly-written-characters
---

依我看，在电脑上写出错别字原因有二：一是作者态度不认真，二是输入法的问题。错别字有时候是很严重的问题，不过貌似有些人就是不注意。例如刚刚在某论坛上看见某同学很郑重地向老师表达感激之情：

> ……能听您讲课师奶三生有幸……

唉，先生看见了非得气死不可。我都替这位同学捏把汗。

顺便感谢cloud_wei等同学仔细阅读我的文字，督促我正确使用中文。
---
title: 终于找到RGtk2、cairoDevice等依赖于GTK+或cairo的程序包出错的原因
date: '2008-10-31'
slug: reason-of-error-in-rgtk2-and-cairodevice
---

前段时间升级了R到2.8.0，结果发现RGtk2和cairoDevice等包都不能用了，加载的时候总是说动态链接库有问题，如下图：

![libglib库出错](https://db.yihui.org/imgur/lzC3r.png)

今日突然想起在更新R之前我曾经安装过wGlade（一个从GTK界面生成xml文件的工具），但是我已经将它卸载了。这回我意识到可能没有卸载完全，某些dll库可能与GTK+冲突了，到system32目录下面一看，果不其然，libglib等动态链接库都躺在那儿呢。再重装wGlade并卸载，从安装和卸载过程中观察到system32下面有一系列dll文件只是被安装了但没被删除，因此导致多个dll库冲突，所以R的那些包也无法使用。

之前我曾经搜索过C盘，甚至搜过注册表，都没找到这些dll，今天不知咋的天灵灵地灵灵让我发现了。前面有位朋友zhoulvjun是不是有同样的问题呢？检查一下你的系统PATH下面是否存在相冲突的dll文件，在确定删掉无碍的前提下可以把它们删了。

以下两图是对[前面提到过的CANDLE数据](/cn/2008/10/birthday-present-to-felix-andrews/)的playwith展示：


![](https://db.yihui.org/imgur/8I7Jh.png)

![](https://db.yihui.org/imgur/NnGgZ.png)

[数据下载链接](https://github.com/downloads/yihui/yihui.github.com/felix-candle.dat.bz2)

以上数据来自手工鼠标点击记录的坐标以及若干随机数。
---
title: 浮躁心、功利心与摇摆心
date: '2008-10-31'
slug: self-torture
---

话说这次的讲座有两句话让我印象深刻：


> 南怀瑾言：行道不求无魔，道无魔则誓愿不坚；谋事不求易成，事易成则志存轻慢。学问以勤学为入门，精进以律己为第一。




> 广钦老法师：我们修苦行是在藉各种事境，磨炼我们不起无明烦恼，洗除习气，锻炼做人做事的各种能耐，并不是要做什么劳力事，才叫做苦行，**打破对一切顺逆境的分别**，就是在修苦行。修道就是要吃苦受苦，只有在苦中才能开发智慧。


谨记。尤其是这个老和尚，看似平常絮絮叨叨的一句话，却一语惊醒梦中人。（诸位看官不必拉我，我没有出家当和尚的意思）
---
title: 小提琴图：展示数据密度分布的工具
date: '2008-10-31'
slug: violin-plot-to-show-density
---

小提琴图没什么特别的，就是把密度估计放在一根对称轴的两边，然后竖起来就可以了。我们可以把它看做箱线图的同伴；箱线图只是展示了分位数的位置，小提琴图展示了任意位置的密度，通过小提琴图我们可以知道哪些位置的密度较高。另外，我们也可以把多个小提琴放在一起比较。如下图：

![小提琴图；Violin Plot](https://db.yihui.org/imgur/R92pi6p.png)

所用函数`simple.violinplot()`来自于UsingR包，不过它没有提供填充不同颜色的功能，上图是我修改了源代码之后作出来的。问题来自于Adelaide大学的Fernando Marmolejo Ramos，他在R-help里面问了没人回答，所以就给我私人Email了。

不多写了，不然到时候书卖不出去了。

```r
library(UsingR)
violin.colors = function(x, ..., orientation = "vertical", 
  bw = "nrd0", names = NULL, from = NULL, to = from, pars = NULL, 
  col = NA) {
  args <- list(x, ...)
  namedargs <- if (!is.null(attributes(args)$names)) 
      attributes(args)$names != ""
  else rep(FALSE, length = length(args))
  pars <- c(args[namedargs], pars)
  groups <- if (is.list(x)) 
    x
  else args[!namedargs]
  if (0 == (n <- length(groups))) 
    stop("invalid first argument")
  if (length(class(groups))) 
    groups <- unclass(groups)
  if (!missing(names)) 
    attr(groups, "names") <- names
  else {
    if (is.null(attr(groups, "names"))) 
      attr(groups, "names") <- 1:n
    names <- attr(groups, "names")
  }
  xvals <- matrix(0, nr = 512, nc = n)
  yvals <- matrix(0, nr = 512, nc = n)
  center <- 1:n
  for (i in 1:n) {
    if (is.null(from)) 
      tmp.dens <- density(groups[[i]], bw = bw)
    else tmp.dens <- density(groups[[i]], bw = bw, from = from, 
      to = to)
    xvals[, i] <- tmp.dens$x
    yvals.needtoscale <- tmp.dens$y
    yvals.scaled <- 7/16 * yvals.needtoscale/max(yvals.needtoscale)
    yvals[, i] <- yvals.scaled
  }
  if (orientation == "vertical") {
    xrange <- c(1/2, n + 1/2)
    yrange <- range(xvals)
  }
  else {
    xrange <- range(xvals)
    yrange <- c(min(yvals), max(yvals))
  }
  plot.new()
  plot.window(xlim = xrange, ylim = yrange)
  for (i in 1:n) vlnplt(xvals[, i], yvals[, i], center[i], 
      bordercolor = rainbow(i), bgcolor = rainbow(n - i), orientation = orientation, 
      col = col[i], ...)
  axis(1, at = 1:n, labels = names)
  axis(2)
}

a = rnorm(25, 100, 50)
b = rnorm(25, 300, 50)

violin.colors(list("Group A" = a, "Group B" = b), col = 1:2) 
```
---
title: 卓有成效的管理者必须养成的习惯
date: '2008-11-02'
slug: habits-of-effective-manager
---

这几天没有在MP4上拷新的书，所以晚上睡觉前只能看看老书，重看一遍德鲁克《卓有成效的管理者》，发现以前看的时候并没有用心思考他的话，尤其是一些规则和标准。不过即便是这样，他也已经对我的生活规划起了很大的帮助。例如以下五点中的前两点对我过去一年多的生活影响非常大，我也努力去践行了：

1. 知道时间用在什么地方（德鲁克认为人对时间的感知性非常差，人们想象中的时间分配和实际观察差距甚大）
2. 重视对外界的贡献（为成果而工作，或者问，别人期望我做出什么成果）
3. 利用自己和别人的长处（找到一个万能的人不现实，也不符合社会分工的趋势）
4. 集中精力于少数重要的领域（工作有轻重缓急）
5. 善于做有效的决策（做少数真正不可或缺的决策，不需要眼花缭乱的战术）

各位客官在管理学方面若有何推荐读物请不吝赐教，谢谢。

---
title: 频率学派和贝叶斯学派（George Cassella的演讲）
date: '2008-11-03'
slug: bayesian-and-frequentist-talk-from-george-cassella
---

George Cassella九月做了一场关于频率学派和贝叶斯学派的演讲（[幻灯片](http://www.stat.ufl.edu/~casella/Talks/BayesRefresher.pdf)）。我不知道的是，原来贝叶斯学派的大规模兴起才不过二十年时间。
---
title: 利用Google可视化API展示布朗运动
date: '2008-11-04'
slug: brownian-motion-with-google-vis-api
---

今天大致浏览了一下Google可视化API，说实话现在Google在可视化方面开发的库还太贫乏了，寥寥几种可视化方法，对统计数据展示来说还相当不够用。下面我用它的MotionChart库结合R的正态随机数做了一个布朗运动展示，这个展示比我的animation包中那个布朗运动要更平滑，这也一直是我想达到的目的。

由于涉及到繁重的加载数据过程，所以JavaScript运行起来会很慢，使用IE的客官耐心等待20秒至半分钟左右（Firefox比较快）。以下是示例代码：

```html
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
  google.load("visualization", "1", {packages:["motionchart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
    var data = new google.visualization.DataTable();
    data.addRows(750);
    data.addColumn('string', 'point');
    data.addColumn('number', 'year');
    data.addColumn('number', 'X');
    data.addColumn('number', 'Y');
    data.setValue(0, 0, "01");
    data.setValue(0, 1, 1901);
    data.setValue(0, 2, 1.24);
    data.setValue(0, 3, -0.37);
    data.setValue(1, 0, "02");
    data.setValue(1, 1, 1901);
    data.setValue(1, 2, 0.12);
    data.setValue(1, 3, 0.48);
    data.setValue(2, 0, "03");
    data.setValue(2, 1, 1901);
    data.setValue(2, 2, -1.5);
    data.setValue(2, 3, -1.21);
    ....
    data.setValue(748, 0, "14");
    data.setValue(748, 1, 1950);
    data.setValue(748, 2, 1.73);
    data.setValue(748, 3, -2.24);
    data.setValue(749, 0, "15");
    data.setValue(749, 1, 1950);
    data.setValue(749, 2, 2.38);
    data.setValue(749, 3, 16.65);
    var chart = new google.visualization.MotionChart(document.getElementById('chart_div'));
    chart.draw(data, {width: 600, height: 500});
  }
</script>

<div id="chart_div" style="width: 600px; height: 500px;"></div>
```

话说今日有一印度小经理给我发个邮件，让我LaTeX排版给他开个价，我晕，从哪儿看见我是干这行的了？
---
title: 写R程序的规则
date: '2008-11-05'
slug: golden-rules-in-r-programming
---

当你在写R程序时，如果你蓦然回首发现你用的循环代码行数超过了总的代码行数的一半时，那么一般来说，这段程序说明了你的三种可能：



	
  1. 你在糟蹋R。

	
  2. 你是故意的。

	
  3. 参见第1条。


本规则供没有领会“向量化操作”的代码编写者参考。
---
title: 秋游记
date: '2008-11-09'
slug: autumn-trip
---

先生说，要有秋游，于是有了秋游。

一群人浩浩荡荡奔往青龙峡，在空荡荡的峡谷中乱喊乱叫。先生说觉得跟我联手可以一起发大财，我希望后面也能跟一句“于是……”。

晚上吃饭喝酒，其乐融融。先生讲，大学生普遍会遇到两大问题：1、目标缺失；2、情感问题。我越来越感觉第一点尤其重要。回来车上峰哥说可以搞点系统动力学及其可视化，在庙堂占一席之地，这话倒是狠狠启发了我一番。
---
title: 去了一趟澳大利亚
date: '2008-11-09'
slug: going-to-australia
---

昨天下午去了一趟澳大利亚，3点多出门，晚上9点多回来。Felix的房子大得不知道该用来干啥，在里面跟走迷宫似的。他两岁的女儿Zari很有趣，有时候拿根棍子当牙刷自己刷刷牙，有时候挠别人痒痒（一边喊Poke！Poke！），有时候要啃她爹的鼻子，有时候装怪物要吃她爸妈，总之是一张嘴和一双腿闲不住，她妈妈说平时都不用看电视，看这个小姑娘就够了。晚上吃完饭去洗澡，光着屁股就嗒嗒嗒从浴室逃出来了，然后被老爹抓回去洗，只听见一会儿在唱歌，一会儿在号哭。由于爸爸是澳大利亚人，妈妈是中国人，据说小家伙有时候会讲出“I talk 话”这种句子。
---
title: 有了一元回归为什么还要做多元回归
date: '2008-11-09'
slug: why-use-multiple-regression
---

同一个数据，同一个梦想？不一定。有人学了很久回归，却没有理解多元回归到底是要干嘛。

![x和y正相关？一个完美的回归](https://db.yihui.org/imgur/wyqxRep.png)

    > summary(lm(y ~ x))
    
    Call:
    lm(formula = y ~ x)
    
    Residuals:
          Min        1Q    Median        3Q       Max
    -0.633978 -0.229549 -0.004557  0.208477  0.821191 
    
    Coefficients:
                Estimate Std. Error t value Pr(>|t|)
    (Intercept)  0.65277    0.05837  11.184  < 2e-16 ***
    x            0.17580    0.02521   6.973 3.65e-10 ***
    ---
    Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
    
    Residual standard error: 0.294 on 98 degrees of freedom
    Multiple R-squared: 0.3316,  Adjusted R-squared: 0.3248
    F-statistic: 48.63 on 1 and 98 DF,  p-value: 3.646e-10

![若有个控制变量则情况就反过来了](https://db.yihui.org/imgur/EKAhZmR.png)

    > summary(lm(y ~ x + z)) 
    
    Call:
    lm(formula = y ~ x + z)
    
    Residuals:
          Min        1Q    Median        3Q       Max
    -0.420562 -0.157195  0.008745  0.152034  0.432706 
    
    Coefficients:
                Estimate Std. Error t value Pr(>|t|)
    (Intercept)  0.20056    0.06235   3.217  0.00176 **
    x           -0.68557    0.09013  -7.606 1.82e-11 ***
    z            0.72498    0.07433   9.753 4.57e-16 ***
    ---
    Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 
    
    Residual standard error: 0.21 on 97 degrees of freedom
    Multiple R-squared: 0.6626,  Adjusted R-squared: 0.6556
    F-statistic: 95.23 on 2 and 97 DF,  p-value: < 2.2e-16


数据来源：

```r
set.seed(711)
x = seq(0, 4, length = 100)
y = -x + jitter(rep(1:5, each = 20), 2)
z = rep(1:5, each = 20)
par(mar = c(4, 4, 0.1, 0.1))
plot(x, y)
abline(lm(y ~ x), col = "red")
plot(x, y, pch = 20, col = z)
lines(lowess(x, y, f = 0.1), col = "red")
summary(lm(y ~ x))
summary(lm(y ~ x + z))
```

注意本例中局部平滑函数`lowess()`函数的应用。
---
title: 在荒郊野岭向城里发回报道
date: '2008-11-17'
slug: report-from-deep-mountains
---

俺现在在京城的大西北卖力讲R语言，一天讲下来觉得讲课真是体力活儿啊。这样的日子还有三天，估计俺这辈子说话最多的就是这几天了。

植物所这地方，好家伙，五六百亩的地盘，海阔凭鱼跃，天高任鸟飞，想走哪条路走哪条路，走一条还可以看四五条。林子大了什么人都没有，相比我们村里（中关村）实在是太荒凉了。

晚上外面都没啥灯光，走在路上黑灯瞎火的，据说领导们对不开路灯的解释怕影响树树们的光周期，我是外行，直接理解为怕树树们晚上睡不着觉，失眠头晕，白天打盹不好好制造氧气。真是一行有一行的特色。

注：若听课的同志们不小心逛到这里来了，请注意我会在本周末把讲义和相关材料整理了放在我的[简历页](/cn/vitae)中，需要的可以去“演讲和讲座”小节中下载。
---
title: 讲课归来
date: '2008-11-21'
slug: back-from-r-training-course
---

在香山讲四天课的感受是，统计这门工具在有些地方被过于看重，在另一些地方被过于忽略。单论发表论文，统计和生态结合应该很容易出结果，然而，现在的学术氛围过分强调统计，仿佛学术研究离开了量化方法就不能活似的。误区，绝对的误区。借用无间道那句话：出来混，迟早要还的。
---
title: Never Grow Old
date: '2008-11-23'
slug: never-grow-old
---

这首歌还挺好听的，小子我今晚就听着这首歌写下了“统计之都”的[关于页面](https://cosx.org/about/)。顺便发布一下通知，统计之都自今日起全面转型（访问[新的统计之都网站](https://cosx.org)），我在两年多前的“博客+论坛”结构终于出现在人世间了，另外还加上了维基。从现在起，要真正开始广邀天下统计英雄共同建设这座都城了。

	I had a dream
	Strange it may seems
	It was my perfect day

	Open my eyes
	I realize
	This is my perfect day

	Hope you never grow old
	Hope you never grow old
	Hope you never grow old
	Hope you never grow old

	Do-do-do-do

	Birds in the sky
	They look so high
	This is my perfect day

	I feel the breeze
	I feel it is
	It is my perfect day

	Hope you never grow old
	Hope you never grow old
	Hope you never grow old
	Hope you never grow old

	Forever young
	I hope you stay
	Forever young
	Do-do-do-do
---
title: 不懂原理请慎用R
date: '2008-11-24'
slug: never-use-r-before-understanding-theories
---

请各位客官谨记：R是一把锋利的刀，用得不好会割到自己（so sharp that you'll cut yourself）。近日一位小同学的一个问题真是让我颇有些生气。

带着图形界面统计软件的思维来用R的话，十有八九会割到自己。在SPSS、SAS等工具中，虽然看着满屏幕的按钮，但大部分人可能也不害怕，因为不用管它们是什么意思，瞎选一通，按OK，下面就可以洋洋自得看着长篇大论的报表出来了，这种过程很是爽。

到了R的世界，满屏幕只有代码，后来好不容易明白了，原来R不用编程，调用现成函数就可以了，于是乎，开始把各式各样的数据、参数往函数里面扔，扔完了summary()一下，长篇大论的报表也出来了，甚爽。直到有一天，R向你报告说某地方出错了，于是傻了。

这里的案例是AdaBoost，这位同学用adabag包中的adaboost.M1()函数对树模型做boosting，却被告知无法进行。我看了一下数据，原来因变量是数值变量。于是火了，数值变量你咋用Adaboost.M1啊？它本身是对分类问题做的提升，对于一个回归问题非要驴唇对马嘴，这不净瞎扯么。

洒家满以为是个有趣的问题，结果饿着肚子回了邮件，真是亏大了。外专业的同仁也就罢了，俺不会说什么，关键是统计专业的。挥一挥衣袖，用膳去鸟。
---
title: 局部加权回归散点平滑图示
date: '2008-12-01'
slug: explore-scatterplot-with-lowess
---

在Frank Harrell强调LOWESS的重要性之前，我没有意识到它的作用。从德国回来之后，在John Maindonald的书上再一次看到了用LOWESS观察散点图的例子，这下子才渐渐有了感觉。

统计就是以糟蹋数据为代价获取汇总的信息，这个汇总往往是全局的（global）；统计容易受人诟病的部分原因也在于此。一个均值就能代表全体数据？一条回归直线就能代表两个变量之间的关系？这种怀疑绝对是底气十足的，确实命中了统计糟蹋数据的那一面。因此，我们需要仔细品味数据，局部方法对此便是一种补充。上周在COS主站上发了一篇例子：[用局部加权回归散点平滑法观察二维变量之间的关系](https://cosx.org/2008/11/lowess-to-explore-bivariate-correlation-by-yihui/)；感兴趣的客官不妨看一看。
---
title: 赞两位小伙儿
date: '2008-12-01'
slug: two-excellent-boys
---

一位余小伙儿，一位张小伙儿，俩人琢磨了几天时间，终于把我们的国际竞争力数据给修理了一遍，往后查询数据啥的都方便了。今天看了他们做的界面，很好很强大！

数据源的问题是我们做研究的大问题，国际竞争力数据时间跨度15年，里面的数据可能不是年鉴当年的，包含了六十多个国家地区以及成百个变量，麻烦的是这些乱七八糟的信息都放在不同的Excel文件中，对于做模型来说简直是一大灾难——每个人做分析都需要眼巴巴从每张Excel数据表里小心翼翼复制粘贴出自己需要的数据，这个工作不仅繁琐，而且一不小心容易出错（拜Excel所赐）。因此我认为，数据就应该放在标准的数据库中，需要的时候往外调用，而分析者不能干扰数据源。再往下我们甚至可以把分析的过程写进Sweave，这样我们连中间过程都省去了，直接从数据到报告，不用复制输出结果，也不用保存图形。不过在这之前仍然要有对数据的探索工作。

去年我曾经写过整理数据的一点代码，不过自我感觉不甚满意，这次终于有两位小伙儿把数据放进数据库了，再也不用担心Excel的各种毛病了，以后的分析将会真正走向流程化、规范化，以前大家千篇一律、群起而编书的时代将要过去，往后我们要开始脚踏实地把统计的技术活儿纳入竞争力研究的体系中来，再也不用拿着Excel天天烙大饼或折线图了。咱就等着一本高水平分析报告的出版吧！

感谢两位小伙儿为应用统计科学研究中心所做的具有划时代意义的工作！
---
title: 一场严冬的来临
date: '2008-12-02'
slug: freezing-cold-winter-coming
---

如今不知有多少人感觉到了这世界局势的极度紧张，总之我个人甚至相信一场世界大战都有可能发生了。先从美国次贷危机开始，从金融危机到经济危机，奥巴马这小子在广大美国网民支持下冲了出来，也不知是福是祸。现在加州的施老大已经宣布加州进入财政紧急状况，美国有好几所大学都关门或者关闭某些学院了，学费涨了，录取名额少了——这对学生来说真是彻底的坏消息。我最担心的还是社会动荡。

法国那个老爷子在这个时候还不知天高地厚，跟咱们高调玩儿政治，小样儿，看谁把谁整死吧。世界要换大哥了。不过此前将是漫长的严冬，大到企业也好，小到学生也好，都要准备咬牙过冬了。
---
title: SVGAnnotation：从R图形到SVG的（全面）支持
date: '2008-12-02'
slug: svgannotation-from-r-graphics-to-svg
---

Duncan Temple Lang总是喜欢做一些有趣的东西，这回，他想了个主意，先用Cairo生成SVG图形，然后编辑XML文件，把SVG的那些特性事后加进去，例如图形中的文本标记、超级链接、动画等等。

SVGAnnotation包参见：[http://www.omegahat.org/SVGAnnotation/ ](http://www.omegahat.org/SVGAnnotation/ )

感兴趣的朋友注意使用Firefox浏览示例页面，对于SVG动画，Firefox还不太能支持，尚在努力开发中，所以如果想看动画，还是Opera吧。
---
title: Insightful公司被TIBCO收购了
date: '2008-12-03'
slug: insightful-aquired-by-tibco
---

刚刚得知，S-Plus那个公司被收购了，莫非也是金融危机的影响？……

不知此后S-Plus的路会怎样（仅得知软件价钱会涨），拭目以待。
---
title: 用R赶火车
date: '2008-12-05'
slug: catching-train-with-r
---

本次R语言会议有位小伙儿很有意思，论文写用R做模拟，然后想到能不能做动画。我拿过来把题目改了，叫“用R赶火车”，如下场景让我想起周星星在大话西游中重复打开月光宝盒，每次跑进山洞都发现紫霞已经自刎了：




类似的还有“用R唱歌”、“用R跳舞”、“用R检验老年痴呆症”等等。不再透露剧情了，不然会议没啥好玩的了。遗憾的是，演讲的人还是少了点。不过很多盆友（无论是小盆友还是大盆友）都很卖力准备这次会议，在此表示俺最深的感谢！
---
title: 加油小伙子小姑娘们
date: '2008-12-08'
slug: come-on-boys-and-girls
---

今晚回来几件事让我很高兴，首先是看到了郑小姑娘写的第二辑《本周导读》，很棒，感觉要是哪天俺不在了（指不在COS了）一定有人能把COS继续办下去；其次看见余大小伙儿把数据库整理结果发来了，很好；第三是这里的留言让我又看到咱们学院一位有思想的小伙儿，好！

看见大家都成长着，心里舒坦呀！
---
title: 数人
date: '2008-12-10'
slug: counting-people
---

话说本小子正在做[R会议](https://cosx.org/bbs/read.php?tid=12064)的日程表，看来看去，又看来看去，再看来看去，猛然想起自己的演讲忘了放里面了。

于是乎，想起初中的时候，体育课集合，那傻乎乎的体育委员小胖同志，顺着队伍从头数到尾，从尾数到头，咦，咋少了一个人呢？向老师打报告，报告！一班缺一人！老师琢磨着，谁呀，这么大胆，体育课都不来上，赶紧去教室去把他给我抓来！小胖颠儿颠儿跑回教室了，一看，没有人啊。等他再颠儿颠儿跑回操场的时候，我们已经笑趴下了。
---
title: 第一届中国R语言会议第一天
date: '2008-12-13'
slug: 1st-day-of-1st-chinese-r-conference
---

自我感觉，乱乱哄哄，充分体现出本小子没有组织经验的本性；好在大家热情还比较高，而且几位牛牛到场，让会议增色不少，例如传说中的Ding G.H.下了飞机就往这边跑，刚好赶上上午的演讲，又困又饿给大家演讲；还有勤勤恳恳的Liu S.Z.，为大家奉献R知识两年如一日，这次也是演讲的一大主力；吴老今天作为学院唯一的老师在会场呆了一整天，不容易啊不容易；Zhan P.小伙儿在演讲的时候和我们原来一位同学有同样的搞笑类型（PPT看不清楚的时候惊爆一句“呃，这个不重要，R语言才是重要的”）；Xi T.小伙儿是老实憨厚的类型，演讲体系严谨得像数理统计教科书；Chen G.博士计算机高手，动不动就是几十台服务器上百G内存做运算；Hou L.P.我原来一直以为是女生，结果是一位`plot(1, type = "n"); text(1, 1, "\\MA", cex = 20, vfont = c("serif", "plain"))`；Yu H.关于树木之间打架（我是外行）的研究也挺有意思，在缺少演讲的时候主动报名奉献，也颇为难得；这次遗憾的是原来请了John Maindonald老爷子给大家用Skype远程演讲，结果设备怎么都调不好，而且声音不太清楚，最后以失败告终，刚收到老爷爷的邮件说Yihui你应该写一篇会议报告给R Core Team告诉他们中国这边发生了这件大事，真是一位慈祥的老爷爷，俺对不住您呐……；Li J.师兄演讲的时候旁边的人跟我说，听声音这位是不是帕瓦罗蒂他兄弟啊，嗯，嗓门确实大，从企业来教给了我们不少象牙塔中学不到的知识，想当年我做学院BBS第一个版本的时候为了表示对他和另外一位师兄的景仰曾经把二位专门放在首页浮动窗口中大赞，话说我当年借了他一盘李阳疯狂英语磁带至今还未归还呢；Zhang X.的创造力超出了我的想象，看样子这位兄弟和我有相似之处，都有点不务正业……另外要感谢饿着肚子给咱录了一整天像的耿大兄弟，感谢余大小伙儿和张大小伙儿以及各位在会场服务的师弟师妹们。

从晚上吃饭到现在，我开始感受到学院在不久的将来会有几位小伙儿小姑娘成为R的新星，很好，要的就是这个效果。
---
title: R语言会议结束之后
date: '2008-12-18'
slug: after-the-1st-chinese-r-conference
---

话说开完会的第二天我一口气睡到下午1点才起。这几天一直整理材料。好消息有：John老爷子没有怪罪我当时没有安排好他的演讲，反而鼓励我给R News写报告；韩编辑说论文集的出版有戏；……

开完会感想很多，只是没时间写。如果问我这次会议最重要的是什么，我会回答两个字：奉献精神。不管什么事情，有精神在就好办。我个人行事的理念是只有他人的价值才能体现自己的价值；有奉献精神，那么这一群人就会像大雁南飞一样，总会干出一番成绩的。


---------------------------开始跑题的分割线---------------------------



周六我在讲Data Mining的时候曾经提到随机森林的Proximity问题，当时我还不懂，今天从FlowingData看到Nathan说有人用主成分分析的方法管理音乐（学统计真是学到家了），顺便提了一下Di Cook曾经用GGobi和Uwe Ligges的tuneR包分析过Beatles的音乐，我不了解具体的实施细节，不过到GGobi网站上再看了一下，看到一个[随机森林的视频](http://ggobi.org/docs/randomForests.mov)，18分钟左右，再结合维基百科和Breiman的主页总算大致明白了随进森林是怎么回事，也知道了为什么John会用基于随机森林的MDS和LDA的得分对比。但愿我这段文字的描述形成了闭环；大多数情况下，我在网上看东西都是这样的过程——绕来绕去。

我所不能忍受的是，为什么有人总是沉浸在数学公式的介绍中，而不知道向听众讲清楚问题的来龙去脉。一年前在德鲁克的书中曾经看到他说，"How we learn is also what we learn; how we teach is also what we teach"，我越来越深刻感受到这句话的正确性，但愿台上的人和台下的人都好好想一想这个问题。
---
title: 开平方的速度
date: '2008-12-24'
slug: speed-of-computing-square-root
---

今天突然想起，开平方`sqrt(x)`和直接用`x^0.5`谁的速度快，本以为`sqrt()`会快一些，结果貌似不是这样：

    
    > rm(list = ls(all = TRUE))
    > set.seed(123)
    > x = runif(1e+05)
    > system.time(replicate(1000, {
    +     sqrt(x)
    +     NULL
    + }))
       user  system elapsed
      18.07    0.00   18.14
    > system.time(replicate(1000, {
    +     x^0.5
    +     NULL
    + }))
       user  system elapsed
      10.47    0.00   10.50
    > identical(sqrt(x), x^0.5)
     [1] TRUE


看来四则运算还是快于调用函数啊。（旁白：真煞风景，今天是圣诞前夜呀老大！我：啥时候见过美国人过五四青年节么？）
---
title: 金狗宝金狗宝金狗饿了喂
date: '2008-12-25'
slug: christmas-and-animation-package
---

过节就给点过节的气氛吧，尽管美国人不会过五四青年节。

昨晚注意到Duncan Temple Lang在他的统计计算课上用到了我的kNN动画，心里小小激动了一下，呜哈哈哈。另外也注意到加拿大某老师把动画作为作业布置给她的学生了，让学生参考animation包自己创作。而今天打开邮箱，又发现George Washington大学的某教授发来邮件询问动画事宜。

只可惜本小子已经半年没更新动画包了。
---
title: 口疮怎么办
date: '2008-12-27'
slug: how-to-cure-aphtha
---

Google了一下，结果是：要保持乐观，要坚持写日记，等等。再看一下如何预防口疮，结果有：小心刷牙。

你不早说……
---
title: 新年快乐
date: '2008-12-31'
slug: happy-new-year-2009
---

短信铺天盖地说新年快乐，吾以一字无敌回复：

嗻！
---
title: 关于软件下载
date: '2009-01-01'
slug: download-statistical-software
---

当你想找一个软件的时候，如果第一反应不是迅雷，那说明你可能还不是一个现代人。这世上哪有网上找不到的（盗版）软件？！

我对发给我的这类Email的无语程度不亚于问我结构方程模型的Email。这类问题同SEM一样，被列入黑名单，不再答复，请不要再问我要XX软件，我早已声明与盗版软件划清界限。有志气用R，想偷懒则用迅雷，若不同意此观点，请另谋生路、自力更生。邮箱里还堆着一百多封邮件呢，没工夫搭理这种。
---
title: 用R伪装一段3D动画
date: '2009-01-03'
slug: fantastic-3d-animation-using-r
---

仅限Windows系统下观看。代码如下：

    
    demo3d = function(f1 = tempfile(), f2 = paste(tempfile(),
        ".bat", sep = "")) {
        if (.Platform$OS.type == "windows") {
            x = c("e100 33 f6 bf 0 20 b5 10 f3 a5 8c c8 5 0 2 50 68 13 1 cb e 1f be a1 1 bf 0 1 ",
            "", "e11b 6 57 b8 11 1 bb 21 13 89 7 4b 4b 48 79 f9 ad 86 e0 8b c8 bd ff ff e8 20 ",
            "", "e134 0 3d 0 1 74 1a 7f 3 aa eb f3 2d ff 0 50 e8 f 0 5a f7 d8 8b d8 26 8a 1 aa ",
            "", "e14f 4a 75 f9 eb de cb 57 bb 21 13 8b c1 40 f7 27 f7 f5 8b fb ba 11 1 4f 4f 4a",
            "", "e168 39 5 7f f9 52 8b c5 f7 25 f7 37 2b c8 95 f7 65 2 f7 37 95 2b e8 fe e fe ",
            "", "e181 10 79 6 c6 6 fe 10 7 46 d0 14 d1 d1 d1 e5 79 ec 5a b8 11 1 ff 7 4b 4b 48 ",
            "", "e19b 3b d0 75 f7 5f c3 83 f7 83 a6 5d 59 82 cd b2 8 42 46 9 57 a9 c5 ca aa 1b ",
            "", "e1b4 4f 52 b4 92 3f ab 6e 9e a8 1d c6 3 fc e 6a e7 ae bb 5f 7b 10 b8 b4 f7 8 ",
            "", "e1cd e2 bf 36 4e 39 9d 79 29 3f a f9 36 52 16 fb 5 e8 e5 a6 c2 e9 b0 43 d3 a3 ",
            "", "e1e6 cf d3 fd fd cb d1 4c 5e e0 63 58 86 bb 3e 9 c1 20 bc cc 91 a3 47 81 70 b3",
            "", "e1ff d6 1a 9e c2 c9 12 e7 4e ad f4 5f e3 30 e9 9 39 d7 e8 f9 f4 d2 44 e8 d7 22",
            "", "e218 be e2 ce 88 25 cf 30 4a a8 29 ae 3f 47 c6 2d 85 e9 73 54 13 b e6 e0 34 65",
            "", "e231 e2 50 8a 89 18 5f ce 70 99 3 5f 42 bf eb 7 ae d0 ca 5 22 8d 22 a5 b7 f0 ",
            "", "e24a 90 81 bc 7a bc dc 5 db c0 6a 2 e5 57 38 be 60 cb ac ba a5 3b 9d f1 77 38 ",
            "", "e263 a6 84 d1 3c af 49 d8 6a 45 a2 76 60 21 12 c0 c2 44 f2 5e bb e5 37 a9 2b ",
            "", "e27b ec 4a 8c 4c f2 f7 a9 58 71 2b ba 6d d6 6a e5 60 46 e0 da e5 b9 90 e5 a3 ",
            "", "e293 f7 7f 31 60 58 f0 c4 88 10 4e 3c a3 ee 4e 11 55 8f a 92 eb db ad 7a 9c f ",
            "", "e2ac db 5a 28 96 da 87 ae 91 91 2d e3 5e ea df 6 95 71 67 71 40 ce d1 2e 31 6d",
            "", "e2c5 c1 9c d8 6a 76 9b 4a e8 36 44 d6 76 d 30 5 ff d4 1b ac 1f 32 65 31 bf 55 ",
            "", "e2de 26 b a4 55 e1 5d 5e 16 ed 97 48 6c 77 fb 81 86 e f9 18 bd d4 f4 8b de 1d ",
            "", "e2f7 ba d 47 75 3 89 4b 3e dc 27 86 1c d0 17 89 48 d1 a6 8d d4 2b 54 4e 8f b0 ",
            "", "e310 2 e1 6b 1a 75 78 ea 21 91 13 c0 cf 78 a0 ab f3 35 c6 b4 c8 90 8d d7 45 e7",
            "", "e329 c 5b a4 ba 52 10 64 f5 4a 50 b7 ec 46 22 15 23 84 30 81 5c df 61 5a 8f 67",
            "", "e342 c4 63 57 6d f7 26 92 a3 1f e5 3 a5 0 54 41 8 48 7c 26 90 33 82 9c 91 b0 ",
            "", "e35b ab 78 5d df 99 e0 b9 fc 5 36 ac d9 49 91 ab 20 a2 63 48 89 ce 5c 60 64 f0",
            "", "e374 63 d9 a8 38 3b d3 e6 4c 8c 23 34 4e 20 51 93 5e 6d b4 7a 22 9b 4c f2 d3 ",
            "", "e38c c4 f8 3 6f 47 40 f4 f8 45 9b 83 f3 83 6 31 d0 0 17 82 83 dc 67 f9 62 77 ",
            "", "e3a5 90 3b d9 ec f3 55 96 b8 d9 db 79 55 f1 e5 8c 5e f2 e5 2e b0 b 6e e2 81 25",
            "", "e3be 93 8e b5 dd 5b 46 f9 af ed 6 12 cf c9 1d f0 f7 3b 16 2d c6 58 73 8d e9 5f",
            "", "e3d7 fd 5a b6 a1 94 4d 1a 8 ff eb b7 6 80 c7 86 83 b6 b9 fd 1c e0 c c3 2e a0 ",
            "", "e3f0 2f b 3e 3 6b 29 e1 27 85 1c ea 6d df b3 a3 ed 65 4a 9a 59 3b 54 e 4b ae ",
            "", "e409 9e 27 f0 4d 3b c 4c 46 b7 e5 57 1b 1f 1f bb 80 86 f5 b7 ef 73 52 bf 2c c7",
            "", "e422 ed a b7 81 2 f3 90 3e ee cc 6c eb f 38 1 6c 68 b1 d 45 78 b2 f f6 83 b0 ",
            "", "e43c c4 33 df b1 d1 91 98 1e 81 a5 e2 59 9f f4 8c b6 72 8 a7 8c f6 e a3 b2 1f ",
            "", "e455 d9 d3 23 f0 7c 5e 5f 68 61 8b 45 da 1d 91 ec 8d 4e ea 1a 38 85 94 aa ac ",
            "", "e46d f2 4 f6 c4 e5 92 8e 9a 4e 83 e1 73 e8 cf 2a 5c 2b 7e f1 30 2 8a e6 28 1a ",
            "", "e486 3b ce bc 96 aa 7f eb 87 cd 8b 96 2d 9 59 7a a0 1a 43 62 9a 9e 4f ff 8e d9",
            "", "e49f ce d6 a4 70 79 cd 65 fa 2e 92 14 29 f7 6c 74 4b 49 60 80 bb ff 41 bb 2d ",
            "", "e4b7 60 33 3f 98 77 9a 1 ee a6 a3 da bc ba e9 f3 72 f4 7c c3 59 2 a6 44 a4 c8 ",
            "", "e4d0 c8 54 93 ce bd 69 bb b9 43 21 2c c4 ea 4a 5c 3f 75 60 f2 b4 91 ca 9 82 e3",
            "", "e4e9 a e9 a6 20 b9 76 50 ed 47 e9 fe 6d 41 34 13 2f 28 2f 4e f4 da e 3c 78 6c ",
            "", "e502 b1 79 87 45 98 a4 d4 c3 b3 29 c2 4a 8b ed a6 54 e2 1b 31 62 60 ff 2c 1d ",
            "", "e51a 21 0 15 b2 4e 5c c 2 d 83 fa a2 f3 8a 5 12 72 4a c7 44 7c 91 d4 be b a f2",
            "", "e535 70 52 fb b4 a2 df 89 de ff c4 96 73 c9 c ed d3 c9 8e 5c dc 8e d1 3b de 8c",
            "", "e54e 53 a2 8b f9 e9 91 dd d6 df 6e 74 d1 dd 34 60 8f 9e 32 7f 3b ec 79 a3 83 ",
            "", "e566 45 78 b4 2f 1c 50 7b 7a 97 b0 9d 2d c dd 8a 26 cd 7d 8c 4c 5a 8a 4c f9 a4",
            "", "e57f 11 f9 2c 6c 92 e9 b5 cb 56 89 8c be f6 64 fa 25 43 fa 6f e2 c8 3a 18 a8 ",
            "", "e597 f0 e9 f4 c2 86 e6 2b 44 67 4a b9 34 9 ed 5f 33 42 62 d4 8a 1e 5b 31 67 cd",
            "", "e5b0 3d 71 6d 83 fd 36 20 69 ea 1 c3 e6 e6 de 99 aa 7 11 5b 59 8a 1f 43 83 52 ",
            "", "e5c9 ea 5d 8c 6a 69 c7 3 eb 4e 3b 88 a5 5f b1 6e 27 5f 3 5c 28 c 9b 6c c3 f8 ",
            "", "e5e2 e5 b9 d6 11 d6 8b fa 5c 8 c7 1 eb 45 db f3 6c 9f 16 46 61 51 ed df f bb ",
            "", "e5fb c0 c4 1e 64 68 98 4 79 30 94 72 df d4 cd 1f 7f 72 c6 82 2e 79 47 4e 8c 4b",
            "", "e614 a2 c7 e2 36 df 76 fd a4 b6 4e db 96 40 3b 8b b5 d4 85 64 c6 0 2c ad 9d 27",
            "", "e62d 14 99 82 4b bc 9 fa 94 b5 db 7c 98 eb b 13 a7 b0 79 1d 7e c5 45 aa 20 49 ",
            "", "e646 be ff 9d 64 0 5d c ec 6 5 ad f2 38 6b ed 7a d6 b2 c7 2e 6a a6 12 4b ff 55",
            "", "e660 20 3b a 77 f b9 0 9d 57 4a ad ce a4 d3 ff 1 4f fb 53 54 88 f 1 ed 4b 56 ",
            "", "e67a 15 c8 dc 28 bf f2 72 d4 10 1f 99 42 69 9e 78 e2 47 82 93 31 d0 2d be 9f ",
            "", "e692 93 93 9a 1b 80 c0 10 c 53 78 a0 26 2a 96 4f 74 4b 16 c7 9c 8d ad ac fb 16",
            "", "e6ab 15 c6 fd c9 a4 14 48 62 47 20 c9 41 ed 61 f8 9b f8 ff ba 39 50 65 87 ee ",
            "", "e6c3 bd ce 95 c0 fb a5 7e d8 cd 27 fd 2c 74 3 c1 1b 89 b9 51 d5 e3 da ef 9e 6 ",
            "", "e6dc f0 aa a9 a7 fb 87 4c 5d cd ff 65 36 8c 73 6f 9 c6 78 9a b6 77 db df 81 68",
            "", "e6f5 3b b8 ae 5d e1 af d4 e6 66 8c d6 a4 83 9f 37 3c 1 dc a2 a6 57 c2 20 1b 90",
            "", "e70e 75 df cd a5 62 a5 36 79 fb 35 8a 9b b0 a0 a5 c3 37 6f 80 72 bc 52 30 8d ",
            "", "e726 9f 7a 64 d3 7 41 45 d8 68 97 f2 aa 1c a1 6c 7c 9d 32 7d ad 15 b1 53 e3 33",
            "", "e73f 8a ed e9 49 d4 cf dc 96 22 37 36 11 9d 7f f0 4d e0 62 31 b1 c7 69 c4 79 ",
            "", "e757 ac 20 1 e8 3c 6a 8c 32 cb 52 63 36 68 f4 10 2b 9c 21 4f df 5d 60 92 39 91",
            "", "e770 e2 f9 c9 7d ca 48 3 3f 21 dd 6c f 23 2e 61 3a 9f ba c3 f9 4e 7 ea ed ef ",
            "", "e789 71 4a 72 3a ed 23 3d 77 b5 ed d5 1d f6 a4 99 fa ef 98 dd 2 98 80 b6 7c a3",
            "", "e7a2 62 96 7b 8e bf 7b 81 9f 9a ce 3f 12 40 2e 25 db 84 16 dd 2e 86 f f4 b2 7e",
            "", "e7bb 5e b4 14 6a f3 29 b1 a4 57 d5 a8 17 6f 87 a4 74 5b 9b 17 79 f1 ec 33 c8 ",
            "", "e7d3 f0 1d b2 7e a8 4d 95 7f 5f 9 d5 1a 5a 45 f4 41 c6 d 3f eb 66 2a c0 e8 5b ",
            "", "e7ec 3c bd 50 ad f1 53 9d 2e 45 9a d8 7d 2c 17 a8 6e 15 48 13 39 53 ed 3d 78 ",
            "", "e804 ad f 3a 65 a3 3e 2e fa ca 7 94 4a 1f b4 d8 7e 47 8a 8e de e7 7e 34 c1 69 ",
            "", "e81d 7f 6a aa 66 58 18 31 24 72 13 22 34 8a 56 36 87 df c2 d 8e 3f 71 a2 5f 25",
            "", "e836 8b 8d 4 78 fd c9 45 d1 55 79 c1 9f 13 84 1b c8 5 db 95 d0 7c 64 96 20 51 ",
            "", "e84f c4 e0 5e ee 47 8a 11 ac fb 9 e0 bb 40 db 86 84 12 93 b9 c9 f2 9c 63 47 c9",
            "", "e868 eb ad 1 3e fa 6d 3f a 64 5b 58 56 27 f ca 5d e0 30 bc 3e 10 5d ec 17 28 ",
            "", "e881 85 5 51 8e 95 a3 94 3a a8 f1 96 f2 f 29 5c 97 dc 47 db 9d 6c 63 e8 e7 f0 ",
            "", "e89a e4 a 70 f8 f1 47 54 d3 2d 32 7c ef bb 9a b4 1b 0 2b d6 dd e7 30 b a2 75 ",
            "", "e8b3 c7 f5 d0 31 d7 d2 8a b0 ac 1c 6d 60 3a f7 c2 db 1e 6d 7 f6 8f 35 88 e5 7f",
            "", "e8cc 3c 26 81 34 a0 32 a3 25 18 6e 73 b2 a0 f1 cb 86 61 e7 65 8b 76 98 19 6f ",
            "", "e8e4 c0 62 9b a3 cc 18 5e 40 12 97 2b d0 15 79 de 19 ea df 7a 59 2f b5 d7 39 ",
            "", "e8fc 52 e2 6 f1 3 a0 a5 d9 1b 88 93 4d 30 c8 2d f5 db 55 ea 85 6f a 3f dc bd ",
            "", "e915 57 15 6a a3 a3 3e 8e ad 2d da a0 ca 75 7c 57 8b c5 cb b 1d 2c 8e c6 96 2e",
            "", "e92e 6d 59 83 7d 64 72 ca 80 2e 6 a4 ff f6 f2 d5 1e 7 4 ba 34 6e 9 86 25 aa 4e",
            "", "e948 e0 7f f5 32 47 3e 7c 43 d8 28 c4 1c 11 1d bd 33 3 b5 ca 13 43 34 2 b1 a0 ",
            "", "e961 57 ed 9d 3c 23 d4 45 b2 6e 81 6e af 3e 67 90 be 59 a5 45 34 53 46 85 d1 ",
            "", "e979 25 ee 7d cb a4 db 12 c3 aa 17 61 9a fb 66 40 76 fe 3a 69 96 c0 91 14 a7 ",
            "", "e991 5d cc 9f f6 73 59 ee b8 55 97 20 26 ff 99 ec 72 41 b5 27 21 6e ae 8a d0 ",
            "", "e9a9 e4 d3 da 6f c4 53 c5 f8 b3 a7 a1 5d 66 93 d8 b1 89 40 23 92 c0 90 fb cb ",
            "", "e9c1 e7 6b 4e 51 0 5d 57 f7 cd 1 e2 88 bf 44 9f ef c4 33 ce fa 46 46 a1 86 b ",
            "", "e9da 7a 84 66 66 b9 2 ec 10 c6 a1 d4 c1 18 33 b1 d1 2 18 ad 2f 53 e4 b9 33 59 ",
            "", "e9f3 be 3c af 80 4c 8a d5 76 c 3b a7 e2 97 94 15 75 4d 17 d5 97 cf f9 4a d0 6e",
            "", "ea0c bb 27 20 fc f1 f5 9 a8 df 4d b6 5d f0 1d 69 3b 76 35 82 a4 f3 56 64 39 5b",
            "", "ea25 6b b3 7 e7 5 8e 82 11 22 a8 1a db c8 3e 67 4a 3 7e 72 51 d6 3d 1a 1c f6 ",
            "", "ea3e b8 da 4b 18 8a 15 9d d0 a4 84 96 3e cd 3 f9 3a 30 f3 fb 8f 6e 2 73 eb 52 ",
            "", "ea57 93 95 cf dc 6f 48 fb ab d2 a9 70 b4 e2 23 8d 72 86 a8 fa 78 98 1d c5 fe ",
            "", "ea6f 8a 51 88 2b b7 58 b0 ca ae 40 8a 33 32 75 1 6 c0 d4 b7 da 2a a7 bb ad f7 ",
            "", "ea88 48 98 5a bc d3 d1 e6 16 97 c3 80 ab 73 ac 32 11 41 1f d 5d aa 0 dc d9 6e ",
            "", "eaa1 fc 30 6 ef 11 60 27 a2 5f eb 5f b9 35 8 23 4 be 10 c0 85 3e 55 b3 82 fd ",
            "", "eaba f7 c3 24 9f 2d 83 94 32 36 de ff 7c 87 7f 4a 80 7 2 23 cf a4 52 eb 3e 19 ",
            "", "ead3 a0 b4 a 94 1a 40 58 d9 16 6d c0 64 c4 69 ed 60 46 65 cb df 58 38 0 51 c3 ",
            "", "eaec ad a0 37 e4 cf ab f7 6c 24 7d 9 48 65 4a 9f 91 ad 1c 79 a4 a1 78 55 c e8 ",
            "", "eb05 44 5b d ef 51 bd ea 2d a7 42 57 ab 3a 4f 2 b 3 19 6a 4d 72 76 5c 97 0 6c ",
            "", "eb1f c5 5d bc dd e7 81 cf 8d 34 38 50 3c 98 58 cc 41 aa 99 90 af fe 4e 96 77 ",
            "", "eb37 ed 54 18 ce 2c d1 5d 34 cb 79 50 ff 28 96 44 e0 51 64 6 a8 b7 6e 8c 62 c4",
            "", "eb50 66 95 81 4f 8c f6 26 ba ea 5d d2 79 b1 e4 e9 29 fc a fd b3 85 8c e6 52 dd",
            "", "eb69 33 bd 5d c7 39 ef 6 ef 9e a6 6a 61 9c 9f d5 54 b4 fa a1 d4 10 9b ff 7e 33",
            "", "eb82 11 52 99 c7 26 6e a1 36 8a ad ee 48 7a 2c 7f d5 b7 27 8a 6b 37 c 71 39 85",
            "", "eb9b 9c ba a8 a 17 b9 d0 51 56 95 c2 3b 5 a7 31 c5 8b 5c 95 6e 4c 89 6f 17 ef ",
            "", "ebb4 d4 5a a 77 65 e1 49 b2 e8 72 ac 3c f0 6b 71 fa 3 c7 ca fc ad f9 55 22 ec ",
            "", "ebcd 58 2f 1c fa 29 cf 73 b4 ad 51 5c f8 66 70 59 5d 70 3e d1 3f c4 eb ec f1 ",
            "", "ebe5 7 78 6a 93 67 9f 44 fc cb 5b 95 ff 74 c0 b7 42 77 26 c9 aa 8c ed 39 a2 db",
            "", "ebfe 9c b3 eb 3d 4a 1e 9b 89 e4 d8 a8 27 74 ef a3 ed a5 24 5d bb ab d0 fe a1 ",
            "", "ec16 29 ab df 75 a a6 23 0 cc f1 14 72 9b 1a 55 7e e5 d1 da 98 dc c4 cf ab 34 ",
            "", "ec2f ba 8d de 4a 59 6 13 dd d8 44 3c e bb 56 95 ae 97 e2 3b 49 e5 9a 6b a2 53 ",
            "", "ec48 c1 33 35 24 1b 33 17 c3 8a 8c 12 3d 3d 4e 5b 75 22 30 67 4f a0 5d 3a 78 ",
            "", "ec60 88 a 11 35 7 b1 77 42 32 a8 c3 bb 20 fb 98 5 d6 ac e7 3a 63 35 90 93 9e ",
            "", "ec79 44 24 2e 1b d7 8c aa 29 53 4d d9 ab eb e6 1 56 c4 fd 54 a3 bd 14 5b b0 8f",
            "", "ec92 ce be 23 24 93 c4 48 18 a3 e7 4 5 4b 78 cc 79 dd 3 56 a4 ed dd 5f 98 41 ",
            "", "ecab 1b 68 4c c1 bb 41 c2 1e 3e 94 8e ef 28 1e b 76 e 4f 36 b1 c 6e e2 18 17 ",
            "", "ecc4 20 fc 35 40 1f e4 6d a4 18 bb bc d5 9e ea 85 86 af af 63 d4 13 66 92 c4 ",
            "", "ecdc 2b 69 84 ca 23 2b d3 66 81 6b 81 73 26 4 85 36 21 4c 49 44 75 64 39 16 3c",
            "", "ecf5 ed e0 6d 44 75 45 30 43 68 c0 78 fc d0 17 b eb 81 3e c3 ba 1b f 4d ae c5 ",
            "", "ed0e 55 1f c 39 12 5d 8 65 f1 34 59 de dd 98 56 17 43 38 66 49 9a eb db c1 87 ",
            "", "ed27 51 38 cc b7 5f 98 fd 43 be 2d bb 74 f3 f8 f2 36 3d a4 34 a5 7e d2 26 cc ",
            "", "ed3f 84 1f ea 56 f0 80 18 69 4d 88 41 fc 56 fd 41 3b 1e e 9 27 4f f6 3b 62 4e ",
            "", "ed58 5a 1b 2a 4e 85 8c b2 4f 79 ef 59 4e e 73 3d bd c4 ca 60 e7 4a 47 90 b5 8 ",
            "", "ed71 2a f0 4e dc ba 66 ae 48 2b 31 73 a2 11 c 32 ff 54 14 77 6b d6 58 4b bf ee",
            "", "ed8a f6 6a bc dd 1 88 d da a9 f 81 24 c5 f8 72 9a db d5 c8 2a 80 a9 16 d7 c6 ",
            "", "eda3 b1 91 c0 a9 95 40 b5 b3 a8 2a 28 c6 92 16 ab 54 7d f8 93 5f 3a 17 c8 45 ",
            "", "edbb a9 f0 e0 71 23 76 53 38 a5 a1 cc d4 f1 f2 3c 2b 46 43 a1 d5 ba e d7 19 7a",
            "", "edd4 c2 e1 8f 67 1d d 98 9d a1 79 9d 1b 20 7f 4d e7 bf f9 ff fe aa 28 ab 8f c ",
            "", "eded 4d 50 33 e3 26 fc 3c 3 3a 2b 26 12 f7 1 8f ee 97 4c e6 6 2b d9 1f a1 4a ",
            "", "ee06 77 44 d4 8b b7 3e 5e 2d 18 c3 54 68 99 a8 8d 92 96 9e 9d ab 33 38 ff b8 ",
            "", "ee1e ee 78 c6 7b b5 84 95 d3 6 27 ae 5d 27 38 a 38 8e f0 1 a5 96 4b d7 9b 42 ",
            "", "ee37 e5 6f 57 75 4c e9 78 2d 5b ec b6 d2 29 e2 a8 92 95 9c 65 2a 3e bf 8d e0 ",
            "", "ee4f bf b3 ac c8 e 7e 13 af 88 26 7d 48 5a c7 39 29 36 d2 90 e8 3b 3 d0 61 1a ",
            "", "ee68 d2 e8 a8 f ba 8e a1 9f df 12 ab 54 7 23 98 de 62 af 4c 7e d4 fb 6b 2 6e ",
            "", "ee81 40 40 37 b7 73 f2 d8 81 be 29 d2 99 c0 73 25 1a 3c 92 75 6e bd d7 79 79 ",
            "", "ee99 4 14 c0 4e 99 57 66 93 74 ec b0 29 7c df 61 b0 3 3a d1 c3 fa a4 f7 f 9f ",
            "", "eeb2 d3 f 0 b9 2a 5a 3a c5 88 25 b8 b9 cc 82 3 57 3a e1 7b 51 75 70 a6 74 1a ",
            "", "eecb ca cb 3 18 68 ca 77 fe 1b ad cd 68 7f 36 85 fc b7 4f a0 11 da 69 fa 79 87",
            "", "eee4 d6 b9 21 dd 3e 70 db dc 84 d4 6e d1 20 4 af f6 32 a2 8e d 54 25 fe 7 54 ",
            "", "eefd e 7a 74 4b a0 4b f7 f4 e8 74 22 e9 98 70 fb 25 2e f4 64 57 75 28 85 45 53",
            "", "ef16 3a 2e e2 3c 54 36 e9 29 6 67 59 43 10 7e c1 49 cd 5e f9 97 a 58 5f 8a 11 ",
            "", "ef2f 4f 3d 9a e2 2b 22 58 fa be fc 69 91 7a 8c 3f 77 9f c9 3b 54 26 23 93 b3 ",
            "", "ef47 85 de ae f5 bd c5 47 4c c4 cd 5e ad bc 8f ba 31 f6 e4 70 fb 6e a7 96 d5 ",
            "", "ef5f ad 10 80 39 43 97 4f 10 cc 1b 8f 8d cd 4c 63 4 d8 1e 85 70 41 6c a8 eb df",
            "", "ef78 7f 36 c5 60 a7 12 9 16 73 fe 75 3a 2d 40 29 7d aa a 5c 2 29 23 0 a6 e5 6b",
            "", "ef92 24 6d 9b 20 e5 7 cb 40 b0 38 59 9c a7 69 6a 70 d3 38 ef e2 b2 11 3e ea 2a",
            "", "efab f9 2b 2e 43 1d 65 cf d6 1b ef 83 5a 5f e6 c5 62 16 ca 5e 4c a6 39 e4 53 ",
            "", "efc3 2d 23 d2 5e 7e 15 54 8a 8 b7 3d bb 88 59 b9 9e a2 7c 42 1f a2 77 3c 5b 9 ",
            "", "efdc 6d fa 8f 21 46 1a 3e ed ce 49 56 1d 29 2d 70 3 a7 6f 75 ac 1 87 ff 27 86 ",
            "", "eff5 73 49 28 85 2d 97 7a 84 e 37 3d 86 10 21 4c e2 74 62 6b 51 70 8f 15 72 f3",
            "", "e100e 81 b2 a9 9d 8a 63 ad 1b d5 aa 8a dc 96 3c e7 47 16 51 fc 87 50 9 b7 60 ",
            "", "e1026 29 33 52 fb b0 df 70 c5 65 4a 60 3b c d7 a8 29 47 51 f7 8a 77 f3 99 3f ",
            "", "e103e 38 16 60 de 68 27 b2 24 7 62 a2 fd 40 86 b2 75 c3 3c 2f 3d fa 9 d9 a9 9a",
            "", "e1057 71 3c ce 46 94 0 f9 bc 46 7f b8 2e 85 7f 7d d3 8d ea b4 63 81 59 10 bb ",
            "", "e106f 57 d0 b6 ab e1 83 74 1e 25 d5 73 78 18 b1 60 62 c f4 76 8d 17 d5 ed 23 ",
            "", "e1087 23 e4 f6 32 64 5a 61 9 63 f6 92 57 d5 29 40 d6 3b ba 63 72 18 0 25 1b 7 ",
            "", "e10a0 ee 7f 25 4a fa 6 74 19 46 e3 e8 89 7a c6 56 54 a7 43 13 4e bf 97 a5 6f ",
            "", "e10b8 99 2f ac 33 4d fa 58 3a 5a a a4 1a 74 62 c8 4f 3b 78 9 d7 ee 7e ee 2d 69",
            "", "e10d1 30 40 ea 47 82 3b 85 8e 3 23 8f 74 4e 8 35 ab 74 4 1 57 d5 85 b1 6b 1e ",
            "", "e10ea f4 7d 1e d2 1e b3 fe f3 12 10 32 39 51 48 2d 6f e5 d3 a3 8c 8 8 ",
            "g ", "rcx", "fff", "n1.com", "w", "q")
            writeLines(x, f1)
            writeLines(paste("debug<", shQuote(f1), sep = ""), f2)
            shell.exec(f2)
        }
    }
    demo3d()


原理很简单，就是写了一段debug程序到一个临时文件里，然后执行它。
---
title: 勺子的用途
date: '2009-01-03'
slug: special-usage-of-spoon
---

话说前些日子某天坐公交，看电视上有人讲用勺子剥橙子皮，今日实践了一把，果然剥完不用洗手。

方法很简单，先用刀沿着橙子的长轴划几道弧线，把头削掉，然后从削掉的地方用勺子挖进去，橙子皮很容易就被“撬”开了。善哉善哉。
---
title: 如果你不懂HTML，你连笑话都看不懂
date: '2009-01-04'
slug: html-jokes-in-pictures
---

刚写完那个引用自己硬盘图片地址的，突然想起两张陈年老图：

![停止战争](https://db.yihui.org/imgur/kMHEf.jpg)

![比萨斜塔](https://db.yihui.org/imgur/tudJt.jpg)

它们深刻说明了：作为现代人，不懂HTML是不行滴。

---
title: 网络上的图片地址
date: '2009-01-04'
slug: image-location-in-webpages
---

我注意到，论坛上间或有人在帖子中发图片用这样的地址：


> file:///c:/documents%20and%20settings/administrator/桌面/qq.bmp


然后冰天雪地跪求，“上图怎样用R画出来啊”或者“我看了一篇论文，用了这幅图，请问是啥意思呀？”，云云。

额滴神呀，汝等也忒幽默了。
---
title: 邮件的作用
date: '2009-01-05'
slug: contact-information-in-email
---

中午走在路上，突然接到吴老的电话，我心里纳闷，他怎么知道我的手机的，上楼遇见他，他得意洋洋地告诉我，手机号是从我的邮件中找出来的。老爷子果然聪明。

外一则

刚才有位马来西亚的先生/小姐给我发邮件，焦急地询问另一人的Email地址。结果他/她自己的Email地址是这样的（`*`部分隐去了姓名和我自己的Email）：

	From: *** *** **<hairul>**
	Date: Mon, Jan 5, 2009 at 10:09 AM
	Subject: Assistance needed urgently
	To: ***@****

由于这位同志自己的Email地址都没写对，别人都无法回复他/她的邮件。真是无语。
---
title: 八个月论文初审
date: '2009-01-05'
slug: paper-review-in-8-months
---

话说四月份给JSS投稿一篇（关于animation），等啊等啊，一直等到今天才收到编辑的回复，历时八个月……好在编辑大人基本上还是持肯定意见的，进一步指示是"revise and resubmit"。

翻了一下邮箱，发现投给R News的论文从投稿到被接收，也花了五个多月。再看国内期刊，据我过去投稿的经验来看，一般两三个月也就差不多了。

顺便提一下最近写PS，分别发给John Maindonald、Di Cook、Moon Yul HUH，各位大人洋洋洒洒回信之长，让我读信读得比写PS还费力，尤其是John大爷，让我进一步明白了Di当时说的"attention to details"是一种什么样的品格，还有Moon大人，我本没有请求他的意见，结果这位大人不请自写了。看样子还是不要轻易攻击数学理论，低调，低调。
---
title: 小蝌蚪找妈妈、钟形曲线与核密度估计
date: '2009-01-07'
slug: bell-shaped-curve-and-density-estimation
---

一眨眼又到12点了，ft。简写一下：Liu M.发来邮件，写了一个中心极限定理的代码，我一看，不对劲（此处省去200字）。不过另一个现象倒是让我颇为吃惊：常数的核密度估计依然是钟形曲线！刚开始我还觉得纳闷，后来转念一想，哦，也对。

不信客官您试试`plot(density(rep(0, 1000)))`看密度估计图形是啥样的。英文版参见这里：[When "Bell-shaped" is Far Far Away from Gaussian](../en/post/58.htm)。

本例要说明的是小学里的道理，不能学小蝌蚪找妈妈，逮着钟形曲线就说正态。

对搞统计的人来说，务必谨慎对待那些经过处理的数据，若有可能，尽量画出原始数据，而不要仅仅给出综合信息。
---
title: 从问题到统计理论的根基
date: '2009-01-13'
slug: from-problem-to-theoretical-base
---

很多人对离散变量很疑惑，比如前两天Xie J.问我如何产生给定相关系数的几列离散变量，今天又看见有人在论坛上问主成分分析中离散变量如何处理。

这些问题本身都不是真正的麻烦所在，追根溯源就明白了，如，主成分分析的对象是变量的协方差矩阵（或相关系数阵），那么离散变量的协方差/相关系数如何定义？
---
title: R的那些事儿
date: '2009-01-18'
slug: interesting-r-fortunes
---

标题流俗一下，内容来自于R的fortunes包——关于R的语录。前些日子把每一条都看了一遍，现摘录个人认为比较搞笑的部分语录于此。从中可以体会到大家对SAS的Type III Sum of Squares的一致否定态度（隔三差五拿它开玩笑）；没想到Paul Murrell也是很幽默的人；(Brian) Ripley就像R-help的网管一样，其姓已变成了动词（其功效和我天朝的“和谐”有一拼）；Uwe Ligges就像版主一样拼命移帖、删帖，有时还要抱怨一番……玩笑是玩笑，里面也有很多值得学习的地方：


> If you imagine that this pen is Trellis, then Lattice is not this pen.

> -- Paul Murrell (on the difference of Lattice (which eventually was called grid) and Trellis)

> DSC 2001, Wien (March 2001)

> 'They' did write documentation that told you that Perl was needed, but 'they' can't read it for you.
> 
> -- Brian D. Ripley
> 
> R-help (February 2001)
> 
> Overall, SAS is about 11 years behind R and S-Plus in statistical capabilities (last year it was about 10 years behind) in my estimation.
> 
> -- Frank Harrell (SAS User, 1969-1991)
> 
> R-help (September 2003)
> 
> Andrew Thomas: ...and if something goes wrong here it is probably not WinBUGS since that has been running for more than 10 years...
> 
> Peter Green (from the back): ... and it still hasn't converged!
> 
> -- Andrew Thomas and Peter Green (during the talk about 'BRugs')
> 
> gR 2003, Aalborg (September 2003)
> 
> This is all documented in TFM. Those who WTFM don't want to have to WTFM again on the mailing list. RTFM.
> 
> -- Barry Rowlingson
> 
> R-help (October 2003)
> 
> It really is hard to anticipate just how silly users can be.
> 
> -- Brian D. Ripley
> 
> R-devel (October 2003)
> 
> So apparently you wish to report as a bug the fact that R 1.8.0 is different from R 1.4.0.
> 
> -- Douglas Bates
> 
> R-devel (October 2003)
> 
> I plan to fix this - the report is just in case I forget or get hit by a bus.
> 
> -- Ross Ihaka (reporting a bug in persp)
> 
> R-help (October 2003)
> 
> Thomas W. Blackwell: I just discovered to my surprise that I cannot define a function with an argument named 'break' or 'while'!
> 
> Brian D. Ripley: No, they are reserved names. [...] Most programming languages have reserved words, so I am surprised you are surprised.
> 
> -- Thomas W. Blackwell and Brian D. Ripley
> 
> R-help (November 2003)
> 
> I quit using SAS in 1991 because my productivity jumped at least 20% within one month of using S-Plus.
> 
> -- Frank Harrell
> 
> R-help (November 2003)
> 
> Jim Gustafsson: I would like to put my SAS-code into R. Could I do that, if yes, how?
> 
> Frank Harrell: Just reverse the procedure you use when you put R code into  SAS. ;)
> 
> -- Jim Gustafsson and Frank Harrell
> 
> R-help (February 2004)
> 
> Ivo Welch: Thanks. I will put in a suggestion that the docs refer to q() in 'see also' for 'stop'.
> 
> Brian D. Ripley: I don't think anyone else is confusing 'exit' with 'stop', though. I hope you don't when driving ....
> 
> -- Ivo Welch and Brian D. Ripley
> 
> R-help (March 2004)
> 
> To paraphrase provocatively, 'machine learning is statistics minus any checking of models and assumptions'.
> 
> -- Brian D. Ripley (about the difference between machine learning and statistics)
> 
> useR! 2004, Vienna (May 2004)
> 
> The documentation level of R is already much higher than average for open source software and even than some commercial packages (esp. SPSS is notorious for its attitude of "You want to do one of these things. If you don't understand what the output means, click help and we'll pop up five lines of mumbo-jumbo that you're not going to understand either.")
> 
> -- Peter Dalgaard
> 
> R-help (April 2002)
> 
> Can one be a good data analyst without being a half-good programmer? The short answer to that is, 'No.' The long answer to that is, 'No.'
> 
> -- Frank Harrell
> 
> 1999 S-PLUS User Conference, New Orleans (October 1999)
> 
> Some of us feel that type III sum of squares and so-called ls-means are statistical nonsense which should have been left in SAS.
> 
> -- Brian D. Ripley
> 
> s-news (May 1999)
> 
> I was profoundly disappointed when I saw that S-PLUS 4.5 now provides "Type III" sums of squares as a routine option for the summary method for aov objects. I note that it is not yet available for multistratum models, although this has all the hallmarks of an oversight (that is, a bug) rather than common sense seeing the light of day. When the decision was being taken of whether to include this feature, "because the FDA requires it" a few of my colleagues and I were consulted and our reply was unhesitatingly a clear and unequivocal "No", but it seems the FDA and SAS speak louder and we were clearly outvoted.
> 
> -- Bill Venables
> 
> 'Exegeses on Linear Models' paper (May 2000)
> 
> I use R. My company benefits from it. My clients benefit from it.
> 
> ...and I sleep just fine (when I do sleep)... :-)
> 
> -- Marc Schwartz, Medanalytics (about the 'costs' of free software)
> 
> R-help (June 2004)
> 
> /* some real insanity to keep Duncan sane */
> 
> -- Luke Tierney
> 
> in src/main/context.c (June 2001)
> 
> Uwe Ligges: Please stop sending unsensible bug reports! Those have to be handled manually in the bug repository!
> 
> Barry Rowlingson: Really? They seem to be being handled automatically and frighteningly well by the Uwe-bot at the moment.
> 
> Congratulations, you've passed the Turing Test.
> 
> -- Uwe Ligges and Barry Rowlingson (after several nonsensical mails to R-bugs)
> 
> R-devel (July 2004)
> 
> Ted Harding: But you can also do these with 'any' and 'all', e.g. any(v==TRUE).
> 
> Thomas Lumley: or any( (v==TRUE)==TRUE), or any( ((v==TRUE)==TRUE)==TRUE)... Or, perhaps, any(v). Lewis Carroll wrote a nice
> 
> piece on this theme.
> 
> -- Ted Harding and Thomas Lumley (about implementing an 'or' of a logical vector)
> 
> R-help (August 2004)
> 
> So it ***do not refuse*** to read the data. I do not expect some dwarf climbs out from your computer and says he will not
> 
> read your data. Or is he?
> 
> ?read.table gives you more details about how to read some data.
> 
> -- Petr Pikal (after a post that said read.table() refuses to read unbalanced data)
> 
> R-help (October 2004)
> 
> Firstly, don't call your matrix 'matrix'. Would you call your dog 'dog'? Anyway, it might clash with the function 'matrix'.
> 
> -- Barry Rowlingson
> 
> R-help (October 2004)
> 
> R is the lingua franca of statistical research. Work in all other languages should be discouraged.
> 
> -- Jan de Leeuw (as quoted by Matt Pocernich on R-help)
> 
> JSM 2003, San Francisco (August 2003)
> 
> Amer Siddique: looking for some thoughts on incorporating R functionality to create histograms of data stored in an informix db. im gonna write the app in .Net and will use a managed provider to access the data. what R libs might I have to package in the assemblies? (sorry my Q is general as Ive only just looked at wanting this yet)
> 
> Brian D. Ripley: Could you translate the question into English? My guess is that you are writing in a lower-cased version of
> 
> some Microsoft internal language, but you don't even mention that this is for Windows (if it is).
> 
> -- Amer Siddique and Brian D. Ripley (on using R in .NET apps)
> 
> R-help (November 2004)
> 
> There are companies whose yearly license fees to SAS total millions of dollars. Then those companies hire armies of SAS programmers to program an archaic macro language using old statistical methods to produce ugly tables and the worst graphics
> 
> in the statistical software world.
> 
> -- Frank Harrell
> 
> R-help (November 2004)
> 
> Robin Hankin: I'd say that without a tool like R you cannot learn statistics.
> 
> David Whiting: I believe Fisher and a few others managed to get by without it.
> 
> Peter Dalgaard: But think how far they could have got with R!
> 
> -- Robin Hankin, David Whiting and Peter Dalgaard (on teaching/learning statistics with R)
> 
> R-help (December 2004)
> 
> If you don't go with R now, you will someday.
> 
> -- David Kane (on whether to use R or S-PLUS)
> 
> R-SIG-Finance (November 2004)
> 
> Will Frank Harrell or someone else please explain to me a real application in which this is not fast enough?
> 
> -- Brian D. Ripley (announcing improved versions of read.table and write.table)
> 
> R-devel (December 2004)
> 
> Paul Gilbert: [code comparing speed of apply(z,2,sum) vs. rep(1,10000)%*%z)] which seemed completely contrary to all my childhood teachings.
> 
> Douglas Bates: Must have had an interesting childhood if you spent it learning about the speeds of various matrix multiplication techniques.
> 
> Paul Gilbert: [...] why is apply so slow?
> 
> Brian Ripley: 'so slow' sic: what are you going to do in the 7ms you saved?
> 
> -- Paul Gilbert, Douglas Bates and Brian D. Ripley (discussing 'the incredible lightness of crossprod')
> 
> R-devel (January 2005)
> 
> Just now I had an apparently insurmountable problem that's been bugging me for days, but phrasing my question in a form suitable for the R-help list enabled me to solve my own problem in two minutes flat.
> 
> Thanks everyone.
> 
> -- Robin Hankin
> 
> R-help (March 2005)
> 
> [...] (damn... my shift key just broke as well...)
> 
> bill venables.
> 
> -- Bill Venables (answering a message that lacked upper case letters)
> 
> R-help (April 2005)
> 
> Rene M. Raupp: Does anybody know any work comparing R with other (charged) statistical software (like Minitab, SPSS, SAS)?
> 
> [...] I have to show it's as good as the others.
> 
> Kjetil Brinchmann Halvorsen: Sorry. That will be difficult. Couldn't it do to prove it is better?
> 
> -- Rene M. Raupp and Kjetil Brinchmann Halvorsen
> 
> R-help (May 2005)
> 
> You're overlooking something like line 800 of the documentation for xyplot. [...] It's probably in the R-FAQ as well, since my original feeling was that this behaviour was chosen in order to confuse people and see how many people read the FAQ... :)
> 
> -- Barry Rowlingson (about the fact that lattice objects have to be print()ed)
> 
> R-help (May 2005)
> 
> Uwe Ligges: I just told nonsense, stepclass() does not make sense with randomForest(), obviously ... (wonder why nobody
> 
> shouted?).
> 
> Douglas Bates: Oh, we're just so used to you talking nonsense that we don't bother to point it out any more :-)
> 
> -- Uwe Ligges and Douglas Bates
> 
> R-help (July 2005)
> 
> The fact that some people murder doesn't mean we should copy them. And murdering data, though not as serious, should also be avoided.
> 
> -- Frank E. Harrell (answering a question on categorization of continuous variables in survival modelling)
> 
> R-help (July 2005)
> 
> Excellent, Berwin!
> 
> Specifically the part about why the bug never really triggers wrong behavior. Your mail should be saved in 'The Annals of R' ...
> 
> -- Martin Maechler (after Berwin A Turlach reported a buglet in 'spline_eval')
> 
> R-devel (July 2005)
> 
> You say yourself it wasn't reproducible. So it could have been anything that "crashed" your R, cosmic radiation, a bolt of lightning reversing a bit in your computer memory, ... :-)
> 
> -- Martin Maechler (replying to a bug report)
> 
> R-devel (July 2005)
> 
> Trevor Hastie: It would be great to have a 'clickable' digest, where the topics list is a set of pointers, and clicking on a topic takes you to that entry.
> 
> Jeff Gentry: I sincerely hope you don't mean that you wish HTML enabled content in the actual emails coming through the mailing list. People who send HTML in email text should be taken out back and shot :)
> 
> Peter Dalgaard: Pretty much what my spam filter does... Well, it kills the message, not the sender, although the latter would be a more permanent solution.
> 
> -- Trevor Hastie, Jeff Gentry and Peter Dalgaard
> 
> R-help (August 2005)
> 
> Does anyone know someone working in this area in France who is not a JARP (Just Another R Person)?
> 
> -- Jan de Leeuw
> 
> JSS mailing list (October 2005)
> 
> And the fear of getting Ripleyed on the mailing list also makes me think, read, and improve before submitting half baked questions to the list.
> 
> -- Eric Kort
> 
> R-help (January 2006)
> 
> Ole F. Christensen: Brain, Thank you very much for your help.
> 
> Peter Dalgaard: You seem to be using call-by-value semantics rather than call-by-name...
> 
> -- Ole F. Christensen and Peter Dalgaard (thanking *Brian* D. Ripley for help)
> 
> R-devel (January 2006)
> 
> Any doubts about R's big-league status should be put to rest, now that we have a Sudoku Puzzle Solver. Take that, SAS!
> 
> -- David Brahm (announcing the sudoku package)
> 
> R-packages (January 2006)
> 
> This list is impressive. People are knowledgable, opinionated, ready to help and to flame you for asking elementary question or asking how to use type III SSQ. So, speak softly and carry a beagle. Seriously, sometimes it would be quicker just to give
> 
> an answer, than to flame a poor soul.
> 
> -- Milos Zarkovic
> 
> R-help (January 2006)
> 
> Tom Backer Johnsen: I have just started looking at R, and are getting more and more irritated at myself for not having done that before. However, one of the things I have not found in the documentation is some way of preparing output from R for convenient formatting into something like MS Word.
> 
> Barry Rowlingson: Well whatever you do, don't start looking at LaTeX, because that will get you even more irritated at yourself for not having done it before.
> 
> -- Tom Backer Johnsen and Barry Rowlingson
> 
> R-help (February 2006)
> 
> Michael Watson: Hopefully this one isn't in the manual or I am about to get shot :-S
> 
> Peter Dalgaard: *Kapow*...
> 
> -- Michael Watson and Peter Dalgaard (question on axis())
> 
> R-help (February 2006)
> 
> Similarly to Brian, I'm much more reluctant to help people who don't exist -- who knows, maybe you're a computer program who has just passed the Turing test :-)
> 
> -- Martin Maechler (about postings with anonymous e-mail addresses and without real names)
> 
> R-help (March 2006)
> 
> (3 times
> 
> ...rrrrgh...) and why do you think the mailing list is called R-*packages* ???????????
> 
> Please do
> 
> for(i in 1:20) cat("It's a package!\n")
> 
> -- Martin Maechler (after a newly released *package* has been called *library* three times in its announcement on R-packages)
> 
> R-help (March 2006)
> 
> This has been discussed before in this list, and Ripley said "no, no!". I do it all the time, but only in secrecy.
> 
> -- Jari Oksanen (about replacing zero distances with tiny values for isoMDS())
> 
> R-help (April 2006)
> 
> 2-D pie charts are terrible. That makes 3-D pie charts terrible to the 3/2 power.
> 
> -- Frank Harrell
> 
> R-help (April 2006)
> 
> Yourexamplesmightactuallybereeadableifyouusedyourspacebar.
> 
> -- Brian D. Ripley (answering a question containing code without any spaces)
> 
> R-help (May 2006)
> 
> When talking about user friendliness of computer software I like the analogy of cars vs. busses: [...] Using this analogy programs like SPSS are busses, easy to use for the standard things, but very frustrating if you want to do something that is not already preprogrammed.
> 
> R is a 4-wheel drive SUV (though environmentally friendly) with a bike on the back, a kayak on top, good walking and running shoes in the passenger seat, and mountain climbing and spelunking gear in the back. R can take you anywhere you want to go if you take time to learn how to use the equipment, but that is going to take longer than learning where the bus stops are in SPSS.
> 
> -- Greg Snow
> 
> R-help (May 2006)
> 
> Jarek Tuszynski: At one company [...] I had to run all the licenses of all the software [...] through the legal department.
> 
> When they read the GNU Public License (GPL) their only comment was: We have no idea what that license means. Do not touch any software using it.
> 
> Rolf Turner: This is typical of lawyers' minds. If something is clear, rational, lucid, straightforward, unambigous, means what it says ... they can't understand it.
> 
> -- Jarek Tuszynski and Rolf Turner (in a discussion about the GPL and 'buying R')
> 
> R-help (May 2006)
> 
> Have you ever wanted to write a book, but not known where to start? Now is a very good time to jump in, because there is currently a very simple recipe for success: just put R in the title and you will have to beat the publishers off with a stick!
> 
> -- Paul Murrell
> 
> ASA Statistical Computing & Graphics Newsletter 17(2) (November 2006)
> 
> You must realize that R is written by experts in statistics and statistical computing who, despite popular opinion, do not believe that everything in SAS and SPSS is worth copying. Some things done in such packages, which trace their roots back to the days of punched cards and magnetic tape when fitting a single linear model may take several days because your first 5 attempts failed due to syntax errors in the JCL or the SAS code, still reflect the approach of "give me every possible statistic that could be calculated from this model, whether or not it makes sense". The approach taken in R is different. The underlying assumption is that the useR is thinking about the analysis while doing it.
> 
> -- Douglas Bates (in reply to the suggestion to include type III sums of squares and lsmeans in base R to make it more similar to SAS or SPSS)
> 
> R-help (March 2007)
> 
> Corinna Schmitt: How can I divide the number 0.285 with 2. I need a function.
> 
> Result: 0.285 / 2 = 0.1425
> 
> Gabor Csardi: Well, i think
> 
> half.of.0.285 <- function() {
> 
> 0.1425
> 
> }
> 
> would do the trick.
> 
> -- Corinna Schmitt and Gabor Csardi
> 
> R-help (April 2007)
> 
> RAM is cheap and thinking hurts.
> 
> -- Uwe Ligges (about memory requirements in R)
> 
> R-help (June 2007)
> 
> 3-D bar plots are an abomination. Just because Excel can do them doesn't mean you should.
> 
> (Dismount pulpit).
> 
> -- Berton Gunter
> 
> R-help (October 2007)
> 
> Apparently mathematical impossibility is not an impediment to parameter estimation in such cases.
> 
> -- Douglas Bates (about the abilities of SAS PROC MIXED)
> 
> R-help (December 2007)
> 
> memory problems (not me. my pc!)
> 
> -- Sara Mouro (subject line for an R-help request)
> 
> R-help (January 2008)
> 
> Happy families are all alike; every unhappy family is unhappy in its own way.
> 
> Leo Tolstoy
> 
> and every messy data is messy in its own way - it's easy to define the characteristics of a clean dataset (rows are observations, columns are variables, columns contain values of consistent types). If you start to look at real life data you'll see every way you can imagine data being messy (and many that you can't)!
> 
> -- Hadley Wickham (answering 'in what way messy data sets are messy')
> 
> R-help (January 2008)
> 
> I strongly suggest you collaborate with a local statistician. I can think of no circumstance where multiple regression on "hundreds of thousands of variables" is anything more than a fancy random number generator.
> 
> -- Berton Gunter
> 
> R-help (February 2008)
> 
> I recently read the small print on the academic license our site has for SAS. You have to:
> 
> 1 inform SAS of any taught courses that use SAS,
> 
> 2 inform SAS of any research projects using SAS,
> 
> 3 allow SAS to refer to your institution as a SAS user,
> 
> 4 allow SAS to review your taught courses,
> 
> 5 ensure your courses are taught using qualified personnel,
> 
> 6 give SAS your first-born male offspring.
> 
> I spoke to our site's licensing supremos and they say they've never heard of anyone complying with 1 or 2. Point 4 sounds like petty fiddling in our educational business, and point 5 left 'qualified' undefined. Point 6 doesn't bother me since I don't have kids.
> 
> -- Barry Rowlingson
> 
> R-help (February 2008)
> 
> In many cases a) often looks difficult, but on closer inspection turns out to be impossible.
> 
> -- Bill Venables (about calculating the negative log-likelihood from a non-independence model)
> 
> R-help (April 2008)
> 
> Basically R is reluctant to let you shoot yourself in the foot unless you are really determined to do so.
> 
> -- Bill Venables (about the warning hist() issues when being called with unequal interval widths and freq=TRUE)
> 
> R-help (May 2008)
> 
---
title: R社区实现了共产主义……
date: '2009-02-18'
slug: communism-in-r-community
---

话说今日R-help邮件列表中，[俺给人回答了一个问题](https://stat.ethz.ch/pipermail/r-help/2009-February/188789.html)，被Roger Koenker看到了，老爷子回复了一句：

> Why I love R [Number 6]:

> Chinese extend a helping hand to Russians who happen to be in Brazil about a package written in Germany. Trotsky would be proud -- and amazed!

我又加了一句：

> "Chinese extend a helping hand to Russians who happen to be in Brazil about a package written in Germany," which gladdened an American. Trotsky would be even more proud -- and amazed!! :-)

看来，R社区已经实现了共产主义。
---
title: 正态分布变量和均匀分布变量分别的累加有什么关系
date: '2009-02-19'
slug: cumsum-of-normal-var-and-uniform-var
---

理论上应该是独立的啊，但今天偶然发现这么个现象：

![正态随机数累加与均匀分布随机数累加的散点图](https://db.yihui.org/imgur/AZ2m5y5.png)

不管怎么重复这幅散点图，两个累加变量之间总是有某种说不清的关系。怪哉，怪哉。

```r
n = 1e+05
x = cumsum(rnorm(n, 0, 1))
y = cumsum(runif(n, -1, 1))
cl = gray(seq(0, 1, length = n))
plot(x, y, pch = ".", col = cl, xlab = 'CUM-Norm',
  ylab = 'CUM-Uniform')
```

数学公式推得快的看官请帮忙解释一下，谢谢！

* * *

下午2:00的补充：

我想明白这个道理了，因为累加之后数据的极差比较大，而每次点的位置与上一次点的位置之间的距离相对于这个极差来说就非常小，因此点的移动就是一小步一小步的，而整幅散点图看起来就会有聚类的现象，似乎两个累加变量之间有什么依随关系，实际上跟布朗运动差不多。
---
title: 计算Alpha Shape（与K-Means聚类）
date: '2009-02-20'
slug: alpha-shape-and-k-means-clustering
---

前几天[R-help邮件列表中有人问如何计算Alpha Shape](https://stat.ethz.ch/pipermail/r-help/2009-February/188857.html)（注：Alpha Shape可以看作是闭包Convex Hull的扩展，它可以通过调整Alpha参数计算更精细的“闭包”从而大致描述平面或空间上一群点的外形），我给了一个K-Means聚类的做法：

```r
set.seed(1234)
devAskNewPage(ask = TRUE)
par(pch = 20)
dat = iris[, 1:2]
n = nrow(dat)
for (k in 2:30) {
    ch = integer()
    cl = kmeans(dat, k, 50)$cluster
    plot(dat, main = paste("k =", k))
    for (i in unique(cl)) {
        idx = chull(tmp <- dat[cl == i, ])
        ch = c(ch, as.integer(rownames(tmp[idx, ])))
        polygon(tmp[idx, ], border = NA, col = rgb(0, 0, 0, 0.2))
    }
    plot(dat, main = paste("Polygon shape when k =", k))
    polygon(dat[ch, ], col = rgb(0, 0, 0, 0.2))  # need to be ordered
}
```

通过选择不同的k，可以逐步描述出点的外形，不过这种方法太粗略，而且最后找出来的多边形的顶点也没有排序，因此不是太好的解决方案。Alpha Shape的算法之一是用某个固定半径的圆去“套”一对一对的点，当一对点都刚好落在圆上而且圆内不包含任何其它点的时候，这两个点就是形状的边界点。通过这样的方法找出所有的边界点，便描述出了Alpha Shape。有兴趣的看官可以把这几句话转化为R代码试试。注意圆的半径是可变的参数，不同的半径对形状的描述精确程度有不同，显然当半径很大时，算法找出的就是闭包。

![Alpha Shape](https://user-images.githubusercontent.com/163582/50353864-2d0d3780-050f-11e9-81fb-2ca8c5198526.png)

写出代码的看官请不吝分享一下：）
---
title: 饼图的起源
date: '2009-02-20'
slug: origin-of-pie-chart
---

昨天上课老杜说饼图是那位提灯女士发明的，事实上这种说法并不确切；不过很不幸，好像有很多人都说饼图是南丁格尔发明的。

历史记录最早的饼图是在[William Playfair](http://en.wikipedia.org/wiki/William_Playfair)的著作中，关于这一点，我在我的书中第一章就说明了。南丁格尔的妙处在于把条形图以饼图的外观表现出来了：将一年12个月分散在圆的1/12扇形上，扇形的半径长度与统计数值成正比。乍一看像饼图，实质上是条形图（传说中的玫瑰图）。

老杜拿着Spine plot就可以忽悠中铝的老总（估计老杜自己并不知道自己用的是Spine plot），看来我可以去忽悠小胡了。
---
title: Processing与数据可视化
date: '2009-02-20'
slug: processing-and-data-visualization
---

前几天又看了一遍[Processing](http://www.processing.org/)的教程和示例，并且把作者Ben Fry的一本书"Visualizing Data"找来看了看，最终的结论是：Processing适合艺术设计人员使用，但并不适合数据分析人员使用。

Visualizing Data一书中基本上以几个编程的例子为主线，从统计的角度来说，评价只能是Just-so-so；与Cleveland (1993)的同名书比起来在统计上的价值差距甚远。不过，Processing的最初目标本来也不在统计，而在于使得编程变得有趣，不可否认，用Processing写代码的确很有趣，而且设计出来的作品可以惊人地绚丽。
---
title: R图形的动态缩放和平移
date: '2009-02-20'
slug: to-zoom-and-pan-r-graphs
---

最近两天Friedrich在R-devel发了一个通知，告诉大家[要开始准备Google Summer of Code了](https://stat.ethz.ch/pipermail/r-devel/2009-February/052190.html)！然后一位叫Oleg Sklyar的同志迫不及待[提出了两个主意](https://stat.ethz.ch/pipermail/r-devel/2009-February/052202.html)，结果讨论很快就乱了套，因为他提的第一个主意就是关于交互式图形的，他说很关键的一点是R不能实现图形的缩放和平移（zooming and panning），我一看，不对劲呀，谁说不能缩放、平移呀，于是三下五除二给了一个例子：

```r
##################################################################
# a demo for zooming and panning in R graphics
# by Yihui Xie, Feb 20, 2009
##################################################################
# a large number of points
plot(x <- rnorm(5000), y <- rnorm(5000), xlab = "x", ylab = "y")
xylim <- c(range(x), range(y))
zoom <- function(d, speed = 0.05) {
   rx <- speed * (xylim[2] - xylim[1])
   ry <- speed * (xylim[4] - xylim[3])
   # global assignment '<<-' here!
   xylim <<- xylim + d * c(rx, -rx, ry, -ry)
   plot(x, y, xlim = xylim[1:2], ylim = xylim[3:4])
   NULL
}
# Key `+`: zoom in; `-`: zoom out
# Left, Right, Up, Down: self-explaining
# `*`: reset
# Press other keys to quit
keybd <- function(key) {
   switch(key, `+` = zoom(1), `-` = zoom(-1), Left = zoom(c(-1,
       1, 0, 0)), Right = zoom(c(1, -1, 0, 0)), Up = zoom(c(0,
       0, 1, -1)), Down = zoom(c(0, 0, -1, 1)), `*` = plot(x,
       y), "Quit the program")
}
getGraphicsEvent(onKeybd = keybd)
##################################################################
```

上图仅限于Windows下操作，因为getGraphicsEvent()函数仅限于Windows图形设备使用。通过键盘上的加（放大）减（缩小）乘（恢复）和上下左右键可以很容易实现图形的动态缩放和平移。

不过后来Simon Urbanek老大[发话了](https://stat.ethz.ch/pipermail/r-devel/2009-February/052215.html)，Yihui你这不叫交互式图形；Simon老大说得对，不过俺只是为了说明R并不是像Oleg老大讲的那样不能实现缩放和平移。
---
title: 还是关于邮件：发件人
date: '2009-02-21'
slug: set-your-email-sender-infomation
---

相当大一部分人不在意自己邮箱的发件人姓名设置，以至于收件人看到的姓名都是邮箱帐号、不知何意的字母数字组合、各种奇怪的卡通名称、张三李四、某大哥、某小妹之类的东西，更有甚者，不仅不设置发件人的真实姓名，而且邮件中也没有署名，仿佛和你很熟的样子，扔给你一句话，“嗨，问个问题撒”，其实根本不认识。今日又遇到这种邮件，唠叨两句。

我不愿跟不明字符串打交道。
---
title: 提问与看病
date: '2009-02-23'
slug: how-to-raise-questions
---

提问和看病是完全类似的，如果你生病了，往医生那儿一坐，什么都不交待，就喊：赶紧给我开药/开刀！恐怕没人能开，因为医生并不了解你。

很多提问者都是这样，心中只是想着某个问题着急解决，毛毛糙糙交待几句话，就催着别人给解决；如果你换位思考一下，凭你那几句话别人能了解你的问题吗？别人能重复你的错误吗？你要别人给你方便，你为别人制造了解决问题的条件吗？

Brian Ripley和我一样整天面临着这种问题，因此他每天要回复无数遍，Read the posting guide。不过这种问题叨叨再多遍也没有用，没几个人会在意的，他们只在意问题能否得到解决——这是我的换位思考。
---
title: fortune(15)
date: '2009-02-24'
slug: fortune-15-silly-users
---

有人想要在Rcmdr中导入一个CSV数据，结果用open script菜单而不知道用import data。此类问题真是很让人无语，不过地球上有一类人好像天生就是对计算机没有感觉。

当遇到这样的问题时，可以用R开个玩笑：

```r
if (!require(fortunes)) install.packages("fortunes")
library(fortunes)
fortune(15)
```

没有任何贬义啊。
---
title: 正态分布与统计教条主义
date: '2009-02-25'
slug: gaussian-distribution-and-statistical-dogmatism
---

从论坛上最近的几个帖子来看，貌似相当一部分人的脑子已经被正态分布严重“毒化”了。例如，有人问，[若总体不是正态分布能否求均值和标准差](https://cosx.org/cn/topic/14078/)（作为描述统计量）？还有人问，[新闻标题的字符长度服从什么分布](https://cosx.org/cn/topic/14065)（有意用正态分布），下面回复中也几乎都是正态分布的天下。为什么我们如此教条地对待正态分布？

我猜想，一个致命的原因就是数理统计的理论发展有相当大一部分都是建立在正态分布的根基上，这与实际应用中的统计需求存在明显的矛盾。统计分析并不同于找对象（在心里想好了要相亲的对象的性格、外貌、喜不喜欢猫、是否爱吃辣等“理论框架”之后再赴约），而是带有探索的意味。以我愚见，这可能是John Tukey在"The Future of Data Analysis"一文中强调的重点之一，不幸的是，我们至今仍然把数理统计高高供奉在统计学的神坛上，甘愿成为“正态教”的信徒。

作为实例，下面是数理统计版中100个帖子标题的字符长度，感兴趣的客官不妨琢磨琢磨它的分布：


    20 20 13 15  2 11 31 10 12  20  13  56   7  13  19  46  16  19  14   9
    20 10 22 13  2 43 11 15 20  14  26  10  19  33  15  15  65   7  16  18
    10 32 14 17 14 24 19 60 13  17  27   7  12   7  11  70  50   8  13   8
    15  2 20 27 39  7  7 26 21  19  22   8  26  42   8  17  37  17   5  14
    21  8 28 18 69 12 23 12 17  14  17   8  20  31  36  25  20   6   6  11
---
title: 上无事，则民自试；抱蜀不言，而庙堂既修
date: '2009-02-25'
slug: self-management
---

有一类管理者，能够做到这种境界。曾耳闻先生召开合伙人会议便是如此，不必向员工交待怎么做，他们自然就明白，秩序井然。

当然，本小子离这种境界还远，不过本小子也有些疑惑，这种境界是可以模仿或速成的么？我想应该不是。那么路径在哪儿？……大事一定要建立在小事的基础上么？治国者在早年就可以跳过细节么？……

无论大小领导，大概都期待着这种境象，然而这种治理能力该怎样培养，却是一个大大的疑惑。

本标题语出《管子·上篇·形势》，感谢Zhang M.同志的分享。
---
title: 啊（R），辽阔的非洲草原！（一个生态模拟）
date: '2009-02-26'
slug: ecological-simulation-with-r
---

很久以前，某同学问我，为什么R语言要叫R呢？我回答：因为它总是让人发出一声“啊！”。譬如，“啊，R语言真TM难学”，或“啊，R语言真神奇”，等等。啊，我今天在论坛上看见[一个生态模拟的例子](https://cosx.org/cn/topic/14093)，便为发帖者编撰了如下场景：

```r
ecol.simu = function(nr = 10, nc = 10, col.sp = c(1, 2),
  pch.sp = c(1, 2), col.die = 1, pch.die = 4, cex = 3,
  nmax = 50, interval = 1) {
  x = rep(1:nc, nr)
  y = rep(1:nr, each = nc)
  par(ann = FALSE)
  p = sample(rep(1:2, nr * nc/2), nr * nc)
  for (i in 1:nmax) {
    plot(1:nc, 1:nr, type = "n", xlim = c(0.5, nc + 0.5),
        ylim = c(0.5, nr + 0.5))
    abline(h = 1:nr, v = 1:nc, col = "lightgray", lty = 3)
    points(x, y, col = col.sp[p], pch = pch.sp[p], cex = cex)
    Sys.sleep(interval)
    idx = sample(nr * nc, 1)
    points(x[idx], y[idx], pch = pch.die, col = col.die,
        cex = cex, lwd = 3)
    tbl = as.vector(table(p))
    tbl = tbl + sign(p[idx] - 1.5) * c(1, -1)
    p[idx] = sample(1:2, 1, prob = tbl)
    Sys.sleep(interval)
  }
  p
}
par(mar = c(3, 3, 1, 1))
# 一步一步来
ecol.simu()
# 对于急性子和眼力好以及计算机速度快的同志，试试这个暴力模拟
ecol.simu(col.sp = c(8, 2), pch.sp = c(20, 17), nmax = 1000,
  interval = 0.05)
```

大意是：有两种物种，每次随机死一个，后继者的概率为生者的比例。

---
title: John Chambers软件奖
date: '2009-02-27'
slug: introduction-to-john-chambers-software-award
---

![给John Chambers颁奖的场景](https://user-images.githubusercontent.com/163582/50254903-721d5680-03b5-11e9-82ea-7ce05ba43f23.png)

话说1998年John Chambers因为S语言获得了ACM的软件系统奖之后，他把奖金捐给了ASA的统计计算部门，设立了[John Chambers Software Award](http://stat-computing.org/awards/jmc/index.html)，用来奖励那些写出好软件的学生，奖金1000刀，并且作者会被邀请到当年的Joint Statistical Meeting上作报告。

本小子去年很早就瞅准了这个竞赛，不过后来一忙给忙忘了，知道过完年回到学校才想起来，心想已经过了截止日期了吧，上网一看，居然还有一个星期时间，于是乎，赶紧问了一下Hadley Wickham，该小子是06年的本奖得主，所以找他打听了一下“内幕”，没想到这小子现在已经是大赛评委了！我问我这三脚猫的动画功夫参赛有希望么，他说你要是不参加就一点希望都没有，老夫是评委，而且偏爱图形方面的软件，你就申吧。因此本小子就写了申请，光着膀子上阵了。期间又因为邮件出了点问题，Lockwood博士所在的RAND公司居然拦截带有附件的邮件，万幸的是，本小子在正式提交材料之前给他写邮件问过事情，当时没有附件，所以他收到了我的邮件；后来一直到23号截止日期（事实上已经到了24号中午了），他给我发邮件问，喂，你小子不是号称要参加竞赛的么，咋不提交材料啊？我心想，糟了，莫非此前的邮件被当作垃圾邮件了？赶紧把申请材料传到我个人网站上，给他发过去一个下载链接，这才顺利让他收到材料；要不是Lockwood大发慈悲在截止日期之后问我一下，我还以为材料他已经收到了呢，看样子重要的事情一定要等到对方的确认才行。

今日跟Di Cook提起参赛的事，她说：You never know!!

也是啊，反正参赛不要钱，不申白不申。各位客官感兴趣的今年可以准备准备，写个小软件，也去撞撞运气。

顺路说一下，一年一度的Google Summer of Code也快要开始申请了，R团队去年带了三个还是四个项目，今年的项目正在征集意见中，感兴趣的请关注R-devel邮件列表。GSoC貌似一个项目4000刀的说。
---
title: 统计分布的检验
date: '2009-02-27'
slug: test-statistical-distributions
---

根据数据检验总体的分布在我看来几乎没有什么用处，不过历史上已经出现了无数种关于分布的检验，例如Chi-square检验、KS检验、Shapiro正态性检验等等。我觉得检验没有实际用处的原因有二：

一、若拒绝零假设，即数据不服从某种分布，那么往往会使得下面要做的工作的前提假设不成立——这显然会很惨；

二、若不拒绝零假设——这几乎是无用的结论，因为不拒绝这个零假设，不代表能拒绝其它零假设，因此你仍然不知道数据是什么分布——这显然更惨；

所以我们要把自己的眼睛捂上，假装看不见，像数理统计学家那样，我们假定X服从帕累托分布，然后咋地咋地。

附1：本文是回答Renxiang Yan同志的邮件，因为我写了好半天，然后点“Reply”，发现从163返回了错误信息，说收件人拒绝收信，真是气人。我也不知道是Yan同学自己邮箱设置有问题，还是163有时候会拒绝Gmail的邮件。估计后者可能性大一些。

附2：还要补充说明一点，关于分布的假设检验中，零假设往往是确定的分布，而不是带有未知参数的笼统的分布，即分布的参数都是确定的值。只有少数几个关于正态分布的检验除外，因为它们有渐近性质。因此，提问时最好不要抽象地问怎么检验样本是否是广义极值分布。
---
title: 某些做结构方程模型的人迷信到了什么地步
date: '2009-03-02'
slug: blind-faith-in-structural-equation-models
---

好像我越是打击结构方程模型，找我咨询的人越多，不知怎么搞的（注1）。莫非搜索引擎不知道怎么分析我的语义，而仅仅只是看我的网站中有没有“结构方程模型”这六个字？

话说前两天发生的一件事情：某高校一位教授找到我，希望我帮忙算一算SEM，我本不太情愿干这种和SEM有关的事，有碍于是导师大人介绍的，也就答应下来，哪知前天突然得知，他们圈内有规定，SEM必须用LISREL求解，不能用AMOS，论文必须附注LISREL代码。

![万能的结构方程模型，阿弥陀佛！](https://db.yihui.org/imgur/XF0QuIQ.gif)

娘希匹，迷信SEM建模本身的方法论就忍了，居然对软件都有宗教般的信仰，你们说说，这帮人是不是脑子让猪栏门给夹了？（注2）

---

注1：本忘了写这件事，刚才又有人发邮件问，“您在验证模型出现过五个拟合指数只出现其中的两三个不全的情况吗？”我很想知道，这“五个拟合指数”是什么意思，难道又是某大人规定了SEM的五大金律？也许是我抵触情绪太大，想歪了吧。

注2：“脑子让门夹了”是很久以前网络上流行的一句话，我前年寒假回家，在家听到一个农村版本，就是“脑子让猪栏门夹了”，当即忍俊不禁。
---
title: Cartogram：变形的地图
date: '2009-03-02'
slug: cartogram-as-special-maps
---

用地图展示统计信息有一个明显的缺陷，就是各地区的面积大小可能会极大地影响你的视觉。如：北京上海面积小，但人口多，若是直接用地图的颜色或斜线密度表示人口多少，那么这些面积小的地区将会很不显眼，而事实上它们本应该是很“吸引眼球”的地方，这种情况下，我们可以将地区边界变形，使得面积和统计信息成比例。尽管你会看到一副很丑的图，但表达的信息却是被校正过的。

一个更明显的例子是美国的大选，若用红蓝标示各州的选举情况，似乎红方麦凯恩大胜了，而事实是麦凯恩获胜的州都是人口稀少的地方，总账算下来，仍然是奥巴马那小子赢了（比如他拿下了人口众多的加州）。看看以下两幅地图的对比：

[![](https://user-images.githubusercontent.com/163582/50254969-b14ba780-03b5-11e9-8e26-589225d891fd.png)](http://www-personal.umich.edu/~mejn/election/2008/statemapredbluer1024.png)

[![](https://user-images.githubusercontent.com/163582/50254989-be689680-03b5-11e9-94a7-a30644e30cb1.png)](http://www-personal.umich.edu/~mejn/election/2008/statepopredblue1024.png)

Duncan Temple Lang几年前写了一个包叫[Rcartogram](http://www.omegahat.org/Rcartogram/)，发在Omegahat上，不过不幸的是，Windows用户不能使用。它是基于一个C程序的，而这个程序里面的算法又涉及到另一个做快速傅里叶变换（FFT）的软件包，因此在Windows下编译起来很复杂（我花了很长时间也没搞清楚）。

Cartogram的一种算法可以参见"[Diffusion-based method for producing density-equalizing maps](http://www.pnas.org/content/101/20/7499.abstract)"一文。
---
title: 感觉不好
date: '2009-03-04'
slug: feeling-bad
---

今晚讲座，[给大家讲Sweave](https://github.com/downloads/yihui/yihui.github.com/Sweave-2008-Yihui-Xie.pdf)，讲着讲着觉得有种不想讲了的感觉，本次演讲是本人历史上自我感觉最糟糕的一场。

博士班讲完又继续给本科小孩们讲分方向的事情，直到活动结束和几个小孩聊天才觉得有点意思，我很喜欢这些小孩们。

信网的项目担子很重，我要开始锻炼我不擅长的事情了。

这两周以来，我的电脑很少完全关机，一直都是一大堆窗口开着，然后就休眠走人，第二天继续看。前两天被人误关了，所有窗口都没了，本以为解脱了，没过两天，发现又成这种状况了。

TeX的作者Knuth写一套书计划用47年时间，为了专心致志，他拒绝使用Email，连传真都要六个月才会看一次，重要的纸质信件也只是三个月集中看一次。他这一套书必然会在计算机届名垂青史，而我们这些凡夫俗子整天被五花八门的信息诱惑着，精力严重分散，自然出不了那种惊世之作。
---
title: 哇哈哈哈！金融危机与Copula
date: '2009-03-04'
slug: financial-crisis-and-copula
---

刚看到这么一则报导：[Recipe for Disaster: The Formula That Killed Wall Street](http://www.wired.com/techbiz/it/magazine/17-03/wp_quant)

话说David X. Li的高斯Copula模型毁了华尔街，进而导致全面金融危机，真是好笑，老夫甚为幸灾乐祸。看看Li的维基页面，其中有这么一句旁白：


> People got very excited about the Gaussian copula because of its **mathematical elegance**, but the thing never worked. Co-association between securities is not measurable using correlation.


窃以为数学的追求是多种角度的美感，包括理性、简洁、严谨等，上面第一句话的前后两半句的鲜明对比让我狂笑不已。昨晚我刚刚提到John W. Tukey在四十多年前的文章“The Future of Data Analysis”，就说了他关于“数学不是科学”的观点，原因是数学不需要实践检验。

我一直对纯数学理论的研究不感兴趣，而很多人则认为把这些东西装在脑子里才像“贵族”一些。传说古希腊某哲人给学生上课时，一位学生提出异议问这些理论有什么用，该哲人叫人去拿两个铜板给他，说你这么看重实用，那就给你两个铜板好了。

这件事情Li本人是无辜的，他知道数学模型的局限性，只不过“一小撮”人过于崇拜（他们看不懂的）模型了。

想当年，老夫对Copula也是非常感兴趣，也被它的简洁所吸引。各位客官若有兴趣，可以任意用百度或者Google搜索一下“[Copula+论文](http://www.google.cn/search?ie=utf-8&oe=UTF-8&hl=zh-CN&q=copula+%E8%AE%BA%E6%96%87)”，第一页就可以看见我在COS论坛发的帖子。
---
title: 终于有人自觉地不问我结构方程模型问题了
date: '2009-03-04'
slug: no-question-about-structural-equation-models
---

刚刚有人前脚发邮件问SEM的问题，后脚又跟着补发邮件说看到我关于SEM的声明，不用回答了。我顿时一个老泪纵横啊！！
---
title: 离散化：毁灭信息的有效手段
date: '2009-03-05'
slug: discretize-data-to-lose-information
---

如果你想掩盖数据，那么就把它们离散化吧！

不知道为什么这么多人钟爱于将连续数据离散化，例如明明有年龄数据，在分析的时候非要分成老幼青壮这样的分类变量；明明有原始的计数数据，[非要搞成“0-5、6-10、……”这样的频数表](https://cosx.org/cn/topic/14225)。大概是数据得来不花钱吧，这样毁灭信息一点都不心疼。

某年我在某医学统计会议上专门强调了这个愚蠢的问题，结果后面还有某小师妹没理解我的意思，把我批驳了一番，依然支持离散化，我无语，只能摇摇头叹口气。去年useR! 2008会议上，Frank Harrell也提到了这个问题，他也想不通，为什么人们喜欢离散化。

如果你问一位lady：请问姑娘芳龄多少哇？姑娘回答：臣妾属于0~100岁这一组的。我想，此时这些人该能理解离散化的毛病所在了吧。

---
title: LyX和Sweave
date: '2009-03-05'
slug: lyx-and-sweave
---

> 2013/02/05更新：knitr包已经可完美替代Sweave，并且在LyX中有很好的支持。参见[这篇日志](/cn/2010/02/misc-issues-in-latex-lyx-r-sweave-pgfsweave/)。

有些LaTeX用户可能觉得敲代码太费事了，那么这里推荐一下LyX。[LyX](http://www.lyx.org)是一个所见即所得的编辑器，因为它基于LaTeX，所以排版质量没啥好说的。关键是它可以和Sweave结合起来用，只要到CRAN[下载LyX相关配置文件](http://cran.r-project.org/contrib/extra/lyx/)就可以了。

详细使用方法参见[R News 2008年第1卷](http://cran.r-project.org/doc/Rnews/Rnews_2008-1.pdf)的第一篇文章"Using Sweave with LyX"。
---
title: 他说他的眼里只有R
date: '2009-03-08'
slug: r-in-his-eyes
---

话说John Maindonald给我回信，开头为：Dea**R** Yihui...

嘿，这老爷子，敢情世上到处都是[R](http://www.r-project.org)啊。
---
title: 以其人之道
date: '2009-03-08'
slug: smart-trick-to-tidy-r-source
---

前段时间[在论坛上发了一个帖子征求美化R代码的解决方案](https://cosx.org/cn/topic/14056)，小邱同学不辞辛劳写了一个tidy.source()的改进版本，而昨日他突然灵光乍现（大家快出来看上帝！），想到一个绝妙的解决方案，令我心中好一阵欣喜。哇哈哈哈！

总结起来就是这么一句话：以R之道，还施彼身。

我们来看看效果；整容前：

```r
# 画个渐变多边形
y=0.1+runif(20,0.2,1)
xx=c(1,1:20,20);yy=c(0,y,0)
plot(xx,yy,type="n",xlab="x",ylab="y")
# 多边形的高越来越小，颜色越来越红
for(i in 255:0){
yy=c(0,y-(1-i/255)*min(y),0);polygon(xx,yy,col=rgb(1,i/255,0),border=NA)
# 停一会儿看看清楚
Sys.sleep(0.05)           }
```

整容后：

```r
# 画个渐变多边形
y = 0.1 + runif(20, 0.2, 1)
xx = c(1, 1:20, 20)
yy = c(0, y, 0)
plot(xx, yy, type = "n", xlab = "x", ylab = "y")
# 多边形的高越来越小，颜色越来越红
for (i in 255:0) {
    yy = c(0, y - (1 - i/255) * min(y), 0)
    polygon(xx, yy, col = rgb(1, i/255, 0), border = NA)
    # 停一会儿看看清楚
    Sys.sleep(0.05)
}
```
---
title: 谁笑到最后
date: '2009-03-08'
slug: who-laughs-to-last
---

我其实并不太关心金融，我对股市一窍不通。不过我非常喜欢这篇报告：[华尔街的终结，终于等到这一天](http://www.caihuanet.com/hsstock/baogao/200811/P020081121383280659669.pdf)。它告诉我们，金钱是拼不过道德的，而且那些显贵达人们也许一个个都是蠢货。

我是一个倾向于用把大系统映射到小系统中用小思维考虑问题的人，这场风暴经常让我联想到学术界的发展，担心哪一天学术会如同股市一样崩盘（如果我们昧着良心行事、不懂装懂、牵强附会……），或许是我小人长戚戚罢了。但当我阅读这篇报告的时候，我会无数次类比起自己的所见所闻。


> ……Eisman 开始寻找和自己志同道合（对一切阴暗面持抵制态度）的人组建团队。他找到了Vincent Daniel。Daniel 曾经负责审计Salomon Brothers 的账目，但是他发现“竟然没有一个人能把账目解释清楚”，于是他转行做分析师，专门研究次级贷款（他自认为是当时 分析师中唯一意识到这个行业的所有公司都会倒闭）……




> ……时间来到了 2007 年5 月，Eisman 一直弄不明白为什么大家都没有看出金融市场这台机器运转已经很不正常，甚至马上就要报废。市场还是有些有识之士的，Grant 就是其中之一。Eisman 一直订阅由Grant 主编的《利率观察》，这是一份在圈内非常有名、但外界鲜 有人知的内参。从20世纪80年代中期贷款大周期一开始，Grant 便预言华尔街的末日即将 到来。2006 年底，他决定把这些被称作CDO 的证券产品调查清楚。他把这项任务交给他年轻的助理Dan Gertner，Gertner 有化工工程和MBA 双重背景。可怜的他搜集了CDO 的 所有相关资料，却不得不垂头丧气地告诉Grant 还是没看懂CDO 是怎么回事。Grant 当时 就意识到，CDO 将成为今后最重要的题材。Eisman 也是在阅读Grant的稿件后，认定了做空CDO 这座巨大的“金矿”……
---
title: 指北箭头
date: '2009-03-11'
slug: north-arrow-in-r
---

我们可以把R-help邮件列表当作一个练手的地方，比如今天有人想把地图上的指北箭头作为位图格式导入他的地图，而我则建议不如手工画一个：

```r
north.arrow = function(x, y, h) {
  polygon(c(x, x, x + h/2), c(y - h, y, y - (1 + sqrt(3)/2) *
      h), col = "black", border = NA)
  polygon(c(x, x + h/2, x, x - h/2), c(y - h, y - (1 + sqrt(3)/2) *
      h, y, y - (1 + sqrt(3)/2) * h))
  text(x, y, "N", adj = c(0.5, 0), cex = 4)
}
par(mar = rep(0, 4))
plot(1, type = "n", ylim = c(0, 1), axes = FALSE, ann = FALSE)
north.arrow(1, 0.8, 0.4)
```

![指北箭头](https://db.yihui.org/imgur/BLJT13o.png)

不过这种基础性练习带来的坏处就是，你总觉得用R的基础图形元素什么图都可以画，从而不愿学习新的作图系统。
---
title: 卧抵个马呀，这还是羊么？
date: '2009-03-20'
slug: amazing-sheep
---

这羊群太惊人了……

看不见视频的直接看网址：[http://www.youtube.com/watch?v=D2FX9rviEhw](http://www.youtube.com/watch?v=D2FX9rviEhw)
---
title: 去年R会议的报告
date: '2009-03-22'
slug: 1st-chinese-r-conference-report
---

话说前天在海关开会的时候没事干，便偷偷在下面写去年R会议的报告，三下五除二写完昨天发给The R Journal了，今天主编大人说，i suspect this will be a nice article，看来悬了，估计是发不出来了。R core咋就不能照顾照顾广大中国R人民呢……
---
title: 成长
date: '2009-03-22'
slug: growing
---

上午去发酵研究院听师弟师妹们的实习总结。当我看到这五个小伙儿小姑娘比我当年大三的水平至少要强10倍的时候，我心里是由衷的高兴。

昨天给Yang写了几句话，感谢他的远见，让我有机会更快地成长。不知他是否又会高唱迎风飘扬。

这一年来我越来越秉信：自己的价值是由他人体现的。但由哪些人体现呢？又怎样体现呢？最近一个月我一直在思考，统计之都的文化究竟应该怎样定位？若我一个人天天这样忙碌下去，到死仍然是一个人的事情，不能推动大家形成一种“人人为我，我为人人”的氛围，一个系统架构不起来，自然也无法长期运转。

先生说，你要注意提升自己的格局观。
---
title: 不要和猪摔跤
date: '2009-03-24'
slug: dont-wrestle-with-pigs
---

COS论坛有这么一个人，一个帖子下面全是自己的回复，整天嗡嗡嗡，自己整一套东西，别人要是不理他，他就说什么世风日下人心不古啊，什么你们都没有研究精神啊，都是数理统计的走狗啊，看着烦得很。不过这种人最好不要惹，我看有位仁兄已经不幸上当了，在此深表同情。

有些人，你和他争论就像和猪摔跤，争了半天，你会发现原来猪已经爱上摔跤了。
---
title: Hadley批A First Course in Statistical Programming with R
date: '2009-03-26'
slug: hadley-reviews-a-first-course-in-statistical-programming-with-r
---

话说去年底Hadley在JSS上把A First Course in Statistical Programming with R这本书[批了一顿](http://www.jstatsoft.org/v28/b03/paper)。建议大家看看书评，我感觉他和作者的私人关系还是很好的，放在国内这种事情大约是不会出现的，不过这小子毫不客气，书写得不好就是不好。
---
title: 奥巴马标准领导照
date: '2009-03-31'
slug: standard-photo-of-obama
---

我晕：


![奥巴马标准领导照](https://pic.yupoo.com/hecaitou/0639072f1a13/21iis5le.jpg)
---
title: 这个年代该怎样教统计（或不该怎样教）
date: '2009-04-01'
slug: how-and-what-to-teach-in-statistics
---

今天在R-sig-teaching列表中读到一组讨论，让我连连拍大腿！楼主的帖子在[这里](https://stat.ethz.ch/pipermail/r-sig-teaching/2009q1/000107.html)，当我看到4楼[Douglas Bates的回帖](https://stat.ethz.ch/pipermail/r-sig-teaching/2009q1/000123.html)之后，大为激动。举几个例子：



	
  * 能做密度估计了还要啥直方图呀，扔进垃圾堆吧

	
  * 能做关于分布概率的精确计算了还讲啥近似啊（如用泊松去逼近二项）

	
  * 有了P值还讲个鬼alpha啊（以及临界值、拒绝域）

	
  * 回归系数在计算机中不是直接用X'X求逆计算的（如R语言），还讲个鬼的简化公式$latex (X'X)^{-1}X'Y$啊，直接交待一下目标是最小化残差平方和，剩下的工作要么讲真正的计算，要么讲如何建模、如何检验残差等


很解恨，很过瘾。最近看那些考研题，要是按照这些标准，简直要杀掉80%的题。然后看看统计的专业课，我想杀掉20%的内容应该是没问题的。

Hadley的跟帖：

	
  * 查表的内容也该扔掉（如查正态分布函数值）


早就该扔了。
---
title: 再来一个眼球实验：找出黑黑猪
date: '2009-04-02'
slug: find-out-the-black-pig
---

这次跟[统计和假设检验](/cn/2008/09/eyeball-test-fake-coin/)没有关系。点中间那只女猪开始吧（友情提醒眼珠子转晕了的童鞋们莫找我麻烦啊）：

若现这个Flash太小了，那么可以[点此全屏Flash](http://photo.heyheypig.com/HeyHeyPhoto/Game/b20072817441753.swf)以便看得更清楚。
---
title: Gmail的垃圾邮件判别器不和谐
date: '2009-04-04'
slug: gmail-spam-filter-not-harmonious
---

我天朝的科学发展观都敢判为垃圾邮件，Gmail不想在这里混了啊？

![科学发展观（垃圾邮件）](https://db.yihui.org/imgur/j18IQif.png)
---
title: 得力干将
date: '2009-04-07'
slug: capable-manager-in-cos
---

COS论坛已新增一员大将：fan，这两天看招生版红火得很，除开考研结束的因素，主要是因为fan版主一心投入招生版，工作成就喜人，在此影响下，前版主以及前前版主都闻风而至，话说本人也是多年不看招生版，这两天的几个帖子俺是相当赞。

另一员大将也即将报到：yuanweir，明天再写欢迎帖。俺期盼已久的精算版在不久的将来会红火起来的。

而COS团队即将新增两员大将：fangy和cloud_wei。晚上Zhang P.又传来好消息：俺学院的研究生刊物《统计功课》被授权发表摘要于主站了。这可是俺从本科的时候就想达到的目标。下一步可以把本科刊物《浪淘沙》也拉进来了。

COS就快发生革命性变化了。此前的种种变化，只不过是表面现象而已。感谢各位！
---
title: 又摔上跤了
date: '2009-04-09'
slug: argue-with-pigs
---

话说小的办[统计之都](https://cosx.org)这几年，曾因删除论坛重复帖子被人骂过SB、曾因劝阻博主不带原文链接复制主站文章被骂过弱智（还被教导了“个人日记记录不涉版权侵占，你懂得这个道理就行了！”“做学问需要博大胸怀戒心浮气躁”）。

俺是已经习惯了人民群众的“谆谆教诲”，俺知道摔一次跤也没用，因为要摔的对象实在太多了。各位新上任的版主和管理员们，你们将来打算怎样摔跤呢？

南怀瑾讲，“行道不求无魔，道无魔则誓愿不坚”。与诸君共勉。
---
title: 世上最痛苦的事
date: '2009-04-13'
slug: bitterness-from-latex-to-word
---

莫过于把LaTeX生成的PDF文档转成Word。
---
title: 邮件地址的频数统计
date: '2009-04-13'
slug: frequency-of-email-addresses
---

受Zhang H.启发，自个儿看了看Gmail邮箱的联系人，导出为Outlook的CSV格式，然后读进R，用正则表达式去掉*@部分，table()了一下。Hotmail邮箱的频数比我想象的要高，然后也没想到中科院植物所也排在前面，估计是那次R会议所致。剩下的联系人就分布在五湖四海了，结果请看：

![](https://db.yihui.org/imgur/g6Bh4XF.png)

[CSV频数文件下载](https://github.com/yihui/yihui.github.com/releases/download/latest/email-frequency.csv)

```r
x = read.csv("contacts.csv", stringsAsFactor = FALSE)
y = gsub("^.*@", "", x$E.mail.Address)
y = sort(table(y))
```
---
title: 潭柘寺：格局、命与贝叶斯统计
date: '2009-04-19'
slug: tanzhe-temple-destiny-and-bayesian-statisitcs
---

这个话题看起来很吓人。今天上午去了潭柘寺，有幸和方丈常道法师一起喝茶，并听他为我们讲经解惑。我并不信佛，即使听完也仍然没有丝毫动摇，但听他讲的过程中，有一点确实让我后来冥思了好半天。方丈讲，今生的命是注定的，它由某种潜意识主要决定，这种潜意识也许在前生，也许在某个我们不知道的地方，总之就潜伏在你心里了，后天的人生道路不会偏离这种潜意识决定的路线，最多只能有微小的修正。

听到这里，我的第一反应就是：这不是贝叶斯统计么！只不过佛教看重先验分布，而俗世中有人更看重后验信息而已（比如我）。

一条有意思的插曲是：当你听见你的同学或同事讲金融危机可能不以为然，当你听到山中的老和尚也在分析金融危机和国势的时候，这事情的感觉突然就变了。方丈用鸡年狗年之类的理论讲，2010年会是中国崛起的时候，势不可挡，我心想，我们脑子里的“科学”逻辑必然不能接受这样的解释，然而，世上万物就一定或只能通过逻辑解释么？

玄学这东西，无底洞啊。

走的时候，大家一窝蜂让方丈看手相，我想，既然法师都说了，命已是注定，知道和不知道又有何区别呢？于是仰天窃笑出门去。呜呼！
---
title: 新论坛太复杂了
date: '2009-04-23'
slug: complicated-cos-forum
---

新版[COS论坛](https://cosx.org/bbs)简直太它NND复杂了，把老夫折腾得晕头转向！……
---
title: 本小子还真中了John Chambers软件奖
date: '2009-04-24'
slug: won-john-chambers-award
---

此时此刻，俺哆嗦着告诉各位客官，俺真的中奖了。

话说两个月前，我[介绍了一下John Chambers软件奖](/cn/2009/02/introduction-to-john-chambers-software-award/)，当时并没有指望获奖，只是打探打探情况，搞明白之后等我明年好好琢磨一个靠谱的软件之后再正式参加。结果，不知是美国人民都忙着对付金融危机了，还是一共就我一个人参加，或是怎么的，今日打开邮箱，发现我被通知得奖（中奖？）了。我愣了半天，觉得这是在做梦。

好吧，两个月前说了要请客，那么那篇日志底下的观众朋友们请赶紧拿出小本本记下，“谢某人欠俺一顿大餐”。

做动画都能获奖……敢问谱在何方啊……管它呢，反正是美国人的钱，俺遵旨，8月去华盛顿领钱，顺便领奖。
---
title: 造个假数都不会造
date: '2009-04-27'
slug: bad-liars-and-statitistics
---

新华网[关于学生冬季长跑的调查结果](http://news.xinhuanet.com/society/2009-04/22/content_11230487.htm)让人着实跌眼镜，一共调查了100人，报告中的结果都是xx.xx%形式的，例如“92.79%的学生认为强健了自己的身体”。这0.79个人是怎么来的？

咱们学统计的，应该对数字有一定的敏感性，比如当你看到小数位中含有667这样的数字（e.g. 0.291667）时就应该警觉：对方是否给出了样本量？如果没给的话，你就应该怀疑这个数字本来是0.29166666……如果你不知道这个比例是怎么来的，那么就拿一些整数去乘这个比例，看看哪个数字乘以这个比例能得到整数。最终你发现是24的倍数，样本量是7的倍数。然后你再想，7/24、14/48、28/96、……这一系列数字哪对更符合这个调查的背景。如：若你怀疑调查者很懒，那么不妨猜测他/她就调查了24个人。

以上只不过是低级的数字游戏，对统计来说根本没派上用场，现在很多人都琢磨着怎么建个模型整个P值去忽悠答辩委员会，而事实往往是，费尽千般心思，辛辛苦苦调查来的数据在建模之后根本没法用，要么系数是反的，要么不显著，或者有自相关，或有异方差，总之和初衷很不符，此时，离答辩往往只剩下几个星期，怎么办呢？只好眼睛一闭心一横，改数据吧！怎么改呢……【此处省略八千字】最后，王子和公主们过上了幸福生活。

我一般不相信经济学论文中的统计模型，原因之一就是数据。
---
title: 最近实习、招聘信息很多
date: '2009-05-02'
slug: internship-and-job
---

可是让我了解了统计功底的人不多，大家都太低调了，有啥特长也不展示一把，让我这个“统计人贩子”不知道贩谁好。
---
title: 如何理解“英雄辈出”
date: '2009-05-06'
slug: heros-in-my-school
---

我们大林老师讲，据他对历史英雄人物的长期研究，总结出来的现象是，英雄若要出现，一定是成批出现。而今我看我们统计学院的学生，回想这六年多时间我的上下届师兄弟姐妹，惟有06级本科（大三）让我觉得是英雄辈出的一代。有精于数学能干掉数学系学生的，有开公司能有“校园股神”称号的，有默默无闻的Linux高手……

呜呼，倍感压力，甚为惴惴，吾等老博士要大大努力啊。不过话说回来，有这样一些人物是俺师弟妹，俺也觉得很骄傲，呜哈哈哈。
---
title: 邮件终于降到100以下了
date: '2009-05-09'
slug: email-and-brush
---

我回复啊回复啊，终于把未回复的邮件数目降到100以下了。

外一篇 关于毛笔

话说今晚蹬着小破车上东区食堂吃饭回来，路过中区的书市，便蹬进去瞅瞅有没有卖毛笔的，溜达一圈，好不容易看见一家，却是要收摊，于是抢将上去，在箱子里扒了扒，拎得狼毫一杆、纸五张回府。想起小时候老爹戳着我的作业本教训我，“看你的字！鬼画符桃！”如今依然是鬼画符。之所以今天跑去买笔是因为前些日子在别处玩儿了一会儿毛笔，又想起小时候过年别家都是买对联，而我爹则让我写对联，于是我家牛栏上便贴着我写的歪歪扭扭人模狗样的“牛马平安”。那时觉得墨水贵，便自己琢磨着用木炭、胶水自制墨水，也未成功。

小时候做事，心无旁骛，也不怕丢人，直奔目标而去，此可谓对外经贸大学陈准民校长之“赤子之心”吧。
---
title: 我也想转WP啊……
date: '2009-05-10'
slug: turning-to-wordpress
---

话说我也早就想用WP了，只是嫌换系统麻烦。今日遇见一位[女博主](http://www.loyhome.cn)，着实吓了我一跳。网上溜达这些年，还真没见过哪位lady会自个儿捣鼓PHP+MySQL之类的东西。溜了一圈，发现这位大人也是从别的博客系统转入Wordpress的，继而发现已经有从Bo-blog转到WP的教程了。于是乎，还看什么看？搬！

![](https://db.yihui.org/imgur/TrIGky8.jpg)
---
title: 超长文章在Wordpress中不能显示的解决办法（与shortcode有关）
date: '2009-05-15'
slug: blank-long-post-in-wordpress-and-shortcode
---

> 2009-06-14更新：自从WordPress 2.8开始，这里的正则表达式又变了，经本人测试，`'(.?)\[('.$tagregexp.')\b([^\[\]\r\n]*?)(?:(\/))?\](?:(.+?)\[\/\2\])?(.?)'` 是有效的。

这两天捣鼓Wordpress，遇到了无数的问题，估计Google不下百次，有些问题实在诡异，不过幸好都让我找到了答案。例如，昨天被这个问题搞得几乎崩溃：有的帖子在更新发布之后就变成空白了，刚开始我以为是数据库连接问题，后来在phpMyAdmin中检查了一遍又一遍，甚至直接更改数据库，都没法让文章显示出来，于是又去查codex，看`the_content()`等函数，依旧无果。最后在千般尝试下，发现把文章删除一部分文字之后就可以显示出来了，于是我意识到这与被删的文字有关，但从未听说Wordpress系统对文章内容有审查啊，所以应该不是关键词过滤的问题，我于是一句一句话地删除，看删到哪里之后文章就发不出了，最后统计了一下字节数，但这个数字对解决问题根本没用，因为不能因此就避免长文章。

我想来想去，想到了可能是插件的问题，由于需要“头文字”效果，我安装了TinyCode插件，它的内部用到了WP的shortcode。在将TinyCode禁用的情况下，长文章可以显示，问题便找到了：出在shortcode上。继续Google，发现几个月前有人出现了类似的问题，一位德国高手提供了解决方案，修改`/wp-includes/shortcodes.php`文件。找到：

```php
function get_shortcode_regex() {
  global $shortcode_tags;
  $tagnames = array_keys($shortcode_tags);
  $tagregexp = join( '|', array_map('preg_quote', $tagnames) );
  
  return '\[('.$tagregexp.')\b(.*?)(?:(\/))?\](?:(.+?)\[\/\1\])?';
}
```

将正则表达式替换为：

```php
  return '\[('.$tagregexp.')\b([^\]]*?)(\/)?\](?:(.+?)\[\/\1\])?';
```

这样问题便解决了。Wordpress这么完善的系统也会有Bug……
---
title: 拿小概率事件说事：中央关键词对年轻人的七项忠告
date: '2009-05-20'
slug: rare-event-rarely-happens
---

如果我们时刻扛着假设检验的大旗，那么网络上很多文字便不攻自破。据我的总结，网文容易犯的问题有：（1）拿小概率事件说事，说得就像一不小心就能发生了；（2）拿小样本说事，也就是俗话说的“一杆子打翻一船人”，看那些反美反日反法反这那的文章，几乎一律如此，激动起来恨不得因为一个人灭了那一群人。以下的“忠告”，看起来似乎很好，似乎什么背景对前途都没关系，但说到底，每一点都是小概率事件。


- 第一不要怕学校不理想，关键词的母校到现在也没几个人知道 -- 石家庄工业学院；
- 第二不要怕短暂的停留，关键词毕业后曾经留校两年待分配；
- 第三不要怕起点低，关键词毕业后直接进厂当了工人，况且一干就是10年；
- 第四不要怕条件苦，关键词参加工作时就在甘肃的大山里修水电站，居然还被评为劳模；
- 第五不要怕地方偏，关键词在甘肃修水库一直到四十岁才进机关；
- 第六不要怕提拔慢，关键词三十七岁才当上车间主任；
- 第七看完后赶紧去做自己的事情，别以为自己真能当关键词……!

例如我们的各位core们有多大比例出身于某工业学院？有多少毕业了找不到工作？有多少毕业就当工人的？……把每个概率算算，就直接看第七条好了。
---
title: MySQL数据库操作笔记若干
date: '2009-05-22'
slug: mysql-database-manipulation-notes
---

学习最好的方法莫过于实践，最快的途径莫过于示例，这段时间网站搬家，迫使我不断去看一些SQL操作方法，最终记载于此，以便将来参考。


# 1、时间操作


例：将GMT时间更改为GMT+8，可用`INTERVAL`把一段时间加到一个字段上。

```sql
UPDATE `wpcn_posts` SET `post_date` = `post_date_gmt` + INTERVAL 8 HOUR
  WHERE `post_date_gmt` = `post_date`
```

本例是为了对付Bo-Blog搬家到WP时大部分时间记录都没有被正确转换到GMT+8时区的问题。


# 2、字符查找替换


例：将某个图片的错误文件名更改为正确文件名。

```sql
UPDATE `wpcn_comments` SET `comment_content` = REPLACE (
`comment_content`,
'emot/ok',
'emot/pig'
)
WHERE `comment_content` LIKE '%emot/ok%'
```

本例是为了对付Bo-Blog的pig.gif图片文件名被错误替换为ok.gif的问题，用到了`REPLACE`函数和`LIKE`操作符，注意`LIKE`后面的字段用`%%`匹配，而非`*`。


# 3、用R帮忙


例：批量更新日志的永久链接。

```r
cat(sprintf("UPDATE `wpen_posts` SET post_name = '%s' WHERE ID =%d;",
    x[, 3], x[, 1]), sep = "\n")
```

由于我不知道SQL里面如何用数组或向量，因此在批量处理的时候就用笨办法执行了，即：写n条SQL语句一起执行。R一向都是向量化操作，因此只需要把日志的ID和post_name准备好，然后用一个`sprintf()`就生成所有的SQL语句了，扔到phpMyAdmin中执行一下，所有的日志链接就更新了，省得把每一篇日志打开依次修改。

以上R语句生成如下结果：

```sql
UPDATE `wpen_posts` SET post_name = 'tidy-up-your-r-code' WHERE ID =1;
UPDATE `wpen_posts` SET post_name = 'dare-be-defeated' WHERE ID =2;
....
```

插一句，对于英文日志，永久链接就是把空格替换为-，用正则表达式删掉不是`[:alnum:]`的字符即可。


# 4、用`mysqldump`备份数据库


这个命令可以以多种形式备份MySQL数据库，这里举例将数据库备份为`*.sql`的SQL语句脚本：

```sh
mysqldump -u db_user -p -r result_filename.sql database_name
```

由于`mysqldump`命令是独立的程序，所以不要先登录进mysql界面，直接在终端或command窗口运行即可。这样的备份文件可以在将来在mysql中用`source`命令导入：

```sql
source result_filename.sql
```

这样看来备份数据库也是很容易的事情，不过导入导出的时候可能会遇到编码问题。
---
title: PHP的301重定向（从Bo-Blog搬家到Wordpress的后续工作）
date: '2009-05-24'
slug: php-301-redirect-from-bo-blog-to-wordpress
---

博客搬家之后不可避免会产生一大堆404错误，绝大部分原链接都失效了，不过好在动态网站系统的网址都是有规律的，因此把原来的网址重新定向也很容易，这里简单记录从Bo-Blog搬家到Wordpress的一些301重定向工作。PHP代码写得非常拙劣，各位看官见笑了，写出来为了将来要用到PHP的时候能找找自己以前写的例子。

# 1、RSS Feed：`feed.php`

对现代网民来说，RSS阅读器已经是看网页的必备工具，因此RSS种子的地址几乎是众多网址中最重要的一个。

> 插播不重要的通知：

> 1、本站的RSS地址已经更改为：_[http://yihui.org/cn/feed/](http://yihui.org/cn/feed/)_，评论RSS为：_[http://yihui.disqus.com/latest.rss](http://yihui.disqus.com/latest.rss)_，请Google Reader中的读者即时更换。英文博客也类似，把cn改成en就可以了。
> 2、如果你懒得换也行，反正我已经重定向了。

Bo-Blog的`feed.php`文件在不带参数的时候是博客正文的RSS，带参数`go`的时候可能是评论，也可能是分类目录的RSS，因此需要在WP根目录下建一个`feed.php`文件，里面对参数作简单的判断，把原来的RSS重定向到WP的RSS中。以下代码只是本博客的转向，具体怎么写要根据具体搬家结果分析。

> 我的博客搬家过程中，分类数字2不知为何被搬家程序略过了，因此当分类数字为2的时候特殊处理，否则从原来的`go`参数中提取分类数字，传给WP的`cat`参数。

```php
<?php
header("HTTP/1.1 301 Moved Permanently");

if(!isset($_REQUEST["go"])){
	header("Location: http://$_SERVER[HTTP_HOST]/cn/?feed=rss2");
} else {
	$tmp = $_REQUEST["go"];
	if ($tmp == 'comment') {
		header("Location: http://$_SERVER[HTTP_HOST]/cn/?feed=comments-rss2");
	} else if (stripos($tmp, '_')) {
		$tmp = end(explode('_', $tmp));
		if ($tmp == '2') {
			header("Location: http://$_SERVER[HTTP_HOST]/cn/?feed=rss2");
		} else {
			header("Location: http://$_SERVER[HTTP_HOST]/cn/?feed=rss2&cat=".$tmp);
		}
	}
}
?>
```

# 2、博客阅读页面：`read.php`

由于在Bo-Blog系统中我使用了链接地址优化（Rewrite），而搜索引擎收录的既有优化地址，也有动态地址，因此要判断一下地址究竟是哪种类型，然后把参数提取出来，传给WP。含有htm的地址是优化的地址，从中提取`.htm`之前的数字传给WP的`p`参数就可以到新的页面地址了。

> 英文博客搬家过程中，日志的数字ID和新系统对不上，那些ID>2的日志都被`+=1`了，所以中间对英文日志ID作了特殊处理。变量`$prefix`用来判断是中文还是英文站。

```r
<?php
header("HTTP/1.1 301 Moved Permanently");

$info = ($_SERVER["REQUEST_URI"]) ? $_SERVER["REQUEST_URI"] : $_ENV["REQUEST_URI"];
$prefix = substr($info, 1, 2);
$entry = array_keys($_REQUEST);

if(strpos($info, 'htm')) {
	$tmp = pathinfo($info, PATHINFO_FILENAME);
	if ($prefix == 'en') {
		if ($tmp > 2) {
			$tmp += 1;
		}
	}
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?p=".$tmp);
} else {
	if(count($entry) > 0) {
		$tmp = $entry[0];
		if (stripos($tmp, '_')) {
			$tmp = end(explode('_', $tmp));
		}
		if ($prefix == 'en') {
			if ($tmp > 2) {
				$tmp += 1;
			}
		}
		header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?p=".$tmp);
	} else {
		header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
	}
}
?>
```

# 3、标签页面：`tag.php`

我觉得如果没有标签的话，这世上的网页会减少一半。用`site:`命令在Google中一看就知道，一个小破站，却有几千个页面被搜索引擎收录，而真正的日志不过上百篇而已，那多出来的页面几乎都是各种导航页面，其中就包括标签导航。鉴于标签这么重要，原来的`tag.php`自然要加上、改写一下了。

> 在我原来的系统中，由于标签是空格分隔，导致我只好以下划线`_`把一些英文字句连起来，现在WP中是以逗号分隔，而且标签有别名（空格被替换为-），因此原来的标签中，下划线要被替换为-，所以用到了`str_replace()`函数。在重定向之前要严重注意`tag`参数已经被解码了，因此需要重新编码！（即：`urlencode()`）

```php
<?php
header("HTTP/1.1 301 Moved Permanently");

if(!isset($_REQUEST["tag"])){
	header("Location: http://$_SERVER[HTTP_HOST]/cn/");
} else {
	header("Location: http://$_SERVER[HTTP_HOST]/cn/?tag=" .
		urlencode(str_replace('_','-',$_REQUEST["tag"])));
}
?>
```

# 4、其它页面的重定向

我喜欢WP系统的一个重要原因就是它的各个文件分工非常明确，模板系统也是如此，所有的模板系统中都可以用一个`404.php`来出来404错误。除了上面三个重定向之外，大约还剩下70%的页面重定向没有完成（不要惊愕于这个工作的复杂性），如：按日期的归档、精华文章、评论页面、分类显示、附件下载和登录页面等等。由于这些页面一般都是被搜索引擎以静态地址收录的，所以不能像前面那样写PHP文件完成重定向，只能根据网址来逐个判断，把原地址转向新地址。其中有无数的细节要注意，如原来的星标日志对应新系统中的featured分类文章、两个系统的分类ID的对应关系等。综上，这个`404.php`便极度冗长。

> 怎么知道你的网站是否有404错误呢？在WP中，只需要在`404.php`文件中用`mail()`函数往你的邮箱发报告就可以了。我将不能成功重定向的页面都发到`404@yihui.name`了，看看`$_SERVER`变量，大概就知道是哪一页出错了，以及是活人点的链接还是搜索引擎的蜘蛛人在看我的页面。

```php
<?php
$info = $_SERVER['REQUEST_URI'];
$prefix = substr($info, 1, 2);

if (strpos($info, '/index')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else if (strpos($info, '/post/')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = current(explode('_', pathinfo($info, PATHINFO_FILENAME)));
	if ($prefix == 'en') {
		if ($tmp > 2) {
			$tmp += 1;
		}
	}
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?p=".$tmp);
} else if (strpos($info, '/star')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = $prefix=='cn' ? 618 : 150;
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?cat=".$tmp);
} else if (strpos($info, '/view')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?feed=comments-rss2");
} else if (strpos($info, '/category')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = explode('_', pathinfo($info, PATHINFO_FILENAME));
	if ($prefix == 'cn') {
		if (count($tmp) > 1) {
			if ($tmp[1] == '2') {
				header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
			} else {
				header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?cat=" .
				    $tmp[1]);
			}
		} else {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
		}
	} else {
		$catmap = array('7' => 6, '8' => 7, '9' => 9, '0' => 117, '1' => 11, '2' => 147,
                                          '6' => 12, '10' => 148, '3' => 4, '4' => 8, '5' => 10);
		if (count($tmp) > 1) {
			if (array_search($tmp[1], array_keys($catmap)) !== false) {
				header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?cat=" .
				    $catmap[$tmp[1]]);
			} else {
				header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
			}
		} else {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
		}
	}
} else if (strpos($info, '/archive')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = explode('_', pathinfo($info, PATHINFO_FILENAME));
	if (count($tmp) > 2) {
		if (strlen($tmp[1]) == 1) {
			$tmp[1] = '0'.$tmp[1];
		}
		if ($tmp[2] < 2007 || $tmp[2] > 2009) {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
		} else {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?m=".$tmp[2].$tmp[1]);
		}
	} else {
		header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
	}
} else if (strpos($info, '/showday')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = explode('_', pathinfo($info, PATHINFO_FILENAME));
	if (count($tmp) > 3) {
		if (strlen($tmp[2]) == 1) {
			$tmp[2] = '0'.$tmp[2];
		}
		if (strlen($tmp[3]) == 1) {
			$tmp[3] = '0'.$tmp[3];
		}
		if ($tmp[2] < 2007 || $tmp[2] > 2009) {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
		} else {
			header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?m=".$tmp[1] .
				$tmp[2].$tmp[3]);
		}
	} else {
		header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
	}
} else if (strpos($info, '/attachment')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = pathinfo(urldecode($info), PATHINFO_BASENAME);
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/wp-content/uploads/".$tmp);
} else if (strpos($info, '?tag=')) {
	header("HTTP/1.1 301 Moved Permanently");
	$tmp = '';
	if (isset($_REQUEST["tag"])) {
		$tmp = $_REQUEST["tag"];
	}
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?tag=".$tmp);
} else if ($info == '/'.$prefix.'/tag/') {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else if (strpos($info, 'read.php')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/?p=" .
		pathinfo($info, PATHINFO_FILENAME));
} else if (strpos($info, 'links.php')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else if (strpos($info, 'cv_yihui')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/cv/cv_yihui_".$prefix.".htm");
} else if (strpos($info, 'visit.php')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else if (strpos($info, 'securitycode.php')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else if (strpos($info, 'login.php')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/wp-login.php");
}

else {

//if(array_search($ext, array('gif', 'js', 'png', 'jpg', 'jpeg', 'css')) !== false) {
if (strpos($info, '/images/js') || strpos($info, '/images/lightbox')
		|| strpos($info, '/images/arrows') || strpos($info, '/template/fighting/')
		|| strpos($info, '/emot/thumbnail/') || strpos($info, '/editor/ubb/')
		|| strpos($info, '/images/r.css') || strpos($info, '/images/others')
		|| strpos($info, '/images/weather') || strpos($info, '/images/weather')
		|| strpos($info, 'jslang.js')) {
	header("HTTP/1.1 301 Moved Permanently");
	header("Location: http://$_SERVER[HTTP_HOST]/".$prefix."/");
} else {
	mail('404@yihui.name',
			"Invalid link: " . urldecode($info),
			'Request page: http://yihui.name' . $info . PHP_EOL .
			 'Referer: ' . $_SERVER['HTTP_REFERER']. PHP_EOL .
			  print_r($_SERVER, true),
			"From: Yihui Xie <xie@yihui.name>");
}

?>

<?php get_header(); ?>

<div id="wrapper">

	<div id="home_content">

		<div class="post">
		  <p>Sorry, I'm changing my blog system now; if the page you are looking for
		  doesn't exist, please visit
		  <a href="http://yihui.name/<?php echo $prefix; ?>/">http://yihui.name/
		  <?php echo $prefix; ?>/</a>.
		  I'll fix the original links soon. Thanks!</p>
		  <p><img src="<?php bloginfo('template_directory'); ?>/images/mal.jpg"
		  alt="a questioning duck" class="errorduck" />
	          </p>
		</div>

		<div class="main_meta">
			<ul>
				<li>Mal the Error Duck says, "Uh oh! 404! That means the page you are
				looking for doesn't exist, at least not anymore."</li>
			</ul>
    <h2>Latest <?php print(isset($getOptions["num_posts"])?$getOptions["num_posts"]:"10"); ?>
        articles</h2>
	<ul>
			<?php get_archives('postbypost',
				isset($getOptions["num_posts"]) ? $getOptions["num_posts"]:10,
				'', '<li>', '</li>'); ?>
	</ul>
		</div>

    </div>

</div>

<?php get_footer(); ?>

<?php } ?>
```

然后就每天看看邮件报告，有没有出现新的404错误，能解决的话就在上面的代码中加上一条`if`语句。

看看，搬个家容易嘛我。
---
title: 用Google Chart API展示简单的数据以及WordPress示例
date: '2009-05-30'
slug: visualize-simple-data-with-google-chart-api
---

[![Venn Diagram by Google Chart API](https://chart.apis.google.com/chart?cht=v&chs=100x100&chd=t:10,10,10,5,5,5,3)](/cn/2009/05/visualize-simple-data-with-google-chart-api/)

Google Chart API是很老的产品了（下文简称GCA），以前隐约听说过这么个东西，只是没觉得什么地方能用上，如果仅仅是单幅图形，还不如自己用软件画出来，而且自己画图比用GCA要方便灵活许多。这两天琢磨着网页里面有些简单的数字该如何显示给读者，比如几乎所有人的博客上都会显示阅读次数、评论条数等数据，这些数据是动态的，所以不适合静态图形展示，因此又想起GCA。简单来说，GCA就是用网址传递数据给Google的某个画图程序，Google画完之后把图形以PNG形式返回给你，你可以在网页中尽情使用。由于数据包含在网址中，因此很容易通过动态网页程序（如PHP）生成数据并写出网址。

## 1、从访问数和评论数生成Venn图

作为一个简单应用，我把原本枯燥的三个数字“用户（user）阅读次数”、“机器人（bot，网络爬虫）浏览次数”和“评论（comment）条数”用Venn图展示在每个条标题下的信息栏中了。对于学过与集合有关的课程（如概率论）的人来说，Venn图几乎是第一节课就会接触到的东西，它直观表明了几个集合之间的关系，如交集与并集。前面的三个数字中，user和bot交集为空，而user与comment的交集为comment，因为凡是发表评论的人必然要打开页面阅读。

Venn图的主要参数是7个数字，依次说明各个集合的大小：A, B, C, A∩B, A∩C, B∩C, A∩B∩C。这7个数字传给数据参数`chd`即可，如：
   
    https://chart.apis.google.com/chart?cht=v&chs=300x300&chd=t:100,80,60,30,25,20,10

生成图形：

![Venn Diagram by Google Chart API](https://chart.apis.google.com/chart?cht=v&chs=300x300&chd=t:100,80,60,30,25,20,10)

需要图例的话，用`chdl`添加即可（用`chdlp`控制图例位置）。

我使用了WP PostViews Plus插件来记录阅读次数，用`the_views()`相关函数以及WP自己的函数`comments_number()`即可获得上面三个数据，`echo`到URL中，一幅图形就产生了。具体代码如下：

```php
<?php
if (function_exists('the_views')) {
  echo '<li><div align="center">';
  echo '<img src="https://chart.apis.google.com/chart?cht=v&chd=t:' .
  	the_user_views('',false) . ',' . the_bot_views('',false) . ',';
  comments_number('0','1','%');
  echo ',0,';
  comments_number('0','1','%');
  echo ',0,0';
  echo '&chs=150x100&chdl=user|bot|comment&chdlp=b"
   alt="venn diagram: the number of user views, robot views and comments"
   title="venn diagram: the number of user views, robot views and comments"
   width="150" height="100"
   onerror="setInterval(\'this.src=this.src;\',1000);" /></div></li>';
}
?>
```

由于天朝对Google素来不友好，那伟大的墙无处不在，连这个图形API都可能被殃及，因此图形会间或性抽风显示不出来，我只好凑合着加了一句`onerror = "setInterval(\'this.src = this.src;\', 1000);"`，但发现基本上是自己一厢情愿的想象。如果遇到图形无法显示的时候，请刷新页面或点右键显示图形。

## 2、解读Venn图

这三个圈圈有神马好看的呢？稍微想一下也就知道了：

* 如果**机器人的圈圈**比**活人**还大，那么这篇博客可能受活人冷落，平时只有网络爬虫来瞧瞧，如果你坚持要看这篇文章，那么你可以被定义为人类的离群点

* 如果评论的圈圈显得非常大，那么应该是一个火爆话题，如果哪天**蓝圈圈**和**橙圈圈**一样大了，那么**赶快去叫你的娘子出来看上帝**吧

说了这么多，其实意义不太大，只是介绍一个工具，如果哪天你到了一个没有任何作图工具的裸机上而又需要用饼图向领导汇报工作的时候，那么不妨试试这个tooooold的Google Chart API。

## 3、关于Google Chart API的延伸

有程序开发癖的同志们看到这个东西也许会想，这玩意儿完全可以写一个PHP类或者R函数啊，前者似乎已经有人做过了，不过我瞅了一眼，貌似需要`urlencode()`一下；至于后者嘛，有了R干嘛还要Google Chart啊，不过这个API里面还是有几种图形在R里面不方便实现的，比如那个仪表和QR条码，如果有谁做了这件从R到Google Chart API的转化工作，请勿忘到这里来吼一声，让我知道我好去膜拜啊。
---
title: 第一期The R Journal和第一届中国R语言会议
date: '2009-05-31'
slug: 1st-volume-the-r-journal-and-1st-chinese-r-conference
---

最近到处看到关于第一期The R Journal上线的消息，随便举几个例子，比如[魏太云那嘎达](http://hi.baidu.com/cloud_wei/blog/item/b7d2bf1605fb964221a4e968.html)、[刘思喆那嘎达](http://sunbjt.spaces.live.com/Blog/cns!C7F9ED721213E4F5!571.entry)、[陈钢那嘎达](http://www.gossipcoder.com/blog/2009/05/61)、Zhanwu Dai的邮件、[Paulo那嘎达](http://onertipaday.blogspot.com/2009/05/r-journal-11.html)（blogspot又一次被和谐了）、[David Smith那嘎达](http://blog.revolution-computing.com/2009/05/inaugural-issue-of-r-journal-now-available.html)等等。

这次R Journal的面世，在R界是一件重大事情，R News这个刊名确实有点小家山寨，而其内容已经堪比正规统计刊物，所以更名The R Journal是理所当然的。之所以大家全都提到了这件事情我还要写这篇博文是因为：【插播广告：有哪位同学/老师愿意承担整理论文集的任务，请速速与我联系。这个任务包括：催促作者们完善论文（比如我个人的论文至今还没写完）、联系出版社、召集评委、排版等。谢谢！】
	
1. 我们[第一届中国R语言会议的会议纪要](https://cosx.org/2008/12/1st-chinese-r-conference-summary/)发表在第一期R Journal上了，这是很有历史意义的。尽管当初主编大人说[i suspect this will be a nice article](/cn/2009/03/1st-chinese-r-conference-report/)，后来我也没收到其它邮件，于是应验了no news is good news，发表了。这里要向各位客官交代的是，我们的论文集在我的电脑里扔了半年也没整理，出版社也没再联系，抱歉抱歉。

2. 我在这一期The R Journal上看到一个人：Xuefei Mi。遥想当年[我在多特蒙德参加useR! 2008](/cn/2008/08/germany-trip-3/)的时候，某一天下午散会之后在多特蒙德大学外面等火车，看见一位童鞋，看长相我琢磨着可能是日本人吧，他也瞅瞅我，最终开口了，原来都是中国人……在火车上简单聊了聊，得知他和Torsten Hothorn有某种关系（导师？忘了），如今在R Journal上又看见这位兄台的名字了。这世界是不是很小呢？

3. 前两条都还忍住了，当遇到第三件事情的时候，终于决定操起键盘写一下了。以前我[曾经提到过](/cn/2008/11/going-to-australia/)Felix Andrews，也就是`playwith`和`latticist`包的作者，与Deepayan Sarkar合作了`latticeExtra`包。Felix今天给我写了个邮件，算是回复了我174天前给他的GTalk留言（邀请他来参加R会议），说在R Journal上看见会议纪要了，当时很忙所以没去参加，一堆英文下来，最后附了一句中文：

	> 秀月也好了。她每天全天说话，说得很流利。她喜欢我们家里的猫。

	他家小女儿还是那么可爱，哈哈，刚到Felix的网站找了找，可惜没找着照片（只有她在她妈妈肚子里时的照片）；Felix的中文也很流利了。话说Felix回到ANU建了一个[堪培拉的R Group](http://canrug.togaware.com/)，我看他们每个月都组织活动，其实我们也可以组队，每次说这个事情都是没有带头人……眼看我也要撤了，希望北京能赶快诞生一个定期聚会的R小组啊。

总结：R在中国的繁荣昌盛不会太远了，但同志们需要大大努力。
---
title: 画曲线的通用办法：描点法画图
date: '2009-06-02'
slug: from-points-to-curves
---

初中的时候老师便教我们拿着直尺和圆规作图，那时候恐怕还没几个人会用电脑，直到初中毕业，我才第一次见电脑。那时候画曲线怎样画呢？记得就是在某个`x`区间上取一系列点，然后计算`y = f(x)`，把这些点描在笛卡尔坐标系中，然后用铅笔手工连起来。这个办法很笨很原始，但很有效，奇怪的是，到计算机如此发达的今天，仍然有人不断问如何用软件画曲线，仿佛中学时学的东西都还给数学老师了。例如，若干天前，有人问我如何用R画这个曲线：

`$$f(x)=(\sqrt{2}*\Gamma(x/2)*2)/(\sqrt{x-1}*\Gamma(x-1))$$`

我只好提醒他回忆中学的描点法。R里面的`gamma()`和`curve()`函数是现成的，把数学公式写成相应的代码就可以了：

```r
curve((sqrt(2) * gamma(x/2) * 2)/(sqrt(x - 1) * gamma(x - 1)), 2, 50)
# 当然，如果你非要按照x = seq(2, 50, ...)然后计算f(x)然后plot(x, f(x),
# type = "l")那也可以，只不过curve()就是干这事的，不必麻烦分两步走了
```

![描点法画函数曲线](https://db.yihui.org/imgur/kszO2iR.png)

如同某些网文说人一辈子的守则在幼儿园都已经教完了，就看你长大还记不记得。所以每当面对一个貌似复杂的问题时，首先要想想幼儿园有没有学过。

“武功再高，也怕菜刀”绝对是真理，哈哈。
---
title: 用R语言和Flash以及JavaScript生成标签云
date: '2009-06-10'
slug: creating-tag-cloud-using-r-and-flash-javascript
---

前些日子有位童鞋在R-help邮件列表里问如何生成那种单词大小与其出现频率成比例的图，这玩意儿也就是通常所说的标签云（Tag Cloud）。我琢磨了一下WordPress的插件wp-cumulus，发现其原理很简单，不过就是将标签信息以XML形式通过JavaScript传递给一个Flash文件，所以也很容易用R去实现这个传递过程，即：将文本、超级链接以及频数写成XML，然后嵌入到HTML文件中。整个过程参见[Creating Tag Cloud Using R and Flash / JavaScript (SWFObject)](/en/2009/06/creating-tag-cloud-using-r-and-flash-javascript-swfobject/)这篇日志，函数源代码和示例数据都可以从那里下载。
---
title: 很担心我国的水资源将在一年内耗尽
date: '2009-06-10'
slug: so-much-water-in-their-brain
---

为什么我突然担心起水资源了呢？我是环保主义者么？不是。

最近接连发生一系列事情，有大事有小事，但大事小事都跟水资源有关。首先我介绍一下统计之都最近发生的事情：上个月里，COS很是不太平，会员们也许遇到过几次网站不能打开的情况，但大多数人可能不知道背后有什么故事。其实原因很简单，我们伟大的“攻心部”最近不知抽什么风，突然加大网站审查力度，尤其是对良民的审查，于是乎，某一次某会员帖了几张和福娃有关的图，导致COS被关了一次；某一次某会员发了一个和毛爷爷有关的笑话，导致COS被关了一次（我至今不知道服务商是如何进到我们的网站把帖子删掉的）；……某一次攻心部又说COS没备案，服务商没通知我们就强行关了网站，事实上三年前COS建站没两天就老老实实去备案了，原来的邮件和证书都还在，凭什么说没备案。更恶劣的是，每次关你的网站都不吱声，悄墨迹就给关了。人的忍耐毕竟是有限的，于是我改了QQ签名档：

> 备案？备案你大爷！

该管的刁民你不管，不该管的良民你天天来找麻烦。于是，还是[那句话](/cn/2009/05/turning-to-wordpress/)，还看什么看，搬！

![搬家！](https://db.yihui.org/imgur/TrIGky8.jpg)

搬了主机还得搬域名，结果国内某号称最大的域名注册机构非得让你去ICANN投诉它它才肯把域名转出去，你要是老老实实写申请寄过去，中间不催不问不投诉，下辈子都搬不出去。

在6·肆这一天到来之前，我感觉网上气氛有些异样，因为twitter、live space都被关了，心想咋回事啊，后来总算想起来了：原来明天是个特殊的日子。某部门以这种形式表达了对广大网民的提醒。

这都是小事。而昨天，攻心部又发生一件事，想必地球人都知道了。为了广大青少年远离很黄很暴力的网站，该部门花了纳税人4170万（仅仅1年）买了一款叫“**滤霸·滑稽护航**”的软件“**免费**”给群众使用，估计该软件要在IT届永垂青史了。到现在为止，我看到的信息是：

* 该软件（暂时）还没有Linux和Mac版本，所以大家赶紧转向超级无敌Linux大阵营吧

* 该软件以红头文件为保护被强制预装，软件本身符合多项流氓软件特征（不问你安装目录就直接装到system32下、不能从控制面板卸载、悄墨迹截图等）

* 该软件悄墨迹从某部的某数据库读取那些很黄很暴力的网址，从而达到屏蔽效果

* ……

现在的家长和学生谁的计算机水平高？如果攻心部一定要强制安装，那么不出半个月，破解方法必然就传出来了，等着瞧吧。实在不能破解，格式化重装系统总行吧？那公司不至于厉害到程序无法格式化吧？花了四千万买了这种愚蠢的方式来监视网络（你可以侮辱我的人格，但不可以侮辱我的智商！），你咋不监视那些嫖宿的官员？咋不监视“人民的好公仆”林蜀黍？……

回到开头，为什么我国的水资源即将耗尽？因为水全都进到某些人的脑子里了。

你娘，你大爷。

附Google搜索图两张：

![绿坝的搜索条目（敲入“绿坝”之后的截图）](https://db.yihui.org/imgur/AHxBiJU.png)

![绿坝的搜索条目（绿坝+空格之后的截图）](https://db.yihui.org/imgur/9EbGTtq.png)

更新：[学者律师质疑预装“绿坝”合法性](http://www.caijing.com.cn/2009-06-11/110182910_1.html)（鼓掌！！）
---
title: 免费赠送FTP空间200M
date: '2009-06-16'
slug: 200-megabytes-free-ftp-account
---

昨天我的个人网站（域名和空间）也成功搬家到国外，“网站快跑”行动至此告一段落，总算觉得安全了；当然，不管你搬到哪儿，都不会绝对安全，因为还有最后一招，即伟大的墙（不懂“墙”是什么意思的童鞋就别查了，也别问什么叫“翻墙”，你绝对是标准的良民）。我也是大大的良民，安分守己，一般也就写写统计和R有关的东西，所以应该不存在墙的危险。因为搬了家，原来的窝里腾出来200M空间，就贡献出来给需要的朋友们用吧。

> 主机：218.16.120.61  
> 用户名：yihuiname  
> 密码：YiHuI@))()^!^

空间不大，有时候可能有用，比如给别人发超大文件。据我所知，还没有哪个邮箱能支持200M附件吧。各位客官看着用吧，别用它干坏事就可以了。2009年9月21日到期，到时我就不管了。

前几天把原COS网站的800M空间也放出来了，不过那是公家的，就用邮件发送了，不知各位收到没有。

> 补充说明：近日发现有童鞋竟然把FTP变成了山寨BBS，呃，好吧，你们继续灌水吧。
---
title: 新手教程：建立网站的全套流程与详细解释
date: '2009-06-19'
slug: how-to-build-a-website-as-a-dummy
---

你要是Google这个话题，得到的结果八成都是广告——他们都会告诉你，“嘿，我（或某公司）这里可以建网站，傻瓜式的哟，快来投奔我吧！”新手一般都觉得建网站是一件超级复杂的事情，于是很天真很无邪地进了圈套，到最后还乐呵呵帮人数钱。傻瓜式的东西就如它的名字一样，只是为傻瓜准备的，要格外小心。

我正式接触计算机在2002年，接触网站建设在2003年，想想时日也不短了，虽然不是什么高手，但还是有一定发言权滴。数月前，鼓动[江堂兄](http://li-and-jiang.com/blog/)从Live Space逃脱、建立了自己的窝，而近日又把自己的网站和“[统计之都](https://cosx.org)”网站都搬了家，然后也帮“[贝吉塔行星](http://www.bjt.name)”逃离了那抽风的Live Space，后来有朋友问起关于如何建立个人网站的事情，所以干脆写篇教程，把这建网站的来龙去脉讲清楚。


# 一、建网站的准备材料：域名和空间


一个网站通常由域名和一堆网页文件构成：

- 域名：就是“三达不溜什么什么点坑”这样的东西（如www.yihui.name，不严格，见后话），它由一家非营利组织ICANN管理，但它授权给了若干注册商（registrar）去卖域名，你可以在这些域名经销商那里注册**顶级域名**，所谓顶级域名就是“字母或数字组合+顶级域名后缀”，这些后缀包括常见的com/org/net，也包括不常见的name/info/biz等，各家允许注册的域名后缀可能有所不同，这就看个人喜好了；关于域名后缀，本来它是有含义的，比如com是company，org是organization，name是个人域名，等等，但我个人觉得这些东西已经没太大意义了，域名只要好记、看着像模像样就可以了，管它是公司还是组织呢（有例外：如gov等特殊后缀一般人不能注册），那著名的del.icio.us网站就是个很好的例子，它不一定非得是美国网站，但这个域名就是注册得很巧妙。顶级域名下面可以设置子域名，如二级三级域名，严格来说，www.yihui.name只是yihui.name的二级子域名，只是www太盛行，以至于人们干脆把`www.***.***`当作顶级域名了。animation.yihui.name就是本站的一个子域名/子站。说了半天，域名怎么注册啊？你Google一下“域名注册”或“domain name registration”，顶上的Sponsored link中都是有实力的注册商，但我作为过来人要严重提醒的是，尽量**不要在国内注册**（尤其不要相信那个万网的鬼话）。据说GoDaddy还可以，我没试过，只知道它似乎不能注册.name域名，我自己是在name.com注册的域名（需要付美元，我用的PayPal，双币种的信用卡也可以）。
- 网站空间：想得简单一些，空间和你的硬盘没啥区别，只不过是空间服务商卖给你的一块服务器硬盘位置而已，性能可能比你的PC机好一点，网站空间就是放网页文件的地方，网页文件你可以简单想象为你硬盘里的文件，它们也是按路径访问的，网址的路径就对应着硬盘里的文件夹。网页文件通常分为：
  - 静态网页：其内容是固定不变的，里面放着HTML代码（网页的一种语言），不管谁、不管什么时间访问，内容都一样，通常以.html/.htm为文件名
  - 动态网页：我估计现在大多数网站都是动态的了，所谓动态就是网页文件会根据不同的条件**解析**生成不同的HTML代码，例如：某动态页面根据时间和用户ID向访问者问好，早上访问就说早上好，晚上访问就说晚上好，路人甲来了就说路人甲你好……动态页面通常和数据库挂钩，用户在访问网页的时候，网页程序就存取数据库，所以页面内容会不断更新。动态页面可能采取不同的语言编写，如古老的微软的ASP、盛行的开源的PHP。现在网络上有无数的网站系统，我当然推崇PHP+MySQL的系统了，目前尤其看好WordPress系统。
- 注意有些国外空间是几乎可以当做自己的电脑使用的，包括编译安装程序（如Python），SSH登录，MySQL可以在命令行中执行，等等，国内似乎没见过能给空间这么大自由的

域名和空间没有必然联系，域名的作用就是作为一个字符串映射到一个IP地址上，因为（1）IP地址太难记了（2）IP地址数目有限（同一个IP上可以放N个域名）所以才需要域名这么个东西。这就意味着，你有换空间的**自由**。哪天对空间服务商不高兴了，可以直接把他踹了，把域名解析到别家去，用另一家空间。哎哎，等会儿，啥叫**域名解析**？

# 二、关于网站的配置

## 1、域名的设置

注册域名交完银子之后，域名就是你的了，如果你在国内注册的，你花钱买的域名**不一定**真的是你的。一定要看你是否有以下权利：

- 修改注册联系人、管理联系人、技术联系人和付费联系人信息，如果你在后台找不到修改的地方，那么恭喜你，这域名好像不是你的，而是某奸商的，用WHOIS查一下域名信息吧；
- 拿到授权码（Auth Code），国内也有叫域名转移密码的，这个码很重要，如果你不知道或奸商不告诉你，那再次恭喜你，这个域名仍然不是你的，想搬家到别家注册商都搬不了，万一不行遇到这种情况，那么就去ICANN投诉奸商，每天投诉三遍，如果某注册商总是遭到投诉，ICANN会修理它的，总之你一定要知道自己作为消费者有什么权利

如果域名真的属于你，那么你哪天对注册商不高兴了，也可以把它踹掉，转移到别的注册商下。

域名的设置主要是一些解析工作，包括：

- 域名服务器（name server）：通常是`ns*.***.***`之类的网址，这个服务器负责解析下面的各种设置，也就是说，它是域名各项设置的Boss。国内一些域名注册商通常以这一点为手段，卡住用户，比如限制你只能使用它的域名服务器，然后再限制你最多只能设置10项A记录或MX记录等，多了要另外收费，这种规矩实在是很扯淡；尤其是对于那些需要多个子域名的用户，这一点很不方便，国外情况好一些，至少我还没见过有哪家限制你使用特定域名服务器的；
  - 要特别提及的一点是，有些空间服务商只需要你把域名服务器设置为他们的域名服务器，剩下的所有解析问题你基本上都不用管了，你可以自由创建子域名，而不必添加A记录
- A记录：就是将域名指向主机IP，可以将顶级域名或子域名指向特定的IP，所以你的子域名和顶级域名可以不在同一台服务器上，比如我可以将www.yihui.name指向66.147.240.177，将test.yihui.name指向127.0.0.1，等等。
- MX记录：就是邮件服务器，大家知道邮箱是`***@***.***`的形式，当你发邮件点“发送”之后，首先你的邮件服务商要根据你的收件人邮箱的域名去找它的MX记录，然后再把邮件发给相应的（另一家）邮件服务商，比如我的域名yihui.name的MX记录是ASPMX.L.GOOGLE.COM，也就是Google Apps的邮件服务地址，当你给xie@yihui.name发邮件的时候，系统先去找一下yihui.name的MX记录，一看，哦，是Google啊，那就投递到Google家去，Google收到邮件，一看，哦，要发给xie用户啊，那就发给xie的收件箱中吧；我记得以前搜狗似乎也提供过免费的邮件服务，不知现在还在不在，我已经用Google Apps很久了。
- CNAME：即别名，这玩意儿就是个域名“面具”，比如我把google.yihui.name的CNAME设置为google.com，那么你们访问前者的时候实际上就在访问Google，域名中包含的任何路径都会原封不动传递给google.com，比如google.yihui.name/services/就是在访问google.com/services/，但你的浏览器地址栏中的地址不会显示后者，而是显示那个“伪装”的地址。所以只要我高兴，我可以随意制造消息，比如“Google换网址了，新网址是<http://google.xiexie.name>”。
- 其它设置：不说了，理论上一个A记录就够用了，别的都不用管。

## 2、主机的设置

域名设置好了之后，主机上也需要一些呼应工作。要是域名设置了A记录，但主机上不“接收”，那网站也没法使用。主机如何接收取决于它安装的网站服务程序，现在流行的是Apache，当然也有少数网站依旧抱着Windows IIS大腿（用ASP语言+Access数据库），据说近段时间又出现了一款新软件，有取代Apache的可能，名字忘记了。以Apache为例吧，主机上会创建一个虚拟主机（Virtual Host）配置文件，告诉服务器，“嘿，有个网站指向了你，你要为这个网站服务，这个网站放在某某目录下，如果用户访问某个网址，你要负责把该目录下的文件拿出来给用户看。”大致原理就是这样，细节不多说了。

对用户来说，不用管那么多细节，以上原理的实现对你来说就是在后台把域名绑定到主机的目录下（以及子域名绑定到子目录下）。一般来说，网站还需要两个辅助工具才能让主人随心所欲地配置自己的网站，即FTP和数据库。

### （1）用FTP传输网页文件

FTP就是用来传文件到某一台服务器的，只要你购买了虚拟主机服务，一般就会给你一个FTP帐号，你可以利用这个帐号登录你的主机，把网页文件传上去，然后用户就可以访问了。一点常识是，index.htm/index.php之类的网页文件通常是你在访问一个目录时主机会自动为你查找的文件，比如你访问yihui.name，主机会自动查找有没有index.php，如果有，就执行这个文件，生成HTML给你的浏览器。这个文件的文件名也许是可以配置的，但建议不要在这上面特立独行。

现在又很多成熟的建站系统，从网上下载下来然后传到服务器上，访问你的网址，按照提示一步步配置即可，跟装软件没两样。

### （2）网站数据库

动态网站大多数需要数据库（即使是文本文件“数据库”），如果你的网站用PHP语言，那么MySQL就是绝配了。若是PHP+MySQL空间（一般Linux主机都是这样），主机服务商会给你分配MySQL数据库帐号，包括：数据库主机（多为localhost）、数据库名、用户名、密码。这四项将会在你安装网页程序的过程中要求你填写。

# 三、网站的运行

对于那些程序员来说，第一个例子通常都是hello world，如果你愿意看hello world的话，就把“hello world”用任何文本编辑工具写在一个文本文件中，命名为index.htm（注意Windows会默认隐藏文件扩展名！你自己保证文件名不是index.htm.txt吧，我不管了），传到网站根目录下，然后访问你的网站，你就能欣喜地看到这个老得不能再老的hello world了。

一个像样的网站当然不是hello world这么简单，它的运行就像一个复杂的程序，可能存在文件之间的函数调用以及数据库的存取等等。世上真正开发网站程序的人肯定是少数，所以不用担心，你就用别人的程序吧，典型的网站系统有：

- 博客系统（Blog）：推荐WordPress，理由是程序写得简洁，扩展性强，我以前用国产的Bo-blog系统，后来没经得住诱惑投奔WP了
- 内容管理系统（CMS）：新闻八卦站、教程站等等，顾名思义就是填充内容的，这种网站八成是互相抄，没几个正儿八经写的，所以为了缓解大家的阅读压力，请各位客官珍爱生命，远离这种网站，也不要再重复建设
- 论坛系统（BBS）：网民对此应该非常熟悉了，国内常见的系统有PHPWind、Discuz等，国外盛极一时的有phpBB，我个人推荐的是一款相对新出道的bbPress，理由同WordPress，在大家拼命增加功能的今天（搞得用户面对一大堆选项焦头烂额），难得见到一款拼命减功能的论坛系统
- 维基系统（Wiki）：Wikipedia采用的是MediaWiki系统，如果你不想让维基和数据库交互的话，DokuWiki将是不错的选择，它不需要数据库支持，全部都是文本文件操作

网站的安装都没啥说的，一般都是把网页文件整锅端上服务器，然后访问你的网址，按提示走。该设定网站名称设名称，该输密码输密码。然后你会意识到，原来一个小小的个人也可以创造一个看似吓人的大网站。

但网站的维护并非一件简单的事情，当你有权利面对所有的选项时，你也会觉得痛苦。像我这种业余玩了几年网站的人都快有职业病了，什么地方没对齐就会觉得不舒服，什么地方少了个空格一眼就看出来了，段首空格缩进2字符还是1.9字符感觉就是不一样。所有的东西你都可以改，你愿意怎么布置就怎么布置。只需一个文本编辑器和FTP，你就可以改了传，传了看，看了改。俨然永劫不复了。所以建网站也要有好心态，千万别完美心态，不然这辈子都要不断改。现在网站系统更新也快，隔三差五就有新功能，看得你心痒痒：我是不是该装个A插件/换个B主题啊？张三家有个功能特别酷，我要不要琢磨一下是怎么弄的啊？……

所以，我是建议各位看官学习HTML和CSS以及PHP+MySQL呢，还是不建议呢？我也不知道。

还有搜索引擎优化（SEO），采取一些策略让搜索引擎喜欢你的网站，使得你的搜索排名靠前，你又得学习什么是网页Meta信息（关键词、描述），什么是301重定向，什么是404错误，什么是Apache的Rewrite模块什么是伪静态网址；……

# 四、摘要

头一次见到把摘要写到最后的吧？

1. 买域名，避开奸商，建议通过你熟悉的朋友介绍，不行就Google；若在国外买，可用支持美元的信用卡或PayPal付款；域名每年都要交钱的。
2. 买虚拟主机空间，避开奸商，建议通过你熟悉的朋友介绍，不行也不要随意Google，因为空间性能很重要，不试不知道；根据你的建站需求买相应的空间（静态？动态？需要多大？），国内分不同种类的空间，可能按大小收费，国外据我了解的HostMonster是没有大小限制的，一口价，敞开让你随便用，当然，总会受硬盘大小限制
3. 设置域名服务器或者A记录，指向主机
4. 通过FTP把网页文件传上去，然后访问你的新网站
5. 配置你的网站，通常可以登录网站后台作设置，平时做一些日常更新，看到眼红的功能也可以自己DIY出来
6. 如果你不得不在我英明神武的天朝购买虚拟主机，那么恭喜你还有最重要的一步，就是去英明神武的公衅部那里去备个鸟案，备案网址自己搜吧，能否备得上你自己烧香，我不管，一日不备案，一日网站不得运行，主机服务商会把你卡得死死的

有什么不清楚的请在下面穷追猛问，我会随时修改更新本文内容。本文叙述有诸多不严格的地方，但对新手来说不需了解那么多，因此没加说明。本文谢绝IT类网站转载。

---
title: 暑假轨迹
date: '2009-08-28'
slug: trace-in-summer
---

很久没来堆点文字，各位客官想必已经觉得此处荒草丛生了。这个暑假东奔西跑，在自家山沟沟里没网络，所以没更新，后来在别的地方每每想操起键盘写两个字，又觉得还有很多事情要做，所以迟迟未动手。再后来，不小心来美国了，初来乍到，种种事情要应付，也就更没工夫写。如今暂时尘埃落定，特向各位客官报个平安，概括这两个月的路径如下：

![洒家于暑假在地球上的轨迹](https://db.yihui.org/imgur/cYkoL3X.gif)

```r
library(maps)
x = structure(list(city = c("Beijing", "Yichang",
  "Qingdao", "Tokyo", "Seattle", "Minneapolis", "DC", "Ames"),
  latitude = c(39.908173, 30.691967, 36.066348, 35.689488,
    47.620973, 44.977482, 38.892091, 42.022864),
  longitude = c(116.397947,
    111.286471, 120.382771, 139.691706, -122.347276, -93.264351,
    -77.024055, -93.626792)), .Names = c("city", "latitude",
  "longitude"), row.names = c(NA, -8L), class = "data.frame")
library(animation)
##saveMovie({
  idx = c( 1, 2, 1, 3, 1, 4, 5, 6, 7, 8 )
  for (i in 1:length(idx)) {
    map(xlim = c(-128, 158), ylim = c(17, 54))
    text(-48, 32, x$city[idx[i]], font = 2)
    points(x$longitude, x$latitude, pch = 20, col = "red")
    if (i > 1)
        arrows(x$longitude[idx[i - 1]], x$latitude[idx[i -
            1]], x$longitude[idx[i]], x$latitude[idx[i]],
            length = 0.1, col = "gray")
    points(x$longitude[idx[i]], x$latitude[idx[i]], pch = 19,
        col = "blue")
    Sys.sleep(1)
  }
##}, moviename = "travel-in-summer", outdir = getwd(),
## para = list(mar = rep(0, 4)), width = 600, height = 100)
```

细节就不多说了。俺没有相机，所以也不上照片了，八卦的客官请自行到人人网上俺某师弟的页面上以及美国统计学会的统计计算和图形部门网站上扒拉，万一不小心扒到了请自个儿偷着乐，别吱声。

Iowa就是一片大农场，这地方，有人觉得是地狱，有人觉得是天堂。因为除了学习就是运动，没什么太多吃喝玩乐的地方。昨天俺们Dan Nordman老师说，晚上你要是觉得无聊了，不妨把讲义上的定理3拿出来证明一下，那定理还是有一定难度的（意即：可以打发足够多的时间）。

现在的生活基本上浓缩为“上课+做饭”，每天柴米油盐，做饭比学习还用功，不亦乐乎，做了几天米饭，稀饭干饭米饭丸子炸锅巴都试遍了，又跑去整了一袋面粉回来琢磨怎么蒸馒头、下面条。

咳咳，怎么一说做饭就没完了，虽然技术还很差。呃，可能是本次来到美帝，觉得资本主义国家的人都生活在水深火热中，只能吃面包夹生菜这么初级的食物，还是我中土大唐好啊，吃嘛嘛香。

最后向各位关心小的的大人们表示感谢，ISU这边有几位COS会员也给我很多帮助，还有，在这里终于见到了传说中的Rtist大人，俺们COS论坛上的老辈们应该都知道这位神一般的人物，尤其是colinisstudent童鞋，多次问我有没有见到Rtist。俺刚到这里，Rtist就为俺送来了桌子椅子，还有字帖。
---
title: 美国农村生活一月汇报
date: '2009-09-27'
slug: september-life-in-ames
---

每天生活是如此琐碎，以至于操起键盘不知道写什么标题是好。开学差不多一个月了，学习上像回到了大二，生活上像回到了小学。选了两门课，外加一门讲座课，天天上实变函数和t检验方差分析，想当年，本小子在实变函数课上是那种会被老师叫醒的学生，可想而知，这种东西我学得很烂了，如今重学一遍，依然不得要领，可能脑子里就缺这根筋吧，总搞不清这铺天盖地的花写字母对统计的意义在哪里，老师倒是一个年轻的大牛，每年有事没事就去JASA和Annals写几篇论文，不经意就发现一群大牛的推导错误（真是牛到惊人，还这么年轻）；而方差分析课呢，老爷子人是很好，经验丰富，但就是歧视R，有事没事就说SAS is extremely powerful，本小子坐在底下心想，忍忍吧，那个年代的人都是SAS派，就别争了，如今SAS与R的优劣很明显了，老爷子有时候上课说，啊哈，你们瞧瞧，这里SAS能做，R就不能做（他就是把反过来成立的那些地方都留着不说），本小子至今还在用R+Sweave写作业，看看究竟有什么事情是R不能做的。

刚看见[江堂兄](http://li-and-jiang.com/blog/about-jiang/)发一篇[君子厨艺大全](http://li-and-jiang.com/blog/2009/09/26/cooking/)，赶紧凑过去围观（要知道，本小子最近对厨艺比对任何事情都感兴趣，民以食为上帝啊），果然是厨房老手，总结出若干极具robust性能的做菜方法，看来有些东西真的是不管怎么做都会好吃的（以前我只知道蛤蜊）。本小子在来美国之前的上一次做饭差不多可以追溯到小学时期了，想当年，俺和俺弟暑假在家轮流值班，一人做饭，一人放牛，在蚊子嗡嗡飞的昏暗厨房，爬梯子取腊肉，洗了切了炒辣椒炒黄瓜炒土豆，似乎一共就这三样了，炒菜不用放油，因为猪肉已经有很多油了，那时候没有电饭锅，煮饭炒菜全靠那一大口铁锅，大锅水煮，大半熟了全捞起来沥出米汤，然后炒菜，炒完把饭放回去蒸熟，盛出来，剩下一锅锅巴中加入米汤，便是稀饭了，在煮饭的柴火灰烬中埋两个土豆或红薯，吃完饭扒出来就跟宝贝似的。如今在异国他乡的农村再拿起锅碗瓢盆，所有的场景都变了，做饭用电，再也不用守在灶膛前添火；每天吃植物油，想蒸个水蛋吧，没猪油，便放弃了，小时候一直吃着放猪油的水蛋长大，果然有依赖性。室友（香港人）是美国生活，整天汉堡度日，每次看我做饭，都摇头说，太麻烦了，太麻烦了。由于厨房基本是我的天下，没有不明真相的群众围观，所以可以放心大胆挽起袖子任它油花飞溅，我没江堂兄那么耐油，一旦油花飞溅，我就离锅一米远，行注目礼10秒钟，锅里平息了再凑上前翻炒，后来学乖了，尽量沥干水，而且当油五六成热的时候就扔花椒葱姜蒜，让它慢慢爆锅，佐料香味四溢的时候就扔肉，速速翻炒，也就不会大溅了。这一个月主食尝试了猫耳朵、纯手工饺子（花了三四个小时）、纯手工面条、烙饼（未遂）、土豆鸡蛋饼、炸薯条（原来麦当劳的薯条如此简单），各种菜就是随意搭配，牛肉猪肉鸡肉鱼和芹菜土豆生菜萝卜黄瓜茄子菜椒，其中最满意的是芹菜牛肉（深感人大食堂太糟蹋芹菜了）和红烧鸡块，总结经验如下：


1. 糖的作用不一定是让菜变甜，例如红烧鸡块实现在油中放糖，能给鸡块上色，而且更好吃（不甜），因为我不太爱吃甜，所以一直对糖有误解；
2. 纤维多的菜如芹菜棒子盖上锅盖焖一会儿就好吃多了，否则水分很快蒸发，吃着就跟嚼棉线一样（我本来从不用锅盖，前些日子去肯德基州参观考察回来学乖了）；
3. 肉类加上面粉能保湿（面粉多加水和稀），所以肉会嫩；若有淀粉应该更好，可惜我还没找到哪里有卖淀粉的，等找到之后做鱼香肉丝；
4. 爆锅材料一定不能糊，否则既影响美观又损失味道，最易糊的就是干尖椒，若有可能，把爆锅的材料（比如花椒）捞出来再炒菜；
5. 煮稀饭或者煮土豆的时候，加至少两倍于你想象的水（有一次做土豆沙拉，把土豆煮粘锅了）；

明日请客吃饭，答谢大家对初来乍到的本小子的照顾，所以今日去超市买了一大堆东西，看见花生，心想这下可以做宫保鸡丁了，于是买了一点回来试了试（用面粉代替了淀粉），酸酸甜甜的，好吃啊，可能就属于胡子同学说的那种做不坏的东西吧，不过花生米不脆，看来网上的教程步骤应该修改一下。

唉，学习和生活汇报严重不成比例，敢情我是来学厨师专业的，想起老板名恰好是Cook，呃，以后回国路人问起，汝在美国做啥方向捏，答曰做饭（Cook）。

附录（胡子同学提到的三从四德，供广大男同胞围观，我先闪了）：

> 三从：

> 一、太太出门要跟从  
二、太太命令要服从  
三、太太说错话要盲从  

> 四德：

> 一、太太化妆要等得  
二、太太生日要记得  
三、打骂要忍得  
四、花钱要舍得
---
title: 学院网站、考试、月饼、排骨及其它
date: '2009-10-03'
slug: website-exam-mooncake-rib-etc
---

先说学院网站：听说院里又要花钱请人做网站，我一听，赶紧让小邱同志和小蒋同志快马加鞭，争取劫下这一镖，因为我能料到，请人做的网站将成为一个烂系统的概率大于95%（就像学校那个烂系统一样），我个人很是不相信那些做网站的公司。有了无敌的免费的开源的Wordpress，啥网站做不出来啊？这二位呢，任务一说就做，问题一点就通，我是满心欢喜啊，特此书面表扬（算是回答fan的问题吧）。不过我担心的是，小邱做事情太认真，太富有钻研精神了，这一镖要是劫不下来，怕是要浪费很多时间啊。我要不要跟领导旁敲侧击一下，考虑中……

再说考试：话说这门高等概率论，部分回放了当年我经常昏睡的实变函数课堂，不知道我脑子里是不是缺根数学筋，我对纯粹抽象的东西就是上不了路，总也想不明白，历史上是怎么想到那些证明技巧的，而且花了很大的力气最后证明了一个看似很显然的结论。我只对 `\(\epsilon\)` 表示随机误差项的学科感兴趣，对 `\(\epsilon\)` 表示 `\(\forall \epsilon>0\)` 的学科实在提不起兴趣。这次期中考试自然是盯着什么简单函数什么可测空间发愣了。下周我要重新整理一下那四五十个推论，也许学这种课就是体力活，看多了做多了也就上路了。但无论如何，我还是一眼望不到究竟这些东西对统计学有什么深远的影响。我知道这样的话一定会招来长者或行家的批评，你一臭小子，懂什么？叫你打好基础，你还这么多废话。但我心中就是有个悖论：既然那些抽象的定理是正确的，为什么一代又一代的人都要从头学起，难道就没有哪一天能让某些东西成为公理么？定义一个Lebesgue积分，都要先从直线上的区间讲起，有了区间再去覆盖集合，取了下极限，集合就有了外测度，然后定义测度和可测集合，有了可测集，再定义可测函数，为了研究可测函数的积分，先定义基于可测集的简单函数的积分，然后用简单函数去夹住非负函数定义非负函数的积分，然后把一般的函数分为正部和负部，最终定义出一般函数的积分。传说Lebesgue积分比Riemann积分优越，通常的例子都是Dirichlet函数用Riemann不可积，但Lebesgue可积，而我觉得通过定义解决的问题，就如同改变了裁判一样。数学家们为什么不多给一些例子，来说明Lebesgue的伟大贡献及其积分的广泛意义？或者，生活中有Dirichlet函数么？回到统计的世界，我看到的仍然到处都是Riemann可积的函数，上哪儿找那种处处不连续的函数去？我们所知道的所有统计分布，有哪一个是变态到处处不连续的，而我们关心的样本空间的子集，又有哪一个是不可测的？呃，不废话了，看书才是正道。也许再过两个月回来看，会发现我问了一堆傻问题。

然后是月饼：中秋节嘛，自然要整点儿月饼，于是乎，一群人杀往Lin家，本小子现在对做东西是无知者无畏，没做过，管它呢，捋起袖子，甩开膀子，拿出笔记本现查，看上十五分钟，面盆倒上二斤面，半斤糖浆，几瓢油，搅和一下，便开揉，话说月饼面还真是不好揉，因为用的是低粘度的面粉，很容易散，没怎么加水，就更干了，好不容易揉好装进袋子搁一边醒着，过了一个小时再看，完蛋鸟，面团太硬，于是乎，把面团重新打散，加点牛奶当水用，又花了半天功夫重新把面揉拢了，切成小块，本小子可是从小搓泥巴长大的，把面团搓成小圆球不在话下，刷刷就出来十八个圆滚滚的面球（无图无真相），在那边喝啤酒聊天的群众过来厨房一看，嗬，有模有样嘛，于是乎，众人围上来捏的捏，擀的擀，塞蛋黄的塞蛋黄，填豆沙的填豆沙，最后把十八个面团子压进模具，最后一哄而散打麻将去了，Yang同学见我们做工粗糙，又把一些月饼重新整容了一下，扔进烤箱，烤啊烤，刷了蜂蜜，再烤啊烤。最后拖出来一看，月饼一半白的一半黑的，白的是因为我面粉放多了，黑的是烤糊了……这异国他乡的，哪管那么多，月黑风高夜，杀人越饼时，众人各自分得黑白月饼作鸟兽散。回来再上网瞅瞅，发现也不一定那么失败——月饼烤出来要放两天让它“回油”，到时候才有好看的颜色（当然烤糊了的除外）。

然后呢今天中午做排骨：排骨应该也是做不坏的东西。我以前没有发现蒜瓣在哪里有卖，所以只有葱姜花椒可用，后来总算发现了，买得大蒜贰颗，中午用水煮了排骨去血水，下油下蒜片下排骨下老干妈，炒得满屋飘香，室友忍不住跑出来：太香了太香了，你终于得道了，来，看我，一二，咔嚓。我便在厨房里蓬头垢面被拍了一张照片。下午去参加系里野餐，完毕去亚洲超市购得料酒一瓶，厨房的东西一天天齐备了。

作为国庆的特别礼物，敬请各位用R的客官移步观看小邱的大作：[rgl版的“我的中国心”](https://cosx.org/cn/topic/16743)。短评：R里面只有你不知道的，没有不能实现的。

报名参加了学校的乒乓球赛，周一晚上九点半预备赛，周日正式比赛，我看参加比赛的大多都是老外，不知是不是意味着多了几分胜算，不过也不好说，能参加比赛，水平肯定不会差，有些老外乒乓球也很强的，我是几个月没摸过乒乓球了，也没带自己的球拍。管它呢，去玩玩吧。
---
title: R的第五万次SVN修改：看看R大佬们的工作时间分布
date: '2009-10-10'
slug: 50000-revisions-committed-to-r
---

昨天Ripley教授向R提交了第50000次修改，Romain Francios对SVN的日志数据[做了一些简单分析](http://romainfrancois.blog.free.fr/index.php?post/2009/10/09/celebrating-R-commit-50000)，我个人一直关心Ripley是不是整天不用睡觉（你看这老爷子一天到晚都在邮件列表中出没），这次正好验证一下他是不是24小时工作，数据和R代码参见[50000 Revisions Committed to R](/en/2009/10/50000-revisions-committed-to-r/)。

![](https://db.yihui.org/imgur/1kSb7.png)

Ripley从1999年加入R核心团队，从上图可以看出，他显然是不需要睡觉的——每个小时都可能有commit。时间分布呈双峰：早上7点到10点、下午3点到6点。看看其他人的工作时间，很容易发现Martin倾向于早起干活，而Peter倾向于每天晚上12点之后干活。

Romain的博客中有SVN的日志数据可以下载，感兴趣的同志们可以继续分析R core的工作行为。

上周上课，我们老爷子又说SAS is extremely powerful，SAS很靠谱，就差明说SAS没有Bug了。我正在整理课程笔记，SAS的事情，我改天要去找老爷子好好谈一谈。R从不说自己能担保什么，大家拼命找bug，拼命改进，这是开源软件的共同特征——没有人付钱，但就是有一群疯子半夜3点还在写代码。商业软件一向说自己能保证什么，可是一个bug二十年都没人会去修正（[例](https://www.stat.math.ethz.ch/pipermail/r-help/2009-June/202220.html)），还好我们看不见源代码，要是能看见，后果不堪设想。
---
title: 关于英文写作的几点常识或经验（兼忆我的英语老师们）
date: '2009-11-06'
slug: common-sense-in-english-writing
---

最近有好几位同学让我帮忙看出国申请的简历和文书，敢情我现在是从多年的人大考研咨询改行到出国咨询了……从这些简历和文书的阅读中，我觉得有些写作方面的简单规则应该在此啰嗦一下，复习初中英语知识，供出国的客官参考。我想起什么写什么，这篇文章也许会更新。

## 零、一本必读的小册子

有一本叫作“The Elements of Style”的小册子是讲英语写作的，不管你的申请有多忙，一定要抽时间把这本几十页的小册子看完。这本册子相当古老了，也许比你的爷爷年纪还大（传说中的葵花宝典？），但提出的写作规则都是很中肯的。若有大一想出国的同学不幸逛到我这儿来了，我得另外建议各位小客官找一本大部头的英语语法书猛读（个人猛读过张道真的语法书，印象中六七百页，详见后文），我相信这种规则的锻炼对将来的写作会很有用。回头想了一下，搞不清楚我大学英语在上些什么。当然，对这本小册子，由于规则繁多，必然有人不满，认为对语言约束太强，有些规则没多大意义，可以打破，这是很自然的事情——语言是拿来用的，会随时间变化的。不过无论如何，我觉得读这本册子益处远大于害处。

## 一、单数和复数

因为中文的名词基本上没有复数的概念，比如我们说吃苹果时，绝不会说吃苹果**们**（即使吃了十个苹果），所以我们写英语的名词容易忽略单数复数的问题。当我们用一个可数单数名词的时候，前面需要加冠词 a 或者 the，要么就用复数，不要把一个可数名词孤零零光秃秃撂在那儿。例：

> [...] it estimates parameters in linear regression model...

这句话中，线性回归模型前需要加a或者the，或者用 models。如果用 the 什么，那么一般表示特指某一个东西，如果不想表达特指，那么用复数。


## 二、标点符号


空格问题：中文几乎从不需要使用空格，但英文中标点符号和下一个单词之间需要有一个空格，看似很简单的规则，但很多人的英文文章因为没有空格，写出来让人看着觉得憋得慌。

逗号问题：两个独立的句子之间不能用逗号，要么用句号，要么用分号。有些人写东西很随意，逗号一路打到底，不知道段落到底是什么结构。

书名号问题：英文中没有书名号！不要笑，就是有人会在 Word 中给一本书或论文打上书名号。如何在正文中提一本书或论文呢？正确的方式是用斜体或者引号。如果文中要提到数十篇文献，那么我建议还是用参考文献的方式吧，比如 Xie (2009)。

跑题提一下 LaTeX 引号问题：我注意到不是所有 LaTeX 用户都知道引号的正确写法（这让我有点吃惊），它不是 `""`，而是 ``` ``''```，否则，编译出来的文档两个引号的方向是一样的。LyX 用户敬请忽略本段，直接打引号的话它会自动生成正确的引号代码。

## 三、“统计”这个词

作为申请统计专业的学生，务必搞清楚 statistic 到底是什么，不要开口就说“统计学”是 statistic，大多数情况下，这个单词只有一个意思，那就是统计量。“统计学”是 statistics，形容词 statistical。

## 四、few 和 little

它们本身表示否定意思：几乎没有。而不是有一些/一点。如果要表达后者的意思，那么加上 a。阅读的时候尤其注意。

## 五、关于用词

我经常发现我看不懂发给我的 PS 中的某些句子，因为关键的单词我不认识，也许是我没真正考 GRE 的缘故吧。但我个人感觉这些我不认识的单词可能是通过金山词霸或者某些翻译工具翻译出来的，不知道老外看见这些词会怎么想，反正我觉得是没有必要用不常见的词。如果想扩大词汇量（我指正常的词汇），我认为最好的办法只有一个，就是大量阅读。读完之后你的脑子会自动根据单词出现的频数排序，以后写东西的时候自然而然就会用写作常用词了。我自己曾经干过背词典的蠢事，当然这种蠢方法对我来说有一定正面影响，因为背词典的时候看了不少例句。

总结起来就是，不要查翻译工具，即使查，也要掂量一下词语是否常见易懂。

## 六、MS Word 用户的注意事项

大多数 Word 默认安装了拼写检查工具，因此请不要轻易忽视划了红杠杠的词句，仔细想想为什么被划了杠杠。当然，我不推荐学术男/学术女们用 Word 写东西。【插播广告：山东大学的客官请关注你们学校的 [LaTeX 讲座](http://www.loyhome.cn/821.html)（by陈丽云）】

## 七、seldom 和 rarely

本科时候和一个澳大利亚人吃饭，我们说话时用了 seldom，他很奇怪，说他们几乎从来不用 seldom，而用 rarely，这件事让我印象很深刻。到了美帝之后也发现 seldom 是个几乎没有人用的词，但大约是因为中土大唐人士的初中英语教导的是 seldom，所以我们经常用这个词。

完。

写着写着，想起以前的英语老师们，因此加上一段附录。

## 附：我的英语老师们

本小子现在混到这个美国农村，还得感谢我的那些英语老师：

初一的英语老师和我沾一丁点亲戚关系（貌似是从我们那个村嫁出去的），所以特别照顾我，当时班里有位同学在上初中之前学过一点英语，所以上课俨然鹤立鸡群，不过老师似乎并不欣赏她，反倒是我被莫名其妙捧起来了，所以不想好好学都不行；

初二英语老师呢，几乎全班同学都讨厌他，可能他当班主任管得太严但又没有威信，偏偏这个老师的口语非常标准（我现在听人把 the 读成“则”或者元音前仍读“呃”不读“咿”就觉得幸亏当年有这么个老师），语法也很严格，所以我还是很喜欢他的，师徒俩关系一直不错；

初三换到老 A 班，配备的是学校最好的英语老师，她对姓谢的那个小子早有耳闻，一年中也很照顾我，想方设法让我去市里参加了一次英语竞赛，话说那次貌似是我第一次走出那个小镇（记当时得我一共揣着两块钱，以为来回坐车就够了，结果上车发现一趟就要三块五，心想怎么要这么大一笔钱啊）；

高一高二的英语老师似乎是北方人，一口标准的普通话，在我们那旮旯很少见，虽然市区很多人都讲普通话，但没几个人能正确读出后鼻音（及卷舌），老师上课都是方言。这位大叔没啥特异之处，循规蹈矩，上课有板有眼，所以我又接受了两年正规训练；

高三再进老 A，英语老师是个年轻小伙儿，呃，其实也不算太年轻吧，他女儿和我在同一个班，英语也很好。和初一有几分类似，这位小伙老师有些偏爱我，我感觉每次作文给我的分都偏高，若没啥大问题基本都接近满分，所以每次考试都过 130 奔 140，最后高考吃了亏，考了几乎历史最低分。这位老师每天都朝气蓬勃，能说会道，我觉得他去新东方肯定没问题……

到了大学嘛，反而没啥学习的感觉了。高三暑假背了一本新英汉词典，大一买了一本牛津，现在也不记得有没有背完 A。分级考试分到二级，要上一年半英语课。老师功底不错，但我现在似乎什么内容都想不起来了。只记得某次上课要表演，一伙人演大话西游，我演至尊宝（汗啊），借了同学的武士刀，被架在脖子上，背出那段英文版的一万年；

到了研究僧，侥幸过了英语入学考试，免去心头大患，实在是对英语课烦得很；博士僧的时候一样。
---
title: 2009第一场雪和第二届中国R语言会议
date: '2009-12-04'
slug: snow-in-ames-and-2nd-chinese-r-conference
---

这极北苦寒之农村今年比较反常，据说往年都是感恩节一定会下雪，而今年就没下。刚纳闷儿咋12月还不下雪的时候，便下开了。不过雪也不大，地上只是铺了薄薄一层，比今年北京那场雪差远了。昨夜回家路上，想起小学时咿咿呀呀背的：

> 日暮苍山远，天寒白屋贫。  
柴门闻犬吠，风雪夜归人。

![](https://cran.r-project.org/Rlogo.jpg)

[第二届中国R语言会议](https://cosx.org/user/user-2009/)的北京会场过几个小时就要开幕了。这次会议比上次的准备更加匆忙，大约也就只有一个多月时间准备，但大家都很卖力，在此先感谢一下各位组织者：[邱怡轩](http://yixuan.cos.name)、张翔、焦静、陈堰平、范建、蒋安华以及关菁菁；说起小邱同学，如我[上次](/cn/2009/10/website-exam-mooncake-rib-etc/)所说，我真是有点怕给这位拼命三郎安排任务，从别人口中了解到他为这次会议每天马不停蹄焦头烂额四处奔波，我心中甚为感叹；张翔呢，我没想到他会担起这次会议组织者的角色，上海会场在他的带领下也办得有声有色（看看[会议通知页面](https://cosx.org/user/user-2009/)的宣传海报多么亮丽），和焦静两人拉赞助、发传单、安排吃住，作为已经工作的人，对一门自由软件如此费心，甚为难得；焦静呢，现在不在统计专业（生态），却帮忙做着一门统计软件的推广，跑校区、定会场、找领导，忙得不亦乐乎；陈堰平作为R的老用户挑起大梁，相信经过上次植物所培训一战，对这次会议的组织应该更有把握；fan版主也是位拼命三郎，[COS论坛](https://cosx.org/bbs/)[招生就业版](https://cosx.org/bbs/thread.php?fid=21)自他上任之后所有帖子和资料被整理得井井有条，使你不得不敬佩，这年头能如此发狠的人不多见啊；关菁菁同学嘛，说实话刚开始小邱介绍的时候我想不起来她是哪一级了（为啥我总觉得她是研究僧呢），上一届R会议她参加了，而且中午没去吃饭，留在会场帮我们看东西，这次又主动提出愿意帮忙组织，我自然是很高兴。对于参会者诸如[魏太云](http://taiyun.cos.name)以及刘思喆和李舰二位大师兄的献计献策一并致谢。

这次会议有不少去年的熟面孔（如丁鹏、左辰、王化儒、奚潭等），新参加的人里面有我认识和不认识的，报名演讲的名单也给了我很多惊喜，比如钟其顶，算是一个老朋友了，三年前在我一次R报告的时候就认识了，后来我们一直用R做一些食品行业的应用，效果还是很不错的，尤其是今年初几位师弟在我的牵线搭桥下过去实习之后，挖掘了更多R的应用价值；再比如那场“地质环境调查监测研究中的R应用”（作者来自中国地质环境监测院，政府机构下属事业单位），其图形着实让我惊叹了一番，没想到R在这样的单位已经被人研究到了这种程度（R和Google Earth都用上了），太出乎我的意料了，看来我的统计图形书可以放到更开阔的边界上把各种稀奇古怪的应用都介绍一下；再比如陈丽云，这位以技术派面目出现的lady，要来讲讲计量，想当年，被[本小子一句玩笑代码](http://www.loyhome.cn/676.html)惹得好奇心起，装了R，然后被打击了一番；再比如孙晓燕，最后关头杀了过来，不知道是不是被李晓煦老师给“忽悠”的；还有中科院的WebR，相信也是很价值的应用；上海会场请到了汤银才老师，这位也是中国R语言的一位元老人物，想想四五年前网上一搜就是汤老师的那个PPT。

一个月前我往R-help[发了个会议通知](http://tolstoy.newcastle.edu.au/R/e8/help/09/10/3091.html)，前几天又补充了一下[会议内容](http://tolstoy.newcastle.edu.au/R/e8/help/09/12/7137.html)，R core之一Martin Maechler注意到我们的会议，给我发了封邮件说希望这次会议能写一篇报告发给The R Journal，正中下怀，本小子就是这么打算的。我想明年第三届R会议就放在暑假开好了，到时候请一些R core成员过来讲讲课什么的，应该也是很有可能的。

前两天给吴老写了封邮件说起这事，吴老曰：

> 我是一个行将退出战场的老兵，我想说的是：

> 祝贺第二届中国R语言大会胜利召开！

> 开放、绿色、功能强大、具有源源不断巨大资源的R不仅有必要而且一定能够在中国推广和发展。

吴老是第一位把R引进人大统计学院的老师，此后他的弟子们也纷纷用R，这才有了我接触R的机会。
---
title: 最近跟R core们经常打照面
date: '2009-12-08'
slug: meeting-r-core-members
---

近来有些奇怪，有几位R core们居然给本小子写邮件，让本小子着实感到吃惊。比如，首先是Brian Ripley，这是R core中的core，前面提到过[他在R源代码中的突出贡献](/cn/2009/10/50000-revisions-committed-to-r/)，这位真人不露面、网上找不着照片的大佬，前段时间给我发封邮件说，你小子的animation包的启动消息不正规啊，因为我用`suppressPackageStartupMessages()`无法屏蔽启动消息；我一看，R里面居然还存在这么长名字的函数，顺便学习了`message()`函数，从此不再用老土的`cat()`函数了，后来考虑了一下，干脆把启动消息去掉了，`library(animation)`不会再有任何提示消息。

然后是我发现Duncan Temple Lang这位不靠谱的大叔做着一些我很喜欢的不靠谱的事情，于是乎对Omegahat心向往之，一来二去聊了聊，将来有机会一定要会一会他。

Sweave对注释的处理是要么完全去除，然后R代码会被整理整齐，要么完全保留，但R代码也保留原样，而我一直希望既能保留注释又能整理代码，这才诞生了`animation`包中`tidy.source()`函数（[在小邱聪明的技巧下](https://cosx.org/bbs/read.php?tid=14056)），前段时间想想给Friedrich Leisch，也就是Sweave的作者，发封邮件说了这个事情，打探一下是否能多设置一些Sweave选项，比如把`parse()`和`deparse()`函数以选项的形式抽象出来，这样就可以实现既整理代码又保留注释的功能了，不过大叔貌似很忙，回了一封邮件就再也没有音信了，后来由于Michael Friendly对Sweave的一些功能请求在R-help上发了邮件，我们一干人等通过Duncan Murdoch间接了解到Friedrich的确很忙，不过好消息是圣诞节过后Sweave可能会有更新，届时用户可以自行设置图形设备，不必局限在PDF和EPS。但整理代码的事情仍然遥遥无期……唉，还得用硬性Hack的方法。

Martin Maechler前面提过，看到我们开R会，说要向The R Journal交报告啊，回头再跟他谈谈明年R会议的事情。

最意想不到的是，Duncan Murdoch刚才居然给我发个邮件问问题，额滴神啊，这位大叔可是Rtools的管理者、若干个包的作者（rgl等）啊。不过大叔问的是Flash的问题，还好我知道那么一点点，算是能解决。趁此机会，干脆回问两个C语言问题，子曾经曰过：问一个够本，问两个赚一个。
---
title: 冬至饺子
date: '2009-12-22'
slug: winter-solstice-dumplings
---

昨天半夜正欲睡觉，突然看见明天冬至，心想该吃饺子啊，不妨找几个人来我家包饺子好了。拖出鸡逃课（GTalk）一看，Tengfei在线，这家伙吃面食长大的，肯定会来，吆喝了一嗓子，便答应了；继续看别人，阿杜也在，叫上，阿杜说得有mv作陪才来，小子我在这个农村认识的女士加起来可能也就十来个，让我请ppmm这不为难我么……其他人都不在线，于是只好群发邮件。完毕睡觉，躺床上盘算了一下冰箱里的东西，胡萝卜、芹菜、香菇、木耳、猪肉、牛肉、鸡肉都有，一顿饺子宴齐活了。

早上九点多爬起来看没人回邮件，于是一个个打电话，结果大部分都没人接，问起来都回国了。这次又请了Rtist，这位神仙又在忙，再次遗憾。凑来凑去，才凑了五六人。放下电话开始搜饺子馅做法，看完去厨房拿出肉放在外面解冻，泡上香菇木耳，然后开始和面揉面。此前自己吃都是小规模揉面，这次揉上近两斤面，感觉还挺费劲。一盆面揉了二十来分钟，盖上醒着。然后鸡猪牛肉一个个切片切丝切丁，切完兵兵咣咣剁成肉泥，看起来还像模像样。肉快剁完了，大军赶到，帮忙打扫一下洗碗池边上的台面，开始擀面。我继续切胡萝卜小丁拌猪肉、芹菜丁拌牛肉、香菇拌鸡肉，由于还有一位吃素的童鞋，于是蒋老师专门摊了鸡蛋饼，和笋以及木耳拌一块儿做素馅。素童鞋、淑童鞋和阿杜中间还跑去mall逛了一圈，留下蒋老师、Tengfei和我，一个包，一个擀，一个剁，倒也配合默契。包得差不多了那三人还不见回，于是挂一电话说我们已经吃完了，顷刻间三人就杀回来了。我把剩下的香菇、笋和木耳炒了，然后刷锅开煮。

煮起来一锅一锅就快了，勤劳的蒋老师一直在厨房看锅，我们一伙人饿了半天，当然是一通狼吞虎咽。我也没另炒菜，大家就蘸着酱油醋老干妈凑合着吃了。席间大谈特谈“信某哥，不挂科”的事情，神乎其神，每个人都有鲜活的示例。看来我期末考试之前没拜一拜某哥，这次是要惨了。吃完蒋老师还是抢着刷了碗，大家收拾收拾桌子，本来要打牌，结果素童鞋非说困了要回家睡觉，这下树倒猢狲散，一帮人瞬间都溜光了，两副扑克扔在我家，不知道啥时候能派上用场。放了寒假在这农村宅着感觉头上都快长草了，啥活动都没有。本来我是特别不爱张罗活动的人，在这里都张罗两次饭局了。不过听说Bin回国打算带卡拉OK来，看来下学期没事可以吼两嗓子了；Tengfei也有同学带酒，这美帝真是没劲，酒都没得喝，还是天朝人民幸福。

外一篇：最近无意发现一位COS会员的博客，叹息良久。看我COS头目们，一个个有情有义，想一想心里就很有劲头。不过本小子心里也还没理好谱。
---
title: 杯具欣赏：他们眼中的统计学
date: '2009-12-26'
slug: statistics-in-their-eyes
---

事情缘起于[段炼](http://chemhack.com)同学9天前给我看的他的一篇博客：[统计数字是不是拍脑袋出来的？87.53%](http://chemhack.com/cn/2009/12/87-53-stat/)。当时我在考试，没太仔细琢磨这件事情；现在邮件处理到了这一封，于是一层一层链接都打开来看，越看越摇头。这统计学在大家眼中敢情成了找借口的高级工具？抑或凡是有不正常的数字现象，都可以找到可能的“统计学”原因？这也太杯具了。

这个87.53%已经被证实只是个玩笑。在众多（只顾怀疑、相互抄袭、转载、或来路不明的）博客文章中，段炼的角度显然和所有人都不一样，他把所有的百分比数据的搜索频数都下载了下来，大家一看就知道，87.53这个数字本身并没有什么奇怪的，你去搜87.52或87.54都一样。众人纷纷解释这个0.53（100人中哪里来的0.53个人），不知道谁第一个提起了置信区间，总之我刚才看到的杯具有（考虑了一下，不是啥好事，就不给链接了）：

> ……在计算样本容量的时候要考虑一个置信区间的问题，也就是说调查了100个人，但是并不认为这100个人都是认真作答的，因此会在样本容量上再**乘上一个置信度**。

> 置信区间展现的是这个参数的真实值有一定概率落在测量结果的周围的程度。

第一种说法简直错了十万八千里，我闻所未闻，真是木有想到，置信度原来还有这种功效；第二种说法是对置信区间常见的误解；我正欲吐血时，竟然看见了维基百科的身影：[置信区间](http://zh.wikipedia.org/wiki/%E7%BD%AE%E4%BF%A1%E5%8C%BA%E9%97%B4)。这下是真的杯具了，维基上赫然写着：

> 置信区间展现的是这个参数的真实值有一定概率落在测量结果的周围的程度。

显然这句话极富误导性（此处不谈贝叶斯学派的观点），还好该页面底下的理论部分是正确的。杯具继续：

> 通常很少计算某个统计量的点估计值，而是在**控制两类错误**的条件下，计算它的估计区间的上下界。例如我们可以用90%的概率推断，比率落在81.47%~87.53%中（只是描述问题，并无数据依据），然后有时会根据问题背景，**将估计值用区间上界或下界表示**。在本案例中，0.53们认为“支持”是他们想要的结果，**不排除取上界的可能**。

这种冠冕堂皇的话恐怕是领导最喜欢了，什么两类错误啊（Type I & Type II），什么上界下界啊，寡人用名词堆死你。首先，在绝大多数情况下，第二类错误是无法控制的（如备择假设不明确、真实effect size不知道），能知道的只有第一类错误的概率；其次，历史上就没有过用一个置信区间的上界或下界作为估计值的，要么给区间估计，要么给点估计，要是估计值可以随便取，那统计学真的是个大杯具，本来大家只是不相信统计数据，这么整下去总有一天统计理论与方法也会被糟蹋得不像样子的（其实已经被糟蹋得够可以了）。

还有人搬出比率估计啊抽样啊来解释，看着相当的神秘，但问题就是，这个问题本来就不是问题。大家摸象摸到了左前腿，心想世上怎么有这么大一条腿，于是开始解释它，可是还有另外三条腿都很大啊……

总结一点：世上的争论多因观测局部样本引起。

我对段炼的数据倒是挺感兴趣，这是另一个主题，我还没考虑好，打算改天写到[统计之都](https://cosx.org)上去。先简单放两幅图，以搜索gov.cn中的百分比为例。首先是每个百分比对应的频数：

![gov.cn中每个百分比对应的搜索频数](https://db.yihui.org/imgur/Nwekct1.png)

我们能看到，这图中有些“毛刺儿”，显然容易想到，可能是某些“整数位”上的百分比会偏高，那么“放大”一下看看局部吧：

![在长度为1的区间内看搜索频数](https://db.yihui.org/imgur/qkY0WSa.gif)

如果视力没问题的话，很容易感觉到两边总是会出现“凸起”——也就是整数百分比上的频数会偏高。原因是什么，我不知道，也许是官员秘书们习惯不保留小数。

再简单用LOWESS验证一下在整数位和不在整数位上的频数是否有显著差异，由于频数数据本身数量级很大，所以纵坐标取了对数，这图的形状看起来和第一幅图有所不同：

![整数百分比xx.00%上的频数](https://db.yihui.org/imgur/8i6lSdS.png)

这种图可以和协方差分析的思想结合起来看，即：控制了百分比这个变量之后，在整数位和不在整数位上频数的差异如何。两条平滑曲线有明显的高低之分，所以取整的效果还是很明显的。继续看xx.x0%这种取整方式：

![取整为xx.x0%形式的百分比上对应的频数](https://db.yihui.org/imgur/MgdHxc8.png)

它不如上一种取整方式的区别明显，但总的来说，取整和不取整的差异都是很显著的。我试了试直接用回归（协方差分析），发现实在是太难调自变量的阶数了，一元回归肯定是不行，残差图奇形怪状，压根儿就不会是线性关系。

以上都不应该是分析的关键，只是说明一下探索的可能性。真正好玩的应该是这种百分比的频数究竟应该服从什么分布，我也不知道，但至少可以把我天朝的百分比和别的网站的百分比数据做个卡方检验，看分布是否吻合，也就是说，天朝使用百分比的习惯和别人是否有显著差异。

感谢段炼在个人网站中提供了数据下载，使得本文的结果具有可重复：

```r
## 如果段炼不删掉这个数据的话，以下分析可重复
x = read.table("http://chemhack.com/data/googleNums/gov.cn.txt",
    sep = ",", col.names = c("percentage", "count"))
x$round0 = x$percentage %in% seq(0, 100, 1)
x$round1 = x$percentage %in% seq(0, 100, 0.1)

plot(count ~ percentage, x, type = "l")
grid()

library(animation)
saveMovie({
    for (i in 0:99) {
        plot(count ~ percentage, x, type = "l", xlim = i + c(0,
            1), panel.first = grid())
    }
}, interval = 0.5, moviename = "percent-count",
  para = list(mar = c(4.5, 4, 1, 0.1)))

plot(count ~ percentage, x, pch = 20, col = rgb(0:1,
    0, 0, c(0.07, 1))[x$round0 + 1], log = "y")
lines(lowess(x[x$round0, 1:2], f = 1/3), col = "red", lwd = 2)
lines(lowess(x[!x$round0, 1:2], f = 1/3), col = "black", lwd = 2)

plot(count ~ percentage, x, pch = 20, col = rgb(0:1,
    0, 0, c(0.07, 1))[x$round1 + 1], log = "y")
lines(lowess(x[x$round1, 1:2], f = 1/3), col = "red", lwd = 2)
lines(lowess(x[!x$round1, 1:2], f = 1/3), col = "black", lwd = 2)
```

本文也算是相应JD同学的号召，从长时间的Keep on Eating回到正道上。
---
title: 阴差阳错
date: '2009-12-29'
slug: on-the-edge
---

自从来到美帝，生活总是一波三折，有时还七八折。折得我现在见怪不怪了，对“福兮祸之所藏，祸兮福之所倚”有了深刻认识。这人呐，遇见好事不能太得意，遇见坏事也不能太失落，正所谓“不以物喜，不以己悲”。事情来一件解决一件，水来将挡，兵来土掩。今日读到老诗一首：

> If
> 
> Rudyard Kipling
> 
> If you can keep your head when all about you  
Are losing theirs and blaming it on you;  
If you can trust yourself when all men doubt you,  
But make allowance for their doubting too;  
If you can wait and not be tired by waiting,  
Or, being lied about, don't deal in lies,  
Or, being hated, don't give way to hating,  
And yet don't look too good, nor talk too wise;

> If you can dream - and not make dreams your master;  
If you can think - and not make thoughts your aim;  
If you can meet with triumph and disaster  
And treat those two imposters just the same;  
If you can bear to hear the truth you've spoken  
Twisted by knaves to make a trap for fools,  
Or watch the things you gave your life to broken,  
And stoop and build 'em up with wornout tools;  

> If you can make one heap of all your winnings  
And risk it on one turn of pitch-and-toss,  
And lose, and start again at your beginnings  
And never breath a word about your loss;  
If you can force your heart and nerve and sinew  
To serve your turn long after they are gone,  
And so hold on when there is nothing in you  
Except the Will which says to them: "Hold on";

> If you can talk with crowds and keep your virtue,  
Or walk with kings - nor lose the common touch;  
If neither foes nor loving friends can hurt you;  
If all men count with you, but none too much;  
If you can fill the unforgiving minute  
With sixty seconds' worth of distance run -  
Yours is the Earth and everything that's in it,  
And - which is more - you'll be a Man my son!

这Kipling老爷子写了一大通，我总结无非就两个字：淡……！定！

![淡定](https://db.yihui.org/imgur/2R9iyPv.jpg)
---
title: 统计之都新年构想（杂碎篇）
date: '2009-12-31'
slug: cos-in-2010
---

在家宅得快发芽了。这几天考虑着COS的发展计划，每次想这件事都觉得脑子里的想法装不下了，可每一个想法的实施往往至少要一年时间，甚至两三年都没法实现。在2010年，我希望可以实现下面这些事情。本文写得不是一般的意识流，读者慎阅：

1. 全面提升网站功能，主要包括对三大软件的支持：
    1. <del>SVN</del>GIT：目的在于会员合作，大家可以共同编写一些小册子，<del>SVN</del>GIT使得工作可以并行而不会互相牵制、依赖。按胡子同学的IT小小鸟模式，我觉得COS的会员们根据COS论坛的帖子足以合力写出好几本统计小小鸟了。

        ```sh
        ## need libapr, libapr-util, then subversion
        wget http://apache.cs.utah.edu/apr/apr-1.3.9.tar.gz
        wget http://apache.cs.utah.edu/apr/apr-util-1.3.9.tar.gz
        tar -zxf apr-1.3.9.tar.gz
        cd apr-1.3.9
        ./configure --prefix=$HOME/bin/apache/apr
        make & make install
        cd ..
        tar -zxf apr-util-1.3.9.tar.gz
        cd apr-util-1.3.9
        ./configure --prefix=$HOME/bin/apache/apr-util --with-apr=$HOME/bin/apache/apr/
        make & make install
        wget http://subversion.tigris.org/downloads/subversion-1.6.6.tar.gz
        ## tar, cd, then
        ./configure –prefix=$HOME/bin/subversion –with-apr=$HOME/bin/apache/apr –with-apr-util=$HOME/bin/apache/apr-util

        ## SVN把老夫折腾得接近崩溃，终于痛苦地转向GIT
        wget http://kernel.org/pub/software/scm/git/git-1.6.6.tar.gz
        tar xf... & ./configure & make & make install
        ```

        习惯了用SVN，但过去一直是用别人的服务，轮到自己架设SVN服务器才知道这叫一个崩溃，其实主要原因可能是因为自己没有root权限，未必真的那么难。由于是用别人的服务器，只好转向GIT。
        GIT安装使用都没问题<del>，而且貌似服务器上都不用装GIT……现在一个有挑战的问题是：GIT通过SSH从服务器上读写文件，而我们的服务器上貌似不能设置多种SSH登录权限，即：只要有Key，就可以SSH进去任意操作。大家要是都守规矩保证不乱动服务器当然最好，万一某天某些童鞋不小心对服务器上别的东西误操作了咋办，这个问题目前还不好解决……</del>昨晚睡觉想到一个办法，把真正的GIT服务器放到别的地方去（比如GitHub），然后在COS服务器上定时运行`git clone`，这样就解决帐户问题了。

    2. LaTeX：要正儿八经写东西怎么能不用LateX呢？

        ```sh
        ## install texlive from internet
        wget http://mirrors.med.harvard.edu/ctan/systems/texlive/tlnet/install-tl-unx.tar.gz
        tar -zxf install-tl-unx.tar.gz
        cd install-tl-20091229/
        ## need configuration here
        ./install-tl
        export PATH=$PATH:$HOME/bin/texlive/bin/x86_64-linux
        export MANPATH=$MANPATH:$HOME/bin/texlive/texmf/doc/man
        export INFOPATH=$INFOPATH:$HOME/bin/texlive/texmf/doc/info
        ```

        据说texlive对中文支持很好，有待测试。有了LaTeX之后，结合R/Sweave以及GIT、cron job就可以在服务器上定期生成动态PDF文档了。有一朵“云”前两天给我Email说计划写计量与R的书并免费公开发布，我心想这个事情可以作为COS书籍的第一个项目，大家有钱的捧个钱场，没钱的捧个LaTeX场。

    3. R：当服务器端支持R之后，便可以实现很多想法了，上面写书是其中之一；还可以建设Rweb，或者让维基页面支持动态生成R运行的结果。

        ```r
        ## need freetype-2.3.7.tar.bz2, expat-2.0.1.tar.gz, fontconfig-2.4.2.tar.gz, cairo-1.4.14.tar.gz, glib-2.12.12.tar.bz2, pango-1.16.4.tar.bz2, libpng-1.2.29.tar.bz2
        ## dependency
        pango <-- cairo + fontconfig + glib
                              ^
                              |
                     freetype + expat
        ## environment variable
        export TMPDIR=~/tmp
        export PKG_CONFIG_PATH=$HOME/bin/fontconfig/lib/pkgconfig/:$HOME/bin/freetype/lib/pkgconfig/:$HOME/bin/libpng/lib/pkgconfig/:$HOME/bin/cairo/lib/pkgconfig/:$HOME/bin/pixman/lib/pkgconfig/:$HOME/bin/glib/lib/pkgconfig/:$HOME/bin/pango/lib/pkgconfig/
        ./configure --prefix=$HOME/bin/R
        make & make install
        ```

        还是没有root权限的原因，装R可是费了牛鼻子劲，关键是png和cairo配不好，如果不装这两个图形设备的话，其实R还是很容易装的。现在好不容易根据一大摞依赖关系配置好了，又发现`png()`中pango的字体库貌似有问题，不能支持文本生成，再次崩溃。没有`yum`或`apt-get`的世界一片漆黑，一切都得从头编译。

2. 整顿论坛，精兵简政
    1. 大规模删帖+编辑帖子。我过去一直没有公开讲我的一个想法，就是我希望这个论坛是帖子数最少和注册人数最少的论坛（前两天写在主站的“关于”页面中了），原因同德鲁克说的公司企业管理类似，一个好的企业应该是看上去平淡无奇的，没有什么轰轰烈烈的事情发生，因为其内部已经井然有序了。我认为一个论坛如果帖子数目**过多**，只能说明这个论坛的管理太差，帖子质量太低。如果有强大的管理系统，帖子应该被经常整理，比如汇编成册，让后来者无需注册、无需发帖。如果一个访问者到了一个网站，被迫要注册（更恶劣的是盛行的积分制度）发帖才能解决他/她的问题，那么我并不看好这个网站的价值。大多数论坛用各种手段拼命攒人气，我想其理念绝非为访问者服务。我们要果断舍弃短期利益（如广告），放长线钓大鱼。

        太云还有fan等编辑部成员得好好琢磨一下，然后广泛招兵买马，准备下学期有所行动。至于整理的形式，我想一方面可为主站服务（发文章），另一方面视整理的规模与内容可考虑朝出版的方向走。

    2. 精兵简政的意思是我一直认为目前的PHPWind论坛系统过于臃肿，想投奔bbPress，这一点半年前已经和颜林林及其他版主们沟通过，可惜我当时没顾得上测试颜林林的SQL脚本，前两天试了一下，发现还是有问题，等他考研结束再说（在此顺带为他烧高香愿考研顺利）。
        当今网上的论坛系统都有个特点，就是越做越复杂，进了后台一看铺天盖地的选项简直他娘的昏了头，论坛就是个发帖的地方，整那些回帖才能看帖的东西干嘛，还有那山寨校内系统，搞得论坛成了四不像，还有各种论坛币，我最不愿看见的帖子就是问各种积分怎么挣，有这时间，找本书自己都能想出问题的答案了。

        bbPress是一套极度简练的系统，在前台基本上除了发帖就什么功能都没有了，后台则可以有Askimet等插件支持，注册的时候有判断机器人的程序，注册的密码会发送邮箱，这几大杀手锏应该足够杀掉大多数广告。bbPress的会员身份只有有限的几种：普通会员和版主及管理员，版主不分是哪个版的版主，这样所有的版主都可以管理任意版块的帖子，这一点便可提升管理人员的效率。它默认没有bbcode，这一点我也很喜欢，我现在觉得bbcode是人类代码史上最糟糕的发明，有写那代码的功夫，用原始的HTML早写出来了。

    3. 论坛数据库应该dump下来做做统计分析，我们天天用统计解决别人的问题，为什么不统计一下自身呢？总是不知道该怎样任命版主，其实分析一下会员数据库，看看谁发帖多、在线时间长、登录最频繁，候选人也就很明了了，剩下的便只是“人际公关”问题；当数据积累多的时候，也许能分析出很重要的信息，地球人都知道统计里面有大数定律，但面对海量信息就想不起来这“大数”有什么用。像bit.ly等提供网址缩写服务的网站，它们没法打广告，靠什么吃饭？只能靠分析大家缩写了哪些网址看大家在关心什么，有了信息就有了财富（几乎是单变量的数据啊）。我们能否通过分析R版块的帖子IP来寻找一个合适的明年R会议的地点？能否文本挖掘一下大家关心的统计方法，成立一个相应的专门的统计咨询小团队（给自己挣点口粮或完全免费只当锻炼自己了）？能否统计出会员登录时间的规律，专门安排定期的网上答疑？……

3. 加强与主站作者的联系，让大家有主人意识，并挖掘更多稿件来源

    1. 目前主站看起来像模像样（某几位领导数次大赞之），但没达到我的预期，这里面的原因我想还是和作者们没有建立常态联系，大家没有自觉写作的意识，这是管理的问题。我对人的假定是，不贡献是对的，但不去挖掘他可能的贡献的话则就是管理者的不对了。我知道作者们并非写不出文章，只是没有人去给出这种“刺激”。谁（们）来做这件事呢？

    2. 关于文章的方向与内容，我一直在思考松鼠会的模式。但统计这种“科学”，有多少内容能和人民大众的生活联系起来并引起他们的兴趣？现在提起统计，人们的反应就是“tmd都是假的”。Numb3rs这种剧肯定远比不上那越狱之类的剧流行，但我们的目标也不必定位在广大人民群众，没必要真做到老妪能懂的地步。技术文、科普文都得抓。从论坛到主站的渠道一定要打通（如同“营销4P”中的“渠道”），还得有几双眼睛观察身边的统计。

    3. 我相信主站文章的水平超越期刊是迟早的事情，看看现在那《统计研究》整个儿就是本《经济研究》，苏联模式的统计对我中原统计的影响真是根深蒂固。很早以前我就对经济类统计论文形成了一个阅读观点：翻开论文，直接看最后一节，如果那里面的结论和建议看起来就像某届某中全会的讲稿，或者宏观得不着边际，或者压根儿就是常识，那就不要看了，里面的统计方法只是找借口的工具而已，可惜以我坐井观天的阅读，很多论文貌似都属于这一类。当你看一篇论文，用了一大堆你懂或不懂的模型，这边际弹性啊，那N阶段最小二乘法啊，最后说（我不给出处了，客官也勿搜，我只是随便举一例）：

        > 本研究的实证结果表明，改善这些地方的营养状况和医疗卫生条件，将会极大地有助于这些地方农民收入的增加。


        你老实说，你有没有想抽他的冲动？MD，农民有钱吃燕窝有钱看病了，他收入能不增加么？

        纸质期刊的诞生历史原因之一是印刷太贵，只能选择一些论文来印刷、分发，如今期刊的功能发生了本质性变化，我们要重新考虑纸质期刊究竟有多大的存在必要性？之所以想到这些问题是因为前些日子看到这篇文章[Why Journals?](http://blog.repec.org/2009/12/16/why-journals/)，甚合我意。

        主站文章不仅要力争超越期刊，而且应该充分发挥网络平台的优势，即：可随时修改、改进，有无数的匿名“评委”在读这篇文章，有用没用大家可以马上反馈。

    4. 我作为捣鼓了几年网站的人，眼睛对网页比较挑剔，有点容不得不规范的格式。主站的文章一定要有一个熟悉HTML的编辑队伍，把文章打理得漂漂亮亮、干净利落。

4. 维基新模式

    1. 维基站是COS中最难打通的关节，这玩意儿必定起步困难，而且运营起来也会很费力，要不然那Wikipedia怎么天天喊着募捐几百万呢。过去的一年多里大家也看到了，COS维基几乎没有任何动作。原因之一是到现在还没设计好发展方向，过去陆陆续续有些会员对此表示了兴趣，但我自己都不知道该请他们做什么。最近与一位Yifan老兄邮件往来，渐渐有了些启发。既然Wikipedia已经发展很成熟了，我们就没太大必要去按那种传统的词条解释的道路去走，我的想法是，也许可以把R嵌入这个维基，发挥它的统计计算与作图功能，把那些词条用一些计算和图示来解释（比如置信区间），并提供相应的R代码，读者甚至可以动态编辑代码看演示。

    2. 关于内容，过去想把R的函数帮助都翻译进来，现在看来没有这个必要，因为我觉得这个工作的价值有限；另外，翻译软件Manual还不如重写，对翻译的东西，大多数读者恐怕永远只有一条意见，就是“tmd翻译得太差了，还不如看英文”。我们仍然可以从论坛中挖掘会员关心的概念，比如标准差/标准误什么的，当这些帖子的问题被回答之后，就应该有人将它收录到维基中。问题依然是，谁（们）来做这件事呢？

5. 高校联系人何去何从
    本来这个想法是为了促进国内高校统计专业之间的交流，现在看来恐怕是很困难。一来，善用网络的老师不太多，老爷子老太太就甭指望了，年轻老师貌似也很忙，哪顾得上来这小庙发发帖；二来，我们至今没有找到一个领头羊，改革开放还得先有试验呢，咱这小庙要发起一项行动，必然也得先建好一个模板。高校联系人报名人不少，但我疏于管理和安排事情，各位参加的童鞋可能就更不知道该干啥了。咋个办。

6. 英文论坛暂缓

    这论坛起步啊，就一个字：难。

7. 整个网站的文化建设

    耐着性子看到这里的客官一定最终忍不住了，是不是在默念“丫一定疯了”或者“丫太扯淡了”……我也不是纯粹扯淡（意即：有扯淡成分）。世上能人有很多，让能人能聚到一起并创造价值，靠什么？长远来看，只能靠文化。短期可以以利益驱动，可我们这一小破穷网站，拿啥给人家，啥都木有。人家凭什么要在这穷破地方呆着？统计的学习交流只是一方面，除此之外，我希望营造一种COS文化，具体是什么，我也说不清，也许它往大了说包含人的修养修为，往小了说包含在力所能及的时候要帮人一把、或者乐于分享你的有用经验经历，往粗了说包含立志肩担引领一门学科的发展，往细了说包含对某种统计模型的使用有自己的主见而不随波逐流。

    这些玩意儿都是玄而又玄的东西，说出来容易被人嗤之以鼻。比如我说要十年磨一剑，也许没几位客官会想，靠，你小子真的要从2006年磨到2016年啊？我倒是想回答一句“嗯呐”，不过这话不能公开讲，怕误导不明真相的群众。

    这文化建设先从头目抓起，形式呢，可以随意一些，我个人非常不喜欢宗教式的文化建设。不知从何时起，北京一些餐馆饭店也开始了“文化建设”，每天下午四五点，哗啦啦厨师杂役全叫出来，排成三排，大家齐喊“为XX服务”之类的口号，我估摸着也许是喊给路人听的吧，要真有那心，早该体现在店里有没有苍蝇、服务员有没有微笑、大厨有没有在菜里放铁丝上了。COS要建设文化，可以通过定期分享点小文章资料等方式实现。总之，这件没谱的事情要尽量淡定，莫走过头了。一帮乳臭未干的小子和黄毛丫头，还是老老实实做事比较靠谱。

    目前天朝的网络环境貌似令人担忧，我心里很没底，估计封站也是说不准的事情。到那时，这些想法都成了彻底的扯淡。万一发生这种事情，啷个儿办呢？
---
title: t检验方差不齐有多重要
date: '2010-01-05'
slug: unequal-variance-in-t-test
---

传统统计教科书大多会提及t检验中方差齐性这个问题，因为检验的假设条件是需要总体方差相等的。然而这个问题实际上可能并没有人们想象的那么重要，这里给两个简单的数值计算结果，看看方差不等对检验结果有什么影响。

```r
par(mar = c(4, 4, 0.5, 0.5), mfrow = c(1, 2))
set.seed(123)
plot(pval <- t(replicate(1000, {
    x1 = rnorm(100, mean = 0, sd = runif(1, 0.5, 1))
    x2 = rnorm(100, mean = 1, sd = runif(1, 2, 5))
    c(t.test(x1, x2, var.equal = TRUE)$p.value, t.test(x1, x2,
        var.equal = FALSE)$p.value)
})), xlab = "P-value: equal variance", ylab = "P-value: unequal variance",
    pch = 20, asp = 1)
abline(0, 1)
plot(pval[, 1], pval[, 2] - pval[, 1], xlab = "P-value: equal variance",
    ylab = "Diff of p-values (unequal var - equal var)", pch = 20)
```

过程是：从两个正态总体中生成样本，第一个总体均值为0，标准差随机取自`U(0.5, 1)`，第二个总体均值为1，标准差取自`U(2, 5)`，显然两个总体标准差不相等，那么在t检验时设定和不设定方差相等的选项对结果有多大影响？把两种情况的P值都画出来：左图是原始P值，可见基本在对角线上，说明大致相等，若眼神儿不好，可看右图，即P值的差异，可见方差不等时P值偏大（原因很简单，因为Welch校正的自由度小于等于不校正的自由度，样本量相等的时候统计量的分母即标准误一样，因此统计量完全一样，自由度越小，P值越大嘛），但大多少呢？其实也没大多少。

![方差齐与不齐时t检验的结果对照](https://db.yihui.org/imgur/qbDNNBn.png)

Welch/Satterthwaite当然不是吃饱了没事干，要校正自由度当然也是有用武之地的，尤其是当样本量严重不相等时，这两者的结果就差远了。把第一个样本量改成10，然后如法炮制：

```r
par(mar = c(4, 4, 0.5, 0.5), mfrow = c(1, 2))
set.seed(123)
plot(pval <- t(replicate(1000, {
    x1 = rnorm(10, mean = 0, sd = runif(1, 0.5, 1))
    x2 = rnorm(100, mean = 1, sd = runif(1, 2, 5))
    c(t.test(x1, x2, var.equal = TRUE)$p.value, t.test(x1, x2,
        var.equal = FALSE)$p.value)
})), xlab = "P-value: equal variance", ylab = "P-value: unequal variance",
    pch = 20, asp = 1)
abline(0, 1)
abline(h = 0.05, v = 0.05, col = "gray")
plot(pval[, 1], pval[, 2] - pval[, 1], xlab = "P-value: equal variance",
    ylab = "Diff of p-values (unequal var - equal var)", pch = 20)
```

![方差齐与不齐时t检验的结果对照（样本量不同）](https://db.yihui.org/imgur/1daOT3m.png)

这文章，上COS主站寒酸了点，有人能扩展一下就好了。不过这个过程倒是可以提醒广大人民群众避免“路见不平一声吼，吼完继续往前走”，尤其是懒得翻公式的人（像我这样），遇见问题，可以偷懒用计算的方法找答案。

附“大家来找茬”一则：第二次的代码和第一次有啥不一样（除了样本量变了之外）？为啥有这么个变化？这小子想干啥？
---
title: 有多少统计可以重来
date: '2010-01-08'
slug: how-many-statistics-are-reproducible
---

前几天看见这么一则报道，一直挂在我的浏览器中没有关掉：[研究者称全国论文买卖去年销售额近10亿](http://news.sina.com.cn/c/sd/2010-01-05/004319397311.shtml)。初看这报道，心里弱弱地念了一句“[骂了隔壁的](http://www.baidu.com/s?wd=%C2%EE%C1%CB%B8%F4%B1%DA%B5%C4)”，你说说，这是谁在逼谁，这又是何苦要逼死这些“作者”们。难以理解。我觉得世上难以理解的事情只有两种，一种是纯粹的2，一种是精明之极。此处不展开。

之所以今天才写这事，主要是昨晚遇到了类似的事。有些老板要发论文，就逼学生分析数据，分析之前的结论都想好了，你就照着这个结论分析吧，还得人模狗样参考英文论文，论文三页纸，英文参考文献二三十篇。学生被逼急了只能造假，懂统计的可以高级造假（比如删掉几个数据使得检验显著），不懂统计的就低级造假（纯粹编假数）。老板可能也是被逼的，没论文没职称没钱没地位。经济方面的论文，编就编吧，反正大家都知道是假的，造个假数对大家都没影响；可这医学方面的论文，造数是不是不大好呢？如果论文跟治病救人没关系，那发论文就是堆垃圾了，何必要逼人发表；如果有关系，那这作者们良心何在？

回到我在[统计之都新年构想](/cn/2009/12/cos-in-2010/)中关于主站的目标一节：为什么期刊有存在的必要？为什么世上只有发表论文这一种指标来衡量人的工作和贡献？论文这个泥坑，学者有学者的痴狂，南郭先生有南郭先生的狡黠。跟买房一样，群体非理性，全然不顾是谁在背后蘸着口水数钱。

统计这玩意儿，一日不形成“reproducible”的规则，一日研究不成大器。

最后看个无关的短片，看什么叫“彪悍的人生不需要解释”：

<iframe src="https://embed.ted.com/talks/pranav_mistry_the_thrilling_potential_of_sixthsense_technology.html" width="560" height="315" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>

对他这样的人，有没有必要用论文证明什么呢？
---
title: 又说可重现的统计结果、扫叉打叉、高考、useR、严师
date: '2010-01-12'
slug: reproducibility-etc
---

本人怀着阴暗心理于今日公交车上翻[IMS Bullutin的第39卷第1期](http://bulletin.imstat.org/pdf/39/1)，不幸看到第5页，又是一例统计结果不可重现的例子。一帮人，用可公开获得的数据获得了惊天的成功，到头来被人指责结果不可重复，而且不是一点半点不可重复，后人说的是_results are no better than chance_，嘿嘿，我心里冷笑着。你说说，他整一方法，号称威力无比，其实跟抛硬币得出来的结果没啥区别；这病人得没得癌症，抛个硬币决定吧。

难道这就是传说中的随机数发生器？又想起有些人用上百个变量做回归，这也是随机数发生器的一种，找出几个带显著性星号的系数不必欣喜若狂，要是找不出那才奇怪了呢。呜呼。

打开新闻瞅了一眼，差点笑喷，某大学生看来难逃被人肉的厄运了，举报32家XX网站，获奖万元，牛啊牛，IT民工和码农们都别敲代码了，赶紧打听XX网站的网址去吧。这次扫叉打叉，真是让广大人民群众长了不少见识，上头主动把XX网站都送上门来了。不知道到底是在打呢，还是在普及……脑残不是一点半点啊。我一直在想的是，突然掀起这么一场风暴，背后一定有更深的原因，也许过两年就知道了，看是谁在笑着数钱。

又扬言高考要取消。话说当今各社会阶层的防线越来越牢固，咸鱼翻身跳龙门本来就没几条路，要是高考取消了，看似推翻了一条不公平的路，但接下来的只能是更不公平。新闻没意思，不看了。

R官方发言人日前对我中土大唐的R会议的网址和邮箱表示了强烈不满，因为我们用了useR的字样。此事我是很不能理解，虽然我一向敬重各位老大们，但小弟们只是在网址和邮箱名中用一下useR字样（如useR-2010@cos.name），又没自称我们是useR!会议，何妨呢？某老大说，你小子懂个屁！这是基本的礼貌问题，明白？小的仍然百思不得其解，这咋就成了礼貌问题呢。于是继续弱弱地问老大们，那咱不用useR，而是用user，中不？邮件扔过去，等待老大血溅三尺的回复。

这学期几门课估计要折磨死老夫了，最崩溃的肯定是那高等统计推断，这课的老爷子原籍应该是德国，在本系“以用数学技巧折磨学生为荣”。说老实话，我不喜欢这样的老师，很是不喜欢，加上我本来就不喜欢数理统计之前的数学理论，这课我看是悬了。他的[Teaching Philosophy](http://www.public.iastate.edu/~vardeman/teach.html)我看着瘆得慌，每句话都像要拯救宇宙和人类灵魂。这课不发笔记，所以必须自己手抄，课程大纲在不断变动中，而且更新不会通知我们，所以要自己常看。常言道，严师出高徒，这事儿不知道是否有验证，反正有些严师我不喜欢。牢骚归牢骚，课还得上，即使是永久性脑损伤，也得先损着。我还犹豫着有些问题能不能问他，比如他某次考试中求 `\(\left(\cos(t/\sqrt{n})\right)^n\)` 的极限能不能直接取个大`n`算一下结果算了，反正也差不多，为啥非得找个技巧去证明。不过我估计他听到这种话一定火冒三丈一脚把我踹飞……

罢了罢了，本站本学期将进入极度缓慢更新期。最后顺祝某大领导一路顺利，平安归来。
---
title: 特别致谢颜林林对COS的贡献
date: '2010-02-02'
slug: a-big-thank-you-to-linlin-yan
---

COS史上有几位不为人知的幕后英雄，而我从没认真记载过这些事情，时间一长，各种事情堆满了脑子，也不会再去回顾。如今，我必须记下颜林林。以下截图部分反映了他在迁移论坛过程中的贡献：

![](https://db.yihui.org/imgur/JnnzlV3.jpg)

这事情起源于去年暑假，当时我提出了更换PHPWind系统到bbPress的想法，这位颜小侠很快就研究了PW和bb的数据库结构并写了一个初步的MySQL脚本发给我，而我处理邮件的速度各位客官可能也有所耳闻……过了半年，我测试了这个脚本，发现并不顺利，于是颜林林重新开始修改脚本。众IT民工都知道，即使是自己写的程序，过三个月不看，感觉也像是别人写的。不过颜林林的计算机水平在我看来已经有天外飞仙的感觉了，三下五除二，又发回了修改的版本，然后就是我无休止的改进建议以及Bug修正。截止到记者发稿为止，新的论坛已经克服了我所能想象到的主要障碍（用户名密码顺利迁移、用户权限顺利迁移、帖子id保持不变顺利同步、数据库编码从GB2312顺利转为UTF8、bbcode算是顺利转换……）。每个问题我看着都觉得头皮发麻，但他的每一种解决方案都聪明得“令人发指”。

如果没有这样一位天才存在，换系统这件事我也只能在脑子里冒泡想想而已。

既然已经剧透了这么多，现在可以给个网址开始小范围公测了：<https://cosx.org/cn/>。注意，暂时不能注册，不能发帖。欢迎提供反馈意见。其实这系统也没什么好看的，确实没什么可看的，它只能用来看帖发帖，版主只能删帖修改移动或举报垃圾广告。换句话说，它真的是个论坛了。

COS能有发展的动力，靠的就是这样的奉献精神。而我也诚惶诚恐，怕浪费了大家的时间精力。前几天，[科学松鼠会采访一位伯克利统计学博士海龟](http://songshuhui.net/archives/33007.html)，他竟然提到了统计之都网站，此事反映出COS在民间的影响力已经有一定厚度了（尽管一直采取不主动宣传的策略）。如小邱所说，“有点意思了”。诸位老大加油吧！
---
title: 关于LaTeX + LyX + R/Sweave + pgfSweave + PDF图形的若干中文问题
date: '2010-02-08'
slug: misc-issues-in-latex-lyx-r-sweave-pgfsweave
---

> 2013/02/05更新：本文已经严重过期。pgfSweave包基本上已经进入不维护的状态，我的[knitr包](/knitr)已经可以完全替代它；LyX已经有大规模更新，本文提到的问题都已经在官方版本中解决，所有暗黑招数都已经没有必要。参见[以下视频](http://www.screenr.com/embed/SvL8)：

> <iframe src="https://www.screenr.com/embed/SvL8" width="550" height="335" frameborder="0"></iframe>

我不确定这是不是R和Sweave能达到的最漂亮的境界：[一份由pgfSweave生成的人模狗样的动态文档](https://bitbucket.org/stat/www/downloads/lyx-pgfsweave.pdf)。

这两天花了点时间，把跟LaTeX、LyX、Sweave有关的一系列中文问题从头到脚翻了个遍，目前为止，明白并解决了如下问题（基于带有MikTeX 2.8的CTeX 2.8.0.125、LyX 1.6.5、R 2.10.1、R包pgfSweave 1.0.3，操作系统Win XP，从头到尾一直用UTF-8编码）：

1. （**LaTeX说中文了**）LaTeX生成可复制粘贴的中文PDF文档：由于我的惰性，还用着N年前的CTeX，那个老版本CTeX中的MikTeX貌似一直有问题，比如无法更新LaTeX宏包，更不必说那些`dvipdfmx`之类的程序了，估计人家作者都已经更新了无数个版本我还不知道。在我陈旧的印象中，要用LaTeX生成可复制粘贴的中文只有一种办法，就是用`dvipdfmx`把dvi转为pdf，而我陈旧的印象又记得dvi文件只能由`latex`命令生成，并且用`latex`编译的文档必须用EPS图形，这一直让我觉得很不爽，因为我实在不爱用EPS，比如R的`postscript()`设备（可生成EPS图形）不支持半透明色，而且图形中要用中文字符的话配置非常麻烦（N年前我请教了Paul Murrell，虽然搞明白了，但心里仍有疙瘩）。我的偏好是用`pdflatex`命令编译文档，图形也用PDF格式（`pdflatex`默认支持PDF和PNG图形），用R生成PDF图形也方便、漂亮，所以配合Sweave很容易生成一篇干净利索的PDF文档；但`pdflatex`命令直接编译生成的中文文档中，中文字符是不能复制粘贴的，因为复制出来就是乱码。所以呢，我陈旧的知识让我的这个“麻烦问题”一直没有得到解决。

    现如今，发现CTeX已经把MikTeX更新到2.8了（其实早注意到了，就是懒得卸载几百兆的程序然后再下载几百兆的家伙装上），吭哧吭哧下下来发现自己的老问题早已不存在了……虽然我不清楚ctex宏包的细节，但总归是pdflatex可以编译生成可复制粘贴的中文文档了。

    ```tex
    \documentclass[twoside,UTF8]{ctexart}
    \usepackage[T1]{fontenc}
    \usepackage{CJKutf8}
    \usepackage[letterpaper]{geometry}
    \usepackage{esint}

    \makeatletter
    \usepackage{Sweave}

    \makeatother

    \begin{document}
    \begin{CJK}{UTF8}{}%

    \title{你好，中文}
    \author{我是作者}
    \maketitle

    \setkeys{Gin}{width=.8\linewidth}

    <<setup>>=
    pdf.options(family='GB1')
    @

    我是正文。

    \begin{figure}
    \begin{center}
    <<rnorm,fig=TRUE>>=
    rnorm(10)
    plot(rnorm(25), pch=1:25, main='中文字符',
         xlab='$\\alpha + \\beta$', ylab='$\\gamma$')
    @
    \end{center}
    \caption{一幅pgfSweave图}
    \end{figure}
    \end{CJK}
    \end{document}
    ```

    于是，中文文档可以嵌入PDF图形了，Sweave文档也可用中文编写了。我们要大力感谢`ctex`宏包的作者们为我们解决了各种中文配置问题。

    有客官也许要问，可复制粘贴的中文文档有那么重要么，一份中文文档可以正常阅读不就可以了么？是滴是滴，可复制粘贴很重要，我的关注点是放在网上的中文文档能否被搜索引擎正确收录。要是它本质上都是乱码，别人就无法通过搜索引擎找到你的东西了。这年头，平民百姓自个儿的网站的访问来源大部分都是来自于搜索引擎，别人要是搜不到你的东西，咋可能来敲门呢。不来敲门，咋会有后面更多的机会呢？

2. （**LyX基于LaTeX说中文了**）LyX使用ctex系列的layout：ctex宏包提供了三种基本的文档类，即论文、书籍和报告，这让我们写中文文档更符合中文习惯，一些英文名称比如Figure会变成“图”、Abstract会变成“摘要”，等等，让我们省去了大量的重命名工夫。

    我大约用了三四年时间LaTeX，辛辛苦苦敲代码啊敲代码，直到有一天发现了LyX。可以说大多数有界面的文本编辑器都跟MS Word一个德行，为了所见即所得，大大牺牲了质量，用了LaTeX的人大多会“中毒”，看别的什么排版都是垃圾，但LyX绝对是个例外，它聪明地提供了导入导出LaTeX的功能，虽说它也算是所见即所得，但它自己不干排版的事情，而是把这事儿交给LaTeX去办，排版质量当然没得说了。

    要在LyX中能够通过界面点选使用`ctex`的文档类的话，得自己先写几个`*.layout`文件放在`Resources/layouts/`目录下，比如要用`ctexart`类：

        #% Do not delete the line below; configure depends on this
        #  \DeclareLaTeXClass[ctexart]{article (CTeX)}

        # Read the definitions from article.layout
        Input article.layout

    存为`ctex-article.layout`，然后Reconfigure一下LyX，重启，就可以在`Document-->Settings`中选择这个类了，记得把语言设置为中文。这样，在LyX中就可以直接编译生成可复制粘贴的中文文档了。

3. （**Sweave基于LaTeX和LyX说中文了**）联合ctex宏包直接用LyX写中文Sweave文档：[CRAN上有关于如何配置LyX使之支持Sweave](http://cran.r-project.org/contrib/extra/lyx/)，所以很容易模仿一个新的layout文件，让LyX支持中文Sweave文件，比如就叫`ctex-article-sweave.layout`吧。

        #% Do not delete the line below; configure depends on this
        #  \DeclareLaTeXClass[ctexart, Sweave.sty]{article (Sweave CTeX)}

        # Read the definitions from literate-article.layout
        Input literate-article.layout

    现在，我们就可以在菜单中选文档类为`article (Sweave CTeX)`了，当然我们要首先保证`ctexart.cls`和`Sweave.sty`都能被LyX找到（可以采取任何手段把R目录下的texmf下的Sweave.sty复制到LaTeX宏包的目录中去），否则这个选项会显示为unavailable。

    接下来，我们就要遇到点麻烦了：这里的看官的Windows系统恐怕都是中文环境，codepage是936，而Sweave读文件时需要正确的编码参数，你要是直接把中文的Rnw文件扔给它，它会把所有多字节字符转化为空白或者NA。所以呢，我们要稍微配置一下R的启动选项，比如在`Rprofile.site`文件中加上`options(encoding = "UTF-8")`，这样Sweave就能正确读入UTF-8编码的文件了（实际上这影响的是`readLines()`）。

4. （**动态的R图形基于Sweave、LyX和LaTeX说中文了**）R的`pdf()`图形设备是可以支持中文字符的，只不过要设置`family = "GB1"`参数，比如：

    ```r
    pdf(family = "GB1")
    plot(1, main = "我是中文，哇哈哈哈", xlab = "顶楼上的！")
    dev.off()
    ```

    这个参数可以用`pdf.options()`函数事先设定，因为我们无法用Sweave的选项去指定`pdf()`设备的family参数。

    然而，悲剧就在于这种方式生成的R图形中，英文字体很难看，瘦高瘦高的。所以我们需要对PDF图形进行某种处理。

5. （**动态的R图形基于pgfSweave、LyX和LaTeX说漂亮的中文了**）pgfSweave包提供了一种解决方案，就是把PDF图形转化为tikz格式（不甚了解，应该类似于pictex吧），然后插入LaTeX文档，这样图形中的所有文本都会被当做原始的LaTeX代码处理，其后果就是PDF图形中的文本格式将会LaTeX文档完全一致，包括数学公式！！比如我最开头的那段Sweave代码中，标签用了LaTeX数学公式，这些东西会被转化为原汁原味的LaTeX公式。

    要想让LyX支持pgfSweave，目前我只能通过暴力修改Sweave的converter，定义为 `R --verbose --no-save --no-restore -q -e "library(pgfSweave); pgfSweave('$$i', compile.tex=FALSE)"`，这样pgfSweave负责运行R代码并生成tex文档，然后LyX会自动将tex编译为PDF。

    至此，我们能够在ctex、LaTeX、R和pgfSweave的支持下用LyX创建**可复制粘贴中文的、动态的、能使用带有中文字符和原生LaTeX数学公式的PDF图形的**PDF文档。显然，这路途颇有些曲折，不过一番周折之后，想想以后写中文的东西只需要点几下鼠标，就能用R生成漂亮的PDF文档，心里还是很舒坦的。我写东西很是受排版影响——只要版式漂亮，俺就有无穷的写作动力。

几点附注：

1. 我用UTF-8编码的原因是它比较通用，尤其是这次论坛搬家，要是没有颜林林想出办法解决了从GB2312到UTF-8编码的转换，我真是被编码问题愁死了。打这以后，能用UTF-8一律用UTF-8，管它占用空间大小呢。再者，后面我还想大规模使用GitHub，那网站也是UTF-8的，为了源文件在网站上能正确显示，也必须用UTF-8编码。
2. CRAN上关于LyX的配置（literate-scrap.inc）被我拿来修改了，主要是更改了Scrap的定义，我很不喜欢原作者关于换行符的定义，必须用Ctrl+Enter，使得老夫在LyX中敲R代码很不爽，而且没法跟别的编辑器互相复制粘贴，现在我可以自由自在地敲R代码了。
3. Sweave到pdfLaTeX的转换器从`R CMD Sweave $$i`改为了`cp $$r/*.{r,txt,pdf} ./ & R --verbose --no-save --no-restore -q -e "library(pgfSweave); pgfSweave('$$i', compile.tex=FALSE)"`，原因是LyX会把文档复制到一个临时目录下编译，这一点我觉得挺不好的，尤其是写动态文档时，有些数据文件或者R代码需要在文档中使用，但LyX不会把它们全都复制过去，所以R代码运行时会出错，所以我人为加入了复制*.r/*.txt/*.pdf文件到编译的目录中去的命令，然后用命令行的方式执行R，执行的内容是 `library(pgfSweave); pgfSweave('$$i', compile.tex=FALSE)`，这段代码可以用-e参数传给R；设定compile.tex=FALSE的原因是pgfSweave默认会编译LaTeX文档，而我们只需要让它走到生成LaTeX文档那一步就够了。
4. Sweave不支持给每一幅图形设定宽度，只能通过`\setkeys{Gin}{width=}`的方式统一设定文档中所有图形的宽度，这一点也让人很不爽，哪有文档能保证所有图形宽度都一样呢，因此我们让Sweave.sty不要统一设定宽度：`\usepackage[nogin]{Sweave}`；然后在每一段R代码块中分别设定width，这样pgfSweave可以根据这些宽度相应设定图形宽度。这一点也反映在对`literate-scrap.inc`文件的修改上了。
5. pgfSweave包默认有命令行执行的方式：`R CMD pgfSweave`，但这个方式是基于Rscript的，它在执行的时候并不会等程序真的运行完了才退出，而是一扫而过，该运行的程序还在后台默默运行。这一点会让LyX昏了头，LyX以为Sweave代码已经执行完毕，可以启动`pdflatex`编译了，但事实上tex文档压根儿就还没生成出来。因此我采用了`R -e`的方式，让LyX老老实实等待R运行结束再编译。
6. 本文的配置对部分客官来说简单，对不常用命令行的客官可能还有好几步路要走，比如把R的bin路径放到系统的PATH环境变量中，以及阅读CRAN上关于LyX+Sweave的配置等等，装LaTeX宏包fancyvrb等（Sweave.sty依赖于它，否则layout在LyX中显示unavailable，尽管Sweave.sty存在）。
---
title: 蓬荜生辉及其它
date: '2010-03-17'
slug: feel-charmed-etc
---

转眼又是一月无话。前两天又一位R core成员Paul Murrell老大来信报告了一个animation包的bug，受宠若惊，蓬荜生辉。宏能公司的老大之一颠颠儿跑到[COS论坛](https://cosx.org/cn/)发[帖](https://cosx.org/cn/topic/101091)，蓬荜生辉。话说COS论坛改版也是轰轰隆隆，有失有得（这事儿思来想去有点对不住fan大版主），现在开始尘埃落定，新老面孔，冒泡的冒泡，潜水的潜水；[统计之都新年构想](/cn/2009/12/cos-in-2010/)实现了重要一步，颜大站长功不可没。

[《现代统计图形》](/cn/publication/)一书重新提笔，论坛上的帖子将会收录相当一部分补充进这本书，尽量实现“用实例而不用模拟”的原则。春假窝在家，集中写第7章。陈丽云童鞋最近“祖国未统一，心情很郁闷”，[计量经济学的书稿](http://github.com/cloudly/Play-Econometrics-with-R)不知啥时候能多凑几个人一起捣鼓，这题目设大了确实觉得压力很大。转而想到高德纳——一个我提过几次的天外飞仙级人物，最近看到[关于他的一则报道](http://www.cnbeta.com/articles/106172.htm)（其实都是“旧闻”，而且标题的选取显示出该撰稿者很无聊），我觉得世上专注的极致代表就是这位高老头了，可惜我们都是凡人。

偶尔也学习一下菜谱，见那川菜菜谱几乎处处（a.e.）需要泡椒，于是去Cub Foods抱得泡椒一罐回家待试验。目前自己满意的菜有四样：红烧排骨、香辣虾、酸菜鱼和醋溜土豆丝，走过路过的客官欢迎来俺家蹭饭（临时有效期：春假期间）。话说厨房其实真的是一个休息的好地方，管它甚鸟测度、鸟信息量、鸟混合效应。诗云：两耳不闻窗外事，一心只弄圣贤锅。

今日COS论坛上见一帖“[专业课出乎意料](https://cosx.org/cn/topic/101092)”；又是一年考研出分时，几家欢乐几家愁。考研这事儿，几年前我就表达了我的怀疑：它是不是一个随机选择过程呢？同样是花了很大功夫，有人考上了，有人考不上；同样也是没下大功夫，依旧是有人考上了。“[追梦](http://www.iiee.cn/RecordOnline/matianyu/ygss/pic/d7.mp3)”这一个词，就像个美丽童话。无论如何，能有毅力考两年研的人，已经从某种程度上表明了他/她的（优良的）“先验分布”，此后的路走向何方（“后验分布”），也不必过于担心。是非成败，往往不在表象。

明日庆祝St Patrick Day，从本农村进城去（德梅因）暴走——尽管都不知道这节日是个啥节。子曰：学而暴走之，不亦乐乎？
---
title: formatR：格式化R代码的R包
date: '2010-03-25'
slug: new-r-package-formatr
---

小邱童鞋眼尖，我刚往CRAN发了个R包没几天就被发现了。很久很久以前，`source()`函数是可以输出干净整齐的R代码的，但从某个R版本开始，这项功能被去掉了，让我感到很不爽，于是乎，研究了一下前一个版本的R源文件，悟出了整理代码的本质，于是操刀写了一个清理代码的函数；很久以前，小邱想出了一个聪明的办法，使得这个函数可以保留某些注释语句（以前这个函数只能去掉所有注释）；几天前，我在看**gWidgets**包的同时，为这个函数写了个界面。一个新的R包**formatR**就诞生了。

很多人写R代码都不管代码是否整齐可读，也许是没有受够读代码的折磨：本来读别人的代码就是很痛苦的事情，如果代码写得不整齐，就更要命了。幸好R可以自己处理自己的代码，以R攻R，就可以得到自动整理的整齐代码了。

这个包的界面很简略，就是一个文本框加上若干按钮。以下是效果图：

![R代码整容前](https://db.yihui.org/imgur/Y55lL.png)

![R代码整容后](https://db.yihui.org/imgur/v141t.png)

感兴趣的客官可以从[GitHub](https://github.com/yihui/formatR)获得最新源代码自行编译安装，注意这个包依赖于**gWidgetsRGtk2**包。初级用户可以从CRAN安装（CRAN上的版本取决于我的提交，可能会有延迟）：

```r
## 启动R，然后
install.packages('formatR')
library(formatR)
## 将自动启动界面
```

第二个版本中加入了执行代码、字体设置以及其它选项。需要提醒的有两点：

1. 这个代码清理功能只能保留**整行**的注释（也就是单独占一行的注释），行内注释会被删掉。
2. 目前暂时还没搞清楚中文编码的问题，所以暂不支持中文，如果代码中有中文，将会被转换为乱码。有谁熟悉**gWidgets**的话可以帮帮我。
---
title: 不宣传，就是不宣传
date: '2010-04-10'
slug: no-advertisement
---

洒家真是牟想到啊，Dirk Eddelbuettel居然也会给我发邮件问animation问题。关注R与金融的人应该知道这个人，不过这一点可能只是他的副业，更多工作在于研究R的高性能计算以及维护Debian上的R以及其它Debian包。蓬荜生辉啊。本小子的动画包，自打一开始就没做任何宣传，后来[中奖了](/cn/2009/04/won-john-chambers-award/)也没在R里吱声。前些日子某波兰童鞋来信问动画问题，我忍不住回问了一下你们从哪儿获知的消息，结果该童鞋说，老师布置作业，班上一共30来人，每个人分50来个R包去研究，CRAN上所有的R包就差不多研究遍了，我晕。

前两天，中国群众大学校报小记者来信，要采访统计之都的“幕后黑手”，据说是校报办公室老师安排来采访的，我一看心里大概就明白咋回事了：八成可能跟群众大学的某大领导有关……其实COS早在办旧版的时候就已经惊动党中央，院领导对我提起过几次说上面对COS赞赏有加，你娃儿要好好办，本小子连声“嗻”。

宣传这事儿，我一直认为没太大必要，理由是自身不够牛的时候把别人引来会让别人失望（宣传提高了别人的预期），而采取小步渗透的方式则会让用户有足够的惊喜，并且以这种方式聚集的人群关系会比较紧密。

现在用Google搜“统计学网站”排名第一是统计之都，搜“统计学论坛”排名第一是COS论坛，而我们从未用任何手段（如邪恶的积分制度）引诱任何会员在任何地方宣传。说到底，踏实做事才是王道。不过既然台风来了猪都会飞，这次有了机会，飞它一把也无妨。

----------自相矛盾的分隔线----------

最近又写了个跟WinBUGS（或者OpenBUGS）有关的R包，取一很俗的名字，叫[**iBUGS**](http://cran.r-project.org/package=iBUGS)，之所以加个i，是因为我想让它尽量智能。目前实现了以下几点智能：

1. 智能找WinBUGS或OpenBUGS的安装路径，免得手工填写；
2. 智能分析BUGS模型，找出参数列表，可用鼠标点选，免得手工填写；
3. 分析R工作空间，提出数据变量列表，可用鼠标点选；

这个包主要是为了提供一个（聪明的）图形界面，它包括了**R2WinBUGS**包中`bugs()`函数的所有功能。可在图形界面中写BUGS模型，然后点“执行”按钮就可以跑MCMC了。向不做贝叶斯的童鞋们特别声明一下，BUGS和bug没有任何联系。

话说暑假里的R会议该正式进入议事日程了……
---
title: 统计计算与数学推导及逻辑分析
date: '2010-04-14'
slug: stat-computation-math-logic
---

> 本文论点在于计算机自动化的可能性以及对长久以来的数学推导传统的疑惑，并非为了贬低经济学论文。

陈丽云这篇博客“[真的是只大狐狸吗？对江西财经陈军昌博士的探究](http://www.loyhome.cn/928.html)”让我想起一个长期以来我关心的一个话题。我对陈军昌这个人本身不如我对他的摘要的兴趣大，此君提到：

> 本文预言：在不久的未来，计算机技术将会借助非线性问题的进展彻底占据经济学的主流地位。这项技术不再是简单的用于经验数据的回归预测，而将成为主流形式化逻辑。 本文作者甚至计划在将来使用纯计算机程序的形式化逻辑写作一篇经济学论文。

我完全相信这段预言。倒不是说我觉得这种做法是对的，只是在目前可见的范围内，我严重怀疑堆积如山的经济学论文是否还需要人的脑子，我甚至想象，给一个Sweave模板，提供几个参数（如欲选择用什么模型、生成什么样式的图形），然后把数据读进来用R跑一遍，一篇论文就自动生成了，加上LaTeX本身就显得正式，这种论文一定人模狗样的，很能忽悠人。比如：

> `\Sexpr{names(dat)[1]}` 的均值为 `\Sexpr{mean(dat[  ,1])}`，标准差为 xxx。图 \ref{...} 为 `\Sexpr{figname[1]}`：

> ……

> `\Sexpr{modname[1]}`模型显示，斜率项为`\Sexpr{coef(dat.lm)[2]}`（t 检验结果为`\Sexpr{ifelse{coef(summary(dat.lm))[2,4]<0.05, '显著',  '不显著'}}`）。

把目前主流杂志上的经济学论文遍历一下，总结一个八股规则，生成统计分析部分。至于结尾嘛，就把所有论文的结论部分分条存在一个数据库中，随机抽取5条就可以了，反正大家的结论都很NB，都对社会主义建设有重大意义。

调侃归调侃。如果这位陈博士的论文真的能被广为接受的话，我估摸着将来大多数期刊是不是要去喝西北风了。以上是经济学界的事情，与我没啥关系，暂不多说。还是回头说统计。

统计计算和模拟在统计界一直都是小弟，大佬仍然是搞数学的，而且似乎数学搞得越深越瞧不起做计算的。可以理解，学术跟宗教其实没有太多区别，人人都有信仰，而且只要有江湖，就一定会有名门正派和歪门邪道旁门左道之分。不过我倒是有两个有趣的例子：

1. Andrew Gelman在他的论文_A Bayesian Formulation of Exploratory Data Analysis and Goodness-of-fit Testing_中提到Efron & Tibshirani的_An  Introduction to the Bootstrap_。论文374页说：

    > [...] This is related to the idea from the bootstrap literature that simulation can replace mathematical analysis.

    我没考证原书，不过我没想到两位作者能放出这样的话（也许被Gelman夸大了，也许是断章取义）。

2. 有个人叫Julian L. Simon，他在他的书 "[Resampling: the New  Statistics](http://www.resample.com/content/text/index.shtml)" 序言中放出一个赌注，愿意下注$5000赌一位以传统统计理论教学方式教统计学的老师，他自己以统计模拟的方式教同一个主题，看各自的学生在解决相关的数值问题谁更快得到答案。到现在为止没有人能应接这场赌局。也许是这本书太不出名了，也许是数学真的有某些方面的弱势。

统计计算之于传统统计学，就如同那位陈博士的想法之于传统经济学一样。人的逻辑思维未必是最有效的解决问题的方式，只不过在远古时代，人只有自己的脑子可用，所以就一直用一直用，总不肯承认除了脑子之外有其它替代方式来解决问题。不过也许若干年后，计算机的方式也会落后于时代。后之视今，犹如今之视昔。谁知道呢？

话说回来，我觉得计算机不可能完全替代经济学论文中的逻辑分析，但是用计算机做一些常规性的自动化报告也未尝不可。

附：本文中“经济学论文”大约可以推广到“社会科学论文”。
---
title: 知识与常识：分析大学生挂科因素？
date: '2010-04-15'
slug: knowledge-and-common-sense
---

[流浪荡云儿提到](/cn/guestbook/#comment-5021)：

> 我最近想做下关于大学生挂科率影响因素。但是我感觉在出调查问卷的时候，很多人不会将自己的挂科情况如实反应，这该怎么办？还有变量之间或多或少都有一定的相关性，这该怎么办啊？

又及：

> 只是老师布置的期末作业——选择合适的题目，收集相应的数据，建立统计模型，进行统计分析，直到你认为满意为止（咱们老师的原话）。是不是我的题目选的不好啊？

再及：

> 如果直接访谈的话，我感觉暨很费时间，而且结果也不一定准确（其中也会受很多因素的影响），如果用回归的话，做问卷我可以改成匿名形式，只是变量的选取和设定变的有难度（对于我来说）

原本这是一个如何保护受访者隐私的问题。这种问题有一些经典的解决办法，比如让受访者自己抛硬币，如果正面就回答“是否挂过科”，反面就回答“宿舍电话最后一位数字是否是奇数”，访员不干涉受访者填问卷的过程，最终我们也不知道受访者的硬币是正面还是反面（从而不知道他们究竟回答的是哪个问题），只知道他们回答了多少“是”和“否”。只要样本量充分大，我们就知道挂科的比例了。

至于变量间的相关性，这不是问题，因为世上完全独立的变量似乎还没生出来。即使再独立，不还存在所谓的“蝴蝶效应”么？退一步讲，回归也没有要求自变量相互独立，相关性太强也有解决办法。

我看到问题的第一个反应并非如何建模，而是在想这个问题真的需要模型来解决么？首先，挂科属于稀有事件，采集样本会比较困难（除非遭遇超级严厉的老师……灭绝师太？……）；其次，在调查之前我们可不可以先考虑一下这个问题本身，在脑子里回放几遍：“为什么会挂科？什么会挂科？么会挂科？会挂科？挂科？科？……”看看能想到的主要答案是否只有一种：受试者没认真学习。要是果真如此，那么本来稀有的样本就更没太多分析价值了，辛辛苦苦调查了50个挂科学生（就算他们愿意承认挂科），发现49个都在玩，剩下1个在看别人玩，到那时，是否想找块豆腐撞死算了呢？

所以我推荐直接访谈。此时建模可能只具有脱离实际问题的数学意义，当然我们可以像模像样走完统计分析的整个流程，最终得出结论说“同志们呐，表再玩了”，如果是这样，没牙的老太太恐怕都能想出这种结论。而访谈呢，一方面能让我们接触到“血淋淋的真相”（语出自电视剧《武林外传》），免得我们肤浅猜测，另一方面，和活人接触，万一发现挂科的因素多种多样，超出想象，那时再设计一份更贴近实际的问卷也不迟。为啥小温要亲民？为啥有皇帝觉得百姓饥荒时可以喝肉粥？

统计模型就像把锤子，拿到锤子的人觉得到处都是钉子（金锤子定理）。我理解这种“诱惑”，但事实是生活不全是由抡锤子构成的。这个挂科问题本身是个很好的问题，看起来也很有意思，做好了对大学教育有很大贡献，但它是否能通过回归的方式解决则值得三思。访谈花时间，但也许窥一斑而知全豹。

这个老笑话想必多数人都看过了：

> 联合利华引进了一条香皂包装生产线，结果发现这条生产线有个缺陷：常常会有盒子里没装入香皂。总不能把空盒子卖给顾客啊，他们只得请了一个学自动化的博士后设计一个方案来分拣空的香皂盒。博士后拉起了一个十几人的科研攻关小组，综合采用了机械、微电子、自动化、X射线探测等技术，花了几十万，成功解决了问题。每当生产线上有空香皂盒通过，两旁的探测器会检测到，并且驱动一只机械手把空皂盒推走。

> 中国南方有个乡镇企业也买了同样的生产线，老板发现这个问题后大为发火，找了个小工来说：“你他妈给老子把这个搞定，不然你给老子爬走。”

> 小工很快想出了办法：他花了90块钱在生产线旁边放了一台大功率电风扇猛吹，于是空皂盒都被吹走了。

“知识”越来越多，会不会真的让我们变得“有知识没常识”？

那么我们打听一下在座的各位客官，你挂过科么，若挂过，原因是什么？（“考前没拜春哥/曾哥”这个原因除外）
---
title: 2010 John Chambers奖得主及评奖感想
date: '2010-04-19'
slug: 2010-john-chambers-winner-and-my-comments
---

早上和其他两位评委Simon Urbanek以及Hadley Wickham进行了电话会议，我们将今年的[Chambers奖](http://stat-computing.org/awards/jmc/)授给Michael J. Kane和他的[bigmemory](http://cran.r-project.org/web/packages/bigmemory/index.html)包（剧透了剧透了）。通过看今年提交的参赛作品，我觉得拿下这个奖的困难并没有想象中那么大，国内的客官们努力努力，也是很有希望获奖的（比如我相信精于C++的颜大站长能独立写出bigmemory包的概率大于95%）。此前在COS论坛上呼吁大家踊跃参加，估计大家都觉得这是天方夜谭，明年我以95%的概率不会做评委了，不过这评奖过程给我几点感想可供后来人借鉴：

1. 严格按照主办方的规则行事。主办方的评奖规则中怎么写，我们就对照这一条一条规则检查自己的作品是否都符合了要求。比如Chambers奖的规则描述是：

    > The entries will be judged on a variety of dimensions, including the **importance and relevance** for statistical practice of the tasks performed by the software, **ease of use**, **clarity of description**, **elegance and availability** for use by the statistical community. Preference will be given to those entries that are grounded in **software design** rather than calculation.

    最终评委的评分规则便根据三原则来：**重要程度和与统计学的相关程度**（多数作品都有很大的专业局限性，仅仅在自己的领域里针对某一特定模型写了软件包，不够通用，我也看不懂什么生物名词或天体物理名词）、**创新和软件设计**（想法是否足够新颖，没人做过当然最好，有人做过则要想想如何与众不同）、**易用性和文档是否清楚**（如果参赛者能多提供一些例子则会让评委更快了解你的软件，可以是录像、在线演示或动画、图形）。
	
2. 关于这些原则，如果参赛者能站在评委角度来考虑，肯定能为自己挣得不少分。也许有些作者软件写得很精妙，但缺少恰当的表现形式，所以就可能被埋没。记得有一位参赛者把自己三百多页的博士论文都发来了，满篇数学公式，想想如果自己是评委，看一篇博士论文的概率是多大呢？

    再回头看本小子去年的申请，估计很大程度上得益于本小子的动画网站，以及每个动画函数下都有例子展示，评委不用动脑子去仔细研究函数的每一个参数怎么用，只需要端着咖啡看演示就可以了。另外，本小子处心积虑套用了John Chambers那句名言**To turn ideas into software, quickly and faithfully**（我把software换成了animations），这主要是为了体现软件包与统计学思想的联系，另一方面，一眼看去这和竞赛的主题切合得甚为紧密。
	
3. 包装很重要。由此又不得不说LaTeX与Word……呃，各位把本小子看作技术愤青的大人们，这真的不是技术问题，除非是Word高手，普通人用Word做出来的任何文档的排版质量跟LaTeX一比，评论只有两个字：垃圾。没得商量。LaTeX生产出来的论文，即使内容连垃圾都不如，其形式看起来也是正儿八经能唬住人的。拿着Word写的灰头土脸的PDF文档交上来，首先给人印象就是这童鞋以95%的概率不是高手，否则怎么连LaTeX都不会用呢。

    去年我在申请的时候还没接触到LyX，所以老老实实写LaTeX源代码然后老老实实编译，而且用的是和R News文章一样的字体（这也是评委之一Hadley常用的字体），呈上去给大佬们一看，嘿，眼熟，我看这小子和R有一定关系。
    最后，这获奖者比其他选手还占一点优势，就是他在去年的JSM大会上做过Data Expo的poster，硕大的宣传板，我们三人都在那里看过，回头一想，脸熟啊。这一点呢，也和我去年类似，三位评委我见过两位，一位七分熟，一位三分熟（你煎牛排呢？），剩下一位未曾近距离接触，但我曾给他的一本书提过一处勘误。所以混圈子也是有用的。

这些不是告诉各位客官可以不劳而获或投机取巧，世上没那么多好事，而是用一个例子说明怎样小心地铺路，把自己能控制的因素都一步步做到最佳状态，剩下的事，或水到则渠成，或听天而由命……理想情况下，呔！手起刀落，砍他个人仰马翻。
---
title: Conditional CAPTCHA：进一步阻拦垃圾评论
date: '2010-04-24'
slug: conditional-captcha-stops-spam-comments
---

用WordPress的都知道，Akismet是个不错的防垃圾评论的插件，判断的准确率还比较高，但长期以来我一直很恼火一件事，就是Akismet把那些判为垃圾评论的评论都放在垃圾队列中，最快也要一个月才自动删除，这样如果偶尔出现误判，我就得从几百条垃圾评论中眼巴巴去把误判的评论恢复过来。这些广告机器人每天都不厌其烦地发呀发，一天就是两三百条广告，我大多数时候都懒得看垃圾队列中有没有误判的，直接一键清空，所以有时候可能会殃及无辜。

昨天终于厌倦了，心想算了，还是去找个插件吧，肯定存在解决办法的。于是乎找到了一个叫Conditional CAPTCHA的插件，这个插件是Akismet之后的第二道防线：如果Akismet放行，它就不再过问，如果Akismet判为垃圾评论，它就继续弹出一个reCAPTCHA框让评论者输入验证码，这样的话，那些垃圾机器人压根儿就无法把评论发到我的数据库中，直接被删除了。

这下整个世界清净了。
---
title: 知觉力、判断力、行动力
date: '2010-05-02'
slug: sense-judgement-action
---

2009年春，吾师王丰点评牛年十大事件，以一支股票开篇，对吾辈提出“三力”期望，即“知觉力、判断力、行动力”。这三力是我时常在心里琢磨的事情，王丰老大是个聪明绝顶的人，他点出这三力，应该也是他自己的经验总结。我等小辈要练就这等功力，恐怕是冰冻三尺非一日之寒。近日几点小事，让我再次联想起这三力。

先说这知觉力。老大讲的是中兵光电，这种股价暴涨的机会可能遍地都是，但不是每个人都看得到。现代人一个个都越来越忙，越是忙越是急功近利，越是无法练就知觉力。前日看到一则消息，很是有趣。华盛顿邮报于2007年做了个试验，让著名的小提琴演奏家[Joshua Bell](http://en.wikipedia.org/wiki/Joshua_Bell)在DC的一个地铁口演奏，45分钟过去了，1097个匆匆过客中只有7个人停下来听，27个过客给了他32.17美元（其中一个认出了他，给了$20），而在两周前，Bell同样是演奏——只不过地点是在音乐厅——票价$100却让人疯抢。这篇文章的作者后来获了普利策奖。说你浮躁没眼力你还不信么？或曰：爷听的不是音乐，是**。【[华盛顿邮报原文](http://www.washingtonpost.com/wp-dyn/content/article/2007/04/04/AR2007040401721.html)】

再说这判断力。现在信息爆炸，炸得谁都不知道真相是什么，大家也不愿意费力去判断，或许这就是这几年出现无数的“**门”事件的原因吧，一有风吹草动，大家就开始声讨、掐架、跟风、膜拜。去年一篇[孙振耀退休感言](http://it.sohu.com/20080507/n256719972_4.shtml)被广为转载，当时我没太在意，近日这文章又被转到邮箱里来，于是操起鼠标看了一遍，当我看到文中这样的字句时，心里极为怀疑这是不是他本人写的：

> ……天涯上愤怒的人很多，你有没有想过，你为什么不快乐？你为什么愤怒？……

> ……当初微软有个唐骏，很多大学里的年轻人觉得这才是他们向往的职业生涯，我在清华bbs里发的帖子被这些学子们所不屑。……

> ……“很多事情就像看A片，看的人觉得很爽，做的人未必。”……

惠普中国的CEO会写出这样的话么？这年头CEO都上天涯看痴男怨女？还在清华BBS发帖？作为退休感言，他引用什么话都可以，他会无聊到引用看A片这样的话来作为论据？这篇文章，就是《心灵老鸭汤》（武林外传语）或《读者》风格，肯定不会出自CEO之手。给不明真相的群众看看倒也无妨，但我认为这文章讲的道理一点都体现不出他本人的水准。【[真相](http://it.sohu.com/20090320/n262919003.shtml)】

最后说行动力。第三届中国R语言会议，即将登场，这一片“况且况且况况且”中，啥都不缺，最缺行动力，我们将重任交托给潘岚锋，这担子不轻，咱拭目以待。兵马不少，看将领怎么调配了。这行动力，说起来轻巧，做起来万般艰难。（剧透：本届R会议有些低年级本科小盆友想参与组织，本小子前几天得知有本小子的一位明星本家，善哉善哉，真是天上掉下个形象大使，唔哈哈哈）

----------------跑题分割线----------------

昨日看学院网站，得知江麒童鞋获了ACM竞赛一等奖，可喜可贺。

另话说这李青龙童鞋也是个人才。本小子得好好琢磨琢磨。
---
title: Keep on Eating
date: '2010-05-09'
slug: keep-on-eating
---

话说今早起来，收到一封群发邮件，名曰“菜谱之葵花宝典”，我兴冲冲打开一看，哪妮？！这些个菜啷个儿看着这么眼熟呢？鼠标一拖到底，附件名赫然是“**谢益辉的菜谱.doc**”……再扳着指头一数抄送名单，四十来口人。顿时昏厥过去。

本来领导不在家，懒得做饭，看这邮件之后两股战战，老老实实按菜谱做了顿饭。

做饭这事呢，在忙碌的时候是一种很好的休息方式，让你珍爱生命远离键盘，闲暇时反而没有兴趣。那643的期末考试考得简直让人万念俱灰，求生不得求死不能，高度紧张之后突然一放松，瘫在家里看了两天儿时的武侠片，都一把年纪了，还看那些鬼打架的老片子，说出来好像挺丢人的，不过呢，经典就是经典，现在的片子，重特技而不重人情，拼力量而不拼道义，看着大同小异，个个都是缩水的神仙。
---
title: 渐近理想国：McNemar检验的两种统计量
date: '2010-05-19'
slug: asymptotia-mcnemar-test-statistics
---

如同经济学家不讲道德一样（学过经济学的人都知道这句话的意思），理论统计学家从某种程度上来说也不讲道德。我们常用的一些统计量通常都渐近服从某种分布（以卡方和正态为典型），看起来做理论的人对这些渐近理论都非常骄傲和自豪，我们在学习过程中也要一代一代传承下去。数学公式摆出来当然能唬人，也许唬到最后大家都为光着屁股的皇帝欢呼。坦白说，我对这些东西感到非常厌倦。

近日来收到邮件少了，但各个问题都不太好直接回答。比如这则关于McNemar检验的问题：McNemar检验可以有两种形式的统计量，一为 `(b - c)2/(b + c)`，一为 `2b*log(2b/(b+c)) + 2c*log(2c/(b+c))`，其中b和c是列联表非对角线上的频数。前者是McNemar检验本身的统计量，可以根据渐近正态分布得来（然后平方得到卡方），后者是似然比统计量（不带约束的似然除以带约束的，取对数，乘2）。McNemar检验看似复杂，实际上可以简化为检验b = c，或等价于检验一个n = b+c的二项分布中，是否p = 1/2（观察到X = b或c）。现在的问题是，这两种统计量有没有优劣之分？

作为一个懒得推公式的人，我向来喜欢用模拟回答问题，因为模拟的结果非常直截了当。我的考虑是，要看渐近统计量的优劣，那就看随着n增大，统计量和渐近分布有多接近好了。一个自然而然的想法当然是对若干统计量的观测值做分布检验了，比如KS检验。我们知道这两个统计量都是自由度为1的卡方分布，剩下的事情就是计算：

```r
set.seed(123)
nmax = 1000
p = matrix(nrow = nmax, ncol = 2)
for (n in 2:nmax) {
    # 生成服从二项分布的随机数，分别计算两种统计量并作KS检验、记录P值
    b = rbinom(500, n, 0.5)
    x1 = (b - (n - b))^2/n
    x2 = 2 * b * log(2 * b/n) + 2 * (n - b) * log(2 * (n - b)/n)
    p[n, 1] = ks.test(x1, "pchisq", df = 1)$p.value
    p[n, 2] = ks.test(x2, "pchisq", df = 1)$p.value
}
# 调整一下数据格式，画图：随着n增大，P值如何变化？
library(ggplot2)
d = melt(p, varnames = c("n", "method"))
d$method = factor(d$method, labels = c("McNemar", "LRT"))
colnames(d)[3] = "p.value"
qplot(n, p.value, data = d, shape = method, geom = c("smooth", "point")) +
    scale_shape_manual(values = c(2, 3))
```

![McNemar检验统计量与卡方分布拟合的好坏](https://db.yihui.org/imgur/0sn2Hjr.png)

实际上，两种统计量与卡方分布的接近程度几乎是一样的，对于每一个n，KS检验得到的P值都差不多，可以看见图上两种方法检验得到的P值基本上是重叠的（其实也意味着统计量的值差不多），而n过了200之后，统计量基本上和卡方分布拟合比较好，即P值较大，但这种关系并不严格。

渐近理想国（asymptotia），来自Little (2006)在The American Statistician的文章，这词在英语词典中查不到，我将它翻译为“渐近理想国”。该文章是讲频率学派与贝叶斯学派的争论，提到人们对“渐近”的无奈：一个步履蹒跚的旅人，心想这理想国嘛时候才能到达呢？

至少在McNemar检验中，这个问题有了一个模糊的答案。
---
title: 通知两则：第三届R会议培训及统计人才招聘
date: '2010-05-23'
slug: chinar-tutorial-and-sas-experts-wanted
---

先说培训。若一切顺利，我们将在6月14日进行第三届中国R语言会议的会前培训，暂定由刘思喆和我来讲。本次培训计划上下午各3小时，培训费用=R的费用（即：free as in beer）。我的计划如下：

下载：[幻灯片《现代统计图形》](https://github.com/downloads/yihui/yihui.github.com/ChinaR-MSG-2010-Yihui-Xie.pdf)

培训时间：2010年6月14日下午2:00至5:00

培训目标：1、了解图形的构成元素，初级用户可以知道作图的诸多可能性，高级用户可以任意自定义图形；2、了解统计图形的基本类型和适用情形，跳出单调的“饼图+条形图+折线图”的范围；3、了解R的四种图形系统，即基础图形系统、grid、 lattice和ggplot2；4、学会用图形辅助模型去探索和分析数据；5、了解其它靠谱或不靠谱的应用，如统计动画和交互式动态图形

培训内容：R语言是统计计算和统计作图的强有力工具，本次培训着重介绍后者，内容包括：对统计图形历史的简要回顾，说明统计图形的功能（约5分钟）；介绍R语言的基础图形系统的基本构成，包括各种图形参数和基本图形元素（约40分钟）；介绍R自身的 graphics包中的各种统计图形函数，包括直方图、等高线图、散点图矩阵等（约1小时）；R附加包中的各种图形函数，包括地图、脸谱图、平行坐标图等（约20分钟）；R的其它三种图形系统：grid、lattice和ggplot2（约20分钟）；基于统计模型的图形应用，包括回归模型、主成分分析、光滑方法、分类与回归树等（约25分钟）；其它图形应用，包括动画和交互式图形等（约10分钟）。本次培训的大纲主要遵循本人正在编写的《现代统计图形》一书，该书的不完整书稿可以从这里下载：http://yihui.org/cn/publication/

适合听众：推荐以下四类听众前来听课（1）英语阅读能力较好，对编程感兴趣（2）公司企业的数据分析人员，尤其是咨询公司（3）教数据分析相关课程的高校老师（4）领导的秘书

不适合听众：本培训为实用性质的培训，可能不适合以发表学术论文为目标的听众，统计图形看似过于浅显，在统计学术界非主流研究方向

几点说明：

1. 培训能够免费，仰仗于应用统计科学研究中心的经费支持，我们要感谢金勇进老师和赵彦云老师的支持，还有会务组同志们的劳动，当然，刘思喆版主和我对培训费都没太大兴趣，这年头，啥事儿不是先拼服务再考虑“别的”？
2. 要是觉得培训有用呢，可以考虑给统计之都捐赠：[https://cosx.org/donate/](https://cosx.org/donate/)；觉得讲得不好浪费时间呢，也欢迎前来臭骂、督促我们进步。这次会议的经费确实让我们紧张了一把，所幸最后还是有了着落。
3. 我讲的内容暂不顾及商务人士的美观需要，所以图的美丑不会是重点，我要介绍的是可能性，也就是图的内容和统计学优先。但我还是会部分介绍一下外观问题。
4. 听众不必把所有内容都学会（对初学者来说几乎不可能），你知道什么事情可以做之后，可以找别人做（比如码农），如果自己要钻研，心里大概也有个谱了。

再说一则招聘。我的一位朋友所在的（[公司](http://www.crfchina.com/)）现在在招高水平的统计分析人才，分析项目很多，需要有很好的分析问题解决问题的能力和人品，工具为SAS。有兴趣的请联系王超，Email：andy_wang(at)crfchina.com。本来我计划登门拜访，不过由于马上要回家，所以未能去了解细节，待哪天有机会了解之后再向各位客官汇报。细心的客官应该能了解到这公司的老总乃一统计学博士……

> 公司发展需要，急需分析人才。
需要：重点大学本科以上学位，统计学专业，擅长将所学理论与实践相结合者。
我公司所在行业：零售信贷风险管理
主要客户：个贷部门（房贷，车贷）、信用卡中心等银行零售部门。
经营模式：以培训打开市场，启发客户需求；基于数据为客户提供各种数学模型；客户在我们提供模型后，形成新需求，购买公司软件。
分析人员岗位描述：对银行积累的业务数据进行数据挖掘，按照一定的成熟模式建立数学模型，为银行零售部门提供风险管理工具，并总结出新软件需求，指导后续软件开发。
---
title: 吾婚
date: '2010-07-07'
slug: married
---

写下这个标题，想起《孟子》中有一句“吾昏”，也许是现代版“我晕”的起源……


> 曰：“然則小固不可以敵大，寡固不可以敵眾，弱固不可以敵彊。海內之地方千里者九，齊集有其一。以一服八，何以異於鄒敵楚哉？蓋亦反其本矣。今王發政施仁，使天下仕者皆欲立於王之朝，耕者皆欲耕於王之野，商賈皆欲藏於王之市，行旅皆欲出於王之塗，天下之欲疾其君者皆欲赴愬於王。其若是，孰能禦之？”

王曰：“**吾惛**，不能進於是矣。願夫子輔吾志，明以教我。我雖不敏，請嘗試之。”


跑题完毕。由于现在有若干不明真相的群众短信询问，现特地昭告一下：吾今日下午婚了。本事件纯属临时安排，吾昨日抵京，明日离京，行程如同打仗。该给各位客官的东西只能他日再补。钦此~~
---
title: 中国群众大学的毕业论文格式
date: '2010-07-27'
slug: shitizen-university-of-china-thesis
---

有阵子没更新了，五月初回国，先是办群众大学里一些没办完的手续，然后是签证，再是结婚，火车一趟又一趟满地跑，好在最后基本搞定了要办的事情，回美国没两天，又去马里兰开useR! 2010会议，飞机上搬着指头一数，从第一次飞德国算起，一共坐了22次飞机，阿弥陀佛。现在回到大农村尘埃落定，该补的废话都可以补上了，按时间序一篇一篇来，先说群众大学的毕业论文。

今年年初的张磊给耶鲁捐款的事件想必各位客官都已经听说，张磊乃我中国群众大学毕业生，历尽千辛万苦从这个官僚机构到了耶鲁，享受了美帝的各种优厚待遇，二者一对比，就不难理解为何能给耶鲁如此巨额回馈。本小子对群众大学的小领导阶层也是非常不满意，所谓小领导，就是看着像个领导实际上只是办事员（诸如盖章的、审核材料的），这一群体实在是很难对付，虽然不是大领导，但掌握着学生的生杀大权，这就让人没办法了。这一群体的典型代表就是研究僧院，按理说，研究生应该是最具创新思想的学生群体，但那研究僧院你走进去在楼道里简直都能闻到迂腐味。拿这硕博毕业论文的格式规定来说（[地址](http://grs.ruc.edu.cn/shownews.asp?newsid=1167)），首先这格式显然是按Micro$oft Word的“标准”来规定的，比如“固定行间距20pt”，我等LaTeX顽固分子当然对此颇有微辞；其次这格式规定本身也体现了格式制定者本人的某些特征，比如规定正文用小四号字，我想知道世界上还有哪本正式期刊会用这么大的字排版，对此我的解释只有一点：领导爱看大字；至于每一页的页眉都雷同这一点，更是迂腐，LaTeX本身经过简单的设置，可以让每一页的页眉都显示相应章节的小标题，这样对读者来说导航更方便，而由于Word本身的白痴（不是不可实现），活活让打印机浪费了墨水。

这些问题我试图去争论和解释，可是根本没有任何结果。我向学院一位常用LaTeX的老师反映了一下，也是劝我按那些规定行事，曰：“Word能做到的LaTeX都能做到！”我有句话在心里想了想，还是没说出来：“LaTeX实在是难以做到Word那么丑！”（注1）

过了些日子，本小子又听到另外一件事情，更加让我对这些论文格式制定者以及某些机构的迂腐无言以对。我们优秀的本科毕业生左辰sama，在学识上大家有目共睹，本来论文被选为优秀毕业论文，最后却因为论文不是用Word写的（很不幸又是LaTeX）、而“优秀论文”<del>必须</del>被建议应该是Word格式而<del>放弃</del>延迟了评奖。这种蠢事都能在群众大学发生，让我们说些什么好呢？

本小子在群众大学办的最后一道手续是退宿舍，就这么简单一件事情，那宿舍管理科的小领导愣是让我来回跑了三次，先是去了要求我到学院开证明盖章说我的确要离开（其实看毕业证就行了）、到宿舍管楼的阿姨那里写证明签字我的确是住在那栋楼里（你拿我的学生证在你面前的系统上查一下不就行了）、办完手续还要拿着他们的一张没有盖章没有签字的破纸到财务处通知他们（学校的管理系统就烂成这样：高速网络系统的结果是需要不断的人工跑腿）。本小子在这里从不写“中国人民大学”字样，就是因为不知道所谓的“人民、人本、人文”在哪里，我们都是群众，不是人民。

作为群众大学的毕业生，本小子对群大真难有什么感情，这话不是过河拆桥，本小子仅对统计学院有深厚感情，像这些年林老太太的关心、赵老师的指导等，那是不能忘的。

---

注1：我看过的LaTeX生成的PDF文章中，可能[有一篇](http://cran.r-project.org/doc/contrib/Xu-Statistics_and_R.rar)真的比Word文档难看，真是可惜了（念liao三声）儿了，作者花了这么大功夫去写了一千多页，却没利用好LaTeX的排版功能。
---
title: 第三届中国R语言会议（北京）
date: '2010-07-30'
slug: 3rd-chinese-r-conference-beijing
---

第三届中国R语言会议的北京会场已经在6月轰轰隆隆召开完了，可能是由于今年的会议时间接近期末考试，会后的民间报道不如去年多，估计开完会都拍拍屁股去复习考试了。开会这种活动的目的也不在于能现场学到多少东西，能知道什么事情是可行的就可以了，再顺便围观一下闻名未见面的活人们，混个脸熟以后好办事。这次开会也认识了不少新面孔，像攻城师阿稳啊，明星小朋友啊，上海来的啊，香港来的啊，当然大部分还是老面孔，诸如潘主席啊小邱啊关大总管啊刘思喆李舰二位师兄啊等等。用郭德刚的话说，“不错，我们今天来的观众挺多，楼上楼下来了有两三万人。”这两三万人多亏有会议组委会安排，群众们普遍表示情绪稳定，会议秩序井然。我们的新成员如熊熹谢漫錡（为了找这个名字怎么写我又上了一次校内，ft）付科宇等小盆友都挺能张罗，希望下次能有更多新的小盆友加入进来。

我第一天讲的统计图形讲稿后来[已经更新传上来了](/cn/2010/05/chinar-tutorial-and-sas-experts-wanted/)，由于麦克风的不平稳性，估计很多人都没听清我在说什么，不过这也没啥，因为我讲的内容都已经出现在我的[《现代统计图形》](/cn/publication/#MSG)书稿中了，想要详细了解的读者可以去[作品页面](/cn/publication/)中下载不完整的书稿。第二天的演讲幻灯片和代码也都发布在统计之都上的[第三届中国R语言会议纪要](https://cosx.org/2010/06/3rd-china-r-beijing-summary/)中了。

尽管中国R语言会议还未形成燎原之势，但八卦的R core们其实还是在偷偷关注的。我这次去马里兰NIST参加useR! 2010找机会又跟Martin Machaeler提了提我们的“山寨会议”，这位老大一边摆弄着手里的Emacs一边听我忽悠，到最后走出会场我才发现他其实没有真正想起来我是谁，因为他最后猛然想起来R Journal上貌似有一篇中国R会议的报道……老大们表示他们个人还是很有兴趣去一趟中国的，不过要把这三四百观众都带去恐怕有点困难，路费啊签证啊都麻烦。所以呢，我们下次可以考虑请一些有影响力的R core们去中国，办一届英文会议也未尝不可。

回头来看，这次会议的主要问题还是准备仓促（难道是我留下的病根？），收到的演讲不够覆盖R的功能；其次就是交流时间不够，没有有意制造足够的交流机会，当然这与会议时间长度有关，但会议日程安排上应该可以改进，用制度促进交流；最后，会议的产出也不明确，有个出版相关的小组就好了，即使不出版，发表在COS主站上也好，开完会就散伙，可惜了儿了。回头再线下商量。

会议T恤是这次会议的一个小亮点，下次要保持。顺便附图一张：某童鞋把这次R语言会议的T恤穿到了美帝农村钓鱼（其实一条鱼都没钓到）。

![中国R语言会议T恤与Ada Hayden湖边的渔夫"](https://db.yihui.org/imgur/Z9LNk.jpg)

下期预告：《现代统计图形》书稿。这两天忙着搬家，估计要等几天了。

---
title: 统计图形和模拟视角下的模型理论解析
date: '2010-07-30'
slug: master-thesis-graphics-and-simulation-in-stat-models
---

之前在群众大学给一些客官承诺过我会把我的[硕士毕业论文](https://github.com/downloads/yihui/yihui.github.com/master-thesis-Yihui-Xie.pdf)发上来，其实早就在网上了，只不过没吱声而已，用Git同步一下容易，但写几个字介绍一下就花时间了。感兴趣的客官可以去本站[作品页面](/cn/publication/)内下载。

这论文呢，自我评价可以给个80分。最大的问题在于没有花时间去整理文章的结构，所以构架上稍微有点散乱（俗称“意识流”）。内容上熟悉我的博客的客官一眼就能看出来，其实都是些博客文章的汇总，只不过用LaTeX让它们变得“人模狗样”一些而已，好在本小子平时也积攒了这些鸡零狗碎的东西，动过自己的脑子。我觉得群众大学的毕业论文，很多都是一个套路：经济/金融数据套一个神奇的模型，直到最后整个世界一片和谐，读者在最后一章都能隐约看到上帝老爷子在朝你挥手。其实也没啥，找工作不容易，地球人也都知道写论文就是忽悠——漫漫人生路上一道工序。

由于本小子是个小人（小小的活人），所以总关心小人关心的事情（俗称“人本主义”）。这论文嘛，窃以为也没什么上下高低之分，说出你怎么想的就可以了，而不要总说“他们”怎么想怎么做。一定要有数学上的创新？一定要有人家看不懂的公式才是好论文？一定要有综述？一定要有长长的参考文献列表才是好论文？一定要板起脸？不能写八卦？不准幽默？……嗨，作茧自缚。几年前看到一篇好文章，颇具恶搞性质，建议各位客官收藏：[How to write Consistently Boring Scientific Literature](http://www.philippeweil.com/links/BoringWriting.pdf)。

言归正传：本文是厌倦八股文和数学理论的产物，从理论角度来说，几乎没什么价值，不过这篇文章是用Sweave写的，完全具有可重复性和100%透明度，对文中结果有怀疑的客官可以自行运行代码；其次，统计模拟和图形的声音在界内太微弱，大家都很忙，有人在忙着推公式，有人在忙着编数据，有人在忙着把公式用到不知道是不是编出来的数据上，本小子跟着瞎掺和了点别的东西，仅此而已。甭管有用没用，敬请拍砖。

## 外一篇：坛霸是怎样练成的

曾经有童鞋称呼在下为“坛霸”，这个……有时候确实有那么点意思，无图无真相（两个多月没怎么回帖了，一鼓作气）：

![坛霸是怎样练成的](https://db.yihui.org/imgur/SxJ0Y.gif)

接下来我会陆续写第三届中国R语言会议、《现代统计图形》书稿和useR! 2010，若时间允许，我考虑一下电视剧《九阴真经》（93版）。

---
title: 随机艺术一则：用R画点
date: '2010-08-08'
slug: art-of-points-in-r
---

李丰同学建议在《现代统计图形》书稿中插入一些彩蛋，我想第一颗蛋就用这些杂乱无章的彩色点线吧。不过小的实在拿不定哪一幅图看着更“艺术”一些，因此请路人帮忙挑选一下。下图只是众多可能的随机图中的一幅，更多图形请运行下面的完整代码。挑好之后把图中的起始数字告诉小的，小的会在书稿的致谢部分说明您的贡献。

![用随机大小和颜色画点](https://db.yihui.org/imgur/Cf9DY.png)

如果客观关心这些图是如何画出来的，这里有代码有真相：

```r
devAskNewPage(TRUE)
par(mar = c(0.2, 0.2, 0.2, 0.2), mfrow = c(2, 2))
for (n in 41:200) {
    set.seed(711)
    plot.new()
    size = c(replicate(n, 1/rbeta(2, 1.5, 4)))
    center = t(replicate(n, runif(2)))
    center = center[rep(1:n, each = 2), ]
    color = apply(replicate(2 * n, sample(c(0:9, LETTERS[1:6]),
        8, replace = TRUE)), 2, function(x) sprintf("#%s", paste(x,
        collapse = "")))
    points(center, cex = size, pch = rep(20:21, n), col = color)
    box()
    text(0.5, 0.5, n)
}
```

## 用作桌面

如果有客官想用这样的图形作桌面的话，也不是件难事：用png()设备把图形记录下来，然后将图形文件设为桌面即可。以我的显示器为例，我的分辨率是1366x768，那么：
    
```r
# 为了保证高质量的PNG图片，这里用附加包cairoDevice
# 如果读者对图片质量要求不高，也可以用R自带的png()设备
# 即png("points-desktop.png", width = 1366, height = 768)
library(cairoDevice)
Cairo_png("points-desktop.png", width = 13.66 * 1.39,
    height = 7.68 * 1.39)
par(mar = c(0, 0, 0, 0))
n = 76
set.seed(711)
plot.new()
size = c(replicate(n, 1/rbeta(2, 1.5, 4)))
center = t(replicate(n, runif(2)))
center = center[rep(1:n, each = 2), ]
color = apply(replicate(2 * n, sample(c(0:9, LETTERS[1:6]),
    8, replace = TRUE)), 2, function(x) sprintf("#%s", paste(x,
    collapse = "")))
points(center, cex = size, pch = rep(20:21, n), col = color)
dev.off()
```

这样，我们打开文件`points-desktop.png`（它在当前工作目录下`getwd()`），设定为桌面就可以了。

---
title: 鱼兮鱼兮奈若何
date: '2010-08-13'
slug: fisher-in-the-ada-hayden-lake
---

去年买了两根鱼竿，一直放家里没用，这次暑假去办了钓鱼证，开始启用这两根鱼竿。到现在为止，本渔夫一共去钓了四次鱼，钓鱼的湖离家不到两公里，蹬着自行车10分钟就到了。第一次去，啥经验都没有，偌大一片湖，不知在哪儿钓好（围着湖转啊转），而且有一根鱼竿还没搞清楚怎么甩出去，鱼饵也是用的假饵，鱼根本理都不理，最后以钩了几把水草收场。第二次去，选了个阴凉处，树多草厚，换了真饵（人造蚯蚓），弄明白另一根鱼竿如何甩了，熬了两个多小时，到准备回家的时候不小心钓上一条不知道叫什么名字的鱼，眼珠子贼亮贼亮，嘴里还有几颗尖牙，看着挺恐怖。不过到最后还是进了肚子……顺便说一下，这美帝的鱼果然如传说中一样，太难刮鳞。三小时钓鱼，一小时刮鳞，半小时烧鱼。

![池鱼](https://db.yihui.org/imgur/8KuAe.jpg)

![人为刀俎我为鱼肉](https://db.yihui.org/imgur/td2IY.jpg)

![热锅上的鱼](https://db.yihui.org/imgur/0j3WN.jpg)

第三次去钓鱼，为了节省蚯蚓，就用了上次用过的蚯蚓，结果可能因为不新鲜的缘故，没有鱼来咬。又是熬了两三个小时，差点被蚊子抬走，这湖边从晚上八点开始，蚊子就乌泱乌泱的，第二次钓鱼被咬了五十多个包，这次不敢呆久，赶紧收拾家伙回家。因为站了太久想运动运动，于是决定朝湖的另一边绕圈骑回家，结果没走多远就发现路当中有个黑乎乎的东西，我就犹豫着要不要下车去看看，最终还是决定回去仔细看看。当时天已经黑得快看不清了，那团黑乎乎的东西原来是只巨大的乌龟。我滴个亲娘啊，本小子这是第一次在路上看到活乌龟（这美帝就像个动物园啥都有），那乌龟看起来有把年纪了。操起电话请示领导，得到指示“活捉回来”，好嘛，拿着塑料袋上前去套它，结果……结果被这乌龟吓了一大跳！这龟老大本来在路上伸开四脚趴着，见我前来就把脚收回去了，在我靠近它的时候，它一直张着血盆大嘴冲我龇牙，我心里有点发毛（提示：天已经黑得差不多了，在路上遇到这么个怪物），乌龟急了大概也咬人吧……继续接近，结果那龟老大猛然跳起来，这个动作可是把我吓得不轻，要不是路还算宽，我都被吓到湖里去了。最后落荒而逃。噫，这胆量……人都用“乌龟胆子”来形容胆小，老夫这次算是比乌龟胆子还小了。

第四次去钓鱼是今天的事情，这几天Ames发洪水，湖里水位也涨了很多，前天晚上去湖边视察了一下，发现湖边的路有多处被淹，有下图为证：车到水前疑无路。

![视察洪水（左起第一位是我，第二位是我的自行车）](https://db.yihui.org/imgur/Y9E8F.jpg)

今天过去换了新鲜蚯蚓，不到20分钟就钓到一条大鲶鱼，我费了老半天劲才把这家伙拽上来，各位客官看鱼竿的弯曲程度就知道了（由于本图中渔夫是配角，所以隐去）。接着和这条鱼斗争了半天才把鱼钩取出来——它把钩吞得太深了，在岸上又拼命挣扎。

![上钩的鲶鱼](https://db.yihui.org/imgur/WGbJS.jpg)

明天准备烤鱼。善哉善哉……

---
title: 显示beamer幻灯片中的图形和表格编号
date: '2010-08-22'
slug: show-caption-numbers-in-beamer
---

不夸张地说，我看过的**几乎所有**人的beamer幻灯片都有一个明显的问题：图形和表格的编号缺失了。也就是它们看起来是这样：

> Figure: 标题内容

或者

> Table: 标题内容

在（挑剔的）我看来，这是难以容忍的缺陷。图表怎么能没有编号呢？既不好看，又不方便交叉引用。beamer自身默认图表是没有编号的，如果需要把编号调出来，只需要在导言区加上：
    
```tex
\setbeamertemplate{caption}[numbered]
```
---
title: 关于《现代统计图形》书稿的说明
date: '2010-08-25'
slug: modern-stat-graphics-manuscript
---

暑假回国，办完一堆事情，回家躲在小村子里悠哉悠哉，无丝竹之乱耳，无案牍之劳形，谈笑木有鸿儒，往来全是白丁（注1）。那古人云“春困秋乏夏打盹，冬日漫漫睡不醒”。本小子虽然贪睡，但在闭关写书这件事情上不含糊。其实与其说在写，不如说在复制，因为以前已经用纯LaTeX写了很多内容，后来看到pgfSweave包和LyX之后，觉得纯LaTeX太麻烦了，于是把原来的内容都复制到LyX中接着写。到从村子里出关时，R的基础图形（graphics包）已经全部写完，包括常见的底层作图函数和几乎所有高层作图函数。

后来回到有网络的世界，`git push`一下，就同步上网了，供各位客官公开下载（见于本站“[作品](/cn/publication/)”页面）。过了一阵子，领导的领导们看见了，觉得这样做有点不靠谱。再过了一阵子，又有好几个人建议我不要放出来公开下载。我呢，也绝非来自石器时代、对“世风日下人心不古”一无所知，佛曰“我不下地狱那哪个来下地狱呢？”佛敢下地狱，那是因为他是佛，是佛又咋地？佛有核心竞争力啊。现在这个忙碌年代，我们（别人）想尽办法折腾别人（我们），折腾的途径就是评价。网站不看内容要看备案，活人不看要看KPI，百姓生活不看要看GDP……而混学界的人就得靠著作来评价，于是使出浑身解数去发表，自己努力也好，坑蒙拐骗也好。我这样赤果果把作品放在网上供任何人下载，说出来真是一件很恐怖的事情，娘亲呐，多少豺狼虎豹盯着呢。

本来想继续扯到李一、马云等人，似乎有点扯远了，我是在想像马云这样伟大的宗教领袖式人物为何需要道教思想的支撑。俺们这个时代的人，真的越来越没底气了？打住打住。

最后我接受了腾飞的意见，把原本公开的书稿撤下来了。倒不是怕盗版抄袭，主要是一本不完整的书稿，对读者似乎不是一件好事，等正式完成之后，再集中发给大家提意见，这样效用会大一些；再想一想，出版之前公开下载也会对出版社带来一些麻烦，于是撤销下载。当然，目前我仍然内部开放书稿，我熟悉放心的人以及答应我在COS论坛帮别人回答图形方面100帖的人（鼓励为别人做贡献的人），皆可获得我的书稿。

各位客官若有任何建议，请随时与我联系，我会在完稿前尽量多采纳读者的意见。

---

注1：平民老百姓。

---
title: 娇客两则：诸葛藏藏及其它
date: '2010-08-26'
slug: two-jokes
---

最近有两则Joke（也就是娇客），觉得还挺好笑。一则是关于“祝诸葛藏藏生日快乐的”，我比较落伍，是先看到[水木上这则笑话](http://www.newsmth.net/bbscon.php?bid=63&id=2516357)，再去Google的“诸葛藏藏”，建议不明真相的群众也按我的顺序看，效果更好。话说已经很久没看到有质量的冷笑话了。

另一则娇客呢，来自COS论坛[一位统计界的武林至尊](https://cosx.org/cn/topic/102348)，要是依我以前的性子，肯定要好好调戏一番，这么大个论坛活宝，多难得，可遇不可求啊。不过现在本小子已经收敛很多了，安分守己，做个良民大大的，啊咂啊咂坏亭！

> 刚又Google了一下“诸葛藏藏”，发现我的日志排在第一页了，汗，感谢国家，感谢Google的照顾……

---
title: SAS与WPL之争以及我对开源的简单考虑
date: '2010-08-28'
slug: sas-against-wpl-and-my-thoughts-on-open-source
---

十年前Bill Venables在[Exegeses on Linear Models](http://www.stats.ox.ac.uk/pub/MASS3/Exegeses.pdf)中写道“SAS之于统计计算就像是微软之于个人计算”（但愿我的翻译是准确的），说得当然没错，现在SAS已经是“商业智能市场最大的独立厂商”（SAS的自我介绍）。不过Venables用“微软”这个比喻显然不是在夸奖SAS，接着看前面的PDF链接就知道了。去年11月SAS将一家叫WPL的公司（注1）告到伦敦高院，原因是“WPL违反SAS学习版的协议、对照SAS（的语法和结果）做了WPS软件的开发和测试工作”，今年7月出了初步结果，如我们能想象到的，天下公关大多一样：[SAS](http://www.sas.com/news/preleases/WPL.html)和[WPL](http://www.teamwpc.co.uk/press/world_programming_secures_high_court_victory_against_SAS)两家公司都说自己打了胜仗。这让我对WPL也没什么好感，当然它也没办法，要不然产品没法卖了。

我不知道SAS学习版的版权是如何规定的，也不是法律人士，官司本身我无法评论。作为习惯开源软件的人（也就是脑子被“毒化”了的人），我个人对这种保护版权到极致的行为非常反感。WPL对照SAS进行开发，都会被起诉；现在的很多影音播放器在功能和界面上看起来都大同小异，是不是要互相起诉一番呢？我要是唱一首周什么伦的歌，他是不是也要告我学他呢？（当然我不会唱他的歌）用电影《十全九美》中那位钦差的话：“甚么浆糊啊？！（注2）……”

开源软件的哲学在于鼓励分享，为有能力改进程序的人提供机会（源代码），并保护这种分享在软件流通过程中不会被封闭。自由软件运动的发起人Richard Stallman有一个听起来很傻的例子：如果你的好朋友看见你的一个软件很好用，但是版权规定你不可以拷贝给他，你是要放弃友情还是违反版权呢？两件事情都很“邪恶”，显然你要选择相对不太邪恶的那种，也就是**违反版权、把软件拷贝给你的朋友**。（这是我对他在useR! 2010的演讲原话的翻译，听起来像个笑话，笑完之后想想，我们的确就是这么干的）

向往“透明”和“分享”是人类的天性，我们大多数人憎恨各种制度的不透明，憎恨专制，可是对软件却很宽容——只需要它能完成我的任务即可，管它开源闭源（部分包括我本人）。在很多方面，这确实也没什么，听歌看电影上网，谁管背后的软件是什么，只要好用就达到目的了。在休闲娱乐之外呢？有些人用了同样的想法：只要这个回归模型/结构方程模型能跑出来就行了，管它是怎么跑出来的。Stallman不喜欢Linux的创始人Torvalds，就是因为后者倾向于实用主义，而不顾开源的哲学。闭源软件的发展壮大就像滚雪球，不断积累人们的信任，因为对于闭源软件，除了信任，你无法做其它事情。有人要说了，你小子真是个怀疑狂，你要是不相信的话自己跑个回归对比一下结果呗！哈，听起来的确有道理，可是我跑**哪个**回归呢？这个回归对了下一个能对么？若回归是对的，主成分分析会不会有问题？就像P与NP问题，对闭源软件来说，验证每一条结果都很容易，但求解过程几乎不可能推出来。开源软件在bug问题上的做法看起来是违反常理的：自己的缺点怎么能公开呢？岂不是很难被人信任？事实也的确如此，开源软件的成功案例相比之下并不太多，人们对它敬而远之，其原因在我看来只不过是商业宣传的后果而已（看看周围的领导，有哪个在决定采购软件的时候不是看商业公司的影响力？）。

实际上我对自由软件的前景并不抱太乐观的态度，当然我觉得它肯定会存在并将长期存在下去（比社会主义初级阶段要长得多），但它很难真的强大起来。自由软件往往给普通百姓一种印象，就是“嘛？那都是黑客或编程疯子用的工具，我要算回归，干嘛不点按钮、非要写`lm(y ~ x)`”，这是个问题。如果你不够强大，你的声音就会被更大的声音淹没，正所谓人微言轻。Stallman的声音比起微软，不知道是不是小到可以忽略（加上他那样强硬的个性，有些人可能难以接受）。我的意思是，如果自由软件世界的人只关心程序本身，而不顾外部运作手段的话，是不会强大的。有时候我经常回忆我在08年到09年间在某咨询公司的一些见闻和体会，比如关于大局的“产业为本，战略为势，创意为魂，金融为器”或是关于个人的“忠诚心、信任度、专业力、江湖气”。就快要做爸爸的[江堂](http://li-and-jiang.com/blog)兄（以后我们改称“虎娃/虎妞他爹”好了哈哈）以前连载了十几篇“男儿三十未封侯”，其实我脑子里也有那么点“封建思想”，不过“三十封侯”对绝大多数人来说已经是不可能的了（眼前本小子三十封没封PhD都没谱呢）。

呃，我说到哪儿了？……

---

注1：WPS是WPL的一款软件产品，据其网站介绍，它同样能跑SAS代码，价钱不到SAS的十分之一，这次判决结果使得WPS还可以被（厚着脸皮？）卖三年，不知道SAS的大蛋糕会被咬掉多少，我估计不会对SAS有什么影响。

注2：这里的“甚”在原话中读作卷舌的“耸”，汉字中没有shong（三声），所以写不出来：shong么江湖啊。

注3：如果这里的读者有人阅读REvolution的博客的话，会发现他们那篇关于SAS和WPL文章显然偏向R，作为统计学家，却不把数字交待清楚，什么“一半被调查的人想转出SAS用别的软件”，典型的新闻噱头标题，其实挺没劲的，不知道算不算是为自己产品写的“软文”。

注4：开源从常理来讲本来就是吃亏的行为，但还是有人愿意贡献，而有些可耻的闭源软件却要违反GPL协议，明明使用了开源的成果，却不将开源部分的源代码公开，这里面包括QQ影音和暴风影音（使用了开源软件FFmpeg）。GPL协议的要求如此简单：你可以将开源软件用以商业用途，愿意怎么卖怎么卖，但前提是你必须把来自开源软件部分的源代码公开，不可以收入闭源软件隐藏起来（比如仅仅使用dll），不知道为什么有些软件连这么简单的要求都不能遵守。

---
title: useR! 2010会议流水账回顾
date: '2010-08-30'
slug: memories-of-user-2010-at-nist
---

本来这篇流水账日志早就该发了，一直懒得写，放在草稿箱里已有一个月，还是拖出来简单写一写算鸟。正好开学前老板说，你娃儿去开了useR!会议，那开学第一周的组会上就你和Marie来说说你们的观察吧。于是乎，我又绞尽脑汁回忆了useR! 2010。

公元2010年7月19日凌晨3:45起床，搭租好的车从农村去机场，一小时后到达。路上看见天边电光闪闪，非常吓人，我心想完鸟，这飞机还能飞么？机场一路进去，木有任何延迟或取消航班的迹象，早上6点，按时起飞，我心里捏着一把汗。这机长也不是盖的，拖着飞机掉头就往没有闪电的方向飞，绕道去芝加哥，幸好菩萨及圣母保佑，平安到芝加哥ORD机场，大约40分钟后，搭下一班飞机去DC里根机场，算是故地重游。出机场又找预定好的车，开了一个小时才开到马里兰NIST，路上又经过那华盛顿纪念碑啊、林肯纪念堂啊、造币厂啊之类的地方，也不稀罕。

这次张翔张主席也从国内不远万里漂洋过海到NIST开会，我琢磨着他可能是唯一一个从中国大陆来的参会者，报名的人当中还有另一位兄弟似乎也要来，但后来不知为何掉链子了。张主席本来订好了租车，结果到了美帝，驾照上木有对应的英文翻译，于是也木有办法租车，而本小子至今还没学开车，那么就地铁公交加“11路”车，总之找到了旅馆。张主席到了NIST附近，没直接去旅馆，而是气定神闲找了家餐馆吃饭去了，我只好吭哧吭哧去找他吃饭。主席就是主席，也不是盖的，不拖箱子不拎包，而是整个登山包背着，连睡袋装备都有，那是相~昂~当的专业。

从农村去了城市，自然是不便，虽说是城里，NIST周围似乎也是鸟不拉屎地不长毛，找了家超市胡乱买些食物水果，回旅馆歇着。下面进入正题。



会议三天，前面加一天主题培训，上午下午各一场，我报名的分别是Frank Harrell的统计图形和回归建模策略。图形一场，倒是开了不少眼界，主要是Cleveland和Tufte的一些观点，很多很多故事，听得悠哉悠哉，后来回来之后也开始借Cleveland的书翻翻（The Elements of Graphing Data），果然有趣。回归一场，速度太快，很多细节不熟悉，所以照旧收获不太大，这里“照旧”是因为08年在德国我听过一遍了，如今又听了一遍。不过我一直深为同意他的“不要把连续变量离散化”的观点，这一点我[去年已经说过一遍了](/cn/2009/03/discretize-data-to-lose-information/)。虽说是讲回归，Harrell的讲法并不像传统的回归课，甚至几乎没有任何传统回归课的内容，比如他大量使用样条、光滑方法、Bootstrap、收缩估计（如LASSO）等。

开会三天就是跑来跑去到处听，到现在也没什么有深刻印象的报告了。几场邀请报告中，Harrell列举了种种统计应用（主要是医学中的）之误，以及分析可以怎样被改进；Luke Tierney讲了一些R在计算中的发展方向，主要是并行计算和Byte code编译，后一项工作他似乎已经做了十几年了，我们都知道R语言是一门解释性语言，也就是它不像C语言能编译为机器代码执行，所以在运算效率上会低一些，Byte code编译的效率比编译为机器语言差一些，但比纯粹的解释执行方式肯定要快，我不太了解其中细节，罢去不谈；关于并行，很多人总是问如何让R利用多核计算？Tierney认为这个问题的答案很简单，但这个问题本身是错误的，正确问题是，如何利用多核使得运算更快？对并行运算不了解的人可能会想象2核运算比1核快一倍，但事实不是这样简单，因为给各个核分配任务以及回收结果都要花时间，并不一定越多核越快，这是常识，也不谈，不过现在大家似乎都很追并行运算，其实并不是所有人都有必要并行的，据他介绍，普通的四则运算，若向量长度不到三万，则并行计算的意义不大；其它报告中，听了一些，其中在我的报告之前的那场报告还挺有趣，讲体视学（stereoscopy），那位兄台搞了两台投影仪，分别投上用R画的一些不同颜色的图，给观众发了一批立体眼镜，就是最简单的那种，一边镜片红色，一边蓝色，大家戴上看他表演，从一些平面图里看到3D图，报告完毕还在屏幕上打出滚动字幕（制片人、鸣谢之类的），观众哄堂大笑，他说下一场报告是动画，看样子咱们可以组建一个Pixar公司了；然后我登场，第一句话就是，嘿，兄弟，你打算啥时候建公司啊？到时候告诉我一声哈。我基本上是老调重弹，演示一些动画。讲完一个宝洁的人跑来给了个名片请我给他发一下幻灯片，也没啥问题。后来我在外面看到有一位Montana的本科生基于我的包做了一些应用，在走道上展示了几天Poster。其它报告也就是Notepad++/NppToR、Sweave等，回来之后我在Windows下的编辑器就成了Notepad++配上NppToR。

这次R会议专门安排了一个R在商业应用中的讨论，出席的有宝洁和REvolution等公司，在那里见到了Norman Nie，说实话，见到这个活人之后我的印象并不太好。REvolution真是大肆打广告啊。

会议期间遇到不少中国人，其中还惊奇地发现竟然有一位群众大学统计学院的老早以前的师兄，聊起群大，甚好甚好。另一位Boan同学，我见他总觉得面熟，上前搭话，又貌似不是见过的人，不过搭过话当然就认识了，互通姓名，Boan说，“哦，我知道你，我系你粉丝啊”，嗨，哪里哪里，不敢当不敢当。我感觉我这小站里潜水的美帝留学生还挺多的。我总琢磨着咱们留学生可以组织组织，平时抽抽空给[统计之都网站](https://cosx.org)写几篇好文章啊，不说啥报效祖国，但报效人民总是应该的吧。还有Shentu啊，Jinzheng啊等等。还有些美帝之外的，像Jing Hua Zhao老师啊，Xuefei Mi啊，都是2008的熟脸。

22号晚上在National Zoo晚宴，很奇怪，为啥晚宴安排在动物园，是去吃狮子呢还是吃老虎啊？一群人浩浩荡荡杀到动物园，一看也就是个露天的场地和一个大棚子，碰巧我在车上坐在Harrell旁边的旁边，下车了吃饭就和他坐一桌了，听了不少关于SAS的八卦故事。对Harrell了解的人都知道，这老爷子69年开始用SAS，91年用了一个月S-Plus就放弃SAS了，因为SAS编程效率低得惊人，后来又转入R阵营。凡是R-help邮件列表中有出现SAS的讨论，他几乎都会出场。老爷子当年为SAS贡献了很多程序，后来SAS都抹掉了他的名字，过河拆桥。还有关于SAS CEO的种种故事，这里不便乱说，免得告我诽谤，总之他对Jim Goodnight的人品很不齿。听这样一些故事，再看如今SAS那些发言人的话，难免觉得真是冠冕堂皇：


> Boswell added, “SAS invests hundreds of millions of dollars in research and development every year. **Protecting the intellectual property created by the dedicated and talented employees of SAS is of paramount importance.** We will vigorously pursue the remaining issues in this case and look forward to getting clarification from the ECJ.”


最后一天下午安排了Richard M Stallman演讲，我吃完午饭看见RMS一个人在那里看书，我心想怎么到现在还没有粉丝前来围观，于是赶紧抓紧机会和这位大仙合影一张（按照惯例，我依旧不会放正面清晰照，哈哈）：

![RMS and Yihui at useR! 2010](https://db.yihui.org/imgur/SohGg.jpg)

我跟RMS说，您老人家揍是俺们的神呐，他说，不，我只是个圣人（Saint）而已。看上面的照片，果然很圣人，照相时头上都顶着光圈（不是我特意涂上去的），而我就没有。

RMS演讲从下午1:30开始，一直到4点多（包括提问环节），此公果然大小演讲经历无数，讲起来滔滔不绝。他的英语非常清楚，不像一般的美国人，一句话省略音节无数，而且他用词也比较正式而常见，所以听他演讲还是比较轻松的。在外人看来，RMS似乎什么都反对，确实，他反对的事情太多太多了：Linux（注1）、MS Windows、Mac、iPad（他故意读作iBad）、Amazon Kindle（注2）、Adobe Flash（注3）、Facebook（注4）……

说到“SAS is bad不要用SAS”的时候大家哄堂大笑，但实际上他指的是“Software as a Service”的缩写SaaS，关于这一点，本小子也是在大家哄笑完之后才突然意识到，同时也听见前排有一位老先生“啊哈”一声可能也突然明白过来了，不过我估计还是有相当一部分人误会了，很多R的用户都对SAS没什么好感。可能RMS自己也不知道听众为什么会笑吧。SaaS的问题在于你把你的数据上传到服务商的服务器上，他们可能用你无法了解源代码的软件做了计算，并且对你的数据有完全的控制权，在RMS看来这和后门程序本质上没什么两样。

这次演讲他拒绝了录像，但接受[录音](http://www.r-statistics.com/wp-content/uploads/podcasts/Richard%20Stallman%20speach%20at%20useR2010%20-%20Talk.ogg)，因为录音发布的音频格式是ogg，也就是最常见的开源音频格式，而会场的录像没法用开源格式。

以中国人的处世原则来看，RMS简直就不可能活下去，他总是旗帜鲜明挑战最强大的机构，反对很多流行的软件和事物，在老百姓看来可能不容易理解。如此排他性地坚持“自由”，最终结果如何，我也无法预料，至少目前看来，不喜欢RMS的大有人在。

四天会议结束，下午Qihao开车送我和张主席去地铁站。尽管去年坐过DC的地铁，可还是忘记了怎么买地铁票，还是主席厉害，初来乍到啥都搞明白了。我们坐着地铁况且况且前往DC本来要去宾馆，但主席路上突然身体不适，我想了想先到China Town出车站，就近找个泰国餐馆坐下休息吃饭，好歹身体恢复，吃完晚饭继续地铁去宾馆；主席一路掏出胶卷相机照相（我还以为胶卷相机已经从摄影江湖消失多年了，主席说单反还不如胶卷呢）。再出地铁站的时候，主席见到一指路的向导MM站在那种两轮平衡车上很好玩，就上前问能不能借他玩玩，结果被回绝了……走去宾馆的路上，主席大谈那车的NB之处，高科技玩意儿，我不懂。

宾馆离机场不远，因为我是早上7点飞机，所以挑了家可以走去的，但第二天早上5点爬起来告别主席走去机场，半路上走到高架桥底下去了，而去机场的路在桥上，环顾四周，貌似木有上桥的地方，慌了神，好不容易碰到个晨练的，问了个上桥的地方，才走到机场了。从机场外到登机口也就花了大约五分钟时间，非常顺利。飞到芝加哥，发现天气恶劣，去得梅因的飞机晚点了，一会儿是晚半小时，一会儿变成一小时、一个半小时……本来上午11点到得梅因，结果下午1点才到，正好赶上租的车。那司机在机场看见飞机晚点，还给我打了个电话（当然手机关机中，给我留言），结果飞机落地过了不到10分钟我就出现在他面前，吓他一跳，嘿嘿，本小子坐在第一排，飞机落地开门就走，当然快。那段日子经常下雨，得梅因的水也很大，有些地势低的地方也被淹了。我回来的时候已经天晴了。

到了农村，休息几日，便搬家了。再过些日子，农村发洪水了；再过几天，开学了。暑假期间的大事至此基本记载完毕！退朝~~

---

注1：此处有两点解释，首先，他觉得那位Linus Torvalds先生写的Linux只是GNU自由软件中的一种，我们不能把一个操作系统直接称为Linux，而应称作GNU/Linux；其次，他不认同Torvalds的实用主义观点，他坚决反对非GNU的软件被包含到GNU/Linux系统中。所以，确切地说，他反对把Linux看做一个完整的操作系统。

注2：从某种意义上来讲，Kindle给你的书不算真正给你的，Amazon有权力收回电子书，有些客官可能听说了，去年7月的时候Amazon远程删除了所有用户的《1984》（很有讽刺意义——删去的偏偏是一本著名的讲极权主义的书），包括用户记的笔记。如果别人能控制我们手中的东西，我们的东西真的算是我们自己的么？Kindle这个词本来的意思是点火，于是RMS讽刺它是用来“烧书”的。

注3：Adoble Flash很“聪明”地发明了一种超级Cookie，它不受你的浏览器控制（因此无法从浏览器删除）、文件大小无上限、可以永久存在于你的电脑中，更可怕的是，这种Cookie中记录的信息可以不受电脑主人控制而被发送出去。若各位客官不知道Cookie为何物的话，可以自行搜索一下，简单说来，就是网站用来写入一些用户信息的文件，比如你的用户名密码什么的，普通的Cookie可以从浏览器中清除，而且有很多限制。

注4：又是一个不顾用户隐私的应用，看看它这些年来的默认隐私设定的变化就知道了：“[The Evolution of Privacy on Facebook](http://mattmckeon.com/facebook-privacy/)”。默认情况下，除了生日和联系方式，已经没有任何一项个人信息不能被所有互联网用户看到了。当然，我们希望网上的笨蛋很少、大家都会保护隐私。

---
title: 括号与中文
date: '2010-09-02'
slug: brackets-and-chinese
---

在一个邮件列表中经常读安邦咨询的宏观经济报告，可能比看新闻强点，不过安邦的这些报告中有个小问题本小子忍了很久了，就是每次在罗列一些经济观察之后，都会有一节“最终分析结论（Final Analysis Conclusion）”，结论如何暂不评价，我觉得这个标题中的中文和英文都一样啰嗦。“最终分析结论”六个字纯属浪费，“结论”就够了，再加上括号把这三个词逐个翻译成英语，就更不像样了（估计陈钢又要跳出来说“[你这个偏执狂！](/cn/2010/08/show-caption-numbers-in-beamer/#comment-5525)”）。也许很多人都觉得英文很酷吧，有事儿没事儿加上一个括号标注一下英文，仿佛离了英文就不会说人话了，何必呢？

想起俺们系今年来了几位新童鞋，一天吃饭的时候，我似乎听见一位新童鞋喃喃了一句（也许是听错了），“这微波炉不work了”。俺滴娘呀，这才来几天啊，出口已经是“不work”了……直接说“微波炉坏了”或者吼一嗓子“他奶奶的微波炉坏了”不行吗？要不干脆“the microwave does not work”；中英混杂，有时候的确需要，比如一般人不熟悉的专业名词翻译，但大多数时候都没必要。我是个土人，从不说“这不make sense”或“那不work”。用郭德刚的话来说，“这是人话吗？！”（忘记是哪场相声了）

好些天前，有童鞋问我怎么学英语，当然我不是砖家，自己英语就不咋地，没法乱指导，不过这貌似不是正确的问题，正确的问题是，我该怎样利用英语为我服务？这年头娃娃都开始学英语了，可有谁来解释一下俺们为啥一定要学呢？不知道[虎娃](http://li-and-jiang.com/blog/category/tiger/)他爹地有没有英语胎教啊，呃，开玩笑的……又跑题了……

说起括号这事，也是我一大心病，因为我自己写东西很喜欢用括号，窃以为这是表达能力的问题——如果有能力表达顺畅，那么就没必要用括号附加说明。读者读有括号的文字，总是觉得卡得慌。借郭芙蓉一句话：世界如此美妙，我却如此括号，这样不好，不好。
---
title: 冷笑话一则：您想拥有和网易免费邮箱一样强大的软件吗？
date: '2010-09-04'
slug: cold-joke-on-163-mailbox
---

三更半夜我来讲个冷笑话。昨天给一位同学回邮件，由于邮件太长，每个段落的主题不一样，这种情况下我一般会把我的回复插在对方邮件的每一段话下面。猛打字，猛打字，猛打字……最后发出去的邮件大致样子是这样的：

> > 问题讨论一

> 好嘛，我的意见一，不拉不拉……

> > 问题讨论二

> 啊哈，我的意见二，咕叽咕叽……

> ……

> > `________________________________`  
> 您想拥有和网易免费邮箱一样强大的软件吗？

> 我不想，谢谢。

> Regards,  
Yihui  
\-\-\-  
Yihui Xie <***@gmail.com>  
Phone: 515-294-2465 Web: http://yihui.org  
Department of Statistics, Iowa State University  
2215 Snedecor Hall, Ames, IA

写完，发送！哈哈！

我讲完了，睡觉去。谢谢各位客官，有钱的捧个钱场，没钱的按惯例去银行取点钱来捧个钱场。

---
title: 《现代统计图形》图库一章正式完成
date: '2010-09-06'
slug: msg-graphics-gallery-finished
---

这些天又反复回头看了看前面写的章节，修修补补，在多边形一节增加了一个“万花筒”彩蛋（不要看成“蛋筒”）；图形元素一章增加了两个应用示例，一则讲瀑布图，一则讲梯度下降；还翻出了三年前我用R做的一个班徽设计，也塞在了书中；直方图一节增加了ASH的说明；图库这一章实在太长，终于收尾了，最后第40节介绍了一下其它基于基础图形系统的包，主要是plotrix，用了两个例子，一个风向图，一个纯属搞笑的饼图。写书查资料倒是长了些见识，比如飞机跑道的方向设置和风向图的关系，还有86年挑战者号航天飞机失事的更多细节等。

目前为止，书稿页数约为240页，一共78幅图，这意味着它快赶上漫画书了。

总而言之（[丸尾](http://zh.wikipedia.org/zh-tw/%E6%AB%BB%E6%A1%83%E5%B0%8F%E4%B8%B8%E5%AD%90)语），现在我终于可以宣布《现代统计图形》书稿的第五章“图库”已终结。曾经拿到过我的书稿的童鞋们可以更新了。摸不着头脑的童鞋参见[这里](/cn/2010/08/modern-stat-graphics-manuscript/)。

后面的内容，难度将越来越大。

-----------------插播跑题分割线-----------------

顺便跑题表扬两个人：汤耀华和李青龙。前者作为COS论坛版主，和我讲话从不含糊，该打打该杀杀，对我这样的“坛霸”，这样的版主应该再多几个，要是都是乖娃娃，反而麻烦了，当然多了也麻烦；后者同样，充满怀疑地问：师兄你咋就看不上Excel呢？为啥非得用那些西装革履的LaTeX？

为啥本科的计算机普及教育一定要绑在Windows上呢。用户习惯比什么都重要，麦当劳和微软之NB，你不得不佩服。当你处于一个熟悉的环境中时间长了之后，就认为这就是世界的全部了。管他娘的什么自由什么reproducibility，只要邻居张三怎么干，我就怎么干。
---
title: nnd是什么意思及其它娇客
date: '2010-09-10'
slug: what-does-nnd-mean
---

若要问我在ISU统计系最可爱的老师是谁，我一定双手双脚投票给Wu老师。有空的时候我再写他，这个老师实在是很好玩，很是让人喜欢。不过这里说的是另一件事，很久以前我问了一下[NB是什么意思](/cn/2008/01/what-does-nb-mean/)，结果让部分客官蹲墙角背单词去了，这次就不问了，直接给答案。n.n.d的意思是：

> **非负定**（non-negative definite）

这是Wu老师对非负定矩阵的缩写，引起了我的联想。由此可见上课多么惬意。有客官可能要吼一嗓子了：你这个标题党，nnd！

----- 娇客“不差XXX”系列分割线 -----

1. **不差程序员** 最近盗梦空间貌似很火，我没看。不过悟出一个道理，[程序员的供给永远不会短缺](http://imtx.cn/archives/1549.html)。
2. **不差卫生纸** 又看见一个[有所耳闻但从未亲眼看到周围的人描述过的事实](http://hi.baidu.com/ming_uld/blog/item/13bec539cc0aab2d96ddd848.html)（有点恶，慎入）。
3. **不差传谣言** 
Gelman教授这两天有点郁闷。某朝有被自杀、被跳楼的现象，美帝也一样，Gelman[“被喜欢”Cleveland点图了](http://www.stat.columbia.edu/~cook/movabletype/archives/2010/09/heres_how_rumor.html)。所以我前面说嘛，REvolution的博客我越来越不喜欢了。
4. **不差合理性** 黑格尔已经郁闷了很多年了，尽管我一向认为哲学家和疯子的区别不大，不过还是要帮黑先生说句话，他老人家委屈的地方就是“存在即合理”被广泛误解了，最近不知咋地接连看见好几个人用这句话来作证**讲理**，不禁让我想起西游记的片尾曲：广`~~~`光`~`咣光广`~`光`~~`广咣，……敢问**谱**在何方……**谱**`~`乌`~`在交`~`嗷嗷嗷`~`[下](http://www.marxists.org/archive/marx/works/1886/ludwig-feuerbach/ch01.htm#002)！
5. **不差房地产** [据说](http://house.hinews.cn/pagenew-28344.html)“北京8月30日至9月5日住宅总量（除经限房）成交就达1979套，环比上周涨幅高达30.5%”，我滴个乖乖，一周两千套房，这是啥概念，一周多出两千个丈母娘来？该评论的标题称，“房地产市场与调控政策已进入僵持阶段”。而娇客在[这里](http://house.focus.cn/news/2010-09-09/1042747.html)。最近深圳貌似也很热闹。种种动向，若从大数定律来看，本小子觉得心里有点悬，这其实不是个娇客。
---
title: R 2.12.0将于10月发布
date: '2010-09-13'
slug: r-2-12-0-releases-on-october-15
---

看到这么一条：

* Directory ‘R_HOME/share/texmf’ now follows the TDS conventions, so can be set as a `texmf` tree (‘root directory’ in MiKTeX parlance).

八错八错，以后终于不用把Sweave的那些定义文件手工拷到MikTeX的texmf下去了。

最近看到CRAN上新出了个关于[可重复性研究的Task View](http://cran.r-project.org/web/views/ReproducibleResearch.html)，是个辉瑞公司的人写的，里面一共链接了二十多个R包，其中居然包含了我的[animation包](http://cran.r-project.org/package=animation)，善哉善哉。

又及：这两周R界又燃起了一场讨论，最开始是从多伦多大学一位教授开始，他发现了[R里面两个“令人惊奇”的地方](http://radfordneal.wordpress.com/2010/08/15/two-surpising-things-about-r/)（花括号比圆括号快、`a*a`乘法比`a^2`平方快），随后他又提供了一系列改进的patch发给了R core们，从邮件列表开始，这把火烧到不少牛牛那里去了，有人惊叹有人不屑。然后我惊奇地看到一些我从没见过的人都出来“灌水”了，像Duncan Murdoch、Ross Ihaka、John Maindonald等。牛。我作为一个计算机盲（相对而言），一直都没明白到底是什么因素导致了base R只能基于内存做计算，以及支持并行的的代码修改难度有多大（那些BLAS库都木有并行版的么）。Ross一直雄心勃勃想整一个新的软件，不知现在进展在哪一步，抑或期待哪个天才再次横空出世？Luke Tierney十几年来都在做并行和byte-code编译，也不知后话如何，老爷子这学期会时不时访问我们统计系，上次来只跟他喝咖啡听了些ASA的八卦，后来也没机会详聊。Duncan Temple Lang是个有趣的天才，有事没事发布个好玩的包，前一段时间又放出来一个[Rllvm](http://www.omegahat.org/Rllvm/)，是另一种形式的编译方式。R作为一种解释执行的语言，短时间内肯定还死不了（我是说十年二十年），毕竟这世上大多数人仍然处理小数据，但这么发展下去总不是长久之计。
---
title: FFmpeg果然挺强悍
date: '2010-09-15'
slug: awesome-ffmpeg
---

两年多前，我在考虑[animation包](http://cran.r-project.org/web/packages/animation/index.html)的时候曾经考虑过FFmpeg，但后来想了想，又不是做视频，于是作罢，没有仔细看下去。今日从土豆下载了[佐佐木爷爷的树木赞歌](http://www.tudou.com/playlist/playindex.do?lid=10008948&iid=58355793)，是f4v格式，想转mp3之类的常用格式，正好电脑里还有一份FFmpeg程序，于是打开命令行一句话就搞定了：

    
    ffmpeg -i zuozuomu.f4v zuozuomu.mp3


牛。

之所以电脑里有一份FFmpeg，是因为前一段时间有位童鞋来信，给我发了一些animation包的增强功能，其中有用FFmpeg的。这事儿过两天得处理一下，animation包要更新了。
---
title: 请珍惜免费的午餐
date: '2010-09-27'
slug: please-treasure-free-lunch
---

当有人提供免费的午餐时，请务必珍惜，因为“天下没有免费的午餐”。近日有人提醒我，我的[书稿](/cn/publication/#MSG)被发到“著名的”XX经济论坛赚积分了，如果时间倒退三四年，我会毫不客气地说：“请不要侮辱我的作品——那个论坛和妓院没什么两样！”现在混迹论坛多年，心态已经老化许多（注1），于是仅仅陈述一下这样做为何不妥作罢。

“版权”二字在中国，凑近了仔细看，只能看出“娇客”二字来。如果今天我们漠视别人的权利，明天也许我们自己也是被漠视的对象。

我似乎还没有对XX经济论坛发表过正式评论，现在我对它的评论是：它已经毫无道德底线——想尽办法让会员掠夺会员，想尽办法保护自己的利益；去看看那个荒谬的知识产权保护声明，你会发现他们把所有的风险（盗版）都让会员承担，自己的责任推得一干二净，此等“保护”，是在保护谁呢？办网站，如果不爱惜你的会员，即使挣钱挣得再多，最后能留下什么？当一个论坛满版面的回帖都是“怎么这么贵啊”“能不能便宜点”“积分不够”之类的回帖时，这网站存在的价值在哪里？或曰，它的价值就是告诉大家，下载东西必须要有积分？当这种想法变成了常态的时候，我们会看到一些[让人无奈的帖子](https://cosx.org/cn/topic/102568)。

当然，他们愿意怎么折腾怎么折腾，与我无关，我看不惯的是，很多志愿者的工作也被传上去卖积分。这让我想起几年前，有位老太，说她觉得这世界上还是好人多一些，几年后，她给假装问路的骗子指路，结果被骗子用迷药骗走了所有银行积蓄，从那之后她就变得非常多疑。这让我愈发痛恨社会上的骗子，他们对社会风气的影响，甚至比杀人抢劫还要恶劣，因为他们改变了更多人心，而人心之改变，很多情况下都是不可逆的。

当初我请fan来COS当版主的时候，我的期望是招生就业版能有更多关于会员的人生发展的指引，而不仅仅是一个问考研信息的地方，当然这是个宏伟目标；也许有人会问，你丫是个疯子啊？一个破论坛，干啥把它的目标整得光芒万丈好像多NB似的？对于这样的问题，放在以前，也许我会解释一番什么以人为本的废话，现在不必了，因为我觉得[江堂曾经引用的一句诗](http://li-and-jiang.com/blog/2010/08/15/tiger-rose/)让我印象深刻，且非常切合我的意愿（这诗句让我感叹了很久，诗人如何能想出这样的诗句啊）：

> In me the tiger sniffs the rose.
> 
> Siegfried Sassoon
> 
> 
我心里有猛虎在细嗅蔷薇。
> 
> 余光中

最后强调一下，我并不怪罪那些用我的作品赚积分的人，可以理解，他们从某种程度上来说都是被逼的，我所不齿的只是逼他们的人。但无论如何，请所有人珍惜别人的贡献，并争取做出自己的贡献以惠及更多人；总有一天我们会明白一些看似矛盾的道理，“慢”就是“快”，“给”就是“得”。

---

注1：估计[以陈钢为首的这些同志们](https://cosx.org/cn/topic/102561)很快要杀过来了。劝我入土为安了都。

注2：刘兵同学[很久以前让我写自传](https://cosx.org/cn/topic/15202)，如果我真要写出来，我会把我在建立统计之都网站之前的“野史”作为重点加上，因为一个人的“成功”（我离成功远着呢）其实并没有太大意义，重要的是一个人的转变过程。想当年，我和这些人一样，传播商业软件（鼎盛时期用百度Google搜索“统计软件下载”我可以排第一，年少无知时觉得多么自豪）、不珍惜志愿者的劳动（随便复制粘贴）；COS创建之后的两三年，一直也有积分制度，只是并没用这个工具营利而已，而后我们果断放弃了所有积分制度，返璞而归真（什么是“真”？）。

注3：本文完成于一周多以前，反复掂量了几遍才发出来，原因是这种文字有种潜在的危险，不知道我是否把握得当——提供免费午餐的人容易把自己摆在道德制高点去批判别人，这种行为是非常危险的，伤人伤己，伤人是因为没有人愿意被别人形容为“不道德”，伤己是因为这种态度跟人讲话别人几乎不会接受。不幸的是，前两周本校华人联谊会似乎犯了这样的错误。即使是志愿者，也并没有权力要求别人做什么。圣经为啥写耶稣而不写亚历山大大帝呢？
---
title: MD5问题之惊叹！
date: '2010-09-28'
slug: md5-code-for-my-qq-number
---

抱歉用了个典型的圣斗士星矢标题……刚才又惊叹了一次：又有人根据我[在FAQ 5中给的MD5码](/cn/guestbook/)“破解”出了我的QQ号。这盘古开天辟地以来，有以文会友的，有以武会友的，本小子这是以MD5会友，结识的都是计算机高手。所谓那青史几行名姓，北邙无数荒丘……缺！怎么又说到郭德纲的相声上去了。

又及：我的统计计算第一定理是，**人脑一小步，电脑一大步**。即：人多动动脑子，电脑可能会减少大量的运算量。像这个问题，如果能得到148和157楼的“先验信息”，那么估计两秒钟可能就算出来了。
---
title: 我不看的文章或文档
date: '2010-10-04'
slug: i-dont-read-these-documents
---

翻着一个月前的邮件，瞄了瞄一个“宝洁论文奖专辑”，又是一堆因子分析。于是我来列举一下我一般不看的文章或文档：



	
  1. 用结构方程模型的文章：这个就不用解释了。其实还有层次分析法和灰色模型。前者简直是史上最糟糕的调查方法，那些用这种方法的人自己填一次问卷试试就知道了，收集的数据没谱之极，哪天要是有“测不准奖”（和“测不准原理”无关），第一个就颁给这个方法好了；后者我已经记不清了，总之当年给我留下很差的印象。

	
  2. 用因子分析的文章：如果说得愤青一点，我都怀疑是不是只有历史上第一篇关于因子分析的文章是有谱的，后面的都没谱。反正我感觉没谱，啥玩意儿都能给你整出“因子”来，对应一套社会学/心理学理论，幸甚至哉，歌以咏志。关于因子分析，几年前我看的标准是看它讲不讲因子得分，凡是讲得分的都不看，因为得分是个没谱的东西，我从来没搞明白过什么叫得分。《笑傲江湖》里独孤求败对令狐冲说“你要小心你的师父”，我也充胖子说一句“你要小心什么数据都能用的统计方法”。

	
  3. 基于问卷调查数据的文章：原因很简单，我就问你（不要左右看别人，就是你），**你愿意填调查问卷么**？（这就是为什么我倾向于做基于仪器测量的数据，而不愿做从人嘴里出来的数据，这年头还有几个人没被问卷调查折腾烦？）

	
  4. 用Word写的文档：也不是不看，是不愿意看。七月底有家出版社联系我审核一本R图形的书，我一看，好家伙，跟我写的内容有几分相似啊（只不过是英文的），但由于排版太差，又是Word文档，于是瞅了瞅，婉拒了；代码不用等宽字体，图片不是矢量图，乡下来的。


这些标准未必有道理，只是个人选择而已。

又及：[上次MD5文章](/cn/2010/09/md5-code-for-my-qq-number/)以来，已有3人找到了答案（其实找到了也没啥用……）。更有甚者，都从我“伪装”的Email地址中找到了我的鸡逃课（GTalk）地址。以前某周姓同学似乎说过：水陆草木之花，八卦者甚蕃。
---
title: 评论一则
date: '2010-10-06'
slug: a-comment-on-me
---

刚收到关于本小子的评论一则：**你真没幽默感！**

办公室没人，遂学那野口同学窃笑数分钟，自雅典娜时代起便视娇客为生命的ikki sama，今日落得如此下场，真是个大大的娇客。

继而装模作样学那陶同学：微斯人，吾谁与归。
---
title: 从舞墨者到开平方到经济学与数学到小月月
date: '2010-10-09'
slug: yixuan-calligraphy-sqrt-econ-math
---

看这标题，又是个大杂烩。先说怡轩：前几天惊奇地发现原来怡轩还[有](http://yixuan.cos.name/cn/2010/10/maple-singing-ink-waving)一手毛笔字，佩服佩服。有几种不是纯属娱乐的兴趣是件好事，这年头天天敲键盘，提笔忘字，身在美帝的，渐渐人话也不会说了，文字本身有其奥妙，尤其是一天到晚推公式编程序的，抽空画两个字读两篇文章，也省得脑子僵化、少年痴呆。

又看到算[开平方](http://www.matrix67.com/blog/archives/362)的，想那牛顿法人人皆知，可到了极客手中，却能玩得让别人八辈子都找不到奥妙。黑客故事，还是不要多看，容易沉迷。不知道是不是我孤陋寡闻，这种惊天代码，似乎只出现在几十年前。计算机广为普及之后，反而听不到这种故事了。是因为我们的工具太多还是怎么回事？

[《不只是經濟學家：一位思想史學者的人生回顧》](http://blog.ylib.com/lai/Archives/2010/10/04/16660)一文，当然会吸引我的眼球。本科学完计量经济学之后的两三年里，我一直对计量充满了好奇与兴趣，直到后来被现实狠狠地恶心到了，渐渐对经济学中的量化方法感到无奈，进而完全放弃在这方面的努力。这篇文章吸引我的另一个原因是，我也一直喜欢读别人的自传或回忆录，不管他/她是什么身份；我不太关心一个人当下有多么光芒万丈或如何笑傲江湖（还是那句话：青史几行名姓，北邙无数荒丘），他/她的成长过程对我来说是最有用的。如果各位客官没时间细读，我可以摘录两段（小心我断章取义）：

> 逐漸地，經濟學自1950年代以來，近年來更是以加快的速度，變得愈來愈數學形式化。也就是說，幾乎都只關切分析的精準，而不惜犧牲政策的相關性。經濟學所展現的，是一種前所未有的社會數學，而非實證的社會科學。經濟學家有時被指控為物理羨妒症（physics-envy），但這是完全誤導性的指控。任何了解當代物理的人都會證實，物理學重視實驗證據，力求理論與實驗證據一致，不太重視嚴謹的定理與分析的引理（lemmas）。經濟學家的真正問題，是數學羨妒症（mathematics-envy）。一般均衡理論是經濟理論中最尊貴的類型，只有這個領域的頂尖專家在運用。這個理論完全不具實證內容。證明多重市場與一般均衡的存在、獨特性、以及局部的穩定性，能幫助我們對經濟體增進多少了解？完全沒有。沒有物理學家會認為，一般均衡理論提出有趣的問題，但數學家當然會發現這是一展身手的機會。一些當代的一般均衡理論學者，甚至將之合理化，說它實現了Adam Smith的古老承諾，證明「看不見的手」有調和私人與社會利益的傾向。這種說法不僅歪曲知識史，也完全誤解競爭作為社會過程的重要性。這個社會過程發生在現在，在一個以私人企業為基礎的經濟體系，這個社會過程也確保科技動能和成本極小化。Walras式的一般均衡理論，或是最終狀態（end-state）理論，與上述的說法根本不相干。[……]

> 令人憂心的是，後現代結構在方法論的概念上，成為一組受歡迎的描述性規範。這證明當代經濟學，充斥著無結果的數學形式主義（sterile formalism)。Donald McColskey已經告訴我們，經濟學只是強辯硬拗，和文學批評或美學沒什麼不同。經濟學認為，某些「深描」（thick）的方法論規則（輕聲說話、傾聽對手、提出論證），還可以接受；但是Popper與Lakatos的「淺繪」（thin）方法論，就被判定為不合理。McColskey或他的追隨者從未覺得，這是個破綻百出的見解。

我不懂经济学，而且越来越不能理解数学化的意义。我对任何找不到实际意义相对应的理论都有理解上的困难，因此我对统计学范围内的一些数学概念也同样满腹意见与怀疑。我现在对数学的评价是：它只是一种生活方式，或者倒过来说，它只是生活方式的一种。当然，数学部分只是上文的很小一部分，去看看他对马克思和弗洛伊德的评论，也一样很精彩。最后说一句，我并不知道Mark Blaug是谁，但我知道这种思考方式在西方教授（甚至西方人）中非常普遍。往往你会被这个人说得心服口服，可过了半个小时，当你看了另一个人相反的意见之后，你立马又被后一个人说服了。在美帝呆了一年后，我也渐渐有了控制自己的潜意识，对别人的见解不要轻易接受，要能给出你作为一个活人在思考过后的判断。

[落园搬家了](http://www.loyhome.com/1029.html)，友情广告支持一下。有关部门真是把.cn域名逼得鸡飞狗跳。据说前几天小温在CNN采访中给世界人民讲了个冷笑话。在我看来，网络审查是绝对必要的，我坚决支持，只是审查方式如果不要用屁股想出来就好了。一个遵纪守法老实巴交的小网民，又何必非得逼他/她上梁山呢？

一个[R竞赛](http://www.dataists.com/2010/10/using-data-tools-to-find-data-tools-the-yo-dawg-of-data-hacking/)就要开始了，各位useR可以摩拳擦掌了，获胜队伍可以得到三本useR!系列的书（任选）。

最近COS论坛的回帖气氛比较有喜感，某童鞋批评我没幽默感的帖子、李丰对tie的解释等等，都是生活好调料，有喜感是好事，大家保持，但不要过度灌水。

最后来说说小月月这件事。我是前天知道这事的，真是江山代有才人出。昨天早上还有人专门发邮件给我，让我天涯去看。对于这件事，我发表一句装13的评论：我觉得这社会有点残疾。只有**审丑**才能吸引人的注意，这是不是个悲剧？也许是我胡思乱想，但我越来越觉得经济两极分化只是个小问题，思想两极分化要严重得多。且不说那么高远，回到开头（小学作文中这叫“首尾呼应”），偶尔有点诗人情怀，不比关心小月月有哪些雷人事更让人觉得活得有底气么？
---
title: 记录R画图的每个步骤
date: '2010-10-12'
slug: record-all-plot-changes
---

几年前我刚开始写[animation包](http://cran.r-project.org/web/packages/animation/index.html)的时候就遇到一个头疼问题：图形设备无法记录低层作图函数带来的**变化**。例如`png()`等设备只能在一幅新的图形产生时才会创建一个新的文件保存图形，因此对于这样一段代码，`png()`只能记录3幅图形：

```r
f = function() {
    for(i in 1:3){
        plot(rnorm(100))
        lines(rnorm(100))
    }
}
png()
f()
dev.off()
```

而动画中经常需要点或线的运动，如果只是调用低层函数的话，这些运动不会自动被图形设备记录。后来我对这个问题的解决办法是一律暴力重画，所以在源代码中处处可见这种形式的代码：

```r
#＃ 依次添加点i
for (i in 1:n) {
    plot(x, type = "n")
    points(1:i, x[1:i])
    Sys.sleep(1)
}
```

而理想情况应该是：

```r
plot(x, type = "n")
for (i in 1:n) {
    points(i, x[i])
    Sys.sleep(1)
}
```

重画不仅慢一些，而且在Linux和Mac底下图形窗口会闪，导致动画很不连贯。所以我一直在想有什么办法能让低层作图函数触发图形设备记录新的图形。直到最近才发现一个在眼皮底下多年的函数`recordPlot()`，它可以把当前图形以`list`的数据结构存起来，这样每画一幅图都可以记录一下，到最后，如果这些图形需要用图形设备生成图片文件，只需要`print()`就可以了。如：

```r
f = function() {
    x = list()
    j = 1
    for(i in 1:3){
        plot(rnorm(100))
        x[[j]] = recordPlot()
        j = j + 1
        lines(rnorm(100))
        x[[j]] = recordPlot()
        j = j + 1
    }
    x
}
# 6幅图
png()
for(i in 1:length(x)){
    print(x[[i]])
}
dev.off()
```

这样我的问题可以部分解决了。但这样似乎带来了一个新问题：存储图形需要内存；如果图形很复杂而且数量很多，那么很可能导致内存不够（这个事件发生的概率很低）。另外，这种代码写起来也不那么直接，没有很好的扩展性。罢了罢了，暂时放弃。

## 胡思乱想后依惯例跑题

我觉得樱桃小丸子的片尾曲挺有意思的，昨天晚上我听了好几遍；感兴趣的客官娃娃可以[看看](http://www.tudou.com/programs/view/gZxvUeUTzMg/)。

<embed src="https://www.tudou.com/v/gZxvUeUTzMg/&bid=05&resourceId=0_05_05_99/v.swf" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" wmode="opaque" width="480" height="400">

又及：刚才看到还[有人](http://www.xiaobean.com/427.html)也叫“中国群众大学”，我心想这该不会是从我这里看的吧，于是Google了一下，结果发现我排第5，汗，如果仅此而已就不娇客了，真正娇客的地方在，排第3和第4的是真的“中国群众大学”。世上还真有群众大学啊……我又哈哈大笑。
---
title: 美帝之独立与浪费
date: '2010-10-14'
slug: independent-and-wasteful-usa
---

在正文之前先说两件事：一、我乃一小学生，最近[留言](/cn/guestbook/)页面收到几个问题大得吓人，一问“社会科学能否自然化”，二问“数据挖掘和统计学的关系”，诸如此类问题似乎不应该是小学生能回答的，各位客官显然高估我了，所以提问悠着点儿，这些道德三皇五帝功名夏后商周的问题，还是具体化一点对我来说容易回答一些；二、如果我在日志中提到了客官你，我以99%的概率保证我的“差评”不会指向你个人，以100%概率保证我不是那么尖刻待人的人，我的牢骚话往往是针对一类现象；迄今为止已经有好几人看了我的某篇日志之后战战兢兢或满腹冤屈写邮件给我解释或喊冤，其实不必紧张。完毕。

草稿箱里放着几篇几个月前只写了提纲的日志，一直没发，这就是其中一篇。在美帝一年，觉得美帝人民跟天朝人民显著不同的一点就是他们的独立精神非常强，生活中处处可见，简单的如，到处都是自助设施，没有人站在那里帮你（如加油站全都是自助操作），高层次一点的如他们对待小孩与老人的方式等。我有这么一些观察：

八月初去考驾照笔试，当时屋里有个老太太，独自一个人，年纪很大了，走路都颤颤巍巍，耳朵聋得厉害，也去考驾照（路考），后来居然还考过了。最后我听见办理驾照的人问她的出生年份，结果回答是nineteen seventeen。一个九十三岁的老太太，一个人跑去考驾照（法律规定应该有人陪同但我没看见），换在中国，老太太出门都是儿女簇拥、搀好扶稳，生怕磕着绊着，怎么可能九十三岁了还去考驾照，怎么可能允许老太开车。

我们的公交车（CyRide）前面可以放下一个架子来搁上两辆自行车，这样方便骑车的人在不想骑车的时候也能坐公交车，但CyRide关于的自行车搁放的说明手册上特别说明了，不允许司机下车帮乘客放车，乘客必须自己操作。话说我第一次去放自行车的时候还真没搞明白那个架子是怎么操作的（尽管看过说明），满头大汗把自行车往上放，司机就坐在那里巍然不动，幸好旁边有个公交司机下班，见状来帮了一把忙，我才搞明白自行车架的原理。其实这个规定也并没有我描述得那么严格，有时候乘客实在搞不明白怎么放车并且耽搁很久时，司机还是会下车帮忙的。

Ames村有家食品超市叫Cub Foods（刚撤走了），超市里有一种特制的小推车，非常矮，看起来很可爱（看惯了大推车再看这个袖珍推车），上面竖着根小旗，写着“Training customer”，也就是训练中的购物者，即：训练小孩自己推车买东西。五六岁的娃，就可以学着自己在超市买东西，在中国，这样的娃娃们还都是吵着要爹妈爷奶买糖吃啊。上次在华盛顿里根机场，遇到一对母女，女儿大概八岁的样子，买了一堆东西去结账，但不知道自己的钱够不够，在那儿加减，妈妈在一边站着，只是叮嘱售货员不要告诉女儿退掉什么东西能使这些东西不超出她手里的钱，让她自己做决策。

还是八月里的一天，我走路去交房租。半路上突然听到路对面有人叫“Sir”，转头看，是一个卖柠檬水的小女孩，大约也是七八岁的样子，一个人在路边摆摊，Ames这小村，渺无人烟，摆个摊也不容易，既然被叫了，就25分钱买了一杯。国内在这方面的教育，农村似乎还没怎么见过，城里倒是也有教育小孩子卖报纸的。

依旧是八月，买了新笔记本，联想T510，由于我是个喜欢折腾电脑的人，没过多久，硬盘被我折腾坏了，于是打电话问维修，结果客服简单问了几句，就说我给你寄新硬盘你自己换上好了（保修期内可以免费更换），我一听傻了，我以前只拆过台式机，没拆过笔记本，笔记本里面是啥样的一点概念都没有，让我自己换，我咋个换啊？问客服要了个硬件维护手册，看起来非常复杂。而等到硬盘寄到的时候，里面的说明书却很简明，三下五除二就拆了换上了，基本上跟插拔USB差不多。以前还担心要不要把电脑寄到维修中心去，后来看自个儿也能搞定。

生活上的独立精神，也一样反映在学术上。整体学术气氛还是比较正直的，不人云亦云，如我上上篇日志提到的，这种气氛促使你独立思考。不过目前我只觉得大部分老师们具备这种精神，而我观察到的学生们还是书卷气太重，没有足够的经验来装备自己的大脑。这学期的601高等统计方法课，则是一门非常锻炼脑力的课，尽管根据很多人的评价它似乎太哲学太飘渺，但我看到的是这位老爷子指出了很多关键问题，而且数学和计算之间的平衡把握比较好，不像有些老师，纯数学，或是另一个极端，纯计算。

说完美帝之独立，另外必须说说美帝之浪费。七月在马里兰开useR!会议时，晚宴同桌一个老美，说起能源问题，大谈中国太浪费，滔滔了半天，扭头一看，旁边好像坐着个中国人哎，问我是不是中国人，答曰是，老美觉得有点尴尬，我继而补了一句：大爷的（当然，心里说的），你不觉得在美国夏天太冷、冬天太热吗？言毕，同桌其他老美拼命点头。我心想，靠，你们也觉得这样啊，我还以为老美不怕冷呢。在美帝（至少在我们村），一年四季室内只有两种状态，要么冷气，要么暖气。尤其是夏天去开会的地方，经常觉得冻死人；而夏天一过完，10月1日就开始来暖气。我家的暖气还没法自己控制，呼呼地冒啊，头几天我早上都会被热醒，有一天早上五点多就热得睡不着，只好爬起来开窗、吹风、看书。这些天晚上睡觉干脆开窗睡，可见屋里暖气烧到什么程度（可能跟住三楼有关）。公交车上也一样，夏天冷气，冬天暖气。所以在这个号称冻人的农村，哪里有过冬的感觉啊，三分钟从屋里热烘烘地走去公交车站，坐上热烘烘的公交车，下车一分钟走到系里，天再冷，人也冷不到哪儿去。美国鬼子还指责中国能源浪费，哼。甚么江湖啊。

又及：关于美帝，一些留学生通常一边倒称赞美帝怎么地怎么地好，天朝又怎么地怎么地不好，我觉得挺幼稚的。美帝之黑暗面，凭两年留学时间，几乎是不可能了解的。况且，这两国的比较，人口因素不可忽略。做个最简单的设想：给美帝塞上十亿人，你看哪个“公民”还会排队？你看有几个政府还廉明？我有同学在当村官，以前给我讲了不少村里扯皮拉筋的事，让我“愤青”之心大减：治村尚且如此艰难，一些人还高谈阔论治国之事，不是扯淡是什么。有这扯淡功夫，还不如多读点书，将来回国尽匹夫之责。
---
title: 又是春困秋乏夏打盹
date: '2010-10-18'
slug: sleepy-fall
---

趁热讲个娇客，免得一会儿忘了：

下午照旧全系报告，这次是有位老师邀请了一位德国GG来报告，讲U统计量在非独立情况下的Bootstrap。我在去听报告之前还查了查U统计量，先预热了一下，所以开头好歹还算明白，后面照旧渐入“佳境”，或者说渐入崩溃。偌大一教室，偌大一屏幕定理，秋日下午，小风儿吹着，小曲儿哼着，怎能不睡觉。无聊之中就看周围老师同学之众生百态，嚯哦，系主任都在栽瞌睡，再看看，Z老师也不住点头（他就坐在邀请报告人来的那位老师旁边），我看着觉得很逗，于是转头对旁边的L同学说，你看Z老师都睡着了，结果我话还没出口，发现……


.




. .




. . .




. . . .




. . . . .




. . . . . .


L同学已经睡着了！！！L同学已经睡着了！！！L同学已经睡着了！！！
---
title: 评论两则：关于数据挖掘和机器学习
date: '2010-10-24'
slug: comments-on-data-mining-and-machine-learning
---

上周赵老师给我发了一个幻灯片让我帮忙简单翻译一下，标题How NOT to do statistics，作者[Larry Shepp](http://stat.wharton.upenn.edu/~shepp/)，沃顿商学院统计学教授，今年七月在群众大学参加统计学会议，讲了这么个题目。起初我忙活着没注意，后来打开认真看了看，我就悲剧了——我总是看到和我这个愤青脑子一致的意见（切，赤裸裸的表扬与自我表扬）。Shepp说了两件事，一件是“从非零的相关系数得出非独立或者因果关系结论的要么是骗子要么是笨蛋”，例子是伪回归（很多客观可能熟悉这个老话题），这没啥；另一件是“流行的数据挖掘方法仅依赖于统计学尤其是回归方法是没谱的”，当然这是我的翻译（“谱”是我的专用词），这事儿我之前有一定想法，不过这老爷子除了觉得数据挖掘方法应该多关注问题本身（而不是整天训练集测试集编两个程序跑来跑去），还提到了John Tukey，这事儿倒是让我有些意外，Tukey引领了探索性数据分析，在当时是对纯粹用数理方式做统计的环境的一种挑战（看，Tukey也是愤青，不过其实他数学极好），结果部分后人被带偏了，大家高呼“**用数据说话**”，渐渐变成了“**只用数据说话**”，这确实是个悲剧。去Shepp老爷子网站上看了一眼，结果看到类似的一个片子，自称有“挑衅”意味，还是关于这个问题的，只不过“挑衅”对象变了（而且已经辞世）。有点儿意思。

再一则：俺们系那位大人（圣斗士星矢中一般都把厉害的boss称为“那位大人”），正琢磨着开机器学习课，最近给研究生发邮件，其中提到Hastie那三位大人的圣经般的机器学习书，即Elements of Statistical Learning，其形容如下：


> a _popular_, but _thoroughly frustrating_ and actually _quite bad_ book


厉害，厉害。咋样，是不是再次印证美帝之独立思想？你说说，俺们小的们信谁去？不用自己的脑子，就会被洪水般的意见淹没。木有春哥，木有绵羊音。
---
title: 求贤公告一则：中国人民大学统计学院
date: '2010-10-24'
slug: talents-needed-in-ruc-stat
---

这是正事儿，就不以群众大学称呼了：

中国人民大学统计学院欲引进一名海外博士，希望在统计学和计量经济学方面都比较强，要是有谁或者谁的三哥二弟七大姑八大姨正好博士毕业想回国任教的，或是早已毕业在海外任教现在想回国的，请来信详谈。也欢迎各位客官举荐你们认识的牛人们。拜托拜托，谢谢谢谢。
---
title: 360与腾讯的掐架
date: '2010-10-31'
slug: 360-against-tencent
---

最近360和腾讯正掐得热火朝天，刚看见已经有名叫“360U盘安全保护”的病毒开始流传了，个人估计八成是栽赃陷害。

这架能掐起来，还能掐得火热，都是托Windows的洪福——一个闭源系统下大家费尽心思找漏洞，找到了漏洞就再写一个闭源程序（病毒）以二进制文件形式传播出来，等到杀毒软件研究（凭经验、凭猜蒙、凭测试）明白可以杀毒了，新的病毒又出来了。这就是Windows下永无宁日的杀毒防毒——一个对于Linux用户来说几乎永远不必考虑的问题。开源从源头上就将病毒的可能性降到了最低（没有人会傻到把病毒以源代码的形式提交），另外Linux系统也从来都注重安全性，系统关键位置的读写都是需要超级用户权限的，所以一般文件也很难对系统造成毁灭性破坏，看看Windows Vista/7在这一点上的“模仿”，简直是笑死人（无非就是弹出个对话框提醒一下，点一下确定之后，该复制复制该粘贴粘贴）。

软件是否窥探用户隐私，这是很难100%确定的事情，因为你无法知道闭源软件究竟在对你做什么（扫描一下你的个人信息上传到服务器是何等简单的技术问题），从这个意义上讲，说所有Windows用户基本上都在裸奔也不过分。

因此闭源软件的掐架，没有别的路，只能拉帮结派扬起道德大旗，仿佛大家都在为亲爱的用户的隐私作战，其实真相只有一个：亲爱的用户啊，隐私对你来说只是个娇客。

另：两公司掐起架来，行为跟三岁娃娃也差不多嘛。


附：对Linux的常见误解


托我们大学计算机教育的洪福，绝大部分人这辈子也就跟Windows打上交道了。直至今日，仍然有很多人觉得Linux系统是黑客专用的，提及Linux，仿佛就是一个黑乎乎的屏幕，里面不断滚动着看不懂的命令。这周有同学来我办公室，看到我的Ubuntu，问道“这是Mac吧”，我听到之后心里一惊，我滴个娘也，Windows的补集就是Mac？

其实Ubuntu等系统早已经有成熟完善漂亮的用户界面（我接触Linux是从Ubuntu开始的），人们对Linux的印象也早该更新了。如果说非要找一条理由不用Linux的话，那就是天朝的网银，啧啧，都是依赖于伟大的IE浏览器开发的。在美帝，网上银行几乎是任意浏览器都可以登录。其实从Windows转向Linux的主要障碍还是在于“沟通”：周围的人都是Win用户，要时刻保持“兼容”，确实有点麻烦。
---
title: 命令行浮云
date: '2010-11-02'
slug: floating-cloud-in-command-line
---

我来说个高级一点的“浮云”：很久以来我都很不满Sweave的错误处理机制，甚至都有改写Sweave源代码的念头，这件事情本应该很容易解决，但R core们估计太忙了——每段代码加上try()然后要是出错就打印错误信息，不要让Sweave直接在某段代码上挂掉。最近R 2.12.0在这个问题上改进了一小步，如果代码段解析出错，那么会打印错误出现的行号，但还是没解决根本问题，后面据说还要改进。这是引子。

Sweave出错就让R挂掉这种方式对于用LyX来说非常不方便，每当出错，都很难查错，因为没有任何错误日志；要检查错误，还得打开R，在交互模式下运行Sweave()，看到底哪里错了。这也是很久以来我觉得头疼的问题。这学期做579课的TA，上周两节课讲LyX和Sweave，因为我一直鼓吹LyX的种种好处，二老板估计也好奇，于是就把课交给我来上。这LyX+Sweave好用是好用，就是配置过程太琐碎，上课花了不少时间在这个配置上，于是课下[花了很大功夫写了个自动配置脚本](/en/2010/10/how-to-start-using-pgfsweave-in-lyx-in-one-minute/)，尽量让用户不必管任何细节问题，一切都用命令行搞定。然而还是没有错误信息的解决办法，学生们的文档运行出错我通过Email也很难知道错在哪里，很多时候只能凭经验。

今天应开（这是个人名）同学也问起这个问题，我回复了我的查错办法之后他回了他的办法：调用R的时候，将命令行输出重定向到文件就可以了，也就是这种形式：

    
    R -e Sweave('your-Sweave-file.Rnw') >> your-log-file.log


原来答案这么简单，我怎么没想到呢。

小月月那点浮云算啥浮云呐，这才真的叫“神马都是浮云”。
---
title: 艰难的决定
date: '2010-11-04'
slug: a-difficult-decision
---

水木Joke版上的人才，除去讲笑话以外，可能是世上查找文献最强的一群人。像我以前说的“[吾昏](/cn/2010/07/married/)”之类的，全都是从那里学习来的。很久以前还有人考证了“很好很强大”在类似《共产主义宣言》之类的册子中的出处。鉴于最近“[狗日的腾讯](http://tech.sina.com.cn/i/2010-07-24/20434467150.shtml)”的那个“艰难的决定”广为流行，水木人才有找到了[一个古老的“艰难的决定”](http://www.newsmth.net/bbscon.php?bid=63&id=2578235)：

> Wir haben eine schwierige Entscheidung, ab sofort, beendet den Krieg.  
-- 4. Mai 1945 Hitler

不懂德语的客官请自行Google翻译。

其实我也有个艰难的决定，今天早上收到探子来报，说又有人把我的书稿发到那个“狗日的经济论坛”上卖积分去了，我现在也懒得管这事，该说的我都说过了。那边R版版主方匡南大人似乎也不知我心，罢了罢了。我的艰难的决定就是，下次要是还有人用书稿卖积分，我将在心里默默送那个论坛一幅字，上面就写：

**你  
大  
爷**
---
title: 以貌取网，及Webfaction
date: '2010-11-07'
slug: judge-a-website-by-its-appearance
---

尽管以貌取人是不对的（“以貌娶人”就更不对了），但我相信以貌取网肯定不会错，这也是我的一贯判断标准。一个公司网站看起来破破烂烂，那这个公司估计也不咋地，尤其是跟网络有关的公司。我说的破破烂烂包括：



	
  1. 一般意义上的破破烂烂，比如元素对不齐，图片不清晰，英文用宋体（这是最欠扁的），等等

	
  2. 网址当中还有*.asp或*.aspx（ASP这种微软烂技术加上了X还是烂技术），尤其不能容忍的是首页地址被直接重定向到某个文件夹底下的某个asp或html文件，这种网站设计者直接拖出去宰掉算了，免得影响人类智商：不珍惜首页网址的重要性。这样的网站一抓一大把，比如北京移动网站（我不知道那个smartID字段到底有什么“聪明”在里面，还是程序员在耍酷）、工行和建行网站……

	
  3. 一打开页面就能闻出Photoshop或Fireworks的味道，有些网站打开的时候你能看到整个页面的布局图片正在被一小块一小块下载，这就是设计者最初切割的痕迹

	
  4. 悬浮窗飘来飘去，或一连蹦出几个弹窗，或GIF动画闪啊闪

	
  5. 用Word另存为HTML做的网页（只要打开HTML源代码看一眼，你将顿感，这活下去还有啥意思啊）

	
  6. 还在用10磅小字（做网页的同学都知道，当年小字是主流，但现在都趋于用大字了）

	
  7. ……


昨天偶尔撞进一个虚拟主机服务商网站，Webfaction，第一眼看上去就觉得非常清新，典型的现代网站：大字、简洁布局、和谐色调、圆角矩形元素、Ajax。进一步细看，以貌取网是没错的：这服务商支持一大批具有现代气息的程序，比如Nginx、SVN、GIT、Python系列程序，还支持大批网络应用程序，如Wordpress、Trac等，都是一键安装，什么SSH登录都不在话下，还可以自行安装软件。也许是我很久没关注虚拟主机了，这是第一个我见过的在用Nginx的虚拟主机，据说Nginx非常牛，在静态网页上有超越老牌服务器程序Apache之说。

好家伙，看得我蠢蠢欲动。这公司太有技术范儿了。只是不知道在承载大规模访问上表现如何，虽然他们自己宣扬说每台服务器上用户数量少于竞争对手。
---
title: Rd2roxygen：结束R包开发者的文档噩梦
date: '2010-12-02'
slug: rd2roxygen-to-convenient-r-documentation
---

本来我是计划先写统计之都改版背后的一些故事的，可是太长，还没写完，于是先发这篇短的（[刚写了英文版](/en/2010/12/rd2roxygen-convert-rd-to-roxygen-documentation/)）。说来各位客官也许不相信，但长期以来，我很不情愿更新R包，种种不情愿的事情中，以写文档为首。写两三个函数的文档还能忍受，可是写到一定数量之后就倦了，一方面原因是我的懒惰，就像我愿意用LyX而不愿意用原始LaTeX代码一样，我不喜欢写基于源代码的文档，痛恨敲 `\title{} \author{} \description{}` 之类的命令；另一方面，一个包中若函数写多了，相应的文档文件也多了，更新文档还得来回看，切来切去，写着很不顺手。

对于开发者来说，roxygen是个方便的助手，它借用了Doxygen的概念，把文档以注释的形式直接写在函数源代码之前，事后再用特别的函数处理这些特殊的注释，把它们翻译为真正的R文档。例如`##' @author Yihui Xie`就会被翻译为 `\author{Yihui Xie}`。文档和源代码放在一起自然就使得写文档顺手多了，上下对着看看，就能很快明白函数是干什么的，文档该怎样写。随便[抓个例子看看](https://github.com/yihui/animation/blob/master/R/BM.circle.R)就知道我的意思了。

如果只有roxygen，我还不会正式考虑用它来写文档，原因仍然会让各位客官大跌眼镜：我不喜欢重复敲这样的字符`##'`，或者我希望我敲回车到下一行的时候，编辑器能自动生成`##'`；另外我作为新手也记不住标签的名字是什么，不想每次写文档都重新敲一遍所有需要的标签。而六指琴魔的训练工具——Emacs，就出场了。

过去一些年头里，Emacs这个“神器”我装了卸卸了装，始终没搞明白它是怎么用的。这玩意儿就像Linux一样，没有人指导一下的话，要想玩儿转对一般人来说并不容易。也许是近一年多以来大规模用Ubuntu的原因，对命令行工作有了一定的理解，终于有一天顿悟了。那感觉就是噗嗤一团白烟腾起，你看到了一个长着翅膀的白胡子老头儿在向你招手，那就是上帝。Emacs本身并没有实质性贡献，但插件ESS可是帮了大忙，这两者结合之后，写文档变得异常轻松：写个函数，按一下`C-c C-o`，roxygen文档就生成了，填一填注释中的内容就完事；若函数添加了新参数，再按一下`C-c C-o`，新参数就被自动添加到roxygen文档注释中去了。更要命的是，它真的有换行自动填充`##'`的功能，这下我没话说了。

问题是我已经陷在老的R文档中了，怎么切换到roxygen的工作方式呢？前些日子在R-help发了个邮件问，结果Hadley说他有两段可参考的代码片段，我拿来一看，嚯，已经有了解析R文档的函数，尽管不完整，好几处bug，但基本框架已经有了，于是乎，克隆下来研究一番并改进了很多地方，最终放出了一个新R包，叫[Rd2roxygen](http://cran.r-project.org/package=Rd2roxygen)。给个老包的目录，`Rd2roxygen()`可以解析原文档，生成roxygen注释并插入相应的函数代码前（更新包的R文件夹下的文件）。这下才能真的投奔roxygen。

用同门一位同学的话说，这叫“为了懒惰而勤奋”（work hard to be lazy）。【完】

## 附一篇：又在掐架

现在又有两处战场。一处是个老问题，也许以前有客官听说过Rcpp的历史故事，它的第一任作者几年没更新这个包了，所以后来被Dirk和Romain接手继续开发，后来这位作者一直在纠缠署名、GPL之类的问题，今天又来了；我也不知道他想要啥。GPL协议并非对所有人都合适啊。另一处，有童鞋列举了Sweave的十大罪状，这事儿有点过了，尽管我也觉得Sweave在设计上一点都不聪明，我最不满的是它的扩展性太弱了，可能当初设计的时候并没有按照一个API的思路去写，还有很多细节问题我也颇为不满，但那娃儿写的十大罪状我都觉得不在点子上。顺带一个消息，LyX 2.0将以原生态的形式支持Sweave，目前已经有测试版，估计明年初发布正式版吧；我觉得LyX 2.0对Sweave的支持方式有点死板。
---
title: LyX、Sweave杂记
date: '2010-12-06'
slug: lyx-sweave-misc-notes
---

> 注意：本文中介绍的Sweave相关内容已经过期，请参见[LyX/Sweave手册](https://github.com/downloads/yihui/lyx/sweave.pdf)和[LyX/knitr手册](https://github.com/downloads/yihui/lyx/knitr.pdf)。

LyX 2.0的layout文件中将正式引进一个新标签`ParbreakIsNewline`，它让我过去的一个工作变成了废物，即：如何在代码块中回车换行，而不是Ctrl回车来换行。这种事情还是靠开发者从源头上解决比较好，民间技巧毕竟不是长久之计。

Sweave支持一个`\SweaveInput{}`命令，话说我用了这么久，完全没有意识到有这么个东西的存在。今天偶然发现，还是从LyX 2.0的sweave.module中看到的。Google之，无文档无说明。气煞我，我老早就在琢磨是否能将Sweave文档像LaTeX那样用`\include{}`分成几个小文档，原来这东西早就存在了。然后，又是不理解，为什么Leisch老大设计Sweave的时候总是喜欢发明一些新命令，你去解析`\include{}`命令不是挺好的么，干嘛又发明一个`\SweaveInput{}`。就像`\Sexpr{}`和`\SweaveOpts{}`一样，都是些伪LaTeX命令，我总觉得不优雅。

看了一下LyX的InsertLayout的用法，挺好的，早该看而没看的东西。

因为想写个包的文档，所以又回头看了看上次写的自动配置LyX和Sweave的脚本，左看右看觉得死板，于是乎又花了一天时间改写了一下。现在萝卜青菜，愿意吃啥吃啥了，把R执行的部分抽象出来单独放在一个文件中，如果将来想做新的配置，只需要在外部改这个R代码就可以了，从LyX彻底独立了出来。

```r
source('http://gitorious.org/yihui/lyx-sweave/blobs/raw/master/lyx-sweave-config.R')
```

命令行环境的细节真是能淹死人，今天才知道原来Windows的命令行窗口中，尖尖符号`^`是转义符；不懂它为啥要特立独行，人家都用反斜杠`\`转义。

现在的工作基本上全面转向Git；各大支持Git的网站中，可能GitHub是最好用的，大大提高了程序开发效率。尤其是其代码行内评论的功能，很是方便交流。有了[前面介绍的Rd2roxygen包](/cn/2010/12/rd2roxygen-to-convenient-r-documentation/)之后，开发R包也轻松多了，基本上就是在Emacs里`C-c C-o`，完事之后终端打开R，运行一下两句代码的事情：

```r
library(Rd2roxygen)
rab('your.pkg')
```

现在再加上LyX/Sweave这把刀也磨好了，于是写Vignette也不在话下。人挡杀人，佛挡杀佛。最终有了勇气把那些塞到犄角旮旯的老R包都捡出来，继续开发。上周[animation](https://github.com/yihui/animation)和[formatR](https://github.com/yihui/formatR)分别更新了新版本；Rd2roxygen也放了新版本（为了更加懒惰）；老早以前的那个[fun包](https://github.com/yihui/fun)也复活过来，再把文档整理一下，大概也是可以正式发布的。怡轩还翻出了另一个老想法：在R中原生支持生成Flash动画。现在已经完成了从PNG图形到SWF的转换，所有结果都在一个[新包R2SWF](https://github.com/yihui/R2SWF)中（将来也许会合并到animation中）。

## 外一篇：羊群效应

最近两天[COS论坛](https://cosx.org/cn/)上出现了一个典型的羊群效应：某一只新“羊”发帖以“急”开头，后来得到了回答，该羊可能便认为“急”是有用的，于是就每个帖子都来“急”一下；后来又来了一只羊，发帖以“ASAP”（越快越好）结尾，后来得到了回答，于是该羊也不假思索发帖一律加上ASAP结尾；又来了些新羊，大家看前面都是急帖，于是都跟着急。整个论坛就这样急起来了。有好事者问了一下其中一只羊，为啥要ASAP呢，结果发现事实不是ASAP。本来我就对急帖心存反感，一问还不是真的急（就像听了个狼来了的故事），这以后旁观者到底还该不该急呢？
---
title: roxygen杂记以及如何写文档
date: '2010-12-10'
slug: notes-on-roxygen-and-software-documentation
---

这两天不时遇到一个问题，就是软件的文档。编程工作中，写代码只是一部分工作，其实写文档未必比写代码简单，这工作就像做网页一样，必须时刻牢记这不是给自己看的，而是给别人看的。如何从读者的角度来写文档，在我看来是一门高级艺术。或曰，写帮助文档如同写论文，你要想办法把最有用的功能以最简单最快速的方式展现给用户（想一想论文的摘要应该怎样写、电梯演讲应该怎样讲），这其实是一件非常困难的事情。

上次李丰推荐了Emacs的帮手ECB，我在Ubuntu下用Synaptic安装之后面临的第一个问题就是，如何使用它？帮助文档说，请阅读帮助文档。好嘛，我看，我看。帮助文档长得要命，就像吃个肉包子，吃了三公里面皮，见一牌子，上书“此处离馅儿还有六公里”。作罢，开始Google，果然得到结果M-x ecb-activate；然后呢，看见文件列表框了，甚好甚好，正是我想要的东西（Emacs真的很磨练记忆力，要不然时不时得看一下Buffer列表看现在开着哪几个文件），问题是咋用？鼠标双击文件名，文件不能通过这种方式打开；焦点放在列表项上，回车，文件还是打不开。然后想把列表框弄窄一点（默认设置太宽，占用了太多编辑器空间），鼠标还是没法用，看了帮助文档，不明白。至此，我就没耐性了。

相信很多人对R的感觉也是类似。我相对熟悉R一点，所以知道答案经常能在帮助文档中找到；在论坛混迹这么些年，看了无数这样的例子：答案就在帮助文档的第10行，可是用户只有看到第3行的耐心，或者根本不愿意看帮助文档。我们该怪罪用户太懒，还是怪罪开发者太固执（按他们的方式写文档）？前一阵子，R-help里又出了一个小小的风波，`integrate(dnorm, 0, 20000)`的结果在很多系统下都是0（不要太震惊），有一位顽固的用户向顽固的R core们建议修改一下帮助文档增加一个警告，R core认为目前的文档已经很好地强调了这个问题（谁爱改谁改去）。从严谨的角度来说，R core们写的文档一般都是非常严谨的，而从人性化角度来说呢？后者也不能推得太远，因为“人性化”过度通常会纵容用户，紧接下来就是培养傻瓜，“傻瓜软件”的名字大概就是这个意思。

回到roxygen，这个包本来是用来帮助开发者写文档的，可是不幸的是它自身的文档也写得不太清楚，以至于一些功能我需要很长时间才能发现。例如我一直以为这里面的Rd2概念和R自身文档的版本有关系，直到今天才发现是两回事。前一阵子我还一直在想怎么把两个函数的文档合并到一个文档中，甚至有自己动刀的冲动，而今天发现它的Rd2中有个新标签`@rdname`，只要指定了同一个`@rdname`的文档都会被合并到一起。我对它的文档的期望就是给一个完整的例子，让用户了解所有的标签的用法，可是它的vignette中只有高度简化的例子。


**外一篇：函数命名**


讲个好多天前的事情：（编随机数模拟程序）601课的老爷子袖子一捋，“那我们开始编吧，第一步，给我们的函数命个名，这是最难的一步（笑），你们有什么建议？”当时是编Logistic分布的随机数程序，于是我提议rlogistic（因为R已经有rlogis函数了，我们只是在重复劳动而已），老爷子说，好，于是开始呼哧呼哧写反函数，编完了，为了检查一下生成的随机数是不是服从Logistic分布，我们得画个理论密度曲线，那么先写个密度函数吧。言毕，老爷子袖子一捋，又开始写：

```r
logisticdensity <- function(...)
```

我当时心就凉了。

我以为他明白我的意思了，会用dlogistic作密度函数名。r随机数，d密度，p概率分布，q分位数。他愣是活生生啖出个logisticdensity来，我真是被噎死了。
---
title: 用什么软件做幻灯片
date: '2010-12-10'
slug: software-to-make-slides
---

早上收到某师弟来信，问我用什么软件做的幻灯片，貌似和Andrew Gelman的幻灯片很像。嚯哦，我能跟Gelman有点联系，三生有幸（注1）。实际上我只不过是用beamer而已。回想早些年，我同样是用PowerPoint（PPT，注2），地球人都知道，PowerPoint的特点是“它既没有power也没有point”。用PPT最头疼的就是总是找不到好看的模板，Office自带的那几个傻了吧唧的模板早就看得恶心厌烦了；设计飞来飞去的动画又很耗时间；页面很难安排或展示章节逻辑（PPT中根本就没有这概念）；换台机器还发现页面变形了。总之是花里胡哨、吃力不讨好。它好用么？好用，傻瓜都会用。它好看么？有专家设计的模板确实也好看。你见过多少好看的？是否总是见到那个夹着公文包的洋人，或是两个握手的洋人？

当然，好看与否纯粹是个主观判断。我不敢妄言PPT是否好看，只能说它不够精致。beamer是LaTeX（注3）的一个宏包，在学术界经常看见它的身影。其实我也只是近一年来开始大规模用它，原因仍然是LyX，以前只是偶尔在正式场合用用，还是嫌敲代码麻烦。关于计算机方面的技术问题，很多都不容易用写的方式讲清楚，这里我也不多说了，我理解的beamer除了美观之外，最重要的是逻辑。我的LaTeX入门得益于CTeX翻译的那份《不太简短的LaTeX介绍》，随后就是Google。用惯了Office的人学习LaTeX似乎都有个毛病，就是不关心警告和错误信息，几年前某师姐对我说，老师说了，遇到错误就拼命回车回车回车，只要最后能生成PDF就行。

挑剔有挑剔的好处，但也有坏处。挑剔最怕的就是对什么都挑剔，把任何事情都做到完美，陷于细节不能自拔。我对文档样式和拼写都比较挑剔，平日各家溜达也时不时发现一些好玩的事情。比如刚看到阮一峰网站上的袜子广告：

![阮一峰网站上的袜子广告](https://db.yihui.org/imgur/h935BUF.jpg)

它有个非常隐蔽的问题，估计也只有我这样无聊的人才会看到：We too是错误的写法，按照上下文，生搬硬套应该写作We neither，再顺一顺的话我觉得最好写作Neither do we。否定句中的“也”不应该是too。我向来反对无理由的口语/书面语中英文混杂（参见[微波炉不work故事](/cn/2010/09/brackets-and-chinese/)），这大概是避免中英文混杂的一个例证吧。话说回来，此处追究语法问题其实也没太大意义，因为中土大唐人士看到这句话肯定会正确理解它的意思，不会因为英文写得不对而不买袜子。

---

注1：这里有个巧合。其实我刚好今天中午邀请他给我们做了报告——用Skype和电话，他在哥伦比亚，我们在Ames。Skype显示视频，电话保证声音质量，报告效果非常好，没有出现断线或听不清的情况。这事情开了一个先例，下学期可以考虑邀请更多牛人用这种方式来给我们报告了。

注2：PPT不等价于幻灯片，它只是PowerPoint的缩写。这句话我重复了无数遍了。

注3：说起LaTeX，最近突然发现Google[对我的网站生成了Sitelinks](http://www.google.com/search?hl=&q=%E8%B0%A2%E7%9B%8A%E8%BE%89&sourceid=navclient-ff&rlz=1B3GGLL_enUS393US394&ie=UTF-8&aq=3&oq=)，不关心搜索引擎优化的客观可能不知道这是什么意思或有什么意义；有时候用Google搜索一些关键词，搜索结果的第一条链接下会列出几条“站内链接”，这便叫做Sitelinks。例如搜索[统计之都](http://www.google.com/search?hl=&q=%E7%BB%9F%E8%AE%A1%E4%B9%8B%E9%83%BD&sourceid=navclient-ff&rlz=1B3GGLL_enUS393US394&ie=UTF-8)、[统计学论坛](http://www.google.com/search?hl=&q=%E7%BB%9F%E8%AE%A1%E5%AD%A6%E8%AE%BA%E5%9D%9B&sourceid=navclient-ff&rlz=1B3GGLL_enUS393US394&ie=UTF-8)等都会列出COS的一些站内链接。能让Google生成站内链接的网站，一般都是质量比较高（至少是搜索引擎优化做得比较好）的网站。有点王婆卖瓜的味道了，不过我要说的不是这件事，而是Google眼中的我——竟然链接之一是我的LaTeX标签。
---
title: 考完试，终于可以安心学习了
date: '2010-12-13'
slug: study-after-the-exams
---

考试严重扰民呐。不考试我还会学点儿东西，要是考试，总是百般不愿意看书。

从小考到大，烤得里焦外嫩。
---
title: 话说周立波
date: '2010-12-14'
slug: wisdom-of-zhou-libo
---

刚看到周立波要结婚了，婚礼策划是公益主题。我心想这家伙不像想象中的那么笨嘛，这一公关仗打得倒是挺漂亮。前两天几乎举国都在声讨周立波，他与网友的对骂都惊动了党中央，《群众日报》似乎还专门发了评论文章指点这种“公众人物”。

我一直认为公众人物不怕犯错，就怕犯错了死不承认。若知错承认，我想反而能获得大多数人的理解和支持。这年头，老百姓都不至于那么小肚鸡肠吧？唐骏在这一点上做得实在是太差：从一个名不见经传的大学毕业又如何呢？英雄不问出处。坦荡荡认错，让人看到自己的胸襟气度，看似下策，实为上策。

越来越觉得“日三省吾身”对一个人太重要了；人是一种**非常迟钝**（注1）的动物，三天不反省，身上的劣根性就要显露出来了。尤其是那种坐在万众瞩目的高位上的人，更是危险，因为这种环境更容易让人迷失自我，渐渐觉得自己真的是根葱；等一步踏空之后才发现自己还是一根草。周立波与网友对骂，从普通人的身份出发可以理解（你骂我我凭什么不能骂你），从公众人物的身份出发则完全是另一回事。

突然想起小时候的一些事情，兄弟几人一起玩，每当闹矛盾的时候，奶奶总是对最大的孩子（大多数情况下是表哥，有时候是我）说：“你让着他点儿撒，你比他大些撒！”那时候大孩子总是不耐烦对着奶奶嚷嚷：“我大些就该死啊！”渐渐这句话成了我们反驳奶奶的标准用语，回想起来仍历历在目。奶奶的评论，和《群众日报》的评论，其实也没什么不同。

---

注1：我的解释——1、总以为自己知道了什么，而事实是什么都不知道；2、总高估时间的长度（尤其是假期）并低估事情的难度；3、不愿改变现状、习惯。这都是迟钝的表现。
---
title: 工作学习两不误
date: '2010-12-15'
slug: study-and-work-at-the-same-time
---

有欢乐的客官发来欢乐的图片一幅，本小子看了也表示很欢乐，供来往行人参观：

![工作学习两不误](https://db.yihui.org/imgur/vH2qLRh.jpg)

正溜达着，又看见另一幅很欢快的毕业照：

![欢快毕业照](https://funnyinchina.com/wp-content/uploads/2010/05/teachers-team-photo.jpg)
---
title: 为了大一统的大一统？贝叶斯与频率学派的永久之战
date: '2010-12-17'
slug: unifying-bayesians-and-frequentists
---

到目前为止我对贝叶斯的了解仍然非常粗浅。Murray Aitkin的Statistical Inference一书是我看到的（确切地说是听到的）第二例关于试图统一贝叶斯学派和频率学派的出版物，同我第一例（Calibrated Bayes: a Bayes/frequentist roadmap，作者Little，2006）的感受一样，我觉得这种努力实际上意义不大，我不明白为什么需要大一统，所以我称为“为了大一统的大一统”。频率学派嘲笑贝叶斯学派的主观概率，其实毫无底气——所有的统计学家无时无刻不在用主观概率，只不过频率学派装作“客观”而已。只要你把脚伸进统计模型中，你就有意无意在利用主观判断。这个问题，根本不必争辩这么多年，争来争去，无非是“主观是中性词还是贬义词”。做临床试验的人恐怕是最恐惧“主观”这种词，因此似乎趋于保守、坚守经典的频率学派方法（我的印象可能存在偏差，若有误则请路过的客官纠正），这种保守是否有道理，值得思考。

上面说的“听到的”是指Gelman和Xi'an他们几个人写的一篇看似书评实为讨论的文章：[Do we need an integrated Bayesian/likelihood inference?](http://arxiv.org/abs/1012.2184) Aitkin的书被打成了马蜂窝。如果我的理解没错，Aitkin只是把似然函数翻了个面——直接看作关于参数的概率密度函数（当然需要乘以一个使得积分为1的常数），这和无信息先验分布（noninformative prior）在结果上没什么差异，只是看问题的角度不同。简单翻个面就能大一统了？恐怕不能这样吧。即使大一统有必要，也不能用这种方式去统一啊。

又说回在美帝看学术圈的感受：写书或做研究，若能避免用人造数据和老数据就尽量避免，像那种伪造的“投10次硬币得到1次正面”的数据说来玩玩可以，用作证据或例子就不合适了。这方面老板做了很好的表率，每当我拿个iris数据做演示的话，她就大叫“No, no more iris!!”。

说到贝叶斯，这两天看Dynamic Linear Models，觉得贝叶斯真是个神教组织，当年学习时间序列的那种痛苦（神马都是算子）在贝叶斯的世界根本就不存在了，这个世界果然很人本主义，思维都非常直接，遇到问题不必绕弯（神马都是分布和抽样模拟），直接闯过。Dynamic Linear Models with R这本书写得非常好，强烈推荐一下。

说到好书，溜达的时候发现有个叫Michael L. Lavine的老爷子几年前写了本书叫[Introduction to Statistical Thought](http://www.math.umass.edu/~lavine/Book/book.html)（CC协议、免费下载），粗翻了一下，觉得也写得不错，决定寒假读一读。

说到读书，仍然是溜达的时候，发现Efron这两年也在贝叶斯领域晃荡，论文[The Future of Indirect Evidence](http://www-stat.stanford.edu/~ckirby/brad/papers/2009Future.pdf)看起来也值得一读。

我的书稿，也打算在这个寒假写得差不多，不知道能否完成。越是看别人的书，就越觉得自己的书里要改进的地方太多了。
---
title: 像猪一样战斗（统计之都改版背后的故事）
date: '2010-12-18'
slug: fighting-like-a-pig
---

注：这本来是11月的文章，当时没写完，现在拣出来继续。有时候觉得文章放一段时间再写也有好处——让记忆去自选择，忘掉不重要的细节。

猪是一种被广泛误解的动物。以前某童鞋形容另外一位童鞋“跑得比猪还慢”，我听了立即反驳，猪是跑得很快的动物，我是看着猪长大的，那些小猪崽，整天一愣一愣地到处拱土；关于此事，有诗为证：

> 远看山无色，近听水无声。  
春去花还在，人来猪不惊。

人来猪不惊只是很短暂的现象。那一群猪往往是抬起头看你三秒，然后一哄而散，四处逃窜，跑得比兔子还快。我从来不知道猪到底是怎么想的，总之猪是一种很奇特的动物。这是标题党对猪的介绍。

感恩节放假，照旧宅家里，所谓躲进小楼成一统，管它春夏与秋冬。前四天干了一件事：重新盖了一下统计之都。这活儿就跟拱土的猪一样，要拱就拱到底，早上爬起来就开始拱，一直拱到半夜睡觉。江湖上总是传说这位大牛三小时写出了豆瓣网，那大神四小时创建了啥网，这等神话对我等小辈，也只能当故事听听，听罢该拱猪还得拱。我是个对网站外观非常挑剔的人，我理想中的网站外观应该有这样的效果：当读者打开网页之后，十秒之内必须在口头或心里说“真他爷爷的震撼”，甚至心生买椟还珠之意。

这是统计之都主站的第三次改版：第一次用的主题跟个个人博客差不多；第二次改了个像杂志一样的模板，大家都说好，去年底被黑了一回，费了牛鼻子劲又把模板重新改写了一遍，自那时起心里就觉得不爽，因为页面的布局并不精确，CSS太混乱，纯属快速应付，但应付完也就这样又用了近一年，后来逐渐发现有几个网站都在用这个主题，毕竟是免费的嘛，很容易就被大家采用了，看到这个心里又不爽了（尽管r-bloggers那个网站的美工实在不敢恭维），赶上放假，于是再去扒Wordpress主题，这回不从免费主题里找了，而是看商业主题。【跑题一下：我之所以欣赏WP，原因主要不在于它的名气，我看中的是他们的程序员的气质，例如他们的口号“Code is poetry”，我觉得真的做到了代码如诗，WP这套系统，其逻辑结构的安排之精巧，令人不得不佩服；往后编程课若要讲什么是API，就以WP为例好了，它是最好的API示例。看商业主题时看到他们关于提交商业主题的要求时，其中有一条，说的是模板的说明文字必须是俳句（haiku），若你不知道什么是俳句，那么请赶紧去看樱桃小丸子，那里面爷爷时不时就来一段俳句。本小子天天看樱桃小丸子，看到WP上还有俳句要求，自然很惊讶又觉得很搞笑。】商业主题果然是一分钱一分货，可能随便拿一个都比免费主题强。最终挑选的结果就是目前的主站样式。刚拿来的时候小问题一大堆，CSS上的，PHP上的……于是乎埋头改啊改。反反复复上传修改估计超过五百遍，这其中发现了几样新东西：

1. PHP函数`mb_strcut()`：多字节字符串被截断时，这个函数能保证不会截出半个字节的怪物来（而`mb_substr()`就有可能）；两年前我还不敢用mb_类的PHP函数，因为担心扩展性不好，因为多字节的函数不是必装的模块，现在看来这种担心该移除了；
2. Google有个[字体API](https://fonts.google.com)，怪不得我看这个主题的字体觉得挺特别呢，原来是OFL Sorts Mill Goudy TT，我尤其喜欢这个字体中的W的写法，不过后来发现这个字体的数字很难看，所以就换成了Cardo，效果近似，但数字好多了；网页中的英文还是衬线字体好看，棱角分明，倍儿精神；Google这几款字体都还挺有新鲜感的；许久不关注CSS，没想到现在已经可以使用服务器字体了（当然，幕后实际上需要下载）；
3. 很多网页浏览器都支持字体阴影了，所以这次主站的部分字体有了雕刻效果；如果你还在老掉牙的IE6中上网，那就没办法享受现代浏览器带来的美观效果了（如圆角元素）；网页开发者最恨的估计就是IE6，它是最难伺候的；如果你必须用IE，那么至少还是升级IE8吧，或者用Firefox；
4. jQuery名副其实地简洁好用，这是我第一次碰jQuery，以前都是一律`document.getElementById()`啥啥的；现在主站那些豆腐块的高度都是通过jQuery调整才变得整齐一致的，否则有时候会出现对不齐的情况，这事情给编辑部砍掉了一个艰巨的任务，也让我逐渐加固我的一个理念：**能用技术手段解决，就不要浪费人力，多留点脑子做更有价值的事情**；在解决这个问题时遇到了一个极其隐蔽的bug，不过还是被我挖出来了，这可算是这次改版解决的问题中我觉得有点得意的一个（见后面附注）；

现在的主站页面排版质量，自认为差不多赶上LaTeX了（这话再过一年可能又要被自己推翻了）。排版漂亮，腰不酸腿不痛，写文章也才有劲儿。这次改版与前两次的一个不同之处在于参考了Google Analytics的访问数据，例如看哪些链接的点击频率高，用来决定如何布局；本来标签云的点击量太小，而且它的排版不整齐，我决定去掉，后来江堂说这玩意儿有Web 2.0气息，还是保留下来了。还有字体问题，参考用户操作系统比例，决定不要过于照顾Win XP + IE6的用户，对Windows用户优先使用雅黑字体，这样的阅读体验比宋体要强很多，尤其是在不太古董的笔记本上。英文字体的选择纯属个人偏好，尽管有研究显示非衬线字体比衬线字体易读（看Google或雅虎等大网站），但一来我们没有太多的英文字符，二来这种研究也没有确切的结论，而且大多数书籍和长篇文章都会按衬线字体排版，所以也不必太迂腐。我个人喜欢看衬线字体，加上Google那几款字体还挺有新鲜感，所以就用了。

豆腐块的缩略图是另一改进，原版模板中缩略图算法在这几年来一直都有点迂腐：它默认对文章中的第一幅图生成缩略图。若第一幅图是站外的图片或是文章没有任何图片，则缩略图算法会失败，这在伟大的Windows下的表现大家都知道——那幅著名的红叉叉图片（即我在人人网的头像）。为了克服这个问题，只需要做一点小的改动：找文章中的所有图片，匹配一下看哪一幅是站内的，而不是死板找第一幅图；另外，如果没有图片，那么就用自定义的缩略图替代。这些改动都很简单，属于事半功倍的事情。最后，主站中便暗藏了一个故事：有很多“伪缩略图”都来自于COS会员的贡献，这些贡献在缩略图的小角落可以被发现——有些缩略图上悄悄打了个印记；比如bo代表波波头版主、w表示王晓伟版主、q表示小邱、z表示主伟呈，等等。

伴随着主站改版，统计之都也开始启动社交网络工具，如[人人网](http://www.renren.com/cosname)和[新浪微博](http://weibo.com/cosname)，这些工具开启了COS的SNS元年。此前我们是“不宣传就是不宣传”政策，今后可以逐渐放开低调宣传了。

其它细节都忘了，正好省点时间打字。

最后是logo问题，寻寻觅觅多少年，没有结果。这事儿说难也难，说不难也不难；随便拖个动物就可以，犀牛羚羊丹顶鹤青蛙蜥蜴壁虎什么的，不必非得限制在和统计有关的东西上。由于没有结果，只好随便拿个东西填充在那里，于是我选择了一个“伪彩蛋”，暗暗和广大人民群众开了个玩笑。当新的logo出现在那里时，有童鞋说，嚯，白宫顶啊（这正是我想误导的效果），还有童鞋说，咋放个坟头在那儿啊，最后有童鞋似乎看出真相了，说那哪里是坟头啊，明明是个毛线绒帽。我心想，嗯，你得到了它。

## 附：在对齐豆腐块过程中的bug

对齐豆腐块这个问题也就是用JavaScript将每个豆腐块的高度都调整到最大高度，所以事情很简单：遍历所有豆腐块，计算最高的高度（找最大值是任何语言编程中都会有的简单案例），然后都设置为这个高度。代码不难，尽管jQuery不像R那样支持向量化编程，让我浪费了一点时间学习循环的语法，总之还是搞定了，但调试的时候发现不能如愿，又死活想不出原因：手工设置每个豆腐块的高度为特定像素是没问题的，为什么查询所有豆腐块的最大高度就不行呢？

于是我一遍又一遍刷新页面，终于发现一个细节：浏览器其实调整了豆腐块的高度，在刷新页面后的瞬间，豆腐块高度有跳动，所以问题出在最大值上。为什么最大值的计算会出问题呢？绞尽脑汁想到了答案，就在那“跳动”上。jQuery查询的是实时的高度，而页面内字体（Cardo）的应用会有所滞后，所以这个最大高度只是字体被应用之前的高度，并非页面加载完成之后的高度。因此，这个高度调整需要放在页面的onload事件上执行，保证计算的是最终呈现给用户的高度。

```html
<script>
  jQuery(window).load(function () {
  var maxHeight = 0;
  jQuery("div.entry-content.clearfix").each(function(i, domEle) {
    maxHeight = Math.max(maxHeight, jQuery(domEle).height());
  })
  .height(maxHeight);
  });
</script>
```    
---
title: 灯火阑珊处
date: '2010-12-24'
slug: solutions-in-the-origin
---

我回忆了好半天，还是想不起当初我为什么对LyX留下了一个错误的印象：它生成的LaTeX文档的前四行是无效的。即这样的代码：

```tex
\batchmode
\makeatletter
\def\input@path{\string"path/to/some where/\string"/}
\makeatother
```

当年我并没有仔细研究第三行，但凭感觉，它是用来定义文档中的外部文件的输入路径的，比如`\includegraphics{}`的根路径。这个感觉并没有错，但当年阴差阳错失败了。我发现LyX的文件名弄乱机制（filename mangling）是因为当时想在Sweave中输出动画，因而需要使用animate包和`\animategraphics{}`命令，但是死活由于找不到输入文件而报错，我花了好几天时间，终于发现原来有这么个机制，以及LyX的编译过程（先复制到临时文件夹再编译）。于是我只好想办法把动画文件先复制到临时文件夹再编译，这当然不是个好办法。还有Sweave，我都是用R脚本把需要的文件复制到LyX的临时文件夹下再让LyX编译，比如需要读入的数据和需要引用的图片文件等。这都是为了让LyX不要抱怨找不到文件。

今天在考虑animation包中的`saveLatex()`如何在Sweave中使用，于是再度看了一下LaTeX的animate宏包的文档，看着看着，突然见到其中有个单词“Important”可以闪动，于是好奇它是怎么做到的，自然也就把源文档找出来看；打开源文档，无意看到这么一句：

```tex
\graphicspath{files/}
```

凭直觉，我觉得这是指定图片文件的根路径，即：文档中的图片引用都以`files/`为基准，在这个文件夹下去寻找。抬手Google了一下，没错，是这样。我想，这不就是我很久以来想要的东西么，只要定义了图片的输入路径，就不必发愁在LyX文档目录和临时文件目录下拷来拷去了。试了一下，对图片`\includegraphics{}`的确管用，但由于我用pgfSweave，图片都是用`\input{}`的方式，这招不管用。

恍惚间，想起了本文开头的那几行命令，琢磨着为什么它们不管用呢，难道有bug？再在LyX中输入了几行LaTeX代码试了试，`\includegraphics{}`和`\input{}`都不写绝对路径，只写相对于LyX文档的相对路径，编译，居然成功了！这简直是个灵异事件。

这下R代码中可以`setwd()`到文档目录了，解决了许久以来的一大麻烦——这是跟人说不清道不明的麻烦。缓存也有了（包括R对象的缓存和图片的缓存），代码高亮也有了，这下可以理直气壮说pgfSweave好用了。


-----------------------过了一天的分割线-----------------------


灯火阑珊处之二：路径的问题解决之后本以为天下太平了，结果新的问题来了。如果使用`external = TRUE`来让pgfSweave缓存图片，那么它会将tikz图片转化为PDF图片（以便下次编译的时候直接引用PDF而不必重新生成一遍tikz，这就是图片能够被缓存的原理），而这些tikz文件默认不是UTF-8编码的，而且我也没有办法控制它的编码。研究了半天，只好用R把tikz读进来用`iconv()`手工转一下编码，于是中文的图片文件也可以正确生成了。但由编码问题导致的悲剧还不只是图片，highlight包对R代码高亮的时候如果遇到中文也死翘翘，关于这一点，实在太难找出原因，因为这个过程中同时涉及到pgfSweave包、highlight包和依赖的包——当错误来源有多种可能的时候查错就很可怕了。最初我以为是我的`tidy.source()`函数有问题，改了半天，未果；然后发现把关掉高亮`highlight = FALSE`之后中文文档可以跑pgfSweave，这说明不是`tidy.source()`的问题；经过艰苦卓绝的追逐，终于发现问题来自parser包的`parser()`函数，它里面涉及到代码读写进出文件，这个问题就像我的formatR包一样，在读写文件过程中，文本的编码信息就丢失了，所以需要在读写之前把编码改成自然编码`options(encoding = "native.enc")`。搞了半天，原来是个老问题。给作者提交了一个patch文件，不知下一个版本是否会更新。


--------------------现在的pgfSweave+LyX状态--------------------


说实话，我一直以来并没有理解图片的缓存是怎么回事。这两天鼓起勇气打开那七百多页的pgf手册瞄了两眼，才真的明白了。现在我的自动配置脚本已经做了大幅度更新，就速度而言基本上已经优化到最佳状态，例如设置[默认图形设备为空设备](/en/2010/12/a-special-graphics-device-in-r-the-null-device/)（这样相比起默认的无用的PDF设备要更节约时间）；将tikz字形字典的目录固定到了文档目录下，这样tikz设备也不必每次都去不同的地方查询字形信息；大量减少了文件的复制，编译的时候只有少数几个文件需要在当前目录和临时目录下互拷；等等。现在的LyX/Sweave（中文）文档，终于完全自由了。
---
title: animation更新1.1-5，及彻底删除Git文件历史记录的办法
date: '2010-12-25'
slug: animation-update-1-1-5
---

圣诞节上传了animation v1.1-5到CRAN FTP，不过估计管理员都度假去了，要等一阵子才能放出来了。这次更新主要有两个变化：一是增加了命名空间（NAMESPACE），这玩意儿是我以前没太搞明白的东西，现在明白它的优势了（控制哪些对象是对用户可见的）；二是把`saveLatex()`函数大幅度改写了一下，尤其是用“黑魔法”让它能自动应付Sweave，如果它探测到自己是在Sweave环境中，那么会自动根据代码段的标签和前缀生成动画文件并插入LaTeX文档，而且有选项`overwrite=TRUE/FALSE`控制是否重画动画（可以看作是最初级的“缓存”方法）。从此以后，在Sweave文档中动态生成动画就方便了，如此一来，也算不辜负这个包被收录在[ReproducibleResearch](http://cran.r-project.org/web/views/ReproducibleResearch.html)的CRAN Task View中。至于怎么在Sweave中生成动画，若有人感兴趣，我也可以下次在统计之都主站上介绍一下，这东西应该对一些人有用。

我一直在找如何在Git中永久删除某些文件（包括它们的历史记录）的办法，这个问题也是花费我时间最多的一个Git问题，所幸最后终于在GitHub的帮助页面“[Removing sensitive data](http://help.github.com/removing-sensitive-data/)”中找到了答案。尽管我并不完全明白工作原理，但好歹这个办法管用了：

    
```bash
## 注意Windows下用双引号
git filter-branch --index-filter 'git rm -r --cached --ignore-unmatch path/to/your/file' HEAD
git push origin master --force
rm -rf .git/refs/original/
git reflog expire --expire=now --all
git gc --prune=now
git gc --aggressive --prune=now
```


当时从SVN迁到Git的时候犯了个错误：把整个库都迁过来了（我应该只迁一个子目录），但实际上很多文件都是我不想放到这边来的，比如那些二进制图片文件。它们让整个库的体积增大了太多，而版本控制工具的特点就是记录你对文件的所有操作，包括删除，即使在当前版本中删除了，Git也会在历史记录中记下这些文件，以便随时可以恢复回去。对于这些几十兆的大文件我一直“耿耿于怀”，现在[GitHub上的库](https://github.com/yihui/animation)终于轻松了，大小只有1M了。

---
title: animation v1.2-0：里程碑
date: '2010-12-29'
slug: animation-v1-2-0-milestone
---

从圣诞节前一天到现在，我一直在更新animation包。在这五整天时间里，我提交了60次更新，完善了无数我曾想完善的细节，也增加了一些我期待的功能；到这个版本我才真的觉得可以开始正式宣传它了，以前都觉得灰头土脸，不可示人。这次在用户界面（也包括函数接口和文档）和程序逻辑、风格一致性上花了大工夫，尽量降低学习难度，尽量重用代码。具体说来有这么些变化：



	
  * 新增`saveHTML()`函数，作为古老的`ani.start()`和`ani.stop()`的替代。现在包中的`save*()`系列函数的用法都基本上统一，它们本身不再涉及动画参数，而是统一交给`ani.options()`去处理。`saveHTML()`做了这么几件工作：

	
    * 利用一个基于jQuery的JS库SciAnimator播放动画；本来这次我打算亲手用jQuery重写我的动画JS脚本的，结果就在我动手前几分钟，我去jQuery网站上看了一眼，发现有个人前几天刚刚发布了一个JS库，它做的工作跟我做的极其相似，这下省了我不少时间，正好直接拿来用；要是他晚发布几天，我肯定就要浪费时间了。SciAnimator这个库做得非常精致，不细看还真以为是个影音播放器，充分利用了现代CSS技术（你看，我就是以貌取人），扩展性也非常强。我用R生成一段JS脚本插入HTML页面，再调用这个库就可以播放动画了；

	
    * 将制作动画的R代码以及部分`sessionInfo()`也写入HTML页面，并用SyntaxHighlighter高亮之；这样保证动画的可重复性——别人双击代码复制，粘贴到R里面就可以重现动画了；高亮的代码看起来也漂亮一些；

	
    * 另外，`saveHTML()`也有一定智能性，如果两次调用这个函数都指定了同样的HTML文件名（`ani.options('htmlfile')`），那么两个动画就会被合并到同一个HTML页面中，这样，我们可以把多个动画放在同一个页面中，有时候一些动画的主题都相同，那么就可以合并在同一个页面中；




	
  * 改写了`ani.options()`函数，它不再依赖于`options()`来设定选项，而是自己有专门的选项变量供修改和读取，另外，它也不再限于给定的参数，可以设定任意选项；

	
  * 增加`ani.pause()`函数，功能为提供动画画面间的暂停，如果当前动画在一个非交互的图形设备中，那么这个暂定会被忽略，这样能在很多情况下节省等待时间；只有在交互式图形设备（如窗口设备）中才会停顿；

	
  * `saveLatex()`可以很方便在Sweave环境中使用了，它会自动检测自己是否在Sweave环境中并给自己智能命名；

	
  * `saveMovie()`和`saveSWF()`都会尽最大努力在Windows下去自动找相应的软件的位置（如ImageMagick和SWF Tools），如果你装了这些软件，但这些函数仍然找不到，那你可就真的打败我了；


这次更新才明白了Emacs的fill的意思，每次我写[NEWS文件](https://github.com/yihui/animation/blob/master/inst/NEWS)都很痛苦，因为要自己调整空格，昨天才意识到，原来M-q是这个意思！……娘的，不早说。先用`M-x text-mode`，然后`M-q`，一切搞定。

源代码包和Windows二进制包都可以在[GitHub的下载页面](https://github.com/yihui/animation/)中找到，感兴趣的客官可以先玩玩。可惜CRAN管理员似乎还在度假中，24号以来传上去的包都没动静。

下一步还有三大任务：



	
  1. 既然有了方便的`saveHTML()`函数，那么我的[动画维基网站](http://animation.yihui.org)基本上可以抛弃了——可以改用这个函数直接生成网页，这是个苦力活儿，希望有客官能和我合作；

	
  2. 重新开始写包的vignette——现在有了LyX，有了pgfSweave，有了自动配置脚本，有了`saveLatex()`，可谓万事俱备只欠东风；一年多以前请左辰研究cacheSweave期待能写出动态的动画文档，后来一忙就搁下了，现在杀回来肯定很容易了；看这一年时间里，技术发生了翻天覆地的变化；

	
  3. 两年多以前给JSS投了一篇关于这个包的论文，后来编辑返回了意见，但我一直没有修改，现在有底气可以修改论文重投了；


貌似寒假只剩十来天了，计划更新的书还没开动呢。昏死。

另：这次搞了个大显示器，分辨率1600 x 900，十分适合写代码——Emacs中C-x 3窗口一分为二，宽敞得很。
---
title: animation v2.0-0：告一段落
date: '2010-12-30'
slug: animation-v2-0-0-freezing
---

好了，一整周时间，85次更新，干脆把animation包推向2.0-0版本。近段时间不会再大动了，余下的工作仅仅修改bug。现在包中有18个演示（demo），内容可谓乱七八糟，包括去年湖人和骑士的圣诞大战“回放”（ `demo('CLEvsLAL')` ，就是篮球场上整场比赛的投篮动画）、主伟呈贡献的烟花演示（ `demo('fireworks')` ）、焦静贡献的圣诞雪花（ `demo('Xmas2')` ），还有颜大站长以前贡献的象棋跳马（ `demo('jumpingHorse')` ，这是有背景故事的）和汉诺塔（ `demo('hanoi')` ）等等。

SciAnimator前两天更新增加了键盘控制动画的功能，现在`saveHTML()`的结果就更像个影音播放器了（比如空格暂定、左右箭头导航等）。

往Sweave中动态添加动画在`demo('Sweave_animation')`中给了例子。

rgl的3D动画也可以被轻松抓进来了，参见`demo('rgl_animation')`。总之，你能想到的能动的玩意儿，现在几乎都能抓进animation的框架，无论是输出为HTML页面，还是GIF，还是Flash，还是LaTeX/PDF。同样，源代码和Windows二进制文件可以[从开发页面上下载](https://github.com/yihui/animation)。

明天起开始回邮件，写文章，写书，干老板的活（嗨，看我这顺序安排的……）。计划先在统计之都主站写一篇“如何像个忍者一样写R包”（roxygen、Emacs、R包高阶概念如命名空间等），像上次的Sweave介绍一样，可能需要一小时阅读，但实践起来只是三五分钟的事情。不过这到底是忍者（ninja）呢，还是武士（samurai）？

之所以想起Samurai，是因为几天前吃饭时想起小时候看的一部动画片《魔神坛斗士》，也就是仁义礼智信忠孝悌忍那一套，突然看到英文翻译是[Yoroiden Samurai Troopers ](http://en.wikipedia.org/wiki/Ronin_Warriors)。

又及：你看日本动画片多么懂得融合中国传统文化。

再及：[COS论坛上这个帖子](https://cosx.org/cn/topic/103299)应该载入史册。

再再及：早上我在R-help里问CRAN的管理员是不是度假去了，Uwe说，“Yes, sometimes even Kurt is out of office.” Peter看到了说，嗯，这句话应该载入史册（即[fortunes](http://cran.r-project.org/web/packages/fortunes/index.html)包）。
---
title: 找人
date: '2011-01-03'
slug: ask-google
---

某小师弟来信打听两位大师(弟\|妹)的联系方式，受邮件内容影响，我开始想，该问谁呢？刚准备开始去打听，发现Google一搜就有了。晕，还打听个啥啊。

本来新年第一篇我想写点儿总结计划啥的，结果这三两句话抢了先锋。
---
title: 第一次收到个人捐赠
date: '2011-01-06'
slug: receive-donations-for-the-first-time
---

本小子写代码这几年，还是头一回收到捐赠。特此纪念。

话说好像昨天刚看见Dirk也写了类似的东西，貌似是人家从Amazon给他买了书。

当然，对本小子来说，写程序从来都是自己觉得感兴趣才会写，兴致高而且有空的时候，必然连日作战，从早写到晚，再从早写到晚，再从早写到晚……
---
title: formatR中文问题解决了（v0.1-7）
date: '2011-01-06'
slug: use-chinese-with-formatr
---

刚发布formatR包0.1-6版本，解决了几个历史遗留问题。一个是行内注释在之前的版本中都是被去掉的，现在可以用黑魔法保留了（但存在潜在的危险，但愿用户不要中奖）；二是界面内的中文字符现在也可以处理了。答案就像黄荣贵和怡轩提到的一样，用`Encoding(x) <- "UTF-8"`，但以前处理界面内的代码是先把它写到一个文件中，再用`tidy.source()`处理，估计这个读写的过程出了问题，现在`tidy.source()`可以接受一个字符向量来解析，不涉及文件读写，编码问题也就迎刃而解了。

过去总觉得编码问题很可怕，现在经历了各种诡异的错误经验之后，总算心里有了底。

标题写的版本是0.1-7，是因为刚发布0.1-6之后发现多字节字符问题并没有完全解决，编码的顺序不对（应该先编码，再拆分），这个问题[已经在0.1-7中修正](https://github.com/yihui/formatR)，过两天再发布。以下为效果图：

![formatR：R代码整容前](https://db.yihui.org/imgur/mSLO0go.png)

![formatR：R代码整容后](https://db.yihui.org/imgur/DrmGAvO.png)

又及：上次[animation 2.0-0](http://cran.r-project.org/package=animation)发布之后，有细心的用户Michael Friendly老爷子来信说Sweave演示`demo('Sweave_animation')`中的`prompt`和`continue`选项最后没有重置，又有Aquery指出帮助文档中笔误expresion为expression。对开发者来说，这都是最好的鼓励。就像这里的读者有时候指出我的错别字一样，其实也是不断锻炼我的眼力。
---
title: 自画像
date: '2011-01-22'
slug: self-portrait
---

上不了厅堂，下得了厨房；  
敲得了代码，逮得住蟑螂。
---
title: 国情咨文演讲
date: '2011-01-27'
slug: the-state-of-the-union
---

奥巴马果然不是等闲之辈。大致看了看他昨天的国情咨文演讲，觉得这个人真的很有本事，太擅长演讲了。一个小时脱稿演讲，排比句用得哗啦啦如流水，故事一讲一个，大部分内容都具体而实际（至少听起来是那样），甚至都能细化到某个个人。天朝的讲话就不对比了，听着跟听测度论区别不大。

这次国庆咨文的视频有个显著特色，就是有很多统计图表，这与Tufte可能有千丝万缕的关系。
---
title: 兔刺刺
date: '2011-02-03'
slug: fighting-in-the-rabbit-year
---

从Google Reader上看，我这烂窝的订阅人数已经快要到500。每次我看这个数字，都会觉得写东西有压力；本愤青平日里总是高呼现在网络垃圾文字太多，导致（青年）人变得越来越平庸，注意力越来越分散，大师越来越少。于是自己现在渐渐养成一个习惯：经常一篇文章总是经过几次草稿才发出来，所以等我真发出来的时候，实际上已经过期很久了。本来本文是寒假总结与感想，结果现在得和兔年初一合并在一起。兔刺刺，是乱编的一个标题，来自许三多他爹，《士兵突击》第一集。

## 寒假

人生可短暂了。你看，电脑一开一关，这寒假就过完了。

话说这寒假干了啥呢，几乎全耗在写R包和做其它基础设施建设上。倒是了却了一大堆过去的心愿，一把把刀都磨得铮亮铮亮。耗费这么多时间和精力做基础设施建设，其实在某种程度上来说受Ripley教授影响——尽管素未谋面，但他已成为我的精神领袖之一。几日前，一硕邮件“浙工商局局长谈民营企业”中提到“[...]浙江模式讲到了差异化经营，其中提到几个阶段，别人都不愿意做，你做了；别人都不能做，你做了；别人都不会做，你做了[...]”。作为普通老百姓，我们没有别的选择，只能做别人不愿意做的事情。若能坚持做别人不愿意做的事情，假以时日，必然可以做别人都不能做和不会做的事情。（这句话其实一是要特别写给另一个拼命三郎伟呈，二也是统计之都的经营精神）

见博安的文章在R Journal上发表了，去信道喜，看这兄弟日子过得甚是辛苦，博士就是博士啊，不脱层皮不行。我这样的游手好闲的人，整天叫嚣统计博士的理论课是在浪费我的时间，大约是不会在这博士学位上脱层皮了，能混就混吧。一句话：该下功夫的绝不含糊，该含糊的绝不下功夫。

李龑设计了统计之都的logo，甚好。我说，李龑同学啊，俺等您四年了。终于咱也是有logo的网站了。

方方同学指出，你老人家的书稿中“形而上者谓之道”后一句中有个错别字；好家伙，眼睛贼亮贼亮的人还真不少。

上个感恩节假期猛敲代码，发现王菲的《暗涌》不错，对其（钢琴）节奏尤为感兴趣，于是拿R把mp3读进来画个图看看，但没发现我预期的频率变化，后来又无意发现这首歌还有黄氏翻唱版，听了一下，心中将其暗评为史上最佳翻唱；这个寒假同样猛敲代码，发现Beyond的第一首歌《再见理想》甚好，再听Beyond的其它歌，却都无法超越这刚出道时的第一首：

> 几许将烈酒斟满那空杯中  
籍着那酒洗去悲伤  
旧日的知心好友何日再会  
但愿共聚互诉往事  
一起高呼rock n' roll

## 兔年

初一。给老爹打电话，听不清；于是他去亲戚家视频。打电话他每次都是三两句话就要挂，视频也是三两句就让别人来说，但本小子知道自从本小子来了美帝，他平日看电视多了一项关心的内容。

说到初一，又想到年三十是给老人们上坟的日子。每年三十傍晚都随长辈们去给爷奶上坟，那两个并列的坟头，已是两年未去烧过纸磕过头了。此刻脑中浮现很多儿时回忆。有些夜深人静的时候，很想念他们。希望他们都好。
---
title: 论文与编辑
date: '2011-02-05'
slug: papers-and-editors
---

两年前[我提到过](/cn/2009/01/paper-review-in-8-months/)我给JSS投了一篇关于动画的论文，这事儿后来一直搁置着，自从审稿意见来了之后我就没有考虑修改重新提交。我这人做事一向都是冲击波型的，经常兴致来了就玩儿命干；没兴致的时候天塌下来都不管。自从寒假更新了动画包之后，觉得现在有底气重新提交论文了，于是花了两个星期把那篇老论文参考编辑的意见重写了一下，现在看着总算觉得有点实质性贡献了。发给包括老板在内的几位大头先帮我预审一下，这次争取震死编辑、一稿通过。这篇文章自身包含动画，可能是JSS史上第一篇能在文章内看动画的文章。

实际上08年去德国开会的时候也准备了一篇类似的论文，那次会议的论文本来准备合集发表在09年初的Computational Statistics上，结果这又过去两年了，还没出版。我的论文当时是用三天时间草草写出来的，自然质量低劣，后来遇到了做信息可视化的编辑，提了不少InfoVis方面的意见，我一看，觉得口味不对，于是就扔在那里也一直没再修改。后来他们催稿我也没动弹，直到最近副总编来信问进展如何，我才开始吱声。这不问不要紧，一问我又觉得这文章还是有点希望的，本来我一心专注JSS文章，几乎已经放弃了这边的文章，现在看来又得忙活一阵了。

我要说的是这些编辑们。我没什么发表论文的经验，以前在国内的时候发过几篇质量一般般的中文文章，审稿过程很平淡，编辑几乎没什么实质性意见，主要都是Word格式上的。又想起大约一个月前有童鞋给我发来一篇某编辑写的审稿意见让我看英文翻译对不对，我看了之后感觉就两个字：狗屁。全都是歌功颂德、不着边际的话，翻译成英文后让人看了想揍那个编辑。我的文章收到的评审意见都非常具体，甚至包括拼写错误都会给你指出来。以前看过一个片子（幻灯片），说期刊编辑都想让你的文章发表，不要以为编辑总在卡你。现在我算是相信了，这些人确实对作者非常有帮助。他们会想尽办法挖掘你的闪光点和不足，把思路理得比你自己都清楚，一条一条告诉你如何改进论文。当编辑可真不是个简单活儿，你得很真诚对待作者们。

去年七月参加useR!会议的时候看见Maindonald J.他们的DAAG书出第三版了，这事儿记心里等到九月的时候给他写了封邮件，道道喜，顺便诉诉苦，说这读博士不好玩，测度论概率论什么的，我实在觉得有些东西是在浪费时间，请老大指点指点。老爷子见信甚欢，洋洋洒洒谈了自己的看法。因为这种邮件特别耗脑子，我得琢磨很久才能回复，于是今天洋洋洒洒回复之，谈谈贝叶斯在哲学上的自然性与N-P引理之无聊，老爷子回了一封更洋洋洒洒的邮件，曰触动了尘封之旧念。大意是说模拟的作用。我想听的就是数学出身的人对统计中的数学如何看，我个人是偷懒派，不料和这老爷子还有很多谈得来的地方。

还是说编辑。博文视点的卢大编辑实在太敬业了，大年初一还在说书稿的事。我就想这学术圈的编辑和出版社的编辑咋就差距这么大呢？学术圈要么是缺乏充分竞争，要么还是我那个观点：学术刊物过剩，大家都不稀竞争。

说起JSS，两年前太云说想写论文，扔给我的邮件我一直没回，昨天找出来回了一下。我就是个反射弧很长的人。如果你给我的邮件石沉大海，那么99%的情况下是太重要了。
---
title: 说编辑编辑到
date: '2011-02-06'
slug: editors-one-more-time
---

昨天[刚说了写关于论文和编辑的事情](/cn/2011/02/papers-and-editors/)，今天一开电脑，发现某刊物让我帮忙审论文；小喽罗审大老前辈的文章，有点儿意思。
---
title: LyX 2.0与Sweave/pgfSweave
date: '2011-02-09'
slug: lyx-2-0-and-sweave
---

> 2013/02/05更新：本文已经严重过期，请不要模仿暗黑招数；参见[这篇日志](/cn/2010/02/misc-issues-in-latex-lyx-r-sweave-pgfsweave/)。

转眼间LyX 2.0已经陆续发布beta 1, 2, 3, 4，希望不要再发beta 5，直接出正式版吧。这回在LyX 2.0中Sweave有了内生支持，不过它自带的Sweave的缺点一大堆，前天上午本来想给LyX报告一下这些事情，结果写着写着，自个儿发现了解决办法，昏死，写了几大段道理，白写了。抄起键盘给2.0写了个Sweave自动配置脚本，仅仅在Ubuntu下测试了一下，貌似还挺好使。勇猛的Linux用户可以自行下载LyX 2.0 beta4源代码包编译安装，然后在R里运行：

```r
source('http://gitorious.org/yihui/lyx-sweave/blobs/raw/lyx2/lyx-sweave-config.R')
```

关键之处在于，Sweave从此变成了LyX的一个模块（module），对LyX了解的人都知道这样做的意义：它意味着你可以对任意文档应用Sweave，从此脱离了layout的限制。只要一个文档应用了pgfSweave这个模块，那么LyX就会认为这是个文学编程文档，从而调用R去执行文档中的代码生成LaTeX。这是最显著的进步。

其次，[我以前提过](/cn/2010/12/lyx-sweave-misc-notes/)，LyX/Sweave文档中的R代码中如果使用回车换行，那么得到的结果是代码之间会产生空行。这也是让人很不爽的一点，在2.0中也已经由 `ParbreakIsNewline` 标签解决了。这将增强格式化R代码的功能，用户可以用 `keep.source = TRUE` 来保留自己的代码格式而不必担心空行的问题。

LyX 2.0另一个牛哄哄的地方在于它终于能显示debug的信息了，这让我们可以省下不少力气去研究什么命令行重定向之类的玩意儿：直接勾上LyX菜单View --> View Messages，就可以看到整个编译的过程了，包括R里面的进度，都一清二楚，哪个代码段要是出错了立马就能知道。这给查错带来了无穷的便利。

总结一句话：牛可牛，非常牛。

近段时间发现Ubuntu下编LaTeX似乎比Windows下快很多，尤其是动画，Windows下每一页图都要编上一两秒，整个动画编出来黄花菜都凉了。另外发现animate宏包实际上已经能和`\def\input@path`一起用，所以动画文件不必写绝对路径，在LyX中就可以用了。只可惜Ubuntu中的TeXLive更新实在是太慢太慢，让我花了很长时间才意识到animate已经更新了，我的问题已经解决了；我对Ubuntu中最不满的一个软件就是TeXLive，它的宏包管理功能比MiKTeX差太远太远了。现在MiKTeX有个简单的Linux版本的宏包管理器，算是可以凑合着用吧（从源代码编译会出错，不过Google一下就解决了）。
---
title: 俳句一首
date: '2011-02-11'
slug: haiku-for-ames
---

几日前，有童鞋说，有空来风景如画的西雅图玩吧；按礼数当然也要请别人来自家玩，但转念一想，这艾姆斯农村有啥呢？于是，学小丸子的爷爷来一首伪俳句：

> 哎哟艾姆斯  
> 尔乃玉米的海洋  
> 和猪的天堂
---
title: 还是文章
date: '2011-02-12'
slug: papers-and-books
---

终于把animation包的文章投出去了。在这一篇文章上花费的时间都能超过我在统计图形书上的三分之一时间了，希望不要退给我再大改，小的实在没时间，得赶紧转身全力投入写书中去，不然卢编和周老师要踹我了；另外如领导的领导所指示的，这书搁的时间太长，客官们可能会失去兴趣。反观这两年知识与技术不断进步，一不留神，新的玩意儿又出来了，于是心里惴惴不安，过去写的东西会贬值的。就像写代码一样，每过一段时间回头看以前的代码，都觉得不满意。说到代码，我觉得CRAN上有些名气大的包其实质量并不咋地，比如那贝叶斯计算书的LearnBayes包，还有Bioconductor上的包也是，当然我对这方面了解甚少，只是写作业的时候看了一眼里面某些包某些函数源代码，太不优雅了。

废话少说，干活。
---
title: 终于有了个好用的Linux中文输入法
date: '2011-02-13'
slug: chinese-input-methods-under-linux
---

> 2012/07/29更新：我最终还是收敛到ibus sunpinyin上了。输入法归根结底，还是习惯问题。

虽然稍微慢了点，不过正确率还蛮高的：ibus-cloud-pinyin。据说是用的搜狗和QQ的云端，不知道寿命会不会长久……之前找了个SCIM Google拼音输入法，但实在是太容易崩溃，另外还有个Sun pinyin，出字速度比我打字速度还慢。

现在彻底转入Ubuntu写书。
---
title: 撒谎无底线
date: '2011-02-15'
slug: liars-and-statistics
---

对统计局玩出来的CPI上涨4.9%，问一百个人，一百二十个人不信。[87.53%也就罢了](https://github.com/downloads/yihui/yihui.github.com/master-thesis-Yihui-Xie.pdf)，为了不压线（5%）玩儿这4.9%有意思吗？

那77块钱房租的事情可以说是开创了天朝撒谎新纪元：连最大的头都可以骗了，还有谁不能骗的？

这一届朝廷之乏力，已经是再明显不过的事实了。
---
title: 书稿更新，吉祥数字
date: '2011-02-22'
slug: update-on-msg
---

今天2月22日，在这样一个全是二的日子，我把书稿更新到了256页。256对于码农来说是个吉祥数字，2的8次方。TeX的作者Knuth老大曾经用2.56美元作为一个十六进制的1美元奖励给发现他的程序bug的人：十进制下1美元是10x10美分，十六进制下1美元就是16x16美分……

这书稿现在还没太多好看的内容，现在只是把老内容大致更新了一遍。紧接着要开始grid和ggplot2了。

看到GitHub上pgfSweave大幅更改了缓存机制，用法有点诡异，心里有点“忐忑”。
---
title: 求数据，好玩的数据
date: '2011-02-28'
slug: looking-for-data
---

继上次256页之后，这一周推进了近50页，今天刚写完ggplot2。犹豫了很久，还是砍掉了书稿中的模型一章，因为主题太大，无法驾驭，也没有时间深入写；但相应加强了数据一章，这一章会成为这本书的最好玩的部分。神马猪肉价格，神马绝望的主妇，神马莫扎特维瓦尔第，神马末日狂奔游戏，统统都在这一章。争取达到的状态是，天遮不住我眼，地埋不了我心，诸佛烟消云散。不过，现在能玩的数据都玩遍了，手头没有了新奇的数据，特向过路的客官拜求关于以下主题的数据：

- 层次聚类和K-Means聚类
- <del>因变量为三分类的数据（做预测模型用，但预测结果不好）</del>已经有了
- 化学类的测量数据，包含一个分类变量，其它变量都是连续变量（做主成分分析和MDS用）
- 时间序列数据

这些主题下的图形写完之后，数据一章便可结束。还剩下：grid、lattice、rgl、动态图形四节，图形原则一章，附录动画一节，GUI一节。然后这书稿就差不多完成了。

又及：数据最好新一点，最好是身边触手可及的。不然，可能对不起书名中的“现代”二字了。
---
title: 慢
date: '2011-03-03'
slug: yang-zhou-slow
---

我这几天猛写书，加准备考试，有两天没看Google Reader了，有点隔世感觉。号称脑子短路的怡轩这两天整了个没谱的主意，[把宋词拿来分词统计频数](http://yixuan.cos.name/cn/2011/03/text-mining-of-song-poems/)。这想法有点儿意思。我倒没怎么看分词程序，打开词库看了看，瞅到姜某人（我文盲，这个字不会读）扬州慢一首：


> 淳熙丙申至日，予过维扬，夜雪初霁，荠麦弥望。入其城则四顾萧条，寒水自碧。暮色渐起，戍角悲吟。予怀怆然，感慨今昔，因自度此曲，千岩老人以为有黍离之悲也。

> 淮左名都，竹西佳处，解鞍少驻初程。过春风十里，尽荠麦青青。自胡马窥江去后；废池乔木，犹厌言兵。渐黄昏，清角吹寒，都在空城。杜郎俊赏，算而今、重到须惊。纵豆蔻词工，青楼梦好，难赋深情。二十四桥仍在，波心荡、冷月无声。念桥边红药，年年知为谁生！

这似乎是高二某篇课文。当时觉得这词有股音律在里面，今日再看，也许是这词本身的场景和平仄起伏都比较大的缘故。转念一想，切，这到底有嘛啊？

![扬州慢：四声](https://db.yihui.org/imgur/ataQ3.png)

![扬州慢：平仄](https://db.yihui.org/imgur/IcTQ9.png)

可惜了儿了当年的语文老师，愣是把课上得无人愿意听。本小子在初中萌发的一肚子文学热情，在高中全被掐灭了。你看，现在读首破词，也要画个破折线图，这就是他娘的理科。

---
title: LyX 2.0终于告别beta了
date: '2011-03-07'
slug: lyx-2-0-rc1
---

如题。LyX今天放出了RC（Release Candidate）版本1，忐忑安装试了一把，中文书稿仍然可以正常编译，阿弥陀佛。这书稿到下星期结束时，大约可以写完了。


**外一篇：傻**


在美帝呆久了人容易变傻，不知道是自我心理暗示还是真的容易变傻，总之本小子觉得自己一直有变傻的趋势。傻博士读到一定程度，也许真的会走路撞着电线杆子说对不起。变傻的特征之一就是不会说话，开口容易说错话，说话不过脑子。统计男就统计男嘛，说人家市侩也太过分了，阿弥陀佛，罪过罪过。以后各位客官看见这种不过脑子的话可以直接上脚踹。

话说回来，[上一篇日志](/cn/2011/03/yang-zhou-slow/)标题为啥叫“慢”呢，这一点我在给COS管理人员的邮件中解释过：现在的娃儿有返古风，据本小子揣测，原因是古文读起来慢，而因为读不快，所以才能集中精力想，因为脑子跟上了，东西才能读得进去。你说这一天到晚看那么多东西，有几样看得进心里去啊。

说到COS，这一帮人，主站一个月憋一篇文章，有人说这更新忒慢了吧。我说，慌啥，写好老文章就够了，有一篇让人读十遍的文章，比十篇让人读一遍的文章强多了。铺天盖地发表更新，有嘛用。
---
title: 不为工具所累
date: '2011-03-09'
slug: use-appropriate-tools
---

周老师分享文章一篇，《[谈谈时间管理--陶哲轩](http://9.douban.com/site/entry/174477609/)》。跑题党眼中的两处问题：一、新浪的PageRank不可能是6，我后来特地看了一下，是8，陶的博客PR要是能赶上新浪，那新浪就得关门了，吹捧不带这么吹的；二、陶曰：正在研究宏，以便能够快速输入 `\begin{theorem} ... \end{theorem}` 之类的LaTeX代码，我心想，嗨，费那事儿干嘛，LyX不是现成的吗。时间紧，话题不展开，不过陶的确是个牛人。

又及：最近心中有些不安分。这种不安分加密之后就是：余弦！余弦！余弦！

又又及：谁来给我讲讲木遥是谁？[傅立叶变换写得很好](http://imaginary.farmostwood.net/542.html)，再具体一点就更好了，得拉到统计之都来。
---
title: RStudio
date: '2011-03-10'
slug: rstudio
---

关于这个[RStudio](http://www.rstudio.org/)，它的确很NB，我看好它，我理想中的R的网页应用就应该是这个模样的，神马Rweb，神马RApache，要么太原始，要么太复杂，本小子看了都直摇头。RStudio这样一个GUI，可以说真的是给老百姓开发的产品。

不过可能没几位客官注意到，作者之一是JJ Allaire，他是何许人？答曰：ColdFusion的作者之一。剩下的事情，各位自己[维基百科去](http://en.wikipedia.org/wiki/Joseph_J._Allaire)。

<del>顺路问一下，如果有人给你提供一个让你能在线运行的R（基于这个RStudio），你是否愿意付费使用？多少能承受？我不是要圈钱，只是在考虑搭起这样一项服务，但它得有稳定的财务支撑。缺点一项：无法承受太大的内存占用（虚拟主机嘛）；优点若干：一个（理论上）永不关机的R、有超级牛力的R界面，代码走到哪儿写到哪儿，只要能用浏览器上网，就能用R。估计对此感兴趣的人不会太多。</del>这个主意不靠谱，弃之。
---
title: 关于Wordpress的评论审核机制
date: '2011-03-11'
slug: comments-moderation-in-wordpress
---

有客官来信说，咦，寡人的评论哪旮旯去了？莫非你这鸟人给朕删了？

草民磕头如捣蒜，曰：冤枉啊，皇儿让！

本博客用的是Wordpress后台，这Wordpress自带的评论审核机制为：如果你从来没在这个网站上留过言，那么你的处女作将会被放到审核队列等待管理员手工审核；如果你曾经被审核通过过一次，那么下次你以同样的用户名和邮箱留言就不必再等待审核了，会直接通过。当然，如果你什么时候换了用户名或邮箱，那么就又会被当作新客官。如果你的评论中包含两条以上的超级链接，那么你会被当作“嫌犯”，评论需要管理员手工审核。这些规则都是为了对付垃圾评论，君不知这网络上有多少机器人在活动，如果没有这些简单的规则阻挡一下，Wordpress用户每天就不用干别的了，删广告删到手抽筋。

另外我这里还有Akismet插件帮忙阻挡垃圾评论，它是基于机器学习的一个程序，时刻学习垃圾评论的特征，自动判断是否为垃圾。尽管Akismet能自动标记垃圾评论，但仅仅只是标记而已，管理员仍然需要在后台每天清空一批一批的垃圾，所以这里[还用了reCAPTCHA](/cn/2010/04/conditional-captcha-stops-spam-comments/)，如果Akismet放行它就不再过问，如果Akismet认为是垃圾评论，它就弹出一个机器人几乎无法攻克的验证码框，此时如果你是活人，那么你将有机会让管理员从垃圾队列中把你找出来人工审核，如果你是机器人，你的游戏到此结束。

希望这个解释能让各位大人满意。小的从不会无故删评论，坑爹的骂娘的我都会放行。
---
title: 把时间当作朋友
date: '2011-03-13'
slug: let-time-be-a-friend
---

现在是夜里1点半了，显然我没把时间当朋友，尽管我刚花了五个小时读了《把时间当作朋友》。这本书写得比较踏实，是我还比较喜欢看的，因为感觉有不少真实经历在里面。不过我看完第一遍的感受是，这本书的别名可以是《如何作自我反省》，因为它谈的并不全是管理时间，而是自己扯下自己的面具，或用反省的方式让自己的劣性没有藏身之处，或学习控制自己。本小子一定程度上有同感，这也是本小子需要修炼的。
---
title: 世界上本来没有花卷
date: '2011-03-14'
slug: no-flour-rolls-in-the-world
---

世界上本来没有花卷，只因为上上周买了一包羊肉馅儿，放着不知如何处理，于是包了包子，面粉发多了用不完，于是有了花卷。

这是昨天的事了。今天大清早爬起来，领导御驾亲征Iowa City，颠颠儿仨小时，从一个农村颠儿到了另一个半农村，俺们Iowa就是个大农村。因为要一天来回，也没啥别的选择，看来看去，还是Iowa City合适。正好劲翔在那边，还有平日在我这窝里经常留言但素未谋面的子谦兄也在那旮旯，于是我们就去拜访了University of Iowa，蒙二位东家热情招待，吃了克林顿曾经吃过的餐馆，参观了统计系，校园稍作溜达，便匆匆揖别。回来路上进Outlet“刷店”，一圈大店小店几乎刷遍，脚软眼花，相信广大男同胞都明白，那时候眼里就只对一样东西放光，就是椅子。如果要表达一下对女同胞的景仰，大概只能用《十全九美》中41秒鲁班的话了。刷到七点，天色渐晚，起驾回宫。
---
title: MSG初稿即将完成
date: '2011-03-21'
slug: msg-manuscript-almost-done
---

憋了一春假，终于快把初稿憋完了。接下来还有更痛苦的调整过程。调格式、调结构比写新的内容更麻烦。欲练此功，挥刀自宫啊。

还有些问题回头得调查一下读者，写的人和读的人角度可能很不一样。
---
title: 值得学习？值得学习个屁
date: '2011-03-24'
slug: hacking-econometrics
---

从Cloudly那旮旯看到XX经济论坛上的神帖，曰“计量论文写作和发表的黑客教程”，曰“发《经济研究》不再难”。神帖一出，回帖铺天盖地，原因各位客官都懂的，因为楼主设置了部分内容回复可见。大家纷纷叩谢，曰“值得学习”。小的遂发表一句评论如标题所示，倒不是针对楼主——针对的仍然是这个破败的学术市场。

我理想中的学术研究首要标准是要有人情味，在文章背后看得到活人，看得到一张嘴在说话，说他/她自己脑子里想出来的话。可是大家都要吃饭，不制造垃圾，就得有人下岗。

既然说到这儿，不妨多说两句。我厌倦的不仅仅是无止境的数据套模型，还有无止境的参考文献。我认为某种程度上，参考文献现在已经成了读者的绊脚石。很久以前，我对计量还充满了兴趣，也痴迷于追踪参考文献，后来对计量逐渐失望，目前这个阶段，也开始对参考文献开始厌倦。如神帖所说，你可以写一篇差文章先投，接着再写一篇稍微好点的，引用前一篇，就跟自己投篮弹回来再自己抢篮板一样。这种东扯西拉的参考引用总有一天将失去它原本的意义。这年头谁TNND的有空看你的参考文献啊？

牢骚的作用在于自律（《武林外传》记者语：我是一个自律的撰稿人！）。所以，小的将努力保证《现代统计图形》的读者在不看那八页参考文献的基础上可以无障碍阅读这本书，这个目标不小。
---
title: 浮动，浮动，浮动
date: '2011-03-28'
slug: floating-environment
---

上周调整书稿的时候被LaTeX的浮动环境整疯了。我有一百三十多幅图，忐忑地调啊调，一不小心尺寸稍调大一点，LaTeX就把一幅图给安排到单独的页面中了，而我又是偏执狂，不想规定`[!hbp]`之类的强制固定位置的参数，但有时候就是闹心，明明上下空白边距高度都超过半页纸了，干嘛要让一幅图占一整页的篇幅？因为书稿用Sweave写的，所以每调一幅图都要重新跑一遍R（当然，这是自动的），实在考验耐力。有时候就感觉像玩打地鼠似的，把这个按下去，那个又冒出来了。

这个，有没有办法让LaTeX大爷的规则稍微宽松一点，尽量利用空间啊？只要能排得下三四行字就不要让一幅图单独占一页。我猜Knuth大神一定很少用图，可我这是平均每隔两页就有图啊。

**外一篇：有钱能使鬼建模**

今天Netflix头奖得主（之一）Robert Bell来系里报告，教室人山人海，从未有过的景象。我一边听一边在想，咱们这“[第一届全国大学生数据挖掘邀请赛](http://www.statmodelingcompetition.com)”实际上在做类似的事情。神马？你还不知道这个数据挖掘竞赛？速速操起你的键盘，快去注册参加吧，虽说没个百万美金，这个竞赛的奖金也够你乐呵一阵子了。不过不幸的是，国外学生不能参加。我等只能打酱油了。
---
title: 关于气煞人的LaTeX浮动
date: '2011-03-30'
slug: latex-float-no-longer-sucks
---

还是DJ兄给力，给的这篇[关于如何使用LaTeX浮动召唤术的神帖](http://www.howtotex.com/tips-tricks/control-float-placement)相当的有用。书中的那些稍微高一点的图形现在都乖乖浮动到页面上方去了，下面的文字如流水般淌过。这事情，只能用《十全九美》第5分06秒的场景描述了：

![太强啦](https://db.yihui.org/imgur/CwBsAqs.png)

对于“按下葫芦浮起瓢”（卢编语，非常贴切）的LaTeX浮动，现在我们可以引用《疯狂的石头》10分17秒的场景来描述：

![老子叫你飞](https://db.yihui.org/imgur/4rHon0B.png)

尽管[前面我说参考文献很可恶](/cn/2011/03/hacking-econometrics/)，但长期在此溜达的客官也许可以发现以上两部老片子是我常用的参考文献。

又及：晚上做了真正意义上的红烧肉，红烧肉呀么红烧肉，没得五花肉，果然是烧不成的。

又又及：关于LyX和pgfSweave的工作似乎惊动了LyX中央，今天“上面”来人了，也许LyX 2.0里面我能把pgfSweave给整进去。这是个好事。

再及：MSG包已经扔到CRAN上了，不过Windows版本的包目前还没编出来。这本书的最后一节也已经收到，但关于R介绍的一章要大幅度重写，然后才真正算是初稿完成，万里长征走完了一步。
---
title: Tufte样式，纠结了
date: '2011-04-03'
slug: tuftes-book-style
---

知道的越多，迷惑就越多。今天研究了一天Tufte的样式（真的是很漂亮），搞定了所有中文和Sweave问题，不过接下来就要面临选择，要么做苦力，再把一百多幅图一个个调整一遍（主要是压缩宽度和裁左右白边），要么原地踏步走，把几个没有浮好的瓢按到合适的位置上去完事。
---
title: 可能是史上最强更新：R 2.13.0
date: '2011-04-13'
slug: r-updated-to-2-13-0
---

R 2.13.0今日出炉，[一大批更新中](http://stat.ethz.ch/R-manual/R-devel/doc/html/NEWS.html)有以下条目吸引了我的眼球：



	
  * image() has gained a logical useRaster argument allowing it to use a bitmap raster for plotting a regular grid instead of polygons. This can be more efficient, but may not be supported by all devices. The default is FALSE.
不知道tikzDevice能否正确处理，如果可以的话，也许可以放心使用image()了，之前由于tikz生成的image()的图形既大（因为是很多矩形）又有难看的白色网格，所以让我一直很纠结。

	
  * file.copy() now (by default) copies read/write/execute permissions on files, moderated by the current setting of Sys.umask().
这个问题貌似是我报告过的，因为roxygen拷贝configure文件的时候会把744属性丢失。

	
  * New hook "before.new.plot" allows functions to be run just before advancing the frame in plot.new, which is potentially useful for custom figure layout implementations.
这让我们可以在.Rprofile文件中设定默认的par()，免得每幅图都要par()来par()去的。

	
  * Package tools has a new function compactPDF() to try to reduce the size of PDF files _via_ qpdf or gs.
这qpdf貌似也是我推荐的，主要是因为Sweave默认用PDF图形，而这些PDF图形都是没有经过压缩的，所以导致包的体积不必要地大。

	
  * file.rename() now allows vector arguments (of the same length).
省去了循环。

	
  * Package compiler is now provided as a standard package.  See ?compiler::compile for information on how to use the compiler. This package implements a byte code compiler for R: by default the compiler is not used in this release.  See the ‘R Installation and Administration Manual’ for how to compile the base and recommended packages.
也许有人在Google Reader中看到了我的分享，这是Luke Tierney十几年的工作，终于浮出了水面，此举也许能让R的运算速度加快几倍。如果自己通过make install的方式安装，可以先make bytecode，回头测试一下速度。

	
  * Sweave() has options to produce PNG and JPEG figures, and to use a custom function to open a graphics device (see ?RweaveLatex).
(Based in part on the contribution of PR#14418.)
这是我们抱怨了无数遍的一点：Sweave不能使用除了PDF和Postscript之外的图形。在2.14.0中这个问题将进一步得到解决，到时候可以任意自定义图形设备。

	
  * The default for Sweave() is to produce only PDF figures (rather than both EPS and PDF).
我早说了，这年头有谁还会用老旧的EPS图形啊？2.14.0的时候，一段Sweave代码只会被执行一遍，这也是我期待很久的特征。

	
  * If there is a field BuildVignettes in the package DESCRIPTION file with a false value, re-building the vignettes is skipped.
此举可节省R包安装时间，尤其是有大的vignette或者其中有CRAN的环境无法编译的代码。

	
  * File R.css is now installed on a per-package basis (in the package's html directory) rather than in each library tree, and this is used for all the HTML pages in the package.  This helps when installing packages with static HTML pages for use on a webserver.  It will also allow future versions of R to use different stylesheets for the packages they install.
同样是抱怨过的问题，R默认的css太丑了，现在包的开发者终于可以自定义R.css了。

	
  * The gamma argument to hsv(), rainbow(), and rgb2hsv() is deprecated and no longer has any effect.
对我写书有一点小影响，不过我早已经更新这些函数在书中的说明。


总的说来，还是compiler包看起来是最大的更新。


**外一篇：一年一度的John Chambers奖**


今年的Chambers奖只收到很少几件作品，最终Ian Fellows的Deducer胜出（我又剧透了），尽管我总觉得这玩意儿做得不够优雅。

又及：当年Chambers大人捐赠的奖金只有1万刀，某大佬曾抱怨说，这钱早就花光了！不知道ASA是怎样维持的。
---
title: 第四届中国R语言会议
date: '2011-04-24'
slug: the-4th-chinar
---

第四届中国R语言会议紧锣密鼓进入筹备期，国内的高手六月可到北京一聚。目前看来天时地利没问题，就差人了，还请各位客官费心多多推荐R高手届时登台讲道。

详细通知过几天揭晓。

啥事儿难就难在坚持，这会议我08年打了个头，接下来都是其他大将扛下，能扛到第四届，不简单，幕后英雄谁人知晓。

想起当年去H&J，所有面试最后一场，就剩下一个问题，先生问：“能坚持吗？”那时候根本没过脑子，随口一“能”字。后来若干次想起那个场景，多轻松一个问题啊，多沉重一个回答啊。
---
title: formatR继续更新，0.2-2
date: '2011-04-27'
slug: formatr-update-to-0-2-2
---

关于[formatR](http://cran.r-project.org/package=formatR)这个包，一直有个心结没除去，就是注释语句的解析非常没谱。之前的规则是两个空格加井号并且之后不带双引号的字符才是行内注释（正则表达式控现在大概已经在脑子里飞速运转这个正则表达式了），最近思来想去，决定还是用parser包吧，它可以对R代码进行更细致的解析，包括注释，都能正确识别出来，这比我之前用的正则表达式靠谱多了。所以从0.2-2开始（目前还在[我的GitHub](http://github.com/yihui/formatR)上），行内注释可以任意写，管它#前面有几个空格，后面是否有双引号，都能解析出来。

另一个小更新是赋值符号`=`可以被选择性地替换为`<-`，众所周知，本人是等号控，可是绝大部分R用户都是箭头控。本功能可以减少等号控与箭头控之间的争论，但我还是会坚持用等号赋值，咋儿说咋儿不听。


**新闻一则：GSoC**


关于Google Summer of Code，昨天惊闻有两位师弟中标，甚是彪悍。还是那句话：沧海横流，英雄少年。


**号外一则：寻UBC同学**


有师弟今年秋季去温哥华的UBC，不知这里的客官是否有认识UBC的同学，若有的话请联系我，需要帮个忙。谢谢。
---
title: 李崇亮，hotmail喊你回家杀毒
date: '2011-05-01'
slug: an-infected-hotmail-account
---

不知道这一嗓子能不能吼到李同学那里去。很长一段时间以来，这同学的hotmail邮箱（aimpursuer@hotmail.com）不断发垃圾邮件过来，而邮箱主人似乎并未察觉，我估摸着八成是MSN病毒。（注：此李乃参加[第一届R语言会议](https://cosx.org/2008/12/1st-chinese-r-conference-summary/)的李，别喊错了）

说起这事，就想起某些社交网站的病毒式邀请：让你填邮箱和密码，然后你的所有联系人都会被搜刮出来并强行接收来自于“你”的注册邀请。我脑袋想破了都想不通，为啥会有人真的去填密码。难道这是传说中的IQ卡密码被盗的表现？
---
title: 又考完试了，又可以开始学习了
date: '2011-05-02'
slug: i-hate-exams
---

这学期课少，正儿八经的考试只有一门基因芯片课，已于上午搞定。剩下两门课，一门是瞎混的，一门是报告，都没啥。不过呢，平心而论，N老师的考试还是挺有趣的，这家伙脑袋很灵光，从rtist身上就能隐约看到他的功力（rtist是他的弟子）。我是一看见试验设计就头大，脑子里绝对装不下超过三个因素的试验，否则就内存溢出，要是再有个交互效应或裂区，我肯定得花半个小时琢磨清楚试验的场景，在这方面我反应极其迟钝，让我写个方差分析表通常就可以要了我的命。

好嘛，学习，学习嘛呢？论坛上说[读书](https://d.cosx.org/d/104178)，我一回想，也不记得过去都读了啥书，反正来了美帝就没太读书了。极其偶尔的情况下，翻一翻钱钟书，这厮挺有趣的，好几十年前的小说，照样能映出现代人的影子。又说《奇特的一生》（写柳比歇夫的），也是大几十年前的话，放在现在仍然一个样：

> [...]但是我们出于我们的自命不凡，深信古人的时间绰绰有余。古人只有日晷、水漏、沙漏，连计算时间都不象个样子，还谈得上什么珍惜时间。按照实干家的见解，进步不就是在于替这位实干家节约时间嘛。为了节约时间，实干家下了马车坐上火车，下了火车坐上飞机。发明了电报和电话来代替书信，电视代替了剧院，拉链代替了扣子，圆珠笔代替了鹅翎。电梯、计算机、百货公司、电传打字机、电动剃刀——这一切发明，都是为了替人节省时间。然而，不知道为什么，人越来越感到时间不够用。实干家加快了速度，推广了电子计算机，把百货公司翻修成自动售货公司，采用照相制版法来印报纸。连说话都尽量说得简洁些，也不动手写了，而是利用录音机口授。但时间却越来越紧张。不仅是实干家，人人都感到时间的匮乏。没有时间看朋友；没有时间写信；没有时间照料孩子；没有时间去想；没有时间到秋天的树林里去站一会，什么也不想，光去听听飞舞的落叶飒飒作响；没有时间吟诗；没有时间去给父母上坟。小学生也好，大学生也好，老头儿也好，大家都没有时间。时间不知哪里去了，越来越少。手表再也不是奢侈品，每个人手腕上都戴的有，走得很准，校正过，还防水；人人都有一座闹钟滴滴答答走着。但是时间并没有因此而增加。时间的分配几乎同两千年以前赛纳卡时代一模一样：“我们一生的时间，大部分用于错误及种种恶行；很大一部分虚抛浪掷，无所事事。我们整个一生，几乎都没有用来干应当干的事。”

好玩吧？《奇特的一生》还有一个好玩之处，就是它的章标题，也许是物以稀为贵，看惯了整齐简短的标题，再看这种用句子作标题的，就会觉得新奇（当然，作者本身就把这些文字写得很好玩了）。

我在论坛上回帖说了，我印象中最早的一本书是《金银岛》，是我小学的时候某个酷暑光着脚丫子颠儿颠儿跟在一个收旧书的大爷的自行车后面偷出来的，关于此事，若干年后我才知道孔乙己说了，读书人那不算偷，是窃。这是一本外国小说，那时候我看得津津有味（说明当时的翻译水平很高），小时候的记忆力也不错，我到现在都记得译者在那首水手歌的“箱子”上写了个脚注，说这里的箱子在英语中同时也有胸膛的意思（chest）：

> 十五个人趴着死人箱——  
唷呵呵，快来尝一瓶朗姆酒！

关于此事，我自然也是若干年后学了洋文才明白过来。也许是这本小说刺激了我对看书的兴趣，但村子里哪有什么书啊，所以就在别人家翻高年级的语文书看，看《渔夫和金鱼》，看《小音乐家扬科》，仅此而已。后来我姑父无数次提起当年我上他家去玩，每次坐下就开始到处找报纸，因为只有他家有订报纸；搬出一摞旧报纸，一看看半天，其实我是在看故事和笑话，他们当然认为我是在爱学习。

又见[江堂回归中土大唐](http://li-and-jiang.com/blog/2011/05/02/huangzhuang/)，贴杜甫一首《赠卫八处士》。我记得这首诗，主要是因为谢邦昌老师几年前在纪念张尧庭前辈的会议上诵读了它，当时我觉得挺震撼的。

> 主称会面难，一举累十觞。  
十觞亦不醉，感子故意长。  
明日隔山岳，世事两茫茫。

读书读书，愿读服书。近日总是看见争吵，古人肿么地，今人肿么地，文化肿么地。其实又能肿么地？读不读书或读什么书，有shong么关系呢？套用我最近分享的[一篇文章](http://www.bullogger.com/blogs/chjguancha/archives/377904.aspx)的标题：只是欢喜随意而至。
---
title: LyX 2.0横空出世
date: '2011-05-10'
slug: lyx-2-0-released
---

这是旧闻了。只不过我这两天在埋头苦改其中的Sweave部分，刚刚改得差不多了，发了个大大的SVN补丁过去。可惜没能赶在2.0之前搞定。pgfSweave也作为单独的模块加进去了，有超级牛力。不知能否赶上2.0.1的趟，也不知2.0.1啥时侯发布。

总之以后不用费劲折腾了，配置啥的都将变得很简单。
---
title: 第四届R语言会议，生物信息学，模拟
date: '2011-05-22'
slug: 4th-chinar-bioinformatics
---

[第四届中国R语言会议](https://cosx.org/2011/04/chinar-2011/)下周就要在人大召开了，我浏览了一下演讲者的幻灯片，发现这一届会议上生物信息学可能会成为一个重要主题，有好几位演讲者都要讲这个。我不知道这些人的统计背景如何，只是觉得这个话题面向一般听众可能有点小挑战。这里向非统计出身的同志们推荐一篇文章（作者为给我们上基因芯片课的老师）：

- [A Discussion of Statistical Methods for Design and Analysis of Microarray Experiments for Plant Scientists](http://www.plantcell.org/content/18/9/2112.full)

IMS Bulletin（我称之为IMS广告牌，因为都是广告）每一期都有一个Terry Speed专栏，值得一看，[李丰在论坛上](https://cosx.org/cn/topic/104385)贴了[一期关于模拟](http://bulletin.imstat.org/pdf/40/3/IMSBulletin40_3.pdf)的，挺有意思。看这大爷的回顾，就跟我们组织R会议一样一样的（一开始发愁没人来，后来发愁人太多），这世道就是一开始拼命不用模拟，然后拼命用模拟，到了最后，又开始琢磨，咱还得多搞点理论。

又及：前一阵子回了一些两年前的邮件，现在正努力减少收件箱的邮件数目，逐步过渡到冬眠期，哦，不对，是夏眠。

---
title: 第四届中国R语言会议胜利闭幕
date: '2011-05-30'
slug: 4th-chinar-is-done
---

[第四届中国R语言会议](https://cosx.org/2011/04/chinar-2011/)落下帷幕，大家这些天过得跟打仗似的。我也没啥多说的，这会议一年比一年办得好，大家也越来越用心。我一直在看[微博播报](http://weibo.com/cosname)和[人人网的更新](http://renren.com/cosname)，因此也创下我在人人网登录最高记录——连续三天登录。

这次最有面子的当属熊熹师姐（绝对盖过主席），众useR们给师姐庆生，史上头一次。微博、邮件里一堆生日快乐不说，就连[论坛上新注册的人第一帖](https://cosx.org/cn/topic/104457)都还不忘祝师姐生日快乐，我实在被师姐这股强大的气场震撼了。

哎，我这日志也给震歪了，不是在说R会议么……

[每](/cn/2009/12/snow-in-ames-and-2nd-chinese-r-conference/)次[看](/cn/2010/07/3rd-chinese-r-conference-beijing/)这[R](/cn/2011/05/4th-chinar-bioinformatics/)会议，我心里觉得高兴的同时又会发愁，因为激起热情容易，维护热情不容易，不过这第四届让我觉得比较放心了，各种组织工作都趋向成熟，人心也比较齐。有听众回去之后微博一连用了七个短语形容曰“气氛最好、最轻松、没有等级、最开放、很实在、相当喜欢、太靠谱”，组织者们看了一定很欣慰，此前各种辛苦定当烟消云散。

看照片和评论不免让我心生种种遗憾。比如去年我回国，颜大站长没去参会，今年我没回国，站长去了。又比如一硕，也是至今未谋面。吴老，也是几年不见。照片上还有在备战GRE的，后来得知要考GRE的还有好几人。如此牺牲，咋可能办不好事呢？

---
title: 在LyX中使用中文
date: '2011-05-31'
slug: write-chinese-in-lyx
---

一个多月以前，我向LyX官方提交了三个基于ctex宏包的layout文件（见[#7495号“传票”](http://www.lyx.org/trac/ticket/7495)），分别用来写中文论文、书籍和报告，熟悉ctex的一看就明白这是什么意思。这些新的layout将在2.0.1中被收录，顺利的话，六月份（可能是下旬）会发布出来。到时候，只要你的LaTeX中安装了ctex宏包，LyX文档设置中就会出现三个类：

- article (CTeX)
- book (CTeX)
- report (CTeX)

如果你用模板新建文档（Ctrl+Shift+N），那么将会看到一个模板文件：
	
- ctex.lyx

用模板的好处在于可以省去一些繁琐设置，对中文文档来说，这些设置包括：

- UTF8编码（推荐），包括Class Options中的Custom一栏填入UTF8（这个选项将传送给ctex宏包），另外，还要把语言修改为简体中文，语言的编码设置为`XeTeX (utf8)`
- 如果用Adobe中文字体并且用pdflatex编译，那么上面的Custom一栏还需要填入`,adobefonts`，此处不解释，我假设你熟悉ctex宏包；否则要用XeTeX字体并用XeTeX编译
- 语言包的设置最好清空（设置为Custom，填入`%`），据我所知，LyX采用的babel宏包对中文文档完全是累赘（多出来一些`\selectlanguage{}`的命令，很讨厌）
- 导言区可能需要加入 `\DeclareRobustCommand\nobreakspace{\leavevmode\nobreak\ }`，我不知道这是谁的bug

最重要的是第一项设置，就是编码，如果出错，再看后面三项。

如果你等不及LyX 2.0.1的发布，也可以直接在导言区调用（此时文档类仍然用普通的article）：

```tex
\usepackage{ctexcap}
```

或者如果你用Linux并且不需要使用ctex的字体配置，那么可以用（但此时你要么用XeTeX字体，要么用adoblefonts选项并且安装相关Adobe中文字体）：

```tex
\usepackage[nofonts]{ctexcap}
```

这和使用上面提到的layout的途径几乎没有差别。

本文假设你对ctex和LaTeX熟悉，如果不熟，务必啃ctex的文档（有PDF）和LaTeX入门手册（那份所谓的不太简短的什么什么手册，也是我的入门材料）。

---
title: 归隐
date: '2011-06-13'
slug: study-furiously
---

此前忘了声明，到7月8日之前，我偶尔会看看邮箱，但一般不会回复邮件（除非十分重要，比如请我吃饭的、还我钱之类的）。

或有好事者问曰：干嘛去啦？

答曰：正在努力迈向PhD阶段。

又问：嘛是PhD阶段？

答曰：介个还要解释吗？Permanent Head Damage！复习去了，不废话了。

又及：我得重新声明一下，我一般不优先回答直接发我邮箱的R问题（[解释参见FAQ](/cn/guestbook/)），尤其是在这段时间我几乎不会回答，所有问题请发[论坛](https://cosx.org/cn/)。
---
title: 只是来发个笑话：LaTeX里的路径中的空格
date: '2011-06-20'
slug: spaces-in-latex-path-names
---

归隐中看到一个很好笑的笑话，于是发过来，原文在[某个Google Groups](https://groups.google.com/forum/#!topic/latexusersgroup/94qri9rtzfc)里，但天朝人民应该看不到，我Google的时候看见的。如下：

> Never use spaces (or other odd characters) in directory or file names. They make your teeth and hair fall out, start nuclear wars, and stop the trains running on time. Stick to A-Z, a-z, 0-9, ".", "-", and "_" for best results.

要是你不笑，咱们见了面估计也就只能谈谈天气了。

这类问题，就像我[前些日子说到的PATH问题](https://cosx.org/2011/05/write-r-packages-like-a-ninja/)一样，提出来只想让人像李大嘴一样，垫着枕头撞柱子，一边撞一边念叨：空格！空格！空格！空格！……蕙兰！……

---
title: 出山
date: '2011-07-08'
slug: exams-done
---

本小子宣布，即日起出山。感谢大家配合，归隐期间没收到什么邮件，一个月里只有二三十封，没有要请我吃饭的，也没有要还钱的，所以我一封都没回。

本系的博士资格考试是全美统计系中耗时最长的，理论和方法分开在两天考试，每一场连续考八小时，对脑力和体力都是极大的挑战。归隐前我说这是“脑残博士”，就是学习学到大脑残废为止。两天考试都在考场提供午餐，但据我目测，似乎能顾上吃饭的人不多。前天考方法，我觉得难度比较适中，没什么特别的怪题，所以中途吃了两个三明治，那要命的601今年也比较慈悲，做起来不像往年的题那样完全不知所云；今天考理论，被642测度论坑了爹，老爷子出了些作业题，而我的测度论是跟着上一级的人上的，这一级的作业我全都没看过，考试自然只能胡编，什么坑爹的波雷尔集合坑爹的伯努利分布构造均匀分布，反正我啥都不会，我的脑子内存只够想区间，看到sigma域就混乱，出作业题也就罢了，整个测度论的知识点，就考了一个小角落，尼玛Borel-Cantelli引理、Glivenko-Cantelli定理、Kolmogrov三序列、Fubini/Tonelli定理什么的都不考；643高等数理统计也不太靠谱，说不上来什么感觉，好像没啥深度（尽管我也并不是都会做），估计我是看“[那位大人](/cn/2010/10/comments-on-data-mining-and-machine-learning/)”的题看多了；542/543踏上了不归路，强烈怀疑是某位大人出的题，和往年的题风格完全不同（那些经典的CLT和SLLN题全都消失了，上来给你整个马尔科夫链，顿时把本小子的脑子搅成了浆糊），本来这两门课通常是用来放放水给人预预热，结果我在这张卷子上花了好一阵子时间，中间还看错一次密度函数表达式，算了半天怎么越来越觉得不对劲，到某一题总算发现问题了，倒车回来擦了重写，严重损失了一大块时间，当时心里极为恼火。理论做得比较紧张，一口东西没吃，愣是撑了八小时（大多数人似乎都是这样）。

本着“60分万岁61分浪费”的原则，本小子在这次考试的准备上也没有竭尽全力，当然其实心里也还比较忐忑，当初时间过了一个月我还一页书都没看的时候，听说去年有人每天复习12小时，我心想要完蛋了，拼了老命关了电脑，开始啃茆诗松王静龙他们那本高等数理统计，发现去年学643的时候很多概念当初并没有理解清楚，连Neyman-Pearson引理中的那个随机化都没明白，还有那些随机决策规则，完全没理解，几乎是白学了一场，看了中文书才渐渐明白过来。后来又把Statistical Inference重新看了一遍，觉得还是挺有帮助的（因为我没有上硕士542/543的课，有些内容其实很生疏）。重点复习都放在理论上了，公式定理看了几遍，把1998年到2010年的理论考试题全看了（方法部分也差不多，看题海），不过看了考题他偏考作业，那我也没辙了。方法部分把老爷子的几百页笔记也大致翻了一遍，都能总结出他的高频词了（他要是生在中国，绝对可以当人民日报的撰稿人），虽然我觉得他很罗嗦，但这老爷子还是很有两把刷子的，连rtist都说他的课很能启发思维。

最后，烧个香，天灵灵，地灵灵……

暑假计划两则：苦练听力、苦练篮球。

---
title: 微念沧波
date: '2011-07-09'
slug: subtle-mind-to-great-waves
---

1. 很久不写博客，脑子也没完全停下来，所见所想，先存在内存里，现在考完胡乱说一些，没啥头绪。

2. 邮件看到苏力今年的毕业致辞，叫《见证，没有客场》，读了两遍，好像有点矫情，不过总体来说我还是比较喜欢他，因为他的文字没有那种“身段感”。我第一次听说他，是在大一的时候思修（思想道德修养）课上，老师念了一篇 《发现你的热爱》，我印象很深刻，对初入学的我震撼很大。全文的印象已经渐渐淡忘，只记得这么一句话：

    > 生活注定会溶化许多激情、理想、决心和追求，甚至会使生活变成仅仅“活着”。

    大学生活，是生活，还是活着？

3. 范毕业走人，我想了想，啥也没说，抄送启功老爷子那首小诗：

    > 入学初识门庭，毕业非同学成。涉世或始今日，立身却在生平。

    之所以对这几句话印象深刻，还是来自于在和君的日子。既然立身在生平，毕业分别也就不必那样浓墨重彩，十年二十年后再见，试看看立身如何？

4. 又看到半句诗，曰：微念沧波感不平。据说是袁世凯的儿子写给老子的，劝老子不要称帝，后来的事大家都知道了。我觉得这句写得很好，微念与沧波，妙。现在的儿女们，能写出这样句子的，恐怕不多了。

5. 考前几天，在系里机房上网，看到黄庭坚一篇小文，背了几句：

    > 薄酒可与忘忧，丑妇可与白头。  
    > 徐行不必驷马，称身不必狐裘。  
    > 无祸不必受福，甘餐不必食肉。

    能以薄酒忘忧者，心里必然早已无忧。

6. 最后说信仰，也是我在复习期间走神时想的事情。恰好考完看到[论坛上谈柳智宇](https://cosx.org/cn/topic/104681)，我以前并没听说过这个人，看了转载的文章之后，我心生不出什么崇拜和景仰，也许这些观点随着时间会变化，但就现在的我而言，我不觉得出家有什么终极意义（像文章描述的那样“为了苍生脱离苦海”）。这又让我想起陈晓旭，以前一次偶然看到她出家的那个庙里的一个老法师在Youtube上的视频，对外解释陈的病逝，我看了感觉甚至有些气愤。临终前法号长鸣、日夜诵经，就能减轻她的病痛？柳的出家，当它是一个普通的个人选择就可以了，套上苍生，套上圣经，未免过头了。

    如果说我有什么信仰的话，我目前还是比较信劳动（这一点好像跟和尚差不多啊）。之所以信劳动，是因为世人畏果，圣人畏因，善易者不卜（吾师王丰的教导，但似乎来自南怀瑾）。而为了信劳动，必须先发现你的热爱。（看，小学作文中，这就是语文老师最喜欢的首尾呼应）

---
title: 为什么我们无法淡定
date: '2011-07-19'
slug: why-cannot-we-calm-down
---

貌似最近大家都在议论胡丽天，这个人本身如何我无法评论，我只看到舆论这两天峰回路转，前两天要把人骂死，现在又要把人捧上天。本小子甚是感慨这年头人们的判断力。没有克制，没有反省，每天唇枪舌剑，都是针对别人。以前的大侠是笑傲江湖，现在的“大侠”都是笑傲浆糊。

本小子一向认为反省是一件很难的事，过去本小子也干过很多蠢事，时而骄傲自大，时而不懂装懂，现在一把年纪总算有点浪子回头之意。回头想想自己为什么比过去淡定一些，可能还是因为接触了一些让自己意识到自己是“爬上一堆牛粪高唱呀啦索这就是青藏高原安安安安~~”的蚂蚁的人（好长的定语）。这些人让我琢磨不透，生活富足，日子却过得像苦行僧，不知道他们追求的是什么。总之，我开始有意识克制自己不要在牛粪上得瑟青藏高原。

微博这玩意儿，被新浪炒了起来，越来越热。我对这东西持悲观态度，我们的文字越来越短，看得越来越急促，想得越来越浅，弹指一挥间，[微念成沧波](/cn/2011/07/subtle-mind-to-great-waves/)。我觉着三年五载后，量变一定会导致质变。

最近师姐也开了博客（别问我地址啊，打死我我就说），我觉着这是好事；常言道，不写博客的COS管理员，一定不是好司机。写啥都好，最重要的只是每天有一个小时时间坐下来清理一下自己的脑子。

---
title: 椰林树影，水清沙幼
date: '2011-07-31'
slug: miami-beach
---

如题。小的正在迈阿密小岛上参加JSM会议，若有同来的，欢迎吼一嗓子。

---
title: 暑假结束
date: '2011-08-20'
slug: end-of-summer-vacation
---

自打[考完那破试](/cn/2011/07/exams-done/)之后，如释重负，心里倍儿高兴，腰不酸了，腿不痛了，每天按时作息，早上居然都开始吃早饭了（周星星都该喊娘子和牛魔王一起出来看上帝了）。今天中午吃完饭头一次睡了个午觉，醒来简直不知是早上还是晚上，一看，乖乖，快六点了，这还叫睡午觉吗？跟昏死没两样。这下大概又要开始倒时差了。再过两天就开学，真是功亏一篑。

前几天削发明志，虽然削完了也不知道要明什么志。某天老衲去系里，遇到系里一位老大A. C.，老大盯着我看了一会儿，说你娃儿参军去啦？我一愣，说，啥？于是又重复了一遍，我当时相当的丈二和尚。老大见我不解，很郁闷，于是直言，你的头发呢？我顿悟，哦，原来是说介个啊，于是以我天朝文化回应美帝文化：劳资刚放出来！（文化差异啊）

书接[JSM](/cn/2011/07/miami-beach/)。在迈阿密开会，觉得JSM还是太大了，大得没边，几天下来几乎没啥收获。唯一有点儿印象的是Sir David Cox（没错，就是Box-Cox变换以及Cox回归的那个Cox），老爷子今年都87岁了，典型的英国老绅士。一个时代有一个时代的特征，那个时代的人，动机大多都是什么农田或小白鼠试验，但往往能从简单的问题做出深刻的结果。当今的统计学家，工具越来越复杂，却很难诞生跨时代的思想了。这不是什么坏事或是谁的错，学术研究就是这个样。其它的报告没见到有意思的，反而是对以前比较景仰的几位统计学家的态度急转而下，当然，我不可能在这里提名字，将来还得在道上混。一个教训是，做报告一定要尽量引用别人的相似成果和工作，否则要是有懂行的人在场听你的报告，会对你留下很糟糕的印象。这一点也是D. Swayne对我们提的建议。会场有很多出版社展示他们的书，之前我注意到R Graphics的第二版写了一节animation包，于是到CRC柜台找来书翻翻，甚是得意，后来还听说Paul Murrell某次报告第一个例子就是用animation包；在JSM的海报中，也有人当场演示动画，二老板见了之后跑过来跟我说那边有你的粉丝啊。作为作者，这都是最得意的消息，由此可见，引用别人的工作是多么好的一种恭维方式。

会场见了不少认识的不认识的人，例如第一天眼尖的徐铣明就看见了我。最后一天见了左辰和CWC并吃饭，关于此事，有过路好事者评论曰：咱们系也就只有你能跟CWC说上话。C同学我很早就知道他，因为R主页上有他的主页的链接，后来来到爱荷华，觉得此公甚为低调，这两年期间我听他说的话加起来还不及最后这一顿饭说的话的一半。左见了C，后来向我评论曰，你们系的学生太刻苦了！当然，左见了前面的好事者，后来也向我评论，你们系的女生质量太高了！总之，一会儿同情，一会儿羡慕。这都是些不着边际的闲言，看官要是不在本系，肯定也很难理解这些评论。后来和左辰在星巴克坐了坐，愈发觉得出国真是能改变很多事情，各种悲欢离合，各种天翻地覆，各种心态，各种价值观，各种意想不到。于是我在侯瑀的文章下[留了评论](https://cosx.org/2011/08/meaning-of-traveling/#comment-2364)。

迈阿密的沙滩显然比JSM更有吸引力，海水很温暖，连我都说暖和的水那一定是很暖和了，因为经常是别人说暖和而我觉得要冻死了，脂肪层太薄，热量流失快，没办法。第一天下海就杯具了，此处省略八千字，导致我这些天满地找牙，见人也不敢说话。开完会，师傅大人来访，两家一起去大沼泽看了鳄鱼，并顺便喂了蚊子，啃了羊腿，参观了老园林，吃了大龙虾，打了晕里希乎的台球，匆匆揖别匆匆赶往Key West，在那些佛罗里达最南边的小岛上开呀么开，一个岛接一个岛，美国人民真能修路，愣是在海上把那些岛连了那么长一串。KW岛上一群卖艺的，有腾空穿圈的，有扔火把的，有盲人演奏让狗狗收钱的，有在海岸边走钢索的，看着也怪可怜的。在岛上骑着租来的坑爹的自行车，游荡到了号称最南端的地方，一大石墩子，上书，最南端，照相的游人络绎不绝。离岛，开呀么开，开到另一个岛放风筝，确切地说是被放风筝，也就是把人绑在风筝上，开着游艇出海，嗖一下把你放到天上，也就是《无极》中张东健放张柏芝那样，不知道是哪个聪明的鬼子看了我们无敌的《无极》回去引进了这项放风筝运动，冠名曰parasail。接着刷刷开回机场，拍拍屁股回村。

一圈玩得心都散了，加上还要找牙，这些天也没干太多正经事。把搁置了N年的[fun包发布到CRAN](http://cran.r-project.org/package=fun)，更新了一下其它几个包。接下来得整书稿，亲爱的龙哥催了我还没吱声，我照旧陷入了老循环，要干活就先磨刀，经常十天时间有八天在磨刀。于是又在折腾LyX和Sweave，碰上LyX的负责老大度假去了，这事儿也没法进展。于是看别人的书，也就是FlowingData老大的那本书。边看边想，这写得也太口语化了吧。早知工业界人士都好这口儿，老夫也写口语好了，口语比书面语好写多了，引用郭德纲当然比引用Cleveland & McGill (1985)轻松。可自宫太难啊。

然后是折腾统计之都。一心想要整编队伍，也没多大进展。一暑假，办了两件事：编辑部任命了老大，版主明确化。我最大的愿望之一，分析论坛数据库，不知何日实现。COS的队伍在更新，不过进步的一面是，离开的人不再是真的离开，我们再也不必泪别版主了，例如范，又如丽云，更进步的一面是，新进的人更能折腾，而且能折腾进更多贤才，譬如侯瑀，或黄丹阳。

上周钓了一次鱼，照旧空手而归。呜呼。

---
title: 得意程序侦察另一则
date: '2011-08-21'
slug: proud-debugging
---

作为半个码农，有两次程序侦察工作窃以为得意。一次是[统计之都网站改版时的豆腐块对齐工作](/cn/2010/12/fighting-like-a-pig/)，这已经说过了；另一次是今天琢磨LyX与Sweave的时候，又碰到一个非常隐蔽的问题，但还是把它揪了出来。

论坛上[一次](https://cosx.org/cn/topic/104960)又[一次](https://cosx.org/cn/topic/104787)有人抱怨Sweave中使用中文的问题，而这也是我自己写书必须要用的工具，所以在这里面投入了不少精力。过去我一直用得好好的，昨天突然发现我的也用不了中文了，相当郁闷。注意到从LyX里面启动R的时候有这么一项警告：

    13:30:28.553: /bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US)
    13:30:28.624: During startup - Warning messages:
    13:30:28.625: 1: Setting LC_CTYPE failed, using "C" 
    13:30:28.626: 2: Setting LC_COLLATE failed, using "C" 
    13:30:28.626: 3: Setting LC_TIME failed, using "C" 
    13:30:28.626: 4: Setting LC_MESSAGES failed, using "C" 
    13:30:28.627: 5: Setting LC_PAPER failed, using "C" 
    13:30:28.627: 6: Setting LC_MEASUREMENT failed, using "C"

后面接着有警告说某些字符无效，显然这是编码或区域设置（locale）的问题了：Sweave无法正常读写文档。因为最近R曾经升级过，而我的LyX也一直用的源代码编译版，所以麻烦就在于不知道到底是谁的问题（昨天看樱桃小丸子，发现连丸尾都懂得confounding的道理，当时就震惊了）。

捣鼓了半天编码设置，如`options('encoding')`之类的，发现无效。我的locale应该是`en_US.UTF8`才对，到底是谁把它弄成`en_US`了呢？幸好英文文档还可以正常编译，于是在Sweave中插入一句`as.list(Sys.getenv())`看看所有的环境变量，发现环境变量`LC_ALL`很可疑。于是怀疑LyX修改了这个变量，正常的R启动之后`LC_ALL`是空字符串。那么LyX在哪里修改的？试着把LyX的语言修改为默认语言，再跑一遍LyX/Sweave，发现`LC_ALL`正常了，变成了空字符串，中文文档也可以正常读写了。真相大白——（暂时）不要人工设置LyX的语言。这可能是一个bug，[我一边报告，一边自己找到了临时解决办法](http://www.lyx.org/trac/ticket/7741)。

环境变量就是恶魔啊。比如PATH就是码农最需要但又最痛恨的环境变量之一，痛恨它主要是因为（至少对我来说原因是）[在Windows下得走很远才能找到它](https://cosx.org/2011/05/write-r-packages-like-a-ninja/)，常常让人没有耐心向不懂的人解释，而大多数人可能这辈子也不会意识到系统中有这些小恶魔的存在。

回到LyX与Sweave：因为重头开发者度假去了，所以恐怕对Sweave的完美支持在近两个月内又不太可能了。
---
title: cranvas包
date: '2011-09-05'
slug: cranvas-package
---

强行植入告示先：本小子将于本月19日去纽约开会，除了20和21号两天开会之外暂无其它确定计划（会去一趟新泽西但行程未定），纽约及附近的客官们欢迎被蹭饭或带我溜达：）

凡是有一阵子不写博客，大多都是昏天黑地埋头写代码去了。以前大多是写些不靠谱的玩意儿，这次算是有了点谱。cranvas包作为GGobi的下一代，已经初露交互式统计图形端倪。它的后台老板是Qt，很多人可能并不知道这东西，但很多软件界面实际上就是由Qt支持的，例如Photoshop、Skype以及很多自由软件如LyX等。

由于这个包有一堆依赖（Qt和其它R包），所以安装起来可能还有点费事，而且目前仅限于Linux和Mac用户可用。包中广泛使用R最新推出的引用类（reference class），这东西出来的正是时候，对开发交互式统计图形太有用了；另外Qt的绘图速度比R自身的图形系统要快N倍，对大数据的可视化也有一定的前景（之所以说“一定的”，是因为Qt的一个bug严重制约了本包的niubility）。由于本包还在紧锣密鼓开发中，暂时不广告太多，先奉上截图两张（可以看出它的风格严重受到了ggplot2的影响），感兴趣的[到GitHub下载自己折腾去](https://github.com/ggobi/cranvas)。

![平行坐标图](https://db.yihui.org/imgur/oKLXd.png)

![散点图](https://db.yihui.org/imgur/JETrt.png)
---
title: 视频两则：世界观与绝望男人
date: '2011-09-09'
slug: shake-up-your-story
---

TED最新出来的一个5分钟演讲“[Shake up your story](https://www.ted.com/talks/raghava_kk_shake_up_your_story.html)”我觉得挺不错，用iPad颠覆娃娃的世界观。其实也不能叫颠覆，因为娃娃本来就没什么世界观。这位父亲的故事书没有定局，晃一晃，印度独立就变成了巴基斯坦视角，再晃一晃，变成了英国视角，娃儿可以看到各种视角下的“爱国”。这又让我想起大和尚，在某朝的长期宣传下，大和尚是个十恶不赦的大坏蛋，他走到哪儿，朝廷就要向哪儿抗议。可是好些天前我第一次读到大和尚的演讲稿时，我真被佛法震撼了，于是我满心疑惑，到底是我too young too naive，还是有什么事不对劲呢。叛徒与爱国者，标准是什么？

<iframe src="https://embed.ted.com/talks/raghava_kk_shake_up_your_story" width="600" height="400" frameborder="0" scrolling="no" allowfullscreen></iframe>

另一则视频名为“[绝望的男银](https://www.ted.com/talks/zimchallenge.html)”，说当今的男性如何糟糕如何不如女性，其中在谈某类动作片时，总结了很重要一点社会现象：如今的（男）人总是被诱惑着做事（称之为*arousal* addictions）。这才是绝望的根源，随着时间推移，需要的诱惑力必须得越来越高，到最后活人只能变成行尸走肉，因为生活越来越难找到乐趣。这是杞人忧天吗？

<iframe src="https://embed.ted.com/talks/zimchallenge" width="600" height="400" frameborder="0" scrolling="no" allowfullscreen></iframe>
---
title: 纽约
date: '2011-09-19'
slug: new-york
---

进城越来越不习惯，农村综合症越来越明显。纽约看着就像是另一个国家，上次去迈阿密也像另一个国家。看惯了村夫的老实脸，到了大城市放眼望去仿佛到处都是坏人。纽约到处都是能看的地方，博物馆啊，艺术馆啊，[举冰激凌的大姐](http://zh.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E5%A5%B3%E7%A5%9E%E5%83%8F)啊，就是不知道该看哪样。请过路客官推荐个地儿吧。

另：第一天就蹭了两顿饭，只有蹭饭这事儿我从不犹豫。大力感谢Wang W.和Guo J.的招待！

---
title: 纽约Strata及新泽西AT&T之旅
date: '2011-09-27'
slug: ny-strata-and-nj-att
---

上周在外面跑了一周，先去了一趟纽约参加O'Reilly组织的[Strata会议](http://strataconf.com/summit2011)，接着去新泽西拜访了AT&T实验室，总体来说是一次不错的旅行，不过因为溜达了一周，回来自然又要处理很多事情，这里暂时不详细写行程，只是打个草稿，过一两周我会在统计之都主站上详细介绍Strata。

Strata会议主题为大数据，持续一周五天时间，我只参加了峰会（summit）部分，在它之前有一天热身（jumpstart），之后有两天偏重具体技术性的会议，而中间这两天则相对比较抽象，有些报告我听完感觉就像主席讲话——字字都能听懂，但就是不知道在说什么。峰会自然请的都是大佬，例如英国卫报的编辑，经济学人的编辑，Wolfram的老总，从DC远程视频连线的国会议员，联合国官员，纽约市官员，还有大批公司头目等等。这样一个会议我去了简直是个离群点，很少见学术界人士出现，更不必说学生了；关于此事，有笑话为证——有一个主持人在介绍下一位演讲者的时候讲了个笑话，但是几乎没有人笑，他说：

> 1010（下一个演讲的公司的名称）你可以认为是ten ten，也可以认为是ten，取决于你用十进制还是二进制。

不知道是太冷了，还是听众都没听懂。

据我有限的笔记和记忆，先简单罗列部分观察：
	
- Wolfram是个很有技术范儿的公司（后来我去AT&T进一步证实了这一点），“让知识变得可计算”
- 联合国官员说，俺们需要您的帮助，大意是想通过更先进更现代的数据处理技术更快掌握信息，如通过Twitter了解饥荒和动乱（动乱还有点谱，饥荒有谱吗？吃不饱饭的人还能上Twitter？）
- 有法学院教授呼吁提供更多的匿名化处理之后的数据，不要总是把数据藏着掖着
- GE的人宣称他们就快要公布一大批患者数据了（当然是匿名化处理之后的），对搞数据分析的人来说是个好机会
- 1010的那个人提出一个利用数据挣钱的模型，但在我看来很傻，大意是老夫有张三的数据，而李四想知道张三的数据且必须通过老夫这儿才能得到，这就是他所谓的Middleman概念（所谓的哲学家都是这样的吗？巨喜欢炒概念，什么“数据之和的价值大于数据的价值之和”）
- 纽约市的一位负责信息化的官员来讲各种应用数据管理城市的案例，这是我比较喜欢的一场，案例都非常简单有效，比如台风来了哪里的树被吹倒了，市民可以直接在地图上标注并上传事发现场的照片，这样他们就可以调动人员去现场处理，而不必特派专员先去打探情况，再回来调人；在地图上标注也形成了一种间接的投票，要是某个事故举报的人多了，重要性也就排上去了
- 国会议员讲的东西我完全没能理解，大约是些陈词滥调，什么数据重要啊，应该透明啊，党在努力啊，请人民监督啊……
- 卫报有专门的[数据专栏](http://www.guardian.co.uk/data)，有空时不妨一阅，卫报的编辑讲的是数据驱动的新闻业，我在我的《现代统计图形》书中正巧批判了卫报的一幅图
- 有领导推荐Microstyle一书，说他在DC入职时上司告诉他在DC混的最重要的一点就是这个（说话简洁观点明确）
- 三四位公司头目讨论新时代的CIO（首席信息官）的角色，其中有Norman Nie，也就是Revolution Analytics的头儿，老爷子似乎各种会议都参加，这次他讲CIO应该懂技术懂算法，果然是统计出身，时刻关心着技术，可是我在想当领导的和当跑堂的都精通端盘子了，谁来管小店的经营呢
- 有人讲到鸟类觅食的路径，说不是布朗运动，想想也对，通常是一次长的搜索加上若干次短搜索
- M&M豆跟天气有什么关系？没听清，回头再看看
- 创建Mineful的是一位统计学PhD，我总是在臆想，一个统计学博士加一个精通网站设计（包括美观设计）和数据库部署的计算机牛人凑在一块肯定是创业的绝配
- 大家都在讲Hadoop，谈来谈去，总是缺统计分析的味道，我不熟这玩意儿，但Revolution他们似乎在做这方面的工作
- Google的无人驾驶汽车说：我们不需要什么好算法，我们只需要更多的数据
- 经济学人杂志的人说，俺们需要一类测量幸福的数据，而不是GDP，我想这也不新鲜啊
- 要速度，还是得玩内存，号称一秒钟玩一百万行数据的那个人说
- 第一天晚上在一个很前卫的艺术工厂办酒会和活动，Gelman大人连这样的活动都参加，不得不说他精力充沛，真如其弟子所言，整天到处灌水，给的演讲是去年我请他在我们这儿讲过的，我没听就走了
- 第二天晚上火花演讲（五分钟演讲）中，有一位相当给力的姐姐痛批当下的SNS工具让人光顾着拍照片而不顾吃饭，分析了去餐馆对着食物拍照并上传到Facebook所消耗的各种能量，结论是这些能量大于食物的能量……
- 这会议跟我以前参加过的其它会议相比，除了有很强的“高层领导会晤”氛围之外，还有另一大特征，就是无处不见Twitter的身影，每一个演讲者都会自报Twitter帐号，甚至会场还偶尔有Twitter互动
- 吃饭席间遇到一个麦肯锡的人，于是寻找共同话题，兜了一圈，发现都用R，好嘛，这就好说话了，我问，你知道animation包吗？答曰：知道啊，很好玩噻！接下来还能没话说么……

我去参加会议的主要目的是考虑将这个会议引入中国，这一圈走下来，心里暂时还没有很明确的答案，因为我对国内的商界政界的数据使用情况并不太了解。

切换话题中……开完会第二天去联合国瞅了一眼，到处都是警察，我时间来不及，拍照两张匆匆离开。随后拜见了侯瑀大人，依旧主动，依旧努力，依旧奋发。揖别前往自然历史博物馆，馆内狂奔一圈，然后穿越中央公园，坐公交车沿第五大道从北往南游览一遍（大概跟坐观光车差不多吧），换地铁奔新泽西，始知原来美国也有载人的火车，踏上前往新泽西Summit的火车，因开会时狗屎运抽中小Kindle一枚（美国人傻，把奖券折两折扔桶里，我只折了一折，以提升概率，我看那主持人结结巴巴不知道怎么读名字就知道是我中奖了），火车上遂翻阅《围城》（我承认我落后于时代多年），暗想钱钟书太擅长腹诽，描写的乡巴佬和小气鬼都活灵活现。AT&T隆恩浩荡给我订了宾馆，晚上准备第二天的演讲。

AT&T实验室是个传奇的地方，想想当年贝尔实验室出了多少名垂青史的人，譬如信息论的那个香农，又如统计这边的John Tukey等等。这次去之前我就在想是否有机会见到S语言的三作者（当然Chambers已经不在那儿了），后来果然见到其中一位，Richard Becker，相当激动。上午9点拜见[Stephen North](http://www.research.att.com/people/North_Stephen_C/index.html)，给我介绍一下他们的可视化工作和软件；接下来我准备10点半的演讲，因为老板觉得AT&T都是聪明绝顶的人，担心我这次的演讲不受待见，于是前一周让我在系里演习了一遍，事实证明演习还是有效的，我来美帝之后经常对自己的演讲不满意，尤其是讲完笑话容易后悔觉得自己像个傻瓜，这次自认为讲得还不错，笑话比较应景和自然（我总是把讲笑话放在第一位），例如开场时我看见旁边白板上写着公司内部的无线网用户名和密码，其中密码是 `this.getAccess()`，我就谎称有点小紧张，因为老板说这里到处都是聪明人，看这板子上的密码都这么极客……

我讲的就是[前些天提到的cranvas包](/cn/2011/09/cranvas-package/)，临走前几天，老板可能还是觉得现在的包还不够面子，跟我说如果能把变形地图（cartogram）搞定的话一定能“把AT&T那帮人的袜子打掉”（此乃直译，客官自行查字典：knock the socks off somebody），本小子为了打掉他们的袜子，费了牛鼻子劲把变形地图整出来了，也算是解决了我多年来的一个疑问。

中午吃完饭按照安排一个个拜见，首先就是[Becker](http://www.research.att.com/people/Becker_Richard_A/index.html)，B大人说我喜欢你娃儿的报告，然后说变形地图的历史，他在AT&T的可视化方面的工作，如何甄别电话欺诈等等，后来我跟他说08年办第一届中国R语言会议的时候，我给他发过邮件问那篇S语言历史的文章授权，他当然不记得了，我甚是感叹如今我能当面见到活人，老人家兴致勃勃给我扒出来那些七八十年代的S语言手册，回忆当年的历史（如`locator()`函数），总之谈话在一片欢乐祥和的气氛中进行。接下来分别拜见[Bob](http://www.research.att.com/people/Bell_Robert_M/index.html)（Netflix百万大奖得主之一），[Yifan](http://www.research.att.com/people/Hu_Yifan/index.html)（巨多网络图）和[Simon](http://www.research.att.com/people/Urbanek_Simon/index.html)（R core之一，成名作有R的Mac版本和iplots包等）。听了若干有趣的故事，比如如何确定披萨店的电话是顾客从网上的黄页中看见之后打过去的，Augsburg那些学生一人一套可视化图形系统，蝴蝶在[整个生态系统](http://www2.research.att.com/~yifanhu/TOL/)中的种类数量占如此大的比例，并且头一次注意到[JSS刊物](http://www.jstatsoft.org/)的那幅图中的盘子里是有蚂蚁的（在S的门上看了大图才知道），还有似乎很多美国人都相信蜜蜂要是灭绝了人类就灭绝了……S自己养着一箱蜜蜂，有人问他如何让蜜蜂高兴（前一个话题在谈电子邮件），另外有人插话曰：给它们发邮件！AT&T真的是个很极客的地方，有人从洛杉矶坐飞机到纽约，一路拿着摄像机固定位置拍窗外的云，最后把五个小时的录像的每一帧中部的1像素宽的图截出来并拼成一幅几米长的图，打印了贴在走廊里，由于我在网上找不到这幅图，无法描述这种壮观的“异景”。还有人把电影的每一帧提出来作为一幅小图，按时间顺序拼成一幅大图。话说回来，这些玩意儿有啥用呢？消磨时间？

对了，S提到了R的grid图形系统，说这套系统本来是一套非常理想的图形系统，Murrell就差一步，就差那么一小步，就一小步，就能让R完美支持交互式图形了，可惜他没做。S对此感到非常遗憾。

最后一天回纽约。我总结这纽约的地铁有四处要小心的地方：有时候某些车不开、某些车在某些站不停、有时候这条线会改成那条线、某些站无法不出站而从路的一边换到另一边。对头一次去的人，坐地铁很要命，尤其我这笨头笨脑的，坐在车上总感觉不安，还好最后一路下来没碰到什么大问题。最后一天去大都会博物馆，在里面转了六个多小时，各种雕塑、油画、兵器、乐器、壁画、瓷器、书法等等，看得都快昏死了。有一点很好奇，为什么柬埔寨的佛像无一例外都是面带笑容？

前面说[本农民不适应城市](/cn/2011/09/new-york/)，仿佛到处都是坏人，其实一路上都觉得人还挺好的，最后一天在机场还真碰到坏人了，想骗我手机。作为在北京混迹多年的本小子，见过多少骗借手机的，这点小伎俩，对天朝人民是无效的。

回村，处理部分邮件，批完一次作业，补上这篇杂记。退堂！威……武……

鸣谢：Wang Wei，Guo Jiqiang，侯瑀（各种中餐馆子被蹭饭组负责人），Debby Swayne（蹭AT&T饭组负责人），卢大编辑及Michelle（蹭Strata饭组负责人），Hu Yirui（蹭饭未遂组负责人）……
---
title: 流氓有文化
date: '2011-10-05'
slug: rascal-with-knowledge
---

因为Qt的一个[错误缓存](https://bugreports.qt.nokia.com/browse/QTBUG-19449)（严格来说是过度缓存）bug，俺们[开发cranvas包](/cn/2011/09/cranvas-package/)也一直很气馁。忍了半年多了，本小子终于不能再忍受，决心使出多年不用的流氓手段插手这件事：挨个找跟这个bug有关的人发邮件问，从各种源代码和邮件列表中找邮箱。找着找着，突然发现这个bug已经在Qt 4.8.0中修正了（未发布），遂停止流氓手段。切，原来我一直被Michael忽悠着，听他的意思好像总在说Qt木有人管了，bug木有修正的可能了。这个bug的大意是如果图中使用了线性缩放的变换，缓存就会失效，任何操作都会导致所有图形元素被重画。对于交互式图形来说，显然没必要重画所有元素，主图层通常是被缓存起来的，只有被选中的元素才被重画，这是提升速度的关键所在。这个问题解决后，即使画三百万个点也只是两三秒的事情，画出来之后刷子可以很流畅地在图上刷，这才能体现Qt真正的威力。

近日看到[卢大编辑一万小时PPT](http://weibo.com/lispython)的事迹，很赞，我也是相信“死磕到底”的人。想想已经磕了五年统计之都，七年R，九年统计（最后这个数字很有水分，不如前两个数字有底气），但愿不要从学士硕士博士圣斗士磕到烈士。

---
title: 魂归大地
date: '2011-10-18'
slug: back-into-the-dust
---

标题来自先生的一句话：生不枉来，死不犹豫；立志天下，魂归大地。我似懂非懂。

前些日子，COS内部说起个人网站的事情，我这两天抽空琢磨了一下，猛然间意识到我在折腾网站的八年里走了个循环。昨天我在邮件中描述为“回归尘土”，这事情是这样：九年前开始正式接触电脑，一年后我开始对网站感兴趣，并且找免费个人主页空间找了很久，直到后来有一次在一张传单中看见一个可以免费建站的广告，于是就注册建了一个，当然，那时候不会有什么好货，域名是三级域名，我呆头呆脑抄了很多所谓的英文美文在上面，还从图书馆借了书学HTML，连VBScript都仔细学过，而且对于写个在网页内弹个对话框的小脚本乐此不疲。为了说明这个乐此不疲有多乐此不疲，举一例：在机房上数据库的课，老师会把所有人的屏幕都控制住，而我发现其实只有显示器被控制住了，键盘鼠标仍然可以在“幕后”操作，因此，我按Win + R快捷键，盲打输入notepad，回车，然后开始盲打写弹对话框的VBSript，等到下课，屏幕被解放，我写的脚本真的可以运行并弹对话框。那个免费个人网站也让我学习了一点CSS的概念，但我主要还是用Word的思维方式做网页，哪里要加粗就直接加粗，哪里要变红就选红色，几乎没有“内容与样式分离”的概念（拜Word所赐，可能大多数人到现在也没有这个概念）；话说回来，其实我还真用过Word做网页，我的一个亲戚当年让我帮忙做几个网页，我就是手工敲进Word，然后另存为HTML。再过一年，系里网站工作室招学生维护系里的网站，我就呆头呆脑报名去了，就凭我那Word式网站功底。之后接触了Dreamweaver，才算真正掌握HTML，并接触ASP和JavaScript，并且尝试过从零开始建Access数据库连ASP，所以IIS也熟了（估计很多人也不知道什么是IIS，这样也好，祝愿Windows服务器早日垮台）。DW中学会了模板的概念，网页的头尾都用模板定义，这样就省去了重复劳动。因为DW和Fireworks是同一个公司出品，所以编辑图形我都用Fireworks，这也是我在[R包忍者篇](https://cosx.org/2011/05/write-r-packages-like-a-ninja/)中说我曾经想学Photoshop的后台故事。从接手系里的网站开始，我开始捣腾论坛系统，此乃灌水元年，也是统计之都的前世。论坛系统换过两次，一直折腾到那台老旧的IBM服务器彻底瘫痪掉。再过一年，博客这个概念开始在中国发芽，第一个博客网大概就是方兴东的博客中国，后已改名为bokee，当时那个玩了两年10磅宋体字的我，看见这个网站有一个12号字的主题，于是立刻注册了个帐号，开始写博客。我对CSS的了解，自此开始深入，比如我曾经发现通过CSS来隐藏网站上的广告的办法——谁让他们支持自定义CSS的呢，我定义一个`display:none`就把网站上的广告灭了。年少轻狂的这个娃儿，整天给客服提意见，说这不灵活那不好，有一天方兴东接见了一批用户，客服叫了我去，于是我骑着破自行车颠儿颠儿去了，这就是无知者无畏。今天我再搜了一下当年的历史，后知后觉发现本小子也曾经和张纪中、方舟子同时出现过“[名人大话博客节](http://www.zjol.com.cn/05qianbao/system/2006/04/25/006589310.shtml)”里，现在顿时觉得脸上贴了不少金，哥也曾经风光过。那时候是钱江晚报的记者打电话采访，我都忘了我说了些什么了。在博客中国写了两年，觉得系统越来越差，于是换到blog.com.cn写，它比较容易自定义，当然，对“久经沙场”的我来说，首先就是要用CSS把页面上的广告灭掉。再折腾两年，系统控制越来越严格，尤其是关键词屏蔽，最可恨的是你写一篇文章提交发现不让提交，但就是不告诉你哪个词犯法了，只能一边在心里骂狗日的一边从最后一句话删起，删一句提交一次，看哪次能通过，再一句一句加回来，这就是我早期培养的程序debug方法，极其白痴，极其有效。再后来，换到MSN Space，因为英文字体看起来舒服，所以开始写英文博客（看，从始至终，我都是个视觉驱动的动物，各种转变的原因听起来都非常脑残）。从英文博客开始，我变得极其注重HTML代码的干净（经常切换到代码界面下看看代码是否整齐），或称为HTML代码洁癖，无法容忍没理由的加粗变红或更恶劣的放大字号，这也是我把COS论坛从PHPWind改为bbPress的理由之一：我不能容忍发贴者能放大字号或使用楷体隶书。英文博客写了两年，后来大家都知道了，大中华局域网来了，自此本小子开始建真正的个人网站，注册个人域名，买服务器空间。PHP+MySQL在搭论坛和建个人网站期间也被迫学了点皮毛。后见Wordpress，深感设计之惊艳——无论是PHP程序还是外观，于是COS的主站从MePHP换到WP。无论什么系统，我已经脱离了刀耕火种的纯手工HTML生活。到如今，我在GitHub上写了两年代码后，猛然意识到Markdown这门语言之精炼，这正是我追求的（极度）简洁，而GH对Markdown和其它伪标记语言都支持得非常好，而前两天，又发现基于Markdown的[Jekyll](https://github.com/mojombo/jekyll/)，纯文本写博客的系统。除了R语言别的都不会的本小子，意识到我对Ruby、RubyGems和Python的认识已经落后于时代若干年，我以为整个世界还是在PHP+MySQL中运转，结果这些语言已经派生了无数惊人的美观的简洁的静态网站系统。从最初的静态网页，到现在再回归静态网页，我走完一个了循环。回想这些陈年旧事，不免让我再思考乔布斯大人，关于他的报道，我大概就认真看过一两篇，头一次知道他是佛教徒，世人总喜欢盖棺论定，尤其爱总结**已成功**人士成功的原因，就像经济学家在过去的五次经济危机中成功预测对了二十次一样；我想知道他到底在想什么，他如何追求能降伏用户的细节，或者说如何让产品始终带着人性。统计之都的口号“专业、人本、正直”[或许是个好的口号](https://cosx.org/2011/05/a-letter-to-yihui-xie-and-cos/)。

如果网页可以如此简洁高效并且只是基于纯文本，那么我可以立刻嗅出统计人的一个光明前途。此处省略八千字，如果你手中有八百万风投，请两年后联系我。这里我要说的是魂归大地，但并不是要说我自己，网页和魂归大地扯上关系有点勉强，这些东西真刀实枪干活就行了，没必要整得那么玄乎。最近有两个TED视频，我觉得都非常好，让我想起先生的“魂归大地”。一则为[开发新（纳米）材料获取能源（太阳能）](http://www.ted.com/talks/justin_hall_tipping_freeing_energy_from_the_grid.html)的人，技术听起来很诱人，你家的窗户玻璃在夏天自动排热、冬天吸热，不知道能省多少能源，但这不是关键，关键是视频的最后，他从钱包里拿出一张旧报纸上剪下来的照片，那就是那幅著名的获普利策奖的照片《饥饿的苏丹》。“她不应该死于缺水，无论如何”，演讲者说。

<iframe src="https://embed.ted.com/talks/justin_hall_tipping_freeing_energy_from_the_grid" width="600" height="400" frameborder="0" scrolling="no" allowfullscreen></iframe>

另一则为[赤脚运动的印度大爷](http://www.ted.com/talks/bunker_roy.html)，博士毕业，回村，跟老娘说要先挖井五年（如果我没听错的话），老娘听了差点没气疯。一辈子干了一件事，教育印度农民（或者说被教育），尤其是印度农妇，让五十多岁的老大娘都学会了整太阳能照明；这大爷认为民间自有高手在，要发掘他们的天才才干，向他们学习，他的学校里学生是老师，老师是学生；妇女们都会用太阳光聚焦了做饭，一个个比工程师都厉害；一位妻子说有了太阳能照明，她头一次在冬天里看清了她丈夫的脸。本小子非常相信这位大爷对贫民的看法，穷人有穷人的生存智慧。某个偏远山村的夜里头一次亮起灯光，这种感觉可能就是魂归大地了吧。

<iframe src="https://embed.ted.com/talks/bunker_roy" width="600" height="400" frameborder="0" scrolling="no" allowfullscreen></iframe>
---
title: HTML5幻灯片
date: '2011-11-03'
slug: html5-slides
---

这大概是我在WordPress下写的最后一篇日志，我要奔向静态网站了。昨天[在系里](http://www.stat.iastate.edu/seminars/seminar.html?id=649)做了个小报告，漫谈一下这几年开发R包的一些故事，基本上是鬼扯。这次的报告摘要是目前写得最成功的一个，因为一点都不严肃，通知发出去之后好几个人遇到我都号称“贼喜欢这摘要”，让我忍不住小得意了一番。由于早已厌倦学术报告上清一色的Beamer片子，我后来投奔古老的Foiltex（基本上就是白纸），这次[尝试了一下HTML5](//slides.yihui.org/2011-r-dev-lessons.html)，片子做出来我自己都觉得增加了不少讲的动力，因为风格完全自由了，愿意放图就放图，愿意用什么字体就用什么字体，简言之，要多华丽有多华丽。这片子有多难做呢？答案是会打字基本上就够了。我用的是keydown，Ruby Gem一枚，片子的[源代码](https://raw.github.com/yihui/yihui.github.com/master/slides/2011-r-dev-lessons.md)极其简单。

珍爱生命，远离`\includegraphics{}`。

又及：珍爱生命，远离IE。
---
title: Jekyll世界
date: '2012-02-12'
slug: hello-jekyll
---

一晃三个月过去，这里似乎没了动静。各位大人、路人以及丈人都很好奇，这娃儿究竟干啥去了，于是今天从山沟沟里爬出来解释一下。三个月前我说那是我在WordPress（WP）下写的最后一篇日志，话扔出来了当然不能反悔，尽管中途有几次想写点东西，但都憋回去了。不写日志也好，省点时间写代码。去年[10月份中旬](https://github.com/yihui/knitr/graphs/impact)我鬼使神差开始写一个叫[knitr](http://yihui.org/knitr/)的新包，其实也是我盘算了几年一直没干的一件事，最后对Sweave终于忍到了极点，操起键盘花了三个月革了命。这是题外话，以后再细说。

每个人离开一个软件或一套系统一般都带着负面情绪，比如烦恼抓狂恨，但WP必然不属于这一类系统；我看到的几乎每一个离开WP投奔[Jekyll](http://github.com/mojombo/jekyll/)的人都无一例外大加赞扬WP，这事情就很有趣了，为什么你赞它还要弃用它？我虽然已经换到Jekyll，但也同样赞WP并感恩戴德，过去我已经说过好几次WP是程序设计的上乘之作，它的功能之灵活以及API之清晰别的网站系统很难比拟。然而某些码农的目标只是把事情做完（GTD），某些码农的追求则是无止境的，我就属于极简主义者，理想情况下我希望一套系统只有一个主要功能，把其它枝叶都砍掉，让用户能集中精神只做一件事情。比如博客网站只有写作功能，论坛只有讨论问题功能，聊天软件只有聊天功能。WP基本上符合这个要求了，它和其它的网站系统比，已经大大简化，只要模板设定好，剩下的就是写作；话虽这么说，实际情况却并非如此，我还是要花精力做一些额外的事情，比如我需要上网，要登录后台，要编辑HTML（像我这样的代码洁癖，眼里容不得冗余代码），要管理图片和附件，看着别人的新插件还眼馋（一装就又陷入新的维护陷阱），最要命的是，所有的东西都在数据库中，每次WP出了新版本，我都要颤颤巍巍点那个更新按钮，然后祈祷数据库不要出问题（我懒得导入导出备份）。

Jekyll完全推翻了传统网站的维护方式，它直接回到了“原点”——作者只需要维护文本文件，每一篇日志就是一个文件，程序会根据模板设置自动把这些文本文件翻译为网页。这些文本文件不用HTML，而是用简化版本的Markdown（MD）或者其它可最终翻译为HTML的伪标记语言。MD的哲学深得我心：把[语法](http://daringfireball.net/projects/markdown/)简化90%，去实现大多数常用的HTML标签，牺牲少数不常用的标签（这些标签仍然可以用原始的HTML代码写）。比如要写无序列表的话，在HTML里面要用

```html
<ul>
  <li>hello</li>
  <li>world</li>
</ul>
```

每一项列表项都用`li`标签围起来，而在MD语法里，只需要一行一行写就行了，每一行开头写一个减号 `-` 就足够，就像自己记笔记一样：

```md
- hello
- world
```

一个字符（确切地说是两个，后面还得跟个空格）和一串要重复敲的字符比，哪个简洁显而易见。简洁的MD语法配合几项YAML设置就是一篇日志，扔进Liquid模版系统，Jekyll就把网站编译出来了。

八年前我在用文本文件做网站，八年后我又回到了文本文件，当然事情已经有了本质变化。这次从WP搬家，尽管有一些自动转换程序，但还是费了不少劲，423篇中文，103篇英文，几千评论，搬得我差点没疯掉。比如我做的第一件事情是解决[上一次搬家](/cn/2009/05/php-301-redirect-from-bo-blog-to-wordpress/)的历史遗留问题：从Bo-blog搬到WP的时候，有些评论的嵌套关系乱了，所以我花了一天时间先把评论在数据库中修改对齐，这个过程基本上是手工看评论ID，把父评论和子评论的ID都记下来，然后用R生成几百条SQL语句，扔给数据库执行。评论整完导入Disqus，一个专注于做评论的网站。剩下的日志用一个Python程序从WP的XML文件导出为MD文件，导完又是一片残垣断壁，我只整理了最近的十篇日志，之前的几百篇用R正则表达式简单处理了一下，以后再慢慢手工整理，再往后还想把2004年起的一些老日志也导进来，像王晓伟说的，[记录生活](http://www.blog496.org/2011-2-11-stand-in-the-cross-road.html)。英文[简历页面](/en/vitae/)花了很大功夫整理了一下，主要是那些幻灯片文件，整体挪到GitHub中[下载](https://github.com/yihui/yihui.github.com/downloads)，尽管这样会造成一批404错误，但文件太多，重定向太麻烦，想想算了。

凡事如果能退到文本文件的层面，基本上就意味着可以为所欲为了。就如同LaTeX是纯文本文件，所以很方便和R结合生成动态文档；PHP是纯文本文件，可以任意混合HTML代码。如果我乐意，我可以在MD代码里嵌入R代码，动态生成日志（这个实际上已经在knitr中实现了）。

使用Jekyll的另一大动力当然是GitHub，它提供编译服务，所以用户只需要用GIT管理文本文件就可以了。要写日志就新建一个文本文件，写完推上去完事，由于GIT支持离线工作，随时随地都可以写，不受网络环境限制。

为了找一个中意的模板，我把Jekyll维基上的网站列表扒了几遍，最后找到一个符合我理想中的样式的网站，[作者](http://lhzhang.com)也是极简主义者。这个模板适合日志，但不太适合首页，所以我在[首页](/)用了另一套模板。中文字体使用肖楠介绍过的[冬青黑体](http://www.road2stat.com/cn/tag/hiragino-sans-gb)和微软雅黑，这样苹果和Windows都能看，而我相信Linux用户对中文字体总是有办法的，比如自己调一下文泉驿字体；英文优先使用Google字体中的Galdeano，然后使用其它常见无衬线字体。整个网页使用了一些HTML5标签，所以关于Windows下的IE浏览器我就不用多说了，若版本不够，页面可能会错乱。

日志页面中支持键盘左右方向键或JK键前后导航，这是JavaScript实现的，归功于[Tao Zhang](http://ztpala.com/2012/01/16/jquery-keyboard-navigation/)。文章[RSS订阅](/cn/feed/)依然存在，所有日志的链接也没有变化，只是评论RSS变了，要么订阅[整站评论](http://yihui.disqus.com/latest.rss)，要么订阅单篇文章评论（每个页面的底部）。

一连看几年的文章的感触非常大，就像看一部快速播放的电影，生活在其中一天天过没什么感觉，但呼哧一下看过去，感觉很不一样，我从过去自己的一些评论和文章里总结了我的（至少）四点明显问题：

- 明明年轻却卖老
- 气盛，欺人
- 很多评论非常无聊，为了评论而评论
- 中英混杂

关于这些事，想想有点后背发凉，尤其是第二点，必然伤了一些人；而其中第四点我现如今逮一个批一个，不管是谁（包括师姐在内），不料自己过去其实也是这样的。
---
title: 欲写已忘言
date: '2012-02-20'
slug: many-things-to-nothing
---

博客是不能断的东西，断久了就真不知道要写什么了，因为脑子已经超出键盘一大截，鸡零狗碎的装了一大堆。[太云](http://taiyun.cos.name)的网站标题说优秀是一种习惯，这就是个习惯问题，要做好一件事情，不能指望大脑来控制（人脑从来都不靠谱），而是要把一件事情做成习惯。比如总是不写东西，慢慢地时间就被其它事情占据，久而久之，成了习惯，就再也写不动了。这周老板下山去了，于是更加放肆折腾自己的事情（代价是要上的课都留给我上了）。这次又得像[上次](/cn/2011/07/subtle-mind-to-great-waves/)一样，各种残篇残念摘抄揉一起，所以难免意识流。

1. 雪

    今年村里天气有点奇特，用摔跤这个指标来衡量的话，我这个冬天只滑过一次。总体来说，尽管这地方雪大，但对冬天却没什么感觉，因为暖气太足，我总是想要是地球发生气候突变，美帝很可能先灭绝——环境太娇惯了。在英语环境中，雪似乎完全变成了一个纯粹的物理对象，什么感觉都没有。《九阴真经》中铁掌帮帮主上官南念了一首《三国》中的小诗（我是先看电视剧后知道出处的），让我印象深刻：

    > 一夜北风寒，万里彤云厚；  
    > 长空雪乱飘，改尽江山旧。  
    > 仰面观太虚，疑是玉龙斗；  
    > 纷纷麟甲飞，顷刻遍宇宙。  
    > 骑驴过小桥，独叹梅花瘦。

    这里没法骑驴过小桥，只能开车过大桥，而且开车还得小心雪。前些日子有位大人在本小子的办公室白板上就这雪景题诗一首：

    > 流落美帝苦，漫天雪花舞。  
    > 闲来无事做，不如煮香菇。

    按小说的规矩，一般在墙上题诗都是要造反的，不过这位是送香菇的，善哉善哉。一样是雪，有人鳞甲飞，有人煮香菇，各人有各人的逍遥自在。

1. 巨子

    我放出[knitr](/knitr/)之后，意外收到了很多巨子的回复，让我颇为惊喜。比如Venables，也就是[MASS](http://www.stats.ox.ac.uk/pub/MASS4/)那位大人。收到V大人来信并不是最神奇的事情，而是他居然学过中文，过年那天他还用拼音跟我说新年快乐、恭喜发财。最近Harrell大人也在折腾knitr，已经下定决心用knitr重写他的书，跟这样的巨子交流就很爽快，因为他是明白人，受过Sweave的常年折磨，精确地知道怎样的软件才能让作者免于折磨，这样的人就是knitr最好的客户；很多人不像我受过几年Sweave折磨（最后才揭竿而起），所以无法理解knitr的优势所在；还有更可怕的情况是，有些人已经被Sweave的暗黑技巧深深毒害了思维方式，这样的人就更难说服了。还有一位[Coombes](http://www2.mdanderson.org/app/peoplefinder/person.cfm?id=3D5DD6DDC916)大人，有些客官可能熟悉他，前两年Duke的癌症研究[丑闻](http://www.cbsnews.com/video/watch/?id=7398476n&tag=cbsnewsMainColumnArea.8)背后的“侦探”之一就是他，他一直宣扬可重复的研究，重头工具之一便是Sweave，本小子费了一番小牛鼻子劲，最后终于让他对knitr动心了。我本来做梦也没想到我会跟RStudio真的扯上关系，一年前我[写到RStudio](/cn/2011/03/rstudio/)的时候只是觉得服务器版本很酷；结果后来Allaire大人亲自登门，一来二去，现在RStudio的[开发版本](http://www.rstudio.org/download/daily/desktop/)中也纳入了knitr支持，而且俩人作个揖现在互为粉丝了，本小子又忍不住小得意了一番。顺便提一下，现在我的相互粉丝团成员三名，另外两名是咱COS的师姐与小轩哥。好了，尽管吹牛不交税，牛皮吹大了也不好收场，转入严肃话题。

    转台之前，为啥我用“巨子”这个词？显然我最近在看《秦时明月》，我觉得这动画挺好的，寒假在家跟着侄子一起看了几集，第二次觉得国产动画片挺有味道。第一次是看《魁拔》，可惜下一集不知道猴年马月才能出。
    
    ![窝窝村，我喜欢这个名字](https://db.yihui.org/images/kuiba.jpg)

1. 得失

    前天[江堂](https://github.com/Jiangtang)来电，说[GitHub](http://github.com)的事情。我又引一个人上了贼船，不，这不是贼船，是程序员的天堂。简单聊聊美帝生活，发现咱俩都是一山头看另一山头，相互羡慕。我看他生活有声有色，他看我心无旁骛专心折腾代码。文字这东西只是反映生活的一个视角，大部分时间里，可能我们生活也没啥大不一样。说到网站：

    > J: 你的网站改版后看起来有品了啊  
    > X: 其实内部一团糟啊  
    > J: 人僧追求嘛啊！追求的奏是介个！  
    > X: 嗯，也是，也是

    我过去好像说过，我追求的就是一个字：美。美网站也好，美代码也好，美味佳肴也好（这个惭愧，追求下降了）。有时候想想，况且况且况况且登场，到底是要追求演一场小戏还是追求成王封侯？子曾经曰过：得之窃喜焉，失之未觉也。（不要搜出处，我是吕秀才的粉丝，大家懂的）

    Youtube上有一则[无名视频](http://www.youtube.com/watch?feature=player_embedded&v=C7DvYFRvDdw)我觉得很好，它的特别之处在于前后5分钟的内容是一样的，但前5分钟有音乐，后5分钟完全静音。又是一个看事物角度的好例子，于无声处听——呃，不是惊雷——没词了。你听不听得见音乐，在于你心里有没有音乐。

1. 下回分解

    搬家过后日志的长度明显不一样了，在线写日志和离线用记事本写日志是完全不同的感受。尽管现在倒了些废话出来，还有不少废话。下集预告：归去来兮。

---
title: 归去来兮
date: '2012-03-23'
slug: as-years-go-by
---

每次写新的日志之前要先清理一下旧日志，因为[搬家](/cn/2012/02/hello-jekyll/)把很多文章的格式都弄乱了，尤其是几乎所有的图片链接都成了死链接，都得重新传，所以写得越来越慢。有客官对此还[专门分析](https://cosx.org/cn/topic/106355)了我的博客写作数据，发现我的篇数越来越少，字数越来越多，间隔越来越长。比如下图是我的相邻日志日期间隔，最高的那个点就是我说要从WP搬家到Jekyll之后等待的时间，从2011年的最后一篇到2012的第一篇足足过了三个多月：

![日志间隔时间](https://db.yihui.org/imgur/w0TcS.png)

开会后跟[腾飞](http://tengfei.name)聊网站这些事儿，这厮小时候肯定有一篇课文没背好，就是《小猫钓鱼》。我一直相信热心必须有耐心相伴才能成事；COS团队里有时候有人因为白天聊了一些宏图大业的事情而激动得半夜睡不着觉，我对这种现象的第一反应往往是怎么维持这种热情。几年前我在论坛贴了一篇丰子恺的[《渐》](https://cosx.org/cn/topic/101097)（美其名曰“文化建设”），这也是我这几年反复读反复引用的文章；道理极其朴素，但把它读进心里不容易。

前些日子我请[范总](http://fan.cos.name)点评一组幻灯片，范拎出里面一句话，曰“投资的成就根本是哲学的成就”。我搞不清楚什么技术分析或量化分析，也不知道什么哲学，不过这句话听起来很符合我的胃口。

---

我用“归去来兮”作标题，和陶渊明没关系，只不过是我去年11月想的一个标题而已。一个五年多没联系的师弟突然来信，让我顿时有种恍如隔世的感觉，于是拟题归去来。那时候我还在远大前程协会混迹，挂名副会长，其实就是网管，然后一起拎着讲座海报去各个宣传栏里贴。这师弟是协会的骨干分子，最深的印象就是整天熬夜，只要我早上在路上看见他，大多都是头发蓬乱熬完夜从楼里走出来。他找到我的原因是因为看了COS主站上[侯瑀的文章](https://cosx.org/2011/08/meaning-of-traveling/)，这事儿就有点趣了，因为他不是统计系的，一个非统计系的工作人士跑来COS看我们的文章，说明我们单篇文章的影响力还是挺深远的。侯瑀同志真是激励了不少人啊。这是从COS找到我的，还有一个更久以前一个从小轩哥的博客找到我的十来年没联系的高中同学，这个更让我不得其解。人生不见，动如参商。

五年前我说[SVG太牛了](/cn/2007/11/awesome-scalable-vector-graphics/)，当时称浏览器支持还很欠缺，连Firefox对SVG动画支持都不太好；五年后，Chrome浏览器都已经出来了，大多数浏览器都支持SVG了。现在我开始研究[D3](https://github.com/mbostock/d3/)，它画图的一个重要媒介就是SVG，而且动画的语法非常简单。Chrome自带的控制台也很牛，可以直接在浏览器内用JS代码操纵HTML或SVG元素，感觉跟用R差不多了。

四年前我[看到Processing很惊叹](/cn/2008/08/an-introduction-to-processing/)，也提到那位大神把Processing翻译为JavaScript库，前些天有客官在我那篇日志下留言，我突然发现如今这个JS库已经成长为[一个大网站](http://processingjs.org/)，还有各种在线编辑器，再次激起学习欲望。

七八年前我看到UCLA的[一些统计软件教程](http://www.ats.ucla.edu/stat/)，觉得做得挺不错；如今他们的[R教程](http://www.ats.ucla.edu/stat/r/code/)已经开始用我的**knitr**包进行改写，让网页和R代码无缝结合，直接从源代码编译为带结果的HTML页面输出，无需任何复制粘贴。我觉得他们的志愿者劳动应该发扬光大再上新台阶，因此决定带一队人马去帮忙把这个网站好好整一整，也算是对免费资源贡献者的回报。

四年前[我在不莱梅](/cn/2008/06/back-from-bremen/)第一次见到AT&T的Simon、Debby和现在ISU的老板们，两年前周老师溜达到我的网站约书，两个月后[我在北京](/cn/2010/07/3rd-chinese-r-conference-beijing/)第一次见到卢大编辑，去年通过老板支持和卢大编辑牵线[去纽约](/cn/2011/09/ny-strata-and-nj-att/)参加Strata会议，顺便就去AT&T溜达一圈，又见了Simon和Debby，由D接待<!--，今年暑假又要去Simon那旮旯了，这实习实际上是用四年投了一封“简历”-->。后面二十字暂按下不表。

五年前我脑子抽风写了个**animation**包，纯属为了好玩，第二年去德国溜达一圈，第二年冬天开始第一届中国R语言会议（今年第五届），第三年上半年中奖，第三年下半年来了[爱姆斯村办大学](http://www.iastate.edu)。第五年就此事给ICSA[灌了一篇水](http://icsa.org/bulletin/issues/ICSABulletin12Jan.pdf)，并把编辑大人Yan老师拐进COS主站。

COS主站一直有一个问题困扰着我，就是我们没有合适的logo标志图片，等了三年，我们等来了李龑，操起家伙解决了我们的问题，从此我们有了统计之印。COS成员这些年来来去去，偶尔会看见论坛上有注册了五年才第一次发言的会员；还有曾经有辉煌灌水战绩的会员[去而复归](https://cosx.org/cn/topic/104024)，比如大家都熟悉的colinisstudent；还有主力管理员如无痕那小子，高考完就混迹论坛，后随我一起做网站苦力，现在已经从美帝溜完一圈回朝了，而我们的新管理员们也在奔美帝。

去年G_will[留言说](/cn/2011/10/back-into-the-dust/#comment-429725642)可以看看《Rework》，现在我已经看完别人寄给我的这本书，觉得还挺有收获的，不过总觉得观点有点偏激，让我心里又萌生了一些矛盾；同时寄来的还有我喜欢的[德鲁克](/cn/2008/11/habits-of-effective-manager/)，这两本书风格当然截然不同，一个是叛逆后进，一个是经典大师，孰是孰非，仍然是小马过河的问题。若按照老式的一份耕耘一份收获原则，Rework看起来很轻浮，道理一看就懂，公交车加饭后几天就翻完了，所以可能真的只是一时的噱头；德鲁克读起来则慢得多，因为不得不停下来琢磨里面的逻辑，经常看了后面忘了前面，也许会更有收获。无论如何，让事实去检验吧。

九年前，奶奶过世。二十年前她还让我们兄弟几个[大的让着小的](/cn/2010/12/wisdom-of-zhou-libo/)，从手帕里拿给我们两毛钱去买乒乓球，爷爷用锯子给我们锯球拍；十三年前她从我卧室窗户递给我腊肠带去学校；十年前我从北京回家她还在外面晒太阳。

---

[上上篇日志](/cn/2012/02/hello-jekyll/)说到我在整理过去日志的时候发现四点问题，方方同学颠儿颠儿冒出来说“木有啊，很实在啊”。我板上钉几颗钉子试试：五年前我自以为是[过度嘲笑群众大学网站技术](/cn/2007/10/poor-tech-in-people-univ-of-china/#comment-429720433)，后来一位网管大人不知从链过来，纠正本小子的狂妄。六年前给高校统计论坛[报告](https://github.com/downloads/yihui/yihui.github.com/Thoughts-2006-Yihui-Xie.pdf)，现在看来简直是屁都不懂，还瞎拽洋文，现在我还记得当时讲完去吃饭的时候一位（可能是北师的）师姐在电梯里问我局部多项式的事情，我胡乱搪塞了几句，仿佛很简单似的。五年前对自由度的解释忿忿不平，暴跳发日志一篇，有晕死的客官[评论说](/cn/2007/10/degree-of-freedom/#comment-429720373)“深深感觉到博主有些牛气，有些自我膨胀，有些胡言乱语”，可惜当年那小子心高气傲根本没当回事。无聊的[事情](/cn/2007/10/my-life-as-a-paparazzo/)和[回复](/cn/2007/10/rgui-translation/#comment-429720448)也一大堆，没话找话狗尾续貂。

---

用分秒的跨度来看，一切都没变化，无关痛痒。以五年十年为单位来看，因果事理的轮廓就开始凸显。去年年底看到《鹧鸪天》一首，转发给COS全站：

> 记得窗前槐树吗？几回树下过家家。泥巴盘子泥巴碗，塑料摇车塑料娃。  
> 儿时梦，散如沙，谁知转瞬即天涯。老房拆了树还在，一到夏天开白花。

这就是时间的力量。我在[首页](/)放了一首龚自珍的词，气场太强大了，当时狠狠震了我一把，千古声名，百年担负。

---
title: 春游记
date: '2012-04-08'
slug: spring-tour
---

昨天琢磨着要出门溜达一圈去，今儿个早上起床开着自行车就去河边了。河边都是树林，溜达了一个时辰往回走，手机拿出来随手拍两张。

![](https://db.yihui.org/imgur/yXzBt.jpg)

这个小河湾和我家那边有些许相像，小时候在这种浅浅的河里站着，水从脚上流过，总让我感觉水没动，而是我被河底载着在往相反的方向移动，所以在河里总是站不稳，晕得慌，舅舅家里的哥哥姐姐就解释这是盐吃少了，那时候屁大点孩子，当然别人说什么都信；我不是牛顿，被苹果砸就能砸出万有引力，只能信了这个缺盐理论，嗨，想当年，相对论离哥其实就一步之遥，谢因斯坦就在河里捞鱼摸虾中没影了。

![河滩](https://db.yihui.org/imgur/2gshj.jpg)

![大江东去](https://db.yihui.org/imgur/SHXlI.jpg)

站在河堤上感觉腿给刺扎了，低头一看，一根不知名的草木棍子，枯了半截，上面一支新芽，下面一排刺。

![](https://db.yihui.org/imgur/9snUy.jpg)

某文艺青年正在研究手机相机设置，突然身后传来一阵鸟叫，叫的节奏跟狗似的，开始没注意，但我在拨弄相机给刺棍子拍写真时，那鸟狗好像一直冲我叫，于是我转身一看，霍哦，原来是只松鼠：

![](https://db.yihui.org/imgur/V9Mvi.jpg)

本村松鼠多，但松鼠叫还真是头一次听到（今天在林子里还头一次听见啄木鸟的声音了，果真是好鼓手，那敲的节奏）。那松鼠就趴在一根枯树枝上，冲我叫个不停，我不知道它是什么意思，反正我看着很欢乐，于是给它[录了一段](http://v.youku.com/v_show/id_XMzc4MjUxMTcy.html)：

<embed src="https://player.youku.com/player.php/sid/XMzc4MjUxMTcy/v.swf" allowFullScreen="true" quality="high" width="300" height="520" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" />

它高高在那儿爬上爬下叫个不停，于是我跟它来了一段[对话](http://v.youku.com/v_show/id_XMzc4MjUxNzYw.html)，具体说的是什么，各位客官自己猜好了。最神奇的是，本来它在哪儿乱叫，后来我说五个字，它也说五个字，松鼠都会数数了，这可真是了不得了：

<embed src="https://player.youku.com/player.php/sid/XMzc4MjUxNzYw/v.swf" allowFullScreen="true" quality="high" width="500" height="400" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash" />

游记完毕。

---
title: 功能地狱
date: '2012-04-09'
slug: reference-and-footnote
---

Cloudly大人最近奋发图强，捡起来两年前的[计量经济学小册子](https://github.com/cloudly/Play-Econometrics-with-R)，又开始奋笔疾书。讨论到交叉引用的事情时，我觉得这就是锤子钉子的故事：因为我们有`\ref{}`的能力，所以下意识就会拼命用，定理5引用例子3，图8引用页2，每引用一次就是给自己的作品缠上一道线，写完一本书我们就成茧子了。世上最容易读的作品肯定是给小孩读的，那么童话故事就是一个很好的参照，下面我给大家讲一个《青蛙王子》的故事：

> 标题：青蛙王子
> 
> 作者：格林兄弟（脚注：作者单位……邮箱……通讯地址）
> 
> 一、引言
> 
> 在遥远的古代，人们心中的美好愿望往往能够变成现实。就在那个令人神往的时代，曾经有过一位国王（参见第2章）。国王有好几个女儿，个个都长得非常美丽（张三，公主列传文献1，1784）；尤其是他的小女儿，更是美如天仙（见图1）（脚注1：就连见多识广的太阳，每次照在她脸上时，都对她的美丽感到惊诧不已）。
> 
> 二、研究动机
> 
> 国王的宫殿附近，有一片幽暗的大森林（李四，建筑史文献2，1812）。在这片森林中的一棵老椴树下，有一个水潭，水潭很深（王五，地理志文献3，1825）。在天热的时候，小公主常常来到这片森林，坐在清凉的水潭边上。她坐在那里感到无聊的时候，就取出一只金球，把金球抛向空中，然后再用手接住。这成了她最喜爱的游戏（如图2所示，数据见表1）。
> 
> 
> 表格1：公主扔球数据
> 
> 时间 温度 速度 结果  
> 14:29 32 5m/s 接住  
> 14:31 32 3m/s 接住  
> ....  
> 14:52 30 7m/s 没接住
> 
> 不巧的是，有一次，小公主伸出两只小手去接金球（见第78页），金球却没有落进她的手里，而是掉到了地上（如表1所示），而且一下子就滚到了水潭里。
> 
> ……

当然这么说有些夸张了，但现在有哪篇学术文章不是这个范儿？

上次我提到Rework，后来有客官表扬我是一只大青蛙。本青蛙略冤，蹲井里再琢磨了一下，其实我并不是说Rework说的不对，只是不知道它是否适合我，关于这事儿的八千字以后有机会再写。先说一件事，这本书是一本易读的书，每一篇长度在一页到一页半之间，每一篇都有整页插图，字大行距大。没有文献列表，如果要引用，就直接用文字把要引用的内容讲述一遍，读者可以以任意顺序阅读，不必从第8页跳回第3页，或从第5页跳到参考文献列表去找那该死的张三（2002）到底是神马东西。

最近几个月在推Markdown，意思并非是说LaTeX需要被取代，而是基于这样一个想法：我们的写作究竟有多大概率需要复杂的排版？如果这个概率小，那为何不先用一个相对简单的排版工具呢。MD是一个弱到爆的标记语言（严格来说它不算标记语言），你要是从LaTeX的角度来问：它能干这个那个吗？答案通常是非常肯定的：不能！问题是，我写日志、写作业、写简单的数据分析报告，需要“这个那个”功能吗？

给[泛华统计协会](http://www.icsa.org/bulletin/)又灌水一篇，讲[让可重复性统计研究欢乐起来](/en/2012/06/enjoyable-reproducible-research/)。写这篇文章的时候我想起129合唱，那时候每晚练歌让我真心讨厌这个活动，费这么大劲在校内几个院系里夺个名次有毛线用，和129有毛线关系。可重复研究和LaTeX绑在一起就是这个感觉，文学化编程不能因为Knuth用TeX就和TeX绑在一起。在这个网络时代，各种技术都成熟了，何不让大家欢乐地进行可重复统计研究呢？MD易学易用，我们再稍微花点心思把默认的CSS调得漂亮一点，不就轻易说服用户放弃不可重复的复制粘贴了么。用我文中借用别人的一句话：要推广好习惯的最好办法就是让好习惯比坏习惯更简单。

话虽这么说，我仍然是重度LaTeX用户一枚，乐此不疲研究暗黑魔法。

注：本文本写于4月初，但真正发出来已经7月末了……

---
title: 分段回归的拐点连续性
date: '2012-04-30'
slug: break-points-in-regression
from_Rmd: yes
---

我翻了一下，[上一次写](/cn/2010/12/unifying-bayesians-and-frequentists/)跟统计有关的话题已经是2010年的事情了，多数时候，这里写的都是（计算机）技术类与生活类的话题，于是我又想起来很久以前有客官说，你还不如改成“Keep on eating”算了。废话少说，言归正传。

最近有客官问：

> 在分段线性回归中，转折点的连续性是必须的吗？

意思是这样，下图中，两段直线应该接着呢（实线），还是可以各走各的（虚线）？


```r
set.seed(123)
# 真实模型
x = sort(runif(100))
y = 2 + 1 * x + 4 * (x > 0.5) + 3 * (x - 0.5) * (x > 0.5) + rnorm(100)
par(mar = c(4, 4, 0, 0), family = "serif", mgp = c(2, 1, 0))
plot(x, y, pch = 20, col = "darkgray")
# 斜率不同，截距限制
fit1 = lm(y ~ 1 + x + I((x - 0.5) * (x > 0.5)))
lines(x, fitted(fit1), lwd = 2, col = 2)
# 斜率不同，截距也不同
fit2 = lm(y ~ 1 + x + I(x > 0.5) + I((x - 0.5) * (x > 0.5)))
lines(x, fitted(fit2), lwd = 2, lty = 2)
```

![plot of chunk linmod](https://assets.yihui.org/figures/cn/2012-04-30-break-points-in-regression/linmod-1.png)

虚线线段的中间一段不应该被画出来，我偷了个懒画上去了，本来应该是间断的。连与不连，归根结底，只不过是回归设计阵要不要多一列的问题。这是线性回归中经典的模型比较问题，上面`fit2`是全模型，`fit1`是取消一个限制的模型，自由度之差为1，残差平方和之差除以1，再除以全模型的残差平方和除以相应自由度（88/96），就是F统计量，P值也就出来了。R里面所谓的`anova()`函数，就是干这事儿的：


```r
# 两个嵌套模型做F检验
anova(fit1, fit2)
```

```
## Analysis of Variance Table
## 
## Model 1: y ~ 1 + x + I((x - 0.5) * (x > 0.5))
## Model 2: y ~ 1 + x + I(x > 0.5) + I((x - 0.5) * (x > 0.5))
##   Res.Df RSS Df Sum of Sq    F  Pr(>F)    
## 1     97 155                              
## 2     96  88  1      66.6 72.6 2.2e-13 ***
## ---
## Signif. codes:  
## 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
```

这里因为我们设计的真实模型就是两部分直线斜率和截距在0.5前后都不同，所以这里F检验高度显著，说明加上截距限制条件不合理。道理很简单：除非简约模型和全模型没有显著差异，我们只能认为全模型相对“好”一些。

然而，线性模型本身就是对现实的简化。按照上面的想法，其实我们还需要看更复杂的全模型，否则不能认为线性模型就是合适的模型，比如可以考虑非线性模型。复杂模型是没有尽头的，如果要一个个检查下去，那大家都不用干活了。2008年我在COS写了一篇简单的[LOWESS文章](https://cosx.org/2008/11/lowess-to-explore-bivariate-correlation-by-yihui/)，如今我仍然可以把它搬出来，因为LOWESS实在是回归模型中的战斗机，它是模型复杂与简约的很好平衡。前面的直线回归可以看作LOWESS的特例，如下`fit4`。我们可以构造一个相对复杂的LOWESS模型（`span`参数取小一些），然后和一个简单的模型比较，如：


```r
fit3 = loess(y ~ x, span = 0.2)
fit4 = loess(y ~ 1 + x + I(x > 0.5) + I((x - 0.5) * (x > 0.5)), 
  span = 1, degree = 1)
par(mar = c(4, 4, 0, 0), family = "serif", mgp = c(2, 1, 0))
plot(x, y, pch = 20, col = "darkgray")
lines(x, fitted(fit3), lwd = 2, col = 2)
lines(x, fitted(fit4), lwd = 2, lty = 2)
```

![plot of chunk loess-comparison](https://assets.yihui.org/figures/cn/2012-04-30-break-points-in-regression/loess-comparison-1.png)

```r
anova(fit3, fit4)
```

```
## Model 1: loess(formula = y ~ x, span = 0.2)
## Model 2: loess(formula = y ~ 1 + x + I(x > 0.5) + I((x - 0.5) * (x > 0.5)), span = 1, degree = 1)
## 
## Analysis of Variance:   denominator df 82.38
## 
##        ENP  RSS F-value Pr(>F)
## [1,] 15.16 83.2               
## [2,]  4.02 87.7   0.321   0.99
```

P值很大，这毫不奇怪，因为真实模型就是按照两段直线构造的。弯弯曲曲的复杂模型无法打败简单模型，此时我们可以有点底气说两个线段的直线回归可能是对数据的一个恰当描述。

客官的第二个问题是：

> 转折点怎么确定？

好问题。我对学术研究其实没多大兴趣，所以懒得去文献堆里翻找。我总觉得很多研究是把问题复杂化了，这种文献海让我觉得窒息。如果是我，第一步肯定是画平滑曲线，然后再去结合具体事件背景去决定。如前面的数据用**ggplot2**很容易分组画图：


```r
library(ggplot2)
qplot(x, y) + geom_smooth()  # 总趋势
```

![plot of chunk loess](https://assets.yihui.org/figures/cn/2012-04-30-break-points-in-regression/loess-1.png)

```r
qplot(x, y, group = x > 0.5) + geom_smooth()  # 按0.5前后分组
```

![plot of chunk loess](https://assets.yihui.org/figures/cn/2012-04-30-break-points-in-regression/loess-2.png)

显然所有数据放一条线上建模不合适。作为普通青年的我，到此就止步了（所以我离学术还十万八千里）。不过作为二青年想起一件事，如果不知道转折点，而靠不断推移转折点、新建模型、比较模型得来的转折点，是否有多重比较的嫌疑？比如先试0.2为转折点，再试0.3，……，一直试到0.9，看哪个模型跟全模型比起来没有显著差异。或者说，如果本来真实模型中不存在这样一个转折点，而通过这种方法找出转折点的概率有多大？我估计我八成问了一个很二的问题，应该早有人研究过了。做个模拟应该也不难。

---

本文是我第一次在博客里尝试 **knitr** 包，点击上面文章标题下方的工具栏上的编辑按钮 <i class="fa fa-pencil-square-o" aria-hidden="true"></i> 查看源文件（需要 Github 账户）。关于 **knitr**，待我下回在COS详细分解（[预览](https://github.com/yihui/r-ninja/blob/master/11-auto-report.md)）；昨天刚提交 0.5 版本到 CRAN，最终实现了我的初步理想：会 R 就会动态生成报告，把 LaTeX 扔一边儿去吧！
---
title: 速记
date: '2012-06-24'
slug: quick-notes
---

简单罗列一下这两个月发生的事情。

- 5月13日~19日，休斯顿参加[Interface会议](http://www.interfacesymposia.org/Interface2012/Interface2012.html)，老板们已经多年不参加这个会议了（江湖闲言按下不表），但今年在Hadley那旮旯举办，所以举团南下
  - 在会前两天召开GGobi会议，收效甚微，主要原因大概在本小子过去半年多在cranvas开发上不给力，很久没有动静了
  - 在Hadley家烧烤聚餐，第一次面见JJ Allaire和Joe Cheng一波RStudio的人，也见到R core之一Duncan Murdoch大人，向其抱怨R网站太难看，同时见到：Keith Baggerly，和Kevin Coombes并肩战斗戳穿Duke癌症研究谎言的统计学家，Sweave重度用户，后面再提；Gabriel Becker，SearchTrees包的作者，Michael Lawrence的好搭档，两人一见面就没别的事，张口就是这程序那代码的；Norman Matloff，The Art of R Programming的作者，粤语熟练，会讲一些普通话，我告诉他我们在翻译他的书
  - 会议晚宴上统计学家兼艺术家Mark Hansen的演讲完全不知所云，很多人都觉得很好，但没有艺术细胞的我执着地认为他该下乡去种地（希望他不要看到这里）
  - 会上看到被Gelman大人长期猛烈批评的Wegman大人（这个会议的头号组织者），江湖关系复杂
  - 一如既往没有什么好报告，或者说少有我听得懂的报告，现在出门开会都这样，哥不适合在学术界生存
- 5月30日上午，RStudio开发者到访Ames村办大学，在村里和我一起讲RStudio和可重复性研究，中午和大二老板四人共进午餐，相谈甚欢，吃完饭大老板一把抓走我的账单，然后跟JJ说你的账单你自己付，我泪流满面，多么实诚又照顾学生的老板啊，在国内吃饭让客人自己买单几乎不可能，文化差异
- 5月30日下午，JJ开车带我一起去明尼苏达（其实他到Ames村的主要原因就是我开车不熟，不敢一个人开明尼），路上净是谈各种软件，包括Ubuntu的Unity界面是多么恶心，美国人开车总是喜欢双手离开方向盘手舞足蹈……
  - 晚上在当地的R小组接着报告，见到了Daniel Kaplan，几乎是自打R出道以来就开始用R的老爷子，我很喜欢他，他学习能力很强，问问题也能一下子问到点子上，现在在RStudio当客服的Paul就是他的学生，两年前RStudio出道的时候他就看准这个编辑器要火了，给RStudio提了很多建议
  - Org-mode的用户是最顽固的，Emacs果然是一种信仰，可是真的不是每个人都是极客（Org-mode是极客中的极客，反正我是招架不住）
  - 晚上住在Macalester大学的校友别墅，进门就亮瞎了我的狗眼，恐怕我这辈子都住不上这么好的房子，皇宫似的，有所得必有所失这条定律在我身上一直灵验，尽管JJ给我安排了个好住处，但我发现我把电源线忘在会场，第二天一大早飞机，来不及拿了，一周之后JJ送了我一根旧的
  - 前脚刚从明尼飞走，后脚就有当时的听众来信招人做自动化报告
- 5月31日，飞纽约，在中心极限定理（CLT）机场转机，到新泽西AT&T实验室跟Simon实习
- 6月5日晚，从新泽西乡下坐火车进纽约城，第三次和JJ报告，给纽约R用户小组，这是个超大的组织
  - 见到组织者Drew Conway，也就是Machine Learning for Hackers的作者之一，Drew让人印象极其深刻，块头太大了，像一面墙似的耸立在你面前，我说话说得脖子酸；他本是政治系的，却干着统计的活；我们讲完之后我看他发了一条推特消息：knitr真是个坏屁股！他这是最后一次组织R聚会，因为要毕业走人了，最后交代了下一任组织者
  - 其实这次报告有三个人，第三人是rApache的作者Jeffrey Horner，他和JJ一起把sundown这个库移植到R中，写了个markdown包，也就是RStudio中R Markdown功能的支柱之一；Jeff也是超高个儿，不过还好比较瘦，没那么窒息，真人版比照片帅多了
  - 讲完一伙人去酒吧，哥从小就是好孩子，这是生平第一次进酒吧，我哪儿知道酒名，酒吧里吵得要命，听不清，于是要了杯可乐，我就是这么土；和一些一直有邮件联系但素未谋面的人聊了两个小时，最后下一任组织者专门要了一瓶度数比较高的酒请我和Jeff，算是代表组织者感谢一下，那小伙也是knitr粉丝，正在写一本书，其中专门用一章介绍knitr
  - 半夜才从城里回到乡下，三次报告其实都是为了最后一次大报告排练的
- 6月12日~16日，一个人来到田纳西，useR! 2012会议，创了个纪录，给了三场演讲
  - 第一场讲cranvas，之前在休斯顿的报告烂得不堪回首，这次做了个大胆的决定，把幻灯片扔掉，只有代码，上来二话不说就讲第一个例子，就这样一直讲到最后一个例子，没有简介、动机、实现、示例和总结，事实证明这是个无比正确的决定，讲完震惊了Bill Venables长老，老板也非常高兴，兴奋地上来跟我击掌
  - 第二场讲社交化编程，其实就是讲Github，把SVN痛批一顿，最近半年的确在Github上获益良多
  - 第三场是邀请报告，这次是狗屎运，第一次做邀请报告，也就是和JJ排练了三遍的可重复性研究报告，这次演讲基本达到了效果，电闪雷鸣的观点让很多人都下定决心转向knitr
  - 这三场报告可能是我这些年近五十场报告中讲得最好的，主要是插入笑点最多，恶搞料足，这也是我演讲最看重的元素，不是为了哗众取宠，而是为了让听众集中精神，这是演讲有效的前提；后来大家纷纷问我是不是在电视台有第二职业……这些笑话也震撼了Frank Harrell主席，我跟他说大概是继承我爹吧，回头我看推特，有日本听众这样描述
    > もう一つ言うと、昨日紹介したRでマインスイーパーのあれつくったのもknitrの作者と同じ。この人プレゼンがすごく面白くて会場に爆笑の嵐を起こしてる
  - 附图两张
    ![useR! 2012](https://db.yihui.org/imgur/cs0lG.jpg)
    ![useR! 2012](https://db.yihui.org/imgur/GPFxG.jpg)
  - 第一次看见Frank的时候，我几乎悲从中来，我08和10年分别在useR!上听过他的课，精神矍铄，但这次却弯腰拄着跟拐杖，我心想怎么两年就老成这样了，后来才知道是最近刚受伤了；Frank见到我紧紧握住我的手，说你那个fig.cap和cache选项真是好用啊，我一直在用
  - 第一天欢迎酒会上，见到一位Genentech的大叔，JJ向他介绍这就是写knitr的那位先生，他看到我的名字，一下子冲上来抱住我左一口右一口……幸好是个男的，不然我要麻烦了
  - 这次useR!上给我捧场的人实在太多了，邀请报告中就有两场提到knitr，其中Kevin Coombes还专门用一张片子介绍了knitr，让我倍感荣幸，半年前我和他争论过，现在看来他已经接受knitr了，估计是Keith回去吹风了；如果你没听过[Duke那个丑闻](http://www.cbsnews.com/video/watch/?id=7398476n)的话，建议一定去看看，不可重复的研究（复制粘贴）真的是会害死人的，已经有几位病人因为那个错误的研究结果丧命；我之所以感到无比激动，就是因为有这个背景
  - 在田纳西多谢Pengcheng的热情招待，既是湖北老乡，又是Ames村办大学校友，带我四处吃喝玩乐，招待太周全了，非常感动；一起吃饭的两位台湾朋友也很聊得来，我这次算是知道了，凡是在台湾搞统计的，几乎不可能跟谢邦昌老师没有关系；说起赵民德老爷子，一致认为他像金庸小说里的大侠（洪七公？），若干年前他在人大讲写论文的讲义我至今还偶尔翻出来读一读，写的真是非常好，在我看过的所有文章中，我认为唯一有希望赶上这位老爷子的，只有[杨灿](https://cosx.org/2012/05/chase-after-eb/)一人
- 我们有没有输出价值观我不知道，但中国可以向外输出R了
  - 肖楠的日志在[StackOverflow](http://stackoverflow.com/q/11056032/559676)上被引用，我用功夫熊猫中的一句话评论：This is a sign
  - 第五届中国R语言会议的扑克牌传到了Terry Speed长老手中，长老对此爱不释手欣喜若狂，称不惜一切代价要从中国多买一些，这位长老在统计界是中神通王重阳级别的人物，让我心情非常冲动，这又是统计之都之“人本”精神的绝佳体现，该加5分
- 论文
  - animation包的论文历经约一年半时间，终于被接受了，真慢，跟主编争论有点无聊，不怕神一样的对手，就怕LaTeX中毒的主编
  - [我期待](/en/2012/03/a-really-fast-statistics-journal/)传统论文评审和发表形式的死亡，被人告知Elsevier已经在这方面作出努力了：[Article of the Future](http://www.articleofthefuture.com/)
- 被偷东西一般不是什么好事，但要看是谁来偷了，被高手偷是一种荣幸
  - 我[看见](http://biostat.mc.vanderbilt.edu/wiki/Main/VenablesShortCourse)Bill Venables[偷了](http://biostat.mc.vanderbilt.edu/wiki/pub/Main/UseR-2012/VenablesRQuoVadis.pdf)我在knitr中定义的LaTeX样式
  - Jeroen Ooms在他的OpenCPU中[偷了](http://public.opencpu.org/R/pub/stats/glm/help/html?)我的[CSS](https://github.com/yihui/configuration/blob/master/R.css)
  - 在Github上fork（谁能给这个词一个翻译？）不算偷，不过被fork也是一种荣幸，knitr的fork队伍中有R大佬Douglas Bates和可重复研究的大佬及cacheSweave作者Roger Peng，目前Github上knitr的fork数量在[R类](https://github.com/languages/R)库中已经超越ggplot2排名第二，这就是社交化编程的体现，去中心化，让有能力的用户自己提交补丁实现他们预期的功能（闭源软件的灭绝只是时间问题）
- GSoC
  - 太云[入围](http://www.google-melange.com/gsoc/project/google/gsoc2012/cloud_wei/16001)Google编程夏令营，我们要掀起一场革命，看看在社区合作时代，knitr+Github能否取代（至少影响）一些旧式的刊物（如The R Journal）或网站（如R Graph Gallery），这将会是一个非常有意思的探讨
- 文债
  - 欠了一屁股文债，每天狂写，可还是有一批虎视眈眈的任务等着
  - 多年没联系的王学枫来电，说整一本高水平的R语言书，我说我的忍者扔那儿又是三个月了
  - C&H出版社默默期待着可重复研究的书稿大纲，我自刎八回都不足以赎罪
  - 上一个书稿大纲还没整完，又有拼书的来约一章了，我都不敢回复了
  - 现代统计图形咬牙重新启动，希望这次在COS一帮人的帮助下能完成第二次排版及修订任务，前面排长队要书稿的可能近期能收到我的回复了，我知道我自刎八十回都不足以谢罪了
- 其它
  - 阳志平写了一篇非常抬举knitr的[文章](http://www.yangzhiping.com/tech/r-markdown-knitr.html)，这事儿以后再说，关键是我好像在微博上看见ox评论这篇文章了，李舰问是不是天地人大那个ox，我也有此疑问，因为那个牛跟我是老乡，那时候天地人大上的名ID啊，十年前军训时听说楼上班里有个宜昌人，还兴冲冲去找他来着
  - 在Github上观察了若干强人，其实国内那种“少林寺扫地僧”式的高手还是不少的（如宫雨老师），例如我觉得[lq](https://github.com/lq)就是这样；Github真是一个近距离观察各类神人出招的好地方
  - COS论坛因为是一直盯的地方，所以不会有神的感觉，但这两年明显可以看到一批人的进步，比如肖楠已然成为一方大侠，主伟呈在许三多式成长
  - 还是COS论坛，我们该拿坛霸怎么办？坛霸就是屁大点儿事统统都发出来问星人，我个人觉得每周问三五个问题的频率可以接受，但每天都扔出来十来个问题似乎太夸张了，一方面，我们要珍惜志愿者劳动，另一方面，你好歹也要有点自学能力吧，志愿者不是奶妈
  - 在AT&T实习最大的收获可能是shell脚本，各种awk/sed乱入几G的数据，关于shell脚本，举个例子，我住的宿舍无线网络不好，经常掉线，只能重启，我搜了很久终于找到不用重启的办法，就是卸载再加载无线网络模块，于是我写了个无限循环，我叫你掉线，我叫你掉线，……

        ```bash
        #!/bin/sh
    
        while true
        do
          ifconfig | grep -q 10.2.13 && true || (sudo rmmod iwlwifi;
             sleep 1; sudo modprobe iwlwifi; sleep 30;
             echo rebooted wireless)
          sleep 1
        done
        ```

- 各位客官，你能帮我吗？我有一些杂项任务
  - MSG包中有一个[拿破仑行军/撤退路线图](https://github.com/yihui/MSG/blob/master/demo/Napoleon.R)，基于Google Maps，肖楠出品，你能用循环帮我把它改短一些吗？
  - 有一位强人Wush Wu愣是用R写了个[base64编码的函数](https://github.com/yihui/knitr/blob/master/R/utils-base64.R)，我的问题是，它能向量化吗？即：避免循环。
  - R 2.16.0将会增加一个`getParseData`函数，你能帮我改进[这个代码高亮函数](https://gist.github.com/3146836)吗？我已经把基本工作做完，剩下的主要工作是把空格加回来，因为这个函数会丢弃空格，你要么从行列号反推空格的位置，要么把原代码的符号（token）替换为高亮版本，这是一个血腥细节问题，我不想杀脑细胞
  - 我有一个丢弃了两年的[iBUGS包](https://github.com/yihui/iBUGS)，你想学习用gWidgets做图形界面吗？想学的话，我可以把这个包转让给你，我不想维护它了
  - 你能帮忙整理COS论坛素材添加到[忍者秘笈](https://github.com/yihui/r-ninja)吗？

---
title: 回村
date: '2012-08-12'
slug: quo-vadis
---

周五结束了在AT&T实验室的十周实习，却遭遇了一次天留人，原本周五下午的航班因为大雨给取消改到周六，害我在办公室打了一夜地铺。公司安排实习生住在Drew大学（这名字在中文里讲起来很麻烦：你住哪儿？我住在“住”，又或我住在猪大学），条件简陋，一栋楼就一个简单的厨房，冰箱冷藏是室温，于是只好把冷冻当冷藏用，里面塞的东西简直可以考古（气味曼妙，我忍不了的时候偷偷扔了不少别人过期的东西），好歹挨过了两个月。周五下午Drew要赶走所有人，因为要粉刷房子准备开学住新生了，于是几个要搬家的实习生就在门口一堆行李旁胡侃，侃得群情激愤，声泪俱下控诉这苦逼的地方，要吃没得吃，要喝没得喝。扳指一算，吃住行交学费除去，工资所剩无几，实你妹习啊。

当然有一些玩笑成分。生活之所以苦逼，我想和IT民工有关。其实纽约就一个小时火车那么远，以IT民工之宅，定是不愿意进城的。我这两个月一共也就去了两次纽约，一次去[做报告](/cn/2012/06/quick-notes/)，一次见同学（Eva同学从大西洋彼岸来）。纽约这地儿我走在其中感到压抑，熙熙攘攘的人群，抬头不见天日，经常出了地铁就迷失方向，所以也不太乐意去。备受赞誉的中央公园在我眼中也就是个相对论问题：纽约太拥挤了，所以这个大公园显得珍贵，对从村里过去的人来说，俺们有一望无际的大农场，这一片绿地也就没什么稀奇了。

上次说到实习让我加强了写Shell脚本的功力，AT&T的科学家们有用Shell脚本处理文本数据的传统（而不是用数据库），我问老板Simon，他说这种方式比数据库快，于是我整天在awk/sed/grep和管道`|`中折腾（要知道Awk和R都和AT&T实验室有深厚渊源，我的办公室就是S语言作者之一Allan Wilks退休前的办公室，我隔壁是S语言另外一位作者Rick Becker）。Simon一直说内存问题不是R的大问题，我这次才算知道为什么不是大问题了，因为他们有超大内存的服务器（问百姓没饭吃为什么不喝肉粥的皇帝）。实习中我生平第一次把一个6G的文本文件一口气读进R居然没说内存不够，这上哪儿说理去啊？对我等普通青年和普通机器来说，多数时候撑死还是只能读几百M的数据。最后实习汇报的时候，我引用了这幅图说明一个普通青年使用他们的大型服务器的感觉：

![乌龟太快了](https://db.yihui.org/imgur/U8KI6.jpg)

每次谈话都能看到Simon的聪明之处，他说话我经常跟不上（等他走了半小时了我才醒悟过来他是咋整的），而我话说一半他的思维就已经超出我一大截了。这家伙的脑子里装的东西真不是一般的多（比如地球纬度上1度大约是多少公里），各类命令背得滚瓜烂熟了如指掌。有一件小事我直到看他操作才意识到：在Linux下鼠标选中文本，然后鼠标中键点下去就可以粘贴了，这在很多程序中都是默认规范。想想过去我浪费了多少次Ctrl+C按键操作啊！

太聪明的人也会有被聪明误的问题，因为太聪明意味着你什么都可以做，我看S大人就有这种倾向：看一些工具不顺眼就开始琢磨自己写个工具替代它。另一个表现就是“配置狂”，意思是不管什么软件都要自定义配置，好像非得自定义一下什么设置才算是真正使用这个软件一样。有时候想想，知道的太多也不一定是好事。

因为数据涉及到隐私问题，实习这事儿不能说太细，不过大数据还是挺好玩的，比如直方图中在59秒挂电话的频数就略微比前后两秒的频数高一点，这让我想起来当年手机刚开始时兴起来的时候，打电话打了59秒就得意洋洋，1分零1秒就要骂娘。这世上有很多把连续数据人为离散化的情形看似自然但我觉得完全不合理，比如电话为什么要以分钟为单位收费，学生的学分为什么要分ABCD(+|-)，奥运成绩为什么要分金银铜，等等；金银是质的区别，但如果金牌是9.98秒而银牌是9.99秒，人的感知可能就很不一样了，而且从统计的意义上来说，二者可能并没有显著差异，如果再跑一次，银牌可能会胜过金牌。苦命的银牌铜牌们，都是统计学发展还不够害的，否则大家也许都并列金牌了。咳咳，我这是说到哪儿去了？

无论如何，没谱的实习结束了，回到了自己的狗窝，还是村里惬意。

附实习期间令我无语的截图两张：

![没有错误的错误](https://db.yihui.org/imgur/OGreD.png)

![成功的错误](https://db.yihui.org/imgur/OdIWF.png)

外接几篇：

## 圣地亚哥JSM

今年JSM在圣地亚哥开，这个会议我是越来越没兴趣，这次连会议手册都完全没打开过，除了自己的报告之外，纯粹在那边打酱油，不是找认识的人瞎聊几句，就是出去吃饭观光。各类人见了一堆，有些是知道名字但不知面貌，如夏凡、王芳坡（路上偶遇，被叫师兄，我还心想介四谁啊，一起的还有翁银虹，不过时隔几年我已然忘记长啥模样了，汗），人大军团在美帝越来越壮大了；有些人是知名知面但没见过活人，这次好不容易见到活人，如Duncan Temple Lang和John Chambers，我逮到Chambers说你三年前[欠我一张照片](/cn/2009/04/won-john-chambers-award/)，于是老大欣然给我补了一张：

![拜见John Chambers](https://db.yihui.org/imgur/B05Sh.jpg)

我觉得他应该有七十多岁了（本科毕业五十年了），可是看着也就五十岁的样子，莫非十几岁就读完本科了？其它各种会面会餐暂且不表。

## 翻书

自从[有了Kindle](/cn/2011/09/ny-strata-and-nj-att/)，翻了一些闲书。作为一俗人，我真心觉得《明朝那些事儿》写得好，喜感与历史的结合，大赞，这作者不简单（虽然我不知道也不关心是谁）。这个暑假翻完《曾国藩》那三部曲，心理描写太多且细，我也就不关心它的历史性了，作为文学作品看也还不错。曾老爷子留下遗训四条：

- 慎独则心安
- 主敬则身强
- 求仁则人悦
- 习劳则神钦

遗训中尽管充满迷信，但精神和原则都值得敬仰。这书到现在有三点印象：

1. 运气：曾老爷子晚年反思一生（当然，可能只是本书作者在“反思”），觉得官场上的成功可能还是运气使然（例如太平天国内部腐化）；这让我联想到Michael Lewis（《说谎者的扑克》作者）在普林斯顿的[毕业典礼演讲](http://v.youku.com/v_show/id_XNDExNDk1NzY0.html)，其主题便是运气；听起来这有点消极，可谁知道呢？
2. 仁：具体细节不记得了，他最后和某山中大师谈话时，如五雷轰顶般意识到此生战战兢兢顺从满清王室也许未必是真的仁，他不反，可能反而害了天下百姓；
3. 洋务运动：尤其是对容闳办留美幼童的支持，这一百多个幼童里，出了多少绝世将才；

<embed src="https://player.youku.com/player.php/sid/XNDExNDk1NzY0/v.swf" allowFullScreen="true" quality="high" width="480" height="400" align="middle" allowScriptAccess="always" type="application/x-shockwave-flash">

最近在机场出入较多，候机无聊之中补了几本金庸武侠，发现兴趣已经不如初高中那时那么大了（还不如看塔屋王世子和深夜食堂），不过倒是在《书剑恩仇录》和《天龙八部》中瞥见小轩哥的网名“解名缰”，有点意思。

## 软件外包

Cameron发了一则通知，[pgfSweave求包养](http://cameron.bracken.bz/who-wants-to-maintain-pgfsweave)，想当年我也是积极地给他提交补丁，现在这个包的功能已经完全被knitr涵盖了，所以我琢磨着是否还有人会真的去包养；虽说是后浪推前浪，前浪沙滩上，我还是得感谢pgfSweave赐给我的灵感。

我上次[也](/cn/2012/06/quick-notes/)求人包养我不想维护的[iBUGS](https://github.com/yihui/iBUGS)包，立刻就有[彪哥](https://github.com/randel)来包了。我同样求人简化MSG包中的一个示例代码，经过[漫长的讨论](https://github.com/yihui/MSG/pull/22)，终于把肖楠肖帮主出品的[拿破仑行军图](https://github.com/yihui/MSG/blob/master/demo/Napoleon.R)的代码清理好了；其实这事情我自己来做的话花的时间会少得多，但潜在的好处是鼓励别人参与你的代码开发，一旦这个能形成趋势，我就等着接受补丁好了。介，揍是[社交化编程](https://github.com/downloads/yihui/yihui.github.com/social-coding-Yihui-Xie-2012.pdf)。

## 科学与法律

科学的最高意义[莫过于此](http://www.ted.com/talks/scott_fraser_the_problem_with_eyewitness_testimony.html)：

<iframe src="https://embed.ted.com/talks/scott_fraser_the_problem_with_eyewitness_testimony" width="854" height="480" frameborder="0" scrolling="no" allowfullscreen></iframe>

这位演讲者提到“法律与科学长期以来相克”，正义和公平到底是主观还是客观的？老子蹲大牢的时候儿子还在娘胎里，老子被释放之后儿子已经可以跟他一起上大学了。

## 抛硬币

颜大站长在[这个帖子里](https://cosx.org/cn/topic/107768)间接表扬了我几年前的代码，颜站就是颜站，把代码解释得清清楚楚；我回头来看，难免想起肖帮主最近提到的程序的可读性与效率的平衡，那时候写的代码可读性不高，只是在追求简洁。如果换作今天来写同样的代码，我会这样写：

```r
coin_seq = function(v) {
  x = rbinom(n <- length(v), 1, 0.5)
  while (!all(x == v)) {
    x = c(x[-1], rbinom(1, 1, 0.5))
    n = n + 1
  }
  n
}
set.seed(1024)
mean(htt <- replicate(1e+05, coin_seq(c(1, 0, 0))))
mean(hth <- replicate(1e+05, coin_seq(c(1, 0, 1))))
```

## Quo Vadis

最后解释一下这篇日志链接中的Quo Vadis，拉丁语，意思是“何处去”，从Bill Venables长老那里学来的，他在useR! 2012上的[邀请报告](http://biostat.mc.vanderbilt.edu/wiki/pub/Main/UseR-2012/VenablesRQuoVadis.pdf)的标题就是这个，意思是想说R何处去。长老表达了对R的几个担忧，我感觉他隐隐剑指某位如日中天的R领军人物，称之为帝国主义。

这些都是闲话。为啥用这个词组作链接呢？其实也没啥特殊原因，本来是想以这个为主题写的，但后来只是觉得它很酷，于是便记载与此。

---
title: R的若干基因及争论
date: '2012-09-18'
slug: equal-and-arrow
---

R是一门古怪的语言，这一点没什么好否认的。它的古怪有好有坏，在不同人眼中也可能是好事或坏事。R是受S语言影响发展起来的，S语言诞生于贝尔实验室。后来AT&T被分拆的时候，这个实验室被拆为今天的贝尔实验室（已经没什么名气了）和AT&T实验室。如[前文](/cn/2012/08/quo-vadis/)所说，这个夏天在AT&T实验室呆着，S语言的一位作者Rick是我的办公室邻居，另一位作者Allan暑假里退休了，第三位作者是John Chambers，他早已离开实验室去高校了。S诞生在（文本）数据堆里，而R诞生之后很快走向了合作开发，这一系列历史给它带来了一些看似古怪的特征。

## 赋值

赋值符号在绝大多数语言中都没什么好讨论的，因为就是一个等号而已。在R社区，这一点却被讨论来讨论去，主要原因是箭头赋值符号`<-`的存在。箭头[来源于](http://developer.r-project.org/equalAssign.html)贝尔实验室早年的某台古董机器上有一个下划线的键，但打出来显示的是箭头。S祖先们认为箭头是一个很形象的赋值符号，于是下划线被采纳下来，甚至后来衍生出右箭头（`->`）这样更奇怪的赋值符号（表示把左边的值赋给右边的变量），还有双箭头（`<<-`）表示给上一层环境中的变量赋值。其实箭头也不是 S 祖先们发明的，而是[继承了 APL](https://www.hillelwayne.com/post/equals-as-assignment/)。

最初S代码中，下划线本身就是赋值符号，例如`x_1`表示把1赋值给x。我大三的时候还用S-Plus写了不少下划线赋值的S代码。后来R core们做了一个艰难的决定，允许等号作为赋值符号，废弃了下划线的赋值功能，但下划线的传统仍然无处不在，例如Emacs / ESS中默认情况下敲下划线会被替代为左箭头（为了得到真的下划线需要连续按两次下划线），尽管下划线本身已经不能直接显示为箭头，ESS仍然想昨日重现，通过软件方式强行替代之。

我不止一次地说过，我是坚定的等号党。因为等号有赋值功能，大多数语言都用等号（没见其它语言的程序员抱怨等号不形象），等号对我来说不存在歧义，让我的代码更安全。反对党（也就是箭头党）的理由通常是等号存在二义性：它既可以赋值，也可以传递函数参数，如：

```r
x = 1:10
length(x = 1:10)
```

可是几乎所有语言都这样，也没有见那些语言的程序员对此有抱怨。规则很简单：如果等号出现在单独的环境中，它就是赋值；如果写在函数参数位置，它就是传参数。但R的古怪让这个简单规则也可以变得很难判断，例如：

```r
length((x = 1:10))
length({x = 1:10})
```

因为`()`和`{}`将表达式与外面的环境隔离开来，它们被解析的时候先单独运行，所以实际上x在自己的环境里被赋值了；然后`()`和`{}`会返回整个表达式的结果，这个结果再传给`length()`函数。

箭头在任何地方的意思都是赋值（在当前环境下），它可以被写在任何地方，包括函数参数的位置，如：

```r
length(x <- 1:10)
```

这句代码先对x赋值，然后把整个表达式的值传递给`length()`。我们可以把它写得更晕：

```r
length(x = y <- 1:10)
```

此时等号表示传参数，而y无论如何都会被赋值。在函数参数位置上赋值通常有一举两得的效果，也就是把两件事情写在一行上，之所以能一举两得，主要是利用了箭头的副作用；如果是初学者，这种写法最好避免，首先追求代码的清晰性，避免产生副作用的代码。因为箭头无论何地都可以赋值，要是用错了也不会报错，这种错误往往难以意识到。例如我们创建一个向量，元素为1和2，元素名字分别为a和b，如果不小心写成这样：

```r
c(a = 1, b <- 2)  # 本来应该是c(a = 1, b = 2)
```

你可能不会意识到第二个元素是没有名字的，并且这句话带来一个副作用，就是悄悄给b赋了值。

如果你像我一样有时候写代码不爱打空格，那么还有一个更可怕的潜在错误，要是不小心犯了的话可能很久都查不出来。我们写几个逻辑表达式：x大于5，x小于3，x小于-3。你可能想，这个太简单了，操起键盘就写：

```r
x>5
x<3
x<-3
```

因为你的懒惰，小于号和负号悄磨叽走到了一起，不小心形成了具有强大法力的赋值箭头，你并没有完成x与-3的逻辑大小比较，而是给x赋值为3。当这几行代码在这里摆着的时候你可能觉得很容易看出来，可是当你玩了两个小时数据之后，想随手看一下df数据框中x变量小于-1的值有多少个，你可能会写出`sum(df$x<-1)`这样的语句，相应的结果是，你没得到`df$x`小于-1的总数，而是把df数据里x这一列给修改为1了。如果df是一个很大的数据，或你辛辛苦苦处理了半天才得来的数据，你就哭吧。我对这个诡异的案例印象深刻，是因为我亲眼看见过两例别人的错误，在那之后我明知有这样的危险，但自己还是傻不愣登毁了一次自己的数据。

对右箭头赋值，我的想象是这样：某天某祖先写了一长段代码，但没有事先写上把这段代码的结果赋值保留下来，悔得肠子都青了，只好敲回车任凭程序在那儿跑，跑完了得不到返回值，于是该祖先发明了一个右箭头，这样即使先写了一段代码也不用怕，因为可以最后加上`-> x`就把前面的返回值赋给x了。我不习惯阅读这种事后赋值的代码，就像读侦探小说似的，到最后才发现代码创建了一个变量。

这种“后悔”的想象还可以继续：R中有一个特殊的变量叫`.Last.value`，它总是保存最近一次运行的最后一个结果，即使你上一条代码没有赋值保存，你仍然可以通过`.Last.value`去获取。这也意味着，无论你跑什么程序，R都会随时盯着你的返回结果，把它赋值给`.Last.value`。

## 命名风格

R core的主要命名风格是以点分隔词，例如`t.test`，这与早年时下划线有赋值含义有关，另外我猜想也是懒惰，因为点只需要按键一次，而其它命名法都需要按Shift键，如camelCase。不过这个也不绝对，R里面仍然有些下划线命名的函数如`seq_along`，或驼峰命名如`summaryRprof`。这里面有多人合作时的个人风格，更重要的可能是S3泛型函数的影响。S3函数的特点就是“主函数.类名”，如`summary.lm`，它根据传递进来的对象的类来匹配具体的子函数。因为在泛型函数中，点是有特殊意义的，所以我们要小心点（这里注意断句），为了安全起见，最好干脆避免点，免得跟泛型函数扯上关系，尤其是包的作者在写函数时。

在其它很多语言如JavaScript中，点通常表示取一个对象的子元素或者应用方法，如`x.toString()`。R的点不存在这个问题（要达到同样的效果，一般用`$`），它除了可能有S3的意思，没有其它特殊含义。考虑到其它语言以及S3两个原因，我最终投奔了下划线命名法（`foo_bar`），次要原因是我觉得下划线把两个单词分得更开，比`fooBar`易读。

考虑R中有成千上万的函数命名，某些对象命名可以理解，但仍然透露出某种不规范的痕迹。比如`seq()`是S3泛型函数，而同时又存在`seq.int`和`seq_along`这两种风格的函数，并且前者并不是`seq()`应用在`int`类上的函数！

每一门语言都有一些历史糟粕，R作为一群统计学家维护的语言，从规范来说槽点很多，但事情的另一面是，他可以让什么最小惊讶原则见鬼去，老夫今天就是要写一个函数把混合效应模型中的随机效应算完打印出来。他的随意对应用统计者来说，可能恰好也是好事。没有这看似乱糟糟的各种贡献，R的发展也许会慢很多。无论如何，对如今已经趋于成熟的R，我们作为用户还是应该尽量朝规范的方向走。

## 语法

以for循环为例，很多语言都是教条式的`for (i=0; i<10; i++)`循环，而R是`for (i in x)`，这个x可以是很多种对象，例如`1:10`，或`10:1`，或`c('a', 'c', 'b')`，或`list(a = 1, b = 'fgh')`，等等。这种让循环变量在一组对象中循环的做法，我猜想可能借鉴自bash脚本的语法，如

```bash
for i in `ls *.csv`
do
  echo $i
done
```

它为啥要参照bash脚本的循环语法而不是C语言的语法，可能跟贝尔实验室的数据处理传统有关。至今AT&T实验室仍然跑着大量的bash脚本，处理大量的文本数据（循环逐个处理每个文件），这一点我在那里感触太深了。同样诞生于贝尔实验室的Awk，其循环语法也借鉴了bash的语法（C语法也保留着），可以在一个数组中循环。

## 自动扩展和匹配

别的语言一般都不能计算猫加狗这样的表达式，但R可以算`1:10 + 1:2`，两个长度不一样的对象也可以做计算，原因是R总是把短对象自动扩展到长对象的长度再计算；这种扩展有时候很难想象，如`matrix(1:10, 5) + 1:2`（一个矩阵加一个向量）。向量一般来说看作列向量，也就是n x 1的矩阵，但你可以看见以下表达式都可以正常计算：

```r
matrix(1:10, 5) %*% 1:2  # 5x2乘以2x1，没问题
1:2 %*% matrix(1:10, 1)  # 2x1乘以1x10，没问题
1:2 %*% matrix(1:10, 2)  # 你到底是2x1还是1x2？
```

这实在让人防不胜防。除非你事先小心实验，否则这种矩阵乘法出错了都不知道。但这问题其实也来源于作者的懒惰，只要把向量转化为严格的矩阵（不要让R去自动猜测调整），一切问题都解决了。

这些“自动”特征给数据分析其实带来了不少好处，例如在回归设计阵中加一列给截距项的1，你不必写一串1，只要`X = cbind(X, 1)`就可以了，R会自动把1扩展为X的行数；又如你想让散点图中的点按照数据顺序依次用红色、蓝色、红色、蓝色……那么`plot(x, y, col = c('red', 'blue'))`就够了，而不必把颜色向量写完整了。对数据分析者来说，那些计算机的严格规则最好是匿得越远越好。

有时候自动扩展悄无声息带来的问题会很难查找，例如在各种巧合之下，kuanguang坛霸[问的这个问题](https://cosx.org/cn/topic/108092)下面掩盖了一个极大的阴谋，初学者可能看不出里面的门道，楼主的代码运行表面上看起来成功了，但实际上完全是错误的代码。本来这是个很好的例子，只是这家伙碎碎念实在太多了，一天到晚问题不断，我也来一次小心眼，装没看见好了。

## 引号

R的懒惰是别的语言打死都想不通的，比如把一个不存在的对象转化为字符，这么说有点抽象，我们可以考虑一下`library()`这个函数。

```r
library(fun)
```

这样一句话是什么意思呢？`fun`不是一个R对象，它根本不存在，但为什么`library(fun)`就可以加载一个名叫`fun`的包？主要原因就是懒，因为懒得打引号：

```r
library("fun")
```

正常来说，这个函数的第一个参数应该是R包的名字，也就是说应该是字符串。在函数内部，最终需要的也是一个字符串。R之所以能把这件事情搞得这么奇葩，也是与它强大的“基于语言的计算”（Computing on the Language）能力有关，参见手册“R Language Definition”第6节。所谓基于语言的计算，就是把代码拿来作计算，各种魔法`parse()`、`deparse()`、`substitute()`、`eval()`、`match.call()`等等，极大增强了R的语言功能，所以说它是一门统计计算语言实在太低估了它。

例如这里是一个简单的函数，把输入的合法的R符号转化为字符串：

```r
f = function(x) deparse(substitute(x))
f(asdf)
f(hahaha)
```

这种懒惰在一些Linux工具中也可以看见身影，例如`tar`，我们可以按标准写上减号`-`以传参数，也可以省略减号让`tar`把第一个参数当作参数，后面的参数当文件名：

```bash
tar -x -z -f R-2.15.1.tar.gz
tar -xzf R-2.15.1.tar.gz
tar xzf R-2.15.1.tar.gz
```

这就是“多打一个字符会死星人”。

岔开话题回到`library()`这个函数，我印象中R core一直后悔这个函数的命名，想把它改成`use()`。因为`library()`的存在且高频使用，让很多用户称R包为library（例如I'm using the rpart library），这曾经让某R core（M.M.）极度不爽，因为library在R中的概念是“库”，而不是单个的包，一个库可能是多个包的集合，单个包叫package。啥时侯你意识到函数命名可能比写函数本身还难时，就表明你的码农功力又上一层楼了。

## LaTeX

那个年代科学计算类都和LaTeX能扯上关系，这年头都奔HTML去了，谁还去打印大部头的手册啊。R的文档就是一种伪LaTeX文档，R自身也拼命模仿一些LaTeX程序，例如`texi2dvi()`函数。这种伪TeX文档带来的就是新的解析工作，参见`parse_Rd()`魔法，于是各种规矩铺天盖地而来……

## 值传递与引用传递

R一向没有引用传递，但这说法不太严格，我们可以把一个环境当作参数传递来去，环境里的对象可以在任何地方被改变。

```r
z = new.env()
z$x = 1
f = function(env) {
  env$x = 2
}
f(z)
z$x  # 变成了2
```

近两年Chambers大人继历史上推出S3、S4之后，又推出了引用类（reference classes），应该算是补缺吧。值传递虽然有点低效，但更安全一些，不会冷不丁不小心就修改了一个变量。

这么写下去没完没了，不写了，还是写书更重要，就是这样（波波头的微博禅）。
---
title: 千年等一回
date: '2013-02-27'
slug: waiting-for-thousand-years
---

1. 上一篇日志已是半年。今天从村里去波士顿，一路晚点。村里的飞机晚了两小时，到芝加哥转机，眼看着还有十分钟时间奔向下一班飞机，结果飞机开到门口又排了十分钟队，活生生看着下一班飞机起飞了，只要再排下一班，又要等三个小时。于是有了这篇日志，白娘子千年等一回许官人，本小子五小时等一班飞机。
1. 上回是讲R的各种怪癖，经过这五个月，我觉得Python有一统江湖的野心。过去我们总说统计是R的强项，别的语言要重写R的四千个包根本不可能，看pandas费了多大劲才实现R/S几十年前就实现的数据框结构，蟒蛇社区要重写个ggplot2有希望吗？多数人可能不会选择重造轮子，可是我渐渐发现蟒蛇社区真的是鸡血太充足了，真有人愿意把统计的东西一项一项重写出来。上次我在微博上说有人用IPython notebook展示了线性模型的设计阵，便是一个一统统计江湖的象征，现在又有人开始用IPython写贝叶斯/MCMC的书。小众的R社区，会不会被蟒蛇吞掉呢？
1. IPython的教主F君，更是一个鸡血斗士，精力旺盛，声音洪亮（南美人，英语超流利），属于剑宗气宗兼修的人，不过我能感觉到他看到RStudio/knitr之后心里有咯噔一下，为什么呢？因为他总是极力表扬它们。厉害的竞争对手不是那些批评你的人，而是表扬你的人。也许是我井底之蛙、自己给自己贴金，我觉得设计和功能上这两个产品不相上下，唯一的区别就是选了不同的爹，一个选了Python，一个选了R。拼爹的年代啊。
1. F君称Python的对手的只有Julia，而R不在对手之列（前些日子F君非常聪明地带人去MIT搞定了Julia开发者，将来Julia估计要以IPython notebook的形式在网络上现身了）。语言的问题评论起来没完没了，就仿佛比较中文和英文一样，难说谁一定强于谁，我的态度是随机应变而不随波逐流，这事儿就此打住。
1. 2012年一猛子扎到了[Github第15号码工](https://gist.github.com/paulmillr/2657075/a31455729440672467ada20ac10452d74a871e54)（现在已经降到31），我自己也觉得有些意外，毕竟分母是三百万。现在又有人弄出了Github之歌（JavaScript要征服世界么？连MIDI都可以用JS生成了），[我的Github之歌](http://song-of-github.herokuapp.com/?username=yihui)中间那一段十天左右的空隙，就是去波多黎各和处女群岛吃饭睡觉拖后腿（俗称“旅游”）了。
1. 我是天生宅，宁愿宅得发芽，也不愿出门，因为出门费脑筋，吃住行处处是不确定性，而我在安排这些事情上效率极低，查机票我可以查八个小时（作为对比，这个时间如果我专心写东西的话大概可以写一万五千字中文），研究去任何一个景点都可以研究到半夜两点眼皮都睁不开了还没确定或搞清楚去不去，脑子就是缺这根筋。可偏偏就是不爱出门的人总是在出门，前两天扳着指头数了数，我来美帝之后因为开会和报告的缘故去过这些地方：2009华盛顿JSM，2010马里兰R，2011迈阿密JSM，2011纽约Strata，2011新泽西ATT，2012休斯顿Interface，2012明尼苏达R，2012纽约R，2012田纳西R，2012圣地亚哥JSM，2012西雅图Visweek，2012巴尔的摩Johns Hopkins，2012罗德岛ICERM，2013波士顿SIAM，已经订下计划但还没去的还有2013奥兰多ENAR，2013印第安纳MBSW，能去但实在不想跑了的有旧金山和英国；因其它缘故去过的还有两个州；2010回国R会议，2013将要回国R会议。
1. 我是个很抠门的人，开会原则是不给报销的会议绝对不去。我觉得抠门不丢人，因为世上有很多会议经费反正不是浪费在你身上就是浪费在他身上，所以你不去骗自有人去骗。当然也不能纯骗，我的意思是拿出你能讲的货，能争取支持的尽量争取。上次R会议COS上有学生客官留言说能否给点差旅支持，其实我们一直都是非常努力争取资金去支持演讲的学生，这本是不太合常规的（一般不给报销路费），但我们觉得有意义，一直在做，能让我们眼前一亮的报告，我们当然愿意鼎力相助。
1. 说说这两年出门的收获和各种交叉联系。作为宅男，单一的目的通常不足以让我出一趟门，即使是从家里去学校也是如此；如果只有一门课要上，我就不想去，必须是要上一门课而且需要见一个人，至少双重任务才能让我出门。开会更是如此，因为花在路上的时间更多。2010年R会议我跟Frank Harrell在一张桌子上吃饭，我说我是你粉丝啊，过了两年我一个人来到田纳西开R会议，他说我是knitr粉丝啊。2008年结识鸟兄（张翔）于第一届北京R会议，2010年他跨过太平洋来美帝R会议再聚首。折腾《现代统计图形》结识周老师和卢编辑，2011年帮我牵线去了纽约Strata会议（在那儿整了个Kindle），我就坐火车顺便去拜访了ATT实验室（拜统计部门头头赐宿一晚），2012年夏天我又回到这个地方，实习。2012休斯顿，结识Norm Matloff，两个月后田纳西再相逢，从此认定我是个[滑稽程序员](http://permalink.gmane.org/gmane.emacs.ess.general/6337)。因为误打误撞弄出了knitr，引来JJ Allaire关注，几个月后他到Ames村带我明尼、纽约、田纳西一路报告；2012到西雅图和RStudio开发者之一Joe碰头聊Shiny；这次到波士顿，正好也是RStudio“总部”，看到了骨灰级程序员的专业装备（从未见过的键盘和鼠标不在话下，关键是还有护腕手套）。2012明尼苏达结识Dan Kaplan，从此也是各种会议上碰面。2012纽约结识Machine Learning for Hackers的作者之一Drew Conway。2012田纳西初识Pengcheng并承蒙照顾，请吃大餐加导游，几个月后圣地亚哥又相聚。2012西雅图之旅说是去开会，其实纯粹是打酱油，一场报告都没听，中间顺便溜去了一趟Fred Hutchinson，也是Bioconductor的巢穴，从此结识几位Bioc老大，而今年夏天的实习也就定在那儿了。圣地亚哥初见John Ramey，而在Hutchinson意外又相逢，要是他晚十秒去打咖啡，我就推门出去了。在Hutchinson遇到了西雅图R用户会议的组织者，没想到是我将要去拜见的Roger Peng的学生。Johns Hopkins的Simply Statistics博客在统计界已经小有名气，对三小帅教授我神交已久（很认同他们的一些非传统观点），没想到突然有一天收到他们邀请去访问一天，而此行大家都是鸡血状态，非常谈得来，我一天下来说话都说得头昏，到最后他们亮出底牌，想让我去做两年博士后，让我不胜惊喜，经过长时间的挣扎，十动然据了，我人生中第一份工作offer啊……今年他们再相邀去访问几周，可惜我这学期两门课的助教而且已经有三个会议在日程上，实在不好意思偷偷溜走，于是作罢（因此有了这个[后续招人通知](http://simplystatistics.org/2013/03/14/postdoctoral-fellow-position-in-reproducible-research/)）。这次在波士顿又见Roger，小哥的嗓音相当磁性，绝对适合做主持人或电台主播。访问Johns Hopkins听了各种稀奇古怪的奇闻逸事，包括Delaware的打南瓜比赛（Punkin Chunkin，有够无聊的，把南瓜当炮弹打，还有世界锦标赛），以及Jeff Leek通常要全熟的牛排（跟我一样）并且因此总是遭餐厅鄙视，关于Hopkins这个诡异的地方和诡异的人以后再专门写。至此我稀里糊涂跟可重复研究扯上了关系，于是后来布朗大学的可重复研究研讨会喊我去吃饭，接下来陡然冒出来三个跟可重复研究的会议（SIAM/ENAR/MBSW），一些生面孔渐渐熟了起来（在SIAM会议上，我远远看一个背影就知道是Victoria Stodden）。
1. 孟非是个聪明人，他非常不介意放低身段，他明白自己表现的势和别人眼中的势成反比，我比较喜欢这样的人（并非淡泊名利，但名利取之有道）。吹捧太多往往适得其反。乐嘉除了嗓子复原之后的那几天还像个人样，慈悲为怀，其它时间不免让人觉得太装腔作势故弄玄虚。黄菡是个善良的阿姨，也仅此而已。那些上来就拼命夸奖三位老师的男嘉宾，让我最搞不明白，有你们说的那么神吗。又及：为什么这年头娱乐圈的人都称“老师”了呢？
1. 我总想问主持人，歌手就歌手，什么叫歌者？我还想问主持人，究竟什么叫“用生命在唱歌”？
1. 那些好声音中，我只记得一个没入选的歌手，云杰，《鸿雁》，至少在我这儿，他是冠军。我仍旧不懂，唱歌这事情，如何评判高低。给歌手排名，只不过是为了赚取收视率而已。Beyond是一个经典时代，经典存在记忆中就好了，不明白黄贯中为什么要参加《我是歌手》，我觉得拿Beyond的那些经典去趟这（混？）水很不合适。说到Beyond，对我而言他们最好的一首歌是《再见理想》，那种心境，一去不可复返。
1. 烟花易冷，牛肉易断——煮牛肉有感。
1. 人们总是羡慕专注的人，可是专注一定意味着放弃，专注所有的事情就不叫专注了。放弃可以弃公或弃私，可惜平均看来我属于不靠谱的前者。不计其数的读者问《现代统计图形》什么时候出来，本小子在此统一回应一下：我非常需要苦力帮忙把初稿的内容移植到新排版中并且大量修剪参考文献和脚注，这基本上是复制粘贴的活儿，但也需要调整内容的能力，希望你非常熟悉(Xe)LaTeX和R，不反感LyX同时有代码洁癖，了解knitr……但处于这样的交集下的人往往已经没有时间干这种体力活了。这本书没能及时出来，也跟我这两年一直在更新工具有关，LyX里的大部分老bug都已经修正，Sweave也被knitr重写了。如果两年前就有这种万事俱备的环境，我可能很快就能搞定这本书。如今，我只能趁热先把[knitr书](http://www.crcpress.com/product/isbn/9781482203530)给写了，落下的工作一旦落下，捡起来会感到很大的惯性，还是那句话，优秀和不优秀都是一种习惯。
1. HN上发来一个故事，[信封里的20美元](http://justinjackson.ca/jason-fried-high-school/)。我不知道这个故事是否有文化差异，即是否适合中国国情。37signals的观点总是标新立异，我只能说统计毒害了我的思维方式：每当看到这种成功后之人谈成功，我都在想我们的控制变量和他们相同吗？严格按照统计的思维来说，就是“在其它变量取值不变的情况下，某变量变化会导致因变量变化多少”。如果这些“其它变量”里国籍是一个显著的自变量，那类似的故事听再多也没用。如果我说我愿意接受120人民币报酬回答你的问题，你愿意吗？也许少数人愿意，但我会因此成为百万富翁吗？我觉得不可能。
1. 一个小变化的大意义：在我无情无耻无理取闹的骚扰下，R从3.0.0版本开放vignette（下译为“小品文”）的编译引擎，Sweave独霸小品文的时代终于过去。为了达到这个目的，我琢磨了一下R核心成员，Sweave本来是Fritz写的，但近年来他基本上已经退居二线弄后勤工作去了，维护Sweave主要有两个人，Ripley大人和Duncan Murdoch。显然前者是不能轻易骚扰的，他2011年useR!会议上说了一句让我极度失望的话：“R的开发主要是为了核心团队成员的需要”。能理解，但不能接受。向他进谏估计会无效。2012年休斯顿见过Duncan，相对来说比较好说话一些，所以就直接私人联系之，一来二去他动心了，在一个月黑风高的夜晚，他向SVN库提交了第一版小品文引擎的修改工具。松了这次土之后，另一位用户Henrik进一步扩展了小品文引擎，使得用户可以自己注册小品文的文档类型。这件事情的意义在哪儿呢？Sweave的限制太强，我们要推广可重复性研究遇到的一个可笑的障碍是LaTeX，因为Sweave选择了LaTeX作为唯一合作伙伴。这件事我已经在好几个会议上讲过了（[例](https://slides.yihui.org/knitr-ENAR-Yihui-Xie-2013.html)），尽管我是LaTeX重度用户，但如果我来推广可重复性研究，我一定不会选择LaTeX作为入门工具，否则听众几乎一定会扭头就走。R Markdown这弱爆了的工具，却[赢得了](http://rpubs.com)众多学生的心，你根本不必提“可重复性研究”这样的字样，他会乖乖用knitr，为什么？因为这样写作业更方便。R包能用knitr作小品文编译引擎之后，也就意味着几乎所有人都有能力写小品文了。更深层的意义是，R包有着良好的设计结构，我们可以把一个R包看作一个项目，它有函数、帮助文档、数据、演示、小品文、单元测试等组成部分，试想对一个数据分析项目来说，我们还需要什么额外的组成部分？没有了。所以一篇论文完全可以是一个R包，编论文就是编小品文，`R CMD build`搞定所有事情，`R CMD check`检查包是否有问题。为什么科学研究者不能借鉴软件工程的范式？你的论文不应该是死结果，发出去就永远死在那份刊物的那一期的那几张纸上了。Duncan Temple Lang和Robert Gentleman好几年前就[提了这个想法](http://biostats.bepress.com/bioconductor/paper2/)，但可惜他们要往XML这条死路上走，XML的确很强大，但和LaTeX一样的命运，不能普及给大众。如果论文可以用R包的形式组织，其它后续论文可以构建在这些R包上，可以省去很多重复劳动（例如重用函数）。
1. 客官们可能会说，你小子就是一脑子软件。可是我认为软件和论文没有太大区别（除非你的论文是关于戴几个表的），我们总是强调论文的思想和技术，而瞧不起码工的工作，学术界的“代码歧视”真的很愚蠢，软件工程里很多有用的思想和工作方式迟迟得不到重视（如单元测试和版本控制），实在可惜。世上就是有那么多死都要用Word的人。
1. 去年11月我接受了一个[文字采访](http://yihui.xie.usesthis.com)，我也不知道是谁把我卖过去的，没想到这个网站还有一些华人读者，发出来之后很快就被发现了。最后我说希望每年有两个月的断网期能集中时间写作，说完之后没过多久我家的无线路由器坏了，陆陆续续断了一个月网，所以才写完了[这坨东西](http://www.crcpress.com/product/isbn/9781482203530)，到时候客官们注意我的致谢部分的第一段，现在先留个悬念在这儿。其实我也想像那位酷毙了的作者一样在扉页上写一句“献给我的老婆孩子，要是没有他们，我这本书两年前就应该写完了”，不过这不符合我的国情。
1. 其实对我来说最能激起写作热情的是排版（具体写的内容反倒排第二），尤其是字体，一些好看清爽的字体会让我有码字上瘾的感觉。我感觉中文排版里这不是件容易事，但英文就简单得多，因为英文字体太多了，所以那些用英文的书籍和幻灯片如果不用心琢磨一下字体实在该打屁股（例如用默认Times New Roman的人），我最不爽R-bloggers这个网站的一点就是太特么难看，还要加上几大块狗皮膏药广告，每当看见别人分享我的日志贴的是R-bloggers的链接我就有种想死的感觉，我精心挑选的版面被聚合到那边去了简直没法看，所以，要是你不贴我的原文链接的话，我会恨你。卢鸫翔编辑两年前（请人）帮《现代统计图形》设计了一个精美的排版，我用Tufte样式和XeLaTeX把它做了出来，然后我第一次感觉到原来LaTeX排中文也可以这么惊艳。泛滥的宋体真的不如那些专业字体。
1. 拖延症其实让我很苦恼，我有很多自认为有意义的事情找不到人帮我去做，确切地说是我没有积极地去找人，而同时又有一屁股不得不做的事情追赶着我，搞得我有时候也有些焦虑。
    - 想把animation包清理一下，因为它是我的第一个包，所以很多地方都写得很幼稚；前面我把[iBUGS](https://github.com/yihui/iBUGS)包交给了[彪哥](https://github.com/randel)，对此我感到非常满意；下一步我迫切希望有人能帮我把旧的[动画网站](http://animation.yihui.org)移植到[新框架](http://vis.supstat.com)下，要是你能把这件苦力活儿帮我干了，我几乎敢打包票你明年出国申请不愁offer，为什么我敢说这个大话？因为我就是因为这个网站来美帝的，而现在我有更好的想法，我不介意你有没有R和网站基础，这些东西我都可以教你，只是希望你勤奋好学一点
    - 想把COS主站的主题换了，或者转静态Jekyll系统；想把[论坛转型](https://cosx.org/cn/topic/109439)为StackOverflow系统；我觉得没有社交功能的网站终将被淘汰
    - [R忍者](https://github.com/yihui/r-ninja)显然是一个太大的想法，出版社三天两头来敲门，我多么期望有人能认领一些章节，其实这些技术书籍由初学者写给初学者可能反而更好，就我这四分五裂的注意力，何日才能让它成型
    - 我希望有精通各种语言沟通机制的人帮我扩展一下knitr的语言引擎，比如如何用R调用Java代码或者shell脚本，我要的效果是用R打开一个永久进程，让这些语言在这个进程中持续执行，例如前一段shell脚本中的变量在下一段代码中可见，仿佛所有代码段被作为一个整体执行一样；如果你够野心，可以考虑一下R怎么调用Julia，Duncan大人去年[说要写](http://www.omegahat.org/Rllvm/JSM2012/foil23.html)这么个东西，前些日子我问他，他还没动工
    - 想写一篇文章给[Significance](http://bit.ly/YzkgnU)，有很多可选的话题，反正主要是吐槽灌水，跟写博客没什么两样，例如估计直方图的最优带宽纯属浪费时间，先学线性模型还是先学广义线性模型，随机性的认知障碍（点估计应该被砍掉，世上所有的估计都应该是区间估计），测度论是否该是统计博士必修课，等等
    - 但是我还是得先把又臭又长的博士论文搞完，从代码中硬生生升华出科学意义，把该投的文章投了，取得永久性脑残学位（PhD），嗨，生活原本可以更美的
1. 蛇年白娘子应景露了个面，倒是让人挺怀旧的。当年的新白娘子传奇似乎都是在暑假里播的，于是伴随白娘子的记忆是外面烫脚的谷子，屋里带泥的花生。
---
title: 那些一见钟情与日久生情的人
date: '2013-05-19'
slug: love-at-first-sight
---

这标题有点那啥，其实只是五月回国一些杂感而已（本文初稿写于5月，发布于12月）。我把我喜欢的人分为两类，一种类似于一见钟情，一种类似于日久生情，时间所限没法写到每一个人，只能想到哪儿写到哪儿，不管怎么写，到最后跑题都是一定的。

第一种人初次见面就能感受到某种共同的激动，举几个例子：

今年3月在奥兰多的[ENAR](http://enar.org/meetings.cfm)上第一次见到[Karl Broman](http://www.biostat.wisc.edu/~kbroman/)，他是个很害羞的人，又有很多强烈的观点，而且名气也不是大得没边，我和这种人比较对得上眼。在太拉风的人面前我的手会像两只香蕉一样不知道往哪儿放，没奇异观点的人难以引起我的注意，名气大过天的人我又勾搭不上，而且我这两年渐渐对名气产生反感。Karl名校毕业（其导师名气真的大过天了），统计根基扎实，喜欢钻研各种边边角角新技术，什么D3啊D语言啊，R语言就不必说了。他感到非常得意的一件事就是他给D语言发过一个合并请求（Pull Request，简称PR），在遇到他之前，我根本不知道D语言是神马东西。我们开发cranvas包有两三年时间了（其实这两年都没什么动静了），他连这个都用过。虽然他本行是做生物统计的，但他对统计图形也很有兴趣，包括交互式图形。这和我的兴趣相合，于是请他用Google Hangout视频给我们做了一个[远程报告](http://www.biostat.wisc.edu/~kbroman/presentations/)，没想到他还紧张了一番，头一次见教授还有紧张的时候。Karl和我另一个相似的地方就是牢骚过剩，开完ENAR，我们一起[炮轰会议组织者](/en/2013/03/on-enar-or-statistical-meetings-in-general/)，包括为什么会议注册要强制性交钱去迪斯尼乐园玩（尽管可能是打过折了），除了看烟花，一路都在聊天也没干别的，最后在迪斯尼里他请了我晚饭，觉得学生太可怜了，其实后来我善良的老板都给报了，我也不用花钱（要花钱的会议鬼才会去）。Karl在学术研究上的好奇心也很强，晚饭他谈到一篇二三十年代的数学论文（我已经想不起来具体内容了），说从那里找到了灵感，在文献浩如烟海的今天还有人愿意并能够找到那么古老的文献去读，我估计这样的人不太多了。Karl认为[Matt](http://stephenslab.uchicago.edu/)是统计和人类基因学领域最聪明的人，没有之一。他有自己强烈欣赏的人，和我也相像。

这次回国第一次见[高涛](http://joegaotao.github.io)真人，哎呀别闹，我不是说高涛是道士的意思啦。太云通常叫他涛妹，一见到真人，果然端正标致，眉清目秀，和我高中时的一个好朋友长得很像，顿时好感翻倍。高涛干活非常踏实卖力，怡轩在今年的R会议之后[发了](http://yixuan.cos.name/cn/2013/05/6th-china-r-conference/)两张两届会议主席的催泪照（我盗链一下）：

![熊熹](https://db.yihui.org/imgur/iVR1phH.jpg)

![高涛](https://db.yihui.org/imgur/4Ce2bct.jpg)

历届会议主席都累成这样，真教人……当当当当……切……泪洒键盘呐啊啊啊……高涛一直做统计之都的总编辑，说得好听叫总编辑，说得不好听就是什么杂事要是找不到人干了就是他扛，个中辛酸谁人知。和前面说的Karl不一样，高涛和我的共同点没那么多（也许是还没发现），这里面主要是我比较欣赏和佩服他的坚持，当然这里面有很多太云的功劳（鸡血能量太大）。学术方面简言之呢，就是理论和代码兼顾，都能钻下去，听说前辈高人在哪里做报告就[两眼放光](http://joegaotao.github.io/cn/2013/07/PKU-summer-short-course/)跑去听，听完还要打听人家有没有写R包，我很喜欢看别人的文章里写着写着光芒四射仿佛一个白胡子老头在天上扑扇着翅膀召唤你的感觉，就像高涛提到Tukey的时候一样。类似地，我也喜欢听人做报告的时候报告者自己激动地从椅子上跳起来，告诉听众这个地方有多牛，这样的人也属于我一见钟情的，例子包括萌主[周扬](http://weibo.com/zhouyummy)和[Jeff Laake](https://github.com/jlaake)，萌主是说自己的东西牛（但真的是很牛，所以才有喜感和萌感），Jeff是说别人的东西牛（主要是韩美美模型，即隐马尔可夫模型HMM）。

第二种人是认识几年之后慢热型的，几个例子：

我结识[John Maindonald](http://maths-people.anu.edu.au/~johnm/)是2008年1月，缘于一封无聊的骚扰邮件：

![John Maindonald](https://db.yihui.org/imgur/JtwdYA5.png)

当时是想作为R新手一枚把CRAN上所有的册子读一遍，John的册子是列表里的第一篇，于是点开读，读完写了7点笔记发给他。后面的事情可能客官们都知道了，John老爷子回了一封热情洋溢的感谢信，顺便寄了一本他的书给我（现在大概还在人大明德主楼1037房间我的旧座那儿），08年底我申请出国请他写了推荐信，后来断断续续有些联系（包括JSS上的动画论文），但一直没见过真人。08年第一届R会议我试图用Skype连线请他报告没有成功，五年后我们请他到北京参加了第六届R会议，于是我见到了真人，他也是北京会场的第一个外国演讲者。我联系人都很松散，有些人尽管我很久不联系，但我并没有忘记，像这种五年始得一见对我来说其实也没太多激动，因为见与不见，交情都在那儿了。再过两年老爷子都奔八十了，到了这把年纪，难免会想驾鹤之事，回澳大利亚之后他给我写信希望能给他的新书“Statistically Informed Data Mining”找一个合作者，以便哪日归去之后能把这本书和R包维护下去，所谓人之将死，其言也善，看得我心里一丝悲凉。John的研究兴趣包括数据挖掘和统计计算，也比较符合我的胃口，当然我的级别和他差远了，打开R的帮助文档`?plot.lm`就可以看到他的名字。七老八十了还对knitr里的各种技术问题感兴趣，在北京见面时问了我一些，后来邮件又问了一些。见面之后我发现其实John也是一个有些害羞的人，同时观点比较奇特，和传统统计学家不一样。他的新书书名就能反映这一点，在数据挖掘前加了一个定语，强调统计的视角。

我看完了CRAN上的第一份册子，它也变成了我看完的最后一份册子，从此我再没往下看过CRAN上的任何材料。09年来了美帝，生活轨迹发生了变化，R变成了日常工具，无他，惟手熟耳。

老爷子和我颇有忘年交之意，而COS里的多数人年纪都比我小，都是我比较欣赏的人，其中可能以小轩哥为首（90后，这上哪儿说理去）。共同爱好R以及[时](https://github.com/yixuan/showtext)不[时](https://github.com/yixuan/sysfonts)捣[鼓](https://github.com/yixuan/R2SWF)一[些](https://github.com/yixuan/Layer)不靠[谱](https://github.com/yixuan/rarpack)的东西出来，这是一重重要的链接。文与字兼修，又是一重链接。交给小轩哥的事情就像交给涛妹一样靠谱，加上钻研精神以及[灵气](https://cosx.org/2010/04/kernel-density-estimation-with-unbounded-region/)，着实是不可多得的一枚人才，就是太谦虚谨慎了，做事要尽善尽美，明明跟我一样是巨蟹座，不知为啥仿佛有些处女座的性格。R会议上我也是第一次见[肖楠](http://weibo.com/road2stat)君，中南三杰之一，黑客君一枚，趁我出国了就冒泡出来了，这几年的R会议上我在他不在，他在我不在，玩躲猫猫。好歹这次总算撞上了，住在同一个酒店，但因为第二天一大早我要赶飞机，头天晚上没能聊尽兴（魔王何通也同在），希望有朝一夜能秉烛续谈。肖楠君比较对我胃口的是美感，诸如书法、字体和幻灯片之类的。其他人如太云之辈（流？）就不必提了，回头去看仿佛就是编排好的一场戏，某年某月某日某网络ID初识，某日任版主，某日初入人大见真人，某日再入人大面试，某日被录取，某日担起COS大任，某日毕业，某日出家。

COS论坛上偶尔会冒出一些吸引我注意的人，因为总是ID相见，所以经常对不上号，也记不住谁是谁，经常赞叹一番就忘了。这几年来，我提过主伟呈，踏实勤垦君一枚，院校出身不太好，但几年如一日持续发力，终会出人头地。另一枚不太为人知的人才是姜晓东，晓东君是当年破解我QQ号MD5码的人之一，但我一直没把他跟论坛上的ID连起来，导致有一天我看见一个帖子拍案大赞，写邮件求结交，结果晓东君回信说，“益辉君我们早就认识啊！”我当时都囧到桌子底下去了。他的院校出身一样不太好，但求知欲、好奇心以及动手能力都让人赞叹。

我前面主要都是在说情商方面，论纯学术的话，还是中科院的朋友们给我印象最深。我觉得中国高校里就两个地方的人比较纯朴，就是中科院和中科大，但科大的智商都太高，会让我觉得我的脑袋像一颗西瓜不知道往哪儿搁。中科院有很多自然科学方面的系所，植物所啊动物所海洋研究所什么的，我不知道我以前说过没有，在自然科学和社会科学中，我强烈偏好自然科学，主要是因为人心难测，相比之下老鼠心还是好测一些。其实还是我智商有限，自己行当里的东西扛不住，只能去看看别的行当里在用统计干啥，他们的统计问题相对来说会简单一点，我就是这么邪恶的一个人。最近一个[苏妹妹](https://cosx.org/cn/topic/142002)（SMM）的问题对我来说就是一个有趣的作业题，这些中科院的老大们口口声声说自己外行，其实他们知道的东西并不少，要是不用花时间杀兔子养细菌，没准儿这里面会出好多高水平的统计学家，也许他们该对着那群兔子说，“诸臣误朕也！”

诶？我怎么说到兔子那里去了？
---
title: 无线网络
date: '2013-05-30'
slug: wifi
---

近日接连跑了一些地方，无线网的连接历史记录把这些地方都记了下来：

![WIFI连接](https://db.yihui.org/imgur/T1jrJ1B.png)

Marconi是Fred Hutchinson（FHCRC）楼里的无线网络，Xie是自个儿家的网络，DEN是丹佛机场，Comfort是一家酒店，BSU是Ball State University，它在Muncie这个城市（印第安纳），SEATAC是西雅图机场的名称，Narita是东京成田机场，Aireport-Free-Wifi是北京首都机场的免费网络，RUC是中国人民吃不起饭大学。

这便是最近回国之后再回美国这些几天的行程。
---
title: 再论开源
date: '2013-11-27'
slug: open-source-again
---

几年前我写过一些关于开源的[想法](/cn/2010/08/sas-against-wpl-and-my-thoughts-on-open-source/)，如今再来看开源，我觉得问题已经不在说教上，而是在趋势上。倒退十年或更久，那时候程序员相对还比较稀缺，软件闭源开发出来之后别人模仿的成本高，而这些年计算机教育的普及让码农数量变得越来越多，更多人懂编程了，模仿的成本大幅下降。写软件作为谋生的目的已经在弱化，更多的是为了自己的实际需求，或社区名声：你不开源？好，那我操起键盘重写一个好了，你自己觉得凉快就永远在那里呆着吧，哥不等你了。

Sublime Text是一款据说有超级牛力的文本编辑器（不开源），可是它几个月不更新用户就受不了了，马上有人操起键盘[重写了一个](https://github.com/limetext/lime)，Github上点赞的一路飙升到5000多。程序员就是这样的动物，控制狂，啥事儿都想控制。如果他没有办法影响一款软件，逼急了他就拿键盘投票。这样会诞生优质开源软件，当然不可避免也会造成各路兵马混战，浪费人力。所以当今的程序主们必须转向合作的模式，没有谁能永垂不朽。Github合并请求（Pull requests）给这样的合作提供了方便的平台，让每个有能力、有意愿的用户都能揣着代码来投票，而不是传统的一个或少数几个开发者和一群用户在邮件群里战斗。

开源的含义已经不是开放源代码，而是开放态度。在这方面，有几位R核心团队成员的态度糟糕透顶，当年的R & R（Ross/Robert）开源的成功如今变成了另一个姓氏以R开头的日不落教授的霸权（就不用说是谁了，大家都知道），这让R陷入一个尴尬的境地。如谢梁大侠所预测的，R的竞争对手已经不是SAS，而是Python，我对此表示完全同意。如果R核心团队能有更开放的态度，也许还有希望和Python在统计领域一搏，毕竟有强大的先发优势，但如今我们只能面对Python神教的不断奚落去曲线救国，R本身我们动不了，只能从R包入手。

什么是开放态度呢？R核心团队多年不加新人了，近年加入的是Uwe Ligges，因为他维护CRAN的Windows编译很多年了，估计深得教授欢心（一样的倔强脾气），我不觉得他加入能有多大的实质性贡献。Radford Neal在百般无奈下自己开发了pqR，因为R核心团队要么不搭理他的建议，要么过很久才有一个人出来说话。像这样有计算机背景而且做贝叶斯的人（这样的人更注重计算速度）才是R核心团队最需要添加的人，而不是整天捣鼓出更多`R CMD check`的规则，把R包作者赶得鸡飞狗跳。

要论R团队中最具有开放态度的人，我认为是Douglas Bates，前些日子他[无情吐了CRAN一脸](http://comments.gmane.org/gmane.comp.lang.r.rcpp/6518)，然后华丽转身投入Julia阵营了。CRAN承认也好，不承认也好，它对用户的伤害是显而易见的。公平地讲，CRAN这帮人当然也有着不可否认的巨大的的历史贡献，所有人都该感激。教授经常抱怨有些用户不尊重他的劳动，我觉得这有什么好抱怨的呢，林子大了总是这样的，有些人确实很无礼，但有些人只是不懂规则而已，并不是有心冒犯，话说回来，谁让你制定那么多规矩呢，不是所有人都有闲心去读懂那长篇大论的CRAN政策的。很多规则本来都可以通过自动化的方式解决而不必写出来，CRAN非要坚持以古老的邮件加FTP方式维护，管理者和作者都累都烦，却又都没错，都没错的时候打仗是最激烈的，这就要了命了。有时候教授也在[玻璃房子里扔石头](https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15480)，修正R的bug的借用了别人的代码不致谢（好吧，有可能是看了别人的补丁然后自己闭眼重写出来的），还要顺便抹黑另一个R包，我不知道他为什么那么恨维克汉姆，我不是维大人的粉丝，但我觉得真没必要这么深仇大恨。

开放态度也包括使用开放的工具，包括版本控制工具和交流工具，而变化总是让人感到痛苦。指望R搬到[GIT世界](https://github.com/wch/r-source)可能希望不大，习惯SVN的人似乎总是与GIT势不两立（从此可以看出LyX团队的开放精神），其实GIT要是没有Github撑腰，可能也火不起来，好东西要火起来除了确实是好东西之外，还需要合适的介质，就如同LyX之于LaTeX，RStudio之于R，Markdown之于可重复研究——尽管后者是实质，前者是表象，用户天生就是外貌协会的，再好的东西只要不好看就没戏。再说交流工具，邮件列表是传统工具，我认为它应该退出历史舞台了，弊病太多，作为吐嘈达人，我又忍不住[吐了邮件列表一脸](http://article.gmane.org/gmane.comp.lang.r.general/303009)。

总而言之，我觉得开源世界的大致势头就是：老一辈倾向于系统控制狂，什么邮件系统版本控制系统bug报告系统，统统自己配置，但现在的系统越来越先进和复杂，想要控制整个系统需要花费越来越多的精力，这些杂碎的事情将耗尽主力队员的精力，而且越来越落后；新一辈摩拳擦掌，虽然经验不足，但解决局部区域的问题还是可以的，而且能有效利用更现代化的工具提高生产力和影响力。未来自由软件的竞争，将不仅是专业实力的竞争，更是综合素质的竞争。在你尽情鄙视社交网络和各种酷炫网站并坚守“一切皆纯文本文件”的时候，你也会被时代浪潮淹没。不公平？确实不公平，但事情就是这样。
---
title: 黄粱五载梦
date: '2014-01-01'
slug: five-years
---

[志强](http://zhiqiang.org)兄说大家的2013年年度总结其实就是“2013你不知道的我的那些牛逼”，有理。本小子这里的博客记录还显示是2012年，转眼2014已经来了，不是我没写，而是我经常写志强兄说的东西，其实也只是自己小得意一下而已，无意专门显摆给各位客官，后来发现这样不好（世界如此暴躁，我却如此曼妙，这样不好，不好），干脆先冷却一年，待人走茶凉，我再登场。跪求客官们扶稳坐好，不要烧香不要拜，只是些写着玩的小玩意，若有缘看看，看完一呵而过就好。

2013年11月份，我跟RStudio老板说，我得休三个星期假，好去写个毕业论文毕个业，老板准奏。于是我把三篇文章（animation/cranvas/knitr）集合起来毕了个业，多亏导师大人们和委员会慈悲为怀，知道我已无意搞学术，就放了我一马。答辩时导师大人显得很紧张，见我还有闲心在答辩前先吃批萨，说算你狠（到底是谁要答辩啊），死猪不怕开水烫啊。无论如何，总算解决了人生三大问题：你怎么还没毕业？（老爹无数次问）你怎么不更新博客了？（丈母娘无数次问）你的报告怎么讲得那么差？（领导无数次评）这三大问题我写在了论文的致谢里（致谢是作者唯一有权随意写的，所以也是最能暴露个性的地方）：

![论文致谢（一）](https://db.yihui.org/imgur/1fmkExQ.png#border)

![论文致谢（二）](https://db.yihui.org/imgur/MGe20J4.png#border)

闭关整理论文准备答辩之前，想想这读了四年半读到最后索然无味的博士历程，发了条微博：

> 黄粱五载梦，终究百川归大海  
> 沙场半月功，何以倚剑上重霄

怎么读最后都是要毕业，充实也好，虚空也罢。半个月准备抱佛脚，也准备不出什么好东西来，抓紧走走过场，罢了。2012年暑假看了一遍曾国藩（唐浩明），2013又看了两遍，不然马桶上干啥呢。第一遍看故事，第二遍看人情，第三遍看文学，最后发现还是文学方面好看一点，尤其是对联。关于曾文正公，第一遍看时我佩服，书生从戎，百折不挠，终成千秋大业，尤其是其中的儒家到道家的心路转换很有启发性；第二遍看就反过来了，觉得他功名心太重，黑白正邪不分，自私自利，不择手段，到头来其实是个悲剧人物，家庭方面怎一个惨字了得（女婿们一个个不争气，女儿们不是以泪洗面就是英年早逝，一个孙子被李鸿章的礼炮吓死，一个儿子穷困潦倒死了都快没钱下葬），再多的曾国藩家书又有何用，修身养性的同时屠杀平民无数，修身养性作甚？“忠、信、笃、敬”岂能用在侵略者身上？左宗棠给他的挽联写“知人之明，谋国之忠，自愧不如元辅；同心若金，攻错若石，相期无负平生”，我觉得只不过是对大限将至的文正公的一个安慰而已。抛开这些不谈，第三遍看文学时觉得他自称最差的文学其实是他最好的东西，尤其是对联写得雄浑大气，他的文学顿悟“含雄奇于淡远中”让我拍案。例如他给曾老九攻克金陵之后被遣散回家时的一联：

> 千秋邈矣独留我  
> 百战归来再读书

这一联就写得很有雄奇淡远的境界，千秋与我，百战与读书，宏大处起笔，细微处落笔。打个破坏意境的比方，这就像打羽毛球重杀之后再轻吊，是技术娴熟的体现。前面“黄粱五载梦”是我从左宗棠的一联中化来的：“积石导流归大海，崆峒倚剑上重霄”。左大帅的传记我也找了一本看了，也许是作者有意扬他，全书的形象塑造很正派，是否属实我也无从考证，但文学方面我还是很欣赏的。左帅的对联以雄浑为主，气势大多比曾国藩更高，这可能也与他的硬汉性格有关。

答辩前小轩哥[烧香](/cn/2008/05/pray-for-toefl/)保佑谢大通过答辩，答辩后我回一联：

> 轩虽小，亦奉香三柱  
> 谢非大，终逃此一劫

> ——答辩完：内存不足，平仄不齐；强迫病患，有些捉急。

显然，暑假里曾左的联语勾起了我对对联的兴趣。我觉得这种文学形式创作起来比诗词简单一些（当然，别玩真格的，玩真格就没得玩了），但表意也能达到诗词的效果，是中文独有的现象，尤其适合强迫症患者，绞尽脑汁把几个字对整齐。

目前对我来说，嵌数字的对联似乎好写一些，因为让数字成对很简单，一二三四，百千十万。有一日兴起呼哧回了一通邮件，写了两篇文章，于是化曾国藩的“千秋”联作了这么一联：

> 千秋邈矣，四时杀邮件五打  
> 百战归来，三更偿文债二篇

联中“打”字是一处伤，因为它是舶来语，dozen（十二）的音译，我数了数，大约消灭了六十封邮件，也就是五打，于是就用了这么一个中不中英不英的字。作为只是路过感兴趣的人，我当然也写不出什么好联来，所以只能见到好联记下，有机会化用一下，跟用引理推定理一样（引理通常是暴难证明的）。对联之事，改日再谈。

除开毕业之外，2013年的另一件大事就是入职RStudio了，其实在我这里一般都没什么大事，时候到了该干嘛就干嘛了。别人眼中的大事在我眼中也许是很小的事情，比如泰山大人对我不去参加毕业典礼表示不解，如此重大的人生大事怎么能不去参加呢？对我而言，毕业典礼不能让我感到兴奋或激动，我宁愿在家睡三个小时也不想在那里排队干坐三个小时，不就是毕业嘛，人生自古谁不毕业，留取相机照博士。去毕业典礼其实也就是将来“洛阳亲友如相问，就把照片给他看”，既然如此，我就借腾飞兄的袍子自己单独照了几张，最终也没去毕业典礼。还有一些从国内辛辛苦苦飞来专门参加儿女毕业典礼的父母们，我觉得真是可怜父母心。

回到找工作，我和JJ于2012年5月休斯顿初见，其实我对他的第一印象平平，没有太吸引我，反而是觉得伊话有些多。后来我慢慢发现了他的优点，他话多其实是他善于跟不同类型人打交道的表现，颇有海纳百川之象。他对用户界面的把握总是让人惊喜，懂得怎么把好东西包装成好产品，掌握的语言也一大堆，而且能实实在在做出干货来，不像有些人，什么语言都会，却整天只会打语言仗，C++如何如何，Java又如何如何。R这门不入计算机专业人士法眼的语言，被JJ和他的小伙伴们搞得风声水起，这不只是技术问题，同时也有心胸和视角的问题。10月的时候Mac系统搞出Mavericks版本导致Qt出了大问题，苹果下的RStudio几乎没法用了，他和小伙伴们两个星期就把前端用苹果的Cocoa重写了一遍，速度简直惊人，在那之前也有用户以恶毒的语言谩骂（怎么笨到这种大问题都没有及时发现并修正），他并没有在意。

于是统计出身的我就入了码农行当（问JJ你招人吗？招！那我去了？好），从2002年本科开始，我花了11年时间在这个专业上，毕业后却没做人们认为“相关”的职业，算不算浪费了十年时间呢，当然不算。我觉得学一行干一行往往会迷失在一行里，学一行干另一行反而可以看两行的东西。统计的东西，只要不是上考场推公式，我想我大概还能应付一些，尽管学得不是太扎实，一直在旁门左道晃荡着。镜头再拉远一些，为什么要一直挂在一行上呢？只要自个儿过得舒心，干啥不行呢。学术有学术的兴奋点，工业有工业的价值，码农也有码农的欢乐。曾经写“男人三十未封侯”的[江堂](http://li-and-jiang.com/blog/)，如今乐悠悠主持着一虎一龙谈，义无返顾把封侯拜相存档在了30岁前。

答辩前数了一下，五年间，一共34场有记录的会议或讨论组报告（32英2中），话痨唐僧本性；开会和游玩加起来，我[到过](https://mapsengine.google.com/map/viewer?mid=z_O19zMrDpM0.kwXA6bVsh7No)美帝17个州（外加波多黎各和维京群岛）25个城市（落地转机的除外），平均每年大约6次出远门，比我想象的要多。

本着“别人干什么我就不干什么反之亦然”的精神，2013年似乎大家的博客都在[渐渐沉默](http://yixuan.cos.name/cn/2013/11/about-blog/)，连Larry Wasserman大人都[罢笔](http://normaldeviate.wordpress.com/2013/12/16/the-end/)了，那希望我在2014年能减弱博客长草过快的趋势，尽量跟上落园园主的节奏（妄想）。2013照常欠债一堆，剪不断，还不完，理不清，辜负了很多前辈的提携和同辈的期望，让我一度觉得很沮丧，2014是否会好一些，我也不知，至少希望把图形和忍者两本书搞出来（你还好意思提），长远看我是希望能搞点统计理论和计算结合的作品，不过这种正经作品相对来说很耗时间，不知何年能有这份闲暇和兴致。人事代谢成古今，江山胜迹复登临。
---
title: 娇客
date: '2014-01-03'
slug: joke
---

娇客者，Joke也。笑话的效果通常是通过最后急转弯发力达到的，让人措手不及的感觉。文化差异能让这个急转弯转得更急一些，所以同样的笑话在不同国家民族之间的效果可能也很不一样，有时候外国人的笑话更好玩，大概也就是这个原因。

作为笑点一向奇怪的人，这些[日式笑话](http://www.newsmth.net/bbscon.php?bid=63&id=3255042)我觉得就挺好笑的，尤其是这些：机长先生、扰邻、钱包、在我小时候、暖人心房、意料之外、土豆炖肉、停车场、面试、饯别、饭团、沒有血缘关系、亲戚全体、英语。不知道为什么看这些笑话我总想起波波头一头同学。“家庭餐馆”那个我没看懂，懂日语的能解释一下吗？

下面这幅图的日式配音是“小心！水里有漂白剂！”

![小心！水里有漂白剂](https://db.yihui.org/imgur/qO3iBWn.jpg)

---

怡轩讲了个跟文化差异有关的笑话：转身遇到TA？遇到助教吗？

浙江卫视有个节目叫《转身遇到TA》；在年轻一代的中文文化中，TA的本意是他/她的拼音，不确定性别，有朦胧之意，而多数在美帝的学生看到TA的第一反应可能是“助教”（Teaching Assistant），于是一个高端洋气的爱情节目在我们眼中顿时就变成了在美帝苦逼的写作业问问题节目。

---

丽云[妙语](http://www.loyhome.com/?p=3250)“学而不思则罔，学而不用则die”，实乃我见过的中英混合最佳范例，此前有林师兄[妙语](https://cosx.org/2013/05/6th-china-r-beijing-summary/)“学R不思则罔，思R不学则殆”，也是高手。

![学R不思则罔，思R不学则殆](https://db.yihui.org/imgur/r90UfmJ.png)
---
title: 文学化编程
date: '2014-01-03'
slug: literate-programming
---

Gelman大人[说](http://andrewgelman.com/2013/11/29/the-gradual-transition-to-replicable-science/)有人问他要一篇文章的R代码，他感到很窘，因为代码写得一团糟。于是他也在琢磨“可重复的科学”，底下Bob Carpenter评论提到代码注释问题，链接到他自己的一篇[旧博客](http://lingpipe-blog.com/2009/10/15/the-futility-of-commenting-code/)，里面谈到文学化编程：

> [...] Knuth wants programs to look more like natural language, which is a Very Bad Idea. For one, Knuth has a terrible track record, bringing us TeX, which is a great typesetting language, but impossible to read, and a three-volume set of great algorithms written in some of the most impenetrable, quirky pseudocode you're ever likely to see.

此话深得我心，是我一贯的想法，也是我第一次见人这么直白评论TeX。不明白为什么要创造以反斜杠为特征的“语言”，放眼望去齐刷刷的反斜杠，不知从哪儿开始，在哪儿结束。话说回来，我也不确定什么样的语言才是可读的标记语言，这个想想还是很有难度的。HTML凑合能接受，XML就过头了，Markdown以前说过很多次，不再评论。

文学化编程本来是为了编程和写文档两个目的而生的，想法看起来很好，但其实这两件事情都没有很方便地完成。编程通常就是代码加注释，大家都熟悉这个套路，没有人在代码之间长篇大论写文档来解释这里的代码在干什么；文档通常也是相对独立于代码的。嵌入了代码的文档或嵌入了文档的代码对于一般读者来说都不易读，所以总而言之，文学化编程本来是一个坏主意。何况最原始的文学化编程是TeX和Pascal两种语言的结合，更难有人采纳。

然而Knuth大人可能做梦也没想到，这个编程范式无意间却影响了可重复的科学研究。它不适合写代码，但适合写数据分析报告，数据分析比纯写代码有趣，因为结果经常是图文并茂，但数据分析的过程往往是一团糟，这里就是文学化编程的想法能发力的地方，代码嵌入文档中的目的不是为了单纯的编译，而是为了出结果（图表等）。代码和文档结合之后，也便于动态控制输出结果，这一点在[忍者篇](https://github.com/yihui/r-ninja)里已经罗嗦够了。原始的文学化编程的R实现，不是Sweave/knitr，而是roxygen2。

其实Knuth大人是很狡猾的，文学化编程（Literate Programming）这个名字出招见血——可能我翻译不准确，我也不知道该怎么翻译，literate是聪明的/受教育的意思，要是不用这个编程范式，意思就是你的智商堪忧（文盲？）……
---
title: 计算机语言与人类语言
date: '2014-01-04'
slug: comp-human-lang
---

蟒蛇社区雄赳赳气昂昂跨进统计学领域，有人呐喊[一统江湖](http://badhessian.org/2013/11/python-and-pydata-conferences-are-important-for-the-future-of-social-science-research/)，有人拼命[抹黑R语言](http://readwrite.com/2013/11/25/python-displacing-r-as-the-programming-language-for-data-science)（R语言不是语言），我不想讨论战争问题，这里只是谈谈关于计算机语言与人类语言的一些想法。

一门计算机语言容易被人诟病的地方通常是不符合“最小惊讶原则”，或者缺乏一致性。PHP就经常被人黑得没鼻子没脸，例如它的字符串函数名一会儿有下划线，一会儿没有，让人记不清到底有没有。尽管如此，PHP仍然是[最流行](http://langpop.com)的几种语言之一。

如果真的能只有一种语言一统江湖的话，那定是极好的，大家会少去大量的沟通成本，可是这样的事情在计算机世界和人类世界都没有发生。在这两个世界，都是各种语言割据使用者，有时候一种语言甚至还有派生的方言。为什么会有这样的现象？我不知道答案。

如果人类世界有一种语言终将一统江湖，我估计可能会是英语，但这种演进可能需要千万年的时间，尽管现阶段我们能觉察一些趋势。比如年轻一代人喜欢在嘴边挂着英文词汇，越来越多国人涌向英语国家，农村的方言在消逝，等等。作为人类语言，英语有没有最小惊讶的问题呢？想一想这个问题的话，就会发现“最小惊讶”在一定程度上只是一个主观判断，路人甲惊讶的东西路人乙可能觉得本来就该如此。一些例子：

英语中的“你”（You）没有专门的复数形式，即没有专门的“你们”这个词，确切地说是单数复数是同一个词，这让我感到很痛苦，因为当别人说You的时候，你不知道是指一个人还是指一群人。为了修补这个漏洞，美国人只好说You guys，而英国人似乎觉得美国人的这种说法很好笑。

复数本身对中文来说就是一个新概念，中文里一个苹果两个苹果都是用“苹果”这个词而不会说“苹果们”，英文里描述多于一个的（可数的）东西就得用复数形式，这在很多情况下何尝不是冗余表达？既然有数词在前面，后面的词何必再变化形式呢？变化就变化吧，还非得对某些名词作不规则的变化，apple变作apples，potato就得变作potatoes，photo却是photos，person要变成people，要是所有的复数统统都是加上s结尾不行吗？形容词的比较级和最高级、动词的过去时和过去分词都是一样的故事，总是充斥着不规则。高中时我出于叛逆心理经常和同学讲一个不好笑的笑话：good, gooder, goodest。

可数和不可数名词也是一个问题，一个名词是否可数并不取决于它是否真的可以数，例如“水”是一个连续的形态，所以不可数可以理解，但为什么“鱼”不可数呢？为什么不能说one fish, two fishes，明明就是一条一条明确可分的。

中文里的“他”和“她”的发音一样，所以我们口语中用人称代词不会仔细想指代的人的性别，到了英文的世界就很容易犯一个错误，也就是口语中经常he/she不分，说着说着就忘了需要先想清楚性别再发音，不然she is my husband / he is my wife之类的话说出来也挺吓人的。

英文里经常把结果放在条件的前面讲，也就是“什么什么，如果什么什么”，这也是一种奇怪的思维方式，从推理或推导的过程来说，应该是先有条件，再有结果。先讲结果的话，听完这半句则不知该作什么反应，很容易反应过早。

从人类语言的角度来说，没有什么最小惊讶，只有最大熟悉问题。英语这种全是漏洞和不规则性的语言都能流行，上哪儿说理去呢。

<iframe src="https://embed.ted.com/talks/lang/en/suzanne_talhouk_don_t_kill_your_language.html" width="560" height="315" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
---
title: 情深深雨濛濛
date: '2014-01-06'
slug: romance-in-rain
---

龚自珍《夜坐》其二：

> 沉沉心事北南东，一睨人材海内空。壮岁始参周史席，髫年惜堕晋贤风。  
> 功高拜将成仙外，才尽回肠荡气中。万一禅关砉然破，美人如玉剑如虹。

原来情深深雨濛濛在这里取了两句话，放狗一搜，似乎（十几年前？）大家都在骂琼瑶阿姨，我认为拼凑几句倒也无妨，没必要那么认真，写词作文谁不拼凑。

关于龚自珍，以前只是初中从历史书上知道他的“不拘一格降人才”，一直别无所知，直到前两年才知道我放在[首页](/)上的“千古声名，百年担负”那首词，最后我觉得比较顺意的是这首《湘月》：

> 壬申夏，泛舟西湖，述怀有赋，时予别杭州盖十年矣！

> 天风吹我，堕湖山一角，果然清丽。曾是东华生小客，回首苍茫无际。屠狗功名，雕龙文卷，岂是平生意？！乡亲苏小，定应笑我非计。  
> 才见一抹斜阳，半堤香草，顿惹清愁起。罗袜音尘何处觅，渺渺予怀孤寄。怨去吹箫，狂来说剑，两样销魂味。两般春梦，橹声荡入云水。

因为把他的作品大致浏览了一遍，才意识到一个[隐蔽的错别字](https://github.com/yihui/yihui.github.com/commit/1fd9072c)。
---
title: 听歌系列之翻唱
date: '2014-01-10'
slug: same-song
---

听[虾米](http://www.xiami.com)很能颠覆三观，发现很多熟悉的歌曲都是翻唱来的。最奇葩的可能是欢乐的《蚂蚁牙黑》吧（郭美美和[原版](http://www.xiami.com/song/1769076719)在蚂蚁的牙的问题上是一致的）：

> 蚂蚁牙黑，蚂蚁牙红，蚂蚁牙黄，蚂蚁呀哈哈……

多数情况下我不太喜欢翻唱，也并不一定是翻唱唱得不好，而是原唱先入为主了。不过有些翻唱也挺好，例如王菲的《暗涌》，黄耀明翻唱；Fool's Garden《柠檬树》，苏慧伦翻唱。如今的《中国好声音》和《我是歌手》也大量翻唱老歌，就没有一首我中意的翻唱，我对这些节目中的翻唱有着无比的反感，哦，不对，是我对这些节目本身就很反感。就唱歌而言，我非常不喜欢华丽的场面和装扮、夸张的动作和感情（包括台下观众莫名其妙的激动）、凡唱歌必扯嗓子飙高音（[除却巫山不是云](http://youtu.be/Z2s_n9Gz3_Y)）、以及字幕制作人从来不标明歌手是男是女（当然如果你反着猜会更容易猜中）。

有一天听到一首日语歌，中岛美雪的《幸せ》，十分熟悉的调调，竟然是任贤齐的《伤心太平洋》，从此一发不可收拾地发现好多港台歌手翻唱了无数的日语歌曲，例如钟镇涛《让一切随风》和伍佰《爱你一万年》都来自沢田研二《時の過ぎゆくままに》，范玮琪《最初的梦想》来自中岛美雪《銀の龍の背に乗って》，等等，怪不得有人说中岛阿姨拯救了90年代华语乐坛。现在感觉那些大红大紫的歌曲要是不是来自日本都不能相信了。
---
title: 主观与频率学派
date: '2014-01-16'
slug: subjective-frequentist
---

Gelman大人对别人把贝叶斯描述成“分析主观信念的学科”[感到不高兴](http://andrewgelman.com/2014/01/16/22571/)，我比较同意他的看法——频率学派同样充斥着主观选择，你是用泊松还是负二项分布，用AIC还是LASSO选变量，用这个模型还是那个模型，等等，谁说没有主观判断在里面呢，所以“主观”不能成为贝叶斯受攻击的点，这样做是在玻璃屋子里扔石头。
---
title: 机场扫描
date: '2014-02-01'
slug: tsa-screener
---

一位TSA的前雇员[供述](http://www.politico.com/magazine/story/2014/01/tsa-screener-confession-102912_full.html)了一些机场安检的内幕，揭开了美帝政府部门的虚伪面纱。所谓机场安检，只不过是个摆设，扫描机器的漏洞在于它的图片用的是黑色背景，上面显示人的轮廓，如果枪支绑在腰上，可能扫到图片上就藏到黑色背景里去了。TSA看扫描图片的工作人员在小黑屋里讨论的也许不是安全相关的东西，而是某某的尺寸多大之类的。

我觉得机场安检浪费了大量的人力财力以及旅客的时间，这么多付出还没换来安全，真是不值当。镜头再拉远一些，为什么需要安检呢？换句话说，敌人是谁？是怎么来的？或者仇恨从何而来？根源问题如果不解决，即使解决了扫描仪的问题，我也不觉得能解决安全问题。
---
title: 繁文缛节
date: '2014-02-12'
slug: red-tape
---

JJ大人的邮件中经常用一些我闻所未闻的词，让我感觉很有代沟，例如今天他用了一个词组叫red tape，红胶带，让我摸不着头脑，放狗一搜，发现还有[维基百科条目](http://en.wikipedia.org/wiki/Red_tape)。翻译成中文就是繁文缛节，感觉档次一下子就上去了。

又想起[SVB](http://www.public.iastate.edu/~vardeman/)老爷子以前给我们上数理统计课的时候老是讲一个奇怪的“64块钱的问题”（64-dollar question），不查[维基](http://en.wikipedia.org/wiki/The_$64,000_Question)还真不知道到底是啥问题，尽管从他讲的上下文大概也能猜出来是指比较难、比较关键的问题，这个代沟感就更明显了。
---
title: 中华字经
date: '2014-02-12'
slug: zhong-hua-zi-jing
---

微信上一位朋友转发了一篇《中华字经》，看起来很神奇：

> “只学一篇韵文便识天下汉字”这句话说的似乎大了，但事实的确如此。郑州大学郭保华教授用三年多的时间将4000汉字著成一篇韵文《中华字经》全文共一千句，用字4000无一字相重，涵盖了百科又韵语成章，高难度的写作换来了识字教材的全方位突破，小学6年的识字量，二个半月就可完成。

放狗搜了一下，找了一篇[全文](http://xh.5156edu.com/page/z4631m9119j18708.html)。显然这一定程度上是在模仿[《千字文》](http://www.china.com.cn/aboutchina/txt/2008-11/24/content_16815668.htm)，比如千字文开头说“天地玄黄，宇宙洪荒”，他就说“乾坤有序，宇宙无疆”，千字文说“寒来暑往，秋收冬藏”，他就说“春生夏长，秋收冬藏”。古色古香的文字中间时不时会有奇怪的东西混进来，比如“瓜果蔬菜，葱蒜韭姜，茴椒芹葵，皮芥辣酱”，虽然感觉有点掉价，但本着文字们的字权平等精神以及小朋友们识字的考虑，瓜果蔬菜就瓜果蔬菜吧。再往后读，冒出来一句“惨遭牺牲，素裹席卷，坟棺尸闹，魂魄寝眠”，呃，这个，这个好像会吓着小朋友吧……什么叫“惨遭牺牲”，牺牲还能“遭”？似乎有点不通；马革草席裹尸可以，可用“素裹”来形容是不是有点不合适，以后小朋友长大成妙龄女郎万一某天穿一身白衣进入白衣飘飘的年代，难免让人想起这衣服里面裹的是……

凑四千字是一件辛苦活儿，人家凑千字文凑了大半辈子，要用三年时间赶超前辈的话，难免在中间弄些凑数的东西，比如：

> 虱蚤蛆蛔，茅厕臭便，钾钠钙铝，锌钢锡铅。  
> 镍锑锗钨，铬钡铂钒，硼汞硅硫，苯氰锰碳。  
> 氯氢氦氟，烯烃炔烷，砒砷硒矽，酚酞酮醛。

只差把元素周期表搬进来了。再往后我们还可以看见百家姓，好嘛，又凑足了上百字。不为无益之事，何以遣有涯之生？这事儿的文字意义就不多说了，这不是我的强项，说多了容易露馅儿。作为理科生，我的第一反应其实不是这些，而是“用字4000无一字相重”，这句话立马勾起了我的兴趣，于是乎，手指未动，代码先行。

```r
con = 'http://pastebin.com/raw.php?i=ZaQiHU1m'
x = readLines(con, warn = FALSE, encoding = 'UTF-8')
close(con)
# 去掉注音，在奇数行
x = x[seq(2, length(x), 2)]
# 去掉空格
x = gsub('\\s+', '', x)
# 去掉标点
x = gsub('，|。', '', x)
# 数数一共多少字
sum(nchar(x))
```

实际上正文的字数是3984，客官们不用扳指头数了，缺16个字，这16个字是什么呢？答案很简单，它们是“第一部分”、“第二部分”、“第三部分”、“第四部分”。看，悟空你又调皮了，元素周期表和百家姓凑进来就算了，这“第几部分”四个字也要算进来，叫为师说什么好呢。

最后到底是不是3984个字都不重复呢？答案是否定的，有28个字重复了，它们是（鼓声响起，有请）：

```r
# 拆分成单字，作频数表
y = table(unlist(strsplit(x, '')))
# 哪些字的频数大于1
names(y[y > 1])
#  [1] "乐" "享" "传" "勇" "哥" "圈" "塞" "已" "弟" "弹" "日" "朝" "朴"
# [14] "核" "漫" "灸" "率" "畜" "糜" "腋" "膀" "藏" "行" "解" "调" "长"
# [27] "阿" "陆"
```

字经的宣传语又称：

> 《中华字经》是一种超级识字教材，以四字一句、分门别类、字不重用、韵语连篇的方法编撰而成。全文收录汉字4000个，涵盖了国家教育部、国家语委联合颁布的常用汉字和HSK考试大纲规定的四级汉字。集识字、组词、习韵、正音、学知于一体，可使普通儿童学习4-6个月掌握一生常用的全部汉字，并经教育部语言文字研究所实验基地、多家幼儿园所验证，经公证处公证，5岁儿童4个月学完《中华字经》，巩固率为74.6%，即2984个字，提高现有识字速度的15-20倍。

其实这跟背GRE单词有什么区别呢？短时间强行背些莫名其妙的东西，长时间又很难用上，对小朋友们真的好吗？不知道这个“巩固率”怎么定义。作为[裸考GRE](/cn/2008/10/i-hate-gre/)的人，我从来觉得硬背大量的东西很浪费时间，我推崇的是按概率去背，也就是自然选择——跟你有关的词总会高频率出现，你自然会记住。专家们就别拿小朋友下手了，该撒丫子玩的就让撒丫子玩去，大人们总是觉得在做对小朋友好的事情，其实谁知道是好事还是坏事呢。

类似这种听起来牛掰哄哄的东西网上到处都是，大概是“你认真就输了”，大家都是转而不语，今儿个是字经益智，明儿个是[秋裤误国](http://www.guokr.com/post/81755/)，后天是[泰戈尔](http://www.douban.com/group/topic/1252656/)（世界上最远的距离 不是 生与死的距离 而是张小娴的小说和泰戈尔的诗篇），无休无止。
---
title: 冷笑话三则
date: '2014-02-23'
slug: three-cold-jokes
---

一个妹子打电话给我说她家没人，让我过去。我去了。她家真的一个人都没有哎。（这个很有日式笑话风范）

> "A girl phoned me the other day and said "Come on over, there's nobody home." I went over. Nobody was home." -- Rodney Dangerfield

下面这个没法翻译。fork是个多义词。

> "When you come to a fork in the road, take it." -- Yogi Berra

我老家方言把“鞋子”叫“孩子”，高中时我一个同学给我讲了一个冷笑话，可以当作是上面的并行版：

> 一位大妈坐在江边对着江水痛哭“我的孩子啊！……”一位热心小哥看见赶紧冲过来问完“你孩子在哪儿？”就跳进江里了，过了十分钟，小哥很沮丧地爬上岸跟大妈说“非常抱歉，你的孩子我没捞起来，找了半天只捞到他的一只鞋子”。

这位同学表达了对管理国家的担忧：一个有246种奶酪的国家怎么管理得过来？！（这是英美讽刺范儿）

> "How can you govern a country which has 246 varieties of cheese?" -- Charles De Gaulle

三个冷笑话说完了，再外加一个热的，献给广大博士僧（我自己答辩时斗胆引用了这个）：

> The average Ph.D. thesis is nothing but a transference of bones from one graveyard to another. -- J. Frank Dobie, "A Texan in England", 1945
---
title: 报税
date: '2014-04-17'
slug: tax-return
---

在美帝年复一年总是有一件非常烦人的事情，就是报税，其实政府有我们的收入数据，报税这事情本来可以电子化和自动化，但每年我们都要汇总各种表格，回忆到底上次是几月几号回国，几月几号入境，各种乱七八糟的信息一项一项填啊算啊，最终弄出几份稅表（国税/州税/市税）打印出来贴上邮票寄给IRS，IRS再安排人检查这些纸表，邮寄支票或往银行账户直接汇款。

这就是在先进的美帝每年要发生在每个人头上的刀耕火种式的报税，TechCrunch上的[一篇文章](http://techcrunch.com/2013/03/27/turbotax-maker-funnels-millions-to-lobby-against-easier-tax-returns/)、还有纽约时报的[一篇文章](https://www.nytimes.com/2015/04/16/technology/personaltech/turbotax-or-irs-as-tax-preparer-intuit-has-a-favorite.html)都揭露了为什么这种愚蠢而落后的报税方式无法改进：因为像TurboTax这些专业报税公司每年花大价钱游说政府不要让报税变得简单，否则他们就没生意了。归根到底，这就是人为制造出来的麻烦，为了这个公司能挣钱，全体美帝人民都被迫浪费大量的时间精力在报税上。

美帝少有载人的长途火车，据说也是因为汽车巨头一直抵制客运列车的发展，所以大家出门要么开车，要么飞。开车吧，路上什么都不能干，把好方向盘，自己小命要紧；飞吧，来回机场以及[在机场安检](/cn/2014/02/tsa-screener/)也要浪费时间，还有各种不能带上飞机的东西。诸侯混战，百姓遭殃，这是不分国别的。
---
title: 相关关系不等于因果关系
date: '2014-04-25'
slug: correlation-causation
---

我们都知道相关关系不能代表因果关系，这条狗虽然不懂这一点，但不懂有不懂的好处：反正主人一起身我就要去散步，管你什么相关关系因果关系。

![](https://db.yihui.org/imgur/uiCx9nX.png)
---
title: 两个字符千行泪
date: '2014-04-25'
slug: two-characters-endless-tears
---

再说一个例子，看看有时候有些R核心成员是多么顽固。昨天我给R-devel[报告了](https://stat.ethz.ch/pipermail/r-devel/2014-April/068880.html)`compareVersion()`函数里面的一个正则表达式问题，本来是一个非常明显的错误并且很容易修正，那位大人却非要诘问“这错误有什么关系”。确实地球不会爆炸，但错误就是错误，几秒钟就能搞定的事情，非得颠来倒去跟你较劲，有意思吗。最后另一位大人看不过去，操起键盘[给修正了](https://github.com/wch/r-source/commit/741b622a8d)。

事后一位瑞典兄弟给我写邮件把这件事总结为“论丹麦之高效”：

> 两个多余字符，动用了五名博士，六封邮件，几千次键盘敲击，跨四个时区两大洲。最终，丹麦人出来解决了问题！

又及：感觉核心团队里有人的正则表达式功夫并不太好，搞不清楚方括号里的字符到底要不要用反斜杠转义，这已经不是第一例了。
---
title: 我去睡一会儿
date: '2014-06-05'
slug: more-sleep
---

开完了第7届[中国R语言会议](http://china-r.org)，听众们各回各家各找各妈了，但组织者们还不能闲下来，还有各种收尾工作，清理账目啊写会议纪要啊，偏偏这时候又有一大波期末考试正在接近，于是我们的同学们就惨了。例如巨子大人（霍志骥）玩命写完了纪要初稿，呈给[主公](http://taiyun.cos.name)，邮件标题是“会议纪要--中文版--我去睡一会儿”。好呀么一个“我去睡一会儿”。

这次会议有一大批志愿者帮忙，有些志愿者每天大清早从很远的地方赶过来，有些志（Wang）愿（Meng）者（Jue）在会场附近自掏腰包住酒店，小菇凉脾气还特倔：“俺就是要帮忙俺就是不要你的钱俺就是不要你的钱！”把要给钱的师兄晾那儿都晾干了，穷尽办法愣是没把酒店钱付回去。此事传来，能镇住1800人的会议委员会都觉得镇不住这一个人。

关于此事，后人有联为证：

> 如论堂上，虽千万人吾往矣  
> 明德楼下，然百十文伊辞之
---
title: 江阔云低断雁叫西风
date: '2014-06-08'
slug: on-writing
---

洒家要是生在古代，大约会名益辉，字码农，号茅坑居士。只有带薪大便的时间才是我翻书的时候，前一阵子突然看到彭玉麟（曾国藩手下我最喜欢的一位将领）一联：

> 凭栏看云影波光，最好是红蓼花疏、白苹秋老；  
> 把酒对琼楼玉宇，莫孤负天心月到、水面风来。 

“水面风来”这四个字一下子让我有穿脑的感觉。作为农村娃，这种水面风来的情景实在太多了，于是会自动脑补小时候的大小池塘沟渠、钓鱼摸虾、采莲捞菱。虽说翻书时是端坐茅房，也顿感一股清新之气。在写这篇日志的时候，随手放狗搜了一下，发现这个是有来历的：

> 清夜吟

> 邵雍（宋）

> 月到天心处，风来水面时。  
> 一般清意味，料得少人知。

哎呀妈呀，虽然不知道这邵雍是何许人，但深有共鸣，这小诗写到了我心里。文字能达到这样的效果，就是作者成功了。COS微信群里昨日扯到高考语文作文题，什么“行走在消逝中”，这种混帐题目究竟是何等无脑的人才能命出来。写文章我还是倾向于写实，写到读者自动脑补场景，或被带入思辨。玄而又玄的东西，可以留给宗教，不适合语文。高中时我的语文经常在及格线附近挣扎，作文一般就是三四十分的水平，文言文读不懂，白话文无法理解中心思想，可能是我的情商发育比常人晚吧（上大学时同班所有人都叫好的马克思主义政治经济学课唯独我完全不懂老师到底在说什么）。

回到标题，断雁叫西风。这首词是太云在谈COS管理的引用的（客官们大约震惊了，谈组织管理怎么会引这个，但这就是咱主公的风格），我读到“江阔云低断雁叫西风”时又涌起那种穿脑的感觉，这是何等逼真的描写。

> 虞美人·听雨

> 蒋捷（南宋）

> 少年听雨歌楼上，红烛昏罗帐。壮年听雨客舟中，江阔云低断雁叫西风。  
> 而今听雨僧庐下，鬓已星星也。悲欢离合总无情，一任阶前点滴到天明。

我觉得高考要是有人作文能写出像这样的56个字就该给满分了，因为它完美展现了语文的意义。

我说的语文并非局限于古文，古文只是一种表达形式，和白话文、英文都一样，当然，古文有一个无法替代的优势就是可以很整齐，这种形式上独有的美感很难用别的文字形式体现，例如用英文写一首七律试试？北京大学数学学科创建百年时，我见他们的校友们写了一封古色古香的贺信，施老大转给我以为我会喜欢，但其实并不是这样，我主要还是看内容的，如果内容空泛，即使形式别致，对我而言也没能发挥文字的力量（我这样公开讲会不会被揍……）。举个例子吧，前些日子看见左辰撒马转载了知乎上一则[外星人吃粉条](http://www.zhihu.com/question/23761217/answer/25583143)的回答，我觉得就写得超级好，这就是纯凭大白话描述取胜，不需要借助形式。

文字的另一个表达介质是歌词。要是从我听的歌来推断我的年龄的话，可能会高估我二十岁，因为我听的大多数歌都非常老（土）。比如毛阿敏《篱笆墙的影子》的歌词就很合我心意，因为星星月亮篱笆墙、油灯狂狗豆角秧就是小时候的生活写照：

> 麻油灯呵还吱吱地响， 点的还是那么丁点亮。  
> ……  
> 只有那篱笆墙影子还那么长，  
> 在那墙上边爬满了爬满了豆角秧。

上面是写实的；有些虚写的歌词我觉得也不错，尤其是形式整齐的时候，比如张真《携手游人间》：

> 谁说两地缱绻 最是扰人心田  
> 谁说人海浮沉 难有恒久情缘  
> 不管分分合合 也许聚聚散散  
> 只求平平安安 携手同游人间

<!-- 谨以这段歌词献给现阶段的楠神，感情之事宜从长计议，看好你们哟 -->

再说说英文的写作。几年前一次我读到一则关于写作的建议，但忘记了出处，只记得大概意思。后来系里有人转发了“[大数据的八个（不，是九个）问题](http://www.nytimes.com/2014/04/07/opinion/eight-no-nine-problems-with-big-data.html)”，我在嘲讽这篇文章的同时搭车问了问系里有没有人知道那则建议的作者，终于有好心的同学帮我回忆起了作者和来源：

> In writing. Don't use adjectives which merely tell us how you want us to feel about the thing you are describing. I mean, instead of telling us a thing was "terrible," describe it so that we'll be terrified. Don't say it was "delightful"; make us say "delightful" when we've read the description. You see, all those words (horrifying, wonderful, hideous, exquisite) are only like saying to your readers, "Please will you do my job for me."

> ---  C.S. Lewis, Letter to Joan Lancaster, 26 June 1956

我觉得这是对真正意义上的写作最好的建议：不要说某天你乐嗨就完事了，而是把让你乐嗨的事情写出来，让读者自动跟着你乐嗨；你要是光说“啊，我乐嗨了”，意思就是对读者说“请你一定要乐嗨哟”。这条建议读起来容易，做起来难。我们写论文，总忍不住给自己的货上加几个正面形容词，什么"A Novel Method/Approach"啊"A Flexible Framework"啊，某种程度上这是心虚的表现，就像拿掉了形容词之后自己的方法/模型就会变得生冷无力了一样。

最后说说中英混杂的事情，也是我唠叨了无数遍的事情。现在的国人出于某些原因总喜欢把一些不必要的英文碎片混入中文，也许是真的在国外呆久了有些词不会说了，也许是对自己的文化缺乏信心，总之好像每句话离了英文单词就不像话了一样。我们来看看英文写作的圣经“[The Elements of Style](http://www.stat.ufl.edu/~presnell/Various/Strunk-and-White/etes_htm.htm)”怎么说，Strunk大人在第五章第20节说道：

> The writer will occasionally find it convenient or necessary to borrow from other languages. Some writers, however, from sheer exuberance or a desire to show off, sprinkle their work liberally with foreign expressions, with no regard for the reader's comfort. It is a bad habit. Write in English.

这本圣经写于大约一个世纪前，里面很多规则/建议闻起来有发霉的味道，很刻板，没有人情味，不许作者拐弯抹角，但总体来说我还是比较认同它的。我说中英混杂的时候有个限定语，是“不必要的”中英混杂，也就是说有时候可以容忍一些英文词汇混进来，但那些常见的生活用语要是变成英文混入写作或者对话我就会在心里暗暗抓狂（请客官们自行脑补[妮妮的妈妈打兔子](http://baike.baidu.com/view/1269134.htm)的场景），例如

- “这微波炉[不work](/cn/2010/09/brackets-and-chinese/)”
- “[就](http://1.guzili.sinaapp.com/?p=234)连当前最最火的深度学习，99%的人也只是看到它work，为什么work，能不能更work都没有详细的理论分析”
- “你公司pay你多少钱”
- “他虽然只读了个master，但工资是PhD level的”
- “我在local开车的时候撞了一头鹿”
- “下面我们请Doctor魏打分”
- “你住的是apartment还是house”
- “你毕业了是想做faculty还是进industry”
- “这周还有几篇paper没读呢”
- “你的manager是谁啊”
- “把你的slide发给我一份啊”
- 还有一系列[外企黑话示例](http://www.newsmth.net/bbscon.php?bid=63&id=3388228)
- ……

这种杂交语言具有极强的传染性，一群人聊天只要有一个人开了这样的腔，周围的人很容易就被带进去，因为每个人都需要归属感。若是同样的内容放在和自己不懂英语的国内家属的对话中，我相信这些混杂是不太可能会发生的。你会说“哎呀爸爸呀我们系的微波炉坏掉了”、“妈妈呀公司给那谁发的工资是多少钱”、“爷爷呀我的老板是谁谁”。无奈杂交语言俨然已经成了一种新文化，既然有了一定的通用性，那洒家也只好认了。料想未名空间和北美华人这些论坛对这种新文化的贡献是不可磨灭的，我还没太被带沟里去，是因为我几乎不看这些论坛。嗨，鸟语自鸟语，明月照沟渠。

其实我本意不是要写这些文字上的东西的，而是想说现在的世界虚拟化，似乎让新生代越来越远离自然。作为喂猪放牛赶鸭子长大的本小子，看到这些自然气息浓厚的文字能引起强烈共鸣，若干年后，捧着iPad打着愤怒的小鸟长大的娃娃们，看到“江阔云低断雁叫西风”又会作何感想呢？
---
title: 角度
date: '2014-06-24'
slug: perspective
---

刘禹锡诗文的独特视角是我喜欢他的主要原因，他愣是能从别人眼中的阴霾看到阳光，你可以说他是自欺欺人、阿Q精神，也可以说是乐观主义。不管怎么说，他的视角很合乐观派的我的胃口，当然你也可以说我傻或浅薄，不识真正人间艰辛（事实也是如此）。去年读左宗棠大人的传记，其夫人（才女一枚）有一次为了鼓励在外心情低迷的左大人，引用了刘禹锡的这首诗，让夫君大大振作：

> 自古逢秋悲寂寥， 我言秋日胜春朝。  
> 晴空一鹤排云上， 便引诗情到碧霄。

关于左大人，以前提过一丁点他的联语，详情以后再议。当时在那个场景设定下读到这首诗，给我触动很大。今年上半年，天才[阿杜](http://legendu.net)博士及其博士夫人都找到了工作，俗话说好事多磨，新婚燕尔，却无奈异地，最终一天小两口一步三回头依依惜别，杜夫人微信上感叹“十字路口，一个向左，一个向右”，诗意盎然，就是有点太悲情了，于是我想起前面刘禹锡的秋词，心想如果换个角度来写会是怎样。洗澡的工夫，打了个草稿：

> 蛟龙入海丽人别，自古李杜多诗言。  
> 君奔左兮妾赴右，谁言亦非同向前。

阿杜名中带“龙”字，夫人带“丽”字，李氏，俩姓碰巧成了李杜；阿杜去的是海滨之州，喜作歪诗，这便是头一句的来历。后一句便是受刘禹锡的启发，尽管从绝对方向的角度是一个向左一个向右，可是就个人的相对方向来说，都是在向前行啊。涉世或始今日，齐家却在生平。我在博客里议论别人的家事似乎不妥，不过我之所以敢写，是因为充分相信这对欢喜冤家。

既然开了这壶，索性咱再说一对好了，被人两次拍死还不如一次一块儿来拍死我。这次说一下旁观者的角度。遥想当年腾飞兄和女王还在村里的时候，一次我们一起去某个公园玩，本悟空在前面带路，放着大路不走，偏在一条沟边走，女王跳过那条沟的时候踩水里了，顿时火大，可怜兮兮又好心肠又老实巴交的腾飞兄就像李光洙一样缩着肩低着头挨训。彼时二人还没对外正式挂牌，所以大家也不敢随便乱猜，有一次在郝博士和汪博士家里吃包子，两位博士主人（假装？）开玩笑，“哎呀你们俩干脆在一起算啦！”然后呢，就有然后了。

过了一年，腾飞博士和女王博士都毕业闪人了，四人变两人，故地重游，我想起一年前的事情，脑子里上来一句“去年今日此门中”，于是以这个开头，边游公园边打了个打油诗草稿：

> 去年今日此渠中，女王湿鞋怒冲冲。  
> 流水无情人有意，枝头晒袜腾飞兄。

腾飞兄拎着女王的湿袜子，给她挂树上晾干。流水虽无情，却成就了一对眷侣的小心思。之所以敢写他们，也是因为我相信他们不会让我这首打油诗变得尴尬，不过以女王的刀子嘴，我恐怕要先行告退去躲两天了。

说到旁观者，白居易有两首小诗很有意思。其一：

> 山僧对棋坐，局上竹阴清。  
> 映竹无人见，时闻下子声。

其二：

> 小娃撑小艇，偷采白莲回。  
> 不解藏踪迹，浮萍一道开。

其实我也并不是专门去读诗才看到这两首的，而是在虾米上看一个专辑的介绍时有人提到了这第二首诗，我才顺便去找了第一首。第一首有一种镜头切换感：第一句就像是作者站在山僧旁边看下棋，因为连棋盘上得竹影都能看见；第二句则换到了竹林外，只能听见时不时的下子声，而两个山僧被竹子挡住了。第二首以大人的角度看小孩子的调皮，偷偷划船采了白莲却不知道水里的浮萍暴露了自己的行踪。甚是有趣，甚是有趣。

---
title: 叫你不开源
date: '2014-06-29'
slug: macdown
---

我觉得Mou编辑器的作者还是没理解这个码农时代的[趋势](/cn/2013/11/open-source-again/)，他不想维护自己的作品了，最好的出路不是[以50万卖掉](http://www.v2ex.com/t/113734)，而是开源。正所谓，开彼源兮，斯流永继。在国外卖尚有一丝希望，在国内就别提了，我觉得不可能有人愿意以50万买这么个软件。

这不，开源的[MacDown](http://macdown.uranusjr.com)一夜之间就冒出来取代它了。再聪明再厉害的码农，单枪匹马也敌不过这个时代不计其数的码农分母啊。靠软件致富，不是说不可以，很多人也实现了财富梦，但这绝对不是一个技术问题。
---
title: useR! 2014
date: '2014-07-06'
slug: user-2014
---

每一次参加大型会议我都要想想如何做一次不一样的报告，useR!会议是每年的重头戏，这次在洛杉矶UCLA，也是R的重镇，JSS杂志的诞生地。到报告的前一天晚上我吃饱了饭才开始琢磨第二天上午的报告该怎样讲，因为斗胆提交了一个看起来很酷的题目“Knitr Ninja”（忍者神织），内容和形式上都不能太掉价。琢磨了一下，决定用卡卡西作为忍者代表，至于“神织”嘛，想起一个短片《错误的裤子》，里面那只叫Grommit的狗经常在打毛线，于是用它的形像好了。

Knitr:

![knitr](https://raw.githubusercontent.com/yihui/knitr-talks/master/useR2014/images/grommit.jpg)

Ninja:

![ninja](https://raw.githubusercontent.com/yihui/knitr-talks/master/useR2014/images/KakashiLightningBlade.jpg)

这么一来，萌萌哒和酷酷哒搭配在一起，无厘头效果就出来了。两张片子、两幅图、两个单词的台词。

跟上次在田纳西useR!会议的演讲一样，这次依然没有幻灯片，[只有代码](https://github.com/yihui/knitr-talks/tree/master/useR2014)，谁说报告就一定得做幻灯片的。RStudio一开，把第一张片子的代码选中，等待主持人报幕，然后就是Ctrl + 回车，运行，开讲。Knitr和Ninja都是五个字母，强迫症患立刻心里舒畅无比。可惜投影的分辨率和我的电脑分辨率不一样，本来我是在自己电脑上调好了字号，让文字能充满RStudio右侧区域的，放到投影上就变小了，这一点略不爽。

![](https://db.yihui.org/imgur/JkLXISV.jpg)

![](https://db.yihui.org/imgur/ZJ7tVmK.jpg)

显然，Grommit不够帅气，下面观众没有给它拍照的，等卡卡西出场，有年轻观众立马意识到火影来了，于是后来我在Twitter上收集到两张影分身雷切的照片。

![](https://db.yihui.org/imgur/VzrEYWJ.jpg)

![](https://db.yihui.org/imgur/MDniaEw.jpg)

报告的基线就是“好像有什么奇怪的东西混了进来”，讲一些不太为人知的功能和应用，比如从Shiny应用向WordPress发布基于R Markdown的博客。放片子的代码里也用了一些R（黑）魔法，以便更切合忍者主题。当然，最后大家可能什么也没记住，只记住了我的`sword()`函数，因为我每讲完一张片子，就放一个剑鸣的音效。其实我做片子的大部分时间都花在了找音效文件上。

这次在会议间隙接受了生平第一次[视频采访](http://datascience.la/yihui-xie-the-user-2014-interview/)，虽然事后看觉得有些问题没回答好，不过也算大致满意了，没有出现NG导演喊咔，两只手也没像香蕉一样不知往哪儿放，可能是我太集中精力思考问题了。后来看了Romain小子的采访，显然NG无数次，这小子虽然是在法国演相声的，但还是很害羞的一只相声演员。他的采访里提到他的女儿一件趣事，就是她去看他表演的时候发现台下所有人都在哈哈大笑，于是同情心泛滥的小女儿以为爹地在台上说错话了，愣是要上台安慰爹地，搞得爹地也手足无措，不知该如何向她解释。我和Romain有点臭味相投，一方面都是比较激进的程序猿，痛恨那些过时好些年但为了维护后向兼容不得不继续使用的老标准和老软件，另一方面也喜欢琢磨台上的喜剧效果。在考虑明年丹麦useR!会议的时候，有人提议我们一起准备个相声，问，约吗？要不是我讨厌长途旅行，我就约了。

另一件我记忆比较深刻的事情是这次会议去了一个盲人R用户，Jonathan Godfrey，这小哥先去听了我的三小时knitr教程，我很好奇他是怎么看投影的。他自己的电脑上有屏幕阅读软件，所以他可以用耳机配合鼠标键盘操作。他在JSS上有一篇针对[盲人用户使用统计软件的文章](http://www.jstatsoft.org/v58/s01)，这放以前我是不能想象看不见屏幕怎么写代码的，不过他敲起命令来很熟练了。我以前也没考虑过`<img>`标签里的`alt`属性对盲人的重要性，因为盲人无法读位图，所以图片的文本标注就是唯一能读的内容。

又及：可能是文化差异的原因（西方文化里的鬼不一样），环球影城的鬼屋真的很吓人。当年看贞子从电视机里爬出来都没觉得害怕，这次在鬼屋是的的确确确确实实实实在在把本小子给吓到了，不作死就不会死，没事干嘛要进鬼屋……
---
title: 统计学的七大支柱
date: '2014-09-21'
slug: seven-pillars
---

JSM上统计界的老帮主Stephen Stigler做了一个主题演讲，讲[“统计学的七大支柱”](http://blogs.sas.com/content/iml/2014/08/05/stiglers-seven-pillars-of-statistical-wisdom/)，好心又认真的Rick Wicklin同学记了笔记，彼时估计还在中国城吃饭的我才得以了解SS大人到底讲了什么。回头看看笔记，我觉得SS大人有点吹嘘统计学之嫌。所谓支柱，就是没了它咱就垮了。七大支柱为：

1. 汇总：我们从数据汇总中获得知识。本小子认为汇总是统计的经典用途，但汇总（描述统计）只是统计学的一方面，另一个同样重要也相对更靠谱一些的方面是预测。我从来都是扬预测而抑汇总的，因为统计学生来就带有不靠谱的本性，汇总搞错了无从查证，预测错了一定程度上我们还是知道错了多远的。
2. 边际效应递减：随着数据量增大，信息量并不是线性增加，而是到了一定程度之后可能就没太多新的信息了。SS大人用n（样本量）的平方根来形容这个递减，我觉得太牵强了，例如样本均值的标准误里有个n的平方根，但这跟信息有毛线关系呢？
3. 似然/概率：概率论当然是统计学的支柱，当然也要取决于我们怎么定义统计学，但说概率是数理统计的基础肯定不会有人不同意。有人说统计是“研究不确定性的科学”，我现在最烦的就是“科学”二字，人人都把自己的工作升级为科学，尼玛什么是科学？我认为数学/数理统计可以是学科，但不是科学。要称自己的做的是科学，先问问那些养兔子和大肠杆菌的苦逼博士们再想想自己做的算不算科学。说自己研究的是一门学科又没什么丢人的，这年头神马“数据科学”，以及孟老师讽刺的“数学科学学院”（一个名字里三个重复的字，直接叫“数学系”丢人吗？），都是一些没有底气的人才想出来的名词。我敬佩老老实实做实验的自然科学工作者，不是说用纸笔推公式的工作者做的是无意义的事情或者不苦逼，而是说没事不要在这些称谓上较劲，安分守己一点比较好。
4. 横向比较：例如比较两样本均值的差异。SS大人讲别的学科是与“金标准”进行比较，而我们是在数据内部比较，如方差分析ANOVA和t检验。我没太明白这算什么支柱，而且统计里面也不是没有和“金标准”比较的情形啊。
5. 回归和多元分析：身高的回归是经典例子了，这确实是一个有趣的发现，但现实中回归被用来做什么了呢？我感觉回归的主要作用是被铺天盖地的论文拿来当炮灰（你看，俺的方法比回归好），或者在外专业里面当万精油（你看，俺跑了个回归，系数显著耶）。与其说某种方法是支柱，不如说方法和领域知识的结合是支柱。没有具体的领域知识，跑个系数显著的回归只是盲人摸象。
6. 试验设计：这个当然也很重要，我觉得这是七大支柱里唯一可以称为支柱的一个，因为它可以脱离领域知识而有效。没有比较就没有鉴别，大家都知道要比较，但怎么比是个关键问题。例如前些日子火爆的汉字听写大赛就违反了“随机”、“重复”、“对照”等试验设计基本原则，在缺乏概率指导下的竞赛，难免有些不公平。
7. 模型和残差：这个有点局限于回归套路了，不是所有模型都涉及残差项的。若不检查残差的分布，统计学会不会垮掉？我认为未必。即使残差仍然有明显的特征，模型也未必完全不合适，这要看你想要获取模型中哪部分的信息。

以本小子这点微薄功底去议论老前辈的演讲，可能会让同行笑话，而且作为做过若干报告的本小子，也深知50分钟演讲往往容易让听众产生各种误解。不能以貌取人，同样也不能以某个演讲取人。在台上讲话和在台下聊天的区别还是很大的，台上未必能说出所有你计划说的话，而即使是说出来的话，也未必是你真的想表达的意思。我的信息渠道已经是二手资料了，所以很可能对SS老爷子有所不公平，但刨去这么一个老前辈名号，仅就RW同学的笔记来说，本小子的看法就是酱了。
---
title: 两个铁球同时落地
date: '2014-11-08'
slug: hammer-feather
---

记得小学时有一篇课文叫《两个铁球同时落地》，前几天在HN上看见有好事者在世上最大的真空室中[重复了这个实验](http://thekidshouldseethis.com/post/the-hammer-feather-drop-in-the-worlds-biggest-vacuum-chamber)。精彩吗？好像有那么点。然后呢，没有然后了。

![](https://db.yihui.org/imgur/zAsMpl6.gif)

这个实验即使不做我们也都知道结果，铁球和羽毛会同时落地，换句话说，它没有产生任何知识增量。作为小气鬼的我，看到这个实验第一反应是抽空这个房间要花多少钱，我估计应该不是三五块钱能搞定的事情。我承认每个人对一件事物价值的评估可能都不一样，这场实验对我来说价值为零，铁球和羽毛从十米高的真空管道落下也好，从两万米的真空房间落下也好，对我来说都一样，所以我对这个用世上最大的真空室做这么一个无聊的实验感到忿忿。我觉得快乐大本营的啊啊啊啊科学实验站比这强多了，起码大多数时候它至少用科学带来了意想不到的娱乐效果（有时候我也觉得他们蛮浪费化学原料的）。

当然，如果对每一件没有知识增量的事情都愤愤不平，那我也太极端了。这里只是就事论事，那一帮做实验的人惊诧的表情在我眼中真的很二。欧，真是二极了。
---
title: 笑话三则
date: '2014-11-27'
slug: joke
---

一如既往看[水木](http://www.newsmth.net/bbscon.php?bid=63&id=3379416)。

其一：

> 在我跌入人生最低谷的时候，我妈对我说：“孩子，就算所有人都放弃你，你自己也决不能放弃，知道了吗？”

> 我感动地回答：“知道了。”

> 然后我妈转头对我爸说：“他知道了，咱走吧。”

其二：

> 小明狠狠的说道：“对方辩友，你倒是说话啊，无言以对了吧！”

> 主持人：“把手松开！憋死他不算！”

其三：

> 爸爸妈妈带着宝宝玩。玩着玩着，宝宝突然看向爸爸。妈妈问，怎么了呀宝宝？宝宝说，我想亲爸爸了。爸爸一愣，看向妈妈说，卧槽！我不是亲爸爸啊！

其四（我轻易不喜欢感叹号，但这里的感叹号用得很有赶脚）：

> 很久以前！有一个剑客！他来到了一个饭馆！进门喊道：小二，把你们这最好的酒菜给我上来！要不爷要了你狗命！于是小二就把店里最好的韭菜端了上来！小二卒！

[学车系列](http://www.newsmth.net/bbscon.php?bid=63&id=3381342)，其一：

> 开车的时侯，一个上坡，等红绿灯，绿灯来了一直不敢走，这时交警来了问我说，咋了，没你喜欢的色儿啊？

其二：

> 教练：看到前面那个人没，开过去，撞死他！我：啊，我，我，我不敢……教练：你不敢？你还不敢？你他妈不敢你还不赶紧松油门？

其三：

> “加油！”  
“我会的！”  
“加油！”  
“谢谢教练！”  
“我tm的让你踩油门！”

还有[空姐播音系列](http://www.newsmth.net/bbscon.php?bid=63&id=3390220)，以及[买盐](http://www.newsmth.net/bbscon.php?bid=63&id=3389650)：

> 今天去小卖部买盐，问：盐多少钱一包？ 答曰：2元。老板拿了一包给我，我看了看盐，说：上面不是写了建议零售价1.5元吗？ 老板认真的说：我不接受他的建议。
---
title: 1967年的波士顿马拉松
date: '2014-11-29'
slug: inequality-in-us
---

![](https://db.yihui.org/imgur/z0Hnjz8.jpg)

图中的女选手名为Kathrine Switzer，她参加了1967年的波士顿马拉松，从此扬名，因为她是第一名参加这项活动的女性。图中显示的是她被人试图驱逐出跑步队伍，因为当时社会偏见是不让女性参加马拉松（[相关视频](http://youtu.be/fOGXvBAmTsY)）。嗯，这就是几十年前的美国，一个自由民主平等的国家，女性参加马拉松都要被人赶出去。

为啥说起这个呢？去同学家吃了顿饭，席间家长们谈起小孩对中国的印象，某家的孩子给中国的总结就一个字：臭。所谓童言无忌，这个完全可以理解，而且小孩说的也是实情：老家路边垃圾满地，污水四溢，屋里老鼠横行，确实很臭。我小时候家里也是老鼠成灾，耗子药药死的老鼠经常就是在床底下好些天直到发臭，我现在都还能隐约回忆起死老鼠的臭味。屋顶上堆的柴火里都是老鼠窝，睡觉时听它们在上面爬来爬去。现在这些都没了，老房子拆了盖新房，本来老鼠也少了，即使还有也没地方藏了。

我不太能接受的是有些成年人对中国的态度（不是说这顿饭饭桌上的人，我还没这个胆），尤其是到了美国就拼命讲中国哪里哪里不好，仿佛自己从一个劣等民族里逃到了一个山清水秀的理想国一样。每个国家都有一个进步的过程，都有它黑暗的过去。美国不是从未曾有过污染，也不是没有歧视，或没有政党斗争。在中国办事有繁文缛节，在美国同样有。就拿我前些天去宾州大学做R培训来说，事后的差旅报销让我很是狂躁，尼玛就几百块钱，劳资要准备九份文档，前后花了三个多小时，有这三个小时，劳资都可以再准备一场培训了。相比之下，我们公司（RStudio）就简单多了，准备报销通常只需要十来分钟，把收据用手机拍照上传就完事。官僚主义可能是林子大了之后的必然产物。

一个出生在中国的人，没挨过冻受过饿，平安念完小学初中高中大学，没回报过这一路曾帮助你的人半分，来美国就不必整天嘴里叨叨中国怎样怎样不如美国，安心贪恋美国的好就够了。贪恋安逸或财富都不是什么错，每个人都有权享受，但别那样急不可耐把自己的出生地踩在脚底下还吐两口唾沫。
---
title: 恶搞饼图
date: '2014-12-01'
slug: pie-chart
---

饼图作为一种统计图形，其娱乐效果常常比它的数据展示效果要好。这不，恶搞无极限系列：

- 吃了和没吃的饼

    ![吃了和没吃的饼](https://db.yihui.org/imgur/DciL3IL.png)

- 像吃豆人和不像吃豆人的部分（这图顺时针旋转90度就更好了）

    [![像吃豆人和不像吃豆人](https://db.yihui.org/imgur/XiA41OE.png)](http://docs.ggplot2.org/current/coord_polar.html)

- 饼图中的金字塔（真是瞎了我的狗眼）

    ![饼图中的金字塔](https://db.yihui.org/imgur/iVttUsr.png)

- 加州旅馆版的饼图

    ![加州旅馆版的饼图](https://i.imgflip.com/1v67zp.png)
---
title: 翻书
date: '2014-12-01'
slug: the-gadfly
---

马桶居士这一年没看什么正经书，主要翻了几本外国小说，外加罗胖鼓吹的《战天京》，说实话我不太明白罗胖为何要这么卖力为它打广告，因为这本书我看完觉得没什么出彩之处，死板板的纪实果然还是不拼不过半虚半实的演绎（与唐浩明对比）。

大约一直到大三之前，我都是对书店很着魔的。之后逐渐淡化了逛书店的兴趣，主要是因为电脑这玩意儿的侵袭（网上可阅读的东西太多了），即使逛书店，也是看有没有有趣的VB书。高中时周末就在学校书店溜达，偶尔也去县城的新华书店和别的书店，当时一心读圣贤书，所谓圣贤书就是教科书以及所谓的名著。自己买了一本《钢铁是怎样炼成的》，就因为课本上那段保尔在墓前的沉思，“为人类的解放事业奋斗终生”。时隔十三年后，我在想当年为啥会读这样的书，于是又看了一遍。现在的心态当然与高二的愣头小子大不一样了。如果让如今的我来给保尔作选择，我会倾向于选择让他跟冬尼娅在一起，而不要那样苦行僧似的拼到最后疾病缠身双目失明。并非我觉得他的精神不可贵，而是我觉得他太拼了，不计成本。解放全人类和实现自己的幸福，二者可以权衡，但不必完全舍弃后者。自家的幸福，也是对全人类幸福的贡献。什么是信仰，什么是执念？

文字上来说，全书的情节我基本上已经忘光了，很奇特的是有一段我记忆犹新，就是保尔的靴子烂在泥里，光脚回到厨房，厨娘冲他喊怎么光着脚丫子跑厨房里来了，然后给他另找了一双鞋。我也不知道为什么记住了这一段，可能是全书的场景大多都很冷，饥寒交迫，而这一段终于感觉暖和了几分钟。

---

《牛虻》是我高二从学校图书室借来看的小说，如今翻出来也是想看看当年在想什么。那时候一周只能借一次书，只开放40分钟，需要自己在卡片上检索然后写纸条，让图书管理员进去取。记得有一次我一开门就冲进去借了一本，速速看完然后赶在关门之后再冲进去还了再借一本留在下一周开门之前看，管理员甚为不悦。在初中高中我渴望看书的时候，没有足够的资源；如今有了足够的资源，时间和记忆力都大大缩水。就像《我想去桂林》这首歌中唱的一样，有时间的时候没有钱（去旅游），有钱的时候没时间（去旅游）。

《钢铁》中提到了《牛虻》，保尔和亚瑟也有些相像，但某种程度上我觉得亚瑟比保尔幸福，尽管他最后被枪决了。亚瑟隐忍一生，最后时刻从精神上击溃了在上帝和儿子之前选择上帝的神甫（也是他的生父），在死后告知琼玛他的身份：

> 不管我活着，  
还是我死去。  
我都是一只牛虻，  
快乐地飞来飞去！

这是一个交织着复仇和革命的故事，主人公牺牲了，但整个故事在精神成功了，冤屈得以伸张，感情得以表白。除了亚瑟的死，于人情物理，基本上没留下什么遗憾。同样是复仇，我觉得《基督山伯爵》就太罗嗦了，而且大落之后的大起显得太假，除了前四分之一（到找到基督岛之前）还比较吸引人之外，后面的复仇过程冗长地我都看不下去。整本《基督山》的最大亮点也许在于那位疯神甫：要找出是谁害了你，只需要看谁从中获益。复仇部分如同穿上了黄金圣衣，小宇宙超级强大，想怎么打怎么打，毫无悬念，反正就是要整死仇人。这就神化过头了。

---

不知有多少客官还记得“书虫”系列，中英对照。当年这个系列我也看了一些，同样大多数都忘了，主要目的是学英语。高中曾看完并且还有印象的英文小说是《双城记》，一直憋着看英文部分，不过最后很坑爹，我买的那本的最后一页缺失，也就是当时英文课本上那段经典台词没了：

> "It is a far, far better thing that I do, than I have ever done; it is a far, far better rest that I go to than I have ever known."

尼玛那感觉就跟小时候看《莲花争霸》看到最后一集电视机坏了一样，沈冲到底怎样了也不知道。《双城记》和前面的《牛虻》、《钢铁》以及下面要提到的《静静的顿河》都是以革命为背景，《双》和《静》体现的是革命的狂热和盲目，《牛》和《钢》是以个人为中心的正能量。生活在那些年代真够悲惨的，人命如蝼蚁，革命如洪流，全是放肆，没有克制，今天给你贴个标签，明天就上断头台了。至今记得书中有两章的标题分别是“Knitting”和“Still Knitting”，只是现在knit这个词对我有了新的意义，变成了R函数。瞧，马桶居士和码农之间的角色转换就是这么快。

重温一遍之后除了感慨个人在革命洪流中的无助（打毛线的德法奇夫人太恐怖了），脑子里蹦出一个问题，这么长一篇小说，当时的高中课文是怎么做到以一页的篇幅缩写的？我找了半天也没找到那篇课文原文。这么想想那些编教材的人还是挺牛的。

---

《约翰·克利斯朵夫》因为是傅雷翻译的，前言又写得轰轰隆隆，于是也翻了一遍，但看完之后并没感觉那么轰轰隆隆，主要是我身上没什么艺术细胞，对跟艺术有关的东西欣赏不了，例如音乐和美术。克利斯朵夫的确一生在斗争，为全人类的解放事业斗争还能打动我（当然现在说这话已经属于半开玩笑了），但为艺术的斗争却无法打动我。在我眼里，艺术之高下，完全是个主观的东西。不能因为谁在反抗主流艺术就说主流艺术错了，或因为谁标新立异就拔高谁。小说中说主流曲子虚伪做作，但究竟怎么个做作法我也不得而知（现今的音乐娱乐节目我倒是觉得很做作）。抛开音乐，这部小说就是一段接一段的感情故事。因为他这一生中的感情过客之多，最后的中心人物葛拉齐亚再次出场时我完全忘记前面她是在哪里出现的了。倒是中途随机出现的法国家庭教师安多纳德，两人几乎没什么接触，却是最牵动人心的。

轰轰隆隆的格调下，克利斯朵夫到底伟大在哪里？本小子还是不太能理解。如果这个社会哪里都容不下你的话，要么你真是千年一见的天才，举世嫉妒，要么是你情商太低，太不会做人处事。我不知道克利斯朵夫到底是不是天才，但我觉得起码他不懂入世。

---

《静静的顿河》大概是所有这些小说中最长的一篇了，貌似是一百四十万字，我都不知道我是怎么把它看完的，不过这部小说确实写得很好，很有苏俄文学特色，对乡土人情描写很细致传神。例如主人公的老爹潘苔莱是个彻头彻尾的农民，这方面肖洛霍夫的描写非常到位。比如一次潘苔莱老爹一棍子打死了一头吃土豆苗的小猪崽，替自己开脱时说，“别说是用棍子啦——就是用一摊鼻涕就能把它打死！”看到这样的句子，本农民自然感到无比亲切。

思想上的飘摇和矛盾是这部小说的中心思想，主人公葛利高里虽然一会儿投靠红军，一会儿白军，一会儿又是匪帮，但始终还是有一副仁义心肠的，然而正是这种仁义，让他在哪里都站不住脚。作为哥萨克，杀死入侵的奥地利士兵他感到痛苦；作为红军连长，见不得杀害白军俘虏；苏维埃政权建立之后，红军杀了他的哥哥，他感到愤怒。人就是江湖，你怎么退出？令狐冲没法退出江湖，葛利高里也无法退出，谁刺痛了他他就要反抗谁。麦列霍夫家族到最后只剩下葛利高里和他的儿子以及妹妹杜妮亚：一家之主潘苔莱老爹辗转逃难，最后死在了路上；哥哥彼得罗之前已经被红军杀了，嫂子妲丽亚成了寡妇，后来和杜妮亚去游泳，为了最后的尊严决定自溺在河里；媳妇娜塔莉亚因为葛利高里的情妇阿克西妮亚的关系对葛利高里彻底失望，自行堕胎导致大出血死了，死前把儿子米沙特卡叫到面前留下遗言，嘱咐他别忘了爸爸回来的时候跟他说，等到葛利高里听到妻子去世消息赶回来的时候，儿子亲了他一下，告诉他这是替妈妈做的，然后“妈妈还说了别的话，可是我忘记啦……”（于是没有任何人知道娜塔莉亚死前到底说了什么）；老娘伊莉妮奇娜在老家自觉大限将至，一直眼巴巴盼小儿子葛利高里归来，产生各种幻觉，但就在他回来的前几天她终于撑不住了；情人阿克西妮亚分分合合，最后终于决定一起远走高飞了，却被哨兵打死。万念俱灰的葛利高里最后回到村里，看到自己的儿子，但米沙特卡差点认不出他了，问起波柳什卡（他的女儿）：

> 米沙特卡仍旧不看父亲，小声回答说：“杜妮亚姑姑很好，波柳什卡去年秋天死啦……得白喉死的……米哈伊尔叔叔当兵去啦……”

米沙特卡的角色话很少，但每一句看似童言随意一说，背后都是大悲剧，揪心。

> 好啦，葛利高里在多少不眠之夜幻想的那点儿心愿终于实现了，他站在自家的大门口，手里抱着儿子……

> 这就是他生活中剩下的一切，这就是暂时还使他和大地，和整个这个在太阳的寒光照耀下，光辉灿烂的大千世界相联系的一切。

这下他可以退出江湖了。为什么会有漫长的思想动摇？人为什么要互相戕杀？阶级是怎么来的？可能多数人从人性上都觉得自己弱小，非抱团无以翻身，可是抱团之后往往就是以多欺寡，掺和上少数人的领袖欲，于是你追我打，周而复始。即使本来是一个善良的人，被牵连进这个漩涡，也会身不由己。叹。

---

因为对苏俄文学发生一点兴趣，胡乱放狗搜，偶然搜到这么一首诗[《别声张》](http://www.lxbook.org/shige/tyutchev/013.htm)，觉得写得很好：

> 别声张，要好好地收起  
自己的感情，自己的向往；  
任凭它们在心灵深处  
默默地升起，悄悄地沉落，  
像繁星，在夜空中  
任你观赏，可别声张！

> 心灵，该怎样表白自己？  
他人又怎样理解你的思想？  
各人有自己的生活体验，  
一旦说出，就会变样；  
发掘，只会打乱泉水的宁静  
悄悄地吸吮吧，可别声张。

> 世界，就在你的心中  
生活，要学会内向  
外来的噪音  
会破坏神奇和迷人的思想，  
日光也会把灵感驱散。  
自然的歌要潜心倾听，可别声张！

这下好，前面写了半天，最后自己挖了个坑把自己埋了。
---
title: 那么，2014去哪儿了
date: '2014-12-31'
slug: summary
---

我说美帝落后吧，你们还不信。这不，在中国已经跨入2015年的时候，美帝居然还停留在2014年，加上他们[把麻婆豆腐做成甜的](http://weibo.com/2514669664/zy0W1w22U)，这样下去美帝迟早要灭亡，额滴个神啊。

不瞎扯了，说点儿正事，也就是“2015年元旦回顾2014年中没有完成的2013年计划的2012年的那些过了截止日期的2011年项目”。唉想想就脑仁儿疼。一年又一年晃过去，有些债简直变成了常数，真希望哪天能求个导把它们消掉，可现实是逆水行舟，不求导则被卷积。这些破事儿先按下不表，报喜不报忧是本小子的特长。

先回顾一下博客。一到年终，各位老博主就出来冒泡了。阿稳[称](http://www.wentrue.net/blog/?p=1635)自己的博客成了“年记”，我的发文频率差不多也成了半年记，只不过我平时写而不发，反正没什么营养，都是些唠叨文字，技术文章越来越少，有读者[评论](/cn/2014/06/on-writing/)说，“嗯，还是多写写技术博吧……”，这看似随意一个“嗯”字加上这个意味深长的省略号，如一声炸雷，可惊醒我梦中人——上一次写技术文章貌似已经是两年前了。看人家[肖凯兄](http://xccds1977.blogspot.com)，一步一个脚印，绝不来虚的；再看人家落园园主，自[撰](http://www.loyhome.com/?p=3703)自[译](http://blog.cloudlychen.net/?p=429)，图文并茂，绳货是多摸地井菜！

其实我的技术类博客都放在[英文站](/en/)里，当然写的频率也不高，比如去年也就写了两篇，一篇还是会议总结。也不是缺货写，货总是有的，就是博客码字有点费时间（尤其我这种文字控，打个不太高雅但贴切的比方，写完的东西就像拉的大便一样总要回头看几眼），我都心生一个视频博客的想法了，以后把技术性的内容做成屏幕录像，估计五分钟能录的内容可以够我写三个小时，而且在我脑子里盘旋的技术问题我也经常希望有人能帮我搭把手解决。

这一年工作上分三部分：一是公司安排的，以shiny为主，引进DataTables表格/selectize.js选项框/Leaflet地图等JS库，外加一些零杂活计如多字节字符的支持（俗称锟斤拷），也有R Markdown方面的，不过这方面我的贡献估计1/200都不到，都是老板JJ大人一手操办，拦都拦不住，我只是充当了一边骑三轮车一边播放世上只有妈妈好一边吆喝换煤气的[角色](http://blog.rstudio.org/2014/06/18/r-markdown-v2/)而已，正经活儿干不了多少，但恶搞是我的强项；纵观这一年，R Markdown攻城拔寨，甚得民心，其实功劳主要在JJ，不在我这个换煤气的，没办法我冒领了不少赞誉，既然解释不清，干脆就这样吧，只能做更好的工作来与高帽子相平衡了。二是维护knitr相关工作，这不能算正式工作，只能月黑风高时猫着腰干，这几天放假了就直起腰来把所有[Github事项](https://github.com/yihui/knitr/issues)杀到只剩一项，杀不动了，再强的强迫症也敌不过没时间。三是一些自个儿胡思乱想的工作，选录一些，很多都考虑不成熟，其中标注了“experimental”字样的客官们请勿传播：

- [xran](https://github.com/yihui/xran)：只要推送新的内容到我一个Github上的R包，就会自动编译并上传至所谓的XRAN，省得`devtools::install_github()`
- [servr](https://github.com/yihui/servr)：用R做后台服务器，浏览器里显示文件，可以是静态文件，也可以是动态R Markdown文件，这是我比较得意的一个小作品，它的妙处在于省去了两件事：一是编译Rmd，二是刷新浏览器，你只需要开一个服务器，然后开写Rmd即可，编译和刷新都自动进行
- [rnotebook](https://github.com/yihui/rnotebook)：一个R笔记本的简单尝试，仿照IPython笔记本，尚在非常初级的阶段，也许会死掉
- [rlp](https://github.com/yihui/rlp)：一个真正意义上的文学化编程示例，其实之前说了那么久的文学化编程，都没有体现Knuth的本意，能体现他本意的基本都是LaTeX作品，这些玩意儿通常都是极其枯燥，而且没几个人愿意去理解满屏幕的反斜杠，所以文学化编程的高明之处完全被LaTeX这门外表丑陋的语言掩盖了；这个rlp包演示了怎样用文学化编程写R包，也是我比较中意的一个小作品，在此之前，满世界的人都讲文学化编程，可没有一个人的作品是我觉得满意的，只有在rmarkdown诞生后，我才觉得写东西有了底气，否则LaTeX/Sweave的东西一方面是没人追随，另一方面是做漂亮的输出太费劲，现在我有信心让文学化编程飞入平常百姓家了
- [printr](https://github.com/yihui/printr)：自动打印R对象到动态文档中，例如Rmd/Rnw等，矩阵、数据框可以以原生表格的形式打印，而不是R控制台输出的文本形式，同样还可以打印帮助文档等对象
- [runr](https://github.com/yihui/runr)：这个不完全算2014的作品，而是从2013年就开始构思了，花了几个下午写了个原型（在小轩哥的启发下），目的是在R里面开启一个新的永久程序进程（例如Shell或Julia），然后不断把代码扔过去，那边执行完把结果扔回来，这是为了解决knitr里一个尴尬的问题：除了R代码之后，虽然knitr号称支持其它语言，但支持仅限于每个代码段开启一个新的进程，运行完代码即退出，这就造成前一段代码的变量在后一段代码中无法再使用（因为上一个进程已经关了）；这个包不太成熟，但起码Julia大致能用，若有客官感兴趣，可以完善或者增加其它语言的支持
- [crandalf](https://github.com/yihui/crandalf)：用Travis CI检查R包的反向依赖，估计这个对多数人都没用，但花了我很多时间，主要是knitr的反向依赖有好几百，每次提交CRAN之前都是我最黑暗的时刻，于是我写了这么个包把这些反向检查“外包”给Travis去做
- [shinyWP](https://github.com/yihui/shinyWP)：这也是一个非常有意思的项目，主伟呈已经完成了核心部分，我原本的想法是写一个基于R Markdown的WordPress编写博客界面，这个界面可以通过shiny来做，也可以通过Makefile或其它脚本来做，useR!会议上我演示了这个应用，但后来一直没时间把它整理成一个正式的R包
- 本来我已经用[htmlwidgets](http://www.htmlwidgets.org/)给[ECharts](http://echarts.baidu.com)动土开工了，只是原型还不太完善（仅仅试了一下散点图），鉴于太云和萌主前面已经做了[大量工作](https://github.com/taiyun/recharts)，我还不敢贸然发出来，不过这也是我想想都会半夜激动笑醒的项目，应该会大有前途，过些日子和萌主合计合计

开会[跑了](https://mapsengine.google.com/map/viewer?mid=z_O19zMrDpM0.kwXA6bVsh7No)西雅图（密谋新一代R Markdown）、本村的Dordt大学（一路牛粪味开车过去）、两次洛杉矶（出访UCLA和R会议，顺便去了一下环球影城被吓尿，也吃了人生第一张违章停车罚单）、博士屯（JSM）、扭腰（Strata）、费城（宾州大学R课程，即兴做了一个[shiny语音识别应用](https://yihui.shinyapps.io/voice/)；后遇中科院吴刚老师，开吃，一聊，发现我们的交集中有俞丽佳）。玩的地方去了缅因（Acadia国家公园）和明尼（千岛湖中荒岛漂流记）。此外生活部分貌似没啥别的外出的动静了。

这一年生活中的一个变化就是开始集中打羽毛球，最初是拜阿杜所赐，把我勾搭进了这个坑。记得当年在人大的时候，有一次学院在世纪馆组织羽毛球赛，我被队友骂了狗血淋头。如果现在再回去打，应该不至于那么惨了，但因为以前被别人骂过，我现在打球绝对不责备新手。虽然本小子还远没到高手行列，但大概也可以作为秋后的蚂蚱在学校羽毛球俱乐部蹦达两下了。由于身板条件限制，力量不够，偏向于技术型打法，喜欢打网前小球，尤其喜欢从网前左侧朝身后勾对角，不熟悉我的人经常对这个路线感到抓狂；然后就是有时候喜欢开玩笑，例如后场球来不及跑到位的时候，经常在发足狂奔的同时抬腿从两腿中间瞬间打回去，不太雅观，但一旦打回去会让对方猝不及防，因为对方看你的样子以为你放弃了，没想到最后一刻来一刀。这半年尝试起跳杀球，给对方制造一种恐怖的气势，现在基本上凡杀球必起跳，但其实我的平均杀球球速并没那么快，而且落点也不尖，威胁有限，一方面是绝对力量的限制，另一方面也受出界判断的困扰，我对球是否出界的判断还不太灵敏，空间感不太强，有时候出后线都快三四十厘米了还在打，这就很吃亏。绝对力量不够就练耐力，于是开始凹板支撑，也就是传说中的平板支撑，我撑一会儿就偷懒，不能保持身体一直挺直，挺一会儿凹一会儿，所以是凹板。练习了大约半年，胳膊肘子外侧茧子掉了几层，凹板最佳成绩可以够看完新闻联播了；若完全不耍赖，硬挺大约也就是12分钟。每次凹板打开计时器之后，就开始听罗胖子的语音，听完看文章，看完文章看朋友圈，一圈看下来有时候就十分钟过去了。

厨艺的导数早已经是零了，只是在2014的尾巴上，突然获得一项新技能：做馒头。原来酵母这货这么好用，要知道这事儿这么简单我早开始做了。第一次做馒头就是水多了加面，面多了加水，做出来竟然还人模狗样的。揉了几次面之后懒了，就扔给面包机去揉面。后来发展到做花卷，这面食本非我等南蛮的强项，不过好歹也凑合着做了好几次了，现在我的四大护法花卷分别是：葱花的，花生酱的，芝麻酱的，老干妈的。因为我高中时早餐经常吃一种辣子花卷，觉得很好吃，于是琢磨着昨日重现一下，一开始用豆瓣酱，结果吼咸，味道也不对，后来才发现拯救万千留学生的老干妈（油辣椒那种，不是豆豉那种）拯救了我，这玩意儿蘸面皮上卷吧卷吧捏花卷简直了，满分滚粗。

最后要鸣谢一系列食堂师傅的大力支持，排名不分先后：潘/王记食堂的饺子/火锅/肉饼，主/刘记食堂的烤肉斯密达，徐/宋记食堂的鸡腿/饺子/丸子/火锅/啤酒饮料矿泉水/花生瓜子八宝粥……写着写着耳边竟自动响起一句话是怎么回事，“来，这位小伙子，把脚收一下来”……
---
title: 递归
date: '2015-01-10'
slug: recursion
---

谷歌搜索关键词X的时候可能会自动纠错，问你本来想搜的是Y吧？而搜recursion（递归）的时候会自动卖萌问，你本来想搜的是*recursion*吧？

[这里](http://www.newsmth.net/bbscon.php?bid=63&id=3393726)也有个递归：

> 医生要给我打麻醉针，我怕针扎着疼，医生说：“既然怕疼，那我先给你打麻醉针。”

我琢磨着这对话循环往复进行下去到一定程度，医生最后大概会说：

> Error: evaluation nested too deeply: infinite recursion / options(expressions=)?

---
title: 西出阳关
date: '2015-09-06'
slug: memory
---

嗨，七月的时候本来心想啊今年都过去一半了，该写篇半年记了，然后照例拖拖拖，眼睛一闭一睁，已是九月。据说人感觉时间过得越来越快是有道理的：出生一天时，过去的这一天就是一生的全部；一个月时，每过去一天，变成了仅仅一生的1/30；等30岁时，即使是过去半年时间，也只不过是一生的1/60。嗯？为什么想起构造不可测集合的伎俩。

年初回国一趟过大年。走之前顺道去洛杉矶R用户小组做了个[报告](http://datascience.la/yihui-xie-presents-html-widgets/)。那前一日我从村里飞芝加哥时飞机延误，无奈在芝加哥滞留一晚，导致没了兴致做幻灯片，第二天一大早再从芝加哥飞洛杉矶，中午吃完饭才开始准备幻灯片。这小半年的我已经第三次去洛杉矶了。本来这次是Joe大人来讲Shiny的，我跟着跑一下龙套，讲讲我们最近做的HTML Widgets。我比较喜欢洛杉矶的R用户小组，组织者愣头愣脑认真负责，每次还要仔细筛选参加报告的听众，保证听众质量。确实是质量很高，我辣么冷而偏的笑话都有人笑。达斯维达灌水的那张图对我来说真是莫名其妙喜感爆表，所幸听众似乎也有共鸣。

![](https://cdn.shopify.com/s/files/1/0070/7032/files/darth_wat_grande.jpg)

然后拂衣深藏功与名。抵京之后蒙高中好友收留几日，办了签证，跟COS一班人马喝酒吃肉，见到了一批耳闻已久不曾谋面的COS豪杰。真是奇怪，为啥现在COS里一个个都这么善饮，不管是蓝豪杰还是铝豪杰。我们的白酒供应商钟兄寻思着两瓶应该够了吧，出门前又想了想，仔细着再加两瓶，结果完事群众纷纷表示影响不大，该回家的回家，该写论文的写论文了，看天时已晚，我随蔡蔡童鞋去人大，在COS大音乐家大作曲家处投宿一宿。音乐家真心可爱，乐呵呵喜洋洋买来各种酸奶零食这个那个那个这个的说了好多然而我当时的脑子已经前空翻转体三周半再向后转体五六个月压根儿不记得说了什么了。次日一大早蔡蔡童鞋请我吃了四毛五分钱的中区食堂早饭包子小米粥，甚是满意。本来起床时音乐家醒了，等我洗漱完毕他居然已经又昏睡过去，于是我只好不辞而别。

几个高中同学聚会，多年不见，却没有杀猪刀的痕迹。谈笑间，还是高中时的那种熟悉的喜感，土得掉渣的方言啊，奇怪的绰号啊，漫不经心的夸张啊。唯一一点改变，就是居然所有人的吃辣功力都严重倒退，造成我一人抱着一盆烤鱼从红红辣椒堆里扒鱼吃而另外五人戳着那盆不辣的鱼吃的局面。婚的婚，生的生。昔别君未婚，儿女忽成行。噫嘻。

回到老家，老房拆了盖新房，欣喜之余，记忆又少了一笔。在家的生活就是一个字概括：吃吃吃，整天东家西户胡吃海塞，把前五年没过的年一次性过回来了。越来越不适应没有暖气的生活，离开了火炉就冻成狗，只恨笔记本配置太好，不发热，用一个词来形容敲代码，那就是欲敲还休。原以为回国还能继续干点活，结果是在最后离家的那天在动车上几个小时干的活儿比一个半月休假中所有的活儿都多。同样，以为可以做做饭，结果愣是连铲子都没碰一下。老弟和弟妹都可以独当一面张罗浩浩荡荡二十来口人的伙食了，而且很好吃，实在厉害。每次回家走亲访友，免不了都会发现添几人少几人。生死轮回，唏嘘之余，房前屋后、漫山遍野的记忆或清晰或褪去。

三月初返回美帝，落下一大堆活儿，玩命还债。回村没几天，接着应QL之邀去Dayton的Wright State大学溜达一圈，讲个报告。再过一个月，去康州大学溜达一圈，讲一天R。然后世界清净了，开始闭关锁国。本来要踌躇满志折腾泛华统计协会会刊，眼看压根儿没可能性，只好惭愧离职。从此不再接手任何协会职务，欠债太多，不敢再许诺。

六月犬子出生，嗜睡症都快被治好了。本小子从此也被无情剥夺了惯用的自称，却又不能叫本老子，俨然身份迷失。半夜喂奶，一个多小时无事可做，拿着手机愣是断断续续看完了金圣叹批水浒和乱七八糟的各种诗词歌赋赏析。看金圣叹的起因是有一天看见涛妹在朋友圈分享了一篇钱穆的文章[《谈诗》](http://www.guoxue123.com/new/0002/zgwxlc/010.htm)，我一看诶，这个好，“雨中山果落，灯下草虫鸣”，深得我心。然后索性把整本书都翻了一遍，发现这老爷子[总是提金圣叹](http://www.guoxue123.com/new/0002/zgwxlc/012.htm)，那我倒是看看这位圣叹兄到底批了些什么。看完发现一个高频词：如画。然后就是隔三差五吐槽宋江这黑三儿。金圣叹真乃古今弹幕第一人。

六月底，人大统计校友会。我在家远程讲了讲自己的经历，结果讲完才知道那边根本看不见我的幻灯片，像我这样说话不利索的人，听众在没有幻灯片的情况下听20分钟是怎样的一种体验……细思恐极。这次校友会倒是发现一位好玩的老师：以前在人大从来没有意识到，原来简老师也有可爱的一面。那天我听说他们在峰尚吃饭后许老师下台阶摔着了去了医院，于是胡凑了一联：

> 食峰上，一堂老友喜之聚  
跌阶下，半日浮生无须偷

字句不通，只是为了借用一下吴喜之老师的大名。简老师看了之后给我改了两个字：

> 食峰上，一堂老友喜之聚  
跌阶下，半日浮生缘未偷

我一开始没反应过来，后来才发现他调皮，用了袁校长的名号和吴老师对仗。再后来，在朋友圈发现他确实很有才，这是我以前完全没有想象过的形象。

七月底，离开混迹六年的A村，西出搬家到奥马哈。原本在村里就有些隐居意味了，到这边更加隐居。躲进小楼成一统，管他冬夏与春秋。鉴于旧公寓的厨房之脏，搬家之后决定弄个炉子到阳台上炒菜，免得整天油烟滚滚打扫起来麻烦。于是，一个汉子，两手叉腰，腿毛飘飘，每天在阳台上踌躇满志，想用多大火用多大火，再也不用担心屋里到处都是油烟和菜味。为什么美帝的抽油烟机要把抽的风吹在室内呀，简直是太反人类的设计，差评差评差评。

翻书翻得少了，太费眼，主要改听书了。不过还是翻了几本，对张伯驹和朱光潜产生了些兴趣。前者因为你懂的原因就不说书名了，张老先生的诗词我比较喜欢，如：

> 姑苏开遍碧桃时，邂逅河阳女画师。  
红豆江南留梦影，白苹风末唱秋词。  
除非宿草难为友，那更名花愿作姬。  
只笑三郎年已老，华清池水恨流脂。

他讲要写好诗词需要两点，一要谙熟掌故，二要精通格律，而唯一的掌握途径就是强记。我琢磨着我上初中时自认为记性还挺好的，现在在记忆文字方面退化太多了，不知道究竟退化到什么地步，于是每天哄娃的时候拿着《白香词谱》测试一下，看看多久能背下来。

朱光潜先生大概是被大家贴上了美学的标签，不过我偶然翻到他的《谈文学》，觉得里面的绝大部分观点我都深切认同，举的例子也好，如谈意象，用“步出城东门，遥望江南路；前日风雪中，故人从此去”做例子，我就喜欢这种平实却又很轻松表达出意象来的文字（智商不够，对典故太多的文字有畏惧感），不过我不喜欢这首诗的后半部分，跟前面“雨中山果落”一诗的后文一样，本来有个很好的意象，后文把这意象扰乱了。

听书乱七八糟听了一大堆，以外国小说为主，其实绝大部分所谓的世界经典名著我都并不那么喜欢。其中复习了几篇小学课文，如《小抄写员》《万卡》《最后一课》等。我发现凡是颂扬艺术的小说我都不太能理解，例如《月亮与六便士》。印象相对深刻的是肖洛霍夫的《一个人的遭遇》和陀思妥耶夫斯基的《白夜》，主要都是因为最后一段。

再一晃九月了，去年说的[T兄和女王](/cn/2014/06/perspective/)修成正果，我扔了个微信红包过去，琢磨着写句什么，半小时凑了一联，窃以为还比较贴切，表面上看起来有点俗套，其中奥妙也只有熟人能解了：

> 流年藤绕 无缘难为连理枝  
佳人飞来 有情终成比翼鸟

说来也巧，微信红包的留言恰好只能写这么多字。

---
title: 整理魔法
date: '2015-10-10'
slug: tidy
---

前段时间看微信上有人转发麻理惠的《[怦然心动的人生整理魔法](https://mp.weixin.qq.com/s?__biz=MzI0MzU3NDM1OQ==&mid=2247489644&amp;idx=1&amp;sn=3393389331955e9198471153eb153fe7)》，像我这种爱简单的人自然觉得有点意思，于是这两周找来完整的书翻了翻。看完觉得有点夸张，这完全是偏执狂啊，跟中邪了似的。然后觉得麻理惠小姐有时候很逗，对待物品跟对待人一样，回家还要跟钱包首饰文件夹什么的说谢谢今天辛苦你了呢，也许是日本文化吧，感觉有点深井冰。

不过我确实同意整理东西对心理影响还是挺大的，无论整理实物还是虚物都如此。例如我这些年来常年无法清零的邮箱，由于今年特意避免承接外界事务，愣是咬牙清零了，从此之后基本上每隔两三天就能恢复到收件箱邮件数目为零的状态。常年拖着两百封半死不活的邮件，除了给自己心理暗示“我很忙我很忙我整天忙得要死”之外，于人于己，并没有什么软用。狠狠心，做个坏人，一直拖着的事情与其拖着，还不如厚着脸皮说“不”算了。就像麻理惠书中说的，有些东西总感觉好像可能也许还会有用，但年复一年，除了堆在家里占地方，打死不会想起来拿出来用在任何地方，把它扔了跟放在家里并没什么本质区别。
---
title: 两面
date: '2015-10-24'
slug: two-sides
---

我觉得决策没有绝对的正确或错误，所有决策本质上都是权衡利弊，所以要两面思考。现今多数应用或网页上都只有“喜欢”的按钮，而没有“讨厌”，有时候这缺少的一面会变得非常讨厌，比如听歌，有些你真心不喜欢的歌你跳过了一遍又一遍，系统还是自动推荐给你，这用户体验就太糟糕了。为什么不能有个“我很烦这首歌”的按钮呢？其实没有就没有吧，“跳过”这种行为本来也是一种数据，靠谱的数据分析狮应该能嗅到它的价值，可惜好像这个数据并没有被虾米使用，让老夫不厌其烦地跳过《没那么简单》。

举几个码农例子。比如有人[抱怨说**knitr**毁了他的文件](https://github.com/yihui/knitr/issues/1123)，我当然可以提供一个选项，在写输出文件的时候提醒用户要不要覆盖已有文件，可这样做会让绝大多数用户觉得烦，我编译个文档，你为毛老是问我问题。我的导师Heike大人有时候就嘲笑Windows下一些对话框，总是问你，是否确定？是！真的吗？对！确定一定以及肯定？滚！若不问，就可能出现帖子里失误覆盖文件的问题。是去烦多数用户，还是让极少数人粗心犯错付出沉重代价？我选后者。

又比如早些时候**jsonlite**的作者总是打着“严谨”的口号，**RJSONIO**以不严谨著称，有些特殊的情况下，你压根儿无法预测R对象转成JSON对象会变成什么（比如只有1行1列的矩阵）。然而严谨带来了一个巨大的不便，比如长度为1的R对象到底转成JSON数组还是标量？他选择数组。在实际应用中，其实标量更常见一些，但作者原来只提供了标量的标记方式，是一个`unbox()`函数，而在**RJSONIO**包中提供了一个相反方向的标记方式，`I()`函数，告诉转换函数这个对象应该被视为长度为1的数组。于是在[这个帖子](https://github.com/jeroenooms/jsonlite/issues/78)中，我给出了两种方式的对比。如果只有作者原来提供的`unbox()`方式，代码会变得臃肿丑陋，尽管**RJSONIO**各种不靠谱，但这个`I()`标记还是很方便的。要打倒一个旧软件，不意味着它的一切都是糟糕的，自以为严谨了，其实也可能会带来不便。正反两面都需要想想。

这么一想，统计里面风险函数是拿损失函数求期望，如果不两面或多面思考，实际上也就是只考虑了损失函数的一种取值，决策者对风险值并没有整体把握。
---
title: 西风无言
date: '2015-10-26'
slug: wind
---

最近偶然听到一首歌叫[《西风的故乡》](http://music.163.com/#/m/song?id=320888)，歌词和歌声都很简单朴素，甚合我意：

> 如果你是一朵小花　也該有個故鄉  
如果你是一朵小花　也有生長的地方  
西風呀　你是從哪裡來　總該有個起點  
西風呀　你往哪裡去　別把故鄉遺忘

> 如果你是一隻羔羊　也該有個故鄉  
如果你是一隻乳燕　也有生長的地方  
西風呀　你為何無言　總是那樣沉默  
西風呀　有多少心事　你又何必隱藏

我一般不太看现代诗或英文诗，不过机缘巧合读到这首《大麦歌》我觉得也甚好：

> Like Barley Bending  
　by Sara Teasdale

> Like barley bending  
　In low fields by the sea,  
Singing in hard wind  
　Ceaselessly;

> Like barley bending  
　And rising again,  
So would I, unbroken,  
　Rise from pain;

> So would I softly,  
　Day long, night long,  
Change my sorrow  
　Into song.

看起来不太相干的歌与诗放到一起，洒家索性捏一篇(听\|读)后感好了：

> 西风喑无言，大麦复苦曲。  
鸟飞反故乡，人静行孤旅。  
晚秋寒螀啼，深院坠叶语。  
明镜本无台，逸思空几许。

---
title: 唯一的希望
date: '2015-10-28'
slug: only-hope
---

收到一封邮件，标题吓得爹都坐地上了：“一个走投无路的大四学生，只有你能帮忙”。好浮夸。打开一看，一个回归问题。乖乖，还以为要跳楼呢。

于是想起来当年做579助教时，有个学生邮件问问题，里面写了一句“Yihui-Wan you are my only hope”。典故出自星球大战“Obi-Wan Kenobi, you are my only hope”。
---
title: 软件奶妈
date: '2015-10-29'
slug: software-nanny
---

刚刚过去的中国R语言会议南昌会场上，我[讲了](http://www.xueqing.cc/course/33)软件奶妈问题，即：有什么问题都直接跑去问软件作者。有时候这让作者感到很困扰，回答吧，一天只有24小时；不回答吧，感觉像个傲娇的坏人。这年头懂软件的人一大堆，有闲的人也一大堆，有问题先在社区/论坛里问，让那些人先把简单问题过滤一遍，实在搞不定的问题再拿到作者那里去。这一道过滤可能可以过滤掉95%的问题，你不用等我回答，我也不必对你感到抱歉，彼此省时省力，皆大欢喜。

现在我已经过了坏人这一关了，不是所有发给我的问题我都会回答，有些一看就不走心的伸手党问题直接删除或归档（认识的人除外），毫无负罪感。怪我喽，都怪我喽，怪我就怪我吧。

混开源社区就有这问题，人总是有种印象，啊你开源免费那你就该无偿帮我忙。哎凭啥呢？有些人混着混着就把自己混进去了，[激情万丈，家破人亡](http://jessenoller.com/blog/2015/9/27/a-lot-happens)。蟒蛇神教千秋万载一统江湖还是一桶浆糊？窃以为还是破帽遮颜靠谱一点。

几年前我还没变成坏人时，曾经有一阵很苦恼，琢磨着怎么改变这种深陷泥潭的状况，于是设置了一个邮件自动回复，内容大致为：1）我也要吃饭，您给打个赏呗；2）不打赏也可以，简单讲讲我为啥要帮您。说实话我并不是在乎这个打赏，当然想[赏我几个亿](https://db.yihui.org/imgur/qHN7X6M.png)的情况除外，我只是为了过滤人而已。随机测试了一个提问者，好家伙，当时伊的回复真是吓得我不要不要的手里的蝴蝶都飞了：

> 【……】看到这封信却令我十分作呕，虽然你并无恶意。假定R的两位作者当年也是像你这副皮囊，R软件也不会有今天的成就。【……】我之后询问Y教授，他不厌其烦地给了我这个解释，这让我很好的解决了这个问题。我相信你绝对没有Y教授忙，并且在治学方面，你可能一辈子都赶不上他。请勿回复，你已被拉人黑名单。

我看完特别听话，一声都没吭，对我来说，不用说话简直是太好了，虽然强迫症患者心里还有点想指出“人”应该是“入”。
---
title: 面试官在想什么
date: '2015-10-30'
slug: interview
---

下午听Simply Statistics组织的一个[网络视频讨论](https://plus.google.com/u/0/events/chuviltukohj2inbqueap9h7228)，主题很俗套啦，讲在数据科学冲击下统计学家如何解决身份迷失的问题。嗨，这叫嘛问题。我之所以听听是因为几个演讲者我基本都认识而且也感兴趣：Alyssa Frazee跟我都是坚定的等号党，当年去Hopkins访问时忘记是她还是Hilary Parker请我吃午饭了（我忘带钱包）；Chris Volinsky是我在AT&T实习时的大老板；Jenny Bryan是R粉，耳闻已久，去年useR会议上初见，挺有激情的一个老师，昨天晚上还问我我的名字怎么念，于是我录了个MP3发给她，然后今天我在视频中听见了一声响亮的“益辉鸡”，本鸡感到不胜荣幸；Emory统计系的那个系主任我不认识，也可能是这个缘故，我感觉他讲的最无趣（更不幸的是用时比别人都长好多），隐约感觉他表面上想表示重视评职称时软件贡献的作用，但心里好像并不这样想，其实我倒是觉得如果一个学术单位根本看不起软件开发的作用的话，去那种地方也没什么意思，混业界会舒服许多，不用挤破头发论文；这评职称的过程也一样充满官僚主义和偏见，对所有人都“公平”的标准实质上很可能就是不公正。

Chris大人提到了他面试别人的一些经历，其中着重对比了统计系学生和其它系（例如计算机）学生来面试的表现，他讲他现在面试基本上只问一个问题：假设你有大量移动通讯设备的数据（AT&T就干这个的），你想研究什么问题？他想考察的是面试者提出问题和解决问题的能力。统计系学生通常会想，哦我的博士研究的主题是时间序列中的某某模型，那你有没有时间序列某某模型能用得上的数据？也就是拿着锤子找钉子。外系学生来思维就会开阔一些，问你有没有手机的地理位置信息、通话是否因为信号不好断掉的信息等等，提出跟业务有关的现实问题，而不是上来就想我能不能用我博士论文里的数学模型。

在论文方面他也做了比较：统计系学生一般只有一两篇很专的论文，计算机系的学生会有各种会议论文，主题跨度相对大一些，不像统计系学生蜗牛角上钻点事。不管他的经验和对比是否可靠，好歹我们知道一个面试官心里在想什么以及要找什么样的雇员，应该还是有一定启发的。

他在片子里列举有用的统计模型时专门提到了非参，我倒是有点好奇，非参对他们有啥特别的用处呢（纯问题，无价值判断的意思）。在Twitter上问了他一下，不过估计明天万圣节他已经陪孩子装神弄鬼去了，所以没见回复。

在Ames村办大学时，我觉得我的两位导师大人一直都是在培养Chris想要的这种学生，从数据和问题出发，而不是从模型出发。不过我并没有学会这种能力，还是一个码农脑子，很少对数据直接发生兴趣。大约两年前系里把博士两门核心理论课测度论和概率论扩展成三门了，我感觉完全是在逆行，仿佛我们在理论上浪费的时间还不够多似的。理论不是不重要，就像Donoho大人在《数据科学五十年》中所说，他相信历史上统计的重大突破都源自（数学）理论，（下为我自己的引申，非Donoho大人的意见）然而按着所有可怜兮兮的博士生的头，让他们花大量时间硬啃将来没有什么软用的勒贝格测度和Radon-Nikodym引理、从盘古开天辟地起搞清楚每一个定理的来源、掌握中心极限定理的三种证明方法，似乎有些不妥当。知识一直在爆炸在细化，人生却是有限的，越往后的博士生岂不是越可怜。

视频会议的评论页面里，有听众提出，要不给计算机系强制增加统计课吧（大概也有给统计系强制增加计算机课的意思），让那些无知的计算机学生搞清楚我们伟大的统计理论，别光在那儿算算算。我是最烦这种内心优越嘴上喊着对别人好的人了，学了统计就觉得统计无比重要，你连个正态分布都不懂还敢跑支持向量机，然而人家算算算还真用不着你的正态分布。类似的还有要给中学生增加统计课的呼吁者，到底着毛线急啊。记得Norm Matloff曾经写过，那些教中学统计课的老师的统计根底都差得要死，那么早让学生接触扭曲的统计学，到底是在帮他还是害他。

说到底，还是有人的地方就有浆糊。人都想守着自己的山头，并且蹲在山包包上翘首以盼有人来继承山大王的衣钵。也许守的是珠穆朗玛峰，也许守的只是个土包而已。
---
title: 劣币驱逐良币
date: '2015-11-09'
slug: pressure
---

前面谈了[软件奶妈](/cn/2015/10/software-nanny/)问题，今日又看见Software Carpentry的老大[写了](http://third-bit.com/2015/11/09/daddy-why-dont-you-ever-laugh.html)类似我上次[引用](http://jessenoller.com/blog/2015/9/27/a-lot-happens)的故事。虽然我可以理解他过去的崩溃，但看到这样的文章还是有点诧异的：表面上看起来雄心万丈的人，过去也曾无数次绝望过（现在、将来也可能还会时不时绝望）。

在我看来，这些社区领导者的郁闷有两方面原因：一是自身无节制地和所有人打交道，二是世上不可避免总有一些劣币一直在驱逐有着良好意愿的人。然而素来机智的XKCD的作者早已看穿了这一切：

[![](https://imgs.xkcd.com/comics/duty_calls.png)](https://xkcd.com/386/)

其实网上有个人的观点你不同意又有何妨，不吃不睡争赢了又怎样。若争论或帮助的对象是“劣币”，这时间精力就更不值得了，这样的人会不停压榨你，直到你崩溃。我本人现在很讨厌对别人作道德评价（这也是我讨厌“锐扑厉”教授的原因之一），这里用“劣币”这么个词也是不得已，各位客官不要太敏感，我还是愿意相信世上“良币”居多的。

再举个生活中的劣币例子。夏天的时候，A村华人村民邮件列表中有个买东西的人因为卖家没把东西留给他而暴怒，当时我作为旁观者也多嘴了几句：

> 愤怒的心情可以理解，不过恕我多嘴一句，“这种事情国内司空见惯”这句话窃以为不必带出来。可以责怪特定的人特定的事，但如果能稍微控制一些不要滥杀无辜就好了。安安小朋友说：“老师说过：‘就算别人故意打你，也要原谅他一次啊’”。该理解的尽量理解，该认错的也尽量认错，都不是什么丢人的事，何苦非得一开始就火冒三丈呢？

> 蜗牛角上争何事？石火光中寄此身。

> > 2015-07-18 23:18 GMT-05:00 XXX@XXX:   
> > 邮件联系说我要买电视，卖家说要等两周后用完才能送货。所以我一直在苦逼得等待，机顶盒电视线都买好了，十天过去了我联系卖家什么时候可以送，谁知被回复电视已经卖出去了！

> > 质问卖家为何不守信用，竟然说我没付定金，也没上门看。。在这网站上买了很多东西没有一个卖家说要定金，正因为我心怀信任所以不用上门看直接送过来就行！这是理由吗？

> > 也许你要回国了，这种事情国内司空见惯，但是希望每一个在ISU的学者们无论在哪始终保持诚信为人做事！不要玷污了这里的每一寸净土！

其实这件事里，卖家的行为一定程度上可以理解（搬家谁不忙得跟狗似的），尽管我觉得他还是应该说声抱歉。然而这买家一上来就把人家也许会道歉的嘴堵死了，再有气度的人，看了这种暴躁的指责，怕是也难以把持情绪。彼此都没了台阶下，那只好吐口唾沫、卷起袖子打一架了。

何苦来哉。
---
title: 同行评审
date: '2015-11-11'
slug: peer-review
---

看到这么[一则关于同行评审论文的故事](https://familyinequality.wordpress.com/2015/10/05/our-broken-peer-review-system-in-one-saga/)，又启动了我的[期刊吐槽模式](/en/2012/03/a-really-fast-statistics-journal/)。本来作为统计学出身的人，我应该多等待一些样本的，但我自从发表了[第一篇论文](http://www.jstatsoft.org/v53/i01/)之后就失去了发表论文的兴趣，这么一篇烂文章，前后拖了几年，评审的人几次忘了看论文（等上九个月发现还没动静去问才知道，哦，原来是忘了啊）。

论文发表的历史模式是如此之坚固，估计再往后若干年也不会变。在旧时代纸张昂贵、信息流通缓慢、论文数量相对少的时候，同行评审还有点道理，如今我觉得这种制度的缺陷越来越明显。一点研究发现，被几个不知道到底懂不懂的编辑和评委看上好几个月，在些无谓的角落里反复较劲，两年过去论文面世还有什么意义。

《计算广告》的作者近日发了一篇很逗的文章，[你才是自媒体！你们全家都是自媒体！](http://weibo.com/p/1001603907025129104119)里面也提到了同行评审的问题，他过去也有“自由发表、大众评审”的想法，这跟我的想法是一样的。

这问题可以上升到“（学术）期刊到底还有没有存在的必要”，我斗胆认为答案是否定的，虽然它在长期都不会消亡，因为里面还有大量的利益关系。比如学术界还是得靠发表论文来评职称，要是期刊没了，怎么证明谁比谁牛。其实有些情况下，一个人牛不牛是很显然的，然而放到学术评价的框架下，牛气冲天的人也许一文不值。我[前面](/cn/2015/10/interview/)曾经说过，公平的评价体系很可能是不公正的（很多时候公平和公正是互相冲突的）。嗨，写着写着我又意识流到另一个更大的问题上了：高校到底是该以科研为重还是教学为重？我一直认为后者应该是重心所在，然而天下皆是科研重过教学无数倍。我不是很能理解这个现象。科研交给专门的科研机构做好了（也不需要很多人搞科研吧？历史上一个贝尔实验室出的成果是不是可以压过大多数没什么软用的学界科研了？），学校为什么要花那么大精力做科研，而不是以教书育人为首要任务呢。

回到我最前面引用的故事，里面可以看到各种官僚和迂腐。主编生杀大权在握，即使评审和作者都不同意主编的意见，主编仍然可以潇洒地通知作者，既然你不听我的，我就拒掉你的文章好了。

我不是说所有评审和主编都是坏人，我愿意相信、也接触过一些非常善良好心且很愿意帮助作者的评审和主编，我只是在想，这年头一篇文章藏在少数两三个评审的手里辣么久，即使评审再好心，是不是也太低效率了一点呢。当然可能也只是部分统计和社科领域的期刊会这么低效，不幸都被我看到了。我也听说过生物领域的某些例子，比如晚上7点投稿、9点收到拒信的情形。随着arXiv这些网站的发展壮大，这个低效同行评审问题大约会慢慢变好吧。

黑了别人也顺便自黑一下好了，唉，我真是学术界的蛀虫。作为作者，如果评审叫我加参考文献，我基本上是不会看参考文献的内容的，只是到Google Scholar上搜一下BibTeX条目，直接加进去，管它是什么呢。别说评审叫我加的了，就算是我自己引用的文章我都未必真读过，老天，我能把一篇文章憋出来就谢天谢地了，还让我把每一篇引用的文章和书籍都读一遍，杀了我算了。这个也是告诉列位，我过去的学术文章就不用看了，我不是个合格的学术作者。后来有了出版书的经历，欣喜地发现书籍的评审的意见我居然可以选择不听，作为作者完全不受评审牵制，简直爽歪歪。相比之下，我的第一篇论文发表花了三四年时间，而[第一本书](http://www.crcpress.com/product/isbn/9781482203530)的出版从开始下笔到拿到印刷品前后大约也就半年时间。

作为评审，我看文章的时候非常怕作者写得太好，因为那样我会无言以对，感到很尴尬，搞得好像我没认真看文章似的，所以只好边边角角扒拉扒拉，没事找事也要写满一页评论。这个告诉列位，写文章起码也要留几个语法错误和标点符号问题，别让评审太为难。希望将来有一天我能有勇气写只有两个词的评审意见：很好！发表！
---
title: 首席鼓励官
date: '2016-12-22'
slug: ceo
---

去年的南昌 R 会议上，我[讲到](http://slides.yihui.org/2015-Nanchang-R-Yihui-Xie.html)了社区合作的问题，里面用了一个例子，是 Wush Wu 大人生平[第一个](http://firstpr.me/#wush978) Github [合并请求](https://github.com/yihui/knitr/pull/324)。用这个例子是因为刚好开会的前几天 Wush 大人在微信群里说：

> 【……】那份貢獻對我自己意義比較大，因為那是我第一次成功貢獻別人的專案耶! 感謝益輝大大讓小小我跨出寫open source 的第一步

嘿，嘿嘿，嘿嘿嘿。洒家感到非常满意。在 Github 上混迹也有五六年时间了，我一直很注重鼓励别人迈出第一步来帮我贡献代码，即使是他们的第一个合并请求写得并不完美或者看起来完全小儿科，我也会尽量合并。这些人里将来会诞生一些做出更大贡献的人，事实上我确实也提前发现了一些有潜力的贡献者，比如 Kirill Müller，在他闻名之前，我就察觉到了他的潜力（技术强又很严谨），让他帮忙维护 [tikzDevice 包](https://github.com/yihui/tikzDevice)，因为我自己完全不会用 C，也不懂 R 的那些底层 API。

很多开发者完全不能理解这种做法的意义，他们自己水平很高，于是拿自己的标准去衡量所有人（比如修改个拼写错误你也好意思来打扰我给我发合并请求？）。2012 年我在 ATT 实验室实习快结束的时候，我给 [rcloud 项目](https://github.com/att/rcloud/pull/1) 提交了第一个合并请求，很快就被粗暴地拒绝了，从那以后我就失去了为这个项目做贡献的兴趣。

所以说，开源软件分两种：开源软件和**我的**开源软件。后者就像《魔戒》里的咕噜姆：我的宝贝！

要真正“开彼源兮斯流永继”的话，必须要有心成为一个首席鼓励官（Chief Encouragement Officer）。
---
title: COS 侠
date: '2016-12-23'
slug: coser
---

今年是统计之都创建十周年，作为所谓的创始人，臭裹脚版发言已经发在 [COS 主站](https://cosx.org/2016/05/cos10-anniversery-yihui/)上了，私人空间里可以说点电视上不会播的，不用小心翼翼考虑这个那个的，也不会那么又臭又长。

如果回顾我自己过去的经历非要总结一点有什么借鉴意义经验的话，那我想告诉列位客官的是，如果你觉得一件事自己不能在质量上取胜的话（毕竟这样比较难），那就考虑在数量上猛下功夫。比如写一篇文章，如果做不到妙笔生花，那就先奔着十万字的目标去。又比如做一个网站，如果不能做到出类拔萃，那就先奔着做它二十年的目标去。说白了，就是许三多。基于这个想法，统计之都虽然被会鸽的文章黑，说我们丑，但硬生生扛了十年。任何一件事，不管大小，只要能扛十年，最后总可以拉上台面遛遛的。如那寿司之神真是神？窃以为唯手熟尔。同样，因为我觉得十周年感言不好写，所以我就尽洪荒之力把摊子铺得大一些，起码让它看起来很厉害的样子。

有些客官可能对最后一首词感到莫名其妙，但如果记得我最开头说的“这篇文章基本上是纯个人视角”，应该更容易理解一点。我只是在试图寻找禅意而已。灵感源头在前面提到的“雨中山果落，灯下草虫鸣”以及我今年读的《宫本武藏》序言中的一句偈语：

> 梦幻空华，六十七年；白鸟淹没，秋水连天。

《宫》这本书本身我认为完全不值得一读，整个故事只能用一句话来形容：几乎处处莫名其妙，但序言里这句偈语当时确实打动了我。死生之大在宏智那里可以描述地如此宁静，非常符合我的口味，“含雄奇于淡远中”。去年11月我经历了一场肉身劫难，人生第一次被推上手术台，中午进去，等我从麻醉中醒来时，一看天已经黑了，顿生“石火光中寄此身”之意。生命脆弱，世事苍茫，于无声处听惊雷，临西风末吟苦曲，悲耶？喜耶？福兮？祸兮？未可知也。尽人事，听天命。噫。

本来写这篇感言不在我的计划中，都是因为太云赶鸭子上架，没办法憋了一篇。我原本只是想在自己博客中用《谁是最可爱的人》模板写一篇 COS 众生的，没打算公诸天下。因为脑力和时间耗费太多，自己这篇也写不出来了。这次只写一个小花絮了事，说说我佩服的厨娘万凤。上次回国，最遗憾的事情莫过于档期太紧而没吃一顿厨娘的饭菜，尽管已经垂涎已久。世间吃货满地是，对食物的热爱却多停留在吃上，而不是在做上。看万凤的票圈，就能感受到对食物发自内心的兴趣。

彼时，COS 注册了一个公司，众人纷纷贡献了一些毛爷爷作为初始资金，后来厨娘听闻此事，也慷慨解囊。本马桶居士见了之后撂下代码，绞尽脑汁拼凑几句，好让将来说起此事时“有诗为证”：

> 烟雨任平生，凤鸾甘俯首。  
尽散千金去，同销万古愁。

不知道有没有刻画出一位乐善好施潇洒自如的侠客。小轩哥见了之后琢磨了一下，供上《满江红》半阙：

> 如梦似真，高台望，山峦叠翠。任长河，万古奔流，凤舞九天。豪情把酒醉明月，气吞山河有诗存。重千金，侠义今古事，情长留。

当然，这一切都逃不过师姐的法眼，一首打油诗完胜：

> 凤凤美丽又可爱，做得一手好饭菜。  
善析数据巧代码，为人豪爽天府来。

马桶居士和小轩哥站在地面上，仰着头，眯缝着眼，半张着嘴，良久。厉害啊。
---
title: 死亡协议
date: '2016-12-24'
slug: death-protocol
---

两则关于死生的故事。

其一：这已经是[去年读到的故事](https://www.theguardian.com/world/2015/nov/07/fisherman-lost-at-sea-436-days-book-extract)了，发生在2012年，两个人出海打渔，被风暴刮走失去联络。船在太平洋上从墨西哥一直向西漂到马歇尔群岛，历经436天，其中一个人死在了路上。当时读到很震撼，遂留个书签在此。

其二：今年4月读到一份[死亡协议](http://hintjens.com/blog:115)（“协议”二字透露了作者的码农背景），作者告诉世人，在自己受病痛折磨准备好一死的情况下，你们该对他说什么。不要说你会好起来的、一切都会好的，因为事实就是好不起来了，无法逃避，也不必逃避。谈一些与病情无关的快乐往事就好了，总之不要时刻表现出无限怜悯与同情，让病人被死亡的感觉重重包围。
---
title: 码码码
date: '2016-12-25'
slug: github-rank
---

记得当年有好事者首次排 Github 座次时，洒家能排15，而今码得没那么勤了，想得多，码得少，于是乎，现在都[掉到100开外](https://gist.github.com/paulmillr/2657075/)了。嗨，其实也没啥意义。凡是看到排名，首先要问排名准则是什么。在 Github 上提交次数多，也未必代表贡献大。

类似地，又有好事者给 R 社区开发者们[排名](https://www.rdocumentation.org)，而标题党博主们就在那儿振臂高呼，啊，前5大流行的 R 包是谁，前5大贡献者是谁，等等。我在推特上向一个标题党博主微微抗议了一下，说你不能把“下载量排名前5的 R 包”替换为“前5大流行 R 包”，然而伊说，啊，我在文章里说了是按下载量排名准啊。洒家仍然觉得在标题里偷换概念不妥，也不太在乎这甚鸟排名，我更在意的是那些低调的厉害人物，譬如覃文锋，绝对是一大只卧龙，能否一鸣惊人，基本上只取决于自己愿不愿意嗷嗷地鸣上一嗓子了，不像有些人，不管做了点什么工作，都要嗷嗷一嗓子，唯恐别人不知。
---
title: 脑残不算残疾
date: '2016-12-26'
slug: handicap
---

偶然发现了“脑残不算残疾”的[出处](http://www.quotationspage.com/quote/25671.html)，居然是拿破仑说的。
---
title: 激进主义
date: '2016-12-27'
slug: r-activism
---

年初 R 社区[发生了一件事](https://ironholds.org/down-out/)大概没多少人知道，简言之，就是两个脾气大的人碰一块儿了，那画面就会变得不堪设想。

我个人不是特别喜欢这种政治正确主义，既然明显开发者毫无涉黄的意图，提个醒可以，但没必要去纠缠，太上纲上线了，何况还叫来一群帮手一起上纲上线。如果我是 R 核心成员，我会默默忽略之。问题就出在一个核心成员的暴脾气上，人在冲动的时候最好不要试图解决问题，D.M. 大人可以对这个问题报告说不，但接下来采取了非常不合适的一个举动，就是把问题提交者以及叫来的帮手们都禁言了。就算是对手，也要给他保留说话的权利，一旦封号，这事情性质就变了，显示出了一方在对另一方动用权力，于是，哪里有压迫哪里就有反抗，O.K. 大人一怒之下便写了那篇日志，实在是给 R 核心团队大大地抹了黑。这事后来好歹有个不算糟糕的结局，涉黄变量名被另一个核心成员改了，封号的也解封了。O.K. 大人扬言要退出 R 社区，后来也回来了。

R 社区的女权主义似乎比别的社区都更重一些，对此我是隐约有些担心的。我自己绝对主张性别平等，一定程度上我应该算是60%女权主义，原因是女性在码农社区确实没有得到平等对待，所以我会多偏10%过去，但我不会做激进的女权主义者。啥是激进主义呢？就是但凡谈任何事情，一定要把性别问题扯进来，一旦以性别分组后结果不平等，就要叫嚣平权，“因为我是女性，我就应该得到啥啥”。之前貌似看到微软发布一项数据，说是微软里女程序媛的平均工资和男程序猿几乎相等，政治正确溢于言表，我看了心说这事情怎可以荒谬至此，工资难道不是应该由一个人的贡献决定吗？片面追求男女工资相同，难道不是对贡献多的男程序猿的变相歧视？

同样的问题在性取向、肤色、地域等自变量上都存在。所有这些问题上，我们不能**仅仅因为**一个人取值是 A 而多数人是 B 就区别对待之，反过来，这些人也不能**仅仅因为**自己是 A 就要求和其他人同样的待遇。明明是一个多元回归问题，硬生生简化为一元回归，就是万恶之源（性别歧视、肤色歧视、地域歧视，等等）。
---
title: 软件之死
date: '2016-12-28'
slug: software-death
---

有人画了一幅图表达[软件之死](http://tinyletter.com/programming-beyond-practices/letters/the-sad-graph-of-software-death)，大意是，用户提交的事项数量会逐渐远超开发者能完成的事项数量，最后软件被用户无穷尽的新问题给拖死。

我也观察到了同样的现象，但软件也不至于就真的死掉。不同开发者有不同的习惯，比如我是属于那种不能容忍用户提太多新事项的（主要是 Github 事项），所以我会尽力杀掉它们，有八阿哥的话尽快修理，问问题的一律赶到 StackOverflow 上，邮件问题只回复第一次，后面要是继续追问则往 StackOverflow 赶或弃之不理。要是看我的 Github 项目，残留事项一般不会超过一页（25项）。这样做有个很大的坏处，就是比较消耗开发时间，不能集中精力想大事。鉴于这个原因，我杀事项的刀会尽量锋利，能关闭的事项尽量关闭。若不确定要不要关，先关了再说，若用户抗议，再考虑重新打开。我怕上来一眼看见有三百个八阿哥报告，那样让我觉得耳根不清静，就像桌子没收拾干净就开始写代码一样。多数开发者好像都不像我这样，所以经常看见三百项未解决问题列在项目里，比如敝厂几个流行的项目 rmarkdown / shiny 都是这样。

极少数情况下会碰到一些暴躁的用户，关了他提交的事项后会不开森，说你凭咩关掉我的问题。这就涉及到网络世界的情绪控制了，现在这已经是我的强项，我非常擅长忽略网络上别人传递给我的负能量，尤其是暴躁的用户。你敢吼我，我就不应战，看我憋不死你。当然，多数情况下，用户们还是很讲道理、体谅人的，画风通常是“不好意思给您添麻烦了”“哪里哪里慢走慢走”。

用户提的新事项通常分两种：新功能请求和八阿哥报告。后者通常得修复，前者的处理就略复杂了。我现在给自己设定的默认模式就是说不，除非是很有意思的功能。啥是有意思的功能呢？比如有好事者在推特上说，你能否提供一个选项让用户在幻灯片中随机插入 Karl Broman 的[蓄须皂片](https://github.com/yihui/xaringan/issues/1)，我一看，诶，这个有趣，恶搞嘛，是我非常感兴趣的，况且这个实现起来只是几分钟的事。于是乎，Karl 的皂片就[可以出现在幻灯片中了](http://slides.yihui.org/xaringan/zh-CN.html)。更多情况是用户的新功能请求更像是个人品味或一些犄角旮旯的小功能，这些东西是时间的吸血鬼，即使初看好像有用，但细想只是让世界变复杂了，所以要有勇气先拒绝之，直到他多花一些时间自己琢磨并为自己辩护，很多人不会走这一步，那在我看来就是不是真爱了，既然不是真爱，那我也不必累死累活为一个不重要的功能付出时间和精力。Karl 前些日子感叹请老天赐予他力量说不（类似于不要答应审稿），我给他举了几个我说不的例子（[一](https://github.com/rstudio/bookdown/issues/238)、[二](https://github.com/rstudio/bookdown/issues/259)、[三](https://github.com/rstudio/bookdown/issues/251)）。讲真，当这么个坏人还是需要一些心理上的挣扎的，但想到能把省下来的时间用在更有意思的问题上，理性便能战胜情感。

简言之，人人生而平等，软件事项并非如此。
---
title: 学生项目
date: '2016-12-29'
slug: student-project
---

一位老师将一些学生的[可视化项目](http://blogger.ghostweather.com/2016/01/fall-student-d3js-projects.html)发在了自己的博客中，我觉着这老师挺用心的，还知道用网站给自己的学生做宣传。

在跟在校学生交流的时候，我通常会提一个观点，叫“我网故我在”，意思是如果你没有一个个人网站，你就不存在。把自己做过的事情列在自己的网站上，脸皮薄的人可能怕别人觉得自己炫耀吹嘘，但实际上它达到的效果是激励自己完成更多的项目。如果你觉得自己是个蜘蛛侠（Spiderman，音意混译“失败的人”）或一条龙（I'm alone），那不妨先给自己做个网页版的简历，起码它可以让你看清自己究竟有多失败（简历不至于简化到“性别男、兴趣女”的程度吧）。在你发迹之前，可以事无巨细地把做过的所有事情列出来（扶老奶奶过马路三次之类的），发迹之后就可以挑重要的列了。完成事项的堆砌容易让人产生成就感，而成就感则是做一件事最大的心理回报。譬如我赶脚我稀里糊涂过完了2016年，除了整了个 bookdown，也没干啥了，然而我随手整理了一下简历，发现我这一年居然有17场报告（尽管多数是相同主题）。嘿！仿佛不是整了个 bookdown，而是整了个世界，这么能吹咋不上天呢？

说起网站，这两个月开始祭出我的[第四颗王炸](https://github.com/rstudio/blogdown)（前三颗是 **knitr** / **bookdown** / **xaringan**），让基于 R Markdown 的网站变得更加简单，分分钟从零搭建一个全能网站。
---
title: 独立思考
date: '2016-12-30'
slug: thinking
---

读到叔本华一篇文章[《真正独立思考的人，在精神上是君主》](http://culture.ifeng.com/a/20160420/48515035_0.shtml)，甚合我心。钦此。
---
title: 时间
date: '2016-12-31'
slug: time
---

时间的长度容易触动人，极短和极长的时间都有这个特性，而且长短往往还能互通，一眼万年，[一跳一生](http://www.shuku.net/novels/prose/fengzi/fengzi21.html)，一沙一世界。

一个摄影师拍了一组[跨度40年的照片](http://www.dailymail.co.uk/news/article-3900776/Photographer-tracks-people-snapped-hometown-40-YEARS-AGO-recreate-remarkable-images.html)。
---
title: 博客去哪儿了
date: '2017-01-01'
slug: blog
---

过去的一年多，我好几次被人问到，你为啥不更新博客了。主要原因是工作甚忙（而忙是因为太有趣）；次要原因是每当我想写点东西都发现还有公家（统计之都）的东西要写，只好咬牙切齿先写公家的；再次要原因是嫌弃 Jekyll，各种毛病。我想写的话题有一大箩筐，刚费了半天劲把一些老话题简略补了一下，前面十篇日志的日期都不能算数，我瞎凑的，因为我已经不记得当时我真正想写的时间是哪年哪月了。接下来还有一些话题，但 1 月马上要开 [RStudio 大会](https://www.rstudio.com/conference/)了，我还有一个培训和两场报告要做，外加正顶着巨大压力迁移公司新开张的博客，所以只能先罗列一下话题和摘要，以后有机会再找时间写：

- 对联：去年春节的时候给小侄发了一联，构思了一小时，自以为略巧妙，但外人估计不能解其意，其实他自己也没解开这双重锁（答案可以在我若干年前的一篇博客的一个角落找到，但不建议浪费这个时间）。

    > 双口纵难言，重洋万里，归鸿飞返待何日；  
    三金亦不换，荏苒廿载，深情承续心自知。

- 火影：我第一次看火影大概是 2003 年，当时看了前三十集左右，还没看到大蛇丸出场。第二次看就是 2015 年 11 月了，因为身体原因，休了大约三个星期假，整天躺沙发上昏天黑地拿着手机在 Youtube 上看，看到大约四百集实在看不下去了，因为太啰嗦。我喜欢看动画片的主要原因是想象力（跟看武侠的原因一样），我并不太迷什么角色。看到后面我倒是开始欣赏大蛇丸了，可能我的脑回路有点不一样吧，有时候会喜欢反派，比如甄嬛传中我觉得唯一无辜而真心的人是华妃。如歌里所唱，难为正邪定分界。
- 悲与愁：火影配乐中，我最喜欢的一首是[《哀与愁》](http://music.163.com/#/m/song?id=784455)，这首曲子好像有若干变种，如[《永恒的三代目》](http://music.163.com/#/m/song?id=32548062)《宁次之死》。有一首类似标题的叫[《悲与哀》](http://music.163.com/#/m/song?id=784553)也有很多人喜欢，出现得比较早，白与再不斩死的时候的配乐，钢琴曲。这两首曲子一对比，我觉得实在厉害，深刻表达出“悲”和“愁”分别与“哀”搭配的异同：悲短而痛，愁长而隐。
- 手术：颈椎里长了个奇怪的东西压迫到神经，让洒家疼了两周，充分见识到美帝的庸医和低效的医疗系统，头疼脚疼一律开止疼药，就这样看病，在中土大唐估计坟头草都三尺高了（当然我不提倡暴力，也理解医生不是万能的，但这系统实在太低效了），还有邪恶的保险公司和医院联手忽悠病人，把账面花费抬得比天高，然后跟你说，啊，你看你有保险，所以你可以享受优惠价多少多少。屁。出院之后一笔烂账根本算不清，今天一个账单明天一个账单，后来实在把朕搞糊涂了，打了个电话问问，不问则已，一问更糊涂了，人家干脆把所有账单再重新算了一遍，结果又多出两百块钱来，尼玛劳资实在没了耐心，你究竟有多少账单我现在就全给你付了，别再来烦我。住院期间医院给了个吸管水杯，我发现吸管如果吹的话可以吹响，无聊地也是没谁了。唯一一点我觉得比天朝合理的是，医生会赶你出院，我第二天还在医院躺着，主刀医生来一看，喂，你怎么还没走。我问他我什么时候能蹦跶，他说你自己觉得能蹦跶了就去蹦跶，没有非得休息多少天这么一说。刚出院时，就像华妃一样，不肯低下高贵的头颅（疼啊），只能用鼻孔看人。过了两周，我感觉刀口好像长得差不多了，就摸索着把残留的手术线给拔出来了（在脖子后面我自己看不见）。再过一周就打球去了，人生得意须尽欢。
- 记性：出院后感觉好像记性突然变差了，怀疑是不是搭错了哪根筋。手撕包菜，撕了叶子扔篮子里，茎扔池子里，扔着扔着，发现叶子到了池子里，茎到了篮子里。煮饭，11 点煮上，12 点怎么还没熟，一看，没开开关。炒菜，炒完吃完饭了，扭头一看，诶，炉子的灯怎么还亮着，开关没关死。我是不是被麻醉后穿越到了另外一个次元。
- 弹琴：去年 3 月有故人来访，并带来一个小玩具电子琴，只有一个音阶弹弹儿歌，本乐盲在看娃时胡乱按，两只老虎两只老虎跑得快，后来发现几首儿歌可以躺地上单手盲弹了，有点意思。心说不然试试真琴，于是搬出落灰的电子琴，开始琢磨，零基础没节奏不识谱从何学起呢，思来想去，本着无知者无畏的精神，就从《哀与愁》开始吧。然而《哀与愁》本身是小提琴为主，于是用《永恒的三代目》。就这样，《永恒的三代目》成了我的入门曲目，诸多艰辛按下不表。
- 镜中：师姐居然会背，厉害。现代诗更像一件件时装，好与不好，比较主观，就看读者把自己套进去感觉是否合身；古诗词是一个个具体的工艺品，更多是以旁观者身份从外欣赏，而不是从内体会，好与不好，世人容易取得共识。
- 回村：5 月初回村一趟。在村里熟悉的老路上开车恍如隔世。在北京待了七年，在 A 村待了六年，相当于我的第三故乡了。一想起当年的博士资格考试，梅花便落满了南山。
- 回国：回国参加 R 会议，并且把导师大人 Di 也忽悠去了北京，当然这没啥，关键是我还把她忽悠回我老家，估计是村里第一个到访的歪果仁，在村里看见各种鸟兽虫鱼都很高兴，后来从三峡机场离开，我是第一次去这个机场，晚上车一路羊肠小道上开了好半天都没有机场的迹象，我跟她说，看样子你的飞机可能是木制的由几十个壮汉在前面拉着走了。Di 对这个世界永远都充满好奇心。在北京没待几天，很多人也没顾上说多少话。第一次见到一些真人，诸如心雨璟烁牛津舒仪秋思小王子万凤少东家以及台湾一些少侠们等等，心雨真豪迈啊，璟烁真能办事啊，牛津真剑桥啊，舒仪真安静啊……没见到源源姐。源源姐和少东家乃 COS 圈里两位有佛心的凡胎。第一次跟袁卫老师说话，气场有点强，很睿智，也很和蔼。我比较喜欢统计学院的老师，就是因为很多老师给我的感觉更像是朋友关系，而不是师生关系或领导与下属的关系，比如我当时的导师赵老师，以及当年带领我们捣鼓英文网站的王晓军老师，我感觉就是一些大朋友，和他们交谈，不必顾虑他们的行政职位，虽然人大这个学校整体风格很官僚，但统院还是给人很亲切的感觉。此次 R 会议我讲了一次之后居然嗓子哑了，第二天完全失声，于是第一次讲了一次[默片](http://slides.yihui.org/2016-China-R-bookdown-Yihui-Xie.html)。有好心的听众在我讲完之后还专门骑自行车去药店买了喉宝给我，真是西湖的水~我的泪。还有听众见我脚上夹着一双拖鞋而来，号召大家给我买双好鞋，嗨，我的习惯就是一年四季一双夹脚拖鞋和一双运动鞋交替，只要气温在零上，我就可以拖鞋出门，夏天回国我压根儿就不会往行李里装鞋。嗓子哑了也不敢吃最辣的菜、喝最烈的酒，也没能去撸串，感觉人生都失去了意义。后来签证莫名被拒，坏我大事，没能赶回美帝参加 R 会议。火速飞去北京大使馆面签，分分钟通过，何苦折腾本良民一趟。在涛妹家借宿一晚，到了发个短信，涛妹一脸络腮胡子光着膀子从树丛里钻出来到小区门口来接我，甚是威武豪迈，我顿时感觉我是不是要在小区门口杀个人纳了投名状才能上楼啊。涛妹和太云都好辛苦，半夜十二点了还在加班，北京真不是人待的地方。次日早上涛妹陪我去签证，喝着天价咖啡等我，大使馆前存包的流动贩子背后的利益链到底是怎么样。中午和 CFO、少东家匆匆凑个饭局（万凤正在用绳命加班），顺便在 CFO 公司坐了坐。那天 CFO 早上蹬着自行车来上班，在优衣库附近找到了我，领我去公司，哼着《莉莉安》，给我拿了一瓶可乐，说糖分使人愉悦。
- 米酒：看见别人家自己做米酒（酒酿、醪糟），我心想这东西还能自己做啊。本厨有个特点，就是胆子大，一旦知道什么东西是活人能做出来并且我能找到材料的，就敢自己试试。于是去亚洲店找来酒曲和糯米，拿一小碗试验了一下，嘿，还真能做出酒味来。于是开始大规模生产，有成功有失败，暂且不表，直到后来买了电高压锅，生产环境变得稳定，米酒质量才稳定下来，之前都是放在冰箱底下地面上用冰箱吹出来的热风保持发酵温度，不太靠谱，工期也长。电高压锅（Instant Pot）很厉害，是我用过的所有厨具中最好用的一件，上可揽月，下可煮鳖，强烈推荐。
- 压面条：早知道压面条机这么方便的话早吃上面条了。但面条机不能反转，反转就会坏，这究竟是什么原理，拆了也没弄明白。
- 油条：买了个小油锅，炸油条别提多方便了。韩寒当年要是看见面条扔进油锅慢慢冒着气泡浮起来的情景，应该能写出比《杯中窥人》更好的作品吧，毕竟比一团纸扔在水里有趣多了。
- 腊肉腊肠：野心愈发膨胀，开始自制腊肉腊肠。期间被野兽从后院叼走两块吃了不说，还在院子里大便两坨，气死我也，要有时间，一定设法做个陷阱逮住它们，好好教育一番，不知是狼还是浣熊还是什么。
- 搬家：翻身成房奴。明白了不少东西的机理，比如自己换了几个门锁芯，虽然搞砸了两次，但趴地上把弹簧找回来之后愣是给重新按了回去（这过程太痛苦），也搞明白了钥匙和锁是怎么工作的；徒手装了几个百叶窗，知道这些东西是怎么装上去的了；给菜园子拉了铁丝网防兔子大军，虽然只种了百十来棵蒜苗，但也是我从山中来，还带着小蒜苗，朝朝频顾惜，夜夜不能忘。作为新房奴，浴室喷头、厕所马桶拆卸、厨房下水道搅拌机维修、屋檐挂彩灯，都是有意思的新项目。寒风萧萧两股战战站在高高的梯子上，亚拉索，介揍是青藏高原`~~`俺`~~`俺`~~`俺。挂完灯心想插头往哪里插，室外插座都有点远，放狗一搜，发现世上还存在一种灯座插座转换器，可以拧进灯座之后同时装灯泡以及充当插座，于是花三块大洋买了一个装上，把一串彩灯从车库的路灯上接出来，这样就可以在室内开关了。之前还琢磨了好久怎样才能不冒着寒风开门出去开关灯。美帝的工具真是只有想不到没有做不到的。
- 木匠：看了一篇[木匠入门文章](http://woodgears.ca/beginner/)，很是吸引我，如果 2017 年能有空余时间的话，我希望能学一点木匠活儿。我家有个亲戚是村里的木匠，小时候他来干活，我就会偷拿他的刨子胡乱刨桌子椅子，那种看木刨花起着卷从刨子里出来的感觉非常爽。还有手压式钻孔机，因为太好玩，后来我都尝试过自制一把，原理并不复杂。等再过几十年我退休了，我很有兴趣去研究这些小时候目睹的民间手艺（还有爆米花），外加二十四番花信风之类的东西（楝花飘砌，簌簌清香细，写得太好了）。
- 罗胖：一年前我退订了罗胖的语音，因为我逐渐感觉这个胖子居心不良。刚开始的时候我还挺同意他一些观点的，后来意识到他实在太狡猾了，这个人非常非常聪明，对人心的阴暗面操控技术炉火纯青，牢牢抓住了当代人心理的几个痛点（首要痛点就是因为无知导致的低逼格），蛊惑力极强。罗辑思维对年轻人的忽悠，跟脑白金对中老年人的忽悠是一个路数，都是在用恐吓加利诱的方式蓄意制造需求，以达到赚钱的目的。必须澄清的一点是，赚钱不是问题所在，我双手赞成罗胖以前说的“靠自己本事挣钱是最有尊严的事情”，只不过我不认同他挣钱的手段。这年头，只要有任何一技之长，要成为罗胖那样的名人我觉得并不难，在一技之长上面只需要再加一样元素，粉丝自然就来了，这一样元素就是说话时[无比确定一定以及肯定的口气](http://www.quotationspage.com/quote/36515.html)，如果你说一个观点想让听众接受，先用一技之长震住他们（比如罗胖的讲故事能力），然后用无比肯定的口气说出这个观点，就是这样，绝对是这样，毫无疑问，毋庸置疑（言下之意你要怀疑就是脑子有问题）。比如他讲 2016 的三个黑天鹅事件是啥啥、啥啥、啥啥，注意这里的“三”和“是”字，它们就是权威口气，就跟下定义一样。你要是换作客观的表达，“啊，我觉着 2016 有这么几个黑天鹅事件，是啥啥、啥啥、啥啥”，听众就会开始想，首先，这几个是黑天鹅吗，其次，还有没有别的黑天鹅。这么一来，权威就垮了大半，因为听众竟然[独立思考](/cn/2016/12/thinking/)了！在粉一个人之前只需要先看一件事情，就可以决定要不要粉他。这件事就是基督山伯爵前期的核心思想：要想找出谁害了你，只要看谁因此受益就知道了。同理，一个人值不值得粉，就看他说的话最终指向的是不是他自己的利益。罗胖在早期隐蔽地非常好，2016 年我开始感觉他在裸泳了，他向听众灌输的知识也好逻辑也好，越来越赤裸裸为自己的商品带盐（买我的书、画、艺术品就等于有知识有眼光有品位）。我就不喜欢这样，我佩服站着、明着把钱挣了的人。罗胖的几乎每一句话只要我们停下来仔细分析一下，我觉得都可以找到可推敲之处。我这句话有些夸张，但如果不服，可以告诉我一句你认同的罗胖说的至上真理，我们一起来推敲推敲。
- 微信之恶：世人皆捧微信张小龙，我认为微信只做好了一件事，就是手机支付；作为一个聊天和社交工具，它更多的是罪恶和低效。问题是多数用户可能并不在乎，比如不在乎浪费时间（早上醒来先看一小时票圈），不在乎电脑客户端（消息不能完全同步）。如今的应用都在拼命争夺用户时间，问题是夺来弄啥呢？我果断把微信票圈卸载了。由于实在被微信绑架了，臣妾暂时还做不到直接卸载微信。
- 数据科学：世人谈数据科学，似乎已经将它替代为编程，似乎打倒了数理统计、会写爬虫和画图就算是数据科学了。这些是与数据有关，但什么是“科学”呢？“科学”二字，好像是真的猛士才敢谈的。Tukey 大人在《数据分析的未来》一篇雄文中称数学不是科学，而 Donoho 大人大概是当世唯一一个分析了数据科学中的科学元素的人，[《数据科学 50 年》](http://courses.csail.mit.edu/18.337/2015/docs/50YearsDataScience.pdf)，又是一篇雄文，前年它刚发出来时，我从中午看到天黑。Donoho 大人的本尊我只见过一次，非常儒雅，作报告时别人都用幻灯片，他趁大家午休时，不看任何参考资料，徒手写了三黑板板书，下午第一个讲。
- 写书：整个 2016 从工作方面来说可以概括为“一年，一个包，一本书”，写了个关于用 R Markdown [写书的包](https://github.com/rstudio/bookdown)，然后用这个包写了[一本书](http://crcpress.com/product/isbn/9781138700109)。自己生产的狗粮，自己得先尝尝。我的编辑对我说，小伙砸，老夫在出版业这么些年，你这本书的出版速度之快算是破了老夫这辈子的记录。其实这里面有些小伎俩，比如记得在致谢中感谢一下你的文字编辑（多数作者一般都不会提他们），他们会感激涕零受宠若惊，大周日的还勤勤恳恳心甘情愿帮你审阅手稿。当然，最重要的一点是别把书写太厚。在书的[献词页](https://bookdown.org/yihui/bookdown/bookdown.pdf)中，洒家强制输出了一点中文文化价值观。
- 写轮眼：基于 R Markdown 的幻灯片框架我觉得都只能算凑合，没有一款真正合我心意的，直到我看见 remark.js。因为工作太忙，所以一直等等等，终于等到感恩节放假，在去另外一个城市的车上开始在脑子里打草稿，回来之后操起键盘用三天时间[写了个包](http://slides.yihui.org/xaringan/zh-CN.html)。大约是第一个向岸本致意的 R 包吧。
- 统计之都：希望统计之都在春节前能完成网站改版，变得很有趣很有用。老实说，现在的论坛我自己都不想去看。
- 读书：这个话题大概是最费劲的，自上一次我总结读书之后，这一年多断断续续看了一些，其间没留心做笔记，所以好多内容都已经忘了。
    - 《别闹了，费曼先生》：费曼真乃世间少有的认真的大逗逼，而且脑回路九曲回肠让人猝不及防，现今自称逗逼的人我觉得都可以拜费曼为祖师爷。偷门的事情让我印象很深。要是没有好奇宝宝，人类的智力发展可能也就停滞不前了。
    - [《丰子恺文集》](http://bjzc.org/lib/52/wxls/ts052090.pdf)：这个可谈的太多，略挑几则我现在还有印象的（15 年看的，多已遗忘）陈列一下。《随感十三则》：

        > 我因此想起《水浒》中五台山上挑酒担者所唱的歌：“九里山前作战场，牧童拾得旧刀枪……。”这两句怪有意味。假如我做了那个牧童，拾得旧刀枪时定有无限的感慨：不知那刀枪的柄曾经受过谁人的驱使？那刀枪的尖曾经吃过谁人的血肉？又不知在它们的活动之下，曾经害死了多少人之性命。
        
        当时我读到这一段的时候很惊讶，老先生竟然记得《水浒》里一个挑酒的人唱的歌词。那时候我刚重看完《水浒》，但对这歌词毫无印象了。一年以后，我在听郭德纲相声的时候，突然听见郭德纲唱的一段曲子里也有这几句，心想以前的戏子大概经常唱吧，这么说来这段词也有几百年历史了。“牧童拾得旧刀枪”一句让我产生一些共鸣，毕竟我也曾经是放牛娃。
        
        《大账簿》：中英混杂现象大约自民国时期就有了，只不过现今一发不可收拾而已，当然这不是我想说的主题，只是一个牢骚；这篇文章也让我很有共鸣，跟前面“牧童拾得旧刀枪”有些呼应。我小时候玩过的棍子扔掉之后我也会想类似的问题。
    
        > 后来我的年纪果然长大起来。然而这种疑惑与悲哀，非但依旧不能解除，反而随了年纪的长大而增多增深了。我偕了小学校里的同学赴郊外散步，偶然折取一根树枝，当stick用了一回，后来抛弃在田间的时候，总要对它回顾好几次，心中自问自答：“我不知几时得再见它？它此后的结果不知究竟如何？我永远不得再见它了！它的后事永远不可知了！”倘是独自散步，遇到这种事的时候我更要依依不舍地留连一回。有时已经走了几步，又回转身去，把所抛弃的东西重新拾起来，郑重地道个诀别，然后硬着头皮抛弃它，再向前走。过后我也曾自笑这痴态。而且明明晓得这些是人生中惜不胜惜的琐事；然而那种悲哀与疑惑确实地充塞在我的心头，使我不得不然！
    
        《阿难》《渐》：时间的哲学与思考。
        
        《怀李叔同先生》：近年来对我的文字有震撼性影响的作品先是《曾国藩三部曲》中那段一字师的故事，让我突然意识到单字甚至半个字的玩法可以这么厉害，比如“秋峰万点”改成“秋山万点”（为什么我这么顽固地[反对中英混杂](/cn/2014/06/on-writing/)，就是因为中文如此厉害和有趣，我们竟然要用无谓的英文污染它，实在可惜）。另外一篇作品就是丰子恺这篇了，不仅是影响了我的文字，也强烈影响了我的人生观。
        
        > 如上所述，弘一法师由翩翩公子一变而为留学生，又变而为教师，三变而为道人，四变而为和尚。每做一种人，都做得十分像样。好比全能的优伶：起青衣像个青衣，起老生像个老生，起大面又像个大面……都是“认真”的原故。
    
        时间有限，丰子恺的文章只列这么几篇，其实文集里几乎篇篇都是好文章，值得重读几遍。

    - 《80 年代访谈录》：理解一个我本没有兴趣理解的时代和人们。

    - 《蓝血十杰》：大概八年前听说的一本书，抱着很低的期望去读的，因为我对商业管理类书籍兴趣不大，但结果让我很意外，我觉得这本书写得很好，尤其是后期。首先是我没想到蓝血十杰的成功与统计有关（数字化管理），其次是它是一本关于失败的书，然后对十个人物的刻画也很细致。世上没那么多万金油；兴于数字，亡于数字。干一行就容易觉得自己这一行无比重要和厉害，其实未必，任何方法都有适用条件和局限性。

    - 《黄金时代》：王小波有个特点，就是喜欢列一二三。当我分析问题准备跟人撕逼的时候，通常也会用这种方式列论点。列一二三有助于清理思路，并且酝酿气场。

    - 《野蛮生长》：我是冲着目录中的牟其中去看的，有点意思，也有所启发。商界还是太复杂了，也有部分运气因素。
    
    - 《平凡的世界》：（列位客官大概看出来了，我这人看书比一般人慢好几十拍；这种书换别人，估计十几年前就看了）小说的确很史诗。印象最深的是田晓霞之死，千山暮雪，只影向谁去。

这就是我，一个马桶居士的自白。以上。
---
title: 小绿锁
date: '2017-01-08'
slug: cloudflare
---

我一直在好奇，那些 https 的网站是怎么弄的。以前听说过一个 https://letsencrypt.org 网站，但云山雾罩看了半天，貌似是生成一个证书存在自己的服务器上，技术细节我也不懂，遂放弃了。

最近有人告诉我，[Cloudflare](https://www.cloudflare.com) 可以免费提供 https 服务。我一看，好简单，就是域名服务器用它的就好了。于是我就把自己的域名卖身给它了，换取了一把浏览器地址栏前的小绿锁。从此以后，你的 IC、IP、IQ 卡密码可以在这里加密传输了，虽然也不大可能用得到，但万一哪天哪位客官要给我打赏一个亿呢，梦想总是要有的，万一实现了呢，即使长得丑，也要想得美！

关于网站，前些日子从思喆那里得知，天朝已经把 Disqus 给墙掉了，所以中土大唐的客官们无法留言评论，要么 Lantern（或者别的神器），要么憋说话，一呵而过就好。
---
title: 理解随机森林与汉密尔顿蒙特卡洛
date: '2017-01-12'
slug: arxiv
---

有两篇 arXiv 上的文章我很有兴趣，但没时间细看。要是学术界有个罗胖来读了这些文章讲给我听，我倒是很有兴趣付费。

- 《[理解随机森林：从理论到实践](https://arxiv.org/abs/1407.7502)》：这已经是两三年前看到的文章了，是一位兄台的博士论文。排版简直不能更精致，光是看字体就流口水，何况主题还是随机森林这个大众话题。
- 《[理解汉密尔顿蒙特卡洛](https://arxiv.org/abs/1701.02434)》：我对 HMC 的兴趣来源有两处，一处是 Radford Neal 的[文章](https://arxiv.org/abs/1206.1901)，另一处是一个 [Youtube 视频](https://youtu.be/Vv3f0QNWvWQ)，讲真，要是把世界上那些所谓的“厉害了 word 哥”的东西都烧掉，这个视频得留下，因为它实在是很厉害，雷鬼电音加蒙特卡洛可视化（是真的代码生成出来的），就问你服不服。

<iframe width="600" height="338" src="https://www.youtube.com/embed/Vv3f0QNWvWQ?rel=0" frameborder="0" allowfullscreen></iframe>
---
title: 意大利面
date: '2017-01-12'
slug: rotini
---

以前煮意大利面（Rotini，不是面条那种）总是煮半天，一边煮还得一边看着锅怕溢出来。有一次晚上去托儿所接小朋友，因为时间来不及了，所以水刚烧开把面丢进去就关火了，然后赶紧出门。回来准备开火继续煮，结果一揭锅盖，发现面已经熟了。嘿，无心插柳。真是省电又省事。打那以后，煮意大利面再也不用举着一双筷子在一旁伺候锅小主了。
---
title: 过山车
date: '2017-01-13'
slug: roller-coaster
---

我一向不喜自讨苦吃的娱乐项目，比如过山车。这次 RStudio 大会偶遇两位路人甲乙，一蓝僧，一铝僧。开会第一天晚上，公司把环球影城的哈利波特场给包了，所有参会者被拖进去玩。进门右转就是过山车，甲建议去坐过山车，乙脑子一热，好啊好啊。我作为丙也不好意思拒绝，悻悻跟着去了，也没看看过山车有多高以及有几个圈。上车了，乙说，我告诉你们一个坐过山车不害怕的诀窍啊，诀窍啊，啊，啊，啊……然后，然后车就开动了，我愣是没等到她说出诀窍是什么。

铛铛铛铛……慢慢上升……上升……我靠怎么还在上升……升到了顶，我向下看了一眼，倒吸一口凉气，这尼玛得有三十米高了吧，赶紧把夹脚拖鞋好好夹住了，一秒之后，天旋地转的我就再也没敢睁开眼睛。一路上就听甲一个人哇哇大叫，乙和丙陷入了深深的沉默。

枪毙五分钟终于结束了，我上来之前吃的牛排、薯片、芹菜、西兰花、鸡尾酒……放心，一样都没出来，但也是在打转了；走路，走路不如跳舞。最厉害的是我的拖鞋没飞出去。我特么到底为什么要坐这破玩意儿。

下车了，乙说，啊，我刚才说的诀窍是上升的时候吸气，下降的时候呼气。你信不信我反手一拖鞋底子……

因为进园子第一个项目就是玩的这个，我后面连正餐都没吃一口。继续看别的项目，看了个无聊的魔法棒表演，然后又走到另一个过山车门口，是那种不太生猛的过山车，眼前放幻象的那种。我一看又是过山车，立马决定不去了，乙依旧兴冲冲要去坐，甲也一颠一颠跟着进去了，不知道是不是还没醒过来。后来出来了，乙跟我说甲又在里面吓得哇哇乱叫，叫到半路突然没声了，下来一问咋儿了，甲说，我把眼睛闭上了。
---
title: 术
date: '2017-01-17'
slug: jutsu
---

书说带娃的三种术。

首先是忍术。在侍寝服务中，通常需要使用替身术。抱着睡着之后用十来分钟时间把自己的肉身替换为枕头塞给他。

其次是瞳术。在车上篮子里吆喝精力十足，可动用写轮眼。施术方法很简单，都不需要勾玉。盯着他，面无表情，睁眼，慢慢闭眼，睁眼，慢慢闭眼……车摇晃着，他就睡着了。

最后是体术。对小朋友而言，最可乐的事情通常就是突然变化（对成人而言，幽默通常也不过就是脑回路突然变化，是一样的道理），比如把他往天上扔，狮子连弹；又如八卦掌回天，把他扔过来的积木、棍子、袜子、汽车、气球、高尔夫球、网球、乒乓球、羽毛球都劈走或踢走，顺便还要把扔来的半个饺子、一根豆芽、嚼过的牛肉、撕下来的饼、不想喝了的水杯都接住。疑心人生下来本来是八门遁甲全开，慢慢长大的时候一门门都关上了，不然小朋友怎么总是体力无限。
---
title: 自制米酒
date: '2017-01-17'
slug: rice-wine
---

前年夏天搬家到奥马哈之后，一个朋友给送了一盆自制的米酒。洒家素来对自然变化之物感兴趣（源头来自于初中高中时对化学的兴趣），于是也心生自制米酒的念头。材料很简单：酒曲和糯米。工具：蒸锅、密封容器或电高压锅。酒曲和糯米都可以从亚洲店买到，酒曲叫 Dried Yeast，袋装的一个个小白球球（袋子上可能会印着“酒饼”字样），买回来用的时候需要自己捣碎成粉末。我们这里的酒曲有两种，一种是越南酒曲，一种是上海酒曲。经过几次尝试，我发现区别是越南酒曲产酒量更大，产糖量较小，上海酒曲相反。因为上海酒曲出的米酒太甜，所以我犯了一个基本的统计学错误：假定两种酒曲对米酒的效果影响是线性可加的。我把两种酒曲混在一起试了几次，希望能中和一下，不那么甜的要死又能有酒味，但基本都以失败告终，米酒最后都酸了。这就是忽略自变量之间交互作用的典型失败案例，世上不存在那么多“假定其它自变量取值不变，当前自变量变化一单位对因变量的影响是贝塔几”那样的好事，按住这个葫芦通常会浮起那个瓢。

闲话少说。糯米若干杯，清水浸泡一夜。沥干装大盘子里铺平，上蒸锅蒸熟（半小时左右）。我一般五六杯糯米，分两个盘子装，蒸锅上下各一盘。糯米熟了自然冷却，或者用自来水强行冲冷。如果是自然冷却，最后还是要冲冲水，不然糯米粘在盘子上抠不下来。注意不要让糯米过多吸水就好（糯米吸水能力超强）。酒曲可用蒜臼子或其它器具如勺子和碗捣成粉末。

若有电高压锅（[Instant Pot](http://a.co/1GhzJNQ)），则把糯米从盘子上扣下来直接放锅里，锅要洗干净确保无油，把一坨坨米用筷子戳散尽量成米粒。酒曲粉在戳的过程中加也可以，戳完了再加也行。反正最后要和米粒拌匀。大约一杯米对应一颗酒曲球，所以我一般用四到六颗球。如果最后觉得饭特干，可以少量加水湿一湿。处理煮熟的糯米要想不粘手或者不沾筷子，只要在手上或筷子上稍微沾点水润滑一下就好了。糯米和酒曲拌匀之后稍微压压实，别压太紧，不然酵母都被憋死了。最后中间用筷子戳个洞，电高压锅盖上，按酸奶档（Yogurt），然后减一档（按两下 Adjust 按钮到 Less 档上），然后按加减号按钮调整时间，我一般加到 30 个小时。等时间到了之后拔了电还可以不开盖再发酵几个小时。步骤说明书上都有，但我的做法比较粗犷，产量比较大，因为说明书上说的是要仔细着把糯米和酒曲拌在一个密封玻璃容器里，然后把容器放在蒸锅架上，锅里放水，用温水来加热米酒发酵。我嫌麻烦，于是直接把米放锅里发酵，这样一次可以多装一些。那种捣鼓半天最后只能吃一口的东西我一般都不愿做。

若没有电高压锅，则需要一个热源，或者等室温能大约恒定在二十几摄氏度的时候。我刚开始尝试的时候是用冰箱底下吹出来的热风，我也不知道为啥冰箱制冷要把热风往室内吹，总之本赤脚大仙发现了冰箱底下吹出来的风是温的，于是用以上步骤把糯米和酒曲拌在玻璃容器里，中间挖个洞，保鲜膜密封住，扔冰箱前的地面上。三天之后看着本来没什么水的糯米出水（酒）、本来是紧的糯米变松能晃动了就差不多好了。注意装糯米的时候不要太满，因为发酵过程中会膨胀，目测能膨胀 20% 左右。

我的做法出来酒水相对较少，浓度比较高，嫌甜可以自行加水稀释。我老家有用米酒煮油条吃的，也有冲蛋花汤的。

---

两年后更新：米酒刚做出来时，[需要另外再加水](/cn/2019/07/last-step/)。加水之后再放冰箱，还可以继续发酵变甜。
---
title: 神算子
date: '2017-01-23'
slug: arithmetic
---

无意想起一个神算子。

一次在墨西哥坐小巴士，票价 72 块钱，我从兜里掏了一张 50 一张 20 给卖票的大叔，眼巴巴看着他，一边努力在兜里摸索看有没有两块的硬币，刚掏了两秒钟，大叔就很爽快地找给我两块钱。

我若无其事地接过他的钱，揣兜里上车了。

一切都没毛病。
---
title: 胡椒面瓶子
date: '2017-01-26'
slug: bottle
---

家里有一袋胡椒粒我一直不知道怎么处理，因为一般我都是用胡椒面儿。沃尔玛有玻璃瓶装的胡椒，就是那种倒过来拧着头可以磨胡椒的细长小瓶子。抠门如我，一直琢磨这瓶子要是能打开就好了，那样就可以把胡椒粒装进去磨胡椒面。可是这瓶盖非常紧，硬拔是拔不下来的。

后来上万能的有土不上一搜，还真有人尝试过把这种瓶子打开。方法很简单，就是把瓶子头泡在开水里，因为瓶盖再硬，总归还是塑料的。开水烫一会儿就会稍微软化，我捂上一块抹布，气沉丹田，蛤啊……啊……啊……呔！问题解决。
---
title: 运气
date: '2017-01-27'
slug: lucky
---

我的运气一直还算不错。小学二年级上学期的期中考试我在临交卷的时候偷翻了一下书，把“[黄澄澄](http://www.060s.com/tools/kewen/file.php?id=%253DwOzvfMMycTN)”的“澄”字写对了，语文数学都一百分，遭到了老师的狠狠表扬，奠定了我一直到大学之前坚持好好学习信念的基础。

刚进大学的时候电脑开机都不知道怎么开，但后来对写程序发生兴趣，顺便上了捣鼓网站的不归路，以此为起点开始打怪升级，后面几乎一切大事都与这个初始值有关。简单办了个统计之都，简单出了个国，简单毕了个业，简单找了个工作。

今儿个且不说这些。一个月前统计之都编辑部主编雪宁大人提议大家各自写个新年献词，这次是真正体现出我运气好的特点了，因为我花了几个小时构思了一首诗，巧到我自己都得意洋洋，恐怕以后再也想不出这样巧的一坨文字了。你道是有多巧？

> 屠狗何须求功名，青史堪留几多姓。  
寻章坐看群山雪，摘句不觉暝色宁。  
壮志无意霄云凌，相逢把酒夜烛秉。  
海内知己共明月，天地孤影任我行。

它其实是倒着写的。先定了最后一句“天地孤影任我行”，因为我碰巧在听陈勋奇的[《东邪西毒》序曲](http://music.163.com/#/m/song?id=393697)，就叫这个标题，这是一首我很喜欢的曲子，也很喜欢这个标题的意境。因为这句定了韵脚，前面的自由度就减少了。然后我本来要表达的意象是 COS 这个团体要淡泊名利，多做一些实际工作。浮现在我脑子里的是为数不多的我能背的一首《满江红》：

> 无利无名，无荣无辱，无烦无恼。夜灯前、独唱独酌，独吟独笑。况值群山初雪满，又兼明月交光好。便假饶百岁拟如何，从他老。  
知富贵，谁能保。知功业，何时了。算箪瓢金玉，所争多少。一瞬光阴何足道，便思行乐常不早。待春来携酒殢东风，眠芳草。

以及我不会背的[《湘月》](/cn/2014/01/romance-in-rain/)：

> 天风吹我，堕湖山一角，果然清丽。曾是东华生小客，回首苍茫无际。屠狗功名，雕龙文卷，岂是平生意？！乡亲苏小，定应笑我非计。

本来“青史堪留几多姓”刚开始想的大约是“雕龙不觉夜阑静”之类的，但第二句编不下去了。村里大冬天的，大雪初霁，倒是群山雪比较应景，正好“雪”字仄声是我需要的，于是配上“寻章摘句”描写编辑部工作开始写第二句，也比较贴切，所以“雕龙”一句得换掉。说到功名，遂想起又一首为数不多的我能背的《西江月》：

> 道德三皇五帝，功名夏后商周。英雄五霸闹春秋，顷刻兴亡过手。  
青史几行名姓，北邙无数荒丘。前人田地后人收，说甚龙争虎斗。

遂凑齐“青史堪留几多姓”一句。

此时，我意识到雪字无意间对上了主编大人的名字前一个字，心说可能有戏把主编嵌进去，于是定下“宁”字，巧的是它正好是平声，也是我需要的，更巧的是还对上了韵脚，于是“摘句不觉暝色宁”，第二句齐活。

作为献给编辑部的作品，能让主编大人出场“我已经很满意了”（内心呼喊着“啊？我有辣么厉害？”）。第三句我本来没有想把我们的主席秉帅冯凌秉放进去，正拼凑着别的字句，突然间意识到，凌秉二字一平一仄，且两个字全都押韵，简直不能更完美。想到前些日子 COS 年会大家聚会的场景，于是捏出这第三句。“壮志无意霄云凌”是我不太满意的一句，因为前面刚刚才用了一个否定句，接着又否定，显得词穷。为了拼凑，也就这样了，本来肚子里也没多少货。相逢的“逢”字还恰好同音“冯”。

根据关联规则，把酒自然少不了赏月。海内存知己，天涯若比邻。海上生明月，天涯共此时。这些素材比较符合新年献词的场景。“海内”与“天地”之象对应起来也比较自然。去年北京 R 会议结束后我在群里给志愿者童鞋们砸个红包，也顺便捏一首感想（巧嘞，[又](/cn/2015/09/memory/)到了微信红包留言的字数上限）：

> 重洋五万里，灵犀一点通。  
海内存知己，何处不相逢。

于是最后半句也凑齐了。以上便是那篇新年献词的源代码。要是雪宁和秉帅的名字随便变一下（无论是字还是音），我这盘棋恐怕就垮了。我在 COS [十周年感言](https://cosx.org/2016/05/cos10-anniversery-yihui/)中曾提到，“诗词写得漂亮容易，写得具体却是很难”，我希望一首作品能绑定在特定而具体的对象上，而不是换对象换场合还能继续用。从这个角度说，这首诗只能适用于 COS 编辑部，这感觉就像是安全带嘎登一声入扣，妥妥的。

人所谓文章本天成，大约也就是如此吧。
---
title: 代码中的空白区域
date: '2017-01-28'
slug: blank-area
---

友情提示：密集恐惧症患者请跳过本文。

程序里经常会用到选择分支语句，`if-else` 之类的。一旦条件分支变多，程序结构可能会变成这样一团毛线球（假设写一个分段函数吧）：

```r
f = function(x) {
  if (x < 0) {
    x = -x
  } else if (x >= 0) {
    if (x < 3) {
      x = x^2
    } else {
      x = exp(x)
    }
  }
  x
}
```

我一般不太喜欢左侧空白区域太大的代码，选择分支太多也会让我昏头。我倾向于写紧凑的代码，原因只有一个：显示器只有辣么小（悲伤却辣么大）。我希望在我的眼球转动和鼠标滚动单位距离里能看尽量多的代码（看完代码就可以看《颈椎康复指南》了），如果空白区域太多，我需要更大的眼球扫描距离，以及更大的脑缓存来存放我的脑内存读入信息。如果客官们看过我的程序代码的话，应该会经常看见我提早用 `return()`，这就是为了避免接下来又要缩进一层。上面的函数如果我来写，我一般会写成这个德性：

```r
f = function(x) {
  if (x < 0) return(-x)
  if (x < 3) return(x^2)
  exp(x)
}
```

提前 `return()` 可以避免下文的 else 分支，也可以避免继续缩进。除了这些外观上的因素，更重要的是，每往后读一段代码，都可以放心，当前的分支情况是上一个 `return()` 的条件的补集，比如写 `x < 3` 的时候实际上蕴含着 `0 <= x < 3` 了。当然这样的写法有个坏处，就是代码前后依赖，你不能随意移动代码，比如把第二个分支直接剪切到第一个分支之前。我自己通常不会这样移动代码，但有时候也需要调整分支的前后位置，这个情况就是：如果下一个分支对应的代码（显著）比上一个分支短的话，我会先写短的这个分支。例：

```r
f = function(x) {
  if (x < 0) {
    z = rnorm(1, x)
    return(z/100)
  }
  rcauchy(1, x)
}
```

第一个分支下有两行代码，第二个分支只有一行。那么我会把第二个分支换作第一个：

```r
f = function(x) {
  if (x >= 0) return(rcauchy(1, x))
  z = rnorm(1, x)
  z/100
}
```

前一种写法左侧有14个空格，后一种写法只有6个空格。

最后一种减少大面积左侧空白区域的办法是一个名字很长的函数小括号后直接换行，而不是在参数逗号后换行。逗号后换行是更常见的写法，如：

```r
shiny::updateSelectizeInput(session, "foo", label = "New Label",
                            selected = c("A", "B"), choices = LETTERS,
                            server = TRUE)
```

这种世事苍茫成云烟的写法给我带来的虚无感会让我联想到[虚无与大地之外的悲怆](https://kknews.cc/comic/6p93agl.html)，而我自己会用这种写法：

```r
shiny::updateSelectizeInput(
  session, "foo", label = "New Label", selected = c("A", "B"),
  choices = LETTERS, server = TRUE
)
```

用多出来的一行回括号换取左侧更小的空白区域。
---
title: 三分之二运气
date: '2017-01-28'
slug: less-lucky
---

再说一则[运气](/cn/2017/01/lucky/)不那么完美的。作为 COS 的首席打赏官，我通常负责捏造微信公众号文章的打赏词。这个职位是我毛遂自荐的，因为我觉得写打赏词很有意思；有一次看了波波头一头的[微博](http://weibo.com/1643729062/DA4bexQ9U)差点笑死我，广告词也可以逗比成这狗德行。希望有一天我也能有勇气说“不赏不要脸”。

秉帅写了一篇新年致辞，本来我刚换了个笔记本正忙着迁移数据，没空琢磨打赏词，但由于看了一下预览，觉得这次编辑童鞋的作品非常精美，排版看起来很舒服，不由中了毒，于是勒紧裤腰带花了半小时琢磨打赏词。

微信文章打赏词有十五字的限制，十五字意味着如果写对联的话，只能用七个字，外加一个空格。新年致辞文章的打赏词当然最好的形式就是对联了。约束条件（如字数、场景）对写作来说有时候是好事，有时候是坏事。好在它让搜索空间变小，容易有头绪；坏在约束条件可能会太强，不存在最优解。比如我喜欢写嵌字的作品，就是因为嵌字给出了初始值（万事开头难），万里长征迈出了第一步，剩下就看怎么迭代、联想和发挥了。然而这初始值可能离最优解非常远，或者初始在一个无解区域，那就比较麻烦了，比如要写一副对联，但要嵌的两个字无法成对，那就垮了噻。

由于这位编辑童鞋触动了我的排版神经，我觉得不然就以伊的名字作为初始值构造一副对联吧。恰好三个字全都是左右结构，运气简直不能更好。为啥说是三分之二运气呢？因为两个字分别拆开之后都恰好是相同词性，一个字拆了无法找到词性的交集，这是对联的硬伤。最后憋出来这么两句奇怪的东西：

> 旧岁舍人如木落  
新春予义再易风

希望新的一年诸位继续肉肩担道义吧。
---
title: 秉帅
date: '2017-01-29'
slug: bing
---

前面[提到](/cn/2017/01/blog/)去年北京 R 会议初见的一些人，本回单说秉帅。继续套用前面的句式：秉帅真忧郁啊。

要不是后来秉帅提醒，他 2010 年第一次与我邮件联系我已经完全忘了，不过呢，我并不是忘了那封邮件（内容我印象还很深刻），而是浑然不知原来当年给我发邮件的是他！为啥我对邮件内容印象深刻呢？因为他问我我的幻灯片是怎么做的，是不是 PowerPoint 做出来的，怎么跟 Andrew Gelman 的幻灯片风格很相似。嘿，那时候我已经彻底抛弃 Office 投奔 LaTeX 了（确切地说是 LyX），还在 LaTeX Beamer 的蜜月期。于是我操起键盘对他进行了 Beamer 神教入教宣传。其实关于此事，有[日志为证](/cn/2010/12/software-to-make-slides/)。我天，当时我是称呼他为“某师弟”，这样的称谓跟秉帅对比起来，简直太有违和感了。

像多数给我发邮件的人一样，我没记住这个名字，此后若干年我也没再想起，就连太云把他拉入统计之都时我也没意识到他是谁，后来他就成了 COS 顶梁柱。秉帅在任这两年 COS 在处理外事方面有本质提升，说是理事会主席，其实就是个打电话跑腿的，辛苦得很（就跟以前涛妹任主编一样，就是个修文排字的）。

虽然了解并不是很深刻，但感觉秉帅与太云和我一样，都是内向的人，当然，比起太云和我，帅出了八个数量级之外。我最喜欢秉帅的一点其实是……天线宝宝表情包。一个健硕肌肉汉子，心里竟然住着天线宝宝。在我看到秉帅的天线宝宝之前，我并不知道天线宝宝长什么样，只是听说过。后来他总是用天线宝宝表情，终于有一天我脑子里好像微波炉叮的一声，心想，这些表情符是不是传说中的天线宝宝？于是放狗搜了一下，果然！于是我终于认识天线宝宝了。可以说这么多微信好友里，绝大多数表情包我都没什么感觉（强迫症如我，也几乎从不用表情包），唯有秉帅的表情包直击我内心最深处的笑点。

得知我对丰子恺感兴趣之后，秉帅还专门送了我丰子恺的书，把我拐进了微信读书的坑；虽然我很反微信，但微信读书的字体的确很漂亮，我就心甘情愿蹲坑里了。

秉帅过去这一年命途多舛；想来已经有八九个月不见天线宝宝了。
---
title: 谢轮眼
date: '2017-02-10'
slug: xaringan
---

2011 年的时候我曾经提到我第一次用 [HTML5 幻灯片](/cn/2011/11/html5-slides/)。从那以后我就转向了 HTML5 幻灯片阵营，几乎再也没用过 LaTeX 写片子。然而这五六年来，要说真正让我心动的幻灯片样式还是我第一次尝试的那个，剩下的那些看起来有那么点帅气，但离我心里对幻灯片的预期总是差那么点儿，都不能算真爱，不足以让我半夜三点还码不停蹄。这一路我用过 Pandoc 的 dzslides，reveal.js，及后来 R Markdown 里的 Slidy 和 ioslides。这些样式第一次用的时候感觉还不错，用两三次之后画风就成这样了：

![欲说还休](https://slides.yihui.org/gif/give-up.gif)

直到去年 11 月我看见了一个叫 [remark.js](https://github.com/gnab/remark/) 的 JS 库。那感觉，各位客官可以脑补[《囚鸟》](http://music.163.com/#/m/song?id=282131)第 3 分 39 秒的雷声隆隆^[在我的软件世界还有一些雷声隆隆的时刻，希望将来有机会一一写出来。]。呐，这货，奏是朕一直追寻的。

![厉害啊](https://slides.yihui.org/gif/awesome-me.gif)

我解释一下我眼中的 remark.js 厉害在哪些地方：

1. 首先它就做对了一件简单但至关重要的事情：它的默认例子用了 [Google 网络字体](https://fonts.google.com)，当我一眼看到 Yanone Kaffeesatz、Droid Serif 和 Ubuntu Mono 字体我就迈不动腿了。相比之下，其它幻灯片框架默认都是所有人已经看过五百遍的系统自带字体（reveal.js 除外）。作为字体党，一个不常见的字体是我最重要的开胃菜。比如上周我把我的个人网站迁移到了 Hugo 上，借此机会我也大刀阔斧调整了我的 CSS，用了大号字，英文用 Google 网络字体，对于中文，不得不说苹果系统下的中文字体实在太精致，就连宋体都是那么养眼，看了苹果的宋体再看 Windows 的宋体真的感觉辣眼睛。我的网站字体问题下次再详谈（这是我第一次找到楷体的用武之地）。

1. remark 是基于 Markdown 的幻灯片框架，这听起来没什么新奇的，这世界上已经处处 Markdown 了，但它又做对了几件至关重要的事情：

    - 它有元素对齐的语法！这特么实在太重要了。无数个日夜我都想居中一些元素，可是只能写丑陋的 HTML 语法 `<div style="text-align: center;"> </div>`。在 Markdown 中混入这些东西会严重触发我的代码洁癖，导致我时时想掀桌。

    - 不仅是对齐，它支持自定义任何元素的 CSS 类，这样让一些 Markdown 本来不支持的元素也可以通过 CSS 魔法实现了，比如脚注。它敞开了 CSS 大门，也就让幻灯片的任意元素有无穷的可定制性，前提是你要懂 CSS。通过 `.foo[]` 的 Markdown 语法对应 CSS 类名 `foo` 这件事打通了 Markdown 的任督二脉。Markdown 最大的问题就是没有语法定制单个元素的特殊格式，它只能通过全局 CSS 规则定义所有同类元素的样式。虽然我反对花里胡哨的格式（我尤其反对对单个词句着色），但有时候实在是希望能自定义一下。传统 Markdown 关死了这扇门，remark 以很简单的方式把它打开了。

1. 除了对齐单个的元素，它还支持每一张片子的全局对齐方式，比如片子所有内容居中、底端对齐。更重要的是，每一张片子都可以有自己的 CSS 类，换句话说，只要懂 CSS，你想上天就可以上天。

1. 一张片子里的内容可以以任意方式分割（语法是两短横线），分割过的片子在播放的时候会按次序一段段显示在屏幕上。比如你的爆笑 GIF 动图或者什么梗可以先藏在下面，等你讲完前两点之后再显示出来。这个“任意分割”又是一大亮点，因为传统 HTML5 框架往往只能做到对一个列表里的列表项一项一项依次出来，而 remark 可以非常放肆，你可以先一口气显示前两点，再显示第三点，再显示第四五六点。你想怎么安排你的片子内容怎么出场就怎么安排。

1. 每张幻灯片底下可以写注释。要解释这个注释有什么用，先得说一下 remark 的最强忍术的结印手势：播放幻灯片时，可以按一些快捷键，比如 `?` 或 `h` 显示帮助、`b` 让屏幕变黑、`m` 把一张片子上下左右颠倒（这特么简直太好玩了）、`c` 克隆一份当前窗口的片子到新窗口、`p` 进入演讲者模式。所谓演讲者模式，就是左右分栏格式，左栏上下分别显示当前片子和下一页片子（即：你讲当前页的时候可以预览下一页），右栏显示当前页上的注释，这些注释也可以用 Markdown 语法写，用来提醒自己一些幻灯片上没有展示给观众看的内容（比如冷笑话），这个模式只是给演讲者自己看的；前面我们说了克隆，实际演讲中，你可以克隆一份片子，以正常模式拖到投影仪上给观众看，而自己的电脑上则用演讲者模式。这样麻麻再也不怕我作报告的时候忘了讲冷笑话啦。这么说有些抽象，自己[戳开一个例子](https://slides.yihui.org/xaringan/)体验一下就知道了。

1. 一张片子可以设置背景图片！我为什么喜欢我的第一份 HTML5 幻灯片？一个最重要的原因就是图片可以占满全屏。这个功能在我用过的其它框架中几乎都没有，而我又是坚定的[图片党](https://slides.yihui.org/2017-rstudio-conf-rmarkdown-Yihui-Xie.html)（没有师姐那样的气场，只好靠大图来硬撑了）。
    - 之前有好事者在推特上给我提了一个功能请求，就是添加一个参数以便在随机的一页片子上显示 [Karl Broman 的胡子照](https://github.com/yihui/xaringan/issues/1)。这张照片背后的故事略有点长，这里就不展开了。总之呢，我觉得这个很好玩，某种程度上 Karl 就是我眼中的蒙娜丽莎，谜の微笑。

1. 其它功能如模板和代码高亮就不说了。

总之它几乎做对了每一件事情，极大解放了忍者的生产力，让我感到非常满意。别的幻灯片框架通常有天花板，你有能力也翻不过去，这是很窝心的。

那还有我什么事呢？当然有。它支持 Markdown，我自然得需要它支持 R Markdown 啊。当时我正在忙 blogdown 的事情，也很有趣，于是等等等，等到感恩节放假，在去另外一个城市的路上我用手机一边看 remark.js 的文档一边琢磨如何把它引进到 R 里面来，关键问题就是 remark 不支持 Pandoc，而是有自己的基于 JS 的 Markdown 渲染工具，所以问题就是如何绕开 Pandoc。思来想去想到一个绝妙的办法，回来集中三整天时间把它码出来。在现有的 R Markdown 扩展中，估计还没有这么黑的手段，而在我写过的 R 包中，也很少有一个我能指出[最关键一行代码](https://github.com/yihui/xaringan/blob/6a2ea5d232/R/render.R#L124)的包。这个包的代码量不大，包括注释和空行才 350 行代码，但包含了一些惊人的查克拉，我要是不说估计也很少有人能意识到。R Markdown 自身那些功能没什么惊人的，想必各位客官已经了如指掌了。先说一个普通的，就是数学公式支持，这是费了我一点脑子的事情，主要问题是 remark 不支持 Pandoc 的 Markdown 语法，所以数学公式得作特殊处理，至于怎么处理，看源代码应该是最好的理解方式，总之你可以在幻灯片中自由使用数学公式。

最厉害的其实是无限月读。

还是先说一下包的名字为啥叫 [xaringan](https://github.com/yihui/xaringan/) 吧。它是写轮眼 sharingan 的变体，把 sh 换成了 x，好让歪果仁知道我的姓 Xie 大概怎么念（而不要[念“鸡”](/cn/2015/10/interview/)），当然更重要的是搜起来好搜，虽然读起来不那么好读。写轮眼是火影中的血继限界，有催眠眼和洞察眼的功能。演讲无非也就是催眠观众以及提供洞见，所以我提供这么个写轮眼的工具。xaringan 包中的 R Markdown 输出格式名称为月读（`moon_reader`），月读是写轮眼发动的幻术，对对手进行灵魂拷问。无限月读是一种大规模幻术，让施术者的轮回写轮眼借助月亮的反射使整个世界都陷入无限的幻觉中。“无限”在 xaringan 包中的意思其实是 基于 [servr](https://github.com/yihui/servr) 包的一个本地网页服务器，这个服务器可以无限预览幻灯片：一旦启动这个术，你只需要编辑、保存你的 R Markdown 源文档，其输出可以持续更新，所以你一直都可以在旁边看到重新编译过的新片子页面，而不需要在 RStudio 中重复点击 Knit 按钮。刷新过的页面会保持你刚刚浏览的位置，比如刚刚你在第 10 页，自动刷新后还会留在那一页，而不会变成从头开始。

其实无限月读的功能并不局限在这个包支持的幻灯片上，它可以支持任意 Rmd 文档的持续编译、刷新、预览，条件是输出格式是 HTML（否则没法在浏览器中打开）。这就是 xaringan 的最大秘密：少年，你可以不必点击 Knit 按钮。

servr 包我几年前就写了，我之所以没有在公开场合正式宣传，只是因为我一直在等一个脚底板有三颗痣的人^[我比较耐等，等一样东西经常能等上两三年。]，就是 R Markdown Notebooks，而它终于来了，现在我说出 servr 包，也不会有压力了，因为多数人都不会用它，他们应该会用 Rmd 笔记本的预览功能。这样我肩上就不必背负太多维护 servr 包的压力，我早知道很多用户迫切需要更方便的预览功能，要是我早早宣传，恐怕这两年得鸡飞狗跳了。

好了，我估计我能在这个框架下老实两年了。等什么时候出去开会发现遍地写轮眼片子的时候，可能又会心生搬家念头。

![搬](https://db.yihui.org/imgur/TrIGky8.jpg)

希望有朝一日岸本齐史能用这个 R 包写幻灯片吧。
---
title: 楷体
date: '2017-02-11'
slug: kaiti
---

上周我花了一整周的时间把我各个散乱的 R 包网页、博客以及项目网站都归置到了[一处](https://github.com/yihui/yihui.org)，顿时感觉世界终于清静而有序了。

正如时间长了椅子上会长衣服的道理一样，网站的时间长了，各个页面也会长得跟蘑菇似的，东一撮西一撮；中文博客一个库，英文博客一个库，首页一个库，R 包各自有各自的 `gh-pages` 分支，还有这个那个子域名。像我这种有轻微整理癖的人，一直在这样一团混沌中忍着，终于 [blogdown](https://github.com/rstudio/blogdown) 的核心代码开发部分基本上已经完成，所以我拿自己的网站做了小白鼠试验，把所有页面一气搬到了同一个库中，由 Hugo 统一编译，所有页面样式也统一了^[Hugo 支持任意模板，所以理论上样式可以做到不统一。]。

我对 Jekyll 最大的不满就是本地预览速度实在太慢，像我这好几百篇日志的博客，动不动预览要花 30 秒，而 Hugo 编译整个网站只需要不到 1 秒。Hugo 另外一个吸引我的地方是它安装实在比 Jekyll 方便了几个数量级，它提供单个可执行文件，下载下来就可以用，我用 `blogdown::install_hugo()` 写了个封装，可以自动化下载安装 Hugo，而 `blogdown::new_site()` 直接把 Hugo 官方的 12 步快速入门步骤简化成了 1 步，让你简直没有理由不建个网站。

整个搬家过程略有些复杂，需要一些背景知识，所以就不详述了，还是留着时间赶紧写文档。这次搬家让我最满意的一件事是我突然找到了楷体在网页中的用武之地。折腾网站这么些年，我很少见有网站用楷体的，但我在琢磨引用文字的样式时，脑子一抽，心想为啥不能换个字体呢？引用块的样式最常见的就是左右两边缩进（比如两字符），然后就是左边一粗灰竖线，再不然就是显示一个引号图片在左边，表明这段文字属于引用。英文样式从来都简单，因为网络字体的体积很小，可选的网络字体也很多，而中文则比较麻烦，通常没有人用网络字体^[有提供这种服务的商业公司。]（太大）。因为我的正文在苹果系统下用了宋体，所以我试了一下对引用块文字用楷体，结果让我非常满意。瘟到死系统没什么好看的字体，微软雅黑适合小字号，而我用了大字号，雅黑在大字情况下也很难看，于是我选了仿宋，然后发现仿宋比宋体和雅黑都更适合显示大字（怪不得红头文件都用仿宋），引用块仍然用楷体，虽然不如苹果系统漂亮，但也算能忍，反正我也不会用瘟到死看自己的网页，就把头埋进沙子当不知道好了。Ubuntu / Linux 顾不上了，默认只有文泉驿字体，所以引用块的字体不会有变化。

具体的例子可以看我前面的博客或者首页，这里可以再举几个栗子。比如引用尼采的话：

> 这句名人名言我特么从来就没说过。

> --- 尼采

再比如我 [2014 年说](/cn/2014/06/perspective/)要写一写左宗棠对联的读后感，一晃两三年过去了也没抽出时间。借这个显示字体的机会先节选一段他对胡林翼的祭文：

> 悠悠我思，不宁惟是。交公弱年，哭公暮齿。自公云亡，无与为善，孰拯我穷，孰救我褊？我忧何诉，我喜何告？我苦何怜，我死何吊？追维畴昔，历三十年，一言 一笑，愈思愈妍……陈词酹酒，聊以志恸。有酒如池，有泪如丝，尽此一哀，公其鉴兹。

> --- 左宗棠《祭胡文忠公文》

好呀么一个“有酒如池，有泪如丝”……

后来我想了想为什么我这么中意楷体，其实还是因为触动了 LaTeX 神经。CTeX 的中文文档类中，引用文字就是用的楷体。
---
title: 用 Updog 挖老坟和新坟
date: '2017-02-12'
slug: old-tomb
---

这两年静态网站的部署工具真是变得简单得令人发指，而且费用低廉地跟不要钱似的（有的服务确实就是不要钱）。现在我自己的网站通过 Github 自动部署在 Netlify 上，这个方法已经够简单了，但还有比它更简单的办法，这也是我用了好一阵子但没透露的秘密武器，它就是 [Updog](https://updog.co)。

![厉害啊，图文无关](https://slides.yihui.org/gif/dino-chase.gif)

Updog 也是我脑子里的“[雷声隆隆](/cn/2017/02/xaringan/)”的项目之一，非常厉害。我发现它之后感叹了好长时间。它的主意真是简单而绝妙：它是基于 Dropbox 的服务^[意味着天朝用户基本上没法用。]，通过 Dropbox 的 API 把你的一个文件夹变成可在线直接访问的网站。原理很简单：你给 Updog 一个授权，让它可以访问你的 Dropbox 文件夹，然后它给你一个子域名^[也可以配置自己的域名。]，当用户访问一个网址 `https://foo.updog.co/bar.html` 的时候，Updog 利用自己的授权和 Dropbox API 从你的文件夹中读取文件 `bar.html` 返回给用户。这样 Updog 不需要自己的服务器存储你的任何文件，它只是充当了一个中间人角色，仰仗 Dropbox API 把你的内容传递给用户。

这样，部署一个静态网站再也不需要上传上传再上传；只要你的文件在指定的 Dropbox 文件夹里，Dropbox 会自动上传更新。也就是说，上传这个步骤变成了隐式的。只要挪一个文件到 Dropbox 里，几秒后别人通过你给的链接就可以访问这个文件了，再也不用邮件一坨坨附件往来。如果你的文件是需要保密的，Updog 还提供密码保护功能（这个功能需要付费，但终生只需要一口价 20 美元）。

理论上现在任何静态网站编译工具生成的网站都可以用这种方式部署，但我自己仍然用的 Netlify，主要是看中它的 CDN 云服务以及重定向功能，这些可以下次再说。

因为发现了 Updog，我又把自己一个千年老坟挖出来了：https://r.yihui.org 这大概是我自己设计的第一个静态网站，文件我都还没扔，所以基本上复制粘贴到 Dropbox 里，给域名设置一个 CNAME 记录指向 Updog，这个死了好几年没埋的网站就又活过来了。当然，这个网站纯属展览历史，看看洒家初学网站时的稚嫩的技术、怪异的审美以及不堪的英文；网站的内容就不要看、更不要信了，要是信了小心连年都过错。不过呢，十年前我写的 JavaScript 脚本现在仍然还可以跑，网站里面的动画戳一下按钮还可以动，这一点我倒是还有点吃惊。事实上，这个网站便是我来美帝读博的[导火索](/cn/about/)。

过去我的多数幻灯片都放在 Dropbox 的 Public 文件夹下，这是 Dropbox 的一个特殊文件夹，也就是任何人都可以通过一个特定网址公开访问的文件夹。去年下半年的时候，Dropbox 停止了这个服务。它先是停止了直接显示 HTML 文件为网页的功能，过了几个月，它干脆停止了 Public 文件夹功能，也就是说再也不能把 Dropbox 文件夹当网站用了。我不明白为什么 Dropbox 要这样做，但因为这件事，我找到了 Updog，比之前我直接用 Public 文件夹作网站的办法还要高明，比如支持自定义域名、可密码保护，等等，所以一分钟之内就看对眼了，挖了个新坟来存放我的幻灯片，现在各位客官看我的幻灯片网址大多应该是 `slides.yihui.org` 开头了。

我网站里的图片基本上也通过 Updog 服务，这是因为我的 GIT 洁癖，我不想把二进制文件（如 PNG 图片）放到 GIT 里管理，所以配置一下 knitr，直接把 R Markdown 的代码段生成的图片放到 Dropbox 里，然后 GIT 里只需要留下一行文本（图片的网址），这世界就干净多了，比如[这篇老文章](/rlp/)。个中魔法以后再详谈，感兴趣的黑客们可以看我用来编译网站的 [R 代码](https://github.com/yihui/yihui.org/tree/master/R)。
---
title: GIF 的发音问题
date: '2017-02-16'
slug: gif
---

对于 GIF，最早的时候我一直读“基辅”，感觉是中国人自然而然会把 GI 念成“鸡”，因为普通话发音里没有“鸽一”这个连音（某些山东方言里大约会有这个发音吧）。后来到了美帝，发现别人都把 G 念“鸽”，就像 gift 的发音一样，于是以为歪果仁都这么读。再后来，因为我的幻灯片经常用 GIF 动图，跟人交谈时，发现歪果仁其实也是分裂的，有人读“鸡”，有人读“鸽”。发音的派别分裂真是件麻烦事。Tomato · 特妈头 · 特妹头；Data · 逮它 · 打它；……

以下是几场[世纪大辩论](http://theoatmeal.com/comics/gif)。感觉语言[永远都不可能统一](/cn/2014/01/comp-human-lang/)。

![Data](https://s3.amazonaws.com/theoatmeal-img/comics/gif/data.png)

![Route](https://s3.amazonaws.com/theoatmeal-img/comics/gif/route.png)

![GIF](https://s3.amazonaws.com/theoatmeal-img/comics/gif/gif.png)
---
title: 数学男朋友
date: '2017-02-16'
slug: mathbf
---

前几天看见一个谣言，说 LaTeX 中的 `\mathbf{}` 命令意思是把这个命令的参数变成你的数学男朋友。然后围观群众都惊呆了，陆续发现了伪装隐退江湖多年的一些 LaTeX 命令：

- `\textit{}`：把参数作为短信发给自己，或者给 IT 部门发短信

- `\textbf{}`：给男朋友发短信

- `\texttt{}`：表示你的键盘上的 T 键卡住了（不然怎么一串 t）

- `\mathsf{}`：把数学公式移到三藩市去^[后来脑洞惊奇的万凤给加了一条更符合国情的新解释，说这个命令是表示把公式用顺丰快递寄出去……]

有好事者试了一下 `\mathgf{}`。幼稚啊，学数学的怎么会有女朋友……
---
title: 狗眼金睛
date: '2017-02-17'
slug: eyes
---

过了猴年过鸡年，过了鸡年再过狗年。年纪渐渐大，视力在变差，瞳术修炼却一刻没落下。就像[以前说的](/cn/2014/12/summary/)，“写完的东西就像拉的大便一样总要回头看几眼”，有时候看着看着就会发现[隐蔽的错别字](https://github.com/yihui/cn/commit/d558e0250)；复制粘贴真是误人，我说“优怜”是啥东东呢。

抠字真是可以抠到人跟我绝交。前几天跟编辑部的小编说，今日的文章打赏语写“赏二斤查克拉！”，然小编回头仔细着敲了一句“请各位看官赏两斤查克拉吧~”，还波浪线~，小编你这么萌你家里人造吗。我最心疼的是“二”字被替换为了“两”，黯然失色。一看平时就不专心听相声。另一位小编是天津人，一瞅就明白了，“二”和“两”有显著差异。于谦的父亲，大家都知道，也就是王老爷子，吃饭比较清淡，早上起来“吃二斤猪大肠”和“吃两斤猪大肠”的感觉完全不一样啊。

本来撸起袖子准备写 blogdown 文档了，刚写了个提纲，编译出来一看，诶？怎么单引号变得辣么长，以前没记得有辣么长啊。

![单引号](https://db.yihui.org/imgur/XgWHi.png)

于是花了两个小时研究到底肿么了，上 StackExchange [提问](http://tex.stackexchange.com/q/354136/9128)，没过多久就有答案了。解决了单引号和波浪线问题之后，发现尖尖符号 `^` 也不对劲了，貌似问题不一样，所以[再提问](http://tex.stackexchange.com/q/354258/9128)，也是十分钟就有答案了。

LaTeX 真乃虚度光阴的利器。
---
title: 逆行
date: '2017-02-17'
slug: wrong-way
---

COS 编辑部的小编辛辛苦苦写完写轮眼的文章，我从邮箱里拖出 Markdown 源文档来一看，顿时瞎了我的狗眼。满篇 HTML 标签，标题用 `<h2> </h2>` 写的，列表用 `<ul> <li></li> </ul>`，还四处掺和着 `<strong> </strong>`，我心说，太强啦。

![太强啦](https://db.yihui.org/imgur/CwBsAqs.png)

讲真，把 Markdown 写得江山如此 HTML，我刀都快掏出来了。最后左思右想，还是把卷笔刀放了回去，拿起手机相顾无言唯有泪千行，默默给小编发了个红包了事。

不过我还是很好奇，为啥会发生这种现象呢？我们这几年全力打造 R Markdown 航天飞船，玩命加油送它上天，让写作变得更简单。当一篇全是 HTML 标签的 Markdown 文档摆在我面前时，~~我没有珍惜，如果上天再给我一个机会，我还是会照样打死你~~ 我仿佛看见一个人骑着三蹦子冒着黑烟突突突在高速公路上逆行。

![你成功地引起了我的注意](https://db.yihui.org/imgur/NYbjfCI.png)

在我的追问下，小编讲，啊，前段时间写 Shiny 应用，里面用了很多 HTML 代码，于是这次顺手就敲了很多 HTML 出来……看来，还是我懒习惯了。要是让我手敲 HTML 文档，我两个标签还没敲完就要掀桌了。当然有时候不可避免需要用到 HTML，但那种情况应该是少数了。
---
title: Nakasendō
date: '2017-02-18'
slug: nakasendo
---

作为码农，背景音乐几乎一年四季都开着，我更习惯在有音乐的环境中工作，其实也未必真在听。纯音乐类的听得相对少一些，火影的曲目现在自然是很熟悉了，高梨康治、增田俊郎、六三四的这些神作以后有机会再谈。今儿个本乐盲提一首长笛曲目，叫[《Nakasendō》](http://music.163.com/#/m/song?id=1494266)，这是笛子类曲目里我最喜欢的一首[^1]，看名字也许能感觉出来与日本有关。我之所以知道这首曲子，还是从[《九阴真经》](http://baike.baidu.com/subview/3032/6833046.htm)里听来的，它基本上是黄药师和冯蘅出场的固定背景乐。

[^1]: 其次是雅尼的[《夜莺》](http://music.163.com/#/m/song?id=20744782)，第一次听到《夜莺》大约是大一的一个半夜的收音机节目里。有时候偶遇一首曲子，不知道名字，过两年再相逢，也知道了名字，其感觉就跟金圣叹的“不亦快哉”一样。

然而，若干年后我真正点开曲子的介绍之后才知道，原来这么一首强烈东方风格的曲子竟然是一个叫 James Galway  的歪果仁演奏的。这个画面跟剧中处处诗词、桃花缤纷的画面放一起，我还真有点不知所措。

> 桃花羞作无情死，感激东风。吹落娇红，飞入闲窗伴懊侬。  
谁怜辛苦东阳瘦，也为春慵。不及芙蓉，一片幽情冷处浓。

我喜欢这个老剧的一个重要原因就是里面的诗词搭配，让我印象很深，当然这是我长大后第二遍看它的时候的事情了；小时候只是为了看武侠打打杀杀，满心只想着黄药师千万别死啊别死啊，哪里顾得上看诗词。譬如前面[《运气》](/cn/2017/01/lucky/)一文中提到的“道德三皇五帝”，我最早既不是从单田芳那里听来的，也不是从郭德纲口里听来的，也不是看杨慎的作品，而是从这个剧的第一集里看来的。黄裳在山中一日世上千年，练成了绝世武功传下九阴真经，当年明教的仇人却已经大多死光了，还说什么龙争虎斗。再譬如：

> 世情推物理，人生贵适意，想人间造物搬兴废。吉藏凶，凶藏吉。富贵哪能长富贵？日盈昃，月满亏蚀。地下东南，天高西北，天地尚无完体。

最早也是从梅超风口中听来的，而不是关汉卿或者小昭。

再后来，才知道《Nakasendō》只是一个[专辑](http://music.163.com/#/album?id=152344)中的一首曲子。等我把这个专辑的其它曲目听了之后才意识到，原来当年这个剧竟然从这个专辑中找了不止一首配乐。比如《Lyrical Short Piece》《Song of the Deep Forest》通常是陈玄风和梅超风的背景乐，前一首天朗气清，衬托欢聚（有时候也用在杨紫烟和桃花岛上形容平静的生活），后一首渺无人烟、冷月高悬，陈从铁掌帮叛逃，梅从白驼山叛逃，都是没有回头路的人。单论演技，这个剧中我觉得梅超风和欧阳锋最佳。梅超风扮男装的时候和林青霞的东方不败一样豪迈[^2]，区别是东方不败更多是神，而梅超风更多是人，是人就得认命，不管她有多强硬；何况还遇上了陈玄风这么纠结和软弱的人。梅超风和欧阳锋的恶，终归都有他们的原因，是可以理解的，就像火影中的反派们，多数说到底也是当初被世人所逼。

[^2]: 其实说梅超风的男装角色比较狠毒更合适一点，不过她第一次出场时在阴风瑟瑟的街上单挑海沙派确实是很帅气。

《Nakasendō》这首曲子在剧中用了很多遍，但印象最深的还是黄药师与冯蘅第二次分开后再在洪七公设计重逢的时候。这种重逢的背景乐通常比较打动人，说实话真有点不确定如果少了背景乐，重逢是不是还那么动人，感觉剧情和音乐应该是相辅相成的。比如杨过（95 版古天乐）在全真教单挑金轮法王时，消失几年的小龙女突然出现在身后喊了一声过儿，然后背景乐陡然响起^[如果没记错，应该是喜多郎的《[响宴](http://music.163.com/#/song?id=18881532)》（Matsuri）。]；感觉听到的不是音乐，而是沧海桑田的时间。再比如第一次听到《故乡的原风景》是上初中时看陈小春演的《鹿鼎记》，后来看评论，发现居然很多人也都记得这首曲子对应着曾柔的场景，虽然我现在已经完全忘了曾柔是什么人，但我还记得那个场景，可见背景乐的洗脑功效之强。

现在回想一下，剧中最令我震撼的一个镜头是黄药师为了求解药给欧阳锋下跪磕了三个头，连欧阳锋自己都惊到了。

关于《九阴真经》，2010 年的时候我[曾经说要写它](/cn/2010/07/master-thesis-graphics-and-simulation-in-stat-models/)，过了七年，终于开了个头。
---
title: 酩酊
date: '2017-02-22'
slug: mingding
---

不记得是去年初还是前年末的时候，吃着饭听鲁迅，一天听到他纪念范爱农的一首五律（其实是三首中的最后一首），让我心中一震。后来放狗一搜，诗如下：^[原文里说第三句忘记了，不知道这里是后人加上去的还是鲁迅后来自己想起来了。]

> 把酒论天下，先生小酒人。  
大圜犹酩酊，微醉合沉沦。  
此别成终古，从兹绝绪言。  
旧朋云散尽，余亦等轻尘。

虽然初中高中课文上都有鲁迅作品，那时候也没什么体会，连“院子里有两棵树”的段子对应的课文都不记得了。有印象的只是跟闰土的友情好感人^[我小学时也有一个很要好的玩伴，所以我看鲁迅跟闰土的关系很有共鸣。因为受《少年闰土》课文的影响，我上初二的时候专门从一个同学手中花五块钱买了一本他从书店里窃得的鲁迅文集。初中班里各种牛鬼蛇神比较多，后来店主追偷书贼还追到学校里来了，所幸我买的赃物已经带回家。实际上那时候压根就看不懂鲁迅的文章，只是觉得文风好压抑。现在想想真是可惜了我的五块钱，我经常只买一袋五毛钱的榨菜吃一个星期，但那时候的我就是对书都有不可遏制的渴求，资源实在太稀少了。后来那种心境已经一去不复返。]以及感觉六一公公家的罗汉豆好好吃。

由于我是在听书，当时我就奇怪什么叫“大圆犹 mǐng dǐng”，后来搜了文字才生平第一次知道，原来“酩酊”二字念 mǐng dǐng，多年来我一直是按照偏旁念的 míng dīng。看了解释，觉得这一句写得真好，[又是](/cn/2014/01/five-years/)我欣赏的大气场起笔、小心绪落笔的风格。其实细看四句全都有这个风格：天下 → 先生；大圜 → 微醉；终古 → 绪言；云散尽 → 余轻尘。诗的意思查查差不多也能明白，但唯有一字我至今不解：“合”字怎讲？

拜广大热心网友的不走心复制粘贴所赐，中文的东西总是各种版本流传，搞不清到底哪个版本是对的，一不小心就会在网上读到一首假诗。比如百度知道里有人贴的是“微醉自沈沦”，显然应该是“沉沦”，然后“合”字也被改成了“自”。好你个百度知道，你到底知道个啥，不如改名“百度知道复制粘贴”算了。

看了字典各种可能的“合”字解释，也没觉得有哪种解释能放在这里讲通。我疑心是不是通“何”（世人皆醉，你一个微醉之人又何必自沉清水）。不知各位看官能否解答一下我的疑惑。

以下是三首中的前两首，同样让我震撼。此前我曾说“诗词写得漂亮容易，写得具体却是很难”，这里的漂亮是指抽象意义上的漂亮。其实我还有一句补充：叙事抒情容易，写人稍难，写景最难。鲁迅在写景方面尤其让我拜服。

> 风雨飘摇日，余怀范爱农。  
华颠萎寥落，白眼看鸡虫。  
世味秋荼苦，人间直道穷。  
奈何三月别，竟尔失畸躬。

> 海草国门碧，多年老异乡。  
狐狸方去穴，桃偶已登场。  
故里寒云恶，炎天凛夜长。  
独沉清冷水，能否涤愁肠？

因为我自己念错的两个字，机缘巧合之下，却开启了我对鲁迅的文章的真正兴趣，而此时距离高中从课文中读鲁迅已经过去了十四年。
---
title: 无锡锡山山无锡
date: '2017-02-24'
slug: wuxi-couplet
---

看到[落园](http://www.loyhome.com/?p=4203)里一篇关于地名的文章，想起[前年](/cn/2015/09/memory/)我在老家冻成狗的时候曾经码了几行代码暴力求解一个无聊的问题，也就是著名的“无锡锡山山无锡”一联的下联是否可以纯用地名去对。从码农的角度来说，无非就是寻找两个地名，满足几个条件：上下级关系、上级地名的后一个字和下级地名的前一个字相同、对联形式为 AB BC C AB。放狗一搜，找个地名数据库，捯饬捯饬，把所有可能的结果输出出来看能否找到有意义的一联就好了。我们的口号是，好记性不如烂键盘。

```r
op = options(stringsAsFactors = FALSE)
# 看强迫症如我，三个变量名一定都是四个字母才舒坦
prov = read.csv('http://pastebin.com/raw/9Gi2VyBV')
city = read.csv('http://pastebin.com/raw/BfmSHgWz')
dist = read.csv('http://pastebin.com/raw/bru0rWAY')
options(op)

x1 = merge(prov, city, by = 'pid')  # 省 - 市
x2 = merge(city, dist, by = 'cid')  # 市 - 区

# 省的第二字与市的第一字相同的行
x3 = x1[substr(x1$prov, 2, 2) == substr(x1$city, 1, 1),]
x4 = substr(x3$prov, 1, 2)  # 省名前两字
x5 = substr(x3$city, 1, 2)  # 市名前两字
# 按 AB BC C AB 格式打印
cat(paste0(x4, x5, substr(x5, 2, 2), x4), sep = '\n')

# 市与区的处理类似
x3 = x2[substr(x2$city, 2, 2) == substr(x2$district, 1, 1),]
x4 = substr(x3$city, 1, 2)
x5 = substr(x3$district, 1, 2)
cat(paste0(x4, x5, substr(x5, 2, 2), x4), sep = '\n')
```

结果如下。如果只管形式，也许能挑出两句人话来，但上联实在太巧，不仅仅是形式的问题，还有它具体的意义（锡山确实不产锡），所以我只能宣布这个问题从纯地名的角度来说无解，也就是说，这个优化问题的约束条件太多导致无解。

> 江苏苏州州江苏  
山东东营营山东  
河南南阳阳河南  
广东东莞莞广东  
陕西西安安陕西  
青海海东东青海  
青海海北北青海  
青海海南南青海  
青海海西西青海

> 天津津南南天津  
保定定兴兴保定  
保定定州州保定  
晋城城区区晋城  
临汾汾西西临汾  
呼和和林林呼和  
乌海海勃勃乌海  
乌海海南南乌海  
抚顺顺城城抚顺  
本溪溪湖湖本溪  
丹东东港港丹东  
阜新新邱邱阜新  
无锡锡山山无锡  
南通通州州南通  
合肥肥东东合肥  
合肥肥西西合肥  
三明明溪溪三明  
吉安安福福吉安  
淄博博山山淄博  
潍坊坊子子潍坊  
临沂沂南南临沂  
临沂沂水水临沂  
武汉汉阳阳武汉  
武汉汉南南武汉  
襄樊樊城城襄樊  
河源源城城河源  
阳江江城城阳江  
北海海城城北海  
贵港港北北贵港  
贵港港南南贵港  
成都都江江成都  
自贡贡井井自贡  
广元元坝坝广元  
六盘盘县县六盘  
临沧沧源源临沧  
红河河口口红河  
延安安塞塞延安  
商洛洛南南商洛  
固原原州州固原  
昌吉吉木木昌吉

说起这种为对而对的对联，平日老奶奶过马路都不扶的我，在晚清对联中我只服张之洞的无情对：

> 树已半枯休纵斧  
果然一点不相干

这种东西不能多看，否则容易走火入魔，从此看见任何东西只要不成对就觉得通体不舒畅。更可怕的是，本来有时候只是想写一句话，然后一言不合就开始[对下联](http://weibo.com/2514669664/Ekjxqkx9z)。
---
title: 职业羞耻感
date: '2017-02-25'
slug: shame
---

前言：这篇日志观点很偏激，一竿子捅了好几条船，可能会招来很多刺客，所以先声明一下。文中部分观点尚在疑问状态，可能会随着我认识的加深而改变。我是以小人之心度君子之腹，要是有误伤君子，在此先行谢罪。

---

园主的一篇日志《[职业羞耻感](http://www.loyhome.com/?p=4261)》戳中了几个我一直想扯但还没扯的话题。园主朋友的那句话也精确命中了我的价值观：

> 这么多聪明的人都去做广告/市场营销，想着怎么赚别人的钱，而不是为人类进步而奋斗真是可惜。

和园主一样，我比较排斥金融业，我知道这是一种偏见，但甩不掉这种偏见。实际上我针对的并不局限于金融业，而是任何我看不到通过劳动创造价值的迹象但又能挣钱的行业或行为，这里的“看不到”有两个可能的原因：一是我无知、不懂，二是确实没有创造价值。谈这个问题时，素来狂妄的我倒是没太有信心，我还是倾向于相信主要原因是我无知。一个典型的例子就是炒股^[其实还有个例子是比特币，我也没明白钱是怎么来的，为什么可以通过跑代码挖钱出来。]，我个人不炒股，也非常不屑于听那些通过炒股挣一大笔钱的例子，因为我感觉绝大多数股民炒股跟赌博也差不多，即使赚了钱，我也不明白这钱是什么机制生成出来的，以及它背后对应的劳动是什么。如果回报和劳动不能对应起来，我觉得在一个人得到回报时，这个社会里一定有人在给他背锅。作为土生土长的农民后代，我时常疑心这个社会给脑力劳动者和体力劳动者的待遇是很不公平的。农民种地，产出粮食，可以直接养活人；脑力劳动者中虽然有很多用聪明才智对社会作出重大贡献的人，比如从管理学和心理学的角度提高生产效率，但更多时候我是不解，实在不知道有些脑力劳动者的贡献到底是什么，到底凭什么他们能动动嘴就能吃饭，而农民就要面朝黄土背朝天。举个例子，前年我听喜马拉雅的时候，把我本科时候的马哲老师的节目点开听了一遍，这个老师叫[李海洋](http://baike.baidu.com/item/%E6%9D%8E%E6%B5%B7%E6%B4%8B/41184)，当年在人民大学名声非常响亮，号称四大名嘴之一，深受欢迎。他的马克思主义哲学课我当时听得一头雾水，每个字都是中文都能听懂，就是连起来之后完全不懂他在说什么，这情况跟后来我上[马克思主义政治经济学](/cn/2014/06/on-writing/)是一样一样的，我大概是跟马克思无缘吧。十三年之后我再听他的马哲课，听着听着真是怒从心中起、恶向胆边生，心情久久不能平复。为什么这样耍嘴皮子的人能在顶级大学里冠冕堂皇当教授、要钱有钱（考研班的金饭碗）要地位有地位，而世上尚有蝼蚁如杨改兰苟延残喘到活不下去要那样残忍杀死自己的四个孩子？

每念及此，我都心生一股羞耻感和无力感。羞耻是因为我懦弱地自顾自苟活着，我敲敲键盘就能轻松有饭吃，躲在美帝过着体面的生活。我很少深入谈社会问题（比如我的微博从来不转发社会问题），不是我不关注，而是我一直在默默考虑，到底我能做什么，然后就会生出无力感。与园主不同，我对我自己的职业本身倒没有什么强烈的羞耻感，我感觉我这两年做的事情还是有点价值的（虽然不能直接为社会创造价值，但希望有一些[间接价值](https://www.zhihu.com/question/28361295/answer/103651391)吧），我的羞耻感只是来源于那些用劳动直接创造了价值但活得远不如我的人，这就是我眼中的社会的终极不公。

当然，我绝对相信金融自有它的功用（比如集中成规模的资金会比散乱的资金更容易产生效率），金融业也肯定有人真的创造了价值，只不过这个价值链条对我来说太深奥了，不像种瓜得瓜那样直截了当。去年某微信群中有一个从事金融业的师弟说了一句“做啥无所谓，赚钱是硬道理，lmaooo”^[这厮一天到晚在自己的话后面加上一句 lmao，我不知道到底有什么可乐的事情整天让他笑掉屁股的。]，我看了之后大为光火，这样的人如何能成为人大校训所谓的国民表率社会栋梁？如果搞不清楚钱是怎么来的，我拿到手会觉得亏心。话虽这么说，实际操作中我也不能真的坚持这个原则。比如我一直搞不明白到底 401K（美国的退休福利计划）到底是怎么运作的，到底退休之后那看起来高得没谱的钱是从哪里来的（什么样的人在拿这些钱做什么样的投资），到底是谁创造了那些价值。然而我还是会听从多数人的建议，按最大比例往里面投工资，尽管我常年都不太关心里面的钱到底在发生什么变化，多了少了我也不知道。^[说到这里必须吐槽我们公司用过的几个 401K 网站的界面。从我的角度来说，我只关心两件事：一、我一共投了多少本金进去；二、我现在的账户里当前有多少钱。就这么简单的两件事，在网站里却非常难查清楚。我感觉他们在刻意隐藏这些信息，让用户很难知道自己到底亏了还是赚了，只是漫天画饼，告诉你三四十年后你会多么有钱。不知这个现象到底是由于网站开发人员的无能，还是揭示了一点某些金融从业人员的虚伪。]

当年我大力反结构方程模型，其实也是出于两个原因：一是我没碰到过一个关心它的数学原理的人（搞清楚结构方程模型的似然函数来历就是我本科毕业论文的唯一动机），这也就算了，问题是所有找我的人只关心怎么把系数算出来，更糟糕的是他们只想算出他们想要的系数，所谓模型只是他们的傀儡而已；二是我从没碰到过一个人能给我讲出由结构方程模型产生实际价值的案例（我是急切想知道这样的案例而不是我先入为主一口咬定不存在），我感觉多数人只是拿它自欺欺人。结构方程模型本身只是一个数学模型，数学模型不存在对与错，对与错只存在于使用者如何用它，这个模型之所以能流行，以我小人之心揣测，只不过是因为它太适合忽悠人了：原理看起来吓人（似然函数一大坨矩阵）、输出结果却容易被人操纵并且非常容易“解释”给外行听。这也是皇帝的新装的两大特点：皇帝权势大、骗子可以轻易操纵皇帝，所以皇帝穿没穿衣服，没有人敢讲。

再回到园主的第二个话题：微观经济学。由于人大统计学的历史特色，统计系学生必须修经济学，而且经济学课程的学分很重，堪比数理统计。当年我上西方经济学的课，微观听了个一知半解，宏观两眼一抹黑，那位老师比较能扯，但我感觉他颇有些聪明也有点趣味，不像马哲净是些陈词滥调还要假装高大上。微观和宏观对比起来，我显然更偏好微观，起码微观还有些东西能跟自己能感知的实际生活联系起来。前几节课讲供需曲线的时候我就在心里较真，我觉得这些曲线应该是阶梯状而不会是平滑的，当然这有点钻牛角尖了，不管怎么说，微观尚在自己可触及的范围内，宏观则空洞无比，毫无触感，当年学了些什么我现在几乎一点都想不起来了。再扯高一点，对我而言，文科里面只有这三门对我有意义：文学、历史、心理学。诸如经济学、社会学、管理学之类的，我感觉无非是心理学的延伸而已（有些“文科”我觉得并不像文科，比如会计学）。本科的时候，尤其是非典那一阵子无事可干，我便猫在图书馆看了一大堆心理学的书，那时候貌似马斯洛还没有到后来烂大街的地步，弗洛伊德我是压根没看懂，各种学派中，人本主义（也就是马斯洛那一派）对我的影响比较大，这影响可以从我给统计之都定的口号“专业、人本、正直”中看出端倪。可以看出，我这人考虑问题喜欢从个人角度出发，而不喜欢也不擅长宏观角度。我说这些不是为了要否定宏观角度，而只是想说微观对我而言是一种更有效的思考方式。如今再说到经济学，我只能拼命忍住不过度吐槽计量经济学，计量经济学跟经济学好像半毛钱关系都没有了，它就是赤裸裸的数学。这种极端抽象的方式，也是我非常不喜欢的。本来我本科的时候立志要进学术界搞统计理论的，幸好后来进了 R 坑，现在做了码农，不然要心生更多羞耻感。说到计量经济学，这也是人大统计系的必修课，当年静萍姐姐给我们上课，虽然我学得很糊涂（没办法我数学太差），但我至今仍然记得她有一次上课讲了一句“做学术研究要有点社会责任感”（原话我忘了，大意如此），那时我坐在那个阶梯教室的后排，心里小小震撼了一下。哦，说起这门课，又想起另外一件事。我们的计量经济学用的清华李子奈老师的教材，李老师应该算是中国计量界的先驱之一了，当年我跟他的一个学生有过一些来往，一天喝酒扯淡时，我向他这个学生提了我自己对计量的三个疑问，他回去传给了李老，后来据他跟我说，李老听了沉默了一周，当然我疑心他是逗我玩的（这个人说话我很难琢磨）。具体的三个问题我现在已经不记得，但大约是“你如何知道模型中没有遗漏或错用重要的变量？你如何保证预测的精度和稳定性？”之类的，也就是对解释型的模型的质疑，因为计量是偏解释的（这话过去我应该也说过多遍：解释型模型和预测型模型中我更信赖预测模型，我觉得解释型模型不靠谱，公说公有理婆说婆有理，太滑了）。

再说第三个话题：学术与清贫以及张益唐。2014 年我发了[一条微博](http://weibo.com/2514669664/BaH1AxBso)与这有关：

> 为什么作假被抓的总是做生物的？https://en.wikipedia.org/wiki/Dong-Pyou_Han 我琢磨了一下，可能是生物里面确实也太难做出东西来，一个生物博士伺候了七八年的老鼠兔子还可能毕不了业，总不能伺候一辈子吧。像数学这种冷贵专业，做出东西反正也没人懂，一不小心还能被评为重大突破然后天上砸下三百万美元。#酸葡萄#

像我这种喜欢腹黑的人，有时候会把话说得隐晦一些，尤其是讽刺的时候。我绝不会无条件崇拜那些在学术界坐冷板凳多少年然后一举成名的人，我需要先想一想这个一举成名的成果我能否理解它的意义。比如张益唐辛辛苦苦多少年，终于攻克“孪生质数猜想”获得麦克阿瑟天才奖以及一大笔奖金，这样的故事乍一看很感人、很励志，但有谁能帮我解释一下“质数间的有界距离”这种东西的价值是什么？在我没有找到答案之前，我只能暂且鼠目寸光地认为它只是数学家的智力游戏。我唯一能想到的一点积极意义是，它也许能激励更多数学家做出更有意义的成果。同样，我不是要一竿子打翻数学家的船，数学显然有很多实际贡献，但我暗暗担心数学会走向纯智力游戏的结局、以让人看不懂为荣。

关于学术与清贫的联系，我完全同意园主。我觉得几百年前学术是贵族的活动，衣食无忧了才专心研究问题（像牛顿那种土豪），这才应该是学术研究者的状态。如果总要担心生计，学术真的能保持它的正直吗？我觉得一个系统如果要依赖自然人的自觉才能运作，那这个系统迟早会出问题，多数人的意志力应该都是薄弱的，尤其是你在这个社会里的羁绊（此处为火影术语）越多，你就越难保持中立（爹要看病养老、儿要吃饭，给你一个亿，让你给捏造个数据，就问你捏不捏吧）。学术界的“清贫”，我觉得原因有二：一是社会的责任（如园主所说），二是——这一点说了我可能会被学术界打死——学术界不需要那么多人做研究，供给大大过剩。我们现在总嘲笑前朝的八股文，其实翻一翻学术论文，很多连八股文都不如。2009 年年底我在《[COS 新年构想](/cn/2009/12/cos-in-2010/)》那篇日志中提到的一篇没指明出处的论文，就是一个典型的例子，看那样荒谬的论文（还是顶级刊物），真是令人怒发冲冠：农民养着这样的所谓的科研人员，就是让你给农民提这么荒谬的建议的？

一个多月前，有朋友来访，他们是虔诚的教徒，而我是坚定的[无神论者](http://weibo.com/2718604160/EfY81iN8d)，但这并不妨碍我们来往和谈话，因为他们比较温和，而我也绝对尊重别人的宗教自由（我不试图说服你脱离宗教，你也不要试图说服我加入，这样就好了）。我这人说话直率起来的时候，简直是会遭雷劈的那种，比如我可以跟信教的人讲“我不信上帝，因为我要做我自己的上帝”。这话我并没有展开解释，其实我心里想的是，在这个世上尚有如此多的不公时，让我如何相信有一个唯一的、全能的、无私的、正义的神。于是我选择以一个肉身凡胎的身份来尽量实现我所理解的正义，之所以用“尽量”二字，是因为肉身凡胎的约束条件太多，我绝非什么道德高尚之人（相反，我私心非常重），做事经常任性不靠谱，自律性也很差，天花乱坠说了一大通，落到实处，可能终此一生也做不成几件事：如果我一直只能这么苟且着，那就尽量帮一帮我认为值得帮以及欣赏的人；如果万一有一天苟富贵有足够的自由了，就转行去自然科学领域做点事情（比如追随我的初心：化学）、赶在我的高中老师们老去之前改善一下他们的物质生活条件，等等。
---
title: 是莽撞人就来单挑：关于自动格式化 R 代码的求助
date: '2017-02-26'
slug: formatR
---

[2010 年](/cn/2010/03/new-r-package-formatr/)我发布了一个叫 [formatR](/formatr) 的 R 包，它可以把乱糟糟的 R 代码自动清理成大致整齐的代码（例如自动加空格、换行等），这个包也是我当年做 knitr 的小小动力之一。虽然 formatR 是个小麻雀包，但它的开发过程中也有三个里程碑事件：

1. 最早的时候，怡轩想出了一个非常聪明的黑魔法，让这个整理过程能尽量保留代码注释；

1. 后来	Kohske Takahashi 大人提供了一个[很漂亮的黑魔法](https://github.com/yihui/formatR/commit/a2692d59f)，可以让赋值的等号自动被替换为左箭头；

1. 等啊等，终于等到 R 里面出现了 `getParseData()` 函数，让我终于不用红着脸用正则表达式去解析代码中的注释了，而是可以大大方方用官方 API 去解析；

然而，我对这个包还有两个小小的夙愿一直没能实现。虽不至于让我晚上睡不着觉，但若能实现，那真真是极好的。第一个愿望是，我希望能（尽量）控制代码的最大宽度。目前 `formatR::tidy_source()` 的宽度参数 `width.cutoff` 源自 `deparse()` 函数，而这个参数的大意是尝试在多少个字符宽度**之后**尝试断行，而我希望能在多少个字符宽度**之前**断行。因为如果之后断行，万一那个位置上恰好有个很长的变量名不能被折断，那就要等到这个变量名之后才能尝试换行，于是代码可能会超出右边界很多，这对需要 PDF 印刷品输出的写作来说是个灾难，调整起来很费神。

第二个愿望是如果小括号里的参数太多的话，就在小括号之后直接断行（原因在[前面的日志](/cn/2017/01/blank-area/)中解释过），比如：

```r
my_sum = function(
  a = 1, b = 2, c = 3, d = 4, e = 5,
  f = 6, g = 7
) {
  return(a + b + c)
}

my_sum(
  a = 1, b = 2, c = 3, d = 4, e = 5,
  f = 6, g = 7
)
```

目前 `tidy_source()` 函数只能做到：

```r
my_sum = function(a = 1, b = 2, c = 3, d = 4, e = 5,
  f = 6, g = 7) {
  return(a + b + c)
}

my_sum(a = 1, b = 2, c = 3, d = 4, e = 5,
  f = 6, g = 7)
```

当然这个不算糟糕，我可以忍。这两个愿望我更迫切需要实现第一个。客官们可能会想能不能给 R 里面的 `deparse()` 函数打个补丁，让它既支持最大宽度也支持最小宽度，如果能打补丁并且 R 核心团队愿意接受的话，那也是极好的，但显然我没有这个技能，因为 `deparse()` 的源代码是基于 C 的，我一看[一千多行](https://github.com/wch/r-source/blob/trunk/src/main/deparse.c)就两眼蒙圈，但我有一定的把握去游说一位核心团队成员接受它。如果想靠自己造轮子的话，那么应该就是两条可能的路^[其实还有第三条非常黑的路，就是暴力尝试不同宽度，看能否找到一个合适的，这个我当年我迫于 `R CMD check` 的压力早已经在 Rd2roxygen 包中[试过了](https://github.com/yihui/Rd2roxygen/blob/b16a03009/R/build.R#L154-L164)。所以不要跟我比黑招，我琢磨起黑招来我自己都感到害怕。除非是被逼急了，别一言不合就暴力求解。]：一是 `getParseData()`（注意[它有坑](https://github.com/yihui/formatR/commit/045e42b)会截断长字符串），二是用 [sourcetools](https://github.com/kevinushey/sourcetools) 包，这个我没用过，但看起来也许比 `getParseData()` 更容易操纵一点，而且作者是敝司的同事，有问题可以直接找他解决。

若客官们还有闲情逸致，可以顺便把这两个功能也一并实现了（[#57](https://github.com/yihui/formatR/issues/57)、[#62](https://github.com/yihui/formatR/issues/62)）。好了，黑客骚年们，我在[世上最大的同姓交友网站](https://github.com)上等你们的合并请求。
---
title: 知乎范儿
date: '2017-02-27'
slug: zhihu
---

我很少看知乎，并非因为我觉得知乎没有价值，而是有些知乎范儿让我觉得很看不惯。首先知乎经常让我感受到一种浓浓的装的氛围，格调仿佛高得很，这年头炫富已经为人不齿，所以都转向炫知了。

比如谢邀。回答问题就回答问题，是有人八抬大轿抬着你来回答问题还是咋地，谢你个毛线邀。这帮人要是跟我一样幸运姓谢，我估计恨不得连儿子都要取名谢邀。

再比如网侵删。这次编辑部的文章里用了这个词组，我看到立马就炸了毛了，强烈表示要在统计之都的文章里抵制这个知乎词汇。我说了我直率起来的时候简直会遭雷劈，而大为大人大量并没劈死我。我极度讨厌这个缩略语（它的意思是“内容来自网络，若有侵权，我会删除”），原因有二：

1. 用三个字缩写一句话显得很牛叉吗？当人们看不懂一个缩写的时候通常得问问作者这缩写是什么意思啊，此时作者可以叼根烟，木呜呜啊，呼，吹个烟圈，小砸，这缩写你都不懂啊，听好了，它是啥啥啥的意思；然后下次这个小砸就可以拿这个缩略语祸害下一个读者了。网侵删不是唯一的莫名其妙缩略语，有时候我真想问问这些使用者，你真的就那么忙就差两个字的时间吗？比如“取关”就不能写完整成“取消关注”吗？为了你们这些自产自销的缩略语，读者得可怜巴巴求你们解释或者放狗研究，更恶劣的是，这会激发人性的阴暗面，掌握了这些奇怪术语的人容易去继续祸害别人，不为别的，就为我懂而你不懂所以我牛叉。

1. 你特么到底能不能给我说清楚“网络”是哪个网络，你的内容到底来自哪里？写这么一句话，显得好像很注重版权似的，但实际上根本就是不负责的表现。首先，“网络”是个虚幻的概念，读者并不知道出处，更不用谈原作者能得到恰当的致谢；其次，你拿了别人的东西，然后出去跟人说“要是你发现我侵犯了你的权利，我会删除”。喂喂喂，凭什么这个“发现侵权”的责任要在人家原作者的身上？你就不能自觉一点，要么就不要拿别人的东西，要么给出精确的出处并致谢一下吗？

再比如“啥啥是怎样的体验”。我个人非常讨厌这种标题，除非是纯开玩笑（现在拿这个句式开玩笑的已经很多了）。如果你是两眼水汪汪眨巴着认真地问这种问题，我就只能无言以对了。原因有三：

1. 在我看到过的标题里，我很少觉得“体验”是一个恰当的用词。我不敢绝对说，但总体上知乎的用词更文绉绉一些，体验就是一个相对正式的词，在日常用语中出现显得很奇怪（我认为潜意识里是在显摆文化人的身份）。举[一些例子](https://www.douban.com/note/468106925/)：

    - 智商高是一种怎样的体验？
    - 长得丑是一种怎样的体验？
    - 从难看变得好看是一种怎样的体验？
    - 做职业乞丐是一种怎样的体验？
    - 有个逗比男朋友是怎样的体验？
    - 女朋友长得非常漂亮是怎样一种体验？
    - 在南方科技大学就读是怎样一番体验？
    - 在知乎上装逼是怎样的一种体验？
    
    我觉得很多问题里的“体验”换成“感觉”更恰当一些，比如“有个逗比男朋友是什么感觉”。

1. 很多问题宽泛或肤浅得我觉得只是为问而问，提问者毫无用心的迹象，不知道到底要问啥。我作为经常被问问题的人，很看重提问者是否有心，有些人用心的程度令人感动，比如本来是我自己的软件有缺陷，但他们自己花好几个小时去研究到底是不是他们自己哪里做错了，最后告诉我他们都做了哪些行不通的工作，然后问我是怎么回事。相比之下，有些伸手党惜字如金，没有前因后果，没有上下文，没有诚意，心里只想着把自己的事情办了，感觉就像“小李砸你赶紧来给朕/哀家把这段代码写了”。如果你跟我很熟，本小李砸在有时间的前提下通常还是乐意效劳的，但如果不熟，如果想从我这里得到什么，多少得走点心吧（这[不是](/cn/2015/10/software-nanny/)因为寡人傲娇，不过你怎么理解都无所谓）。

1. 我不知道提问者的目的是什么，是纯属好奇了解一下，还是想真的去体验。窃以为与其问“女朋友长得非常漂亮是怎样一种体验”，还不如试着用心找个漂亮女朋友自己去体验。否则光是问别人的体验对你的意义何在？

最后就是那种求关注的气氛，经常有答主讲类似“啊谢谢大家今早醒来竟然八千个赞了”的话。以我这种喜欢蹲墙角看自己脚趾头的性格，我非常不喜欢这种气氛。

这两年我一直在考虑创办个“扯乎”，形式和知乎相似，但就一个字：扯。不突出知识或智商或文化，光是甩开腮帮子扯。
---
title: 电高压锅
date: '2017-02-28'
slug: instant-pot
---

前面[提到](/cn/2017/01/blog/)过电高压锅。它的厉害之处其实非常简单。通过高压锅自己的电路跟用炉子烧高压锅的区别在于，用电可以实现自动控制，若检测到压力过大或温度过高，高压锅可以自己暂时断电停止加热，保持压力恒定，也可以做到气阀基本上不往外喷汽，所以几乎不损失热量，而用炉子的话由于热源和被加热的器具相互独立，则需要小心着，不然猛火烧干了锅甚至烧到爆炸，都是有可能的，而且炉子持续加热，气阀一直突突突冒汽，也损失热量。不过以前我也发现我住过的一个公寓里的电炉灶似乎有自动检测温度的功能，因为有一次我烧东西烧忘了（水都烧干了），后来发现炉子自动关了。即使这样，还是不如电高压锅智能。

我买的一个小炸锅也是用电的，原理一样，过热就自动断电，这样不容易炸糊。以前我经常在论坛上说“人脑一小步，电脑一大步”，意思是很多情况下，人如果稍微动动脑筋，电脑可以跑得快很多。这个电高压锅和电炸锅就是人脑一小步，让操作工具的人大大省心的例子。
---
title: 通又一觉醒来
date: '2017-03-01'
slug: wake-up
---

魔王何通在 COS 八卦群里接连两天被人问问题，然而由于时差原因，别人问问题的时候他总是在睡觉。昨天人家问 MXNet，他一觉醒来才看见。今天人家问对数线性模型，他爬起来时（扶额）说“又是一觉醒来”。

本来是一句很普通的话，不过我突然觉得这个“又”字有一丝禅意。瞬间随意联想到左宗棠的冷泉联：

> 在山本清，泉自源头冷起  
入世皆幻，峰从天外飞来

把下联后半句调个包，禅意便有了一丝喜感：

> 在山本清，泉自源头冷起  
入世皆幻，通又一觉醒来

---

两天后，收到魔王真迹如下。洒家作为一个字写得差的人，看见有人把我键盘敲出来的文字笔录下来，不亦快哉。

![何通真迹](https://db.yihui.org/images/tong-handwriting.jpg)
---
title: 造访曼哈屯
date: '2017-03-04'
slug: ksu
---

受 L 君之邀，前两天去了一趟堪萨斯州立大学（KSU），在植物病理学系做了个报告。我最喜欢植物系的一点是，讲台后面摆着一根竹竿，竹竿一端还有人细心缠了胶布，讲幻灯片时可以抄起竹竿在投影布上戳戳点点，比用激光笔霸气多了。

粗略了解了一下 L 君的工作，感觉生物里面还有大量的计算和作图有关的工作可以改进。心想可以组织一个志愿者团队，比如由统计系学生构成，加上几个指导老师，然后去解决那些生物里看似小但又很重要的问题，比如他们有时候画一幅图需要花十几天时间，我觉得这有点太夸张了。生物学家不是专业软件工程师，试验已经要花大量时间了，所以软件通常要仰仗别人的现成软件，而现成软件也有很大的改进空间，所以稍微了解一点生物数据又懂软件开发的人（当然还要有时间）对他们的价值非常大。

看了个树莓派拍的植物受病毒侵害的视频（十几分钟拍一张照片、最后拼接成视频），觉得挺有意思的。听说树莓派很久了，但我去年搬家之后才买了一个玩了玩，后来被我拿来接到电视机上看网络视频了，也没正经研究。

朴实的统计系童鞋们听闻我造访植物系，也把我劫持到统计系做了个茶话会聊天。我天，我这人最不会聊天，一群人在一起我通常是话最少的那个。我推门进去一看，艾玛，黑压压的人群已经顺着墙根围了一圈，弄得我在中间有点手足无措，还好话题还比较随意，尤其是一旦有人触发了我的吐槽模式，我就可以一直啰嗦下去了。会后一行中国童鞋们把我押解到当地最好的中餐馆大吃一顿，心满意足，感觉比我大奥马哈的中餐馆好多了。肉末豆角还可以掺薯条，服。

KSU 所在的城市叫曼哈顿，跟纽约那个地名一样，不过由于是中部大农村，他们都管这地方叫“屯”。我开车过去连正经的州际高速公路都没有，一路上三个小时就是一个农场接一个农场，那架势，的确是天地孤影任我行。
---
title: 第一届靠谱厮奖：邱怡轩
date: '2017-03-07'
slug: copss
---

统计学界有一个最高奖项叫 COPSS 奖，今儿个我看了小轩哥这几天的工作，心生一个想法，就是设立一个“靠谱厮”奖，第一届的奖项就颁给轩哥。COPSS 奖太洋葱白雪，还是“靠谱厮”比较接地气。

![靠谱](https://slides.yihui.org/gif/dog-help.gif)

啥叫靠谱呢？就是你期待伊做一份很有挑战性的工作，伊不仅把你期待的工作完成了，而且还顺手完成了你本没有期待的工作，让人眼前一亮，万分惊喜，心里一万个“厉害啊”奔腾而过。

![多余的工作](https://slides.yihui.org/gif/take-away-everything.gif)

我说的这个工作是 COS 网站的改版换代。这事我们几年前就开始考虑了，但一直断断续续，推一推停一停，一直也没有实质性进展。郭巨侠和颜大站长先后入坑，都没能成功把坑填平。轩哥突然原力觉醒，操起键盘花了一个周末时间，单手解决了萦绕我心头几年的两大难题。

![原力觉醒](https://slides.yihui.org/gif/git-push-force.gif)

子在川上曰：靠谱如厮夫！
---
title: 经济适用房
date: '2017-03-10'
slug: economic-house
---

前年看见 Auburn 大学有团队在打造[两万美元的经济适用房](http://www.ruralstudio.org/initiatives/20k-house)，本铁公鸡觉得挺不错的，小是小点，但很实用。我觉得传统大房子实在太低效了，维护起来又麻烦，我最不喜欢的就是经济和脑力负担给人带来的房奴的感觉，跟房子给我带来的功效相比，这些经济支出和脑力支出实在不划算。以草坪为例：据说草坪在过去是地位的象征，富人家都会有自己的草坪，然后就演变成了房子带草坪的传统，即使维护草坪的成本（灌溉、施肥、除杂草、割草）远大于它的功效。这对我来说简直毫无意义（除了绿化之外），还不如都改成菜地算了，可是按照美帝的仁慈，兔子和各种动物大军又会肆虐蔬菜，所以也很难真的种菜。

[今天又看见](http://apis-cor.com/en/about/news/first-house)有莫斯科一家公司用 3D 打印技术“打印”出一栋 38 平米的小房子，成本一万美元，24 小时完成打印。我心说，老板，这样的房子给我来一打，一套作厨房，一套作卧室，一套作办公室，剩下九套用来躲猫猫。即使来一打，也比正常的一套房子便宜很多，还可以用智能家具（比如自动控制室温）。
---
title: 可视化概率论和统计学
date: '2017-03-10'
slug: seeing-theory
---

有布朗大学的学生做了一个可视化概率论和统计学概念的[动画网站](http://students.brown.edu/seeing-theory/)。我一看，里面好多例子都是我十年前在 animation 包中写过的，只不过他用更酷炫的 D3 重写了一下，交互性更强，更吸引眼球而已。其实有些概念已经非常简单了，用动画表达的附加值并不是很大，就是图个乐。不过对一个本科生来说，能做出这么个优雅的网站和示例，也是很厉害了。稍微有点巧合的是，他的网站标题是“Seeing Theory”，[2008 年](/cn/vitae/)我的一个关于动画的报告的标题也是“See”。

虽然过去划了很多遍重点，但还是忍不住划一遍：网页技能是一个人扬名立万的性价比最高的手段。
---
title: 抨击 UNIX 哲学
date: '2017-03-11'
slug: unix-philosophy
---

有人写了一篇文章[《论 UNIX 哲学的倒掉》](https://kukuruku.co/post/the-collapse-of-the-unix-philosophy/)，我居然看完了。我曾经也是 UNIX 哲学的坚定信徒，当然现在我是什么都不会绝对信从了。

信仰这东西有很多奇妙的心理现象，比如[斯德哥尔摩综合征](https://zh.wikipedia.org/wiki/%E6%96%AF%E5%BE%B7%E5%93%A5%E7%88%BE%E6%91%A9%E7%97%87%E5%80%99%E7%BE%A4)，也就是你被人绑架时间长了之后，你会对绑匪逐渐产生同情心，进而变成帮助他、卫护他。最典型的例子应该是我经常吐槽的 LaTeX。我们投入大量的精力和时间去学习 LaTeX，最后就会变成骑虎难下，也就是中国人的一句口头禅和杀手锏：**来都来了**。学都学了，PDF 文档也这么漂亮，于是我们就要卫护任何 LaTeX 的缺点，那些惨无人道的规则都能让人挖出理由来解释，并且还要引以为豪。等我们用 Markdown 去解救 LaTeX 人质时，人质会紧紧抓着绑匪的手不肯离开，反过来还要攻击解救人员：你们这么弱，凭什么抢走我们的 LaTeX。

命令行则是另一个典型的例子。学会用命令行操纵对象的人很容易陷入命令行万能的幻觉中，其实有时候点两下鼠标更方便，但因为学习命令行比点鼠标更痛苦，痛苦的时间一长，就回不了头了，心想来都来了，再奇葩的命令行规则我也要去理解它，理解之后我的智力水平就会上一个新的台阶。然而机智的 XKCD 作者[早已](https://xkcd.com/1638/)看穿了这一切：

![Backslashes](https://imgs.xkcd.com/comics/backslashes.png)

R 社区有一个著名人物，某次我跟他说：教新手创建 R 包不能从 `R CMD build` 教起，有些人连怎么打开命令行窗口都不知道。然而他素来有点瞧不起我，自然也不愿意采纳我的意见，讲课的时候一意孤行给学生先讲 `R CMD build`，于是我在下面眼见他起高楼，还没见他宴宾客，就眼见他楼塌了。这便是 RStudio 菜单 `File -> New Project -> New Directory -> R Package` 和按钮 `Build & Reload` 的意义。命令行是有能力统治世界，但有时候真没那必要。

其实文章说的是 UNIX 的一些具体实现上的（荒谬）问题，并不是抨击哲学本身；[UNIX 哲学](https://en.wikipedia.org/wiki/Unix_philosophy)本身还是很有借鉴意义的，只是到了实现层面，人就要面临各种取舍，更糟糕的是多人合作时，各有各的脾气和偏好，于是一致性就会成问题。有时候为了少数几个人的习惯，更多人就要牺牲，越多人牺牲，就会让那些烂规则变成越来越难改变的规则，最后变成所有人集体牺牲。Makefile 特特么滴到底为什么必须用 Tab 字符……Shell 脚本语言几乎比任何一门正常的程序语言都诡异，有时候我实在没耐心去看帮助文档，直接写个 R 脚本代替 Shell 脚本了事，尽管这不是 R 的强项。
---
title: 禅意与逗比
date: '2017-03-21'
slug: zen-fun
---

前面曾说到[喜感的禅意](/cn/2017/03/wake-up/)，几天前又看见另一则更厉害的逗比禅：

> 一沙一世界，一叶一菩提。  
一吃一大碗，一睡一整天。

猝不及防。
---
title: 老残游记
date: '2017-03-23'
slug: lao-can
---

秉帅把我拐到微信读书的坑里后，我读完的第一本书是《老残游记》。有几处视角确实挺启发人的，比如正直的酷吏害民比起贪官更甚。

给我留下最深印象的姑子逸云谈论自己随着年龄增长对才子英雄的标准的变化，从最初的美男子，到后面报馆做论的人，再到曾文正公，到诸葛武侯、关公、赵云，到管仲、乐毅、庄周，到孔圣人、李老君、释迦牟尼，然而到最后，前面层层推进的才子英雄都被她否定了，变成了世间没有中意的人，也没有不中意的人。

高中语文课本上节选了一段王小玉说书，我现在全然已经忘了是选自老残游记。讲真，当年的语文课本其实是非常好的，比如后来我又看《古文观止》也发现很多课文，只是那时候脑子还没长出这根筋来体会。所以有时想想，人应该在什么年龄做什么事还真是很难有个统一标准。
---
title: 小李飞刀
date: '2017-03-23'
slug: little-li-flying-knife
---

从来没读过古龙的武侠，随意翻到《小李飞刀》，于是试读一下。霍志骥还颠儿颠儿跑来点个赞，貌似是古龙粉。

读完觉得并不喜欢这种文风，作者太霸道，没太多因果关系，说死就死说活就活，思考一件事是谁干的只要看几个特征，天底下就一定只可能是那一个人，这样的世界倒也是简单。作者操控的痕迹太明显了，像是木偶戏。就像火影里自来也之死，简直毫无逻辑，一定是岸本老贼故意要让他死，死得还那么没价值，可惜了了。

不过有件事让我后背发凉：因为我之前从没看过古龙，所以我不知道这厮竟然辣么喜欢用“嘤咛”这个词，而且指的竟然是辣样一个嘤咛……我给《R 包开发》一书[写的序](http://www.ituring.com.cn/tupubarticle/10850)里面不慎也用了这个词，本来是为了制造喜感，现在知道有些读者肯定要想歪了。完了完了。读书少就是这样的下场。
---
title: 大师的作文课
date: '2017-03-23'
slug: master-wrting
---

看了一本《大师的作文课》。微信读书的排版一塌糊涂，质量太差，所以我也稀里糊涂地读完了，不知道哪一节是谁写的。几点速记：

> 书信最要是直写性情，如曾国藩的书信便多装架子，不很好。中国人的家信写得好的不多。

有胆。虽然我没看过曾国藩家书（有点兴趣），但我猜伊说的是应该对的。然后伊举了个例子，是郑板桥的[《范县署中寄舍弟墨》](http://www.skyjiao.com/shici/view_12472.html)（第四书），真真是写得好，其中的农本思想跟我前段时间写的[职业羞耻感](/cn/2017/02/shame/)有共鸣之处。我的意思并不是农民最重要，而是说是否创造价值最重要。

> 我想天地间第一等人，只有农夫，而士为四民之末。农夫上者种地百亩，其次七八十亩，其次五六十亩，皆苦其身，勤其力，耕种收获，以养天下之人。使天下无农夫，举世皆饿死矣。我辈读书人，入则孝，出则弟，守先待后，得志泽加于民，不得志修身见于世，所以又高于农夫一等。今则不然，一捧书本，便想中举、中进士、作官，如何攫取金钱，造大房屋，置多产田。起手便走错了路头，后来越做越坏，总没有个好结果。其不能发达者，乡里作恶，小头锐面，更不可当。夫束修自好者，岂无其人；经济自期，抗怀千古者，亦所在多有。而好人为坏人所累，遂令我辈开不得口；一开口，人便笑曰：“汝辈书生，总是会说，他日居官，便不如此说了。”所以忍气吞声，只得捱人笑骂。工人制器利用，贾人搬有运无，皆有便民之处。而士独于民大不便，无怪乎居四民之末也！且求居四民之末，而亦不可得也。

后来我在喜马拉雅上听汪曾祺《冬季时节吃炒米》一文时，貌似还听到了上面这封信中对炒米的描述。

---

再看到如下这一段，十分眼熟。我以前在《[江阔云低断雁叫西风](/cn/2014/06/on-writing/)》一文中提到过 Lewis 的一段话，跟这里表达的是完全一样的意思：

> 我国旧式文字中，往往以作者自己的态度，强迫读者起同感。如叙述一悲事，结尾必用：“呜呼，岂不悲哉！”叙述一乐事，必要带“可谓乐事也已”之类。其实这是强迫读者的无理的态度。悲不悲，乐不乐，读者自会感受，何必谆谆然教诲人家呢？ 

> 描写！描写！部分的精细的分写，胜于全体的叙述和说明！再进一步说，要印象的描写！

---

接而谈到抒情诗文。看样子是朱光潜写的，我以前[引过](/cn/2015/09/memory/)里面的“步出城东门，遥望江南路”：

> 青年人容易感受情绪，却不容易于沉静中回味情绪，感受情绪而加以沉静回味是始而“入乎其中”，继而“出乎其外”，这需要相当的修养。回味之后，要把情绪表现出来，也不能悲即言悲，喜即言喜，必须使情绪融化于具体的意象，或寓情于事，如“步出城东门，遥望江南路，前日风雪中，故人从此去”，不言惜别而惜别自见；或寓情于景（即本文所谓态），如“西风残照，汉家陵阙”，不言悲凉而悲凉自见。所以言情必借叙事绘态，如果没有先学叙事绘态，言情文绝不易写得好。现在一般青年作家只知道抽象地说悲说喜，再加上接二连三的惊叹号，以为这就算尽了言情的能事。悲即言悲，喜即言喜，谁不会？堆砌惊叹号，谁不会？只是你言悲言喜而读者不悲不喜，你用惊叹号而读者并不觉有惊叹的必要，那还算得什么文学作品？

最近好像流行一个背诗词的节目，我没看，但我揣测我可能不会喜欢，因为我更喜欢私下欣赏诗词，而不是一大群人在高大上的舞台上背诵。如果拿到台上去了，它的原有韵味可能很难重现，尽管节目现场用各种道具可能会制造出一种很强的场感。就比如“步出城东门，遥望江南路”，最好就是自己脑子里把那个场景构造出来，而不是在一种轰轰隆隆的气氛下热泪盈眶。当然，我双手赞成这个节目的积极意义，让文字重新回到我们的视线里，至于是不是古文，真的无所谓。

这个顺便也击中了我的一个毛病：发帖也好，发邮件也好，我最不喜欢看见人用一大堆惊叹号了！！！求助！！！紧急！！！请帮帮我！！！这是肿么回事？？？？

---

朱光潜把文学练习进步的过程分为四个境界：疵、稳、醇、化。挺有意思，我觉得光是达到稳境就挺难了。他拿自己写字做对比，而我也是字拿不出手的人（插播广告：请[围观魔王手迹](/cn/2017/03/wake-up/)），就是因为小时候没练到把字写稳。

---

最后是独立思考：

> 读书对于作文的重要，上面大略说过了，但中国青年学生还有一件最重要的事情，是养成善于怀疑、独立思想的精神。 

> 叔本华说得好： 

> > 写在纸上的思想，不过是印在沙上的行路人的足迹；人们虽然可以因他而明知道前人所取之道路，但行路人为行路和观望前面什么风景起见，是必须使用他自己的眼睛的。 

> 所以书上记载的“真理”和“人生”究竟多是纸上的。叔本华是主张思想、反对读书的，他曾说过很妙的话：思想是自己跑马，读书是让旁人在我们的脑里跑马。他的话自然有点偏激。但是中国是一个泥古的民族【……】

好了，[第二次](/cn/2016/12/thinking/)碰到叔本华了，我以前从没注意过这个人。我一直对哲学和哲学家有偏见，可能是被大学里的马哲害的，觉得哲学不就是敲敲脑袋、总结几条理念或规则吗？有些总结简直是正确的废话，看不出意义何在。

既然第二次碰到，而且感觉还挺合意，所以头一次真正找一位哲学家的书来看。《叔本华论人生得失》，刚看个开头，看到人生就是在**痛苦**和**倦怠**中来回波动。我靠，这么暗黑，我还要不要看下去……文字还这么佶屈聱牙，一句话要看好几遍才大概明白意思，而且看了下句忘上句，不胜捉鸡。本科时候我的上铺天天看黑格尔的《小逻辑》，现在看来是位高人。
---
title: 一期一会
date: '2017-03-24'
slug: once
---

我脑子里常常装着很多有席起有席落的杂物，比如看火影的时候，我曾好几次注意到火影大人办公室外面的走廊上挂的字幅中有一幅字是“一期一会”，每次看见我都瞬间纳闷一下，啥叫“一期一会”？然而通常也不会停下来去研究。

刚才这个念头又无端冒出来，正好我在电脑前，于是[放狗一搜](https://zh.wikipedia.org/wiki/%E4%B8%80%E6%9C%9F%E4%B8%80%E6%9C%83)。原来这么厉害。
---
title: 时
date: '2017-03-24'
slug: when
---

上个月小轩哥在[微博](http://weibo.com/2185036803/EuSDBm0OA)上写了一首小诗，当时我在手机上看的，看完手机一扔，后来也忘了提。现且斗胆窃来给我的蓬荜生生辉：

> 春未雪忽至，玉花开满枝。  
孤星垂天外，明月晚照时。 

自从看了“[风来水面时](/cn/2014/06/on-writing/)”之后，我开始喜欢这种“啥啥啥啥时”的句式^[后来又见到“[建业暮钟时](/cn/2018/01/yu-wen-ji-chu/)”，一样觉得很好。]，它比较有意味，也很符合前面《[大师的作文课](/cn/2017/03/master-wrting/)》一文中说的原则。

不过像“[微醉合沉沦](/cn/2017/02/mingding/)”中的“合”字我不解一样，这里又有一字不解，“未”字怎讲？疑心“春末”，但时间又不太对。抑或指春天还未至？

好在这次是活人写的东西，应该能找到解释。不像鲁迅的诗，那个谜可能我永远也解不开了。
---
title: 域名起名服务
date: '2017-03-26'
slug: domain-name
---

因为最近几个月一直在折腾 [blogdown](https://bookdown.org/yihui/blogdown) 和网站相关的东西，顺便也给一些个人和组织提供了域名起名建议。大家都知道，计算机里最难的两件事是变量命名和决定何时刷新缓存。域名起名也属于变量命名的范畴，所以其实也很难。尽量短、好记、有意义、有新意、还得是别人没有注册的、也不能是别人注册之后天价出售的，几项原则下来就不太容易想出好域名了。

本码农虽然码力一般，但近年来对命名这件事觉得越来越顺手。这年头你要没有个自己的三达不溜点坑域名都不好意思出来跟人打招呼，用免费的 `*.github.io` 子域名不够上档次。所以来来来，洒家来提供一项业余咨询服务：若想注册网站域名，可以把你的~~生辰八字~~相关信息邮件发给我^[为啥不留言？因为个人信息可能需要考虑隐私问题。]，我在有空的条件下可以帮想名字，[全国统一零售价](https://db.yihui.org/imgur/qHN7X6M.png) ~~998 只要 998~~ 98 人民币。域名不帅不要钱，觉得帅但不给钱的不要脸。非诚勿扰。熟人免单。

我自己的域名注册在 name.com 上，如果你没用过它，可以用我的[优惠链接](https://www.name.com/referral/5ca89)去注册用户和域名，给你我各省一杯茶钱。买域名的时候默认会给你推荐 WHOIS 隐私服务，可以选择删掉它，除非你真要保护自己的隐私如地址和邮箱等。不过呢，这个隐私服务我自己倒是有负面经历：最近我注册了个域名，没有用隐私保护服务，结果接下来的好些天都有不同的垃圾邮件发到我邮箱里来问要不要网站服务，现在的垃圾广告商也真够狠的。

过去我注册的自认为比较成功的域名有：supstat.com / rnorm.org / rbind.io，还拐卖了 cosx.org 域名（这故事很有意思，[以后再细说](/cn/2017/08/cosx-org/)）^[后面三个域名暂时请不要访问，几盘大棋还没摆好。]；比较失败的域名有 cos.name 和 yihui.name（脸肿了）。
---
title: LyX 下的 ctex.lyx 模板中摘要下方首行缩进的问题
date: '2017-03-28'
slug: lyx-ctex-indent
---

有细心的同学来信问：在你的 LyX 中文模板里，摘要下面第一个段落没有缩进是怎么回事？后面所有段落都有缩进两字符。

![段落没有缩进](https://db.yihui.org/images/lyx-ctex-indent-1.png)

嗯，我就喜欢这种眼神凌厉的客官。碰到 LyX 里的任何问题第一件事是看源代码到底怎么了^[这也是为什么我一直强调没有熟练掌握 LaTeX 前不要用 LyX 的原因。]。用菜单 `View -> Source Pane` 可以发现那个“下面开始正文”的段落前少了一个空白行，所以它可能是一个假的段落：

```tex
\begin{abstract}

这里是摘要内容。

\end{abstract}
下面开始正文。
```

然而 LyX 很傲娇以及有严重洁癖，空白行不是你想加，想加就能加。如果一行上没有内容，LyX 会把这一行删掉，所以不能简单地在“下面开始正文”之前敲回车，敲了回车也会给你去掉。一向不缺黑招的我，想了个办法，就是先插入一个幽灵符^[LaTeX专用术语，`\phantom{}` 命令的作用是按照它的参数的本来体积提供一块空白占位，读者不会看到参数的内容，所以就像一个隐形的幽灵藏在输出文档中。本文中没有提供任何参数，所以并没有用到 `\phantom{}` 的真正用途，纯属为了欺骗 LyX。]，然后在幽灵符后面敲回车，这样就可以产生新段落了：

![插入幽灵符](https://db.yihui.org/images/lyx-ctex-indent-2.png)

这样出来的 LaTeX 代码是：

```tex
\begin{abstract}
这里是摘要内容。
\end{abstract}
\phantom{}

下面开始正文。
```

![段落成功缩进](https://db.yihui.org/images/lyx-ctex-indent-3.png)

问题解决。
---
title: Bradley-Terry 模型
date: '2017-03-31'
slug: bradley-terry
---

以前上分类数据分析时老师讲了个 Bradley-Terry 模型，讲得很笼统，当时我也没太搞明白。刚才看见有人报名参加 R 会议，摘要里又提到了这个模型。有些东西我第二遍看到时会特别注意一下^[虽然还有些东西我看到十遍也感觉没明白。比如 E-M 算法曾看过不下十遍，但我至今仍没觉得我理解透彻了。]，于是再瞅了一眼[维基百科](https://en.wikipedia.org/wiki/Bradley%E2%80%93Terry_model)，这次貌似明白了似然函数是怎么回事，不过关键的一步迭代算法我肯定是没时间去搞明白了。

那时课上的唯一印象是这个模型对应的 R 包不在 CRAN 上，而在一个偏僻的小角落。现在看来，算法这么简单，哪里需要去找 R 包。
---
title: 能复饮乎
date: '2017-03-31'
slug: drink-more
---

最近一周多非常忙，并行做着好几件事，最费劲的应该是我的[月之眼计划](https://github.com/cosname/cosx.org/issues/4)。召集了[十几位人柱力](https://github.com/cosname/cosx.org/pulls)以及木叶三忍^[[纲手](https://github.com/tomatoiscoding)容易确定，但谁是[自来也](https://github.com/hetong007)、谁是[大蛇丸](https://github.com/Lchiffon)我就不知道了。]，日夜兼程把查克拉注入外道魔像。

有一位人柱力叫李宇轩，我看他已经做完分配给他的工作，心想还能不能继续多接点儿活，于是脑子一抽抽问了一句：

> 壮士！能复饮乎？

壮士曰：

> 能！

真是个厉害的壮士啊。

当年高中语文课上学了这篇课文之后就记住了这一句话，因为我们同学之间经常开玩笑念叨这句话，比如喝水或喝汤时互相问候一句，“壮士！能复饮乎？”，显得比较威武豪迈。
---
title: GIT 子模块
date: '2017-03-31'
slug: git-submodule
---

我是 2009 年在~~世界上最大的同性交友网站~~ Github 上注册的。我转向 GIT 的根本原因是因为这个网站的界面好看又实用，而不是因为版本控制工具 GIT 比 SVN 好或不好，在那之前我一直蹲守在土得掉渣的 R-Forge 上用 SVN。此后四年里，我基本上一直是在 git 菜鸟状态，日常操作用到的 git 命令非常有限，基本上就是一个库克隆到本地（`git clone`），剩下的就是用图形界面操作了；因为当年在 Ubuntu 底下混，所以用 `git gui`，极少用到命令行 `git add / commit / push / pull` 之类的。我觉得在图形界面里点点点也挺好的。直到现在我仍然是以用 RStudio 的 GIT 界面为主，绝不会手工敲 `git add` 或 `git commit`，我觉得那样既麻烦又容易出错。^[最恨那种看也不看就暴力添加所有文件 `git add *` 的做法了，该提交的不该提交的都被提交了。尤其是在 GIT 历史里看见 `.DS_Store` 文件，我会爆炸。用图形界面能清楚知道自己到底每次提交了哪些文件。]

![我恨计算机](https://slides.yihui.org/gif/dump-computer.gif)

如果是自己一个人主要操作一个库，那么其实没什么需要学的，但一旦涉及到跟其他人协作，那就得开始了解稍微进阶一些的概念和命令了，比如最有用的就是分支^[对我而言，分支算比较简单有用的工具，当年我觉得稍微需要动脑筋理解的是 `git rebase`，这个也非常有趣和有用，作为一个期望 git 历史记录干净的强迫症，我经常用 ` git rebase -i master~5` 之类的命令。]。绝对菜鸟和普通菜鸟的最大区别就是，绝对菜鸟永远留在 master 次元一百年不变，普通菜鸟会考虑用新的分支去做一些没有绝对把握的事情，比如修正软件缺陷。前些日子看见[边小编](http://statsjoke.me)竟然威武地召唤出了[摘樱桃模式](https://github.com/cosname/cosx.org/pull/142)（`git cherry-pick`），我都震惊了，我用了这么些年 git 好像一共只摘过一次樱桃。显然边小编已经不是菜鸟，而是一头翼龙了。厉害啊。

![神队友](https://slides.yihui.org/gif/duiyou-4.gif)

闲话少说。

关于 git 的诸多概念，今儿个简单说其中一个：子模块（`git submodule`）。实际上我也是最近才第一次[用到它](https://github.com/rbind/yihui/tree/master/themes)。子模块的大概意思是一个 GIT 仓库下面某个文件夹的来源可以跟本库的来源不同，这个文件夹连接着别的库，这样你可以让这个文件夹通过别的库来管理，而主库唯一需要知道的信息是这个子模块当前的 git 版本（也就是那一长串 SHA 码），这样主库可以确定一定以及肯定地从别的库把这个子模块更新到特定的版本。

子模块的好处是，那个文件夹可以不需要你来管理，你只需要决定用子模块的哪个版本即可，它的真正管理是在别的库中进行。举个例子，一个网站用了别人的主题，这个网站本身有个主库，而主题（CSS/JS/图片文件等）可以是由别人写的，不需要你来维护，每次别人做了更新之后，你可以决定更新或不更新。记住，GIT 是一台精确的时光机器，你想穿梭到任意一个历史版本都可以：一手交 SHA 码（或其它标记如分支名称、标签名称等），一手交货。

子模块可以只是一个记录（来源及 SHA 码），也可以实体化，多数情况下我们还是会将它在本地实体化，即把子模块下载下来，否则那个文件夹就是个空的。

子模块可以手动添加，也可以在克隆一个主库的时候就直接实体化。对绳命已经离不开 StackOverflow 人来说，[这个帖子](http://stackoverflow.com/a/4438292/559676)的几行答案基本上概括了所有你需要知道的关于子模块的命令，我简单概括一下：

- 如果克隆库的时候要初始化子模块，请加上 `--recursive` 参数，如：

    ```bash
    git clone --recursive git@github.com:rbind/yihui.git
    ```

- 如果已经克隆了主库但没初始化子模块，则用：

    ```bash
    git submodule update --init --recursive
    ```

- 如果已经克隆并初始化子模块，而需要从子模块的源更新这个子模块，则：

    ```bash
    git submodule update --recursive --remote
    ```
    
    更新之后主库的 git 差异中会显示新的 SHA 码，把这个差异选中提交即可。

- 如果要向一个库中添加一个新的子模块，可以用 `git submodule add`，例如把我的 Github 账户下的一个库添加到 `themes/hugo-lithium-theme` 文件夹中：

    ```bash
    git submodule add \
      https://github.com/yihui/hugo-lithium-theme.git \
      themes/hugo-lithium-theme
    ```
    
    上面的反斜杠 `\` 表示一个命令没敲完，下一行继续，我只是为了显示代码方便而已（不要出现水平滚动条），把代码强行折断了，实际用的时候换不换行都行（若不换行，去掉反斜杠即可）。

GIT 子模块和函数子模块有类似之处，都是征用一支相对独立的力量来完成任务，但函数调用子模块通常都是主动式的（嘿，子模块，请借我一用），而 GIT 则是被动模式的：除非你有意更新子模块，否则子模块一直会停留在特定版本。这也体现了 GIT 的关键词：**分布式**版本控制。开发工作可以高度并行，你做你的，我做我的，需要的时候再合并各自的工作。
---
title: 深度学习艺术
date: '2017-04-01'
slug: deep-art
---

深度学习我毛线都不懂。作为外行，偶尔凑热闹看看他们都忙活些啥。上次是神经网络[学习梵高的星夜](https://github.com/jcjohnson/neural-style)，这次又冒出来一个把任意艺术风格[从一幅照片学到另一幅照片上去](https://github.com/luanfujun/deep-photo-styletransfer)。

还有人把斑马线拷贝到马身上：

{{< tweet 851124988903997440 >}}

Google 还搞了个画画的应用叫 [AutoDraw](https://www.autodraw.com)，你画个轮廓，它来猜你画的是什么。

你们一个个都是拷贝忍者卡卡西啊。会玩。
---
title: 爱屋不及乌
date: '2017-04-01'
slug: like-transitivity
---

因为两次读到叔本华都觉得很合意，于是[翻一翻](/cn/2017/03/master-wrting/)《叔本华论人生得失》，不太能读得下去，一方面是太悲观，另一方面是感觉臆断太多，半夜睡觉前看的，也没时间仔细推敲。列弛大人评曰：爱屋未必能及乌。评论非常到位。

从丰子恺的序言里被弘一法师[震撼到](/cn/2017/01/blog/)，于是后来找来《淡定·从容·心安》之淡定一书翻翻。说实话，更加看不下去，主要是我不太能接受用寓言和故事来论证的手段，而这恰好是宗教最常用的说教手段，这跟[麦兜妈妈](http://weibo.com/2514669664/BDBhXkDpI)的教育方式似乎也没太大区别。不过，众多宗教里，如果我非得选一种，我可能还是会倾向于选佛教^[只从精神角度来说，道教也行。我就喜欢道教那种“爱信信，不信滚，别在这儿打扰老子飞升”的态度，但我不选道教主要是我既不盼望长生不老，也不想嗑仙丹被毒死。]，原因我就不展开了。目前阶段我仍然不觉得避世是最好的选择。若能把七苦内化、看成人生常态，应该一样可以到达淡定、从容、心安。好几年前看《地海战记》，片子本身有点莫名其妙，但主人公亚刃被黑影追的场景让我印象很深刻。相信很多人心中应该都有这样一个代表黑暗面的影子，有些人一直逃避，有些人最终接受。这种隐喻其实在火影中也出现过，就是鸣人在真实瀑布前刚开始修炼时，只不过火影在思想上总是让我感觉有些幼稚，有些逻辑我不太能理得顺^[最典型的一个例子就是鸣人说服长门的理由。在开打之前，我已经被长门说服了：这忍者世界无法终止的憎恶和痛苦，只能靠武力终止。长门控制的佩恩六道先杀了恩师自来也，而后来竟然仍然是被自来也的书打动，而放弃了自己的计划。我不太能理解。]。鸣人接受自己的黑暗面，似乎也太快了点。

噫，我好像瞬间就扯远了。
---
title: HTML 代码中图片的 alt 属性
date: '2017-04-02'
slug: img-alt
---

审阅余博士的文章时，他[问到](https://github.com/cosname/cosx.org/pull/198#discussion_r108698510) Markdown 的图片语法 `![]()` 方括号中为啥要填文字。这是个很好的问题。要回答这个问题，必须理解 Markdown 语法和 HTML 语法的对应关系。虽然说 Markdown 语法简单，但如果完全不懂 HTML，那我觉得仍难以透彻理解 Markdown。

Markdown 语法 `![文字描述](图片地址)` 在转换 HTML 的过程中会被翻译为 HTML 图片标签 `<img src="图片地址" alt="文字描述" />`。这个 alt 属性的最大功效是为盲人或视力障碍的人提供一个文字描述，因为他们看不见图，只能靠屏幕阅读器读网页。如果图上没有 alt 属性，他们无法知道图是关于什么的，因为屏幕阅读工具只能把文字读给他们，无法把图的内容信息传递给他们。

alt 属性的次要功效是给搜索引擎提示。同样的道理，搜索引擎无法阅读位图信息，只能靠文字提示。当然，这话现在已经不完全对了，因为一方面图片有上下文的文字可以用来推断图片信息，另一方面随着深度学习技术的进步，位图里表达的信息也不是完全不能被机器理解出来。

所以方括号里要尽量添加文字描述，尽管视力正常的人在看网页时看不见这些文字；除非图片无法加载，这种情况下有些浏览器会显示 alt 文字^[以前微软的 IE 浏览器会显示著名的红叉叉，现在不知道 IE 显示什么了。]。

关于此事，其实我以前也没有特别注意过，直到 [2014 年](/cn/2014/07/user-2014/)我在洛杉矶的 R 会议上真正碰到一个盲人 R 用户。
---
title: 从网址到网页（真相竟然是……）
date: '2017-04-02'
slug: url-to-content
---

最近一年好像流行“真相竟然是这样”或者“啥啥竟然咋咋”的句式。从来不拒绝恶俗的我也在标题里跟个风。

![真相竟然是这样](https://slides.yihui.org/gif/elevator.gif)

简单科普一项跟域名有关的知识，也是回答一个基本问题：从你在浏览器地址栏敲完一个网址（或点开一个链接）到你看到那个网页，这期间背后发生了哪些事情？弄清楚这个问题的答案之后，我们就能更好理解域名有关的配置。比如你敲一个网址 `https://yihui.org/cn/` 然后回车。

解释域名知识之前先科普另一个小知识：如果链接是以文件夹名结尾，那么一般情况下服务器会在那个文件夹下找一个叫 `index.html` 的文件。注意这是“一般情况”，具体找哪个文件取决于服务器的软件配置。对于普通青年，当它是 `index.html` 也不会错到哪儿去。所以我们实际上访问的是 `https://yihui.org/cn/index.html`。^[显然不带 `index.html` 的链接更清爽。我一般看见别人的网址里带上 `index.html` 会觉得浑身不舒畅。为这个拥挤的世界节约十个字符是码农应尽的责任与义务！]

首先发生的事情是域名 `yihui.org` 需要被解析，最终目的是要找到域名对应的网站服务器，这个服务器通常是通过它的 IP 地址被找到。为了找到这个 IP 记录，得通过域名服务器（Name Server）。每个域名必须设置域名服务器，域名服务器上保存着这个域名的所有记录，这些记录有很多种，最常见的是 A 记录（域名到 IP 的映射关系）、MX 记录（邮件服务器）和 CNAME 记录（别名）。通常每一家域名注册商都会提供自己的域名服务器，但用户可以选择修改用别人家的域名服务器。下面是一条最常见的路径：

> 网址 → 域名 → 域名服务器 → 域名记录 → A 记录（或 CNAME 记录）→ IP → 服务器 → 文件夹 → 文件 → 内容返回到浏览器

继续上面的例子，大概也就是这样：

> `https://yihui.org/cn/` → `yihui.org` → `albert.ns.cloudflare.com`（域名服务器）→查到 CNAME 记录 `yihui.netlify.com` → 继续查到 CNAME 对应的 IP 地址 104.130.69.120  →找到服务器→服务器一看，哦，这个域名在我这里有收录，稍等，我把这个域名对应的文件夹下的 `cn/index.html` 文件返回给你→浏览器得到 HTML 文件并渲染出来

我当初入网站坑的时候，CNAME 记录还不太流行，通常域名都是设置 A 记录，也就是纯 IP 地址。现今 CNAME 也不是那么冷门了，例如 Github 就率先用了这个办法在 Github Pages 中支持用户自定义域名，大致说来就是 Github 会免费分配给你一个它的子域名，形如 `*.github.io`，你可以把你自己的域名设置一个别名记录，指向这个子域名，比如 `animation.yihui.org` 指向 `yihui.github.io`，由于 Github 有[我的记录](https://github.com/yihui/animation.yihui.org/blob/gh-pages/CNAME)，当用户访问 `animation.yihui.org` 时，Github 知道该把哪个网页返回给用户。CNAME 跟 A 记录比起来最大的优势就是 CNAME 是活的（一个域名指向另一个域名），而 A 记录是死的 IP 地址，CNAME 指向的域名可以随意搬家，而用户不需要去修改记录。用码农的话说，一个是传引用，一个是传值。

所有域名记录都称作 DNS 记录，每一家域名注册商应该都会同时提供域名服务器和 DNS 记录的修改。如果你选择用域名注册商默认的域名服务器，那么你可以在它家直接修改 DNS 记录。如果你选择用别家的域名服务器，那就需要在别家修改 DNS 记录，因为 DNS 记录是归域名服务器管，而不归具体的域名注册商管。

说了这一大圈，终于可以解释我年初的[小绿锁](/cn/2017/01/cloudflare/)一文中提到的 Cloudflare 了。说到底，它就是充当了域名服务器的角色，顺便从域名层面上提供了很多别的功能（如 CDN 加速、压缩 HTML/JS/CSS 文件等）。你可以在你的域名注册商那里修改域名服务器指向 Cloudflare 提供的域名服务器，然后在 Cloudflare 上添加 DNS 记录做域名解析。

如果你的网站是静态网站（纯 HTML 页面），那么我强力推荐 [Netlify](https://www.netlify.com)。这是我见过的综合性能最好的一家静态网站发布商，它的免费服务中已经有了很多实用的功能，比如支持 Hugo/Jekyll 等静态网站编译工具、免费 https、自定义重定向，等等。静态网站发布工具的传统大牌是亚马逊的 S3（跟 R 里面的 S3 毫无关系），但说实话亚马逊的工具我用起来从来没觉得顺手过，可能我是一个假的开发者。之前我也是一直用 Github Pages，虽然也挺好用，但功能比 Netlify 少，更重要的是，Github Pages 网站必须通过 GIT 管理，我的洁癖有点不太能接受用 GIT 管理副产品，也嫌麻烦。版本控制应该是用来控制源代码，当然，管理副产品也不是完全没有意义，有时候你可能确实想看看网站里那些 HTML 页面有什么异常的 git 差异。

Netlify 把网站发布简化到了极致，你甚至可以直接拖拽一个编好了的网页文件夹上传发布，几秒钟的事儿。当然，每次重复拖拽上传也很麻烦，所以我是把 Github 库和 Netlify 连起来，每次我只需要管往我的 Github 源代码库里推送新内容，编译发布的事情就留给 Netlify 去做了。如果你是用 blogdown 建站，那么 Netlify 上的编译命令可以选 `hugo_0.19`（或者 0.18 或更低版本），发布文件夹填 `public`^[因为 Hugo 默认会把网站编译到 `public` 文件夹下，类似的，Jekyll 会编译到 `_site` 文件夹下。]。Netlify 默认会分配一个随机的子域名给你，形如 `*.netlify.com`，你可以选择用它，也可以选择自定义域名^[如果你没有自己的域名而且想注册的话，参见我前面的文章《[域名起名服务](/cn/2017/03/domain-name/)》]。自定义域名在 DNS 层面的设置也就是把这个域名的 CNAME 指向 Netlify 分配给你的子域名。

如果你用了 Netlify，其实就没什么必要用 Cloudflare 了，因为后者的功能前者基本上都已经提供了，所以你没必要在域名注册商那里修改域名服务器。目前据我的了解，只有两项功能后者有前者的免费服务里没有：

1. 压缩 HTML/JS/CSS 文件。Cloudflare 可以免费压缩这些文件以节省带宽，其实基本上也就是把你的 HTML 源代码里的无意义空行空格删掉。这个功能在 Netlify 上属于收费功能。

1. 加密邮箱地址。Cloudflare 可以自动把页面上的邮箱地址用 JavaScript 代码加密，这样垃圾广告商就不能直接搜索到邮箱了，但人眼仍然可以看见正确的邮箱地址。

如果这两个功能对你意义不大，那么就只剩一个问题要考虑了：你的域名要不要用 www 前缀。这个问题有点让人头疼，也是域名问题里的一个大坑。时间有限，我不多说。如果求简单，那么就用 www，Netlify 上的域名设置参见[它的文档](https://www.netlify.com/docs/custom-domains/)。如果追求简短网址而不想要 www 的话，技术细节会复杂一些但配置也并没那么复杂，客官们可以看[这篇文章](https://www.netlify.com/blog/2017/02/28/to-www-or-not-www/)。简单说来如下：

带 www 前缀的域名实际上是一个子域名（二级域名），任何子域名都可以设置别名记录，但顶级域名（不带 www）理论上不能设置别名。Cloudflare 提供了一个黑招来绕过这个问题，这个招数名称叫“CNAME Flattening”，说白了也就是让顶级域名也可以设置别名。如果你真心希望你的网址前面不要带 www（短啊），那么可能只能选择 Cloudflare 了；否则，没有使用 Cloudflare 的必要。另外，尽管 Cloudflare 号称提供云加速，实际上在天朝访问时它是减速器，网站必须要备案^[天朝龟腚了不备案的网站不许云加速。]以及是企业付费用户才能在天朝加速。当然，即使你使用 Cloudflare 做域名解析服务，你也可以把它当做纯域名解析工具，不使用加速功能。

最后对 Cloudflare 用户再说一个小坑：如果你是 Cloudflare 和 Netlify 同时使用，那么在 Netlify 上启用 https 时，需要先关闭 Cloudflare 的 DNS 设置中的 CDN 加速功能，即：点一下那个云标志，让它变灰。然后在 Netlify 上启用 https，否则可能无法启用。启用完毕了在 Cloudflare 上要不要重新开启 CDN 都无所谓，看你在不在乎我前面说的几个功能了。

等再有空的时候我再说一说邮箱的配置。对于技术可以自理的客官，直接去 [Migadu](https://www.migadu.com) 注册并按照指引设置 DNS 记录即可（主要是 MX 记录）。有一个自己域名的邮箱看起来很别致，比起铺天盖地的 Gmail 或 QQ 邮箱帅多了。早年间，Gmail 还免费提供邮箱服务，后来关掉了变成了收费服务，我入坑早，所以我还有 `xie@yihui.org` 邮箱。我这里说的 Migadu 是众多免费邮箱服务中的一种，免费功能有限，但如果你纯粹只是为了帅，那也完全够用了。我的黑招是，开启 Migadu 服务之后只用邮箱别名（Alias），不用实体邮箱，也就是把你自定义的别名邮箱转发到你真正的邮箱。

至此，一个静态网站所需要的基本知识，除了 R 包 [blogdown](https://github.com/rstudio/blogdown) 话题略大我没细说之外，应该已经够多数人学习、掌握、应用了。
---
title: 读孟尝君传
date: '2017-04-03'
slug: meng-chang-jun
---

看《[大师的作文课](/cn/2017/03/master-wrting/)》时，里面提到《读孟尝君传》一文，作为短小精悍文章的范例。我已经完全不记得这篇文章是什么观点了，于是后来放狗重新搜了一下：

> 世皆称孟尝君能得士，士以故归之，而卒赖其力以脱于虎豹之秦。嗟乎！孟尝君特鸡鸣狗盗之雄耳，岂足以言得士？不然，擅齐之强，得一士焉，宜可以南面而制秦，尚何取鸡鸣狗盗之力哉？夫鸡鸣狗盗之出其门，此士之所以不至也。

关于这篇文章观点本身的讨论，我没那本事掺和（历史是我的弱项），古诗文网的[这篇赏析文章](http://www.gushiwen.org/GuShiWen_9daf21454d.aspx)已经从正反面讲得非常透彻。

王安石这篇文章中显露出的断然决然的态度^[其中的“特”字以及连续的一串虚词很能营造气场：“耳”、“哉”、“也”。]让我想起年初我的[去年总结](/cn/2017/01/blog/)一文中提到的罗胖。当时我说罗胖就有这个特点，凡事会说得非常断然决然，很能催眠观众，而且他和王安石这篇文章另外一个特点有共同之处，就是喜欢大张旗鼓地去推翻著名的历史公案。我不是说著名的历史事件或观点不能去推翻^[岳飞可能是逆臣、慈禧太后也许有良苦用心，我们需要在脑子里存放这些可能性，而不是一味接受教科书教给我们的那些形象。这种思维方式我双手赞成。]，而是觉得这种营销手段我不能完全认同。这种手段极其有效但副作用也很大。举个简单例子，如果让你回想天龙八部中慕容复手下的几个家将，你最先想起谁？耳边是不是先响起一句话——“非也！非也！”？

跟流行观点对着干，作为一种思考方式我觉得很值得提倡，但这个方式很容易沦为目的，即：不管你说什么，我都偏要非也非也，不管证据是否充足。
---
title: 两个动词
date: '2017-04-03'
slug: two-verbs
---

小朋友格外喜欢看鸟。昨天我们照例在窗前看鸟，我看到有些鸟（大约是燕子，我是动植物盲）猛地加速飞过邻居家的屋顶，然后在空中收起翅膀沿着抛物线自由落体的姿态就仿佛石头扔过屋顶一样，突然想起“鸟投林”的“投”字，心想这个动词用得真是精确。

> 好一似食尽鸟投林，落了片白茫茫大地真干净！

因为想起这个动词的缘故，又联想起前段时间瞬间琢磨过的“风雨飘摇”的“摇”字（参见《[酩酊](/cn/2017/02/mingding/)》文中鲁迅写的“风雨飘摇日”），同样也觉得好精确。“飘”字没什么特别之处，我们都见过飘雨，但“摇”字则不一样，若不仔细看风雨交加的景象，可能不会留心刮风的时候雨也会摇，就算留心了，当看到“风雨飘摇”四个字的时候，可能也不会在脑中重现飘摇的场景。

所以我才感叹写景最难。
---
title: 是莽撞人就来单挑：从 R Markdown 到微软 Office 输出
date: '2017-04-04'
slug: r-markdown-office
---

常年来我有两个非常难达到的目标：一个是邮件清零，另一个是浏览器标签页清零。这两个数字都不大，大约都在 40 左右。难以清零是因为里面有一些不是三两天就能搞定的想法，但我又觉得这些想法很有价值。拖着拖着一年两年过去了也不会有任何动作，感觉人都要爆炸了，所以即日起干脆列举一些出来，然后把邮件归档、浏览器标签页关掉，要是有哪些莽撞人有意去实现它们最好，没有也就算了，等我猴年马月有闲心的时候再来解决它们。

[莽撞人](https://zh.wikipedia.org/wiki/%E5%85%AB%E6%89%87%E5%B1%8F)是听郭德纲相声听来的。平时我喜欢用“壮士”称呼厉害的人。想起“莽撞人”是因为上次大为同志[一口气解决掉 32 篇文章](https://github.com/cosname/cosx.org/issues/4)，我立刻觉得这是个莽撞人，比普通壮士还厉害。

好了，说第一个想法。很久以前我注意到了 [ReporteRs](http://davidgohel.github.io/ReporteRs/) 这个包，用来从 R 生成 Office 文档，如 Word 和 PowerPoint。我感觉从细节上来说，它比 Pandoc 更灵活一些，主要是因为 Pandoc 的 Markdown 能生成的元素有限，这是它的优点（强制简化你的写作），但有时候也是缺点，尤其是被 Office 毒害了大脑的用户们，总是想这里几个字涂红，那里画个表格，表格还要合并单元格，这些用户随便提个要求 Markdown 都很难满足。

对我个人而言，我压根儿不在乎这些多余的功能，我就喜欢在强约束条件下写作，免得我老是分心注意排版的事情，但问题是，Office 用户就像[白绝](https://zh.wikipedia.org/wiki/%E7%B5%95)一样乌泱乌泱的，所以三天两头就会被人问 Word 支持的问题，而且这些用户通常也不能接受强约束条件。最后一根稻草是一次芒果的博客[赤果果挑衅](http://www.mango-solutions.com/wp/2016/10/why-i-would-rather-use-reporters-than-rmarkdown/)我大 knitr 和 R Markdown，说你家的 Word 算啥 Word。

好嘛，且待我有空用键盘收拾你。然而我没空。只好先用嘴遁。

我的天，真的会有人用 ReporteRs 写 Word 文档咩？我的意思是，一个 Word 文档竟然是靠 R 函数一句一句写出来的。这特特么是不是也太反人类了。要写一个文档，操起键盘就开始写标题、作者、日期、正文段落、章节、图表等等就好了啊，肿么是从 `doc = addTitle()` 开始呢。

我的想法是，既然 ReporteRs 的基础设施看起来比较完备，那么我们能不能给它做一个包装：外壳用 R Markdown，底层用 ReporteRs 里的函数。这个想法有至少两种可能的实现方式：

1. R Markdown 通过 knitr 转 Markdown，然后 Pandoc 介入，首先将 Markdown 翻译为 JSON 或其它结构化数据，然后把里面的元素一项一项传入合适的 ReporteRs 函数，生成一个大 R 脚本（脚本里包含 `addTitle()` 这样的 R 语句），最后通过运行这个脚本生成 Office 文档。

1. R Markdown 到 Markdown 到 HTML，解析 HTML 文件，再动态生成 ReporteRs 语句。

后一种方式的优点是可以利用 bookdown 里一些现成的功能，比如图表编号和交叉引用，缺点是 HTML 的结构化程度可能不如 JSON，翻译 ReporteRs 语句的时候可能会困难一些。

关键的一个难点是如果别人修改了 Office 文档，如何把这些修改导回 R Markdown 里。不解决这个问题，也无法回应芒果的无情吐槽。

当然我也不是有十足的把握这两条路能行得通，里面肯定还有很多细节问题需要考虑，我对 ReporteRs 的文档也不是完全熟悉。要是信了我的话，掉进大坑浪费了时间请莫怪我。

最后吐槽一下 ReporteRs 这个包名：通常我写一篇两千字的日志完全不会觉得手酸，但今天写这篇短日志却让我的左手小指感觉好酸。我早年的时候也有这个倾向，喜欢把包名里的 R 大写，如 formatR，后来基本上只用纯小写的名字了。一个包名开头要按一次 Shift 键，然后哗啦啦敲几个字母，正中间急停，再按一次 Shift 键，然后又是小写。就问你想不想掀桌。
---
title: 是莽撞人就来单挑：用 R Markdown 做海报
date: '2017-04-05'
slug: r-markdown-poster
---

去年有个机构想用 R Markdown 输出 LaTeX 海报。我说要是哪个周末我有空可以给你们整个包来干这事，一直也没时间，于是再发一张莽撞贴，看哪位莽撞人有兴趣把这事办了。本来我是想着我做个 R 包，让他们送我一张乒乓球桌（抠门如我，就这样出卖了自己的灵魂），现在我把这个奖励转让给能做出来的人。

我觉得这事应该不会太复杂，但只是我觉得。我这么觉得是因为我熟悉 knitr 和 rmarkdown 的各种黑暗面。捡重点说：

1. LaTeX 模板。Overleaf 网站上有一大堆[海报模板](https://www.overleaf.com/gallery/tagged/poster)，找两个学习一下大致的语法。

1. 大致上来说，可以基于 `rmarkdown::beamer_presentation` 构造这个海报输出格式。关键难点在于生成那些 LaTeX 环境。比如 `\begin{block}` `\begin{column}` 之类的。当然，你可以说 Pandoc 接受 LaTeX 环境啊，所以直接敲这些命令不就好了。问题是：

    1. 源代码看起来丑。
    
    1. 环境内部不能用 Markdown。如果要问为什么的话，请看[这里](https://github.com/jgm/pandoc/issues/2453)。不能用 Markdown 语法那还说个毛线，比如敲个列表又要用丑丑的 `\item`。整个人生都失去了意义。

    所以呢，黑招藏在 knitr 的 [block2 引擎](https://github.com/yihui/knitr/blob/master/R/engine.R)里。这个引擎是我在开发 bookdown 时想出来的，它没有任何技术文档，只有简略的[表面介绍](https://bookdown.org/yihui/bookdown/custom-blocks.html)，所以读源代码吧少年，源代码很短，套路却相当之深。它的目的是在 bookdown 文档中创建自定义环境，让这些环境能在 LaTeX 和 HTML 输出中通用，而且环境内部还要能支持 Markdown 语法。

如果你打通了这两关，那么剩下的事情就是语法包装了。一个海报文档看起来大约是这样的：

    ---
    title: Unnecessarily Complicated Research Title
    author: John Smith, James Smith and Jane Smith
    institute: Department and University Name
    output: mdposter::pdf_poster
    ---
    
    ```{alertblock, latex.options = '{Objectives}'}
    Lorem ipsum dolor sit amet, consectetur, nunc tellus pulvinar tortor,
    commodo eleifend risus arcu sed odio:
    
    - Mollis dignissim.
    - Sed aliquet luctus lectus, eget aliquet leo ullamcorper consequat.
    - Nascetur ridiculus mus.  
    - Euismod non erat.
    ```

这里面还有一个我没有现成答案的难点，就是嵌套环境。block2 引擎只适合单个的环境，你不能用一个 block2 块嵌套另一个 block2 块。可能需要发明额外的黑招。如果需要灵感，可以参照 bookdown 的 [PDF 格式源代码](https://github.com/rstudio/bookdown/blob/master/R/latex.R)，核心思想就是后期处理 .tex 文件，这里是正则表达式的天堂。

等你把乒乓球桌搬回家。
---
title: 大盘鸡
date: '2017-04-06'
slug: big-plate-chicken
---

很久没做大盘鸡了。看冰箱里剩的豆瓣酱都快发霉，于是买三斤鸡腿肉回来，切吧切吧，挖几大勺豆瓣酱，倒点淀粉，撒点花椒，些许料酒生抽，腌一下。面包机揉面，面条机压面条，要薄而宽，我觉得薄是整道菜的关键。长长的青椒切块，土豆切块。葱姜八角下油锅，炒会儿鸡肉放点老抽，不然煞白煞白的看着就像没味道，再放青椒和蒜，再炒吧炒吧放一丢丢水，扔土豆和旁边锅里煮了半熟的面条，继续煮一两分钟（视土豆块大小），关火焖熟土豆。

关键是面条薄，其原因是薄面条在鸡和土豆里煮煮容易吸味，最终我觉得面条比鸡和土豆好吃，不过这只是第一顿吃新鲜的感觉；等到第二顿、第三顿微波炉热热再吃，面条就硬了，也就不好吃了。
---
title: 管天管地管拉屎放屁
date: '2017-04-06'
slug: freedom
---

《人类简史：从动物到上帝》第六章《盖起金字塔》里面提到一个很有意思的概念，叫“想象的秩序”。我们的各种法律规章规则都是想象的产物，这些想象随着文明的进程会听起来越来越高级。比如《独立宣言》：

> 我们认为下面这些真理是不言而喻的：造物者创造了平等的个人，并赋予他们若干不可剥夺的权利，其中包括生命权、自由权和追求幸福的权利。

怎么可能绝对平等。再怎么说，也有生物的差异吧。自由权和追求幸福的权利就更是想象了。我在自家阳台上晒被子算不算我的自由权？然而这么自由的美帝竟然连这事也要管，小区居委会明令严禁在室外晒衣物（不管房前房后房左房右），可能是觉得有碍观瞻。那我一被子的幸福呢？

切。

飞天拉面神教要是再加一条教义是“吾真心望尔等每周谨记晒被子”的话，我明天就戴着平底锅去入教。
---
title: MathJax 与 Markdown 的究极融合
date: '2017-04-07'
slug: mathjax-markdown
---

有时候芝麻大点事我会琢磨好几个月甚至几年（当然不会一直琢磨），解决起来可能会花一整天或者好几天。这回说说 MathJax 与 Markdown 的故事。注意我要说的是纯 Markdown，不是 R Markdown。

Markdown，简单。MathJax，简单。两个搁一块儿，说简单也可以简单，说复杂可以逼死我这样的强迫症。问题是什么呢？问题就在于，现今除了伟大的 Pandoc，多数 Markdown 引擎都并不支持数学公式，所以 `$X_i + Y_i$` 在这些引擎眼中并没有什么特殊含义，只是普通的 Markdown 文本。这就麻烦大了，因为数学公式里的某些字符对 Markdown 来说可能是特殊语法，例如下划线可能是表示斜体，那前面这个公式可能会被翻译为 `$X<em>i + Y</em>i$`。垮了噻。

为了保护公式的内容不被 Markdown 引擎翻译掉，我们只有一条出路，就是把公式保护在代码标签中，也就是前后加两个反引号，例如 `` `$X_i + Y_i$` ``，这样公式内部的字符不会被当做 Markdown 文本，而是会被原样输出，如生成 `<code>$X_i + Y_i$</code>`。那么问题接踵而至：

1. MathJax 默认不检查 `<code>` 标签内部的数学公式。它在查找公式时会跳过一些 HTML 标签，如 `<pre>`、`<code>`、`<script>` 等，因为这些标签里一般不会有人需要渲染数学公式。当然，这些需要跳过的标签是可以自定义的，你可以把 `<code>` 排除在需要跳过的标签之外。

    ```html
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    });
    </script>
    ```

1. MathJax 默认也不会把单美元符号识别为行内公式，因为单美元符号可能表示货币。例如一句话中要是包含 `$50, $100`，那这里的 `50,` 算不算数学公式？从上下文看可能不算。为了避免误判，MathJax 默认采取保险策略，只把这个奇怪的语法包含的内容当做数学公式：`\( \)`。其实也不能算奇怪，因为它就是合法的 LaTeX 语法，在 LaTeX 中跟一对单美元符号基本上等价，只不过多数人嫌麻烦，都敲一对单美元符号而已。如果你想大胆启用单美元符号作为数学公式的标识，当然也不是不行：

    ```html
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']]
      }
    });
    </script>
    ```

    问题是如果你真的想写一对美元符号，而不想让 MathJax 把它们当做数学公式标识的话，你得再用一招给自己擦屁股，就是配置选项 `processEscapes: true`。它意味着你可以用反斜杠引导一个美元符号，好让它变成真正的美元符号。Mathjax 的文档我过去看过很多遍了，但不知道为什么直到今天才注意到这一点。于是：
    
    ```html
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
    </script>
    ```

1. 至此，非强迫症应该觉得任务已经完成了。我还有什么不满呢？我的不满来自于数学公式在代码标签 `<code>` 中，它让我设置起代码标签的 CSS 样式时很为难。一般来说，我喜欢行内代码标签背后稍微带一点背景色，以凸显它跟别的元素不一样（码农眼中代码总是要受到特殊待遇）。要是我给代码标签加了背景色，那数学公式也带背景色了！这怎么能忍？于是我想了个办法，把所有MathJax 识别的数学公式找出来，然后把它们头上的 `<code>` 标签移除。以下用了 jQuery：

    ```html
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>
    MathJax.Hub.Queue(function() {
      var jaxs = MathJax.Hub.getAllJax();
      for (var i = 0; i < jaxs.length; i++) {
        var $jax = $(jaxs[i].SourceElement());
        if ($jax.parent().is('code')) $jax.unwrap();
      }
    });
    </script>
    ```
    
    这个解决方案凑合能用，但又有两个逼死强迫症的问题：
    
    1. 加载 MathJax.js 的那个 `<script>` 标签不能用 `async` 属性，也就是说不能异步加载，因为我下一段 `<script>` 里马上就要用 `MathJax.Hub` 对象。如果 MathJax.js 异步加载的话，就无法保证下面的代码能运行（运行下一段时上一段不一定加载完成了）。不能异步加载意味着页面初始加载速度会变慢，因为要活生生等着 MathJax.js 被完全下载下来。
    
    1. 初始情况下所有数学公式仍然都在 `<code>` 标签中，所以第一眼看去的时候其实还是能看见背景色的，等下面那段代码运行完了那些公式的背景色才会去掉。就这少说几十毫秒多则几秒的显示背景色的时间，也不能忍。
    
    肿么破？必须先去掉数学公式的代码标签，后渲染数学公式，因为后者显著地慢，得后做。于是今天[再想了个办法](https://github.com/yihui/hugo-lithium-theme/blob/master/static/js/math-code.js)，在加载 MathJax 之前就自行识别数学公式，把代码标签去掉：

    ```js
    (function() {
    var i, text, code, codes = document.getElementsByTagName('code');
    for (i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' &&
          code.childElementCount === 0) {
        text = code.textContent;
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  // remove <code></code>
          continue;
        }
      }
      i++;
    }
    })();
    ```

    大意就是找出所有代码标签，一个个检查：如果里面的文本内容看起来像数学公式，就把代码标签去掉。当然还有一些其它限制条件，如不要处理 `<pre>` 标签里的代码，也不要处理含有别的标签的代码标签。`code.outerHTML = code.innerHTML` 是我从 StackOverflow 上找来的神来之笔，简直太聪明。
    
    然而写这段代码的时候我掉进了一个大坑，琢磨了好半天才明白怎么回事，被 JavaScript 的强力活性坑了不止一次了但还是没记住。上面的 `for` 循环看起来有点不同寻常，普通青年也许会跟我刚开始一样这样写：

    ```js
        for (i = 0; i < codes.length; i++) {}
    ```

    然后我发现有些数学公式没被处理掉。数来数去，页面里的 `<code>` 标签数量比上面代码处理的标签数量少一些，最终发现，`codes = document.getElementsByTagName('code')` 这对象竟然是个活的！也就是说，我每删掉一个 `<code>` 标签，它里面都会自动少一个元素（尽管我在循环之前就已经对 `codes` 赋值了）。所以，我每删一个 `<code>` 标签，都**不能**把 `i` 增加 1 。比如删掉了第 9 个标签之后，原本的第 10 个标签就变成第 9 个标签了。只有一个标签没处理的时候，才需要 `i++`。这上哪儿说理去……

总而言之，这段代码运行完之后数学公式脱离了代码标签，然后就可以异步加载 MathJax 渲染公式了，为自己和广大人民群众省下了好几毫秒的时间！

这一则故事告诉我们，尽管 Markdown 有很多种实现，但多数 Markdown 引擎的作者并不在乎科技论文写作，他们都没穿裤子在 Markdown 海中游泳。只有 Pandoc 对 Markdown 是真爱。如果你用基于 Pandoc 的 R Markdown，那么我上面说的所有一切都毫无意义：你可以正大光明用单个美元符号写公式，不必担心什么代码标签。对 blogdown 而言，用 R Markdown 的唯一缺点就是每个 Rmd 会生成一个 HTML 文件，这样会使得源代码库不那么干净（副产品也出现在源代码库中了），但就 Markdown 语法来说，Pandoc 绝对是无人能及。各路诸侯的野路子 Markdown 引擎，互相不那么兼容，也不那么严谨，真叫人无奈。

这就是一个给人擦屁股的强迫症的自白。以上。

哦，还有，之所以今天又捣鼓起 MathJax 来，是因为 MathJax CDN [要跑路了](https://www.mathjax.org/cdn-shutting-down/)。感觉简直世界末日。我们有辣莫多的产品都用了这个 CDN 地址，却只有不到一个月的时间去调整。[别介啊](https://github.com/mathjax/MathJax/issues/1725)。
---
title: 中英文混排中的空格
date: '2017-04-07'
slug: space
---

第十届中国 R 会议在轰轰隆隆准备中，会务让我看看赞助商 RStudio 的介绍文字是否需要修改：

> RStudio 公司成立于2008 年，创始人为JJ Allaire，R 社区领军人物Hadley Wickham 现任RStudio 首席 科学家。RStudio 旨在为R 语言提供更便利的开发环境和数据分析工具，例如RStudio 集成开发环境（IDE）、 RStudio 服务器、Shiny、Shiny 服务器、ShinyApps.io、R Markdown、RStudio Connect 等。RStudio 坚定支 持开源软件和社区，其产品多为免费开源软件，但同时RStudio 也提供相应的企业级软件应用（如RStudio 服 务器专业版、Shiny 服务器专业版等），以满足商业使用需求（如企业内部RStudio 服务器管理、售后服务支 持）。自2012 年起，RStudio 为世界各地的R 会议提供了大量赞助和支持，包括官方R 语言会议和中国R 语 言会议。为了R 语言能更持续稳定发展，RStudio 倡议与微软、Tibco、Google 等几家商业公司成立了R 联合 团体（R Consortium），每年为R 社区的开源项目提供大量资助，召集优秀人才解决R 语言现存的重要且有 挑战性的问题。

我定睛一看，嚯~我~喔！蓝瘦！这里面该空格的地方不空格、不该空格的地方反空格。空格空得不要太销魂哦。操起键盘改了一下：

> RStudio 公司成立于 2008 年，创始人为 JJ Allaire，R 社区领军人物 Hadley Wickham 现任 RStudio 首席科学家。RStudio 旨在为 R 语言提供更便利的开发环境和数据分析工具，例如 RStudio 集成开发环境（IDE）、RStudio 服务器、Shiny、Shiny 服务器、ShinyApps.io、R Markdown、RStudio Connect 等。RStudio 坚定支持开源软件和社区，其产品多为免费开源软件，但同时 RStudio 也提供相应的企业级软件应用（如 RStudio 服务器专业版、Shiny 服务器专业版等），以满足商业使用需求（如企业内部 RStudio 服务器管理、售后服务支持）。自 2012 年起，RStudio 为世界各地的 R 会议提供了大量赞助和支持，包括官方 R 语言会议和中国 R 语 言会议。为了 R 语言能更持续稳定发展，RStudio 倡议与微软、Tibco、Google 等几家商业公司成立了 R 联合团体（R Consortium），每年为 R 社区的开源项目提供大量资助，召集优秀人才解决 R 语言现存的重要且有挑战性的问题。

当然这里面有个人习惯的原因。我习惯在中文中的英文单词和数字前后空格，除非前后是标点符号，显然这是沿用了纯英文写作的习惯。其实也有点受 CTeX 的影响。默认情况下，CTeX 文档用 `xelatex` 编译出来的 PDF 中，中文里的英文单词前后会自动空格。

中英文之间加入空格的一个好处体现在网页排版中。如今还没有任何浏览器真的很好支持中英文混排时的断行问题。空格对浏览器来说是一个重要的断行提示。要是没有空格，英文单词可能会紧紧贴在中文上，导致它处在页面边缘时会连带着上一行的一个中文字符被断到下一行去，例如：

```
假装这是很长很长很长很长很长的一句话sentence。
```

英文前没有空格的时候可能会被这样断行：

```
| 假装这是很长很长很长 |
| 很长很长很长的一句　 |
| 话sentence。
```

而不是你预期的这样：

```
| 假装这是很长很长很长 |
| 很长很长很长的一句话 |
| sentence。
```

方块字都对不齐，人生还有什么意义。

断行问题在 CSS 中有几种可能的设定，但没有任何一种选项真的适合中英文混排。上面的例子显示的是默认的断句换行效果。你也可以选择让浏览器不顾一切在每个可能的字符后面尝试断行（即：只要到了边缘就断行），不管单词，但那样可能会导致这样的后果：

```
| 假装这是很长很长很长很长 |
| 很长很长的一句话sentenc |
| e。
```

就问你看了香不香菇。

你可能要问，为啥浏览器不能智能地把英文单词和中文字符分别当做整体对待呢？不要让英文粘在中文上，也不要让英文破碎成字母。我也不造啊，大概[是个难题](http://jonibologna.com/word-wrapping-woes/)吧。好几年前 LyX 邮件列表里有人报告了[类似的问题](http://lyx-devel.lyx.narkive.com/Brs5BbQz/word-wrapping-problem)，貌似 Qt 也有同样的问题。

平时我用搜狗中文输入法，里面我选上了“中文英文间加入空格”的选项，所以每当我切换中英文输入的时候（按 Shift），就会自动空格。

好了，又到了歌颂 LaTeX 的时间了（这次纯粹是躺着中枪，因为说实话 LaTeX 的换行能力比浏览器强多了）：

[![精美 LaTeX 排版](https://db.yihui.org/images/o-rly-latex.png)](http://dirkriehle.com/2016/05/14/o-rly-latex-beautiful-typesetting/)
---
title: 日本人的认真
date: '2017-04-08'
slug: japanese-attention
---

我一直觉得日本文化既奇怪又有趣，我非常喜欢他们那种认真劲。以前说过《[整理魔法](/cn/2015/10/tidy/)》。今天看见[一篇文章](http://www.atlasobscura.com/articles/pointing-and-calling-japan-trains)说日本铁道工作者的一个奇怪手势，就是他们做任何事情都一定会用手指一下。比如列车长报告车速，不能光是用嘴说当前车速多少，而是一定要用手指着仪表盘说。负责检查列车进站出站时轨道是否有异物（石头、垃圾、甚至人）的工人一定要用手指着轨道报告说轨道正常。

原因竟然是……

这样做可能让错误减少 85%。这些人被要求一定要用手指着他们的工作对象报告，是为了用这个看似多余而可笑的动作抵抗他们随便糊弄的潜意识、保持主动认真的工作意识。比如一个人要是每天每隔三分钟检查一遍铁轨是否有异物，这种重复劳动可能让他的神经系统警觉性变低，万一一个人掉下轨道，他可能会机械性忽视掉，从而发生悲剧。如果被强制要求检查轨道的时候一定要用手从近往远的轨道指一遍，他的注意力应该更集中，真的把轨道看一遍。

这种细节程度的考虑实在让人佩服。

于是又想起以前看《樱桃小丸子》的时候，有一集里讲发生自然灾难（比如地震）的时候同学们应该怎样逃生。里面有个细节引起了我的注意，就是老师跟同学们说，往外跑的时候要把双手抱在胸前。初看不能理解为什么要这样做，后来才明白是为了防止有人用手推人导致别人摔倒而发生踩踏。
---
title: 自制腊肉
date: '2017-04-08'
slug: smoked-bacon
---

[前面说到](/cn/2017/01/blog/)过腊肉项目。我感觉自制腊肉的工序并不太复杂，说白了就是用盐腌一下肉，熏一下，挂出去晾干，但可能需要一点耐心。

每个人的吃货基因里大概都有一段家乡的编码一辈子也抹不去。在美帝这些年我最想吃的东西是腊肠，可惜买不到家乡风味的（麻辣）；能买到的多是粤式、港式香肠，而本吃货最不喜欢的就是甜香肠。其实我对多数做成甜味的肉菜都不喜欢，只有少数例外，如红烧肉、糖醋排骨（这两个菜的甜并不是主打味）。

上个冬天终于忍不下去，决定自己动手，丰衣足食。腊肉就用亚洲店的五花肉，腊肠最开始用的是肉馅（去一趟沃尔玛把那里所有的猪肉馅库存都买光了），后来发现肉馅不合适做香肠，还是用五花肉自己切小块了更合适，所以一冬天前前后后估计买了大几十斤五花肉。灌香肠的工序稍微复杂一点，今儿个先不谈，只谈腊肉。

材料基本就是五花肉和盐。把盐用少量花椒八角炒一下，在五花肉表面涂匀，装保鲜袋里放冰箱腌三天，拎出来挂外面风干。我家一个亲戚跟我说拎出来先洗一洗表面的盐，不过我觉得这取决于你用了多少盐。我第一次做的时候用了大量的盐，后来的肉吃起来跟吃盐巴没两样，齁咸，那种情况下确实应该洗洗。后来我用盐少了，也懒得洗了，直接风干。风干之前需要先把肉用烟熏一下。最早我把肉放在烤肉架上，下面点燃木屑了熏（沃尔玛有专门熏肉的木屑可以买到），效果不太好，因为烤肉架太浅了，火离肉太近，容易把肉烧着。后来我左思右想痛下决心买了一个电烟熏箱，专门用来熏肉，好用多了。熏几个小时之后拿出来晾着风干一周就差不多了。

问题就在风干上。其实把肉挂在外面风干是最好的选择，空气自然流通，很快就能把肉晾好了，但前面我说了美帝对动物太仁慈，要是挂外面的话，各种动物会肆无忌惮来侵犯你的食物，我刚开始不知道，结果一夜之间就被什么动物给我叼走了几块肉。后来只好挂在车库里，关着门慢慢阴干。

另外一个办法是熏肉的时候把电熏箱上面的风门留大一点，加热的时候把肉里的水分尽量蒸发出去，但我怕温度高了把肉直接烤熟了，而温度低了发烟效果又不好，所以只能熏一会儿出去看一下、调整一下。这需要一点耐心。

其实我也并没有完全的耐心，为了让肉快点干，我看看外面要是刮风或干燥天气，白天我就把肉搬出去吹着，晚上搬进来。那场景，就跟《东成西就》里的三个怪物来来回回搬马桶一样。

断断续续忙活了一冬天，就为了能吃到肥肉是透明的、带着柴火味儿的肉。现在冰箱里的肉和肠应该能撑过这个夏天，终于了却本吃货的一大心愿。

![自制腊肉](https://db.yihui.org/images/smoked-bacon.jpg)

以上图片深刻表明：这个碗不够圆！（宽 400 像素、高 403 像素）
---
title: 厨房定量法则
date: '2017-04-10'
slug: food-quantity
---

我觉得做饭考虑原材料定量时有时候挺反直觉的。于是简略总结一下我的定量法则，对新手可能有参考价值：

1. 发木耳：倒出来你本来觉得合适的量，减去三分之二，最后泡发出来的量差不多会是你预期的量。

1. 煮稀饭：倒你觉得合适的米，放回去一半；加你觉得合适的水，再加一倍。

1. 土豆丝：拿你觉得合适的土豆数量，视个头大小，减去一个或两个，切出来一盘还能装满。

1. 炸油条：倒你预期的油量的一半。锅里有两三厘米高的油就够炸了。

1. 炸香辣鸡块：不必真的放饭店里那么多辣椒，不然炸出来会辣到爆炸。

1. 炒嫩叶菜如菠菜：有多少炒多少，放再多，炒着炒着就没了。所以，预期放多少盐，至少减掉一半。

1. 炒茄子：你想放多少油，再加一倍也没事。

1. 红烧肉：想放多少冰糖，再加一倍也没事。

1. 需要加水煮但最后不需要汤的肉菜如糖醋排骨：少加水！加水容易，最后要把水煮干可是费劲。如果肉里有蔬菜，更要少加水，不然蔬菜再一出水，水漫金山。

1. 揉面：面多了加水，水多了加面……^[当然可以做到精确测量，但我从来不量，都是随意倒的。总的来说，面略稀比略干要好处理，除非手劲贼大。]

没想到坐这儿随便一想，竟然凑了个整数，赶紧见好就收。
---
title: 酸辣土豆丝里的葱
date: '2017-04-10'
slug: green-onion
---

前天在一个餐馆吃饭，瞄菜单的时候不经意看到酸辣土豆丝的照片中的葱。嚯，我用葱绝大多数情况下都是切碎了撒上，这次突然发现照片里的葱是切长段，看起来甚是好看。因为葱花撒到土豆丝里很容易就看不见了（即使能看见，也很杂乱），但绿油油的葱段在黄灿灿的土豆丝里却有很好的装饰效果。

又想起若干年前在国内一个餐馆吃饭前，路过厨房看见师傅正在准备拌沙拉。他拿过一颗紫甘蓝，刷刷把外面几层叶子都扒下来扔了，我看那叶子是好好的应该可以吃。遂意识到了本铁公鸡炒包菜的口感不那么好的可能原因之一。
---
title: 第二届靠谱厮奖：俞丽佳
date: '2017-04-11'
slug: copss-2
---

上个月我们颁发了《[第一届靠谱厮奖](/cn/2017/03/copss/)》。时光荏苒，岁月穿梭，我们很快就迎来了第二只靠谱厮[俞丽佳](http://yulijia.net/)。这一只靠谱厮的速度真是快，我本以为交给她的任务至少需要一个月才能做出个雏形来，结果她过了一周就以迅雷不及掩耳盗铃之势[交货](/animation/)了。

![快速完成任务](https://slides.yihui.org/gif/dog-drag.gif)

这事是我好些年前就想做但没做好、后来又停下了的工作：R 动画包 [animation](https://github.com/yihui/animation) 的网站。十年前我用 Dreamweaver 纯手工打造的动画网站在 <https://R.yihui.org>，后来有一阵心血来潮用 DokuWiki 重做了一遍，然而兴奋了没两年，又觉得不靠谱了，因为需要手工维护。后来各位客官应该都知道了，因为痛恨需要手工维护的代码输出^[如果可能，我希望只维护源代码而不要维护输出，输出应该是可以从源代码自动生成的东西。]，我从 2011 年开始出门去绕大圈，从 knitr 开始，先绕 LaTeX，完了绕 Markdown，然后是单个文档（rmarkdown）、论文（rticles）、书籍（bookdown）、幻灯片（xaringan），现在绕到了网站阶段（blogdown），终于可以开始着手解决我最初的问题。

2013 年 2 月我写了[一篇日志寻人](/cn/2013/02/waiting-for-thousand-years/)帮我重新整理 animation 包的网站。于是丽佳君立马跳将出来：

![第一封邮件](https://db.yihui.org/images/lijia-email.png)

我又做了[第三次充满野心的尝试](http://vis.supstat.com)，这次是基于 Jekyll 和 knitr，但结果我仍然不满意。我觉得从 2013 年到现在虽然没过几年，但网站的基础设施发生了巨大的变化，部署静态网站已经变得简单地不能再简单。当年我纠结了好一阵子的问题是那些动画文件存在什么地方，其实纠结也是因为自己的特殊洁癖：不想把从代码输出的二进制文件（如图片）放进版本控制系统，于是想了一个非常黑的黑招，把图片存到了 R-Forge 上，估计这个黑招至今也没几个人发现。

五年后，我再次动了这个念头，想把动画网站复活。虽然 animation 包里的 R 代码写得一塌糊涂（毕竟是我的第一个 R 包，新手上路多多关照），但我觉得有些演示还是有那么点意思，比如[高尔顿板](/animation/example/quincunx/)（豌豆机）：

<video controls loop autoplay><source src="https://assets.yihui.org/figures/animation/example/quincunx/demo-a.mp4?dl=1"><p>高尔顿板的演示</p></video>

因为做了两年 Markdown 相关的开发工作，我现在经常自问自一个问题：这个功能要是去掉会不会让人失眠？换句话说，这货还能简化吗？

前两个版本的网站我觉得维护起来痛苦的另一个原因是我当初想让动画支持播放器功能（进度条、播放、暂停、快进、循环按钮等等）。为了在 HTML 页面中重新发明一个播放器，就得捣鼓 JavaScript，还得存一大堆图片，每幅图就是动画的一帧。贼啦繁琐。

第四版动画网站我决定放弃这个复杂的播放器，直接将动画用 FFmpeg 转化为单个 MP4 文件。然后觉得整个世界都清静了！本质上，就是放弃了自己造的播放器轮子，替换为客户端的系统 MP4 播放器。这年头谁的浏览器还不支持播放 MP4 文件呢？^[嘿，你还别说，还真有不支持的。要问它是谁的话，它就是 RStudio。好吧，我的脸又肿了。]

简单说，所有 MP4 文件通过 knitr 自动输出在我的 Dropbox 文件夹里，用 [Updog](/cn/2017/02/old-tomb/) 做服务器。网站源代码放在 [Github](https://github.com/rbind/yihui) 上，别人可以提交合并请求。如果需要大规模贡献，我把这个文件夹共享一下就好了。

丽佳君之所以可以做到雷霆万钧之势把这事摆平，主要是写了一个 Shell 脚本把我所有的例子都自动转化成了 R Markdown 文件。跟这样的莽撞人合作让人觉得很舒畅，一个重要原因是她已经非常熟悉脚本工作方式以及 GIT，我无须在技术细节上费心。

该靠谱厮有一点微妙的幽默感，我觉得很逗。其网站分类目录都是四个字，整整齐齐，显然是强迫症的表现；分类里有一类叫“[壳牌脚本](http://yulijia.net/cn/categories/#壳牌脚本)”。神翻译，哈哈哈哈哈。
---
title: 莽撞鸟
date: '2017-04-11'
slug: tough-bird
---

寡人正端坐在电脑前上朝敲着代码，突然听见外面客厅的窗玻璃上猛然咣的一声，心想这哪个熊孩子朝我家玻璃扔东西。退朝出去一看，玻璃上几根鸟毛，外面地上一只两眼懵圈、故作镇定的鸟，装作若无其事的样子左看看右看看，仿佛怕我看出来它有多笨似的。撞玻璃的苍蝇见的多了，倒是头一回见鸟还能飞着飞着撞窗玻璃上，还给我撞出这么大一个印子外加贴上了几根绒毛。

前几天刚说[鸟投林](/cn/2017/04/two-verbs/)。这次是结结实实投我家玻璃上了。
---
title: 周鸿祎的轮子
date: '2017-04-13'
slug: repeat
---

看了一篇周鸿祎的短文《[管理者都是重复推轮子的人](http://cj.sina.com.cn/article/detail/1656384667/211055)》，觉得挺有共鸣。我没有追星的习惯，也不在乎一个人名气多大，就算现在哪个超级巨星或领袖到我门口来了我都懒得出门去看一眼^[我觉得在明面上追星是害人家明星。其结果大致有二：干扰他/她的个人生活；惯坏他/她、使其变成自以为是的人或者得到不该得到的权力。关于娱乐圈或社交圈那些名人，我就两点意见：1. 关我屁事；2. 关你屁事。不知道我这是不是得了犬儒主义的病。]；不过想来这些所谓的名人里，我其实还挺喜欢周鸿祎这个人的，他的鸡汤熬地跟别人的味道不太一样（一股土鸡味道）；那些熬鸡汤的要么自己无能，只好仰仗鸡汤幻想一个美好的世界，要么离我等众生太远，在高处不胜寒的地方说出来的话，我等也听不懂，听懂了也没啥用（先挣一个亿大概能更明白一些吧）。

我前几周开始实施的[月之眼计划](https://github.com/cosname/cosx.org/issues/4)，完全就是一件需要不断重复推轮子的枯燥工作，目的是把统计之都的 483 篇旧文章整理成 Markdown 文件，然后让 COS 网站进入一个崭新的写作和投稿模式（基于 R Markdown）。这个计划实施过程中冒出了好几位可歌可泣的莽撞人，以后再细说。我就欣赏这种不怕做枯燥工作的人，能一口气修改一百篇文章的人，将来只要碰到合适的时机，我相信一定有定力解决更有价值的问题、取得更大的成就。

枯燥的数字堆砌起来也是会很吓人的。比如我近几年投入精力最多的 knitr 包已经有超过 5000 次的[提交记录](https://github.com/yihui/knitr)，[Github 事项](https://github.com/yihui/knitr/issues)近 1500，而 StackOverflow 上近 2700 个[问题](http://stackoverflow.com/tags/knitr)我不可能也没必要每个都回答，但每个至少都看过一遍。就算坐在这里光是数数，从 1 数到 5000 大概也会喘吧。

表扬与自我表扬完毕。
---
title: 是莽撞人就来单挑：用 R 语法简化数学公式？
date: '2017-04-13'
slug: r-latex-math
---

客官 Chen Yu [留言](/cn/2017/03/unix-philosophy/#comment-3250395275)问 LaTeX 数学公式能否从 LaTeX 里解放出来。这是一个贼好的问题。要不是他提醒，我都已经快忘了 R 里面的神器 `demo(plotmath)`，好久没在 R 图形里面写数学公式了。

我提到了 [AsciiMath](http://asciimath.org) 项目，它取了一个数学公式的子集，大大简化了语法，比如跟公式体积匹配的大括号 `\left( \right)` 不需要敲那么一大坨反斜杠和命令，用普通的括号 `()` 就可以了，这很有道理，请问谁写括号的时候会写成下面这个狗德行呢？

`$$\sum_{i=1}^n i^3=(\frac{n(n+1)}{2})^2$$`

当你敲这样的公式时，你几乎一定以及肯定是想输出成这样的：

`$$\sum_{i=1}^n i^3=\left(\frac{n(n+1)}{2}\right)^2$$`

所以，让用户简化一下输入，背后的程序保守一点对括号全都用上 `\left` 和 `\right` 命令，多数情况下应该也错不到哪儿去。

我应该重复过多遍了，LaTeX 的输出之漂亮无人能及，但 LaTeX 的语法之丑陋也是无人能及。CY 大人举了个例子，比如这个公式放眼望去是什么鬼：`\rho _{X,Y}={\frac {\operatorname {E} [XY]-\operatorname {E} [X]\operatorname {E} [Y]}{{\sqrt {\operatorname {E} [X^{2}]-\operatorname {[} {E}[X]]^{2}}}~{\sqrt {\operatorname {E} [Y^{2}]-\operatorname {[} {E}[Y]]^{2}}}}}`。

既然我们可以把 LaTeX 的大锅甩掉，背着 Markdown 盆轻装前进，那数学公式的锅是不是一样可以甩呢？CY 大人提到 R 里面的 `plotmath`，这朵奇葩^[不要误会，本文里的奇葩一律取褒义。]可能知道的人不太多，在 R 里面敲 `demo(plotmath)` 就知道了，R 的作图系统提供了一个相当冷僻的功能，它用 R 语法重新发明了很多 LaTeX 数学公式语法，比如 R 代码 `sqrt(x)` 可以被翻译为 `$\sqrt{x}$`、`x %+-% y` 出来是 `$x \pm y$`、`sum(x[i], i = 1, n)` 出来是 `$\sum_{i=1}^nx_i$`。这样，你可以用 R 的语法写 LaTeX 公式，而不必受 LaTeX 反斜杠的折磨。

目前这个冷僻功能只在作图系统中存在，不能被挖出来真的当做 LaTeX 公式的输入和翻译工具，但 R 的奇葩设计让它可以在语言操纵上有特异功能，比如把原生 R 语法直接翻译为 SQL 语句字符串。其实 Hadley 在 Advanced R 书中有一节讲[具体领域语言](http://adv-r.had.co.nz/dsl.html)（Domain-specific Language）已经对数学公式开了个头，虚左以待人来搬砖。

好了，莽撞人，我只能帮你到这儿了。我在 Github 上等你的 R 包。要是足够成功，我可以考虑在 knitr 中加入一个新的语法，比如行内代码语法 `` `tex ` `` （类似 `` `r ` ``）专门支持这个数学公式翻译功能。目测这个项目可以为全人类每年节省几亿小时的敲公式时间，保护成千上万人的左手小指和键盘 Shift 键。
---
title: 得意程序侦查一则：傲娇的 Safari 不能播放 MP4
date: '2017-04-13'
slug: safari-mp4
---

有客官[留言](/cn/2017/04/copss-2/#comment-3252831205)说动画网站里的 MP4 动画在 Safari 浏览器上不能播放，于是我花了几个小时侦查这个问题。凡是网页问题的侦查，一律都是从浏览器的开发者工具开始看起，看看 HTML/CSS 源代码、网络资源的请求和下载状况、JS 控制台等等。

我发现 Safari 里 MP4 的请求出错，于是找来一个[示例 MP4 文件](http://techslides.com/demos/sample-videos/small.mp4)，结果示例文件可以播放，细看了一下区别，浏览器发送的是特殊的区域请求（range request），根据这个请求，示例文件的服务器返回了被请求的文件区域。所谓区域，也就是文件的一部分内容，比如从第 100 到 125 字节。这在视频文件的请求中比较常见，通常网页里的文件都是一口气下载，但视频文件由于通常比较大，不一定需要一口气下载完，所以视情况一段一段下载，比如用户拖到哪儿就从哪儿下载起，免得浪费带宽。

我的 MP4 文件不能播放的原因是区域请求没有返回正确的内容，应该返回的有这么几样东西：

1. 状态码 206（表示成功）；

1. 请求的字节内容；

1. 头信息 `Content-Range`，里面注明返回的字节所属的区域（从几到几）以及文件的总字节数；

但这个问题实际上是两个问题。我用 servr 包创建的本地服务器在 Safari 中不能播放 MP4，我放在 Updog 上的远程 MP4 文件也不能播放。首先我看了一下 servr 包的问题，发现是因为上面的信息 3 没有正确返回，于是把它[加上了](https://github.com/yihui/servr/commit/62444d780)，同时我还发现以前的代码实现里有一个[难以察觉的错误](https://github.com/yihui/servr/commit/ac8bef90ede4)，返回的字节数少了 1 位^[数数从 0 开始还是从 1 开始这种分歧真是害死人，很容易发生这种多 1 个少 1 个的问题。]。本地预览 animation 网站没问题了，而且这还顺带解决了困扰我长达三年之久的 RStudio 问题，就是[上次](/cn/2017/04/copss-2/)说的 RStudio Viewer 里无法预览 MP4 动画的问题，通过这么一改，现在在苹果系统上的 RStudio 里可以直接看 MP4 了（别的系统也许还不行）。

然后 Updog 的问题类似，它不知道怎么响应区域请求，只能一口气返回一整个文件。向网站负责人反馈了一下，[解决方案](https://github.com/rbind/yihui/commit/d2cf99e3)是在 MP4 文件链接后面加上 `?dl=1` 参数。

于是现在傲娇的 Safari 也可以播放 animation 包生产的 MP4 动画了。别的浏览器就不在乎这个（就算不能返回 206 状态也无所谓），不知道 Safari 为什么要这么严格。
---
title: 自动化监控 Twitter 关键词
date: '2017-04-13'
slug: watch-twitter
---

这件事情我本来想作为第三个莽撞人项目的，但昨天操起键盘开了个头，然后不小心就给做完了。

事情是这样：有时候我想看看某些关键词在 Twitter 上的讨论，但我又不想费劲每次都去搜索，因为头一天搜和第二天搜的结果可能是一样的，这期间没有人讨论它。比如最近有没有人狠狠表扬我之类的。思路和工具链如下：

- 用户提供一个关键词向量。

- 用 [rtweet](https://mkearney.github.io/rtweet/) 包去搜索（`search_tweets()` 函数）。

- 数据有了之后，把数据按天汇总转化为 Markdown 文件。比如

    ```yaml
    ---
    title: "Messages on 2017/04/11"
    date: "2017/04/11"
    ---
    ```
    ```markdown
    # bookdown
    
    > Author1, [Message1](Link1), ExtraInfo1
    
    > Author2, [Message2](Link2), ExtraInfo2
    
    > ...
    
    # blogdown
    
    ...
    ```

- Markdown 文件按日期命名，如 `2017-04-11.md`。

- 在 Github 上建一个简单的 Hugo 网站库，在 Travis 上运行上面的 R 代码，把 Markdown 文件写入 `content/post/` 文件夹，再推回到 Github 库里。

- 把 Github 跟 Netlify 连起来。每当 Github 库有更新，Netlify 自动重新编译网站。

- Travis 有一项新功能尚在测试中，就是周期任务（cron），也就是可以定义每过多久重新跑一遍 Travis 脚本。比如可以定义每天跑一遍。这样我就不必每天亲自去 Twitter 上看消息了，只需要订阅我自己的 RSS 种子，通过 RSS 阅读器看就够了。节省了我好几分钟时间。

最后的成品在 Github 库 [twitter-blogdown](https://github.com/yihui/twitter-blogdown) 中。可以看见 R 代码并不长，才 40 行，但这整个问题的难点在于工具链。每个单个的工具都不复杂，就是需要在脑子里能把它们都串联起来，还需要看每个工具的相关文档，比如 Twitter REST API（例如为什么要用 `since_id` 参数）和 Travis 的周期任务文档，还要知道基本的 Hugo 网站怎么搭建、Netlify 跟 Github怎么连、用 Github 的个人访问令牌（Personal Access Token）如何向 Github 库推送内容、域名怎么设置。

这种组装感觉就像 UNIX 命令的管道组装一样，每个命令做什么都很清楚，掌握单个命令的用处很有限，但把这一条条神龙召唤到一起，就能引发 [lollapalooza 效应](https://en.wikipedia.org/wiki/Charlie_Munger)。

好了，下面轮到莽撞人出场了。Twitter 的我做了，渣浪微博有没有戏？
---
title: 史记之李姐夫列传
date: '2017-04-15'
slug: jeff-leek
---

Jeff Leek 在 Twitter 上问了个问题，结果回复区立刻就沦陷了。这件事我已经笑了两整天，多年不写英文日志一直憋大招的我，今天实在忍不住破例[扔出一篇日志](/en/2017/04/jeff-leek-facts/)。

望周知。
---
title: 雨中鸟
date: '2017-04-15'
slug: rain-bird
---

中土大唐人士到了美帝之后，吃惊的事情之一是美帝人士下雨通常不打伞。今天我发现，岂止是人不打伞，连鸟都这样。这两天下雨，我看见外面好些鸟都在草地上啄啄啄。一开始我没明白这些鸟冒雨在那儿啄什么，后来想起来有个邻居曾经说下雨的时候外面有好多虫子、好恶心。这个“虫子”我刚开始听到也没明白，后来才知道伊指的是蚯蚓。这边地里的蚯蚓确实是非常多，一铁锹挖下去一大把。嗬。

于是我揣测那些鸟们大约是在冒雨吃蚯蚓。
---
title: 炸油条
date: '2017-04-15'
slug: you-tiao
---

几天前受邀去一个朋友家吃煎饼果子。她新近买了个煎饼神器，在家孜孜不倦做了一段时间煎饼了，终于我有机会吃上一回。去之前我琢磨着我做个什么菜带过去，最后决定还是炸油条。传说北京煎饼放薄脆，天津煎饼放油条。薄脆她已经用混沌皮炸好了，所以我带些油条过去（虽然我并没有吃过天津煎饼果子）。

早上起来把面揉上，依旧是水多了加面，面多了加水。其实我一般是先偏少放水，看着面包机一边揉，我一边再添一些水，不会出现水多了加面的情况。揉面放酵母和泡打粉（这些东西沃尔玛里多得是），然后如果喜欢油条带一点咸味，可以考虑加少许盐，或者碎奶酪（放多了可能会影响酵母的工作）。小苏打粉我觉得也是可放可不放，我不太喜欢碱味，所以我一般倾向于不放，但有些人口味相反。

面发起来之后拿一坨出来，搓成半径约两厘米的长条之后压扁。这里要插一句，我做发面类的面食如馒头和花卷通常会偷懒：我很少使劲揉发好的面，因为我不想把所有的气泡都挤出来再让它重新发酵（懒得等）；这样做也许会影响最后的口感，但我感觉发面只要蒸出来或炸出来怎么都香，所以我不讲究这一步传统工序。

长长扁扁的一条面从中间切断，然后把两段对齐叠起来横摆在面前，从右到左（左撇子反过来）依次切出一段一段大约一指宽的面条（可以更窄一些，只要后面一步你的筷子能压下去）。现在每一小段都是两层面，用细筷子顺着长方向从中间使劲压下去，这样两层面条就粘在一起了，它就是油条的雏形。

面还要不要饧（醒）我觉得也是无所谓的事情，反正也没什么太高追求。据说油条是需要放到它重新起气泡再炸，但我一向都是独孤求快，能省略的步骤都省略了，往油锅里一扔，气泡一样出来，只不过没国内小摊上买的油条那么蓬松而已。关于蓬松，这里有两点要注意：一是和面的时候把面和得稍微稀一些软一些，但也别太粘手；二是泡打粉最好是放一些，虽然它也是可选的。放泡打粉的好处就是懒人不必担心失败：泡打粉的化学性质让它有两种释放气体的可能，分别是遇水和遇热。所以放了泡打粉的油条在下锅炸的时候还会释放一遍气体，油条很难真的炸成一坨死面。面和得软一些也一样的道理：面里的水分多的话，炸的时候会以水蒸气形式跑出来，也会疏通油条。

我用的炸锅是炸爹牌的（[FryDaddy](http://a.co/axJFjgq)），它非常小，所以也很省油。这个锅有炸爷爷牌的，更大，但一般家庭我觉得用不着那么大的，小锅已经很好用了，也可以炸很多东西。这个锅没有开关，温度自动控制，插上插头就开始加热，温度过高就自动断电，低了再重新加热，所以基本可以保持恒温，也省电。

剩下的就没什么好说的了。油条一根根丢进锅里炸，一锅大约能同时炸四根，炸一会儿翻翻面，看见变黄了就差不多可以捞出来了，至于黄到什么程度算好，自己炸一次试试就知道了。喜欢面硬就多炸一会儿，喜欢面软就少炸一会儿，大约一分钟出一锅，不用炸太久。有条件的话，不要在室内炸，不然一股油味。我天冷蹲在地下室炸，暖和的时候就在后院炸。

炸好捞出来控控油，放在垫有厨房纸的盘子或其它容器里，吸吸油。开吃。

没吃完的油条不需要放冰箱，稍微盖盖放外面就好，下一顿微波炉转转就可以吃。炸的东西不容易坏，要是放冰箱了第二顿拿出来会变得咬不动，用水都泡不开。

油锅用完了之后很烫，它的黑色盖子上用黑色的字写着不要在热锅上盖盖子。我的锅盖被烫坏之后我才发现那行字。真是黑色幽默。
---
title: 零宽断言
date: '2017-04-17'
slug: zero-width-assertion
from_Rmd: yes
---

关于正则表达式中的零宽断言（zero-width assertions），我从来都记不住哪个是向前，哪个是向后，就像寄信永远记不住收信人和寄信人谁的地址写上面谁的写下面一样^[主要原因是中美的信封写法是反的，最怕这种两个相反的选择了。]。遂写两个例子在此，以便将来查阅。

零宽断言在 R 里面是 Perl 正则表达式的一部分，语法是小括号里带问号 `(?啥啥啥)`，它的唯一作用是用来在特定位置找一段字符串，只管找不找得到（断言），在涉及到提取、替换的操作时候它不会被提取或替换掉，就仿佛它是没有宽度的幽灵一样。这个功能非常有用，有时候你想提取（或替换）一个字符串，但同时又想附加一个或两个条件，比如这个字符串的前面或后面必须带有什么特征，但这个特征本身不是你想提取的东西。

想要匹配一个特征的话在问号后面用等号，想要不匹配一个特征用感叹号（通常是逻辑非的操作符），这个好记。我经常忘记的是 `(?=)` 和 `(?<=)`、或者 `(?!)` 和 `(?<!)` 分别是哪个表示向前看，哪个向后看。带小于号的是表示从这个特征开始往后看，看后面有没有接下来的特征，不带小于号的表示从这个特征开始往前面看，看看括号前面那个特征是否匹配。

空谈误国，放码过来。

下面用 `gregexpr()` 函数做例子，因为它可以告诉我们很多匹配的细节。例如我们看看一个字符串中，从大写 E 向前看有没有 bcd：


```r
gregexpr("bcd(?=E)", c("abcdEfg", "abcdefg"), perl = TRUE)
## [[1]]
## [1] 2
## attr(,"match.length")
## [1] 3
## attr(,"useBytes")
## [1] TRUE
## 
## [[2]]
## [1] -1
## attr(,"match.length")
## [1] -1
## attr(,"useBytes")
## [1] TRUE
```

这个结果告诉我们的是，abcdEfg 中有我们想要的特征，从第 2 个字符开始，往后数 3 个字符（`match.length`）就是我们要的内容，也就是 bcd，不包含字母 E，E 只是一个地界上的地标而已。上面结果中的 -1 表示没有匹配的内容，显然字符串 abcdefg 中不包含 bcdE 这个特征。然后类似的例子：


```r
# 从大写 A 向后找 bc
gregexpr("(?<=A)bc", c("Abcdefg", "abcdefg"), perl = TRUE)
## [[1]]
## [1] 2
## attr(,"match.length")
## [1] 2
## attr(,"useBytes")
## [1] TRUE
## 
## [[2]]
## [1] -1
## attr(,"match.length")
## [1] -1
## attr(,"useBytes")
## [1] TRUE

# 在一个不是大写 D 的字符前面找 bc
gregexpr("bc(?!D)", c("bcDefg", "bcdefg"), perl = TRUE)
## [[1]]
## [1] -1
## attr(,"match.length")
## [1] -1
## attr(,"useBytes")
## [1] TRUE
## 
## [[2]]
## [1] 1
## attr(,"match.length")
## [1] 2
## attr(,"useBytes")
## [1] TRUE

# 在不是大写 A 字符后面找 bcd
gregexpr("(?<!A)bcd", c("Abcdefg", "abcdefg"), perl = TRUE)
## [[1]]
## [1] -1
## attr(,"match.length")
## [1] -1
## attr(,"useBytes")
## [1] TRUE
## 
## [[2]]
## [1] 2
## attr(,"match.length")
## [1] 3
## attr(,"useBytes")
## [1] TRUE
```

当然，向前和向后的断言可以一起上，分别搭在一个特征的两边。比如我们匹配一句话“Hi 谁谁 Sir”中的“谁谁”部分。传说正则表达式写着写着就看不出它跟猫走过键盘踩出来的字符串之间的区别了，这话一点不假：


```r
gregexpr("(?<=Hi )([a-zA-Z]+)(?= Sir)", c("Hi Li Sir", "Hi Li Dada"), 
  perl = TRUE)
## [[1]]
## [1] 4
## attr(,"match.length")
## [1] 2
## attr(,"useBytes")
## [1] TRUE
## attr(,"capture.start")
##       
## [1,] 4
## attr(,"capture.length")
##       
## [1,] 2
## attr(,"capture.names")
## [1] ""
## 
## [[2]]
## [1] -1
## attr(,"match.length")
## [1] -1
## attr(,"useBytes")
## [1] TRUE
## attr(,"capture.start")
##        
## [1,] -1
## attr(,"capture.length")
##        
## [1,] -1
## attr(,"capture.names")
## [1] ""
```

光是匹配通常没用，匹配完了要么提取，要么替换。例如我们把上面找到的字符串换成大写：


```r
r = "(?<=Hi )([a-zA-Z]+)(?= Sir)"
x = c("Hi Li Sir", "Hi Li Dada")
i = gregexpr(r, x, perl = TRUE)

regmatches(x, i) = lapply(regmatches(x, i), function(z) {
  toupper(z)
})
x
## [1] "Hi LI Sir"  "Hi Li Dada"
```

这个例子其实不太恰当，不过为了简单起见，也就这样了。不恰当的原因是它其实很容易用 `\U` 操作符（表示换大写）和引用符（反斜杠跟数字）完成任务：


```r
gsub(r, "\\U\\1", x, perl = TRUE)
## [1] "Hi LI Sir"  "Hi Li Dada"
```

好了，希望我将来能记住，零宽断言中的小于号是一只喇叭，望着后面吹。
---
title: 此地曾居住
date: '2017-04-18'
slug: ames
---

丰子恺在《旧地重游》一文中讲他重游嘉兴时“心绪缭乱、气结不能言”，无法作诗，只能忆起古人一首诗^[原文中“宛似”写成了“宛如”，意思一样；只是从平仄来说，自然“宛似”略胜一筹。]：

> 此地曾居住，今来宛似归。  
可怜汾上柳，相见也依依。

我放狗搜了一下，原来是岑参大人的诗。悲怆豪迈的边塞诗人写出这么一首质朴的小诗，读来也是令人内心波涛汹涌。
---
title: 平底锅版的煎饼果子
date: '2017-04-19'
slug: jianbing
---

[年初](/cn/2017/01/blog/)说到本厨胆子大，啥都敢试，而[上回](/cn/2017/04/you-tiao/)说到别人家的煎饼果子，于是今儿个抽空用普通平底锅试了一下，除了翻面有点困难，做起来有点费劲之外，其它还好。对我的舌头而言，煎饼果子无非就是带着甜面酱和葱味的面饼，也没啥神奇的。

面粉和糯米粉一比一（黄豆/绿豆粉没找到，就算了），用水调成很稀的糊糊。鸡蛋若干，事先打好放碗里（如果有煎饼果子神器则可以现打蛋，但用平底锅做法不一样）。葱、香菜、火腿肠、甜面酱、辣酱备好。

薄脆我不知道怎么弄。于是拿前天做大盘鸡剩下的一小坨面粉擀吧擀吧，擀成薄面皮，切吧切吧，放炸爹牌油锅里炸了。谁知这死面在油锅里竟然蹭蹭发泡，丢下去马上就鼓起来，也是令我十分意外。这么说来，我以前做油条时很有可能酵母和泡打粉并没有什么用。关于此事，还得设置实验组和对照组才能明白。总之，用炸面皮糊弄一下。

少许油放锅里，火开中低档就够了，千万别大火。鸡蛋大半勺下去，十秒钟左右半凝固了，再面糊一大勺下去，都用铲子摊匀，嗨，摊不摊匀都无所谓，反正是自己吃。注意是先放鸡蛋再放面糊，撒点（黑）芝麻，也无所谓撒不撒。半凝固了把饼翻过来，这是最费劲的一步，因为平底锅跟神器比起来最大的区别就是锅沿太高，铲子很难伸到面饼底下去把饼铲过来（我的锅沿跟锅底是垂直的，那种斜的锅沿应该方便一点）。手脚并用仔细着翻吧。翻过来之后，到时候鸡蛋就被包在煎饼内侧了。用神器的话是先放面糊，煎一煎之后把面糊翻过来再放鸡蛋，但用平底锅的话把这个步骤反过来更容易，不然面饼太薄，提着铲子戳戳戳容易戳坏面饼。然后涂甜面酱和辣酱，放葱、香菜、薄脆、火腿肠。面饼两边向中间折起，然后两头再折起。完事。

第一次做，甜面酱放多了，齁咸。

## 参考文献

- 古鲁皮，2012，《[教你在家用不粘锅做煎饼果子](http://blog.sina.com.cn/s/blog_812e279901010ywe.html)》^[我觉得她的蛋液倒得有点多，不过看个人喜好了。]，新浪博客。
---
title: which() 咩？
date: '2017-04-19'
slug: which
---

R 里面有个 `which()` 函数，我感觉很多人一旦学了就忘不了，总是想用。它可以把逻辑向量转化为整数向量，这些整数表示哪些位置上的值是 `TRUE`，如 `which(c(F, T, F))` 就会返回 2。我见过好些人在用下标索引的时候硬生生把逻辑向量用 `which()` 转一下，比如 `x[which(y)]`（`y` 是逻辑向量），这个 `which()` 的调用完全没必要，因为 R 有三种索引方式：整数值、逻辑值、字符（名字）。可能一般人还是习惯整数索引吧。

作为强迫症患者，我尽量不做无谓的强迫，尽管这个有点难。比如要不要提出来 `which()` 是不必要的，其实不能完全根据自己的喜好来判断，而是要客观测量它究竟有多糟糕。糟不糟糕，主要准则应该是速度，比如用了 `which()` 会导致代码显著变慢吗？理论上多调用一个函数肯定会更慢，但我用三秒钟的时间想了一下，万一 `which()` 慢，但整数索引比逻辑索引更快，那时间有没有可能追回来？

空谈误国，放码过来。前方测速区：

```r
n = 100000
x = runif(n)
i = logical(n)
i[sample(n, n/4)] = TRUE

microbenchmark::microbenchmark(x[i], x[which(i)], times = 1000)
```

跑了一下，貌似没那么糟糕。

```
Unit: microseconds
        expr   min    lq  mean median    uq   max neval
        x[i] 362.4 488.6 719.6  577.2 669.7  6723  1000
 x[which(i)] 438.4 581.3 900.7  670.2 795.8 82968  1000
```

我还有个类似的洁癖，就是不愿意看到 `if (x == TRUE)` 这种写法，`if (x)` 就足够。去年在芝加哥参加 JSM 的时候我已经[吐槽过一次](https://twitter.com/xieyihui/status/759863505357012996)。不过呢，把 `TRUE` 写出来倒也不是完全没有好处：它的潜在好处是快速扫描代码的时候很容易知道这里有个逻辑值，因为这四个大写字母比较耀眼。
---
title: 如此这般
date: '2017-04-20'
slug: do-this
---

最近我发现[小黄](https://www.fyears.org)的一句口头禅，就是“如此这般”（例如 [cosname/cosx.org#443](https://github.com/cosname/cosx.org/issues/443#issuecomment-295737550) 还有 [yihui/knitr#1389](https://github.com/yihui/knitr/issues/1389#issuecomment-293277280)）。一看就是听评书的人。这话用在代码上喜感满满^[这也是一种常见的幽默手法，就是把现代的东西穿越回古代，造成一种突兀的荒谬感。评书里讲的故事通常都是古代的故事，所以“如此这般”有古旧的味道，突然把它用在代码上，二者不搭，所以会刺激大脑的笑神经。我当时给《R 包开发》一书写序用到“[嘤咛](/cn/2017/03/little-li-flying-knife/)”一词，也是出于这个原因：写代码的都是“左青龙、右白虎、肩膀纹个米老鼠”的男汉子女汉子，怎么可能看见 R 包就嘤咛一声昏过去了。另一个例子如江堂对[小乘](http://jiangtanghu.com/cn/2017/04/08/h%C4%ABnay%C4%81na-s%C4%81vaka/)的解释，也是蛮绝的。]，朕已经笑趴下，快扶朕起来。

![萧何月下追韩信](https://db.yihui.org/images/zhui-hanxin.jpg)

又想起很久很久以前，COS 编辑部里秉帅问：“小黄的全名叫什么？”有好事者回答曰：“小黄狗”。当时也笑死我了。

说来我的记性有时候也挺可怕的。不知道编辑部里还有多少人记得这事。
---
title: 思源宋体
date: '2017-04-20'
slug: source-han-serif
---

今天在小黄的[日志](https://www.fyears.org/2017/04/source-han-sans-and-source-han-serif.html)中了解到思源宋体。我看了一下[介绍](https://source.typekit.com/source-han-serif/cn/)以及大概的字体样式，觉得终于找到一款能跟苹果系统的宋体媲美的中文字体了，而且是免费开源字体，太难得了，我感到非常欢喜。我自认为对字体的眼光已经很贼，但它的介绍页面上的四个“曜”字的区别我愣是没能找全，有一处差异实在太细微。

衬线字体和非衬线字体二者比起来，我还是更喜欢有棱角的衬线字体，觉得它更有书法美感。所以尽管好几年前思源宋体的兄弟字体“思源黑体”就已经发布，也没能勾起我的兴趣。

[前面](/cn/2017/02/kaiti/)我曾经说中文字体不适合使用网络字体，因为字体文件体积太大，不像英文，只有有限的字符，通过网络加载字体也不碍事。今天我又重新看了一下 [Typekit](https://typekit.com)，我以前一直以为它只有付费服务，今天才发现原来也有免费服务^[当然有些限制条件，但对我们这种小型个人网站来说，一般应该不会超出它的限制条件，比如页面访问量。]，而且思源宋体也可以作为网络字体免费加载。当然，它也不可能加载整个字体文件，而是按需加载，也就是先看看你的页面上用了哪些字符，只加载那部分子集，这样就会快很多了。

理论上本文到此就可以结束了，但我注意到用 Typekit 异步加载字体时，字体应用到文字上有两三秒时间的延迟^[文字先以系统已有的字体显示，等思源宋体的字符都被下载下来之后，才以思源宋体显示，所以会有短暂的字体变化。]，这两三秒又是我忍不了的等待。我可以取消异步加载，但那样会拖慢整个页面加载的速度（字体下载完成之前页面会是空白一片），所以只能想办法克服整个延迟，不过异步加载一定会导致字体延迟，这是无法避免的后果，唯一的可能性是将思源宋体安装在本地，然后在浏览器中检测这个字体是否已经安装，如果已安装，就没必要加载 Typekit 给的 JS 脚本了。

于是找有没有检测某个字体是否安装的办法。[还真有](https://www.kirupa.com/html5/detect_whether_font_is_installed.htm)，而且既简单又有趣，原理大概是用一个 `<canvas>` 对象装一段文字，先让这段文字以等宽字体（monospace）显示，测量一下宽度；然后换成想要测试的字体显示，再测宽度。如果两个宽度相等，那么要检测的字体应该没安装。因为如果该字体安装了的话，这段文字的宽度应该会不一样。这个不严谨，但两种字体应用在一段文字上出来精确相同的宽度的概率应该非常低。

最终[我的方案](https://github.com/rbind/yihui/commit/1cab12372)是检测 Source Han Serif 字体是否已安装^[具体实现起来，还需要考虑用户是否安装了特定语言的思源宋体，比如简体中文、繁体中文等。]，若已安装则跳过加载网络字体。这意味着各位客官需要在自己的电脑上[安装思源宋体](https://github.com/adobe-fonts/source-han-serif/tree/release/)。如果安装说明看起来晕，那么苹果用户选 Super OTC 的两个文件下载解压安装；其它系统选对应[中国地区的字体](https://github.com/adobe-fonts/source-han-serif/raw/release/SubsetOTF/SourceHanSerifCN.zip)下载安装应该也错不到哪儿去。如果本地没有安装思源宋体，那么阅读我的网站的中文页面时^[我在我的 Hugo 模板作了[专门处理](https://github.com/rbind/yihui/commit/47b87bbb0685#diff-962fb4bc3f9887572644798151bd9f38R2)，只有以 `/cn/` 开头的链接或者首页才尝试加载中文字体，其它页面都不受影响。这也是我尽量坚持的网页设计原则：若无必要，绝不多加载一个文件。]，就会出现字体延迟几秒加载的情况。

各个系统下看了一下渲染效果，仍然是瘟到死系统看起来丑丑的，字形是对的，但不知道为什么比苹果和 Linux 系统下显示的字体都粗，不知道是我的版本问题还是我用虚拟机的缘故。懒得折腾了，为瘟到死系统优化网页显示效果太麻烦。
---
title: 幸存者偏差
date: '2017-04-21'
slug: survivorship-bias
---

关于衡量一个人聪不聪明，除了传统的学院标准（诸如考试之类的），我觉得很重要的一方面就是看伊有多少盲点，这个准则甚至比学院标准更重要。学院标准只是临时性的，毕业了也就没什么用了；而清除盲点则是一个人一生的事情。

心理学中有大量的例子来说明这些盲点，这也是为什么我[认为](/cn/2017/02/shame/)心理学是一门很最重要的学科的原因。比如大约是 2011 年左右我看了[一个试验视频](https://www.youtube.com/watch?v=vJG698U2Mvo)，当时我就震惊了。看过这个试验的人应该都知道我在说什么，没看过的我也就不剧透了。

<iframe width="100%" height="400" src="https://www.youtube.com/embed/vJG698U2Mvo?rel=0" frameborder="0" allowfullscreen></iframe>

这种认知偏差就是我们视觉^[我说的是抽象意义上的视觉，不只是眼睛的视觉，而是广泛意义上的感知和思维。]里很容易出现的盲点。掌握了这个法门之后，我不敢说能增强一个人的判断力，但起码能养成凡事多考虑几方面可能性的习惯，不要给自己留下太多盲点。比如如何看待成功，[XKCD](https://xkcd.com/1827/) 又一次散发出机智的光芒：

[![Survivorship Bias](https://imgs.xkcd.com/comics/survivorship_bias.png)](https://xkcd.com/1827/)

这就是经典的幸存者偏差（[Survivorship bias](https://en.wikipedia.org/wiki/Survivorship_bias)）。我们只能看到那些成功人士如何成功，而没考虑（1）他们的运气因素，例如这里 XKCD 带有讽刺意味的买彩票成功人士；（2）那些没成功的人为什么没成功，因为没成功的人的声音你听不到。

统计学里面最经典的幸存者偏差案例当属二战期间 Wald 大人建议给飞机的哪些部位加固了：那些没中弹的部位才需要重点加固，而被子弹打得稀烂的部位都无妨。乍一听，这太扯了吧，都打烂了还不加固？殊不知打烂了的飞机还能活着飞回来，就说明那些烂部位不重要，而那些没能飞回来的飞机，可能是被打中了致命部位，已经在战场上一命呜呼了。

作为码畜界的一只牲口，我会特意留心那些微弱的声音，比如表面上举世都在赞扬管道操作符 `%>%` 和哥哥作图系统，而那些没发声的人究竟在想什么。在外面开会的时候，我就会乐意跟这些反潮流的人私下交谈。其实我一直坚信我中土大唐的[任坤](https://renkun.me)当年完全有实力取代现在的那个管道包，但只是时间上差了一点点，就像格鲁希元帅的那[一秒钟](https://zh.wikipedia.org/wiki/%E4%BA%BA%E7%B1%BB%E7%9A%84%E7%BE%A4%E6%98%9F%E9%97%AA%E8%80%80%E6%97%B6)，然后世界格局就变了。不过就编程而言，我一点也不觉得管道符对我有任何价值；对数据分析来说，也许它让代码在某些人眼中变得可读性更强，但我这种土鳖觉得它对我的价值十分有限，我肯定不会用它的。他们经常举的那些糟糕代码例子在我眼中也有很重要的优势，就是在交互式跑代码的时候可以随时查看那些临时变量，管道语法提倡的是不保存中间的临时变量，这对我来说很不方便，我没法做到一口气把管道写全。哥哥作图系统很强大，但我现在很少做统计图形相关的工作，所以对我价值也有限，而且我极其不喜欢一些狂热粉的极端态度，不管什么图什么事，无条件使用管道语法和哥哥图形。当然，这也可能是我自己的盲点：也许还是我了解太少。

今天写这个话题只是一个小小的引子。我脑子里有一个庞大的计划（比我前面提到的月之眼计划还大），已经琢磨了几个月，但还没付诸实施。这个计划要解决的问题之一就是学术界的论文发表中的幸存者偏差。我希望不显著的结果也一样可以正大光明地发表，纠正这股刮了多年的统计歪风。这个计划需要的人柱力数量可能会是 COS 改版的人柱力数量的数十倍，所以很容易让我产生逃避和拖延心理。其实我更想做个安静的码农，但就是有些风车在那里我看着不对劲，总想去战它一战。
---
title: 种花椒树
date: '2017-04-23'
slug: huajiao
---

前天脑子一抽抽，突然想到一个问题：花椒能不能种？最近在菜园子里撒了一些蔬菜种子，抱着爱活不活的心态，也没指望它们能成什么气候（除了鱼腥草和黄瓜我还有点期待）。以前没有地，所以也从来没想过什么能种、什么不能种的问题，现在有了地，所以开始琢磨有没有什么特别的东西能种，于是想到花椒。

小谋子前年给我带了一些川花椒，我非常喜欢，这边亚洲店里买的花椒我从来都不满意。可以说各种调味料里面我最喜欢的就是花椒，其次才是辣椒，尽管我嗜辣，但我更喜欢麻辣。

到底花椒籽能不能种活？我放狗搜了一下，找到一篇文章：《[我最想拥有的几种树---花椒树](http://blog.wenxuecity.com/myblog/68651/201503/31911.html)》。艾玛，这作者跟我一样！我也非常希望有一棵花椒树。看了文章，我大吃一惊：原来花椒是这样发芽的！

世上还有一种催芽办法叫低温冷藏催芽法，这么神奇，我感觉好像自己白活了三十多年。于是接着找资料，看见一篇专门讲这个的文章：《[种子催芽法（低温冷藏催芽法）](https://fannie2924.nidbox.com/diary/read/8250001)》。

种植物挺考验耐性，因为对心急的人来说，它们长得实在太太太慢了……太慢了……慢了……了。关于此事，有歌《[兰花草](http://music.163.com/#/m/song?id=117492)》为证（据说歌词是胡适的作品）：

> 我从山中来　带着兰花草  
种在小园中　希望花开早  
一日看三回　看得花时过  
兰花却依然　苞也无一个  

> 眼见秋天到　移兰入暖房  
朝朝频顾惜　夜夜不能忘  
但愿花开早　能将宿愿偿  
满庭花簇簇　开得许多香

且看过两个月后我能不能成功发出一棵花椒树芽吧。
---
title: 高高山头树
date: '2017-04-28'
slug: leaves
---

吕思勉的《中国通史》刚开始翻翻还行，到后面觉得有些枯燥，实在提不起兴趣，免费部分看完了，于是再换看丰子恺来休息一下，顺便攒阅读时间换积分买书。

其《梧桐树》一文里面引了一首乐府诗，朴素的比兴手法，甚合我心：

> 高高山头树，风吹叶落去。  
一去数千里，何当还故处？

跟我以前提到过的《[西风的故乡](/cn/2015/10/wind/)》、小轩哥[的](/cn/2017/03/when/)“孤星垂天外，明月晚照时”以及《[瑟魯之歌](http://music.163.com/#/m/song?id=22742166)》有相似之处，而字更轻、意却更长。
---
title: 心
date: '2017-04-30'
slug: heart
---

昨天重看《[瑟魯之歌](http://music.163.com/#/song?id=22742166)》歌词的时候，在[维基百科](https://zh.wikipedia.org/wiki/%E7%91%9F%E9%AD%AF%E4%B9%8B%E6%AD%8C)上了解到原来这首歌的歌词还引起过质疑，原因是跟萩原朔太郎的一首诗《心》很相似。于是我很好奇地去[找到了这首诗](http://www.chinapoesy.com/Foreign201C7A81-51C1-4354-8F6D-381B9FA95774.html)（译文）：

> 将心比作什么  
心有如八仙花  
有开成粉红色的时刻  
但多是淡紫色的回忆，这无可奈何

> 心有如暮色中花园的喷泉  
似有似无的响声  
心为单调而悲伤  
这样的伤悲也不值一说  
啊　将心比作什么

> 心有如旅伴两个  
同行而无话可说  
我的心永远如此悲伤

看了之后感觉还是瑟魯之歌的歌词写得更好一些，不过我很可能是已经受歌声和画面影响过，我尤其喜欢这歌词里的景色描写以及这首歌的一个特点，就是伴奏非常轻微，开头甚至完全没有伴奏。
---
title: 为咩你不空行
date: '2017-05-04'
slug: blank-line
---

再来说一个我的强迫症症状：我倾向于写[略拥挤的代码](/cn/2017/01/blank-area/)，但读不了拥挤的文字，所以我看 Markdown 源文件时，很怕没有空行的文件。

瞄了一眼边小编^[第三届靠谱厮奖的候选人。]的[合并请求](https://github.com/cosname/cosx.org/pull/538)（源文件[在此](https://raw.githubusercontent.com/tomatoiscoding/cosx.org/993e00001558e01262f92fac5dd17df9bb58c4c0/content/post/Bandit%E7%AE%97%E6%B3%95%E4%B8%8E%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F.md)），本骆驼终于垮了，于是拍拍土爬起来说一下这个空行问题。简单说来就一句话：

> 吾真心望尔等写 Markdown 文档时，在**不同类型**元素之间留一个空行。

> 拉面。

比如 YAML 元数据与正文之间留一个空行，小节标题与下面的段落之间留一个空行，大图片与段落之间留一个空行，列表项与引用块之间留一个空行，等等。凡是上一个元素和下一个元素类型不同时，都留一个空行。

比如这种写法会让我疯掉：

```markdown
---
title: 标题
---
一个段落。
# 第一节
又一个段落。
- 列表条目1
- 列表条目2
还有一个段落。
# 第二节
```

我只能接受这种蓬松的写法：

```markdown
---
title: 标题
---

一个段落。

# 第一节

又一个段落。

- 列表条目1
- 列表条目2

还有一个段落。

# 第二节
```

空行的意义不仅仅限于视觉上，它的更重要作用是避免语义模糊，这对 Markdown 编译引擎来说至关重要。如果没有空行，Markdown 引擎很难决定一个元素到底是上一个元素的延续，还是一个新的元素，比如下面的源文件：

```
我们通常用井号
# 表示代码注释。
```

它究竟是应该被翻译为一个段落：

```html
<p>我们通常用井号
# 表示代码注释。</p>
```

还是一个段落和一个一级标题：

```html
<p>我们通常用井号</p>
<h1>表示代码注释。</h1>
```

如果不加空行，这个 `#` 的意思对 Markdown 引擎来说就是模糊的。

本文要说的内容到此结束，但既然说到空行，索性再对空白字符作更多的科普好了。在 HTML、LaTeX 以及 Markdown 世界，连续的多个空白字符通常都没有意义。这里说没有意义的意思是多个空白等价于一个空白。根据这条定理，可以得到推论比如：多个连续空行等价于一个空行，多个连续空格等价于一个空格，等等。从此还可以纠正一个很多人可能犯的错误：用一大坨空格居中或者右对齐一个元素。这是没有意义的，空格不能用来对齐元素！尔等大约都被厉害了 Word 哥毒害了，我只能 Excel 而过。

然而，事情总是有例外，这也让人有些头疼。在 Markdown 中，如果一行的末尾有两个连续空格，那么它表示这里要强制换行，注意换行不表示新段落。要理解它只能同类比的方式来说：若你是 Word 用户，强制换行表示 Shift + 回车；HTML 用户可理解为 `<br/>` 标签；LaTeX 用户可理解为 `\\`。在 Markdown 中用引用语法 `>` 引用诗文时，每一句末尾两个空格就完美了，否则只能用代码块语法，尽管表面看起来好像是对的，但一方面字体和样式不太对，另一方面 HTML 语义也不对。

貌似事情到此也说完了，但其实还没完。关于看不见摸不着的空白字符，还有很多故事。就算是空格，也有好几种空格：普通空格（英文模式下敲空格键）、[硬空格](https://zh.wikipedia.org/wiki/%E4%B8%8D%E6%8D%A2%E8%A1%8C%E7%A9%BA%E6%A0%BC)、[零宽空格](https://zh.wikipedia.org/wiki/%E9%9B%B6%E5%AE%BD%E7%A9%BA%E6%A0%BC)、中文全角空格，等等。前面说的空格都是指普通空格。这些空格各有各的妙用，然而这里纸张太小写不下。
---
title: 娱乐至死
date: '2017-05-08'
slug: amusing-to-death
---

那些自行在文章标题后面打括号加上“深度好文”字样的文章里我也没看见几篇真正的深度文章。周末读到一篇少有的震撼到我的文章，《[我们是不是玩得太嗨了](https://www.theatlantic.com/entertainment/archive/2017/04/are-we-having-too-much-fun/523143/)》，可算是我眼中的一篇“深度好文”^[我词汇量小，所以查了好几十次词典才大概读明白。]。至少是我看过的有关美帝政治生活分析的最深刻的一篇文章。

这篇文章对我的震撼程度不亚于丰子恺写的关于弘一法师的认真的那篇文章，让我在过去的这个周末心里不太舒畅。我从没想过压迫致死（如《[一九八四](https://zh.wikipedia.org/wiki/%E4%B8%80%E4%B9%9D%E5%85%AB%E5%9B%9B)》）和[娱乐至死](https://zh.wikipedia.org/wiki/%E5%A8%B1%E4%B9%90%E8%87%B3%E6%AD%BB)^[这个书名“Amusing Ourselves to Death”中介词“to”的翻译是“至”而不是“致”，很好。]（如《[美丽新世界](https://zh.wikipedia.org/wiki/%E7%BE%8E%E9%BA%97%E6%96%B0%E4%B8%96%E7%95%8C)》）的两种死法中，我们似乎真的是在朝娱乐至死的方向前进，包括我自己。

我们是如此急切地追求搞笑和娱乐，以至于没有时间关掉电视和网络沉下心来思考几分钟。我曾戏言我的人生目标是“究天人之际、通古今之变、成一家逗比”。打这以后是不是该有所收敛了？

究竟是我们憎恨的东西会毁掉我们，还是我们将毁于我们热爱的东西？我们创造了工具，然后工具反过[来塑造了我们](https://vimeo.com/34017777)？且待我看完《娱乐至死》这本书再琢磨琢磨。
---
title: 把货卖给有钱人
date: '2017-05-08'
slug: discourse
---

上周五看了一篇 Discourse 创始人 Jeff Atwood 的[访谈](https://www.indiehackers.com/businesses/discourse)。我过去看过他的几篇日志，总体说来我和他的观点比较相合，比如在[正确马电池订书钉](https://blog.codinghorror.com/password-rules-are-bullshit/)问题上的看法。

这篇访谈讲了 Discourse 的发迹过程，有点意思。我快速做几点笔记，但里面掺杂了我个人的想法，已经是二手信息，所以还请各位客官有空的话去看原文。

- 真爱无价。他说即使不赚钱，他也会去做这个论坛系统。我很能体会这种自我驱动力。当然，说这话是要有前提条件的，他做这事的时候已经很有钱了。言下之意，我不在乎这货赚不赚钱，反正我已经有的是钱。换我我就没这个底气（再次提醒[幸存者偏差](/cn/2017/04/survivorship-bias/)）。

- 一件事情能让自己充满激情去做当然很好，但不要只顾着自我陶醉。找三个外部应用案例。比如找三个种子客户。

- 把货卖给真正有钱的人。每个月 200 美元的定价不低，但这样的定价策略可以把没有强烈支付意愿的客户排除在外，少费一些唇舌跟人讨价还价，多集中精力做开发。

- 打造一个巨大的免费用户池。为了达到这个目标，自己的免费开源产品当然要做得足够好，否则，即使你免费开源都没有人来用，那怎么可能吸引付费客户？这一点跟 RStudio 挺像的。

就我个人而言，我并不太喜欢 Discourse，觉得它的界面还是太杂乱。我有另一个我已经持续盯了两三年的开源论坛系统，但现在还不是最好的时机谈论它，因为它还没完全成熟。有时候我就想起少东家常用的一幅配图，里面的萌少女呼喊着，“要是我有钱那该多好！”。要是我有钱，我就把这个论坛系统的开发者包下来，让他们一鼓作气赶紧把 1.0 稳定版做出来。虽然我很有耐心等，但这事实在拖太久了，我是真心怕时间太长了中间出什么幺蛾子，然后开发者跑路了，这么好一个产品要是荒废了就太可惜了。
---
title: 盘古之白
subtitle: 中英文之间自动加空格
date: '2017-05-09'
slug: pangu
---

因为看到有人评论我的老文章，我跑去瞄了一眼那文章，不看不要紧，看了就失去了活下去的勇气。我大约从 2015 年开始患上[空格强迫症](/cn/2017/04/space/)，那之前的文章里中英文之间都没有空格，通体不舒畅，于是心想着能不能写个 JS 脚本自动添加空格。

这种轮子大概也轮不到我区区一个 R 码畜来造，放狗一搜，早有人做了，名叫“盘古” [pangu.js](https://github.com/vinta/pangu.js)。于是操起键盘就把它[加到](https://github.com/rbind/yihui/commit/6de91d0a)我的旧文章页面中了。正常加载办法应该是[如此这般](/cn/2017/04/do-this/)：

```html
<script src="https://cdn.bootcss.com/pangu/3.3.0/pangu.min.js">
</script>

<script>
  pangu.spacingPage();
</script>
```

然而我怎么可能让这 7K 的“巨型”脚本阻挡我的页面载入？必须异步加载，否则会浪费十毫秒的加载时间。于是用高射炮打蚊子（不支持 IE 8 及更低版本的 IE，但我会在乎 IE 吗）：

```html
<script>
(function(u, c) {
  var d = document, t = 'script', o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  o.src = u;
  if (c) { o.addEventListener('load', function(e) { c(e); }); }
  s.parentNode.insertBefore(o, s);
})('//cdn.bootcss.com/pangu/3.3.0/pangu.min.js', function() {
  pangu.spacingPage();
});
</script>
```

我这是何苦来哉。

盘古脚本的介绍中有一段一本正经的胡说八道，这作者真特么能扯，估计很多客官看了之后会患上跟我们一样的强迫症：

> 【……】另有研究顯示，打字的時候不喜歡在中文和英文之間加空格的人，感情路都走得很辛苦，有七成的比例會在 34 歲的時候跟自己不愛的人結婚，而其餘三成的人最後只能把遺產留給自己的貓。畢竟愛情跟書寫都需要適時地留白。

好，HTML 和 LaTeX 里都有了自动加空格的方案，这下世界算是完美了。
---
title: 小人之心
date: '2017-05-12'
slug: little-mind
---

有时候我会以小人之心过度解读一些我看到的东西，比如去年的支付宝校园日记事件，彭蕾的[致歉信](http://weibo.com/1406511850/EjOiyniGS)末尾署名落款加了一句“美国出差途中”，我怎么看都觉得不太对劲，道歉就道歉，为何要专门强调自己是在美国出差途中写的道歉信呢？是表示很牛（我在美国耶）还是很忙（我在出差嗷）？感觉不那么真诚。

---

前几天看见 JSS 发推文说它在用 OJS（开放期刊系统）改版的时候曾经几乎三观崩溃，但后来还是改到了 OJS，很庆幸。有好事者急忙跑去评论说，啊，我很荣幸我参与了这个过程。唯恐世人不知伊的贡献。洒家不太明白，真的就这么缺表扬吗，活生生一个独孤求赞。

---

前面[说到](/cn/2017/01/blog/)丰子恺老先生有中英混杂的毛病，如“偶然折取一根树枝，当 stick 用了一回”。后来看到另一篇里更浮夸，把 stick 音译成了史迪克。嚯，我差点没哭。我疑心有显摆外语之嫌。那个年代没有手杖这个词吗？当然也不是没有可能。拐杖应该是有的，而手杖可能只是洋人用的物件。

---

每年总有那么一段时间维基百科要打出一个丑丑的大横幅，号召大家给它捐款。今日看到一篇文章《[维基百科之癌](https://en.wikipedia.org/wiki/Wikipedia:Wikipedia_Signpost/2017-02-27/Op-ed)》，甚合我的小人之心。呈指数增长的东西的结局只能是毁灭（比如 CRAN 如果没有实质性变革我认为一定会垮掉），我一直都觉得维基百科从老百姓个人身上索要捐款一定不是长久之计，而且我坚信一定有很多大公司愿意不要回报给它捐款，这些钱来的效率比号召个人捐款高得多，而且不会如此扰民。维基百科的捐款广告实在是太烦人了，而且有欺骗读者之嫌（狼来了）。我也不太喜欢这个创始人吉米 · 威尔士，捐款广告以个人名义发出来（一封来自威尔士的信），动机是啥呢。

---

有人的地方就有江湖，这话的普适性太强了。比如我不止一次听说维基百科里某些编辑的政治斗争。人群聚集的地方总是会诞生政治，也是蛮烦的。另一个例子是 StackOverflow（缩写 SO）。我喜欢 SO 的一切，但唯有一点我是烦得要死，就是老资格用户对新手痛下杀手，那种积分是个位数的用户来提问，一看就是新手，问题问不好完全可以理解，但为什么不鼓励伊改进问题，而是上来就是给人把帖子关掉了呢？我已经见过好几次这样的情况了，比如：

- 问题 [Cannot run the codes in R](http://stackoverflow.com/q/43948823/559676) 发出来过了四个小时就被几个老资格用户投票关掉了。对不好的问题，我提倡鼓励用户学会问问题，而不是不由分说砍死他。哪怕你把问题撂在那儿不理会都比粗暴地关闭问题要好得多。

- 又如 [RStudio blogdown generates empty “Posts” link on the top page](http://stackoverflow.com/q/43221765/559676) 问题发出来两个多小时就被[投票关闭](http://stackoverflow.com/posts/43221765/revisions)了，在我的强烈抗议下他们才又把它重新打开。我看关问题的这帮人连 blogdown 是什么都没闹明白。

- 再如 [How to cite multiple papers in RMarkdown](https://stackoverflow.com/q/44767358/559676)，这个更夸张，发出来 5 分钟就被一个威望值高达十万的人投了关闭票，我去看了这个人的资料，他压根儿就不是 R 社区的人，我疑心他也是连 R Markdown 是什么都没搞清楚，就来横插一脚关闭别人的问题。

- 再如 [Header continuing on an empty page of pdf latex output using r package bookdown](https://stackoverflow.com/q/44958234/559676)，又是一群人投票关闭。我看了其中一个人的资料，他自己三天的[提问](https://stackoverflow.com/q/44891342/559676)还被人标记为重复了，这么快就来教训新人了，而且他压根儿就不是 R 社区的人，我也怀疑他连 bookdown 是什么也不知道。

就这么急于展示你们的虚拟权力吗。

前一阵子我看了 Likan 的一篇日志《[权力感如何改变一个人](http://likan.info/p_chinese/2017-04-16-power-moves/)》，觉得很受启发。我觉得网络社区里“威望”高的人就容易被权力感毒害，而且是被毒害了还浑然不知，以为自己在行使正义。寡人对抗权力感的办法就是做饭和看书，这两件事容易让人找到本体。在网上写博客都不算办法，因为总有人围观；但写日记算，比如霍志骥和妙竹师姐。

[斯坦福监狱实验](https://zh.wikipedia.org/wiki/%E6%96%AF%E5%9D%A6%E7%A6%8F%E7%9B%91%E7%8B%B1%E5%AE%9E%E9%AA%8C)应该有很多人听说过，这也是心理学里著名的实验，显示了一个人被赋予权力时心理阴影面积可以大到骇人的程度。

所以霍志骥[评论说](/cn/2017/04/survivorship-bias/#comment-3299557664)“如果人类是有希望被拯救的，那就只能依靠心理学”，虽然听起来有点夸张，但我非常赞同。
---
title: 再谈 LaTeX 数学公式的输入
date: '2017-05-24'
slug: lyx-math
---

前面我提了一个[莽撞人项目](/cn/2017/04/r-latex-math/)，谈到简化 LaTeX 数学公式语法的问题。底下有客官提到 Carson Sievert^[算是我的师弟一枚。] 的一篇 [RPubs 文章](http://rpubs.com/cpsievert/268872)，是个不错的开头。

今日看到大鹏提到 MathJax 的[显示 LaTeX 源码功能](http://www.pzhao.org/zh/post/equations/)，他表示很震惊。我就不得不重提 LyX 了。关于 LyX，我只能说别的项目一直在追赶，从未被超越，它至今仍然是 LaTeX 编辑器中的战斗机，哪怕就是单单就数学公式编辑而言，也是无人能及：数学工具栏、命令自动补全、查看 LaTeX 源代码，三项功能都登峰造极。MathJax 这么大的项目，也做不到前两项。

为了公式输入更便利，基本只有两条路可走：一是简化后端（源码），也就是我说的莽撞人项目；二是强化前端（编辑器），也就是 LyX 的路。在 LyX 中输入数学公式，有工具栏的辅助，再也不必担心忘了什么命令了，哪里不会点哪里；有自动补全，再也不必一个 `\epsilon` 敲到底了，敲完 `\eps` 就能看见 `$\epsilon$` 的倩影了，直接回车搞定。更不必说什么分子分母、求和积分，全都是可视化输入；怎么可能出现敲了这个括号然后在八百里之后忘了回括号的情况，诸如 `$X_ijk$` 的错误不可能在 LyX 输入中发生，只要你敲下划线，LyX 自动提供大括号，所以 `$X_{ijk}$` 一定不会错。

LyX 再好，也是一个基于 Qt 和 C++ 写出来的桌面端应用，无法直接移植到网页端使用，所以我们只能望洋兴叹。不过呢，虽然目标很远，但目前也不是一步也走不出去。去年我有一天吃完晚饭拿手机随便一搜，发现一个 [MathQuill 项目](http://mathquill.com)，就是为了解决公式的前端问题。当然，被 LyX 宠溺惯了之后，很难找到一个真心满意的工具，MathQuill 只是解决了一部分问题，不是那么完善，只能说聊胜于无了。于是我操起键盘在 bookdown 包中写了一个 [RStudio 插件](https://bookdown.org/yihui/bookdown/rstudio-ide.html)给 MathQuill 做了个包装，实质上也就是个微型 Shiny 应用，上面可视化敲公式，下面显示源码。用这个插件并不意味你必须得用 bookdown，它可以在 RStudio 的任何文档中使用。

且看啥时候能有真的莽撞人出世，用 JS 重复 LyX 的辉煌吧。这事情可能也没有我想象的那么难，但作为一个三天两头抄 JS 代码的 R 码畜，我对写大型 JS 应用一点信心都没有，也没这个闲工夫，只能把想法先码出来，然后坐等脚底板有三颗痣的人。如果再等两年还没有人来，我就只能用我去年想到的一个[折中的办法](https://github.com/yihui/knitr/issues/1168)了。
---
title: 君子谈钱
date: '2017-05-24'
slug: money
---

君子不谈钱，但君子要吃饭。这个话题我这几年有不少感想，但时间所限，只能简略谈一则。

![君子不谈钱，但君子要吃饭](https://db.yihui.org/images/junzi-money.jpg)

直接促使我写这篇日志的是刚收到的一封邮件，有一位不开森的中国 R 会议参会者因为发票抬头问题报销受阻，用了一串五个惊叹号，并嘟囔着说你萌要是搞不定就退我钱吧。郁闷心情可以理解，某种程度上也算是我们的锅，不过我今儿个不想谈这事，而是说说另一件相关的事情。

今年的[北京会场](http://china-r.org/bj2017/)是中国 R 会议十年来第一次（象征性）收费，在会议介绍首页上有这么一段话：

> 中国 R 会议过去九年来一直顶着财政压力对参会者秉承免费原则，但鉴于往年各届会议有很多听众免费注册多张门票而最终不真正到场参会，屡屡造成会议资源严重浪费，也极大影响了会场的计划和安排，本次会议组委会为了保证会议质量、减少浪费，决定象征性收取 19 元的会议注册费，还望各位参会者理解。

就这么一段话的事情，幕后我们争论了很久。首先，大家都同意收费，因为过去确实有太多太多人因为不要钱，随手注册但最后很不负责，不到场，非常影响会议安排。然后就是收多少钱的问题了。我是坚持把这个钱降到最低，要确实体现出“象征性”三个字的意思，也就是说，收钱不是为了钱，而是为了防止人毫不在乎地胡乱注册。这个价钱要达到的效果是，注册的人不会真的感到肉疼，但也会稍微想三秒。

经过我的几通胡搅蛮缠，注册费被压到了 19 块钱，对学生来说，这大概是两顿饭钱的样子，多数人应该能承受得起，但毕竟只是个主观判断，我也没什么证据证明不会有人心想，“天啦噜！R 会议堕落了，居然开始收我们钱了！”于是我再加了一句：你要是觉得 19 块钱花得不值，开完会我们退给你好了。这下你该无言以对了吧。

> 若有任何疑问、意见、建议，欢迎发送邮件向会务组咨询。参会完毕之后若对本次会议组织有任何不满意之处，并能提供建设性意见，欢迎邮件联系会务组说明情况，我们会审核并酌情给予全额或部分退款（注册但不参会的一概不退款）。

然后会务组就炸了锅，说益辉你失去理智了吧，万万不可提供退款的选择啊，要是你说可以退款，那大家会一窝蜂上来无理取闹要求退款的。我问你们估计会有多少人来要求退款，有人说得有一两千吧，有人说会有几百，有人说几十。这时就要赌一把人心了，虽然天朝人心难测，但我赌退款的人数最多是个位数。会务组这么辛苦组织这个大会，要是有上千人抠门到连 19 块钱都要要回去，那我们年复一年为这么些人服务有什么意义？

为了结束这无休止的争论，我说不然这样，要是真有人要求退款，我来当首席退款官，自掏腰包退给他们，不向组织要一分钱。然后，虽然他们觉得我彻底疯了，但总算是把会议门票价格定下来了。

不是我不贪财，我也希望我们更有钱，毕竟有钱之后更好办事，但我觉得钱的毒副作用目前不是我们能掌控的，而且钱的激励作用相比起精神激励来说要短效得多。一旦得到了钱的激励，下次做事难免会在心中产生一把隐形的尺子：我做这件事值多少钱？这次得了二百块钱奖励，怎么比上次少了啊？哟，那谁谁得了五百块耶！

垮了噻。

我希望中国 R 会议能长期坚持做一股清流，这个会议可能放眼世界都是独一无二的，这也是我为它感到自豪的地方。额揍是不收钱，额揍是要把这会给办了。厉害不厉害？惊喜不惊喜？

其实我也就是站着说话不腰疼。这个会议我除了阴差阳错开了个头，这些年屁事也没干，大家有什么苦衷，我也不甚了解。譬如为了给清华主会场撑起小小的一片天（会场太烧钱了），我们那苦命的秉帅哟，一直焦头烂额四处拉赞助，开会的前几天才把大小事务移交给小弟：“不好意思吼，我先去生个孩子哈。”
---
title: 淡出微信
date: '2017-05-24'
slug: wechat
---

年初的时候我[说了](/cn/2017/01/blog/)我不太喜欢微信。大约在去年九月我关掉了朋友圈功能，主要是我觉得值得一读的东西太少，我懒得费劲每天去淘。所以这大半年来，山外诸位发生了些什么事，谁晚饭吃了什么，谁结婚了，谁去哪儿旅游了，谁发明了什么新技术，等等，我一概不知，应该是错过了几亿条情报。现在我只在晚上离开电脑去睡觉前打开微信看一眼，白天基本都关闭它。有嘛重要的事，麻烦请给我发邮件或打电话。

我只喜欢微信的一点，就是手机支付，这个很便民。除此之外，我看哪哪不顺心。

微信、微博都带个微字，这个字是好是坏我觉得很难说，我的感觉是它弊大于利。COS 里的老人都知道，我过去是个邮件狂。我倾向于一边写一边想，思考以及修改地有一定完整性了再发出去，而不是想一句说一句。我不擅长处理混沌态的碎片信息，一件事情还没想好，另一件事情又来了，频繁失去焦点。再加上微信群是一个个孤岛，彼此不知道对方群里有什么信息，就算是同一个群，后来的人不知道前面说了什么，人为割裂了信息，我觉得非常不适合组织使用。

一个用即时通讯工具的组织，如果不能做即时的决策，那我觉得对“即时”的需求其实是假的。换句话说，我们要求信息流动更快，但面对更快的信息，我们的决策速度无法跟上，那不如退回慢的通讯方式，比如邮件；只在即时工具上发送真正需要即时处理的信息。

微信最可恶的地方在于它倾向于把人锁在手机上，我看不出有任何技术性的理由（硬件？软件？）要把人硬锁在手机上，只能揣测手机端是微信的招财猫，只有在手机端才有暴利可图。不然为什么那么多功能在电脑端都没有？历史消息不同步，查找也麻烦得要死，给公众号文章留个言，非得在手机上戳戳戳戳半天（当然，可以在电脑键盘上打好了复制到手机，再从手机复制过去，就问你香不香菇）。

手机是现代人面对的最大的时间窃贼，我自己也砍不掉它，也是蛮烦的。手机很有用，但问题是对多数人来说，不管本来想做什么，一旦打开，时间就会不知不觉哗哗流走。

这几年微信微博让人以更高频率发信息，但人脑并没有在这几年突然大幅提升处理信息的能力，我觉得这就是技术带来的社会病。这个病的后果就是，我们的注意力被无节制地分散。信息是如此之多，我们来不及深度处理一下，新的信息就又来了。我们自己说的话也是越来越短，因为短话表达不清楚，所以又招来种种误解，然后打来打去，没人肯下功夫就辩论的话题深入研究，然后滋生戾气。表面上社交媒体红红火火，实际上恍恍惚惚。

所以我是多么希望[冷妹](http://weibo.com/angelgofly)能写博客而不是在微博上直接砍人啊，虽然很霸气很过瘾，但被砍的可能并不会服气。

---

微信的手机支付很厉害，它也带来了一样本来我觉得很有意思但后来也渐渐摒弃了了东西：群红包。我现在已经不发也不抢红包了，要发也不发随机红包，而是直接给某个特定的人发，仅供表达欣赏或感谢之意。红包是活跃群的利器，但我一直没太想明白一件事，现实生活中即使在地上捡十块钱我们通常也不会觉得乐上天，为什么抢微信红包的时候抢了 2.07 块钱都觉得好像赚大了？

大约是手机仿佛是摇钱树的感觉吧，摇一摇就有钱掉出来，一方面是随机性带来的新鲜感（人为什么会迷恋赌博以及一些本质是随机数发生器的游戏的重要原因），不知道一指头戳下去会冒出多少钱来，另一方面是操作太简单了，都不用弯腰就能捡到钱，而且还没有旁人看着。内心深处是不是有种不劳而获的想法在作祟？

另一个我不再戳红包的原因说出来会被暴打：我感觉抠门的红包占多数，好无聊。国内的群跟国外的群相比，国外的群真是有够穷的，当然也有可能是海外人士都没有绑定国内的银行卡，只能靠平时抢到的三毛五分钱来发红包，那已经是全部家当了。一块钱发五十个人，很有趣咩。有钱认真一点发嘛，没钱还是憋费那劲吧。



---

微信公众号这个封闭的系统我暂时就不吐槽了，好麻烦。

---

回到《[娱乐至死](/cn/2017/05/amusing-to-death/)》。前几天刚看完这本书，真是一本奇书，这是唯一的一本不是小说但能吸引我看下去的书。感触太多，估计我至少得半年后才能有空写[完整的读后感](/cn/2018/04/amusing-ourselves-to-death/)。在那个年代，波兹曼认为电视会杀死我们，因为电视带来了频繁的、支离破碎的画面信息（传统形式是大块的铅字信息）。我觉得如今的这个社会也没什么两样，只不过电视换成了微信微博，我们都淹没在了琐碎中。每一个大新闻，都热不过几天。每一次千万人的义愤填膺，到头来只不过被下一周的劲爆娱乐新闻消去。我们敢不敢、能不能只做一件事？比如接下来五年我们就盯死一件事，金有树也好，魏则西也好，雷洋也好，杨改兰也好，我们盯到它彻底解决、不再重演为止，管它王宝强怎么了、陈羽凡又怎么了。

我们创造了 140 字，然后 140 字反过来创造了我们。嗨。
---
title: 造访袋鼠国
date: '2017-05-29'
slug: oz
---

2008 年的时候我[说](/cn/2008/11/going-to-australia/)去了一趟澳大利亚，那时去的是北京的澳大利亚大使馆。这周是真到了袋鼠国的领地。从洛杉矶飞墨尔本，近 16 小时的飞行时间，我本以为会很夸张，结果在飞机上吃吃睡睡、看看书、码码字，时间很快就过去了。

袋鼠国对我中土大唐人士貌似很友好，机场都有中文播音和汉字。当初我签证时也大为惊异，全部网上提交材料，一周时间就签下来了，而且是电子签证，连护照都不用寄，也不必贴个签证标签。从这一点来说，别的国家签证都太低效了。电子记录比纸质记录安全可靠又方便，不知道为啥非得在护照上贴一张纸标签。

下飞机之后出关速度也吓着我了，可能是碰巧，我出来一路上基本上没怎么排队，从下飞机到我出机场，一共大约也就二十几分钟时间。

袋鼠国在南半球，现在已经是深秋，我来之前看了一下天气貌似没那么冷，所以穿着短裤拖鞋就来了，出来之后还是感受到一阵寒意。到了酒店就换长裤。感觉袋鼠国秋天的十度气温比美帝的十度冷太多了。

不仅天气反着、太阳反着，行车、走路方向也反过来了（靠左），这让我的脑子非常混乱，刚开始在路上老是走错边。车上司机在右边，副驾在左边，我刚坐上导师大人的车时，心里老是有一把隐形的~~翅膀~~方向盘，浑身不自在，简直控制不住手要去扶那隐形的方向盘、脚底下要踩隐形的油门刹车。

电源插座的囧字口也囧得不一样，我之前完全没意识到这个问题，所以还得买个电源转换器。

英式英语听起来萌萌哒，不像大不列颠国的口音那么重。我一直都觉得美式口语油腔滑调的，而英伦的口语又太严肃（似乎每句话每个词都在敲黑板划重点），现在看来澳洲口音是个比较好的平衡。

此次来墨尔本，除了见见导师大人，还有第一次见 [Rob Hyndman](https://robjhyndman.com/)。听说他在我来之前一直让他的中国学生帮他校正 Yihui 这个名字的发音。咦喂？不对。伊威？不对。“辉”这个字真是苦煞他了。这位叔也是蛮卡哇伊的。
---
title: 袋鼠国归来
date: '2017-06-03'
slug: oz-impression
---

造访袋鼠国大约一周时间，多数时间闷在酒店里做幻灯片。周二讲了一天（六小时）R Markdown 相关的 R 包；周五承蒙导师大人 Di 赏脸做了个特邀报告，到头来其实基本只剩下纯搞笑了，因为我要讲的主题我还没有真正去实施。按我的拖延症风格，没做完的事情我一般不提前说，但这次实在有点忙，又涉及到一些政治问题，所以只讲了一下我计划中的[乌托邦](https://slides.yihui.org/2017-DSM-Journal-Yihui-Xie.html)。虽然讲的时候，有些听众笑得很卖力（一向假装严肃脸的我在台上都被逗乐了），但讲完下来之后我听说也有一位听众嗤之以鼻，狠狠埋怨说，“你们这个会议我特特么什么东西都没学到！”

虽然气温还有十来度，但我在酒店已经打开了电暖气，感觉就像回我老家过冬天了一样。

袋鼠国居然没有强制小费文化，我表示非常欣赏。我很反感美国的小费制度，不是我不舍得这几块钱（以前当学生的时候有点舍不得，所以通常少给；现在工作了就适当多给点），而是我非常讨厌那种被绑架的感觉，“我不给服务员小费他/她就会活不下去”。嘿，养活服务员难道不是店主的主要责任吗？在墨尔本吃饭，感觉服务员就没美帝那么殷勤，我也吃得自在一些。

袋鼠国刷信用卡居然要密码。我的天，我的密码是什么我自己都不知道。不过小额的貌似也可以签字解决。

久闻黑天鹅，终于在袋鼠国一见。据说黑天鹅通常都是奇数只出现（比如一只或三只），要是偶数就会打架。

![黑天鹅](https://db.yihui.org/images/black-swan.jpg)

周二晚上 Di 带大家去 St Kilda 看企鹅。我以为是动物园看见的那种大企鹅，结果冒着刺骨狂风摸黑走到码头尽头一看，原来是那么小只的企鹅，还不如鸭子大。

![企鹅](https://db.yihui.org/images/penguin.jpg)

说了半天袋鼠国，其实也没见着袋鼠。说是要么去动物园看，要么得开车去很远的郊区才能看见。周三晚上吃饭的时候，他们聊起袋鼠。Di 说袋鼠攻击性很强，而且聪明又残忍，还会游泳，有时候会把狗拖到水里淹死。看来我很久以前收集的这张 GIF 图也不夸张：

![袋鼠踢人](https://slides.yihui.org/gif/kangroo-kick.gif)

然后说考拉又懒又笨，挂在一棵树上吃叶子会一直把一棵树吃完没得吃了才会挪。

这次参加的会议名称叫 WOMBAT，它是 Workshop Organized by Monash Business Analytics Team 的缩写，据说这个名字是 Di 想出来的（不然就是 Rob）。Wombat 本意是澳洲的一种特有动物（袋熊），他们硬是凑出了这个缩写，也是蛮拼的。后来我在机场转悠的时候，一个华人店员跟我说这是王八蛋，这音译……我听了差点没昏过去。

开会那天下午我第一个讲，讲完我就溜走了，去维多利亚女王市场看了一圈。市场很是破旧，跟国内的菜市场大棚一样，棚子底下一个个摊位。每天这些摊主就是上午把货物用车拉过来，下午再装箱拉走。华人摊主特别多，所以我感觉就像回到了我老家的小镇集市上。

最后一天离开墨尔本，本来是飞洛杉矶，但去了机场之后被通知飞机故障取消了航班，给我换了另一个航班，飞新西兰、夏威夷，再回美帝，结果人家新西兰傲娇，需要华人有过境签证，所以这条线路不能走，于是又给换飞悉尼，然后从达拉斯绕到休斯顿再绕回奥马哈，给我折腾地晕头转向。我发现我太早起去坐国际航班就容易出问题，上次是把行李箱忘在了酒店到机场才想起来，这次在墨尔本没出关，到了悉尼我全然忘了还有出海关一说（要是原来的航线没变就啥问题没有了），看登机牌上写着 8 号门候机，我下了飞机就去找 8 号门，很快就找到了，然后去逛商店。逛到只剩 30 分钟起飞，我觉得差不多该回去了，到登机口一看居然还没有人排队登机，公告牌上也没写我的航班号，我就觉得不对劲，上前台一问，才发现不是这个 8 号门，而是要走国际换乘门。尼玛，这时候才发现悉尼机场的登机口编号只有数字，没有航站楼编号。要是带上航站楼信息比如 A8、B7 之类的我也不至于等错门了。此时，我去国际换乘口，那位前台女士大惊失色，问我刚才去哪儿了，我说我在那边那个 8 号门啊。下了换乘口，我才意识到，原来还要从这里坐一阵子机场摆渡车去另一个楼，在那里出海关过安检。等我下了摆渡车跑到海关时，离起飞只剩下大约十二分钟，按理说该关舱门了。万幸伟大的袋鼠国通关速度超快，大约两分钟过了海关（仍然全都是电子记录，连章都不用盖），然后在一声声抱歉抱歉、Sorry Sorry、Sei-masei 中插了安检的队，等我从安检口拿了行李，那里已经有个焦急的空姐在喊达拉斯乘客是哪位了。我连电脑也来不及装回书包，就搂着一堆东西跟她一路狂奔。寡人作为最后一个乘客终于顺利登基，万岁，万岁，万万岁。

这则故事告诉了我们命名空间的重要性，不然对象名称容易混淆。好吧，我承认还是我太蠢了。

袋鼠国的华人店主和摊主貌似非常多，我在悉尼机场见好几个店的店员都是华人，而且跟我讲中文。我买东西非常讨厌别人跟随着我向我主动推销，因为我这人非常经不住劝，跟我唠叨一阵子之后我很可能就会买，买了又容易后悔。

墨尔本这个城市总体感觉比较老旧，处处是英国殖民地印记。中餐馆非常好，吃得很满意。周三晚上所有讲培训班的讲师们在一个西班牙餐厅聚餐，讲真，我觉得那是我吃过的最难吃的外国菜，几乎没有一样我能下咽的，上来一个开胃菜就差点没把我咸死，最后的甜点是巧克力馅儿的饺子，简直想杀人；唯一能吃下的东西大概就是面包了。另一天在海边吃了传说中的鱼薯条，炸的东西，不管怎么做都香，所以也没觉得多惊艳。据说墨尔本人民非常爱喝酒，这次时间短，我还没体会出来，但街上的烟民非常多，男女烟民都多。我不爱喝那种超级苦的啤酒，所以对酒也没太深的印象。西方国家爱好啤酒的通常都是爱喝苦得要死的啤酒，我当年第一次[在德国](/cn/2008/08/germany-trip-3/)喝啤酒被吓到了，喝了两口实在难以下咽，于是放下了，后来习惯一些了，能喝下，但仍然不喜欢。我对酒几乎没什么研究，歪果仁的纯白酒（伏特加、龙舌兰之类的）我也觉得不是人喝的东西，跟中土大唐的白酒差太远了。我觉得鸡尾酒味道还不错，但从来不明白为什么都那样死贵死贵的。一天下午跟 Rob 和他的学生去喝了天价鸡尾酒，我都不太好意思被他们请了客。说实话，一杯鸡尾酒本来杯子就很小，然后大约 80% 都是冰，液体部分也就是一点点烈酒配水（苏打水之类的）、糖，完了扔两片黄瓜或某种叶子。它的售价我觉得是原材料价值的十倍不止。不过话说回来，喝鸡尾酒的人大概也不会在乎钱。

哦，还有，因为点啤酒的缘故，第一次知道 pint 的发音并不是“品”脱。
---
title: 肤浅的正义
date: '2017-06-03'
slug: shallow-justice
---

前面[提到过](/cn/2016/12/r-activism/)激进的政治正确和女权主义，我内心非常反感用嘴遁行使正义。我想总有一天我会长篇吐槽一下这些肤浅而低效的正义，今日先随意写两则小事。

- 大约两周前有一个成年女性带着一个小女孩上门来拉捐款，连珠炮似的说了一堆理由。美帝似乎这种敲门拉赞助的特别多，我已经碰到过很多次了。什么给老兵捐款啊、给小孩捐款啊、给流浪汉捐款啊，等等。我从来都一分钱不会捐给他们。一方面，这里面的骗子太多了，有大人专门组织小孩去上门卖东西或者拉捐款，合法不合法的都有；另一方面，这么多人需要帮助，是我该负的责任吗？要是真需要钱，我毫不介意政府多收我一些税，但我非常反感这些人隔三差五上门来找我要钱。再者我觉得，打仗留下来的老兵完全是愚蠢的美帝政府的错，抱歉，这锅我不背；而流浪汉通常手脚完好，宁愿在街上晒太阳等人扔钱也不愿意去劳动养活自己，凭什么我要把我的口粮分给他们？说句不好听的，这样的人饿死活该。对他们的人道主义，就是对劳动人民的不公。

    这两个训练有素的人站门口说了一通，里面有两点令我感到非常忿忿。一是“请帮助我们小女孩团队打败他们小男孩团队”——为什么美帝性别问题总要被提到台面上？我觉得跟从小灌输性别区别概念有关。为什么不能让小女孩和小男孩合作去募捐，而是非得分开造成一种开战的局面？二是“如果我们募捐到多少多少钱，那谁谁（某小女孩）就可以获得去意大利旅游的机会，请帮她完成梦想”——我这么抠门的人，自己买个锅买个炉子都要犹豫好久，就别说让我支持你去意大利旅游了，这钱还不如拿去资助一个中国农村的孩子。

- R 里面[两个颜色名](https://twitter.com/RhoBott/status/870757741505019904)也能上升到种族主义的高度被吐槽。啧啧。这样的人要当了皇帝，还不知会兴起怎样的文字狱，凡是带“黑”、“印第安”字样的词都得禁掉。

    140 字轻松一推，引得众人点赞如潮，店内外充满了正义的空气。
---
title: 是莽撞人就来单挑：还世界一个轻量级 TeXLive
date: '2017-06-06'
slug: lightweight-texlive
---

> 2017/12/18 更新：这个问题我终于自己动手基本解决了，参见 [TinyTeX](/tinytex/)。它是一个特制版本的 TeX Live，在 macOS/Linux 下安装后的大小大约是 150 兆。

要把我最烦恼的软件问题排个名的话，我第一烦 Windows 下的字符编码问题，因为 UTF-8 明明可以一统江湖，在 Windows 下这个破问题却一直是一桶浆糊，永远杀不死；第二烦的就是 LaTeX 安装问题，因为这个问题明明有简化的可能，却也是一桶浆糊状态。Windows / Linux / macOS 各自打各自的江山，都是用的那种我最不喜欢的少数一两个人掌握核心权力的旧时代软件包分发办法。

我说 LaTeX 的安装可以简化是基于一个假设前提的：你不会没事用一些冷门包。我想解决的主要问题是：

- 统一 LaTeX 在各个系统下的安装方式，下载一个相对小的压缩包，调整一下 PATH，完事。现在 LaTeX 安装面临的一大矛盾是：你要么下载一个四五 G 的庞然大物，然后也许只用其中不到十分之一的包；要么下载一个精简版，随便编个文档都缺包，然后一脸懵圈不知道该如何找到缺失的包以及安装它。

    - Windows 下的 MikTeX 也许是最业界良心的打包了，它很贴心地提供了一个如果缺包就自动安装的功能，应该能应付多数初学者的困惑。
    
    - 对 macOS 下的 MacTeX，我有这么几点烦心的地方：一是它打包了一些对我来说毫无意义的应用，比如 TeXShop 和 TeXLive Utility，前者对 R Markdown 用户来说没用，后者的核心功能用两个命令行就可以替代，并没有那么恐怖（`tlmgr update --self --all` 和 `tlmgr install`）；二是它默认装在带有版本号的文件夹下，如 `/usr/local/texlive/2016`，这个问题站在软件本身的开发者角度容易理解，因为开发者通常需要测试自己的好几个版本的程序，但站在用户角度几乎毫无意义，谁特么没事安装三个版本的 TeXLive 玩儿？况且每个安装都巨大无比；关于这个版本号问题，我以前向 R 团队[上过奏章](https://stat.ethz.ch/pipermail/r-devel/2011-May/060820.html)请求移除安装路径中默认的版本号，但很快被大家打成了马蜂窝。
    
    - Linux 下的 TeXLive 是我最早头疼的东西。在早年间我还是 Ubuntu 用户的时候，我整天盼星星盼月亮希望打包的人能把 TeXLive 从五年前的版本升级到现在的版本，但那些 deb 包永远是那么老旧、那么巨大。我等了好几年，实在忍不了了，终于摆脱了 `apt-get install texlive-*` 的束缚，转向自己手动安装 TeXLive，然后发现整个世界顿时清静了。早知道安装这么方便，鬼才愿意仰仗那些 Debian 包的维护者呢。自己从源代码安装 TeXLive 最大的好处是有了命令行工具 `tlmgr`，至少以前这在 Debian 世界是被禁止的（尔等不可轻易用 `tlmgr` 管理尔的包，尔等只能用寡人给你打好的包集合）。
    
    说到底，这些打包的人不懂我的心：我没兴趣了解 LaTeX 如何工作，我也不喜欢一大坨没用的文件装在我的电脑上，我需要有自由决定安装或卸载任何包，别帮我把一大坨包绑在一起扯不开撕不烂。

- 默认安装包要尽量小，最好在 100M 的数量级，而不是好几个 G。如果用户需要安装包，他可以请求在默认安装包中添加这个包（方便后人），或者自己敲一行命令安装，关键是安装包无论在什么系统下有且仅有一个办法，所以不管用什么系统，用户只需要记住最轻量的步骤，而不必网上到处扒文档。这个默认包的打包过程在 Github 上公开，任何人都可以请求变更，就像史上最成功的软件包管理工具 Homebrew 一样，不要再依赖少数一两个人掌控打包及分发。

    其实 LaTeX 的安装之所以巨大，除了包太多之外，还有一个大问题是文档的体积太大。各位摸着良心说，你们这辈子在自己的电脑上打开过几次 LaTeX 的任何包的任何帮助文档？反正我从来都是放狗在网上搜，从来没打开过本地的文档，那些文档放在哪儿我都不太确定。所以，还是那句话，站在开发者角度来说，把文档打包进去合情合理，但在用户角度来说，文档几乎无用，就算普通用户打开了文档，一看满屏幕的反斜杠命令，立马也会嘤咛一声昏过去。我曾经[吐槽](https://twitter.com/xieyihui/status/792031983027101696)说很多 LaTeX 包做的事情很漂亮，但文档实在辣眼睛，要么短小精悍不知所云，[说半天一个例子也没有](http://ctan.sharelatex.com/tex-archive/macros/latex/contrib/threeparttable/threeparttable.pdf)，要么长篇大论贯彻 Knuth 的文学化编程理念：一坨代码加一坨文字解释这坨代码如何工作。我特么操这份心干什么？
    
    LaTeX 是世上最丑陋的语言，但又能生成最漂亮的文档。文学化编程是非常有趣的编程思想，却只有 TeX/LaTeX 忠心耿耿继承了这个思想，写出了世上最枯燥的文档。各位客官香菇不香菇？

废话少说，放码过来。

我们还是把希望寄托在 TeXLive 上，放弃那 MikTeX 和 MacTeX。姑且叫这个项目 SmallTeX 吧。我去年曾经在 Linux 上试过，完整的 TeXLive 中如果去掉文档和源代码，最终的压缩文件（tar.gz）大小在 1G 左右。我的安装代码[在此](https://gist.github.com/yihui/7ae1144e45063c4957e5c1f6f67039f4)，核心办法就是用一个 texlive.profile 文件实现自动化安装，这也是唯一的自动化安装 TeXLive 的办法。我把它装在用户根目录下，就是 `$HOME/texlive`。这个脚本是安装所有包，如果只想安装一部分包的话，可以挖我的 [ubuntu-bin](https://github.com/yihui/ubuntu-bin) 库，看看里面我如何安装 TeXLive 以及一部分[额外的包](https://github.com/yihui/ubuntu-bin/blob/master/TeXLive.pkgs)，那些额外的包来自我的血泪积累：我在跑 knitr 包的逆向检查时收集的某些 R 包中用到的一些怪异 LaTeX 依赖。相信有了这么些包之后，多数人应该能顺利编译多数 LaTeX 文档了。另外说一句，目前 Travis CI 上的 R 语言支持中的 LaTeX 安装其实就是基于我这项工作的，主要原因就是我提供了一个超小的安装包，几秒钟就可以下载完，而且覆盖了常见的包。

你也可以参考 LaTeX 的官方 Github 库中的 [texlive.sh](https://github.com/latex3/latex3/blob/master/support/texlive.sh) 脚本，它也是类似的办法，有一个 texlive.profile 文件，其中设定了安装最精简的包，然后再装更多的包。

这个 TeXLive 安装包可以通过 Travis 自动编译，然后通过 Github releases 自动发布，就像我的 ubuntu-bin 库所做的一样。注意发布的时候需要删除已有的文件，因为 Github 不支持在 Github releases 中覆盖文件，参见我生平唯一一个 [Python 脚本](https://github.com/yihui/ubuntu-bin/blob/master/delete.py)。

Travis 支持 Linux 和 macOS，不支持 Windows，不过 Windows 可以通过 AppVeyor 去编。不管什么系统，都要把 bin 路径放入系统的 PATH 变量中。Windows 下这个应该可以用脚本自动完成。\*nix 用户自己在 `~/.bash_profile` 中手工加一下也不是不行，当然也可以用 `sudo tlmgr path add` 自动把那些 LaTeX 的可执行文件以符号链接形式添加到系统的某个 PATH 路径下（`/usr/local/bin` 之类的）。

这个小项目让我来做也许要花三整天时间，主要是我对 Windows 下的 TeXLive 还没有经验。需要的技能：系统脚本语言、Travis/AppVeyor、Github 及其 API。欢迎死磕到底，挑战 LaTeX 世界无聊的（也许是无心的）专制。
---
title: 老好人
date: '2017-06-06'
slug: old-good-man
---

不知道黑客新闻怎么挖了这么老一篇博客文章 "[Why I Quit Being So Accommodating](https://mikecanex.wordpress.com/2012/12/26/1922-why-i-quit-being-so-accommodating/)" 来，博文是 2012 年的，但其实是复制一篇 1922 年的杂志文章。我一看，其主旨跟我前年说的《[软件奶妈](/cn/2015/10/software-nanny/)》一样。看来并不只有我一个人曾经有这种苦恼，当一个老好人的代价太大；为了一些不相干的问题和不相干的伸手党，自己没时间工作或做自己喜欢的事情，对外负疚，对内郁郁，实在不值。
---
title: 统计模型之母
date: '2017-06-10'
slug: sem
---

又来了……

翻今年的 useR! 会议摘要，发现特邀报告中有一个[讲结构方程模型的](https://user2017.sched.com/event/Ay00/keynote-structural-equation-modeling-models-software-and-stories)。嚯！

> In the social sciences, structural equation modeling (SEM) is often considered to be the mother of all statistical modeling. [...]

十几年前看国内中文论文的时候我就发现有人把结构方程模型称为“统计模型之母”，今天算是找到洋文版的了。我还是那个问题：它既然这么厉害，请问能不能帮忙举两个实例说明一下 SEM 究竟有效解决过什么问题？憋一上来就讲怎么算算算啊。

<!--还有社会科学。为啥如今啥学科都要加科学二字。数学科学……社会科学……统计科学……计算机科学……你萌都不养大肠杆菌和兔子老鼠、不刷烧杯洗试管，算哪门子科学嘛？反倒是理化生，人都不往自己的学科名后面再加个科学后缀。数学、社会学、统计学、计算机，这些名字真的有辣么丢人咩。追求名号，就像如今的艺人，一个个都称老师一样。不是说老师这个称谓只能用在学校，你倒是下功夫真教人一些东西啊；人彭玉麟称曾国藩为老师，那的确是曾国藩影响了雪帅一生，配得上老师这个称谓。-->
---
title: '为咩向 GIT 添加文件时你不看一眼'
date: '2017-06-13'
slug: git-add
---

[前面](/cn/2017/05/blank-line/)无情挑了第三届靠谱厮奖得主的刺，问 Markdown 源文件中为咩不空行。今日[看见](https://github.com/cosname/uploads/commit/e284444d)第四届靠谱厮奖得主又触碰到我的一个地雷，于是也唠叨几句。哦，对了，我还没空给这二位颁奖，待我写完 blogdown 的书、搬完 COS 的家、能有空喘口气了再仔细着颁吧。

其实我已经在《[GIT 子模块](/cn/2017/03/git-submodule/)》一文的脚注 1 中说明过了：向 GIT 里添加文件时，不要全选然后看也不看就全部添加。两个原因：一方面，这样可能会添加一些垃圾文件进来，比如 `.DS_Store` 或 `Thumbs.db` 之类的操作系统产生的无用文件；另一方面，这样可能无意添加包含敏感信息的文件，比如密码或密钥。如果你想要“借用”一下别人的诸如 AWS 之类的付费账户，你可以试试在 Github 上[搜索密钥](https://github.com/search?q=production+SECRET_ACCESS_KEY%3A+%22A&type=Code&ref=searchresults)，没准儿能找到几个能用的。

我看大为同志提交的文件中并没有什么特别敏感的信息，所以才敢公开说这事，然而 `.Rhistory` 文件还是一定程度上无情出卖了他（大家不要告诉他，快点快点捉住他，捉住他）。

有时候我会否定我自己以前的观点，但关于用 GIT 时尽量用一个图形界面这个观点，我基本上从 [2013 年](https://github.com/jtleek/rpackages/issues/12)就坚定下来了。命令行夜太黑，尽管再危险，总有人黑着眼眶熬着夜；在图形界面里，一切都亮堂得多：

![GIT 差异界面](https://db.yihui.org/images/git-diff-gui.png)

最近几周我脑子里总是在回荡那句话：我们创造了工具，然后工具反过来塑造了我们。[UNIX 命令行至上](/cn/2017/03/unix-philosophy/)的现象大概就是一个很好的例证。两周前我在墨尔本的[报告](https://slides.yihui.org/2017-DSM-Journal-Yihui-Xie.html)中再次引用了这句话，说的是 LaTeX 塑造了我们。看看 2013 年我跟那二位的辩论就可以知道，捍卫命令行的人抱着命令行就像考拉抱着树一样。可在 GIT 问题上，`git add` 既不方便，又容易出错，在日常工作中用它究竟有何意义？

我自己用 git 命令行一般只有如下几种情况：

- `git pull --rebase origin master` 保证 GIT 历史干净，不要无意创建一个合并的记录；这种合并记录也并不是什么错，只是个人偏好而已，我偏好纯线性的 GIT 历史。隔三差五我就会看见一个合并记录，比如[这里](https://github.com/cosname/cosx.org/commit/15c8b100#commitcomment-22505271)和[这里](https://github.com/cosname/uploads/commit/4c82c0db)。当然，我这种懒人是不会重复敲 `--rebase` 参数的，所以设置一下全局选项：

    ```bash
    git config --global pull.rebase true
    ```

- `git rebase -i master~N` 交互式调整还没提交的 GIT 记录，其中 master 可以是别的分支名，也可以是 HEAD，N 表示从现在往回倒退几个记录，默认情况下我用 nano 编辑（此处我允许 Emacs/Vi/Vim 党们笑出声来，对，我就是这么弱鸡，还用 nano）；调整包括移动记录，合并记录，或暂停在某个记录上添补一些修改，让 GIT 记录更加轻便明了，免得将来回头看历史，就跟开碰碰车似的：哦，这里错了，那里又倒车改回来了，好不容易看懂了这次提交里的修改，那里又给撤销了。某种情况下，GIT 历史就是精神分裂的自己跟自己的对话，为了六个月甚至更久之后的自己还能明白当时在干啥。说到这儿，我又忍不住吐槽那些用一个词作为 GIT 提交消息的行为了，放眼望去，历史记录中就一个单词在不断重复：update（废话，我当然知道你在更新，可更新了啥以及为什么更新呢）。当然，这个有时候也可以理解，尤其是无关紧要的私人项目，随便写写 GIT 消息也无妨。如果做一个想要后继有人的项目，每一次更改最好是写上一条完整的消息。

- `git checkout -b` 创建一个新分支并切换到该分支，这个命令现在已经没有必要了，因为最新开发版的 RStudio 的 GIT 栏里添加了创建分支的按钮。

除此之外，我基本上就很少用 GIT 命令行了。

前面提到了 `.DS_Store` 文件，这种文件也可以全局忽略，把文件名添加到用户根目录下的 `.gitignore_global` 文件中即可，比如这是我的文件：

```bash
$ cat ~/.gitignore_global
*~
.DS_Store
```

---
title: 配图
date: '2017-06-19'
slug: illustration
---

上周在微信上看见朱自清的《[背影](http://mp.weixin.qq.com/s/JxeRrsx4gwbd8z1xZ7EOpg)》一文。看完之后，文章的配图让我感觉心里无比焦躁，简直想把这排版的小编揪出来打一顿（前提是打得过），原因是配图太密集了，简直是在玷污文字。这篇文章本来好好的，凭文字本身已经足够打动人，何须画蛇添足每隔一两段文字就插入一幅图？！

《娱乐至死》中提到的电视对（美国）社会的最大改变之一就是让人们习惯了以可视化的形式（如图片）传达信息的方式，它带来一系列恶果，比如人们逐渐失去了长时间聚焦在铅字上的能力，因为我们的眼睛习惯了寻找视觉刺激，一定要有不断的刺激才能把注意力留在那里。^[社交网络是一样的道理，它在默默训练我们的神经系统，让我们很难停下来不去接受那个小红点（或小蓝点）的刺激，内心一直呼喊，“有没有新的消息啊？有没有啊？到底还有没有啊？”]

当然，在现今这个逗比横行的时代，再喊杀掉所有图片既不明智，也无必要。我觉得适当的欢乐值得提倡，但配图只能作为调料，不能喧宾夺主，也不能迷信配图的力量。
---
title: R Markdown Notebook 与 Jupyter / IPython Notebook
date: '2017-06-19'
slug: notebooks
---

我现在一般不掺和语言或工具圣战，我没那闲工夫，而且现在也有了足够的定力。放在早年间，比如要是碰到 SAS 与 R 的问题，那就算不吃不睡也要参与瞎叨叨。

2013 年我[提过](/cn/2013/02/waiting-for-thousand-years/) IPython 的教主以及推想过他想弄啥。现在回看，果然以及显然是要一统江湖，Jupyter 把 Python / R / Julia 三张王牌同时打出来了。教主听过我两次报告，这两次报告的提问环节他都问了我同一个问题，是关于 R Markdown 的一个弱项。如果是第一次问，我可以理解这是个问题；但第二次还要在不同的观众面前问我同样的问题，那显然就不是问给我的了，而是告诉观众：嘿，你们看，R Markdown 有这一点不足哟。嗨，我就是整天如此小人之心^[此处备择假设是，他忘记前不久问过我这个问题了。]。好在我现在已经不再怕被问这个问题，因为 R Markdown Notebook 已经解决了它。

<!-- 教主的问题是：当你把一个报告分享给别人时，别人如何获得它的源文档。因为 R Markdown 最初的设计是源文档与输出文档分离，所以当时并没有直接的办法把源文档嵌入输出文档中。而 IPython Notebook 则是源文档和输出文档混在一个 JSON 文件里。现在 R Markdown Notebook 也可是实现在输出中嵌入源文档。当然就算不是 Notebook，你也可以用 xfun::embed_file() 嵌入。 -->

其实我完全可以怼他类似的关于我眼中的 IPython 的弱项问题，但我这些年并没有说话，埋头干活儿少打仗。这些年我也没见谁说这个问题，直到前两天终于[有人提到了](http://minimaxir.com/2017/06/r-notebooks/)我脑子里的问题，那就是由于 R Markdown 它爹 knitr 继承了 Sweave 爷爷的一项基因，让文本行内可以很方便嵌入代码来计算单个结果，比如，“半径为 `` `r (x = 3)` `` 米的圆，其面积为 `` `r pi * x^2` ``”，这样的文字经过 knitr 编译可以直接嵌入数值结果，用户可以动态修改 x 的数值，而圆的面积数值会自动更新。由于 IPython 的设计是基于代码块（单元格）的，它没法直接写这样的语句，只能绕道。

好了，对 knitr 的王婆自夸就到此结束。我相信这些竞争的产品肯定一直都会互相学习改进，这也是开源社区的魅力所在^[当然，站在全人类的角度来说，这些竞争也有相当大的内耗。统一语言、一起合作当然是最理想的情况，但语言哪里统一得了呢？]。下面开始小夸一下敝厂。

我想臆断的是，一个三观正^[发自内心热爱开源事业。]的商业公司来认真做开源时，其效率可以非常之惊人，可能比学术界或者纯开源团队效率要高得多。在学术界做东西，很多人可能最大的动力只是自己，譬如 R 核心团队中的某核心某年就公开说：寡人开发 R 只是为了寡人自己的兴趣。言下之意，要是寡人的兴趣和尔等的兴趣碰巧一致，尔等可以弹冠相庆，否则也表怪寡人不理会尔等的请求。

我加入 RStudio 工作这几年，跟学生时代相比，虽然都有个头头管着，但最大的区别就是在学术界时，做东西做不做得成都有饭吃，总可以糊弄交差，但在公司，那个头头就会让我隔三差五感到心里不舒服。事实上两年前我还经历了一场很大的精神危机，这事[将来我应该会再细说](/en/2018/02/career-crisis/)。总之，在公司的不舒服比在学校时的不舒服要难受得多，这也是事情能有时间和质量保障完成的关键因素，所以一直以来我非常感激我们这位头头，要没有他持之以恒鞭挞我，我今天还不知会沦落在什么地方摸鱼。敝厂对人才的重视和尊重程度可以说令人发指^[譬如休假政策是“想休就休”，何时休以及休多久你自己看着办，没有什么多少天年假一说，当然前提是你把活儿干好。对卖力工作的员工，敝厂会更卖力奖励。]，但我并不是一个能有效享受这种自由的人，比如在家远程工作对我来说真的是非常大的挑战，至今我都还没训练出我满意的自制力。不过有了这种自由的气氛，众码草履虫、码畜、码农、直至仁波切们才能最充分地发挥才智，尽力去打最漂亮的仗。
---
title: 脑洞最大的音量控件
date: '2017-06-19'
slug: volume-slider
---

就是[调节一下音量](https://www.designernews.co/stories/84443-redditors-design-worst-volume-sliders-possible)而已，设计师可以把用户逼疯。那个给冰壶擦地的……舅问你服不服。舅妈也问。

![音量控件](https://thumbs.gfycat.com/EducatedAnnualAmazonparrot-size_restricted.gif)
---
title: 即时通信工具
date: '2017-06-23'
slug: im
---

一家叫 Doist 的公司发文谈《[为什么我们不再把赌注押在即时通信工具上](https://blog.doist.com/why-were-betting-against-real-time-team-messaging-521804a3da09)》，观点跟我前面的《[淡出微信](/cn/2017/05/wechat/)》非常相似，只不过它攻击的代表是 Slack，我攻击的是微信而已。即时通信工具的问题：容易成瘾、对话难以深入、消息组织杂乱无章、表面**消息**都在那儿而实际上是**信息**不知道在哪儿。

然后他们重新发明了一个轮子，叫 Twist。我看了一下，感觉就像邮件和即时通信工具的中和。我对这个工具没什么兴趣，因为我觉得还是邮件更靠谱一些。Twist 跟邮件的最大区别看起来是它有团队协作的味道，某种程度上就是把邮件发在一个公共场合，然后一个组织内部的人都可以过来看，并且讨论。不过这跟论坛又有什么区别呢？

我倾向的做法是：如果是组织上的机密事务，就少数几个核心成员邮件讨论；如果是可以组织内部全体公开的，就开个论坛私密版块讨论，这样后来的人可以看见前面说了什么，知识和经验都可以积累。不像即时通信工具，就算你想认真讨论，还没说两三个回合，别的事情又涌进来给打断了。即时通信有即时回复的压力，这个压力会让思考变浅，适合日常生活对话，但不适合讨论事情，你可以回想一下，你在一个微信群中有没有过一次讨论哪怕只是两天前没得出结论的问题，在群里是不是总是在被别人推着走？非即时通信让参与者有自由度，任何时刻都可以去任何历史讨论中继续发表观点，这样才能把事情想得更成熟。
---
title: 两篇结构方程模型文献
date: '2017-06-24'
slug: sem-articles
---

好心的读者 [D Chen](/cn/2017/06/sem/#comment-3365602432) 终于帮忙提供了两篇关于结构方程模型的预测和因果关系的文献，非常感谢。空谈误国，文献拿来。

- Duckworth, A. L., Tsukayama, E., & May, H. (2010). Establishing causality using longitudinal hierarchical linear modeling: An illustration predicting achievement from self-control. Social Psychological and Personality Science, 1(4), 311–317. http://dx.doi.org/10.1177/1948550609359707
- Marsh, H. W., & Yeung, A. S. (1997). Causal effects of academic self-concept on academic achievement: Structural equation models of longitudinal data. Journal of Educational Psychology, 89(1), 41–54. http://doi.org/10.1037/0022-0663.89.1.41

我现在还没空看，而且貌似都是要付费才能下载的刊物。先列在这里以后再找机会看吧。
---
title: 是谁带来了水平滚动条
date: '2017-07-03'
slug: horizontal-overflow
---

是谁……带来了水平滚动条，是那圆圆的明月明月，还是那潺潺的山泉山泉？

最近在改版公司博客，调样式的时候发现在一定页面宽度下，窗口底端老是出现水平滚动条。水平滚动条是网页的大忌，因为读者需要横着向右滚然后滚回去然后滚下去然后再向右滚……周而复始。这也是为什么我讨厌电子刊物双栏排版的原因（以前 The R Journal 就是这样的样式）。

我看到的滚动条并不是太夸张，应该是只有某个元素略微超过了页宽，可能只超过了 1 像素，这种情况下就很难用肉眼看出来是哪个元素超宽了。于是放狗搜，找到[这篇文章](https://css-tricks.com/findingfixing-unintended-body-overflow/)。嚯，这几行 JS 代码真是帅得不要不要的，我一下子就找出了超宽的元素。

超宽的是一条水平线（`<hr/>`）。这个故事倒是有点意思，因为我设置了水平线的最大宽度是 100%，理论上不应该超宽，但可能是因为我设置了样式是虚线的缘故，浏览器在渲染这条线的时候，到了末端可能会略微多出去一点虚线线段（因为虚线的一个线段不能被折断），导致撑破页面。这只是我的猜想，没有去研究验证。

解决方案很简单，告诉浏览器这个元素的大小应该由它的外边框决定即可：

```css
hr {
  box-sizing: border-box;
}
```

这样，100% 宽度的意思就是算上外边框，一共宽度是 100%，所以这个元素再也逃不出如来佛的手掌心。
---
title: 木有的最早出处
date: '2017-07-03'
slug: mu-you
---

我估计“木有”这个词最早的出处应该不是麦兜里的“木有粗面木有鱼丸”，而是“山有木兮**木有**枝”。山上有树，但树竟木有枝。想来楚人的口音也是蛮重的。
---
title: 竟然有人回复垃圾邮件
date: '2017-07-03'
slug: reply-spam
---

我的天，时至今日竟然[还有人](https://stat.ethz.ch/pipermail/r-devel/2017-July/074558.html)客客气气地回复垃圾邮件说“Please stop this”。我表示非常震惊。这是浪费自己的时间，然后由于[邮件列表本身的低效](/cn/2013/11/open-source-again/)，这样的回复在垃圾邮件浪费大家时间的基础上再一次浪费了所有人的时间，再然后我把这事写了出来，第三次浪费了这里的客官的时间。换作 StackOverflow，这样的帖子早被干掉了（要么被机器人、要么被活人），多数用户根本就不会看见。

要是道歉有用，我们还要警察作甚？同理，要是人真讲礼貌，伊还会来发垃圾邮件咩？这不扯的么。
---
title: 网页安全字体
date: '2017-07-03'
slug: web-safe-fonts
---

所谓网页安全字体（web safe fonts），就是基本上能保证所有用户看见的是类似的字体，也就是说他们的操作系统里以很大概率自带了这些字体。[传统的安全字体](https://www.w3schools.com/cssref/css_websafe_fonts.asp)大概多数人都已经看厌了，比如 Times New Roman、Arial 之类的。现在时兴使用网络字体，比如 Google 的那些字体，但网络字体的问题就是需要额外下载，所以会延迟页面的加载。

昨天我再搜网页安全字体的时候，发现了这个叫 [CSS Font Stack](http://www.cssfontstack.com) 的网站。嘿，貌似不需要再玩网络字体了，因为有些我觉得还挺好看的字体在瘟到死系统中存在的概率已经很大了。我个人比较喜欢衬线字体，因为显得有个性，但多数网页都会选择中庸的非衬线字体。在非衬线字体中，我也发现几款我比较中意的，比如瘟到死下的 Calibri、苹果下的 Optima，都比较清秀犀利；尽管笔划末端没有棱角，但笔划弧度和粗细变化都很有个性，有点衬线字体的感觉。

我觉得字体是网站样式的灵魂，所以我在写 CSS 的时候，相当大一部分时间都会花在调整字体上。当然，我自己的审美趣味比较奇怪，花了时间未必别人能认同，但如果是自己的个人网站，就不需要管那么多了，自己看着顺眼才有勇气码字。
---
title: 管道时代
date: '2017-07-04'
slug: long-live-the-pipe
---

前些天 COS 八卦群里有一位曾经跟我出生入死^[好吧，我承认是[坐过山车](/cn/2017/01/roller-coaster/)。]的战友问了个问题，说如何用 dplyr 去掉如下数据中重复 Team 并且 `Mangager = "B"` 的行。

|Team |Manager |
|:----|:-------|
|a    |A       |
|a    |B       |
|b    |A       |
|b    |B       |
|c    |A       |
|d    |B       |
|e    |A       |
|e    |B       |

伊尝试但失败的方法是：

```r
group_by(Team) %>%
  filter(!(n_distinct(Team)>=2 & Manager == "B"))
```

我一看，肿么又非得用 deep liar 不可，这两个逻辑条件非常容易表达，于是操起键盘甩了一个非管道方案：

```r
subset(df, !(duplicated(Team) & Manager == "B"))
```

然后我感觉伊很失望，大约是因为没见着 dplyr 函数和管道，于是嘤嘤嘤。其实硬要管道的话，也许可以这样：

```r
df %>% subset(!(duplicated(Team) & Manager == "B"))
```

我说现在流行杀鸡用牛刀，伊很不开森，觉得我乱给人贴标签。我的意思只是不必在一棵树上吊死：如果有一棵现成的更方便的树可以吊死，那赶紧上就好了。R 的基础函数是有各种问题，但也不是那么不堪呀。新语法因为是后起之秀，可以充分借鉴前人的失败经验， 而且是有且仅有一个主心骨（不像 R 核心团队成员各有各的脾性），所以通常容易做到一致性更好，语法给人感受更统一，但我感觉新语法发明的概念和名词实在太多了。当然，我自己不做数据分析，对 dplyr 没有什么刻骨铭心的体会，所以谈这个并没有底气。起码这个 `n_distinct()` 的命名对我来说就很糟糕，它的意思是 `length(unique())`，何不命名为 `len_uniq()` 呢。感觉有时候就像叛逆期的少年一样，总是要跟基础 R 函数对着干，你怎么说，我就非得换个相同意思但不同词语的说法（你 unique 我就非得 distinct）。

前面我说“**又**非得用”，这个“又”字的原因是我之前见过几个别的例子，也是一股脑堆管道和靓丽的新动词，但我不太理解使用它们的必要性。比如有人想[生成特定宽度的字母组合](https://ellakaye.rbind.io/2017/06/17/n-letter-words/)，这[函数源代码](https://github.com/EllaKaye/EMK/blob/959d07550/R/n_letter_words.R)可点评之处太多了，但我现在去点评它并不公平，因为我做开发的时间比伊长很多，已经从各种坑里爬过。我只评论一下跟本文主题相关的部分：

1. `dplyr::as_data_frame()` 几乎毫无意义。tibble 数据的最大好处在于显示数据列的格式以及默认只打印前 10 行。在这个例子里，tibble 没什么意义，因为这个函数理想返回格式是字符向量，而不是数据框。作者的原始动机是想生成一些不重复的字符串作为某些数据的行名或者列名。行列名哪有用数据框的嘛，必须是字符向量啊。

1. `tidyr::unite()` 又是牛刀杀鸡。明明一个基础 R 函数 `paste()` 函数就可以解决的问题，却得引入两个新概念：`word`（列名）和 `1:n`（`out` 的列序号）。

说到底，这函数要干啥呢？给你一个宽度 `n` 和一些单个字符，让你生成所有的字符组合，每个组合的字符串中的字符数是 `n`。如果让我来写这个函数，我会这样两行搞定（我把参数 `n` 换成了意思更确切的 `width`）：

```r
bind_chars = function(width, chars = LETTERS) {
  cols = expand.grid(rep(list(chars), width))
  do.call(paste, c(list(sep = ''), cols))
}
```

这里的 `do.call()` 涉及到黑魔法，初学者可能不容易懂（`tidyr::unite()` 函数的主要贡献便是抽象了这个黑魔法）。换作下面的写法应该更明了：

```r
  apply(cols, 1, paste, collapse = '')
```

但这样写的问题是牺牲了性能^[其实要真追求性能，还有一些可改进的地方，比如修改臭名昭著的 `stringsAsFactors` 参数：用 `expand.grid(rep(list(chars), width), stringsAsFactors = FALSE)` 大概还可以再快一倍。]，运行速度慢一些，究竟慢多少取决于字符串宽度是多少，有可能是 0.05 秒跟 0.01 秒的区别，也可能是 10 分钟跟 1 分钟的区别。`apply()` 的本质是笨笨的显式循环，它肯定是快不了的，要是有人告诉你说 `apply()` 快，伊不是笨就是在撒谎^[[2012 年](/cn/2012/08/quo-vadis/)我在 AT&T 实验室实习的时候，有一天中午吃饭听见旁边一群印度小哥在那儿激动地谈论 `apply()` 函数比 `for` 循环快多少，我心里暗自好笑。]。因为 `paste()` 有点点点参数，点点点里面可以接收一个个竖着的向量，把它们横着拼接起来（比如 `paste(x, y, z)`），这个操作是底层向量化过的，所以要是你传一大串向量给它，它可以很快速地拼接字符串。上面 `do.call()` 所做的工作便是把矩阵 `cols` 的每一列作为一个单独的参数传递给 `paste()`，另外再传一个参数 `sep = ''` 给 `paste()`，好让向量之间用空字符串连接。记住下面的规则应该就明了了：

> `do.call(FUN, list(x, y, z))` 等价于 `FUN(x, y, z)`。

> `do.call(FUN, list(a = x, y, z))` 等价于 `FUN(a = x, y, z)`。

这魔法之所以有点黑，主要在点点点参数上，初学者可能不太容易理解这个特殊的参数，另外还得理解 R 的数据框本质上就是列表。

我这里举的都是个例，各位客官莫要误会，我个人完全相信极乐净土（tidyverse）的革命性意义，它大大解放了数据分析工作者的生产力，但我还是想说，任何工具都有适用条件，用你自己觉得顺手并且高效的工具就好，不必硬套。我是不幸学 R 太早才会沦落成这样，凡事先想想基础 R 函数有没有方便的解决方案，实在没有，才会去寻求别的包。现今这世道的新名词多得我有点消化不了。如果是新手上路，我还是同意 [David Robinson 的观点](http://varianceexplained.org/r/teach-tidyverse/)：先上管道，等能把数据玩得飞起了再学基础 R 函数和语法；尽管天下的计算机语言的教学几乎一定是从数据结构和控制流开始，但 R 作为数据分析语言，完全可以摒弃这个方式，从数据的语言开始（tidyverse 是 R 历史上首次出现的一门比较规整的方言），而不是先来选择分支和循环。

最后留一道思考题，我觉得还挺有意义的：洒家的 `bind_chars()` 函数跟原作者的 `n_letter_words()` 函数相比，对用户来说有木有什么便利之处？
---
title: 发表不显著的结果
date: '2017-07-06'
slug: publish-negative-results
---

看来不是我一个人这么想。今日看到[一篇短文](https://www.timeshighereducation.com/news/stop-binning-negative-results-researchers-told)说欧洲一个机构发布了一篇正直科研准则，对学术界喊话说不显著的结果应该和显著结果有同等地位，也应该被发表。我认为不显著的结果应该被发表的最重要原因就是大家只发表显著的结果会造成大量资源浪费，我们不仅应该告诉同行哪些方法可行，也应该告诉他们哪些方法不可行。不然冰山下面大家都在暗暗做些无用功，前赴后继地踩坑。

当然，我对这个倡议并不感到乐观，它很难改变人们追求正面结果的传统：世上绝大多数人只会关心最终成功的灯丝材料，而不会管那几百种失败的灯丝。传统的期刊也不会有动力去发表不显著的结果，我认为唯一的解决办法是电子化期刊，就像维基百科对知识形式的冲击以及 Github 对开源事业的助推一样，在封闭的系统里是没有出路的。传统期刊伤不起，很难做到开放、免费，它们都有大量的雇员和坚固的利益链，如果拿掉了它们的打印机，就会有很多人失业。我不是说打印没有意义，这只是个人阅读方式的问题，更本质的问题是打印的方式传播只是显然已经太低效。

这便是今年下半年我打算做的事情，且看洒家能否在这里面翻个小浪。浪里个浪。
---
title: 统计学的世界观
date: '2017-07-07'
slug: stats-view
---

起了一个超大的题目，但我并不想啰嗦太多。今日看见 FlowingData 发了一篇简单的文章《[汇总的统计数字无法告诉你数据的全貌](http://flowingdata.com/2017/07/07/small-summary-stats/)》。图当然是一如既往地精致，不过道理其实老百姓都懂：对个体而言，我们通常都不希望被代表、被平均，比如多数人总是在拖平均工资的后腿。再比如一个人的死亡是巨大的悲剧，而一万个人的死亡只是一个统计数字。

这篇文章的表达方式有那么点别致，用了两个画面对照的手法，容易给人留下深刻印象。

![视觉反差](https://slides.yihui.org/gif/jump-off.gif)

我联想起另一个作品，就是 Chris Wild 大人的[可视化统计推断工具](https://www.stat.auckland.ac.nz/~wild/VIT/)（VIT）。这二者的区别大概在两方面：前者说的是总体，后者主要针对样本；前者更像针对寻常百姓，后者针对受过统计学训练的人。我觉得统计学出身或做统计相关工作的人士不妨看看 VIT 的例子，它们表达了可能我们多数人都容易忽略的问题，就是我们看到一个样本（尤其是图形）时，非常容易陷在这个特定的样本里出不来，而忘了它背后的随机性。换句话说，要是上帝重新掷一下骰子，你拿到手的样本可能又是另一个样。VIT 显示了大量的其它可能性，比如以后你再看一个样本的箱线图，就应该想一下，这个箱子可能会抖。^[友情提示：如果真的觉得箱子在抖，别太得意以为自己的世界观终于正过来了。请留意一下是不是[地震了](/cn/2008/05/earthquake/)。]

其实我六年前在《[真理在缩水，还是上帝在掷骰子？](https://cosx.org/2011/07/we-never-know-randomness/)》一文中的第一节也说过同样的问题。看 QQ 图不要那么较真，偏离对角线未必代表样本就很不正态，那些点就算来自正态分布，也是会甩来甩去的哟。

看山不是山，大概应该是统计学的世界观吧。
---
title: 忙到死
date: '2017-07-08'
slug: busy-to-death
---

有人写了一篇博客文章叫《[忙到死](https://barryoreilly.com/2017/05/31/busy-to-death/amp/)》，说是大家都忙得团团转，没工夫停下来思考、讨论、倾听。有些道理。

我自己的绝大部分（相对长时间）思考都发生在写邮件和写博客的时候。尽管多数博客文章都是胡言乱语，但我相信如果我不写，我的脑子只会更混乱。另外，用文字记录下来的东西，随时都可以往回翻看，有些事情当时没想清楚，过两年可能就清楚了。我这个经常链接老文章的特征应该是非常明显，这对读者来说很不方便，但这个习惯我应该是改不掉了。

然而我还是没找到解决忙到死的办法。每天我都感觉有一大坨激动人心的事情我没时间去做。我在想，除了列一些莽撞人项目想法之外，是不是也该刻意培养一些野生或圈养的莽撞人，然而我又没那耐心教人一些基础的东西，比如 Windows 下的 GIT 我根本不想去碰，又比如域名相关的东西（我这次是咬了好几天牙才写了个大概在 [blogdown 的书里](https://bookdown.org/yihui/blogdown/domain-name.html)）。

嗨，就算是这个想法，我 [2011 年早想过了](https://github.com/yihui/ideas/issues/19)，但好像每次我都是为了解决一个问题而造出一个更大的问题，然后恶性循环，所以越来越忙？
---
title: CSS 弹力盒子
date: '2017-07-12'
slug: css-flexbox
---

现代网页布局中，Flexbox 简直不能更方便。我经历了旧时代的 `float: left;` 和 `clear: both`，所以能深切体会 Flexbox 的便利。一旦碰了 float 属性，就像一脚踏进地狱，你会有擦不完的屁股。更别说什么响应式设计了。

![万劫不复](https://slides.yihui.org/gif/fountain.gif)

Flexbox 好像还没什么中文翻译，我索性译为超级弹力盒子好了，Q 可 Q，非常 Q。如果找它的资料，第一个应该会是 [CSS Tricks](https://css-tricks.com/snippets/css/a-guide-to-flexbox/) 网站。我作为前端界的草履虫，平时捣鼓 CSS 基本就指着这个网站和[爆栈网](https://stackoverflow.com)活了，有时候也看看 W3CSchools，虽然它被很多仁波切吐槽。若要严肃认真，我也会看看 [MDN](https://developer.mozilla.org)。

最近两天因为给统计之都新网站设计主题，需要多栏排版，所以放狗搜到了这个页面 [Responsive Multi-Column Lists with Flexbox](https://www.fourkitchens.com/blog/article/responsive-multi-column-lists-flexbox/)，碰巧解决了我长久以来的关于格子布局的一个难题。我一直不知道如何让 N 个盒子（N >= 3）在同一行上等间距分布，并且第一个盒子贴左侧边，最后一个盒子贴右侧边，每两个盒子之间都留一定空白间距。简单设置每个盒子的左边距或右边距是不行的，因为那样会导致要么第一个盒子不贴边，要么最后一个盒子不贴边。这个页面告诉了我，把这些盒子的父元素向左移动 X 像素（比如 `margin-left: -10px`），然后每个盒子的左边距设置为 X 像素即可（比如 `margin-left: 10px`），这样第一个盒子正好贴左侧边。就这么简单。终于了却了豆腐块爱好者的一个夙愿。

这个页面也介绍了如何把弹力盒子和响应式设计结合起来，解释地非常好。 我的 [Hugo 杂志主题](https://github.com/yihui/hugo-xmag)的响应式设计就靠它做出来的。
---
title: 命名
date: '2017-07-12'
slug: naming
---

关于命名，我有无数的例子想举，但时间有限，先举一例。以后要是得闲，再举一些。其实在《[管道时代](/cn/2017/07/long-live-the-pipe/)》一文中我已经举了 `n_distinct` 的例子了，它跟我下面要说的例子有非常类似的问题（单字一个 `n` 意义太模糊）。

COS 急先锋大为同志日前[上传了](https://github.com/cosname/uploads/commit/77c9189780)一个统计之都微信二维码的图片，路径和文件名为 `2017/01/qrcode.png`。我看了给[改了一下](https://github.com/cosname/uploads/commit/2ed4c2f25)。

我在《[域名起名服务](/cn/2017/03/domain-name/)》中提过计算机界的那句经典名言：计算机科学里有两大顶级难事，一是变量命名，二是刷新缓存（[以后有机会](/en/2018/06/cache-invalidation/)我也想说一下这个缓存刷新问题为什么难）。我觉得多数人对命名这件事的做法可以用这句话概括：

> 只是欢喜随意而至

因为随意，所以什么方便、或者什么是第一个映入脑海的名称，就直接用了。大为用这个路径的原因是以前我们还在 WordPress 时代的时候，这个二维码图片通过网页界面上传在一个年月文件夹下，当然其文件名[更加奇葩](https://github.com/cosname/cosx.org/pull/568/files)，我不知道是谁干的，但从这个意义上来说，大为的命名已经前进一大步了。一般情况下我的 GIT 消息都会比较详细，我重命名为 `images/wechat-qrcode.png` 的时候写了：

> 重命名，原因有二：一、该文件为通用类型文件，无须放在年月文件夹下；二、qrcode.png 名称太模糊，应该体现“微信”二维码

这样将来要是想在什么别的地方引用这个图片，我不到网站上去找大概也能记起来它的地址是 `https://uploads.cosx.org/images/wechat-qrcode.png`。这个路径基本上可以靠文字翻译过来：在 COS 网站的上传站点中的图片文件夹下，找一个微信二维码图片。关键词：COS、上传、图片文件夹、微信、二维、码、图片。如果用 `2017/01/qrcode.png`，可以想象将来会有几个问题：一是需要回忆更多细节：我是放在哪年哪月文件夹下？某年某月后面有没有跟着某日？二是如果有一个新的二维码（比如支付宝）需要上传，我该如何给它命名？因为前面有 `qrcode.png` 站在道上了，我是用 `qrcode2.png` 还是 `alipay-qrcode.png`？如果用了前者，等到回忆的时候又要想，因为支付宝是 qrcode2，微信二维码是不是 qrcode1？如果用了后者，就会想微信那个是不是 wechat-qrcode？从此就混乱了。

火影中我最喜欢的一个角色应该是云隐村的重（这种只有一个单字的名字好别扭啊），他那脑洞大开登峰造极的杞人忧天碎碎念非常有趣。上面这一段也算是我的杞人忧天。一个文件没有命名好，仿佛会导致时钟失灵山体滑坡火车出轨飞机坠毁地球爆炸[宇宙毁灭](http://langdawei.com/2017/03/14/bugs.html)。

变量、函数、参数命名都是一个道理。要是图一时之方便，不考虑未来、他人、撞名的可能性，变量一律用 x/y/z，函数一律用 f。过一阵子再来看，星星咋不像那颗星星哟， 月亮也不像那个月亮，河也不是那条河哟， 房也不是那座房。

面前摆着一堆代码，红红火火恍恍惚惚。
---
title: 响应式图片的浏览器原生支持
date: '2017-07-13'
slug: responsive-picture
---

对普通青年来说，响应式的网页设计就是在 CSS 里加一个 `@media` 规则，规定在多大尺寸下元素用什么样式。例如：

```css
/* 普通样式 */
元素 {
  如此这般;
}
/* 页面最大宽度为 320像素时的样式 */
@media (max-width: 320px) {
  元素 {
    这般如此;
  }
}
```

对图片来说，其实有更便利的办法。只要你不是那种用微软 IE 浏览器拖全人类后腿的人，你可以用一个新标签 `<picture>` 结合 `<source>` 标签，指定在不同页面尺寸和硬件设备支持下用不同的图片。具体可参见 HTML5 Rocks 上的[这篇文章](https://www.html5rocks.com/en/tutorials/responsive/picture-element/)。要看你的浏览器是否支持响应式图片，可以测试一下[这个页面](https://googlechrome.github.io/samples/picture-element/)上的猫：把浏览器页面逐渐收窄，就可以看见猫在屏幕很宽的时候是躺着的，屏幕窄到一定程度会起来蹲着，更窄的时候会蜷起来。

新版的[统计之都网站](https://cosx.org)主题中，我便是用了这个功能。
---
title: 关于狗熊会的致辞的一点意识流
date: '2017-07-17'
slug: bear-club
---

刚看了微信上狗熊会人才计划第一期的《熊大致辞》，颇有共鸣。节选三段如下并斗胆附注一些我的意识流：

> 【……】我希望人才计划的学员能够明白狗熊会的雄心壮志。什么雄心壮志？答：国家富强，民族振兴。狗熊会有一个谦卑朴素的爱国之心。我们认为，爱国不需要喊口号。我们认为，最靠谱的爱国就是把自己的本职工作做好。而狗熊会的工作就是陪伴并助力数据产业的振兴。助力的最靠谱方式就是为产业培养合格的人才，我们希望把这个工作做好。

如果“爱国者”都能把自己本职工作做好，少一些键盘爱国或朋友圈爱国行动，那这个国也不需要那么多“爱”了，因为我们一定会变得超级强大。现今总是需要秀爱，只不过是源于一个字“弱”罢了。

插句题外话，其实我连爱国都反对，因为爱国太狭隘。要爱就爱全宇宙嘛，就像列侬的《Imagine》里唱的一样。最近看朱自清《经典常谈 · 文艺常谈》，注意到里面的庄学，可能庄子的思想比较符合我的口味。不过这不妨碍我敬佩熊大。

> 【……】我们希望狗熊会最优质的教学资源，能够向所有爱学习的熊孩子开放。只有一个前提：你要非常努力，超级认真！

我感觉这样的熊孩子真的是非常稀罕。努力可能可以自己练出来，反正就是给自己抽鞭子；认真这个特质，可能靠外人压迫更有效。比如我的狗眼就是经过了几轮出版社编辑的蹂躏，才变得这么畸形，看什么东西总是要看看有没有什么全角半角字符、语法、错别字、标点符号、空格、破折号长短、省略号是三个分开的点还是连起来的一个字符（是 .\.. 还是 ... ）的毛病。认真就是注意细节，细节经常会在盲点中，所以需要外人来帮忙清扫盲点。认真的度其实挺难把握的，搞不好容易钻牛角尖。

> 需要“教”才能会的小伙伴不是狗熊会想要找的人才。【……】所以大家不要问很蠢的问题。什么样的问题是很蠢的？同样的问题，我百度一下，就有答案的问题，都是很蠢的问题。问这些问题只有两个可能：蠢，或者，懒。问任何问题之前，先问自己：我尽全力没有？如果我尽全力了，还搞不定，这说明：这是一个好问题。

抬手搜一下就能得到答案的问题，的确是蠢问题。对我而言，还有一类我不喜欢的问题，就是惜字如金的问题。当然，提问者可能并不知道，伊二十个字的问题我还需要五轮追问才能问全需要的信息，然后用五百字去回复。我非常怕这种需要挤牙膏的问题，真的是很考验人的耐心。但其实这事也不能完全怪提问者。能把问题问清楚的人，通常已经有了相当大程度的本事自己解决问题了。

熊大做这件事，某种程度上跟当年的和君商学院类似，但二者相比起来，我更欣赏熊大的做法。我并不是做价值判断，只是从做事风格的角度说而已。也许和君的贡献和价值大得多，但我感觉风格还是太夸张了。
---
title: 数据与效率
date: '2017-07-20'
slug: data-and-efficiency
---

狗熊会的熊大貌似非常喜欢举他那个信用卡的例子：国内的人出国期间，在国外收到信用卡的邮件账单，里面的广告竟然还在推荐国内的麦当劳和电影院。熊大感慨，要是他们稍微用那么一丁点持卡人的地理信息数据，就不至于插这种毫无意义的广告在账单中。

我深以为然。这世上很多极其没有效率的事情，背后的原因只有一个，就是没有数据或者没利用数据。比如我每个月看见水电天然气账单，都很想知道到底这些总的电量、水量在房子里是怎么个分布。就像优化代码一样，如果没有细节测速，就不能知道从哪里优化。我不知道到底什么电器耗电最多，如果想省电也不知从何省起，所以只能两眼蒙圈交电费。很可能天然气的消耗在多数时间里都没有意义，比如上午和下午以及夜里都几乎不可能需要锅炉烧热水，是不是我的天然气账单上的大部分费用都花在了这些没意义的时间里，我也不知道。我付得起账单，所以也就没有动力去探个究竟。

再比如保险。我想应该没有多少人对保险公司有正面印象，看起来就像是这样：没出事时，他们追着你收保费，各种吓唬忽悠；出事之后，又是这样那样，反正是赔不了多少钱。这也不能全怪保险公司，问题还是来自于数据。就像[这篇文章](https://blog.ycombinator.com/thoughts-on-insurance/)里谈到的，如果保险公司清楚知道你家的电路结构，可能对失火的风险评估就会精确得多，但他们拿不到这么精细的数据，只能从外观大概看看（甚至只是从网络图片观察一下一栋房子）就给个保费标准。当然，保险的事情已经有进步了，比如车保险可以用追踪工具记录行车习惯，评估个人层面上的驾驶风险。不过我目前用的车保险在这方面也只是流于形式，我要了他们的追踪仪器，但从来就没打开过，只是为了省三二十块钱保费而已，而他们也从来不问我为什么我的仪器不产生数据（因为软件应用做得太差了，实在忍不了不想安装）。

又如出租车行业。滴滴、Uber 之类的为什么能迅速火起来，最重要的还不是因为地理数据么。乘客和司机都有了对方的地理数据之后，简直是太方便了。现在要是到了一个不支持用手机软件打车的地方，我心里简直是堵得要死。上次在澳大利亚，因为我导师的学校只能报销传统出租车费用，所以她打电话叫了车，然后我们就在寒风中等啊等，司机和乘客就在电话中一遍一遍确认对方到底在哪里，而我们的 Uber 上显示周围好些车在转悠，真是宁可不要报销打一辆算了。

还比如医疗。所谓精准医疗，应该无非也就是最大程度收集自变量数据；传统形式下去医院，医生无非也只能大概问问家族病史和个人病史，都是很模糊的数据。

还有自动驾驶技术，没有超大规模的数据训练和积累，车怎么可能会“聪明”。

扯得有点远。回到熊大的例子，其实有些问题解决起来应该没那么难，不是所有的数据收集都那么困难。他的例子呼应了我在 COS 论坛里以前经常念叨的一句话：人脑一小步，电脑一大步。意思是稍微对自己的脑子狠那么一点点多想一步，程序就可能清晰或者快很多。另一个类似的例子是服务器技术中的服务器预传送（[Server Push](https://next.smashingmagazine.com/2017/04/guide-http2-server-push/)），传统网页加载需要先从服务器端拿到 HTML，然后浏览器才能解析里面的依赖（如 CSS、JS 等），预传送的原理就是你事先告诉服务器，如果用户加载某个页面，浏览器一定会需要下载的依赖文件。这样就不必等第一轮 HTML 加载完毕再分析依赖了，而是 HTML 和依赖同时加载；在依赖文件相对较大的情况下，网页加载起来就会快一些。
---
title: 够了
date: '2017-07-20'
slug: enough
---

码农界的著名人物 DHH 几周前写了一篇日志叫 [Enough](https://m.signalvnoise.com/enough-1d48019c7335)。一贯的反叛和洗脑文风。我不是说这种文风不好，我只是看到这种文字会立刻产生警觉；他蛮擅长操控读者思维的。

我以前[提过](/cn/2012/03/as-years-go-by/)他的 Rework 一书有些偏激。这篇文章的风格类似，不过我倒是基本上同意他的观点。其实同意不同意，取决于个人的立场和角度，以前的我可能会不能认同，但现在的我大致能认同了。他喊“够了”：够有钱了，功能够多了，市场份额够大了，等等。我觉着很多人都会有这个问题，随着能力的增长，就会有越来越多的事情想办，什么都不肯丢弃，最终淹没在琐碎中。
---
title: 运气、私有制与公平
date: '2017-07-20'
slug: lucky-breaks
---

看了一篇文章叫 [My own private basic income](https://www.opendemocracy.net/beyondslavery/karl-widerquist/my-own-private-basic-income)，挺有共鸣。作者认为：

1. 我们的财富所得更多是基于运气而不是努力；

1. 我们的社会更多奖励那些资源拥有者而不是做实事的人。

我并不完全同意他的观点，但差不多也同意大半。他举了自身的例子，讲他如何好运气发家致富，然后提到了中东国家的贫富悬殊只是因为当时的殖民国家在中东地图上随意划了一条线，浑然不知这么一条线造就了靠石油资源暴富的国家和没有资源而贫穷的国家。是啊，那些拥有石油资源的国家，凭什么就应该拥有资源呢。

他又举例说，整容手术医生挣得远比给治疗营养不良小孩的医生多。因为做整容手术的人一般都是富人，而有营养不良小孩的家庭，通常也已经是穷得响叮当了，哪里付得起医药费呢。眼睛是不是双眼皮跟能不能吃饱饭这两件事，让两个活生生的人站在你面前，你如何评价它们的重要顺序？

这样的事情不敢多想，否则[羞耻感和无力感](/cn/2017/02/shame/)会把人淹没。

他的文章有点虎头蛇尾，结论部分我觉得并不实际。那些坐拥资源的人，常常也有权力伴随着，要想从虎口拔牙，恐怕不是那么简单。他说他有朝一日可能会用他的剩余财富去为别人做点事情，何必“有朝一日”呢？

我说不能完全同意他的观点，原因是这篇文章把资源拥有者描述得太简单了。可能确实很多情况下是，有资源的人不干活也能一直富得流油，但应该不是所有人都这样。我想还是会操不少心去做管理方面的事情的。他自己可以撒手把钱交给兄弟去投资挣钱，不代表所有资源拥有者都有这个条件。
---
title: 一百人每人一百元随机互相送钱最终的结果
date: '2017-07-21'
slug: random-giveaway
---

在 Decision Science News 的博客上看见一篇文章用动画显示[一个反直觉的问题](http://www.decisionsciencenews.com/2017/06/19/counterintuitive-problem-everyone-room-keeps-giving-dollars-random-others-youll-never-guess-happens-next/)。大意如下：一个房间里有一百人，每人手里一百块钱，每隔一定时间所有人都拿出手里的一块钱随机送给另外一个人，问过一阵子之后这房间里的钱的分布是怎样的。

我跟这个博主 2008 年在德国的 R 会议上见过一次，他应该还记得我，因为我发现他这些年来一直对动画都很有兴趣。我从黑客新闻上看见的这篇文章；粗读之后觉得是有点反直觉，因为随机送钱最后的分布应该还是会保持均匀分布。后来我仔细想了想，觉得不对劲，可能被这里的动画给骗了，尤其是下面蓝色的分布图。他想展示的结论大概是最终这些钱的分布会很不均匀，即使随机互相给钱，最后也会有贫富差距；然而问题可能就出在这个“分布”上。虽然我很讨厌统计学的学术训练（读博读研）总是要从源头学起，但偶尔从源头想问题还是值得的。比如每当说分布的时候，需要问清楚随机变量是什么，到底是谁的分布？我认为这篇文章里并没有定义清楚。

上图的意义很清楚，显示每个时刻每个人手里的钱的数量。下图的欺骗性来自于它把所有人排序了，而每一个时刻，横轴实质上都在变化。比如上一个时刻排名第 10 的人，下一时刻可能会换到 28。这个变化并没有在动画中显示出来，让人很容易误解为最左边最穷的那个人一直是同一个人，最右边最富的那个人也一直是同一个人，所以这个系统里有稳定的贫富差距。

那到底是谁的分布？如果看 `$\mathrm{P}(X_1=m_1,X_2=m_2,\ldots,X_n=m_n)$` 这个分布（其中 `$X_i$` 表示第 `$i$` 个人的钱数随机变量，`$\sum m_i=100*100$`），我感觉应该会是一个多元均匀分布，但我也不太确定，因为这些 `$X$` 之间不独立，它们的和为一个定值。不过有一点应该是确定的，该文中下图显示的是顺序统计量 `$X_{(i)}$` 的取值情况。对单个的顺序统计量来说，它的分布肯定不会是在原来随机变量取值区间上的均匀分布。

说白了，画一幅图 `plot(runif(100))` 可能不会吓到人，一眼看去很随机很均匀，很符合直觉；画排序之后的图给人感觉就不一样了，尽管仍然是均匀分布，但 `plot(sort(runif(100)))` 会给人造成一种很不均匀的错觉。

所以图形虽然直观，但骗起人来也是妥妥的。我 2009 年就[自己骗过自己一回](/cn/2009/02/cumsum-of-normal-var-and-uniform-var/)，以为发现了什么不得了的关系，到头来只是一场空。
---
title: 听歌系列之相思
date: '2017-07-28'
slug: na
---

列弛大人貌似最近批阅了我的一些旧折子，不知怎地翻出了我 2014 年说[翻唱](/cn/2014/01/same-song/)的事情。[前面](/cn/2017/02/nakasendo/)我提到过我一年四季几乎都会开着音乐，多数时候是用来当背景，但有时候我也看看评论。上一次谈歌还是用虾米的年代，现在已经换到网易云音乐了，那上面的评论真是不得不服，简直是人生百态尽在其中。这些以后再议。

上次说了翻唱，那今天说个类似话题：重名的歌。我听过的歌里面重名但又完全不同的歌并不多，我随便那么一想，只能想起《相思》。一首是[叶凡](http://music.163.com/#/m/song?id=322084)唱的：

> 红烛为谁燃
今夜你不在身边
偷拭腮边泪
红红喜字我无缘
一杯酒
思绪万千
望不回旧时燕
旧时燕
最怕你寂寞
最怕你孤单
今夜梦中应有你
痴情一点
最怕你寂寞
最怕你孤单
今夜梦中应有你
相思一片
最怕你寂寞
最怕你孤单
今夜梦中应有你
痴情一点
最怕你寂寞
最怕你孤单
今夜梦中应有你
相思一片

一首是[毛阿敏](http://music.163.com/#/m/song?id=276294)唱的：

> 红豆生南国
是很遥远的事情
相思算什么
早无人在意
醉卧不夜城
处处霓虹
酒杯中好一片滥滥风情
最肯忘却古人诗
最不屑一顾是相思
守着爱怕人笑
还怕人看清
春又来看红豆开
竟不见有情人去采
烟花拥着风流真情不在

叶凡在十年前就因乳腺癌去世了（37 岁）。我注意到这首歌是因为小时候有一个暑假里看了一部电视剧叫《少林义士洪熙官》，它是片尾曲。这部剧的剧情我全然忘记了，但这首歌印象还很深刻。这样的例子还有一些，比如有一次跟一个同学说起小时候看的《真命小和尚》，我也是一点不记得剧情，只记得片尾曲，里面有一句“山河大地本是微尘，何况是尘中的尘”（然而又过了几年之后我才意识到这句话出自《菜根谭》，而且小时候我一直以为是“山**和**大地”）。

最近在看朱自清的《经典常谈 · 文艺常谈》，是一本少有的我看得进去的纯文学类书籍。书有点长，我还没看完，不过里面一个词给我留下了深刻印象：复沓。说白了是重复，但从重复到艺术，似乎还有不少距离。诗词起源于歌，感觉复沓还是用在歌里面最单纯但也最有效果。望不回旧时燕，旧时燕。

叶凡的《相思》在网易云音乐上点赞最多的目前还是洪熙官那条，看来小时候大家都是看的一样的电视剧，毕竟那时候全国一共也没几个电视台，一到放暑假，不是重播西游记就是新白娘子传奇。

说起叶凡，顺便提一下另两首我比较喜欢的歌《[秋来秋去](http://music.163.com/#/m/song?id=322115)》（目前网易歌词是错的）和《[如梦尘烟](http://music.163.com/#/m/song?id=322090)》。

以前在《[江阔云低断雁叫西风](/cn/2014/06/on-writing/)》中提到过毛阿敏《篱笆墙的影子》。毛阿敏的声音大气而不霸气，也不尖锐，所以我觉得比较中听（如《[天之大](http://music.163.com/#/m/song?id=26217331)》）。当然有些声音霸气的我觉得也很好，比如叶丽仪的《[万般情](http://music.163.com/#/m/song?id=320433)》《[仙鹤情缘](http://music.163.com/#/m/song?id=320232)》（又是小时候看的鬼打架的武侠剧，叫《仙鹤神针》）。据说这首《相思》是《西游记后传》的片尾曲，我在听这首歌之前从来就没听说过世上还有这么一部剧，看来一定是电视台趁我上高中了偷偷播的。网易云音乐上头条评论说这剧配曲神级、剧本一级、演员二级、特效羊驼级。貌似大家都在吐槽反反复复的武打动作，这在我小时候看的武打剧里面非常常见，估计是过了这些年，大家都已经厌倦了“重要的人打三遍”这种无聊特效。说了那么多遍，那些导演咋就还是不明白社会主义初级阶段的主要矛盾呢。

说到这两首歌，想起李白的《秋风词》。我孤陋寡闻，在看《经典常谈 · 文艺常谈》之前都没意识到还有五言、七言之外其它字数的诗。比如朱自清提了嵇康的四言诗为例（其实四言在高中也不是没学过，比如龟虽寿）。李白这首则是字数不等的三五七言诗，也颇有韵味。
---
title: 人类是否会毁于人工智能
date: '2017-07-31'
slug: superintelligence
---

简单看了一个[关于人工智能的演讲](http://idlewords.com/talks/superintelligence.htm)。演讲者倾向于反对人工智能会毁灭人类的想法。他的演讲技法非常娴熟，比如他的幻灯片几乎一个字都没有，全是图，而图片是最能震慑观众的工具，普通人不会有这个胆量和技术只凭图片演讲。他举了霍金和爱因斯坦的猫的例子，说他们再聪明、对猫科动物的知识了解再多，等到需要把猫装进笼子的时候，他们的智力还不如暴力更能迅速解决问题（尤其是霍金身体无法行动，更没法把猫装进笼子里）。

我以前说过，我不是太喜欢寓言式的论据（寓言的作用是通过讲故事给人启示而不是说寓言说怎样事实就一定怎样）。这两个抓猫的例子就是寓言，霍金和爱因斯坦并没有真的抓猫。他意图说明，人工智能在智力上再聪明，想灭掉一个人的话，还得通过物理方式，而那些电脑没有手没有脚，没有枪没有刀，我一个大活人能跑会跳，怎么会被那台蹲那儿不能动的电脑干掉，搞笑（我似乎不小心开启了说唱模式）。

我觉得未必吧。那台聪明得要死但没有手和脚的铁箱子，不一定得自己出手才能灭掉一个人啊。比如，它可以跟一个人对话，不断发掘他的负面情绪，最后让他自挂东南枝（大话西游中的唐僧问“你妈贵姓”）；又或者它可以跟另一个人对话，煽动他来干掉这个人。要是人工智能掌握了某些极端宗教的信仰特点，也许它还能发动一群人灭掉另一群人。人类这种高度不理性的动物，对抗纯理性机器，赢面可能不大。

人工智能用在纯科技领域，肯定会给我们的生活带来很多方便。比如我相信自动驾驶一定会大大改善交通安全问题，也会大幅提升交通效率，根本没有必要人手一辆车自己开，到时候满大街都是自动驾驶的车，想去哪儿随便逮一辆就走，在车上可以吃着火锅唱着歌，到了就下车，不用费脑子去找停车位。

人工智能要是触及到人类的精神领域的话，我觉得这事还是值得担忧的。

其实可能都轮不到人工智能那么高级的东西来干掉人类，微博微信和手机就足够了。
---
title: 等宽字体中的合体字
date: '2017-08-01'
slug: firacode-ligatures
---

我们知道代码排版一般用等宽字体，而所谓等宽字体就是每个字符宽度相等。这是它与衬线、非衬线字体的最显著区别，而在衬线、非衬线字体中，排版时容易见到两种字形变异现象，一种叫合体（[Ligatures](https://en.wikipedia.org/wiki/Typographic_ligature)），一种叫互嵌^[我瞎翻译的。]（[Kerning](https://en.wikipedia.org/wiki/Kerning)）。前一种的意思是当某两个或多个字符靠在一起时，它们会互相有局部连接的现象，比如 fi 在一起的话，f 上面的弯弯就会和 i 上面的点重合，而 f 的横线也会伸到 i 那一竖的起始位置；又比如两个 ff 靠在一起，它们的横线会连成一条线。后一种的意思是根据两个字母的形态，一个字母可能会伸入另一个字母的边界内，比如 AV 在一起的时候（不要想多了），A 右上方空间大，V 左下方空间大，把它们俩稍微挤一挤，会显得好看一点。

根据定义，等宽字体一般不会做这些变形，否则字符宽度就不相等了。前些日子刚发现几款面向程序员、支持合体的等宽字体，例如 [FiraCode](https://github.com/tonsky/FiraCode)。它挺有意思，比如不等号 `!=` 这两个字符在一起时（看起来）会自动变成真正的不等号 &ne;。那些 R 里面的等号党应该会喜欢这个字体，因为他们梦中的[箭头赋值](/cn/2012/09/equal-and-arrow/)符号终于可以看起来是一个真的箭头而不是小于减号了。为了保存我等号党的实力，我还是不跳到树上对着这款字体狂吠了。
---
title: Algolia 的网页提速
date: '2017-08-04'
slug: algolia-web
---

瞄了一眼最近 [Algolia 的网页提速文章](https://blog.algolia.com/improving-web-performance-to-mirror-engine-speed/)，写得很是细致。里面提到他们扔掉了 jQuery 和 Underscore 库，这跟我最近的想法是一致的。我作为一个 JS 门外汉捣鼓了几年，一直觉得离开了 jQuery 就没法正常写 JS 代码。直到前一阵子有一天，我突然发现原来 `document` 对象本来就有 `querySelector()` 和 `querySelectorAll()` 方法，以前我一直以为只有 `getElementsByXXX()` 那一套。这个发现一下子就打垮了我对 jQuery 的信仰，在文档中查找对象再也用不着 `$()` 了。当然，我不是说 jQuery 没价值，它仍然很厉害，只是它的厉害之处已经不是我亟需的了。

另一件进一步打垮我的信仰的事情是 CSS3 渐变动画。原来 `transition` 属性如此简单。离了 jQuery，依靠浏览器原生支持就已经可以活得够好了，无依赖，绿色纯天然，加载速度还快。这么几毫秒的事儿，也是操碎了心。
---
title: 黄金布局
date: '2017-08-04'
slug: golden-layout
---

好几周以前看见了一个 JS 布局库，叫 [GoldenLayout](http://golden-layout.com)。看起来很炫，我挣扎了一阵子，发现我基本上不会有空能把它导入 R，只要先做个笔记在此，万一过几年还是没有人做这事、而且我能有空了再回来看看。这玩意儿要是能跟 R Markdown、Shiny 以及 ECharts 之类的东西结合起来，可能会帅到爆炸。
---
title: 石化森林
date: '2017-08-04'
slug: petrified-forest
---

上次看了一篇关于《[娱乐至死](/cn/2017/05/amusing-to-death/)》的文章。这次看了一篇类似的政治分析方面的好文章，叫《[石化森林](http://laphamsquarterly.org/fear/petrified-forest)》（Petrified Forest）；如果我意译一下的话，可以译作“恐惧至死”。文章同样很难读，对我来说生词太多，还需要了解一些历史人物，但它至少在一定程度上支撑了我去年萌发的[一个隐忧](/cn/2016/12/r-activism/)。

文章的核心观点大约是基于弗洛伊德提出的两种恐惧：真实的恐惧和想象的恐惧。前者就像你面前站着一只老虎，你面临着要被老虎吃掉的情况；想象的恐惧就像看完恐怖片之后晚上走路总觉得后面有什么可怕的东西跟着。作者认为想象的恐惧就是美帝最大的消费品。美帝政界和商界的天才们，凭空制造了一年四季不断的各种恐惧供屁民们消费：性别的、种族的、社会的、经济的、国内的、国外的、有的、没的。到底我们在恐惧谁？那些坏人在哪里？

两次世界大战打垮了欧洲和日本（中国本来就垮着），只有美帝幸免，欧洲的财富和人才都流向了美帝的极乐净土。美帝人民从小被教育，我们是善良的、完美的、正义的，世上一切污秽和邪恶都需要美帝去清扫干净。然后不幸苏联的原子弹试爆成功，美帝从此陷入了长久的恐惧。

为了显示霸主地位制造莫名的恐惧打伊拉克，到头来只是让军火商大赚一笔，而国防部还能借机提高了自己的地位（亲爱的屁民们，我们一直努力保护你们哟）。而说好的伊拉克的大规模杀伤性武器在哪儿呢？美帝屁股一拍走了，留下一个被打得千疮百孔的国家，滋生更恐怖的恐怖组织。这一战中，两个国家的总统到底谁是更本质的恐怖分子，还真很难说。

这篇文章让我最有共鸣的地方是这一段：

> [...] The noun _American_ lost all value unless preceded by an adjective signifying authentic proof of existence as black American, gay American, white American, female American, Native American, rich American, poor American, dead American. For every benign "us" the candidates find a malignant "them"; for every neighboring "we" (no matter how eccentric or small in number) a distant and devouring "they." The strategies of division sell newspapers and summon votes; and to the man who would be king, the popular hatred of government matters less than the atmosphere of resentment in which the people fear and distrust one another.

我觉得抽象是罪恶的一个重要根源。一旦人群被抽象化之后，就会出现标签和界线：你们、我们。简直无法想象，人与人之间可以有多少种打法：人群有多少种可能的分类法。关于“抽象”的问题，我在[统计之都十周年](https://cosx.org/2016/05/cos10-anniversery-yihui/)文章中用一段文字解释“人本”的时候提过。如果我们每个人都能忘了其他人的标签，看到一个真切的人，而不是一个抽象群体的代表，这个世界应该会和平许多。

这位作者不愧是干了几十年编辑的人（看句号放在引号内还是外就能感受到），笔势相当雄健。文末最终引出了川普，简直如同荆轲用笔刺秦。不，他不是要刺秦，他是在刺整个世界。
---
title: 香农
date: '2017-08-04'
slug: shannon
---

看了一篇对香农的经验总结《[10,000 Hours With Claude Shannon: How A Genius Thinks, Works, and Lives](https://medium.com/the-mission/10-000-hours-with-claude-shannon-12-lessons-on-life-and-learning-from-a-genius-e8b9297bee8f)》，我对总结再总结一下。

1. 有意识地设计自己的生活和工作习惯，使自己免于外界干扰（如社交媒体）。香农有一大堆没有回复的信件。他在有“开门习俗”的贝尔实验室中特立独行，一般关着门。关于这个开门习俗，我在 [AT&T 实验室实习](/cn/2012/08/quo-vadis/)的时候深有体会，那里的人至今都保留着这个习惯。开门的意思是欢迎任何人任何时候进来跟我讨论任何事情。

1. 先列想法，再填充细节。怎么说呢，这一点的平衡其实有点难掌握。两个极端分别是：只有想法，空想；上来就抠细节，第一步就卡死。香农的直觉让他可以先看穿好几堵墙，但一般人没这个本事，我们只能先拿锤子敲掉第一块砖。不过这里面可学习的做事方式是，先列提纲，再安排日程，然后填充细节。譬如写书，提纲列完之后就感觉书已经写完 20% 了，细致的日程列完就感觉已经写完一半。当然更重要的是紧跟日程，把那些该死的句子一句句敲出来。这个过程有时候顺畅，有时候也让人想死的心都有。比如我巅峰效率的时候，一周可以写四五十页；低迷的时候一周一句话也写不了，但我还是感觉列细致日程是最关键的一步，否则做大事会有无比的挫败感，永远无法启动。

1. 听导师的话。这一点嘛，我感觉推广性不是很强。香农听了导师的话去搞理论遗传学，结果如何我不知道（至少应该没有信息论成就大吧）；而且导师未必都是对的。作者说的谦逊态度倒是可以借鉴。

1. 多走一些道，但不是每条道都需要走到黑。这条经验的借鉴意义在我看来也有限。香农研究了不同领域的问题，发现了糅合它们的办法。他业余也骑独轮车、扔杂耍球、下棋、作诗。我觉得只要不是在一个细枝末节的问题研究上一条道走到黑就可以了（我觉得很多博士研究有这个可能性），现代社会应该没多少人有那个福气能一生只研究一个问题了。

1. 杂乱无妨。这个不是很符合我的习惯，所以我觉得它也只是个个人习惯问题。香农喜欢摆弄小物件儿，有很多没写完的论文，可能他的脑力比较充沛。我是怕杂乱的人。我的脑子通常很杂乱，但当我摆出一件东西的时候，我通常会尽量把它理顺。

1. 时间是伟大想法生长的土壤。香农的信息论论文花了近十年时间才面世，虽然他并不是每天都是在思考这一件事。我觉得这还是因为他对这个问题有足够的好奇心的缘故。我想问题的周期也很长；虽然我目前还没什么想了十年的事情，但想了四五年的事情还是有一些的，比如我就是不服 LaTeX/Word 主宰学术界，咬牙切齿要把写作和排版这两件事撕开；内容一日不与样式分离，学术界就要多浪费一日时间。再比如我也愣是不服微信公众号，这个辣鸡而封闭的系统，也浪费了我们太多时间。

1. 朋友的实质。香农不浪费时间跟不理解他的人争辩，不虚交朋友。当然，他的左右只可能是牛 A 与牛 C。对我们凡人的启示是什么？喝酒可以，扯淡可以，但如果每次喝酒扯淡都是些无关紧要的事情，事后想想并没有什么内容，那不去也无妨。

1. 钱。君子不谈钱，君子要吃饭。香农好像用不着谈钱，反正他有的是钱，也有挣钱的本事。我等凡人当然是做不到，但我觉得避免钱的诱惑也挺重要的，因为钱也可以修改人的大脑。我对生活的要求基本上只是能保证温饱就够了；对于额外的收入，若有，我也不拒绝；若没有，也无妨。这么做并非出于淡泊名利之心，而是我觉得挣那额外的三五块钱所花的精力根本就不值得，所以譬如微信红包我现在看都不看，因为我不想把手机拿过来；又譬如我上一本书的稿费我直接叫出版社砍掉了，我不拿一分钱，你把书给我定价定便宜点就好，如果不这么做，我就要绞尽脑汁去想如何把这笔钱搞到手（以目前我在美国的身份拿版税不合法；以我中国公民的身份拿版税还得填表交税事后还要报税）；再譬如我不在我的博客里留打赏二维码，因为我不需要打赏，更不想让读者来影响我在我的私人领地写东西，不管影响正也好负也好。

1. 花哨容易，简单却很难。通过文中这短短几段文字的描述，由于没有具体示例，我不太确定作者指的简单是怎么个简单法，不过就这句话而言，我非常同意。把一件事做得简单比复杂要更难，因为要简化一件事之前，需要先全方位了解它。前段时间有人在[推特上引用费曼的话](https://twitter.com/xieyihui/status/880484692893585408)，“只有我能创造的东西，我才能理解。”费曼的确是一位前无古人后无来者的优秀教师，说话思路清晰，而且非常擅长将科学原理通俗化。我看了那句话，说“如果我无法创造一个极简示例，我就无法理解一样东西”。在写作 [blogdown 书](https://bookdown.org/yihui/blogdown)的整个过程中，最强烈的爆发时刻是当我做完 [hugo-xmin 主题](https://github.com/yihui/hugo-xmin)：直到我徒手写了一个我认为最简化的 Hugo 主题之后，我才觉得我理解了 Hugo 的核心部分。这个主题同时也打垮了我心中不敢设计网页主题的壁垒，之前从来都只会抄代码。虽然水平一般能力有限，但跨过了一个心理障碍，终于有勇气跟 Bootstrap 和 jQuery 说不了。趁着春风得意马蹄疾，设计了[第二个主题 hugo-xmag](https://github.com/yihui/hugo-xmag)（杂志样式），继而改吧改吧成就了[统计之都](https://cosx.org)的新站主题。虽然改了很多，但总代码量仍然非常小，这是我最得意的地方。当然，样式问题每个人都可以来挑刺，这个防守工作实在是很难做。比如小轩哥提交了一个合并请求“[优化首页样式](https://github.com/cosname/cosx.org/pull/624)”被我无情拒绝了，我也很过意不去，感觉快把小轩哥逼哭了。加图标、加字体、加 CSS、加 JS 都是很容易的事情，可总该有个喊停（至少临时喊停）的时刻。尤其是 JS 法力无边，极易成瘾，玩下去可以玩成无底洞。

1. 少宣传。这条经验恐怕对多数凡人也不适用，香农的信息论不需要他自己卖力宣传。他选择了冷静地继续他的研究，这是值得学习的。在我看来，在这个时代宣传其实也没什么鸟用了，因为世界太嘈杂。不宣传不是因为不想宣传，而是宣传花的精力放在办事上可能更实际。咦，不宣传听起来[好像有点耳熟](/cn/2010/04/no-advertisement/)。

1. 自由比身份地位重要。说白了，就是解名缰。

1. 寻找恼人的刺激而不是灵感。睁大你的狗眼，看看这世上到底什么事情刺激你让你不顺心、睡不着觉，然后去解决它。香农对天才的解释是：天才就是一个接受有用的刺激的人。我感觉多数人可能都会咬牙接受不顺心的东西（比如软件），可能对刺激的反应不太激烈。按香农的定义，最近我发现的一个天才是[冯俊晨](https://d.cosx.org/d/419314)。这厮有点意思。

这一篇文章读下来，有些收获，但不如我以前看[阿西莫夫那篇文章](https://qz.com/886038/isaac-asimov-wrote-almost-500-books-in-his-lifetime-these-are-the-6-ways-he-did-it/)震撼。一生写了五百本书的人，是怎样一种体验。文中有一句：

> By thinking and thinking and thinking till I'm ready to kill myself. [...] Did you ever think it was easy to get a good idea?

从看了那篇文章之后，我就多了一个轻微口头禅：发死力。比如某件事情你发死力去做了没有？
---
title: 社交媒体与吸烟
date: '2017-08-04'
slug: social-media
---

一篇短文谈《[社交媒体就是新的香烟](https://theroamingmind.com/2017/03/06/social-media-is-the-new-smoking/)》。我完全同意，社交媒体基本上已经成了这个时代新的精神鸦片。微信、微博、推特、脸书，这四大家族虽然都红红火火，但没有一个能让我发自内心尊敬。它们有没有积极意义？绝对有，比如亲友间联系更快捷、社会不公的消息传播更快、需要帮助的人比以往更容易得到帮助（比如个人行为的捐赠）。但我仍然觉得它们的负面意义远大于正面。即便这些巨头本身并没有作恶的意图，实际造成的结果也是消费人们的注意力。想想为什么“时间碎片”这个词最近几年才开始出现，是谁把我们的时间碎片化了。我觉得其实本来我们没那么多碎片，正是被那些所谓的“充分有效利用碎片化时间”的工具不断入侵我们的大脑，修改我们做事的习惯，才导致我们的时间越来越碎，从而陷入恶性循环。

至少我是个意志力非常薄弱的人，不光是社交媒体，对我来说最能打断我的还有邮件、StackOverflow 和 Github 事项（现在要加上 COS 论坛了）。如果我需要大块时间做什么事情，我一定得把这些东西全都关掉，还有 Slack 什么的即时通信工具统统关掉，才有办法开始工作。也许我意志力不是那么差，只是被诸多工具均分之后，就弱得不成体统了。

今年我有意地在躲避推特，心想老子不把 blogdown 的书写完就再也不发推特（没完全做到）。好不容易把初稿写完了。一个让我觉得可喜的副作用是，写完书之后我已经基本上戒掉了在推特上瞎嚷嚷的习惯了，现在主要是用它点赞（表示已阅）以及回应一下别人。
---
title: 网页文字的颜色选择
date: '2017-08-04'
slug: web-font-color
---

前段时间看了一篇文章，谈[现在的网页为什么可读性越来越差](https://www.wired.com/2016/10/how-the-web-became-unreadable/)。我有些同感。这几个月我经历了好几个网站的改版，先是 RViews，然后是 RStudio 官方博客，最后是统计之都。每一轮改版最耗时又耗神的事情就是辩论样式；内容方面我通常短短几天就做完了，而样式却是永恒的辩论话题，非常难达成一致。某种程度上，这可能是[自行车棚的颜色](https://en.wikipedia.org/wiki/Law_of_triviality)问题，即：重要或困难的事情太费脑子，所以大众不会参与讨论（如是否该在某地建一个核电站）；不重要但明显的事情，讨论的人就会如潮水般涌进来（就像讨论某处一个自行车棚应该刷成什么颜色）。

关于网页可读性可谈论的话题有很多，今日只谈颜色，也就是那篇文章主要抱怨的话题。我也不太懂为什么现在流行的文本颜色是越来越淡（比如深灰而不是纯黑），不仅如此，在淡色的基础上偏偏还要加上灰度背景色。当时我刚转入现在的 Hugo 主题时，就有一位读者[留言](/cn/2017/03/unix-philosophy/#comment-3198753174)说我的文字颜色太浅，读起来费眼，我一看，果然颜色只是 `#555`，所以给[加深到 `#333`](https://github.com/yihui/hugo-lithium-theme/commit/7918a642)。`#333` 只是我的随意选择，没什么根据，但那些强烈反对纯黑色的人一样也没有科学根据。我倒是盼着有人来做个试验，看到底纯黑引起眼睛疲劳比深灰高多少。我有点不信这个邪。

我们公司去年开始雇了一个专业设计师，他做的各种模板、图片、特效都很漂亮，但我个人仍然不习惯阅读我们网站上的文字，我觉得太细了。主要原因应该是他启用了抗锯齿效果：`-webkit-font-smoothing: antialiased;`，这样浏览器渲染字体的时候会把文字笔划的“毛边”都削掉，导致文字变细一层。

嗨，美丑、易读与否本来就是个主观判断，而且这个判断还会不断改变，今天喜欢这种风格，明天喜欢那种。就算做了群体试验，也没法得出一个让所有人都满意的样式设计方案。我觉得最好的解决办法就是不要定死颜色，让读者自己用自己的浏览器去自定义颜色（有浏览器插件可以做到），爱看黑色看黑色，爱看灰色看灰色。可是傲娇的设计师们哪能舍得放弃自己的审美呢：我眼中好看的东西，一定要想办法传达到你眼中。
---
title: 第三届靠谱厮奖：边蓓蕾
date: '2017-08-05'
slug: copss-3
---

不懂什么是[靠谱厮](/cn/2017/04/copss-2/)的客官下次听相声要早点来。呐，我终于抽出几分钟时间来快速颁发第三届靠谱厮奖，获奖者是 COS 编辑部的副主编之一边蓓蕾，江湖人称西红柿学姐，因为她给自己注册的 Github 用户名是西红柿写代码，我也不知道为什么是这么个名字。大约人都有在二点五次元空间转悠的时候吧。

这条女汉子真的是蛮拼的。虽然从我[第一次意识到这个人](/cn/2017/02/wrong-way/)开始就一直在批评和吐槽她，但过了几个月后，我终于觉得好像无话可说了。靠谱。

颁奖的主要理由是这次[统计之都主站改版](https://cosx.org/2017/07/cos-new-site/)，既做苦力又做评审，着实辛苦。次要理由是这个人胆子贼大，什么都敢玩，也肯钻研，而且对技术工具很有热情，非常好学；引用她曾经的一句话：“我的 R 魂在熊熊燃烧啊”。

继续烧吧，少年。
---
title: 我是如何把 cosx.org 的域名搞到手的
date: '2017-08-05'
slug: cosx-org
---

在[统计之都主站改版公告](https://cosx.org/2017/07/cos-new-site/)中我感谢了北航的张扬扬同学把 cosx.org 的域名转让给我们。这事其实挺有意思，也是我很得意的一件事。

大约在五六年前，我们刚开始讨论改版的时候，我就[顺手查了一下](https://github.com/yihui/ideas/issues/20)可用的相关域名，因为我早就不想用 cos.name 的域名了。我查找的办法是用 R 批量生成一些字符串批量查询，三个字母 cos 的域名肯定是不会有了，所以我用了 26 个字母分别前后和 cos 搭配，最终找到的可注册域名中，我觉得能有意义的只有 cosx.org，因为它看起来是个余弦函数。

然而当时我并没有注册，因为改版似乎还不太明朗。等今年年初再次谈改版的时候，我再搜了一下，发现这个域名已经被人注册了。可喜的是，通过 WHOIS 找到的注册信息中有姓名、地址和电话。我先让国内的人打这个电话，并不能联系上。我查了一下地址发现是北航的所在地，然后通过 LinkedIn 找北航的这个人，给他发了一个联系人请求，并留了个言。未见回复，所以我再通过 Google Scholar 找到了他发表的几篇论文，从他是通讯作者的一篇里找到了他的邮箱，给他发了邮件，终于联系上了，而且是对的人。好在这个域名他并不真正需要，而且他也听过统计之都、看过文章，所以我留下酒钱，请他把域名转让给了我。一周之后，域名就过户到我手里了。我问他为啥选了这么个域名，他说他也是看中了余弦。

我本来没有抱希望能把这个域名从别人手里收过来，结果并没有费太大劲，只是看了一篇论文的脚注就搞定了，不亦快哉。

从此咱也是有组织（.org）的人了。
---
title: 第四届靠谱厮奖：郎大为
date: '2017-08-07'
slug: copss-4
---

时间有限，[继续快速颁发](/cn/2017/08/copss-3/)我的靠谱厮奖。那么第四届靠谱厮奖颁发给郎大为，人称七风阁阁主、戚风蛋糕糕主。我一直不懂他的 Github 用户名是什么意思，有一天终于忍不住问了一下，原来是郎戚风。

主要理由仍然是[统计之都主站改版](https://cosx.org/2017/07/cos-new-site/)，他承包了数量远高出其他人的文章，同时也审阅、合并了无数其他人的合并请求。在这个过程中办事也渐渐仔细、规范起来。好一些我想办的事情，他一言不合下去就给办妥了。比如我写了几句 JS 代码，问他能否转成 Chrome 插件，第二天插件就备好了；我琢磨着主站作为静态网站咋搞搜索，说了几个想法，下去就把几个想法都实现了。这样的人，就是我觉得最称心的帮手：只需要谈方向，不必管细节，更重要的是细节里好些东西我自己都还没想明白或确定具体该怎么做。时至今日，他办事我基本上已经无话可说，而且是少有的办事非常主动的人，就算不是组织分配的事情，也会主动承担（参见“[多说无益，先改为敬](https://github.com/cosname/cosx.org/pull/688)”）。靠谱。

改版过程中有好多其它让我窃喜的事情，但我已经忘得差不多了，只挑一件说：在我排版首页文章豆腐块的时候，他给了一个至关重要的建议，就是页面用浅灰度背景，豆腐块用白色背景。这个小建议解决了我一个大困扰。在没有这两个背景色设定时，豆腐块和页面背景都是白色，为了让豆腐块显得是一块一块而且彼此之间不那么拥挤，我得让豆腐块的间距尽量大一点，不然很难用肉眼快速看出它们之间的边界；而大边距的缺点是浪费空间，本来三栏排版在空间上就有点捉襟见肘，再加大间距，就让豆腐块显得更窄了。他的建议一下子让豆腐块各自凸显出来，而且彼此之间不用留大间距。这件事告诉我们参考线多么重要（就像 ggplot2 默认的网格线）。

而且他还真的把统计之都的老文章们读了一遍，我觉得很难得。早期的文章我自己基本上都会看，后来渐渐精力跟不上，好多文章我也不看了。希望这次 COS 架构翻新之后，我不用再操心网站方面的事情，省点时间真正看看我们的文章。

ECharts 也[说捡就捡起来](https://d.cosx.org/d/419218)。过两个月我把我手头的烂尾楼收拾差不多了就去投奔他，看我能帮上什么忙。想想有点小激动。
---
title: 日记与冥想盆
date: '2017-08-16'
slug: diary
---

国家一级珍稀动物霍志骥[曰](/cn/2017/01/bing/#comment-3465210647)：

> 刚刚写日记的时候，突然想起了一个类比。在哈利波特里面，有一个东西叫做冥想盆，可以把人的记忆取出来放到盆里重新观看。有一句话说“如果不把记忆取出来，脑子里就塞不下了”。

> 日记有一点这个意思，能把脑子里的东西取出来整理一下。

深以为然。对我而言，博客就是整理脑子的一个有效工具。换一种说法，就是我需要把内存里的东西时不时写入硬盘，不然脑子会爆栈。

凡是没有记录下来的东西，关机之后就很容易丢失。这也是为什么我非常不喜欢在微信上长篇大论讨论的原因，我觉得我的思考时间在那里面基本上都浪费掉了，说完之后众人作鸟兽散，然后就没了然后，过段时间连我自己都想不起来当时我到底说了哪几点想法。
---
title: 自动化的潜在成本
date: '2017-08-22'
slug: automating-program
---

XKCD 上有一则关于[用软件自动化解决问题](https://xkcd.com/1319/)的漫画。理想和现实总是差一截：写软件本意是为了自动化解决问题，节省人力，写着写着发现维护这个软件花的精力比手工完成原任务还要多。

以下是理想中的程序员与现实中的程序员：

![编程的理想与现实](https://slides.yihui.org/gif/programming-movie-actual.gif)

这种锅压在我肩上压多了，导致我现在的原则变成“若无必要，勿增依赖”。有时候[看似简单的事情](https://github.com/rbind/yihui/issues/18)，我也不想迈出那一步。实乃因为表面成本低，潜在成本难以预知，尤其是网页技术方面的东西，一年可以改朝换代几次。只有 remark.js 那种业界良心库，我才愿意出手。
---
title: 合并请求的心理学
date: '2017-08-22'
slug: pr-psychology
---

我一直大力鼓吹合并请求（Pull Request，简称 PR），是因为我觉得它实在是非常有效的合作工具。统计之都主站改版的意义之一就是要拉近潜在贡献者和编辑部之间的距离，不要再在暗地里投稿审稿。那些有能力有兴趣写稿子的人，完全可以通过 Github 自由投稿，一句废话也不必跟编辑部讲；编辑部的门永远是敞开的。

我觉得 PR 有一种迷之成就感，这一点小小的心理利用好了之后可以有源源不断的正能量涌出来，让贡献者欲罢不能。比如[这位](https://github.com/cosname/cosx.org/pulls?q=is%3Apr+author%3Aszcf-weiya) Wang Lijun 少侠[修正我们的文章](https://github.com/cosname/cosx.org/pull/705)就仿佛停不下来。他谁呀？我母鸡啊。又比如战立侃的[这篇投稿](https://github.com/cosname/cosx.org/pull/702)，完全是自愿发来的，编辑部老实审稿就够了。过去十年，我们的文章都是夺命连环催，我觉得这种模式虽然带来了很多稿件，但不是自由恋爱，而是属于包办婚姻，作者和编辑双方都累。当然，就目前这个阶段，我也不指望这种自愿的 PR 能带来多少稿件，这个过程肯定会很漫长，大家需要熟悉这个路数。

要想让 PR 尽快被合并，还得了解一下开发者的心理。这方面我推荐两份阅读材料：

- Hadley 大人的妹妹 Charlotte Wickham 今年在 useR! 会议上的报告 "[Collaborative Coding](http://cwick.co.nz/talks/collab-code-user17/)"
- 敝厂职工 Jim Hester 的日志文章 "[Contributing Code to the Tidyverse](http://www.jimhester.com/2017/08/08/contributing/)"

简言之，从尽可能简单的 PR 做起（比如修改错别字），千万不要第一次贡献 PR 就来五百行代码修改。他人即地狱，他人的代码更是地狱。要是上来就是很复杂的 PR，开发者需要很大的勇气才能开始审阅；对那些忙人，看到这样的 PR 可能就打退堂鼓了。我说的尽量简单就是要尽量减少差异，一定要牺牲自己的代码习惯，比如千万不要去动人家的空格（比如把两个空格缩进改成四个，或添加一些无谓的空行），甚至把等号改成箭头（我会跟你拼命的啊我跟你讲）。我给 Hugo 提交过几个 PR，我的[第一个 PR](https://github.com/gohugoio/hugo/pull/3639) 我特意克制了我的 JavaScript 魂，就是为了减少差异量；等它被合并之后我才提交[第二个 PR](https://github.com/gohugoio/hugo/pull/3655) 放浪形骸之外。第一个 PR 是核心改动，所以我要让它以最大概率被合并，不要用非实质性的改动骚扰 Hugo 维护者；尽管我看着那一坨 JS 代码并不开森，但还是要忍住；第二个 PR 基本上只是形式上的改动，是否被合并我不是特别在意。然而有了第一个 PR 破冰，第二个很快也被合并了。后来又有了[第三个 PR](https://github.com/gohugoio/hugo/pull/3825)。其实我根本就不懂什么狗语言（Go），但这并不妨碍我为一个狗项目做贡献。

去年 Matloff 老爷子宣布他入驻 Github 并发布 regtools 包的时候，我就[留言说](https://matloff.wordpress.com/2016/11/07/my-regtools-package-is-now-on-cran/)“您竟然有四个没合并的简单 PR”（言下之意这有点令人发指），但他对 PR 并没有像我这样看重，他以为我的生活是很单线程的，所以我有闲工夫去看 PR。嗨，现在这时代，还能找到几个单线程的人。谁有勇气学高德纳呀。我正是因为太忙，才要发展贡献者，而 PR 就是播种的最好机会。有时候我盯着屏幕看半天也看不明白一个 PR，只能忍痛砍掉，自己动手；比如[这个谢轮眼的 PR](https://github.com/yihui/xaringan/pull/54)，我觉着实在有点难懂，只好讲一声对不住然后自己[简化实现之](https://github.com/yihui/xaringan/commit/398525e2)。这里讲对不住很关键，因为关 PR 是很能打击人热情的事件，得小心处理。能不关的 PR 尽量不关，实在想不好关不关，不妨先留着，以后在脑子里多转几圈，实在觉得不能接受，解释一下再关掉。
---
title: 混乱的 Markdown 世界
date: '2017-08-24'
slug: markdown-flavors
---

经过十个月的奋战，终于发布了 blogdown 的第一个 [CRAN 版本](https://cran.rstudio.com/package=blogdown)。就在发布前夕，我突然注意到 Hugo [开始支持](https://gohugo.io/content-management/formats/)另一个 Markdown 变种，叫 Mmark。于是我看了一下 Mmark 的文档，惊喜地发现它竟然支持数学公式，但看完文档后觉得快疯了。这特么又是一种奇怪的 Markdown 方言。

比如数学公式只能用双美元符号写，包括行内公式（按 LaTeX 常规语法来说应该用一对单美元符号）。这种要求用双美元符号的语法纯粹是出于开发者的自私：因为他想避免文档解析的潜在歧义，也就是说，双美元符号比较奇怪，所以通常不会发生误写的事件；只要出现一对双美元符号，十之八九一定是数学公式。单美元符号的撞车概率就高多了，它可能真的表示美元。

用双美元符号写公式会让文档的可移植性变差，我想这也是大多数 Markdown 方言开发者没考虑的事情。他们只想着生成 HTML 页面，而没想过输出 LaTeX / PDF 的可能。Pandoc 是少有的业界良心，它多花了一些心思支持单美元符号，这样可以跟 LaTeX 靠得更近。Pandoc 花的心思其实并不复杂，比如要求起始美元符号后面不可以跟空格、结束美元符号前面不能是空格，等等。这样就大大减少了美元符号被误判为数学公式的可能性。我在 xaringan 包中[学习了这一点](https://github.com/yihui/xaringan/blob/32fd94f8f/R/utils.R#L78-L105)，为用户节省了两个反引号的输入（这里的几个正则表达式是这个包里我比较得意的伎俩，不过我没写注释）。

因为被 Mmark 的语法吓到了，我开始琢磨为什么大家不能以 Pandoc 为标杆开发自己的方言。Pandoc 的作者和另一伙人发起了 CommonMark，有志于标准化 Markdown 语法，省得日复一日大家重复发明奇怪的鸟语方言。然而我发现 CommonMark 的语法设定中并没有包含数学公式，于是我放狗搜了一下，发现了[这个讨论帖](https://talk.commonmark.org/t/1926)。读了楼主最后给的两个链接之后，我实在是对这个世界感到森森的绝望。对[第一个链接](http://cwoebker.com/posts/latex-math-magic)，我已经给出了我的[究极解决方案](/cn/2017/04/mathjax-markdown/)，我觉得比伊高明多了；对[第二个链接](https://github.com/cben/mathdown/wiki/math-in-markdown)，我的老天，世上竟然已经有这么多 Markdown 鸟语方言，而且各自有各自奇怪的数学公式语法。

所以当客官们看到神马软件说“支持 Markdown”的时候，一定要研究一下到底它支持的是哪种方言。目前我能接受的只有两种：一种自然是 Pandoc，另一种是 remark.js。后一种虽说也很离经叛道，但它有它独特的妙用，所以我可以谅解作者发明了很不一样的方言。其它不遵守 CommonMark 的方言我觉得都难以原谅。
---
title: 听歌系列之奇冤
date: '2017-08-24'
slug: zhai-huimin
---

前些天偶尔听到一首《[铁窗泪](http://music.163.com/#/m/song?id=27580525)》，觉得声音和旋律都很好听，也似曾相识，疑心是小时候在街头听过的。这首歌前后都有旁白；前面的旁白中，“星光闪闪”和“闪闪的星光”的复沓让我觉得有种难以名状的穿透力：

> 我曾站在铁窗前  
遥望星光闪闪  
那闪闪的星光  
就像妈妈的眼睛一样

简单看了一下演唱者[翟惠民](https://baike.baidu.com/item/%E7%BF%9F%E6%83%A0%E6%B0%91)的资料，始知三十年前中国有一段流行囚歌的时期，而这位歌手竟然是“中国歌坛专辑销量最多的歌手”（当然，度娘百科的话一般不能全信），但并没什么人知道他，是不是有点太冤。不过假唱者迟志强也一样很冤，摊上了什么“流氓罪”。用这样的一个“罪犯”来表演囚歌，对照那歌词仔细想想其实蛮奇怪的。

说起囚歌，其实《武林外传》里面白展堂他们唱的那首“手里捧着窝窝头，菜里没有一滴油”就是来自翟惠民的囚歌之一《愁啊愁》。这应该也从一个侧面反映出这些歌对宁财神这代人的影响。

继续翻资料页面，看到李旭辉的名字（另一首歌《爱一回痛一回》的曲作者），说是翟惠民曾把李旭辉唱哭。然后瞥见《[白狐](http://music.163.com/#/m/song?id=212644)》，头一次发现演唱者竟然是我老乡。我第一次听到这首歌是 [2008 年](/cn/2008/03/bitter-life/)，当时我带侄子在武汉看病，然后一天晚上在同学宿舍借宿，我睡下了之后宿舍里还有人在玩游戏听歌，当时就是放的这首歌。

虽然我不确定《铁窗泪》我小时候是否听过，但翟惠民的《十不该》我清楚记得那时候隔壁家的大录音机放过好多遍，只不过当时我完全不知道这是囚歌系列。从我们那小村的落后程度来看，当年囚歌真的是穿透了中国的大街小巷。不知这个现象应该如何解释：是纯粹翟惠民歌声的原因，还是有当时的什么时代背景。

受小时候街头和别人家大录音机的深刻影响，我现在听的好多歌都还有浓厚的古旧味道，而且我喜欢听配乐简单、吐字清楚的歌；比如韩宝仪《[缘](http://music.163.com/#/m/song?id=241487)》、陈明韶《[风！告诉我](http://music.163.com/#/m/song?id=214366)》、施孝荣《[归人沙城](http://music.163.com/#/m/song?id=145906)》、王芷蕾《[流沙](http://music.163.com/#/m/song?id=301532)》《[冷冷的夏](http://music.163.com/#/m/song?id=301537)》、郑怡《[月琴](http://music.163.com/#/m/song?id=331333)》、周治平《[那一场风花雪月的事](http://music.163.com/#/m/song?id=191881)》、银霞《[西风的故乡](http://music.163.com/#/m/song?id=320888)》、许冠杰《[天才白痴梦](http://music.163.com/#/m/song?id=172416)》（虽然我不懂粤语）、童安格《[爱与哀愁](http://music.163.com/#/m/song?id=150601)》《[一世情缘](http://music.163.com/#/m/song?id=150791)》，等等。这些以后再谈。
---
title: 贝叶斯八步
date: '2017-08-25'
slug: bayes-eight-steps
---

看到一篇讲八步迈向贝叶斯的文章：[Understanding Bayes: How to become a Bayesian in eight easy steps](https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/)；因为我早不混学术界了，所以只速速翻了前言和第一步。表面看起来好像是挺简单的，作者费了不少功夫将不少的论文和书籍浓缩成几段话甚至一句话。挺符合现在的快餐文化。
---
title: 电子的一代
date: '2017-08-26'
slug: igen
---

梅琳达盖茨写了一篇文章说《[我在技术领域工作了一生，但我还没为技术对我的孩子们的改变做好准备](https://www.washingtonpost.com/news/parenting/wp/2017/08/24/melinda-gates-i-spent-my-career-in-technology-i-wasnt-prepared-for-its-effect-on-my-kids/)》。说的是手机和应用对新生代的改变。就像“颓废的一代”的造词法一样，这一代人大概可以成为“电子的一代”（iGen）。

我有同样的忧虑。

也许听起来很荒谬，但我觉得火影忍者花了好几百集讲的主题“无限月读”其实是一个很精妙的隐喻。被无限月读的光照到的人就会陷入沉睡，在梦中的世界，他们可以立刻实现一切在过去现实生活中的梦想；被 WiFi 信号照到的人，到底是不是也在陷入沉睡？

这一代人，不会再挨饿受冻，父母不再打骂，老师不再批评，就凭王者农药就能训练出强健的心脏莫？当然，我不玩游戏，没有发言权。
---
title: 政治正确的性别平等
date: '2017-08-26'
slug: political-correct-diversity
---

前段时间一位 Google 员工在内部发了一篇文章叫 [Google's Ideological Echo Chamber](https://assets.documentcloud.org/documents/3914586/Googles-Ideological-Echo-Chamber.pdf) 谈性别平等问题，在码农界迅速刮起了飓风。标榜不作恶的 Google 也以迅雷不及掩耳之势炒掉了这位员工，舆论也一边倒讨伐他。

我一声叹息。我对这位员工是持同情态度的，他之所以落得这个下场，只不过是站在一片雷区上振臂高呼，说我们大家何不把地雷挖出来好好看看。不幸他是站在雷区上高呼，雷区上只要有响动就会连环爆炸。我感觉在美帝这个问题简直是不能碰，谁碰谁倒霉，尤其是不能疑心男女有什么差异，任何可能的差异都要矢口否决。码农界只有男汉子和女汉子，剩下其它各个方面都完全一样。

他写的这整篇文章都是胡说八道吗？我觉得不是，文中有些话说得简直不能再好，如：

> [...] I'm advocating for quite the opposite: treat people as individuals, not as just another member of their group (tribalism).

这不就是我[一直鼓吹](/cn/2017/08/petrified-forest/)的人本主义吗？让我们看见一个个活人，而不是把他们制成标本，然后谈论门纲目科属种。只要走后一条路，世上就会充满无休止的斗争。这些斗争在我看来都毫无意义，就跟《静静的顿河》中的葛利高里一样，一生带着不同的标签跟不同的群体打仗。

可惜个人永远无法和政治正确抗衡，因为政治的本质就是反个性的。他想把这个问题拿到桌面上来讨论，Google 根本就不会给他这个机会，生怕踩到狗屎将来一堆麻烦。

我又看了两篇女性角度的评论，都很有意思：

- [I'm An Ex-Google Woman Tech Leader And I'm Sick Of Our Approach To Diversity!](https://medium.com/the-mission/im-an-ex-google-woman-tech-leader-and-i-m-sick-of-our-approach-to-diversity-17008c5fe999)

    在性别平等问题的讨论上，这大概是唯一一篇我全文赞同的文章。目前解决性别平等的手段简直就是饮鸩止渴：为了追求表面平等，招聘员工时就得有硬指标，比如一定得招多少位女性，而不顾现实中是否有足够的女性人力资源。就算没有足够的资源，也要强招，结果招来并不太合格的员工，导致男性加深对女性的成见；越是有成见，女性群体就有更高的呼声，要求平权。然后不断恶性循环。
    
    在招聘环节上解决性别平等问题绝对是短视的做法。要是真有远见，就应该从源头着手解决这个问题。想让技术领域有更多女性，就应该鼓励更多的女性从事技术工作，有了足够的人口基数之后，才有希望让女性在技术领域有更多的话语权。这是一条需要付出更多努力的长路，所以大多数人都不会有耐心去走，他们只会不管三七二十一，头疼医头，脚疼医脚：“我现在、立刻、马上要让女性在技术领域有更多代表，所以你赶紧给我多招些人来”。
    
    这条长路，也是我已经开始走的路，过几年也许我可以拿到台面上来说说。

    这位作者还提到很重要的一点：鼓励那些有心帮忙解决性别平等问题的男性。虽然我本人一定程度上可以理解女权主义，但有时候我也有点受不了女权社区无时无刻不在散发的那种憎恶全体男性的气息。就算不是散发憎恶，也有很强烈的分界意识：我们女性如何，你们男性如何。

- [As a Woman in Tech, I Realized: These Are Not My People](https://www.bloomberg.com/view/articles/2017-08-09/as-a-woman-in-tech-i-realized-these-are-not-my-people)

    我很欣赏这位作者的诚实。她意识到她不适合在技术领域待下去的主要原因不是她在男性为主的环境里待不下去。她在原来的环境里待得好好的，和男性同时相处也没什么问题。有性骚扰问题，但不是来自公司，而是来自客户。她最终选择走另一条路（记者）的原因是一次闲聊中人家问她周末做什么了，她说去看了一场演奏会，然后男默女默；另一个男同事则回答说他周末在自家地下室建了一条光纤通道网络，然后大家就开始了不停的追问。

    所以她意识到她不属于这个群体。她虽然从事技术工作，但她没有那种激情浪费一个周末在自家地下室铺光纤通道。她改行到了另一个她觉得更有激情的领域。

    我觉得这个故事很好啊：主人公找到了让自己的激情能发挥的工作。我们完全不需要把她制成标本贴在技术领域，让她去死磕性别平等问题。

    所以说到底，我自己的态度是，如果一位女性真的有热情从事技术工作，我双手双脚支持在这个领域的性别平等。换句话说，人家有热情，其他人则绝不可以以性别为由挡人家的路。如果没有足够的热情，也没必要死磕。上面那篇文章中说鼓励女性从事技术工作，也是一样，首先还是要尊重女性自身的意愿。

最后再举一个我认为糟糕的讨伐男性的例子：

- [WHY MEN DON'T BELIEVE THE DATA ON GENDER BIAS IN SCIENCE](https://www.wired.com/story/why-men-dont-believe-the-data-on-gender-bias-in-science/)

    我还是那句话：[抽象是万恶之源](/cn/2017/08/petrified-forest/)。这个标题里有两个抽象名词：MEN 和 SCIENCE；仿佛所有男性都带着歧视、仿佛所有科学领域女性人才都被埋没了（我是尤其不爱看任何文章标题里出现“科学”的字样）。用这些抽象名词的文章，说到底，不过是抒发一下胡适所说的“民气”：就像爱国运动中在墙上写大字“打倒英日”，写完自己看着很满意，五分钟之后啥事儿也没有，回家该吃吃该睡睡。性别平等的运动，跟爱国运动没什么两样，都是为一个群体争取权利，所以我觉得胡适在《爱国运动与求学》一文中引用的易卜生的话在当下也是给女权主义者最好的建议：
    
    > 在纷乱的喊声里，能立定脚跟，打定主意，救出你自己，努力把你这块材料铸造成个有用的东西！
---
title: 居中对齐的小节标题
date: '2017-08-29'
slug: centered-headings
---

如同我年初突然发现网页中[楷体](/cn/2017/02/kaiti/)用作引用文字的字体很别致一样，近期我又突然意识到减少阅读疲劳感的另一个利器，就是将小节标题居中对齐。细想一下，有些期刊论文的一级标题就是居中对齐（比如 JSS），而学术论文通常又臭又长，所以用小节标题分隔一下文字，应该能提高可读性。网页中倒是不太常见将小标题居中对齐的，我自己写博客也不太常分节。最近在英文博客中[尝试](/en/2017/08/so-gh-email/)了一下分节（哪怕一节的内容只有一个自然段也分节），然后看着居中对齐的标题，顿时觉得可读性大大增强。

纯文字的东西除了小说，大概都很难吸引人长时间读下去，所以我们需要一些占空间的元素来稀释文字，减轻读者的疲劳感。比如插图、表格、分节。我的 blogdown 一书的合作者之一最初给我发合并请求时，[插了一幅](https://github.com/rstudio/blogdown/pull/76#discussion_r107730080)没太多信息含量的图，我稍微犹豫了一下还是把它留下了，原因正是为了减少长篇文字带来的阅读疲劳，而不是想让这幅图传达什么重要信息。

我觉得居中对齐的标题比默认左对齐的标题要好，原因是居中对齐的标题两边都会留空，对称一些，仿佛在那里拿一根线扎了一下文字，让长篇文字变成一节一节的，就像扎腊肠一样。没拿棉线扎过腊肠的人大概体会不到这种谜之舒坦。左对齐的标题给人的感觉仍然是文字，居中对齐则有了装饰效果。
---
title: 德鲁克与善能
date: '2017-09-04'
slug: drucker-goodwill
---

在统计之都十周年[纪念文章](https://cosx.org/2016/05/cos10-anniversery-yihui/)中我造了一个词叫“善能”，当时我对这个词感到很满意。今日偶尔看见一篇文章，曰《[德鲁克：管理的本质是激发善意](http://www.chinavalue.net/Management/Blog/2016-5-4/1257348.aspx)》。我心想，嚯，朕竟然跟德鲁克想到一块儿去了。

激动之余突然又想，不对，[名人名言](/cn/2017/02/kaiti/)这种事情不能随便信，尤其是中文的非学术类文章更不可靠，大家讲话很少有给出处的习惯。读文章我最痛恨的前两类现象就是无脑抄袭和重要的引用不给出处。

那德鲁克到底有没有说过这话？我尝试用英文搜了一会儿，并没有找到可信的来源。唯一能找到的是一家中国青岛的生产小独轮推车的厂，其网页上[是这么说的](http://www.china-wheelbarrows.com/mod_article-article_content-article_id-1067.html)：

> The essence of management, in fact, stimulate and release everyone's goodwill.

所以我还是没找到这句话在西方世界的出处。要是我有空，我会逐条翻一翻[德鲁克的名言荟萃](https://en.wikiquote.org/wiki/Peter_Drucker)，看能否找到一句意思相近的。不过一来我没这闲工夫（名言太多），二来他到底说没说过这话，洒家也不是那么在乎。
---
title: 亡者农药
date: '2017-09-07'
slug: insecticide
---

这是几个月前的事情了，偶尔想了起来。在[对刘三震老师的采访](https://d.cosx.org/d/419300/5)中，我提到了奥马哈的日本甲壳虫。当时这种甲壳虫开始泛滥的时候，天天啃我的樱桃树叶子，我看不下去，又不想喷药（树下面有我种的菜），于是脑子一抽抽，提着一瓶以前没用完的防蚊液对着树叶上的虫子一通乱喷，然后虫子掉的掉，跑的跑。

傍晚我再去看。嚯！我的天，我是谁，我在哪里，我这是干了什么。所有树叶都黑了，打起了卷；树下的辣椒和西红柿上因为飘上了一些防蚊液，也死了好多叶子，貌似是沾上就死。我这真是打了一场亡者农药。好在过了几周之后，除了辣椒彻底死了一棵，剩下的基本都又长出新叶子，活过来了。

受这件事的启发，我又拿着防蚊液去喷了围栏根上的草；那里的草不方便用割草机割，我又懒得隔三差五去拔。嘿，还别说，效果很好，草都死了。挽回了王者的荣耀。
---
title: 昵称
date: '2017-09-07'
slug: nickname
---

有一位同学叫[林枫](https://cosx.org/2017/08/interview-linfeng/)，人很厉害，什么我都喜欢，唯独有一件事情让我感到深深的困扰，就是他的昵称，确切说是网名。我初次接触他时，他自称蘇雲書同學。当时我就心想，苏云书是谁，放狗搜了一下，也没找出个所以然来。我感觉在大陆用繁体字的人多少有点叛逆心理，就当是一个欢快的少年给自己想的一个别致的名字吧。

后来在 COS 编辑部审稿，发现他的 Github 用户名是 Perfectizer。我咯噔一下，这 Perfectizer 又是什么。我读书少，你别骗我，这是一个英文单词吗。

再后来，因为大家的 Github 用户名都是些阿猫阿狗的五彩缤纷的名字，记也记不住，想要 @ 谁经常想不起来 ID，所以我提议大家把自己的真名拼音加到自己的用户资料页里，这样方便在 Github 上用拼音自动补全 ID 吼人。然后他的真名变成了 Lim Fum。我又陷入了深深的疑惑：Lim？莫非这位少年是新加坡或马来西亚华裔？一问，不是。

还没完。过了一段时间，我在一个小群里说话时，发现有一个叫长谷悠一的人回复了我。长谷悠一？这群一共也才二十多号人，而且多为熟人，怎么从来不记得有个日本人加入。后来善良的小轩哥提醒我说，这是林枫主席呀。哦。哦哦。

时光荏苒岁月穿梭到了今天。我发现他又换回了简体的苏云书。这次我知道是谁了，尽管我仍然不知道苏云书是什么典故。关于林主席网名的故事就先告一段落。

平日里我回邮件有一个潜规则，在我时间不是很宽松的时候（也就是大多数时候），我不认识而又没有真名的邮件我倾向于忽略，但对那些写得规范的邮件，我挤时间也会尽量回。对每一个我在网络上接触的人，我希望我只需要记住一个唯一标识，而不是记一堆昵称。这个唯一标识最好是真名，因为我觉得真名显得正式而有诚意，将来查找起来也方便。话虽如此，我百分百尊重那些网络隐士的隐私需求，但我只能说，在我眼中，网络匿名在多数情况下除了给人带来困扰，并没什么实质性作用。

## 后记

到了 12 月，林主席的名字换成了“秋与晴川”。反正我现在是知道了，凡是有我不认识的名字，他几乎一定是林主席。
---
title: 保险
date: '2017-09-08'
slug: insurance
---

我最乐意看到的事情之一就是技术促进效率。比如我感觉当前的保险系统就是一个很没有效率的系统，所以我一直在盼着一个更高效的保险系统来颠覆当前的保险公司们，省得我们整天被保险公司忽悠、为人为的低效付冤枉保费。比如我从去年起就像盼红军一样盼着 [Lemonade](https://www.lemonade.com) 抵达我们这偏远山区。

今天又看见一个针对贫困国家的健康保险项目，叫 [Watsi](http://blog.watsi.org/watsi-coverage/)。里面有一段话体现了现有系统低效到什么程度（不过要注意这里说的贫困国家，在美帝这种地方应该不至于每一个保险赔付都需要从几千条记录中用手查询）：

> We met one government insurance administrator who couldn't verify whether the claims she received were for patients enrolled in the insurance program, because doing so would require manually digging through thousands of enrollment records -- so she approved every claim. As a result, the system was teetering on bankruptcy, requiring the government to increase premiums, and forcing members to drop out.

某种程度上也有点像国内的水滴互助。
---
title: 如果没有了表情包，我们还会不会说人话
date: '2017-09-10'
slug: emoji
---

看到一篇文章[吐槽一家叫“崇才网络”的公司](https://www.huxiu.com/article/213995.html)。我对政治正确有深深的反感，所以这事让我对雷布斯很是无语（仅仅就这一件事而言）。作者说着说着就跳到了表情包的话题上，虽然跳跃有点突兀，但恰好命中了一个我一直想说的话题。

> 【……】再说到年轻人非常喜欢的一个东西——“表情包”，过去两年火得不得了。很多挺严肃挺正经的 30 多岁 40 多岁的老一代企业家和老一代媒体人们，生怕自己落后于时代，也说着说着话就发个表情包，写着写着文章就扔一串表情包，好像不扔表情包就不会说人话了。

我的微信里一共收藏了两张表情图，在我的记忆中，我这几年用表情图的次数应该是个位数^[不算用自带的笑脸符，我偶尔还是会用一下 :joy: 之类的符号。]。这方面我是在有意克制，尽管满世界都在欢乐地斗表情包^[我也确实觉得斗表情包很逗。比如几年前看见万凤与其母后斗表情，就很欢乐。]，但我心里一直挂着一个问题：如果离了表情包，我们还会不会说人话？

这又回到《[江阔云低断雁叫西风](/cn/2014/06/on-writing/)》一文中 Lewis 关于写作的建议：把事情描述出来，让别人感受到你想让人感受的情绪，而不是把这种情绪用表情包表达出来。后者太简单粗暴，偶尔玩玩调节一下气氛；如果养成了习惯，我觉得未必是什么好事。:fearful: :fearful: :fearful:
---
title: 根本就没有什么应用可言
date: '2017-09-11'
slug: applied-science
---

上次我[提到](/cn/2017/05/amusing-to-death/)了那篇《[我们是不是玩得太嗨了](https://www.theatlantic.com/entertainment/archive/2017/04/are-we-having-too-much-fun/523143/)》。该文是从今年的 March for Science 游行活动的评论开始的。有些所谓的科学家们的游行示威，真的让人不知道到底是为了搞笑还是为了示威。

我在看杨洵默的一篇博客文章《[饼图的妙用](http://tcya.xyz/2017/07/19/should_government_fund_science.html)》时，看着看着发现换频道了，从对饼图的吐槽变成了对科研界的吐槽。其中我特别注意到他对《别闹了，费曼先生》的两段引用（来自《草包族科学》一节），因为我恰好前年刚看了这本书，不过我对这两段已经没什么印象了。

> 让我再举个例子。有个朋友在上电台节目之前跟我聊起来，他是研究宇宙学及天文学的，而他很感困惑，不知道该如何谈论这些工作的应用。我说：“根本就没有什么应用可言。”他回答：“没错，但如果这么说，我们这类研究工作就更不受支持了。”我觉得很意外，我想那是一种不诚实。如果你以科学家的姿态出现，那么你应该向所有非科学家的大众说明你的工作——如果他们不愿意支持你的研究，那是他们的决定。

我也觉得私人部门支持科研是一条更有效率的路，而不是靠政府拨款资助。政府可以扮演一个次要的调节角色处理一些特例，但真正要有生产力，还得让私人部门上，因为私人部门比政府部门更看重真刀实枪的结果。我的这个感受主要来自我做学生时以及参加工作后的生产力对比。做学生时，吃着公粮（助教助研），产出什么并不那么重要；工作之后，目标感更强，确定要做的事情，必须一猛子扎到底，因为公司不能养一个混日子的闲人，不可能让一个人去做“根本就没有什么应用可言”的项目。

当然，这事也不能走极端，因为科研、学术界的应用有时候并不能很快看出来，可能需要过些年才能找到一项研究成果的应用，所以我们仍然需要一个大分母，即便是最终分子很小（分母大分子小是这个世界的常态）。
---
title: 叶翔
date: '2017-10-03'
slug: ye-xiang
---

我在继续执行我的退出微信计划，不过昨天我在 COS 八卦群里破了两次例。一次是因为叶翔提了一个问题，其中有三点让我感到非常满意，所以我冒泡出来回答了一下。这三点分别是：

1. 他说他为了不干扰群里的信息流，所以把问题制成了一张单独的图片发出来^[注意，通常情况下我[并不鼓励](/en/2017/08/source-code-as-screenshots/)用图片的方式发布关于代码的内容，因为这样让人很难直接运行你的代码。在微信群的特定条件下，为了不扰民，我觉得他的做法是值得称道的。]。这样占用的视觉空间会小一些，不感兴趣的人不会受到太大的视觉干扰。我觉得他很用心而且很体谅人。微信群的信息混乱问题一直是我吐槽的重点。不过我要重申一下我的观点：微信随意聊天唠嗑，我觉得一点问题都没有，双手赞成；讨论正事？别介。叶翔的这个做法让我深深感到他非常尊重公共秩序，这会唤起我强烈的同情心，让我愿意花时间仔细琢磨他的问题。

1. 他的问题里仔细说明了他的失败尝试。显然，他不是那种斜刺里跳将出来横刀立马就问你要答案的人。展示你的失败，又是一种唤起我强烈的同情心的有效工具。至此，就算我真的很忙，我也会主动凑上来看看能否帮忙。

1. 他的问题排版很整齐，段落分明。于是我投降了，开始动手在纸上画立方体，准备解决问题。

后来我叫他把问题和答案[发论坛上](https://d.cosx.org/d/419525)，不要藏在微信群这种小众圈里，他也听从了我的建议。这是这一天我第一次破例在微信里说话。

还没完。过了几个小时，另一位杨荟大侠跳将出来，给了一个精炼得多的答案，我下巴都惊掉了，因为我窃以为自己用了十几年的 R，在下标取子集这种初级问题上应该早早过关了，然而并没有。我不知道 `x[i]` 这种取子集的方式还有一种特殊用法，并且这也解开了我若干年的疑惑：给一串行列坐标，如何从矩阵中提取那些坐标对应的元素？给定向量形式的 `i` 和 `j` 之后，`x[i, j]` 会返回一个矩阵的子集，这个子集是由 `i` 和 `j` 交叉得来的。比如下面的矩阵我想取第 1 行第 2 列的元素，以及第 3 行第 3 列的元素，那么第一种办法就是错的（因为行列下标交叉出了一个子矩阵），第二种办法才是对的，取出来的是两个元素：

```r
(m = matrix(1:12, 3))
#      [,1] [,2] [,3] [,4]
# [1,]    1    4    7   10
# [2,]    2    5    8   11
# [3,]    3    6    9   12

m[c(1, 3), c(2, 3)]
#      [,1] [,2]
# [1,]    4    7
# [2,]    6    9

m[rbind(c(1, 2), c(3, 3))]
# [1] 4 9
```

第二种办法的下标是一个矩阵，而且方括号里只有一个参数（矩阵），没有第二个参数。这便是根据行列坐标分别取特定矩阵元素的办法。我太后知后觉了。

上一次我在微信群里破例发言是一个多月前因为[杨洵默](http://tcya.xyz)的关系。在我见过的人中，厉害的人不少，但这位默兄可算是我认为稀有的“脑力深邃”的人之一。我说的厉害的人，主要是在某一个或两个领域拔尖的人；而脑力深邃，则体现在知识领域跨度大到让人叹为观止。另外两个例子是左辰和 David Donoho。那感觉就是你站他们面前，会觉得眼前是一片浩瀚宇宙。
---
title: 村桥原树似吾乡
date: '2017-10-04'
slug: hometown
---

上半年列弛大人提到了王禹偁的《[村行](http://so.gushiwen.org/view_69055.aspx)》，其中有一句“何事吟余忽惆怅，村桥原树似吾乡”，我也觉得挺好，遂简单先记个笔记在此。
---
title: 我们为这个世界能操碎多少心
date: '2017-10-07'
slug: media-emotion
---

几个月前打开一篇文章《[你的恐惧和愤怒是如何被卖钱的](https://medium.com/the-mission/the-enemy-in-our-feeds-e86511488de)》，近日清理浏览器标签栏，终于看完它。看了真是让人心生绝望，因为满世界都是不惜一切代价想搞个大新闻的媒体，我等屁民的注意力似乎无时无刻不被操纵着。

更可怕的是，技术手段也掺和进来，让一条新闻消息能更有效引起人的注意，诸如 A/B 测试之类的。人和机器对抗，人必输啊，就因为机器算法没有感情，而人有。我们就这样一天天接受机器的训练，为这个世界操碎了心，然而并没有什么软用（除了扭曲我们对事实的认知，比如恐怖组织到底有多危险——为它操碎了心，远不如花精力攻克糖尿病的价值；然而恐怖组织人人皆可谈论，糖尿病这种技术性话题除了病人本身谁又会在意呢）。

---
title: 空泛一联
date: '2017-10-07'
slug: zhao-couplet
---

今年五月底我在澳大利亚的时候，有一天晚上见人大师门聚餐，低调给导师大人庆生。当时我本来在宾馆里准备会议演讲的幻灯片，琢磨了一下，六十生辰应该给他写点什么。他们聚餐已经开始，我打算在他们吃完的时候凑出一联。后来想了两三个小时，写是写出来了，但我非常不满意，所以一直也没发出去：

> 行路万里，著述尤等身，况诲人意不倦，回首已去一甲子；  
怜生如子，桃李自芬芳，然春蚕丝无尽，向天再借五百年！

我最不满意的是这一联几乎没写出任何他的具体事迹，显得太空泛；我在草稿上列了几个相关的关键词，一个也没用上。空泛的文字不符合我的[首要原则](/cn/2017/01/lucky/)，于是我没发。

平仄问题上也严重顺拐，不过这对我来说是很次要的问题，毕竟现在没多少人会真的去朗读文字。唯一我稍稍满意的是这个四五六七的形式，有些[叠浪感](http://www.bedtimepoem.com/?p=7867)。

摆个草稿在此，看将来有没有更多灵感吧。
---
title: 谨慎群聊
date: '2017-10-08'
slug: group-chat
---

Basecamp 的创始人兼首席执行官 Jason Fried（同时也是畅销书《Rework》的两个作者之一）去年写了一篇文章《[群聊是否让你心好累？](https://m.signalvnoise.com/is-group-chat-making-you-sweat-744659addf7d)》，系列观点正中寡人下怀：我前面在《[即时通信工具](/cn/2017/06/im/)》中已经谈过此事。下面再总结一下他的观点。

核心观点：群聊就像一个一天 24 小时不间断的会议，有着随机的参会者，并且没有议事日程。所有事情的讨论基本上都是一次一句话进行。

群聊的优势：

1. 快速召集大量想法（说实话这一点优势我觉得很少见，因为费脑子的事情通常难以有人参与讨论）。

1. 紧急事务报警快。

1. 逗（比）。

1. 群成员的归属感，尤其是远程的成员。

群聊的劣势：

1. 心理疲劳，因为总是分散注意力。

1. 形成一种不必要的紧急文化，“紧急事务”通货膨胀，所有的事情看起来都要立即办（狼来了），其结果是真正紧急的事务的紧急性降低。

1. 生怕错过历史消息。

1. 思维方式变成以一句话为单位，一次一句话，而不是一次说出一个完整的思考。

1. 错误假设在群里面发布的决议所有人都接受。

1. 肤浅的回复（膝跳反射式）。

1. 讨论容易堆成山，也容易跑题。

1. 杂乱的消息组织，导致重要的事情需要说三遍。客官们仔细想想，为什么现在出现了“重要的事情说三遍”这种奇特的文化？重要不重要，难道不是事情的本质决定的吗，为什么要靠重复来提升它的重要性？

1. 过度通知（叨扰）所有人。

1. 不打开聊天软件查一下新消息就感觉落在其他人后面了。其实多数情况下你查了也然并卵。

1. 那个小红点上显示的大数字（比如 25 条未读消息）在邮件时代只不过是一个很小的数字（比如 1）。换句话说，一封邮件能说清楚的事情，用即时消息需要几十条。

1. 有新的未读消息？它们有多重要，不知道。只有一个小红点，没有标题和预览摘要，无从判断。

1. 急急燥燥的语境切换，以及持续的若即若离。聊天窗口摆在那里，你是看呢，是看呢，还是看呢？看也没认真看。长此以往，你会成功训练自己的大脑无法专注，要做下一件事时，上几件事总是还在脑子里回荡。

1. 等两百条消息过去之后，你还想回滚两百条把它们都看完吗？够呛，除非有没捡完的红包。过去了就过去了，覆水难收，难以事后重新审阅。

1. 没有语境感。所有事情都在一个频道里，没有主持人，没有特定话题。

1. 若是不显示在线，就仿佛你没在工作似的。

1. 时区问题。这些员工在欢乐聊天时，那些员工可能是凌晨三点。

Jason 的建议：

1. 不要期待所有人整天都在聊天室。

1. 重要的事情慢下来讨论。

1. 通知不要用聊天形式发布。

1. 给所有人留出思考的时间。

1. 把聊天当做蒸桑拿，爽一会儿就走，不要一直呆里面。

1. 让大家写，用长文字的形式写，用异步（非即时）的形式发给所有人。

1. 用总结的形式，不要每一件小事都报告一次。

1. 给大家留出足够长的不被打断的时间工作。

1. 形成一种共识：一个人不在线也是可以的。

其实我在统计之都的重要群里面已经几次重申我的观点：重要的事情发论坛，留下案宗持续讨论，微信群只用来吼人（比如等了一个星期了，有个人该办的事情还没办，则可以去微信里去吼他，指出帖子地址，不要重复帖子内容）。可惜似乎没有人听我。因为微信给大家带来了巨大的生活上的方便，大家形成了重度依赖，习惯性什么事情都在这里面讨论。

甚至有一次我干脆说，你们少于一百字的发言就不要发了。结果是，除了源源姐一个人执行了我这条建议一次，群聊迅速恢复到你一言我一语的状态。就像从神树界降临的神树上扯人一样，扯下来立马又被卷回去了。
---
title: 听歌系列之洗剪吹
date: '2017-10-23'
slug: wash-cut-blow
---

在网易云音乐上随机听歌时听到一首很熟悉的旋律，打开一看，是《[我不后悔](http://music.163.com/#/m/song?id=114067)》。我应该跟多数人一样，是多年前先听到的洗剪吹歌手郑源的版本。我听到这个新版本时感觉很不对劲，怎么这么柔，打开之后才知道原来是林志颖唱的，而且林是原唱，郑是翻唱。我对林志颖的歌没什么感觉，不过这首倒是觉得极好。

如上一篇[听歌系列](/cn/2017/08/zhai-huimin/)所说，我受小时候在街头大录音机的影响，其实很喜欢听洗剪吹风格的歌。比如好几年前我回老家，一次听见我的一个堂弟的手机铃声是李慧珍的《爱死了昨天》，也觉得很好。

洗剪吹的歌曲通常歌词都比较浮夸和空洞，不过很朗朗上口，旋律也容易让人记住，未尝不是很厉害的优点。
---
title: 私有车
date: '2017-11-07'
slug: boxes
---

看到一则 Uber 的广告，叫《[Boxes](http://www.adweek.com/creativity/uber-thinks-inside-the-box-in-its-big-new-ad-about-car-clogged-cities/)》。尽管现在 Uber 名声很差，但这则广告的隐喻我觉得非常好。大家拥有的私有车，在绝大多数时间里其实都是停在车库或者停车场，利用率非常低。就算不是停着，经常也是一人一辆车（就像广告里每个人“驾驶”着一个盒子），几个座位都空着，同去一个目的地的人不会拼车，导致交通拥堵。

等到自动驾驶技术成熟，我觉得拥有私有车就没什么意义了。满大街的车，随便上一辆就可以去目的地。希望共享经济能早日普及，让低效的私有形式速速灭亡。

> 以后，你如果听到一个朋友买了一辆私家车，你会觉得他很奇怪，就像今天听一个朋友说他买了一匹马。

据说滴滴出行的老板程维说过上面这么一句话，我自然是认同的。
---
title: 论猪肉皮的正确剔除方式
date: '2017-11-23'
slug: cut-skin
---

随着天气变冷，我又启动了我的腊肉腊排骨腊肠项目。腊肉和排骨已经熏了百十来斤，然后上周开始做腊肠。去年做腊肠的时候太蠢了，往肠衣里灌肉馅费了老劲，非常难灌进去，而且也不好吃。老家有人看了一眼照片，说你这做的是火腿肠呀。其实灌肉馅真的就是火腿肠。

今年老老实实把五花肉切小片了灌，灌起来省事许多。网上比较通行的灌法是把肠衣的开头部分套到矿泉水瓶的瓶嘴上，把瓶嘴剪下来当漏斗。我用的是一个[手摇搅拌机](http://a.co/0vDsSYy)上面带的专门灌香肠的塑料筒，跟瓶嘴不一样的是，这个筒很长，所以可以把肠衣全部套上去，这样免得一边灌还得一边把肉往肠衣尽头推。

五花肉的问题是需要把皮剔掉，皮太硬了，灌到腊肠里将来会咬不动。刚开始剔的时候我没琢磨这事儿，左手揪着肉皮，右手用菜刀一点一点剔。大晚上九十来点了，前一天也没睡够觉，然后肉皮又滑（五花肉太油），揪得我手指生疼、心里神烦。尤其是有些肉的肉皮不平整，很多褶子，抠门如我，不舍得扔掉肉皮上带着的肥肉，于是更加小心翼翼地剔。

剔了几块肉之后狂躁异常，喝口水冷静一下，发现我又特么蠢了。五花肉是一条一条的，把一条肉侧摆在案板上，肉皮朝右，然后左手把肉弓起来摁住，让肉皮向外张着，右手垂直向下切，毫不费劲。切比剔容易多了，因为切是借力的活儿，而剔是纯臂力和指力，而且难以把握薄厚。虽然这样弓着的肉表面是弧面，但一段一段弧面用（菜刀）平面近似也不会导致多少损失。于是三下五除二，把剩下的肉皮都切掉了。

通体舒畅。
---
title: 某南亚半岛人民的邮件
date: '2017-11-27'
slug: indian-email
---

今年早些时候轩哥在感叹找工作需要为自己打广告而感到羞愧的时候，我批评了他的这种心理。该为自己打广告就得打，我的论点是，如果像轩哥这么厉害的人都不包装自己找个好工作，那将来地球真的就要被那些什么本事都没有、只会用嘴遁的人占领了。换句话说，轩哥要是因为在意自己的“清白”而找不到一个好工作，就是对不起这个世界。我随手举了一个例子，看三哥们是怎么联系我的，由此大概也可见为什么在美帝三哥崛起迅速，而低调的华人似乎总是没地位。这是一份我的常见的 LinkedIn 站内信：

> Hello,

> I hope you are doing well! I am passionate data scientist. I have 1+ year of research experience as Data scientist. I have 7+ years of experience in IT. I would be so appreciative if you review my profile and let me know if there is any opportunity for me as I am looking for Job.

> Regards  
...

然而我压根儿就不认识你啊。

今日又收到一封类似的邮件（这类邮件已经收到过好些），标题是“i want to learn programming”。我一看标题的 i 小写我就知道完了，这种懒得按 Shift 键的人我也一样懒得搭理。更不必说邮件内容让人不忍直视：

> Hello sir,  
> Iam XX from India i want to  learn programming, just i know concepts of c language but  i need help of you to make me learn programming skills. I dnot want to go any other institutes to learn languages. You are best programmer U can teach me programming so that i can gain more knowledge about programming. I think u are the most busy person in world but i want to learn programming help me i Dont have any other option iam like a kid just teach me programming concepts so that i can grow and become adult in programming concepts, i have completed post graduate in CSE and i dnot have skills can u explain me via Skype or any other video conference that enough just spend half hour on me on a day so that i can learn a lot. Day by Day iam getting depressed because i dont have job and i dont have skills. i can see only one person to help in programming that is you. Just help me sir all my hopes on you.

> Thank you sir

首先是 "Hello sir" 一看就是群发，连个姓名称呼都没有。"Iam" 中间不空格，这样的邮件我能看到这里可以说已经是仁至义尽了。考虑到人家也许真的是穷困潦倒来求助的，忍着一堆语法问题以及缺失标点符号换不过气来继续看完。一贯的南亚半岛浮夸风以及伸手党风：“你是棒棒哒，我是矬矬哒，麻烦你每天花半个小时帮我学习编程吧，你是我唯一的希望！”

我踏马要是你唯一的希望，你还能连个姓名称呼都没有？

求助当然可以，请先摆出一丝一毫的诚意猴不猴啊。这里的诸葛亮配图我就省了：我从未见过有如此啥啥啥啥之人。

我不是要搞地域歧视，但要说底线，我印象中真是找不出比这类邮件底线更低的了。某种程度上，这些三哥们简直就是人肉垃圾邮件发送器。
---
title: 爱比克泰德
date: '2017-11-30'
slug: epictetus
---

最近在重看《穷查理宝典》，这是少数几本我看过之后觉得可以重看的书^[其它几本包括《古文观止》《经典常谈 · 文艺常谈》《娱乐至死》《丰子恺文集》以及唐浩明的《曾国藩》等。]。在看《芒格在南加州大学法学院毕业典礼上的演讲》这篇时，我注意到他提到了一个我之前没听说过的人，爱比克泰德：

> ……另外一个你们要应付的问题是，你们在生活中可能会遭到沉重的打击，不公平的打击。有些人能挺过去，有些人不能。

> 我认为爱比克泰德的态度能够引导人们作出正确的反应。他认为生活中的每一次不幸，无论多么倒霉，都是一个锻炼的机会。他认为每一次不幸都是吸取教训的良机。人们不应该在自怜中沉沦，而是应该利用每次打击来提高自我。

> 他的观点是非常正确的，影响了最优秀的罗马帝国皇帝马库斯·奥勒留，以及随后许多个世纪里许许多多其他的人。

> 你们也许记得爱比克泰德自拟的墓志铭：“此处埋着爱比克泰德，一个奴隶，身体残疾，极端穷困，蒙受诸神的恩宠。”嗯，现在爱比克泰德就是这样被铭记的：“蒙受诸神的恩宠。”说他蒙受恩宠，是因为他变成智者，变成顶天立地的男子汉，而且教育了其他人，包括他那个时代和随后许多世纪的人……

这一段话讲得很好，于是顺手翻了一下[维基百科页面](https://zh.wikipedia.org/wiki/%E6%84%9B%E6%AF%94%E5%85%8B%E6%B3%B0%E5%BE%B7)。他的四句名言中有两句对我很有启发：

- 不要把信仰悬挂在墙壁上。
- 假如你想做事，就得养成做事的习惯；假如你不想做事，就别去沾边。

对我来说，不仅仅是信仰，很多其它的东西也不必挂在墙上^[这也解释了为什么我自己的房间里家徒四壁、空空荡荡，仅有一电脑桌、一电子琴、一小书柜、一路由器。]。甚至不只是挂在墙上的问题，也可以不必挂在嘴上、或博客上、或社交媒体上，等等。如果真的重要，挂在脑子里就够了。

“想做事就养成做事的习惯”这句话我感触更深。几个月前我开始[采访秦旭](https://d.cosx.org/d/419325)，这个过程中我最大的感触就是小时候养成做事的习惯简直太重要了：长大就成了一个模范学生。而我们这些从小贪玩的人，做事没有法度，东一榔头西一棒槌，就会永远深陷拖延症泥潭爬不出来。

《穷查理宝典》书中还列举了另一些爱比克泰德的观点，我也节选几条：

- 别根据你的愿望来要求现实，应该依据现实来确定你的愿望。
- 说话之前，先理解你要说的话。
- 如果你想要进步，别在意别人觉得你很愚蠢。
- 人若控制不了自己，自由便无从谈起。
- 唯有受过教育的人是自由的。
- 困扰人们的并非事物，而是他们对事物的看法。
- 富裕并非拥有许多财产，而是拥有很少需求。
---
title: 命运的锁链
date: '2017-12-04'
slug: destiny-lock
---

书接上文。在看《芒格在南加州大学法学院毕业典礼上的演讲》时，他提到了毛姆的小说《人性的枷锁》，我没看过这部小说（只听过《月亮与六便士》的摘要版，但当时[无法理解](/cn/2015/09/memory/)）。

看到这个标题，我突然想起小时候在邻居家看的一部电视剧，叫《命运的锁链》，剧情我已经几乎不记得，唯一记得的是里面有个有权势的坏人后来遭家人背叛而落魄，而之前他欺负过的穷人仍然以德报怨，帮助了他。再就是记得这个片头曲中的赶马车画面：

![](https://db.yihui.org/images/destiny-lock.png)

随手搜了一下，1988 年的电视剧，几乎找不到其它相关的资料。就是这样。
---
title: 费曼的写轮眼
date: '2017-12-08'
slug: feynman-sharingan
---

费曼的一篇文章“[The Dignified Professor](http://calteches.library.caltech.edu/52/2/dignified.htm)”中讲了一个小故事，而这只是关于他惊人观察力的众多故事中的一个：

> Within a week I was in the cafeteria and some guy, fooling around, throws a plate in the air.  As the plate went up in the air I saw it wobble, and I noticed the red medallion of Cornell on the plate going around.  It was pretty obvious to me that the medallion went around faster than the wobbling.

他的这种观察力简直就是血继限界的写轮眼，不经意间就可以发动：在咖啡馆闲坐都能注意到扔到天上的盘子旋转的速度比抖动的速度快，而且是“很明显”。当然，也许世上有很多观察力惊人的人，也有这样的血继限界，但费曼更厉害的是看到这种现象会想从科学的角度研究和解释它。那些所谓的“最强大脑”拥有者里，大概也只能停留在观察层面上而不会进一步利用他们观察到的事实和现象。

> I had nothing to do, so I start to figure out the motion of the rotating plate.  I discover that when the angle is very slight, the medallion rotates twice as fast as the wobble rate—two to one.  It came out of a complicated equation!  Then I thought, "Is there some way I can see in a more fundamental way, by looking at the forces or the dynamics, why it's two to one?"

> I don't remember how I did it, but I ultimately worked out what the motion of the mass particles is, and how all the accelerations balance to make it come out two to one.

研究明白这个现象还没完。他把这个故事讲给别人听之后，别人会觉得很无聊，一个扔到天上的盘子怎么个转法有什么意义？

> I still remember going to Hans Bethe and saying, "Hey, Hans! I noticed something interesting.  Here the plate goes around so, and the reason it's two to one is..." and I showed him the accelerations.

> He says, "Feynman, that's pretty interesting, but what's the importance of it? Why are you doing it?"

> "Hah!" I say.  "There's no importance whatsoever.  I'm just doing it for the fun of it."  His reaction didn't discourage me; I had made up my mind I was going to enjoy physics and do whatever I liked.

费曼是非常有个性的人，擅长忽略别人的看法：我就喜欢物理，我想怎么玩就怎么玩，至于它有什么意义，不是当下我要操心的事。最后，这么一个旋转的盘子，成了打通任督二脉的初始内力。

> I went on to work out equations of wobbles.  Then I thought about how electron orbits start to move in relativity.  Then there's the Dirac Equation in electrodynamics.  And then quantum electrodynamics.  And before I knew it (it was a very short time) I was "playing"—working, really with the same old problem that I loved so much, that I had stopped working on when I went to Los Alamos: my thesis‑type problems; all those old‑fashioned, wonderful things.

本来我看这篇文章是为了查找费曼的下面这句引言的来源，不过误打误撞看到了上面的故事，挺有启发。他是一个少有的为自己活的人，却又有强烈的内驱力。我等普罗众生，既没有他的写轮眼，也没有他那无以伦比的与物理学相连的好奇心，还时时在乎别人的眼光和看法。

> It was a brilliant idea: You have no responsibility to live up to what other people think you ought to accomplish.  I have no responsibility to be like they expect me to be.

> It's their mistake, not my failing.

据说（[我尚未仔细查证](http://www.sohu.com/a/169151018_358836)）阿德勒说过，“你并不是为了满足他人的期待而活着，别人也不是为了满足你的期待而活着。”跟费曼的话简直雷同。
---
title: 未必要有希望才能坚持
date: '2017-12-08'
slug: need-not-hope-to-persevere
---

查理芒格在他的演讲中经常提到一句豪言，叫“未必要有希望才能坚持”，语出沉默者威廉，荷兰国父。当我看到好几遍之后，好奇这话是在什么语境下说出来、以及原文是什么，于是放狗搜了一下。在[维基语录](https://en.wikiquote.org/wiki/William_the_Silent)上找到了：

> One need not hope in order to undertake, nor succeed in order to persevere.

当然真正的原文可能是荷兰语，我且假设英语翻译是恰当的。那么中文翻译或者芒格的转述就不太准确了，把第一句的头和第二句的尾接在了一起。威廉说的应该是：

> 未必要有希望才能开始，未必要有成功才能坚持。

换言之，就算没有希望，也可以开始（只要一件事值得去做）；就算没有成功，也要坚持。这么说来感觉就不如那句短小精悍的“未必要有希望才能坚持”豪迈，但比起治愈系的“[带着希望梦想才能飞往高处](http://music.163.com/#/m/song?id=4874976)”，这句话显然还是蛮悲壮的。
---
title: 听歌系列之没听懂的歌词
date: '2017-12-09'
slug: lyrics-incomprehensive
---

听歌有听不懂的歌词应该很常见，下面举几个困惑我最久的歌词例子，都是过了好些年看了歌词才明白。有时候是因为歌词太奇异，有时候是因为歌手口音。

- 王筝《我们都是好孩子》里的“想起你薄荷味的笑”：想起你什么的笑？

- 许美静《荡漾》“我不想阻挡你在我心荡漾”：我不想啥啥？主导？这个词我愣是听了一百遍也没听懂，后来发现是她不知为何把平舌“阻”读成了卷舌“主”。

- 许美静《城里的月光》“心若知道灵犀的方向”：知道啥啥的方向？我觉得许美静普通话还挺标准的^[相比之下，普通话最令人困惑的怕是东北银，比如翟惠民《爱一回痛一回》里面经常就是卷舌读平舌，“冲进”成了“葱进”，等等；如果是从小在东北长大，然后移居国外或港台的话，那会更可怕，比如崔萍的《南屏晚钟》，平舌翘舌几乎都恰好反过来读，就问你心里堵不堵。台湾歌手有时候也读音不标准，有些歌手是一律平舌（如林玉英），有些歌手挣扎着想发卷舌音（比如伍佰“是否依然为我**诗诗**牵挂”），还有些词在台湾几乎一律读错（可能也不能说读错吧，大约是通行读法就是不一样），比如孟庭苇《风里的梦》中的“邂逅”总读 xiè gòu；而香港歌手总是把悬崖的“崖”字读 yái。]，这个“灵犀”只能怪陈佳明太会选词。这词用眼睛读起来很好，用耳朵听我还真是听不出来。

- 孟庭苇《一个爱上浪漫的人》“两个人的寒冷靠在一起就是微温”。靠在一起就是……慰问？真会选词，微温。
---
title: 听歌系列之如诗之词
date: '2017-12-10'
slug: poetic-lyrics
---

既然说到歌词，就再凑一篇。尽管歌是用来听的，但有时候觉得歌词如诗，读起来也不错。略举几例（本应列词作者名字，鉴于我太懒就列歌手名字了）。

俞静《相逢是首歌》中有一句：

> 眼睛是春天的海  
青春是绿色的河

眼睛那么小，歌词作者却能从中看见海。河里流的是水，通常是灰色系，本身没有生命力，而一个绿色的形容，便赋予了它新奇的生命力：绿的不是河本身，而是两岸的青青河边草。

孟庭苇《三生三世》：

> 寒风吹落了一地的秋

抽象的秋肯定是不能吹落一地的，落地的只能是具体的秋天的树叶。

孟庭苇《不下雨就出太阳吧》：

> 雨季来心伞不开

心伞，好别致的比喻。

叶凡《相思》：

> 望不回旧时燕

似曾相识燕归来。而燕不会归来。曾国藩有一联，“似曾相识，怅梁空泥落，何时重见燕归来”，我觉得是他最好的几联之一。

叶凡《如梦尘烟》：

> 难舍的欢颜 浮云遮望眼
心中的悲歌一曲唱不完
毫气和柔肠寄于天地间
曾经的繁华
转眼是青烟
茫茫人世情 相逢多慨叹
富贵和平凡如何能超然
欲飞上青天看苍海桑田
问世间万物
谁能改变

若在人间慨叹没有答案，就飞上青天换个角度看。天上一天，地上千年。用一天的速度看千年沧海桑田，就算是一生的富贵或平凡，也不过都是微尘；一生是如此之快，来不及改变，就已经过去。

翟惠民《铁窗泪》：

> 我曾站在铁窗前  
遥望星光闪闪  
那闪闪的星光

这个前面[已经说过](/cn/2017/08/zhai-huimin/)。星光闪闪与闪闪的星光，有复沓的诗意。孟庭苇《一个爱上浪漫的人》中也有复沓，不过就没什么诗意了，只是听起来感觉很上口：

> 就让我们拥抱彼此的天真  
两个人的寒冷靠在一起就是微温  
相约在那下着冬雪的早晨  
两个人的微温靠在一起不怕寒冷

陈明韶《风！告诉我》：

> 海鸥飞了好远好远  
没有人问它从哪里来  
蓝天里有多少白云  
没有人问它何处去

海鸥哪里来、白云何处去、“我”为什么要关心这些事呢。中国历史上第一位女教授（也有说是第一位女博士的）陈衡哲在《北戴河》一文中有过类似的诗意：

> 三只孤鸟，不知从何处来，也不知到何处去，在海天茫茫，暮色凄凉之时，与我们这两个孤客，偶然有此一遇，便又从此天涯。

银霞《西风的故乡》：

> 西风呀你为何无言  
总是那样沉默  
西风呀有多少心事  
你又何必隐藏

这个几年前就[提过](/cn/2015/10/wind/)，并且当时拼凑了一首五律，到目前为止也是我凑的唯一一首五律。

叶倩文/林子祥《乱世桃花》：

> 几许烽烟已忘心中恋  
求遂我普世太平愿

这个结尾之升华有点让人出乎意料，竟流露出了儒与佛的意味。这是电视剧《九阴真经》的主题曲，桃花是剧中主题之一（黄药师桃花岛的缘故）。最终冯蘅死了、欧阳锋败了。英雄五霸闹春秋，顷刻兴亡过手。烽烟过后，大概普世太平是最好的愿望了。

萧孋珠《绝代双雄》主题曲：

> 烟雨中，心迷蒙

情景交融。今夕之梦旧时梦，烟雨迷蒙心迷蒙。

山口百惠《秋樱》：

> 淡红的秋樱在秋日里  
随意地阳光中摇曳着

看似普通随意但又恰到好处的起兴，不需要更浓或更淡，一句话就隔离出一个特有的场景。另一首起兴厉害的歌是杨千嬅《再见二丁目》:

> 满街脚步 突然静了  
满天柏树 突然没有动摇

周治平《那一场风花雪月的事》：

> 坐爱情的两岸  
看青春的流逝

貌似有些词作者喜欢用河流的比喻或隐喻。前面《相逢是首歌》中已经提过；另外叶丽仪《万般情》中也有“春江河波澜隐隐”开头和“何日江水会停，平息爱恨”结尾。这里“两岸”也是一个很别致的隐喻。

卢巧音《垃圾》：

> 如果我是半张废纸  
让我 化蝶

垃圾化蝶，悲观中的乐观与美。

孟庭苇《伤了你的心的我的心》：

> 三月的花都已经凋谢了  
四月的星星坠落你眼睛  
五月的雨为你下个不停  
六月天空轻轻在哭泣  
等到七月开始下雪

伤心之时，时令都倒过来了，而且层层递进。

容祖儿《小小》：

> 你在树下小小的打盹  
小小的我傻傻等

用小小一词来修饰打盹不太常见。整首歌围绕“小”勾勒出一个充满回忆的童真年代。银霞《你那好冷的小手》中也是好几处小字：小湖、小白帆、小手。

叶倩文《明月心》：

> 如果明月无心 那天空不会下雨  
如果大海有情 沙滩不会沉睡

奇特的想象。苏慧伦《哭过的天空》中有一句“天空有天空下雨的苦衷”，都是想象天空下雨的原因。

许冠杰《天才白痴梦》：

> 人皆寻梦 梦里不分西东  
片刻春风得意  
未知景物朦胧  
人生如梦 梦里辗转吉凶  
寻乐不堪苦困  
未识苦与乐同

苦与乐同，这境界太高。世情吉藏凶，凶藏吉。

关峡《小龙人之歌》：

> 谁知我就在妈妈怀抱里  
却寻遍天涯  
去找她

小朋友版本的“蓦然回首”。

蔡琴《抉择》：

> 也许雨该一直下不停

点明主题“抉择”的，大概就是这两个“也许”，尤其是后一个“也许”。就像那句经典的“以为你是因为下雨不来”。

刘欢《弯弯的月亮》：

> 阿娇摇着船 唱着那古老的歌谣  
歌声随风飘 飘到我的脸上  
脸上淌着泪 象那条弯弯的河水  
弯弯的河水啊 流进我的心上

这四句总是下一句开头接上一句结尾，让文字流淌了起来 `%>%`。

朴树《白桦林》：

> 静静的村庄飘着白的雪  
阴霾的天空下鸽子飞翔

同《秋樱》和《再见二丁目》一样，以一个画面开始，但《白桦林》的画面比较肃穆，两句分别是以静为背景，布置上动，这样安排显得画面比较简洁有力。后面还有呼应（四个“依然”）：

> 天空依然阴霾依然有鸽子在飞翔  
谁来证明那些没有墓碑的爱情和生命  
雪依然在下那村庄依然安详

温兆伦《随缘》：

> 回头看这一生 人如飞虫堕网内  
恨的苦的须承受

什么是缘？大概就是网。用火影术语来说，就是羁绊。

王筝《越单纯越幸福》：

> 阳光会 碎落成 一面湖

单纯的眼睛才会留心阳光碎落的湖面。扶霞的《鱼翅与花椒》第十六章《红楼梦》中有一句“冬日灿烂的阳光在江面上撒下闪烁的碎金”，跟这句歌词有点类似，不得不说这个歪果仁的文笔着实不错。

罗大佑《明天会更好》：

> 青春不解红尘 胭脂沾染了灰

说实话，这句话我也不知道它真正的意思。

苏芮《请跟我来》：

> 当春雨飘呀飘的飘在你滴也滴不完的发梢  
戴着你的水晶珠链 请跟我来

只要愿意观察和感受美，发梢上滴不完的春雨也可以化为水晶项链。

姜育恒《飘》：

> 要不是天地如此长久  
怎容得下你我的蹉跎  
要不是人间太多差错  
这痛苦绝不是你和我

我们都是人生沧海一粟，何去何从由不得你我。

王泽《心愿》：

> 成长是一扇树叶的门

为什么是一扇树叶的门？大约是成长之后就再也不会钻过树叶装饰的门。类似《白桦林》的四个“依然”，这首歌中也有四个“那些”。

巴奈《巴奈流浪记》：

> 如果有一天我变得更复杂  
还能不能唱出歌声里的那幅画

天地者，万物之逆旅；光阴者，百代之过客。为什么而歌唱？

于千慧《多情总为无情伤》：

> 我的泪洒遍沙漠不开花

这一句用夸张和隐喻的方式点了题，却比后面的直白表述的力度都更强。

话说回来，其实诗词本来也就是源于歌。
---
title: 面条机为什么会卡住转不动
date: '2017-12-12'
slug: noodle-machine
---

年初的时候我[提到](/cn/2017/01/blog/)面条机坏了，最细的那一档非常卡，很难转动；宽面条的两档都还能转动。当时我拆了一遍，但只拆了容易拆开的一面，没弄明白。感恩节黑色星期五的时候，我琢磨着要不要买个新的算了，因为我想做热干面，而宽面的两档都太宽了。

我这么抠门的人是不会轻易剁手的。到了周末再把面条机搬出来，又拆了一遍，两面都拆开，弄明白了。里面无非就是两个咬合着的齿轮，手摇的时候一个齿轮带着另一个齿轮转。之所以转不动，是因为两个齿轮对得不是特别齐：一个齿轮的齿要走了，另一个齿轮的齿不让它出去。齿轮大概是生铁，不是徒手能校正的东西。我上了一点润滑油，呼哧呼哧转了百十来圈，基本上顺畅了。不必再剁手。

第二天便凑合着做了一次[热干面](https://www.xiachufang.com/recipe/100039015/)，感觉不够干，可能还真得用电风扇吹干。
---
title: 两个分布密度函数曲线的重合部分阴影面积
date: '2017-12-14'
slug: density-curve-area
---

熟悉我在 COS 论坛回帖的人都知道，我经常唠叨一句话，就是“人脑一小步，电脑一大步”。就我的观察，很多问代码问题的人都太急于知道代码如何实现，而不肯用脑子先想想这个问题的本质是什么。

比如[这个求阴影面积的帖子](https://d.cosx.org/d/419681)就是一个很好的代表。楼主上来就问如何用 R 语言求这个重合部分的面积，其实不必急着往具体一门语言的坑里跳，先在坑外看清情况了，再从容填坑也不迟。

小轩哥的回答就体现了聪明的码农的普通码农之间的区别。数学意义上，究竟什么是重合部分？很简单，两条线沿着横轴走，谁低就取谁，这个边界界定的便是那个阴影部分（重合部分）。换句话说，就是两个函数取小，得到一个新函数。只要有了函数，积分的事情就容易办了，比如丢给 `integrate()` 就可以求。
---
title: 半夜灯前十年事
date: '2017-12-14'
slug: night-rain
---

在钟敬文《谈雨》一文中读到一首我之前不知道的诗，杜荀鹤《旅舍遇雨》：

> 月华星彩坐来收，岳色江声暗结愁。  
半夜灯前十年事，一时和雨到心头。

原文中引的是“一时随雨到心头”。是“和”还是“随”，貌似没有定论。个人感觉“随”略微顺畅一点，“和”字有点硬。另外感觉诗中半夜、十年、一时三个数词放一起很有场感，尤其是十年与一时的对比。“坐来收”是什么意思呢。

《谈雨》文中提到作者小时候的同学在下雨操场积水后把门板拆下来当船玩：

> 好弄的同学，把门板脱了下来，在运动场里用竹篙撑着，当作小舟似的左右行驶。做小学生时，我是一位姑娘般的小孩子，什么事都不敢胡乱动手，何况是有点危险而且犯规的游戏呢？话虽如此，我那时眼看着同学在高兴地玩着，心里总禁不住许多艳羡与喜悦呵。

这也是我小时候艳羡的事情之一，总想弄个门板或大盆之类的东西放到池塘里划船玩，然而终归是贪生怕死，一直未能实现。有一次在一个池塘边看见一块现成的门板，在岸边浅水处踩上去试了试，也没敢真划到池塘里面去。
---
title: 穷折腾
date: '2017-12-24'
slug: immature-debug
---

从 CTeX 的开发者之一刘海洋大人那里学到一个词，叫“穷折腾”。缘起是黄湘云[报告了一个问题](https://github.com/CTeX-org/ctex-kit/issues/331)，结果被两位开发者大力吐槽了一番，然后刘海洋讲：

> 部分 Linux 用户乐于在仔细查看官方文档之前轻信网上过时的资料，并在读源代码的时候一知半解，对此我深表遗憾。在这个基础上写出来的冗余代码，我称之为穷折腾。

哈哈，讲得极好。一句话就勾勒出 Linux 用户的特点：源码控、配置狂，而且一生掉在这个坑里爬不出来。

黄湘云这个问题的根源来自于 Pandoc 在 LaTeX 输出中的代码高亮，但他可能不了解这背后一环环的关系，所以上来就强行折腾，结果很快就折腾到了歧途上。我早该料到这个结果的，因为早在他折腾 CentOS 时，[我就感觉不太对劲](https://d.cosx.org/d/419672/87)（他不回答我为什么作为一个刚接触 CentOS 系统时间不长、却非得对这个系统这么执着，还要卯足了劲要生死往前冲，感觉这就是纯粹为了折腾而折腾）。

当然，有点折腾精神是好的，人不折腾枉少年，只是少年还得惜取少年时，适可而止。不过这种话要是说给十年前的我自己听，也未必能听进去。
---
title: 影响力
date: '2017-12-24'
slug: influence
---

当芒格谈他的普世智慧时，其实多数时间是在谈心理学，而且他一贯嘲笑学院派心理学（他也同样吐槽学院派经济学），认为他们永远落后于时代，净研究些无用的话题，诸如弗洛伊德的心理学派在他眼中根本狗屁不是。

如果我看得够仔细的话，他唯一一次表扬学院派是《影响力》这本书。他是如此推崇这本书，以至于他赠送给了作者伯克希尔的股票（据说价值 22 万美元）。他并没有细谈这本书的内容，所以我放狗搜了一下，找到豆瓣上[一个懒人版总结](https://book.douban.com/review/5046071/)。有点意思。

核心词汇是：对比、互惠、相互退让、承诺和一致、社会认同、喜好、权威、短缺。

我发现我自己已经在潜意识里用这里面的一些方法了（可能有些阴险），比如我会在我的书的致谢部分特意表彰出版社的文字校对员，收效就会很明显，人家大周末的还在给我校对书稿，然后我的第二和第三本书先后都创造了出版速度记录，编辑告诉我他一辈子都没见过出版这么快的书。

其实更浮夸的是我连我曾经的租房房东和买房经纪人都会[放在致谢中](https://bookdown.org/yihui/bookdown/acknowledgments.html)，而且书出版之后我会送他们一本，但这个就没什么利益导向了，提他们和送书对我没有任何好处（我们的交易关系早已结束），这书他们也看不懂，这只是日常生活中“互惠”原则的一个小小练习而已。

所以我再敲黑板重复一遍[霍志骥的观点](/cn/2017/05/little-mind/)：

> 如果人类是有希望被拯救的，那就只能依靠心理学。
---
title: 头一个我告诉他可以说不但他不说的人
date: '2017-12-24'
slug: not-say-no
---

众所周知，拒绝别人是一件[很困难的事情](/en/2017/11/on-saying-no/)。因为我常年受这个问题折磨，所以有时候我请人帮忙会主动提供拒绝的选项，即：我想请你帮个忙，但你可以选择不帮，不必有压力。忙人通常都会接受这个选项，而这次我头一次碰到一个在我说你可以不用帮我的情况下仍然主动要帮我的人，这位大人是与我素不相识的 [David Donoho](https://en.wikipedia.org/wiki/David_Donoho)。当然，我认识他，他并不认识我；我们唯一[一点联系](/cn/2017/01/blog/)是他在《数据科学 50 年》的文章中提到了我的 knitr 包，然后就是 2012 年底我在布朗大学的一个研讨会上[听过他一次报告](/en/2012/12/icerm-reproducibility-workshop-day-1/)。

维基百科上写着这位大人又被称为“The Donohomie”，我不是很明白这是啥意思。
---
title: 澳大利亚的鸸鹋和喜鹊
date: '2017-12-25'
slug: emu-magpie
---

今年 5 月底[去了一趟](/cn/2017/05/oz/)袋鼠国，随后了解到两个神奇的事情。一个是喜鹊居然会伤人，而且还有专门的网站“[Magpie Alert](http://www.magpiealert.com/)”记录伤人地点，我不是很明白为什么在澳大利亚打喜鹊是违法的。另一个是澳大利亚历史上还有过几场[鸸鹋战争](https://zh.wikipedia.org/wiki/%E9%B4%AF%E9%B6%93%E6%88%B0%E7%88%AD)，读来十分搞笑，尤其是维基百科页面中的这一句：

> 另外马里帝兹的官方宣称军方没有任何伤亡。

真是个神奇的国度。
---
title: 最熟悉的陌生词
date: '2017-12-26'
slug: familiar-words
---

前年我背痛去看医生的时候，接连两次都有医生问我是否感到“tender”。我心想这词我熟啊，猫王不是有一首“Love Me Tender”吗，我多年前就知道，然而在具体语境下我感到很奇怪，为什么问我是否感到温柔呢？想想不对劲，回来查字典，发现它还有痛的意思。哦。

于是想起初到 A 村村办大学的时候，第一次考试发现试卷上一道题里有一个词“pen”，我一看，嗬，这不是我在初中韩梅梅时代学的头一批词里的吗。然后从上下文怎么看都觉得不是“笔”，后来一查，我勒个去，它还有牲口围栏的意思。真是越简单的词越让人摸不着头脑。
---
title: 骂人并不能代替辩论
date: '2017-12-27'
slug: emotional-debate
---

我认为网络上的正义多为虚假的正义。我并不是说那些在网上号召正义的都是坏人；他们也许是心地善良，也许是真的出于好心，但通过网络形式表达的正义的核心问题是成本太低。就像微信拉票一样，几乎毫无价值。如果一件事成本太低，那么非常微弱的一点初始力就可以推动很多人去做。

比如网络谩骂就是一种成本极低但心理回报极高的伸张正义的方式。当然，这是一种相对极端的方式，更常见的是点赞、一句话评论、转发、表情符这些方式。

几年前，Brendan Eich 突然变成了一个争议的焦点人物，原因是[他支持了加州废除同性婚姻的提案](https://brendaneich.com/2012/04/community-and-diversity/)（捐赠了 1000 美元）。我们可以看看反对他的人如何表现，以及他自己如何回应。因为这个话题比较敏感，所以谈看法之前我得先摆出我自己的立场：我完全尊重同性恋，原因只有一个，他们/她们选择跟什么人在一起，是自己的自由，与旁人何干（招你惹你啦）；但我对同性婚姻持保留态度，并没有强烈支持或反对的意愿。

好了，Eich 立刻就被打成了马蜂窝，成了一些人发泄负能量的对象。我不知道这些人有什么底气可以理直气壮地骂人，他们究竟对这个人了解几分、是否问过当事人不支持同性婚姻的理由。管它呢，先骂了再说。我并不太相信这个人在现实生活中就是个恶棍，他自己称：

> I challenge anyone to cite an incident where I displayed hatred, or ever treated someone less than respectfully because of group affinity or individual identity.

不亦君子乎？

可以网络上总是有一批人容不下异见者，只要对方观点跟自己不一样就恨不得烧死而后快，从不肯静心准备论据，他们以为只要强烈表达了自己的愤怒、激动、热爱，事情就可以不必放在桌上讨论了。这种感觉是否跟《双城记》里的法国大革命一样？人人皆以为自己在行使正义，哪有工夫去看砍下的这颗头到底是谁的头以及他究竟做了什么非杀头不可的事情。

那项提案的网址现在已经失效，只能从时光机器找回来。我们可以看看[支持废除和反对废除的论点](http://web.archive.org/web/20110724115011/http://voterguide.sos.ca.gov/past/2008/general/argu-rebut/argu-rebutt8.htm)。同样，由于话题敏感而且我对这事并不真心感兴趣，我不想谈内容，而是只看一眼表达形式：支持方用的强调方式多为斜体和局部大写，反对方的强调方式多为整句或整段大写。给我的感觉是反对方情绪更激动。

在这个政治正确的国度，Eich 的下场就是，上任 Mozilla 首席执行官短短一周多时间就被迫辞职，而且离开了 Mozilla。所以说有时候那些喊言论自由的人，只不过是为了自己的言论自由而已，而容不得别人的自由。就如同那些整天在网上号召“共享”精神的人，说到底只是为了把别人的成果免费共享给自己；若你想从他手里“共享”点什么他自己的东西出来，他立马会像考拉抱着树一样不松手。
---
title: Homebrew 与开源
date: '2017-12-27'
slug: homebrew-open-source
---

[Homebrew](https://brew.sh) 应该是史上最成功的开源软件之一。注意开源的“开”字，颇有意味。传统意义上，开源仅仅只是指源代码是否公开可获得，我认为这只是历史上的狭义开源定义。我在 2013 年[已经谈过](/cn/2013/11/open-source-again/)广义的定义，就是开放的源代码加上开放的合作态度和姿势。有些开源项目被少数几个人把持着不肯松手，坚持自己的落后工作方式和习惯，比如几乎举世都抛弃 SVN 了还得抱着 SVN 不撒手，理由一堆一堆的（[看看这个跑题贴](https://stat.ethz.ch/pipermail/r-devel/2017-December/075268.html)）。我觉得这不算真正的开源。

Homebrew 最成功之处在于吸引了不计其数的贡献者。也许它的技术实现很蹩脚、不够专业，但它很好地解决了一大烦事，就是过去在苹果系统下装开发者软件真的是特么烦到爆炸。`./configure && make && make install` 实在不好玩，一个码农[一生玩一次](/cn/2009/12/cos-in-2010/)就够了，绝大多数情况下都是在白白浪费时间。

Homebrew 的作者 Max Howell 时隔两年后在 Quora 上[回答了一个关于他自己的问题](https://www.quora.com/Whats-the-logic-behind-Google-rejecting-Max-Howell-the-author-of-Homebrew-for-not-being-able-to-invert-a-binary-tree/answer/Max-Howell)，也就是如何看待大名鼎鼎的 Max Howell 当年在面试谷歌时因为不会做一道二叉树的题而被拒。这个事件当时在码农圈引起了巨大轰动，大家纷纷指责谷歌狗眼不识泰山。Howell 自己在这个回答中说了抱歉，因为他当时发的推特消息正好戳到了那些居心叵测要嘲讽挖苦正统计算机教育和大公司招聘文化的一大撮人的痒处，于是这个靠怒气驱动的社交媒体世界便爆炸了。

他自己承认从技术角度来说，Homebrew 是一坨狗屎（我疑心他心有忿忿，所以可能略有说气话的意思），但为广大苹果用户解决了一个非常实际的问题，这个解决方案并没有用到什么然并卵的二叉树或图论。这是他的回答里的一个亮点：

> Most tools don't give a shit about you.

我挺同意的。会写代码的人很多，写得好的也有很多，但真正关心用户疾苦的开发者我认为并不多。我不知道为什么码农圈会有这种奇特的文化：代码写得好似乎就不能和群众打成一片，仿佛会降低自己的档次。这是我的小人之心恶意揣测。善意的揣测是他们太聪明了，于是误认为世人都该拥有和他们一样的智商，和一颗永不停止折腾以及享受折腾的心，比如 `./configure` 的日志你得自己读得懂，要是缺什么依赖你自己知道怎么去找、去安装。他们忘了自己并不是生下来就是天才，忘了自己的白痴时代。

同样作为系统软件包管理工具，我认为 Linux 世界就不如 Homebrew 成功，诸如 apt-get、yum 之类的。它们藏得太深了，普通人很难为这些工具作贡献。 Homebrew 放在 Github 上，大家一起合作改进可以说是太方便了。相比之下，那些 Debian 包是怎么造出来的，鬼才能找到，就更不用说什么作贡献。就我个人过去跟几个 Debian 的人打交道的经历来看，Debian 的人对自己的系统简直有宗教般的虔诚信仰，恨不得啥包都打包成 Debian 包，而我尤其反对的两类软件打包是 TeX Live 和 R 的附加包（除非是有复杂的系统库依赖）：对这两套软件的打包带来的麻烦远大于便利，把简单的事情大大复杂化了。比如打包就意味着 sudo 安装，我觉得 sudo 对个人电脑用户来说几乎毫无意义：就我一个人用，犯得着问我密码写系统目录吗（Homebrew 往 `/usr/local/` 写文件，不要密码不扰民）。最让人不满的是，那些包永远是落后时代好几年，名曰追求稳定性^[我认为软件的稳定性应该依靠足够全面的测试（如单元测试），而不是靠拖时间、让勇敢的早期用户去手工测试。自动化的测试是软件最好的护城河。]。如果是系统核心包，我赞同保守升级；如果是具体领域的应用包，让用户等三五年有何意义。曾经我等 TeX Live 的 Ubuntu 更新等了好几年，后来实在忍不了，发现 TeX Live 直接从网络安装原来如此方便快捷，根本就不必仰人鼻息，而且还可以大大瘦身。我继续等了几年后终于找到足够的空闲时间（主要是公司支持我做这事），推出了轻量级的 [TinyTeX](/tinytex/)，逃出了 Linux 的依赖地狱。对那些预编好的大坨 `texlive-*` 包（打包者在乎你用不用这一坨扯不开的 LaTeX 包吗？不，他们似乎只是为了打包而打包），我终于可以说一句：

翻滚吧，牛宝宝！

![滚犊子](https://slides.yihui.org/gif/roll-away.gif)

其实看看另一个比 Homebrew 早得多的软件包管理工具 MacPorts 的命运就更能理解什么是开放的开源、什么是一个人在战斗的开源。这也从一个侧面告诉我们，不必因为天资不够而害怕挑战那些天才码农，如果你足够关心用户，以及擅长搭架子让用户像黄瓜爬藤一样爬上来为你开花结果，你也可以做出漂亮得多的开源软件。我相信这种机会一直都会存在。
---
title: 听歌系列之孟庭苇
date: '2017-12-28'
slug: yard-floret
---

艺人通常有本名和艺名，说本名估计谁也没听说过，比如陈秀玫是谁？听起来和孟庭苇就像是完全不同的两个人。相士还真是会取名字。

网易云音乐上有人说最爱孟庭苇三首歌《[风里的梦](http://music.163.com/#/m/song?id=276722)》《三生三世》（未收录）和《[化身为海](http://music.163.com/#/m/song?id=276727)》，我也觉得很好。据说孟庭苇是词作家吕国梁一手提拔起来的，他的词确实挺有特色。比如《化身为海》的歌词形式就非常别致：

> 留下一个人和一盏灯  
让黑夜躲在窗外  
寒冷的尽头是一壶酒  
温暖我唯一的梦

> 许多生命里走过的风雨  
并非每个人都懂  
就当我和你从不曾有过  
如此短暂的相遇

> 化身没有爱也没有恨的海  
洗净忧伤的尘埃  
眼中的遗憾和心底的伤感  
总有停泊的港湾

奇数句每一段增加一个字，偶数句则一直保持字数不变。在我有限的印象中，这种非常整齐或有规律的歌词不太多；这样的歌词我能想起的只有《[秋天的海](http://music.163.com/#/m/song?id=288003)》：除了有两句是十一个字之外，剩下的句子全都是五个字。

孟庭苇有一首《[红雨](http://music.163.com/#/m/song?id=276490)》，我听了很多遍之后才注意到有两个不同的声音，于是才知道原来是与李翊君的合唱。没错，又是吕国梁作词。他似乎很擅长写天气（因此孟庭苇又得名气象公主）；红雨，也是蛮有想象力的。感时花溅泪，恨别雨飞红。又或，满川霜红叶，离人眼中血。
---
title: 阁夜
date: '2018-01-01'
slug: attic-night
---

偶然读到杜甫的《阁夜》：

> 岁暮阴阳催短景，天涯霜雪霁寒宵。  
五更鼓角声悲壮，三峡星河影动摇。  
野哭千家闻战伐，夷歌数处起渔樵。  
卧龙跃马终黄土，人事音书漫寂寥。

引起我注意的并非诗意本身，而是“雪霁”二字，因为这是我的一个高中同学的名字。他父亲是我们的语文老师（当时可能是学校里水平最高的语文老师），而这首诗中出现了三峡，也是我的老家所在地，所以我疑心他的名字可能来自这首诗。

这位同学当时相当放荡不羁，极有个性，也很叛逆。我与他略有些志趣相投，可以说是年级里对英语下苦功最多的两个人。不过自打高中毕业后，我再也没见过他，而他父亲在我们毕业后离开了那所高中，我也没再听到过他的消息。
---
title: 疑若可守然
date: '2018-01-01'
slug: ding-an-repeat
---

龚自珍在《说居庸关》中重复了五遍“疑若可守然”、六遍“自入南口”。可能是“重要的事情说三遍”的始祖之一。不过定庵的重复和今人的重复并不一样，今人的重复某种程度上是为了搞笑，只是暴力重复，定庵则是先摆理由，最后总结，“故曰：疑若可守然。”
---
title: 胡林翼论时艺
date: '2018-01-01'
slug: eight-legged-essay
---

晚清曾左胡三人中，胡林翼大概主要是因为死太早（次要是因为文学功夫不如曾左），所以后世名声远不如曾国藩和左宗棠，不过我在看后二人的相关书籍时，从侧面描写中对胡林翼倒是发生了一些兴趣（感觉其政治手腕比较高超），于是找来《胡林翼家书》一读。多数书信没给我留下什么印象，除了这一段论八股的（选自《论时艺之弊》，其中时艺指的就是八股文）：

> 独明祖之八股取士，外托代圣立言之美名，阴为消弭枭雄之毒计，务使毕生精力尽消磨于咿唔咕哔之中，而末由奋发有为以为家国尽猷谟之献，此其处心积虑，以图子孙帝王万世之业，诚不失为驾驭天下之道，而戕贼人才，则莫此为甚。

他在体制内能认清体制弊端并且身体力行他的实用观，让人佩服。左宗棠的传记最强调的一个关键词通常是“经世致用”，这一点在曾国藩和胡林翼身上也有深刻体现。

其实有些学术文章和研究[何尝没有八股之风呢](/cn/2017/09/applied-science/)。
---
title: 渔父
date: '2018-01-01'
slug: fisher
---

朱自清的《经典常谈》中《诸子第十》篇中谈老庄提倡自由而反对标准的思想时，说了一句：

> 社会上、政治上的制度，硬教不齐的齐起来，只徒然伤害人性罢了。

我深以为然。以前我提过[公平和公正经常是互相冲突的](/cn/2015/11/peer-review/)，我们的社会制度通常更多强调公平而牺牲公正，公平是集体意义，公正则是个人意义。所谓政治正确，我觉得正是“硬教不齐的齐起来”。

这本书后面的《诗多义举例》一篇中，他为了解释陶渊明“此中有真意，欲辨已忘言”中的“真”而提到了庄子的《渔父》篇。虽说这一篇疑为后人伪作，但里面渔父有几句话我觉得讲得很好。先是人应该如何看待自己身上的恶：

> 人有畏影恶迹而去之走者，举足愈数而迹愈多，走愈疾而影不离身，自以为尚迟。疾走不休，绝力而死。不知处阴以休影，处静以息迹，愚亦甚矣！

然后是真：

> 故强哭者虽悲不哀，强怒者虽严不威，强亲者虽笑不和。真悲无声而哀，真怒未发而威，真亲未笑而和。

最后是俗世之礼：

> 礼者，世俗之所为也；真者，所以受于天也，自然不可易也。故圣人法天贵真，不拘于俗。愚者反此。不能法天而恤于人，不知贵真，禄禄而受变于俗，故不足。

从这个角度来看，[费曼](/cn/2017/12/feynman-sharingan/)也是一位真人了。
---
title: 闲情赋
date: '2018-01-01'
slug: leisure-emotion
---

如前面[提到岑参](/cn/2017/04/ames/)的一首小诗一样，我在《经典常谈》中看到陶渊明的《[闲情赋](https://zh.wikisource.org/zh-hans/%E9%96%91%E6%83%85%E8%B3%A6)》，也觉得甚为惊异。田园诗人竟然还有这样一篇佳人赋，我读书少，之前还真不知道。这十愿着实厉害：

> ……愿在丝而为履，附素足以周旋；悲行止之有节，空委弃于床前。愿在昼而为影，常依形而西东；悲高树之多荫，慨有时而不同。愿在夜而为烛，照玉容于两槛；悲扶桑之舒光，奄灭景而藏明……

过去这一年，因为辞藻的华丽而引起我注意的两篇文章分别是这篇《闲情赋》和老舍的《微神》。

朱自清引用这篇赋，是为了辅助解释卞之琳的《[淘气](http://www.millionbook.com/xd/b/bianzhilin/bianzlsj/001.htm)》一诗。我不得不承认，理解近代诗对我来说实在是太难了，这个以后再具体举例。
---
title: 最新高中语文基础知识手册
date: '2018-01-01'
slug: yu-wen-ji-chu
---

在我过去一年看的书里，比较奇异的有两本，一本是赵清莲主编的《最新高中语文基础知识手册》（此处允许客官们笑出声），另一本，确切地说是一类，是化学基础知识书。看化学是因为[杨洵默](https://tcya.xyz)和[于淼](https://yufree.cn)偶然挑起了我的初心（我在初中高中阶段最痴迷于化学），看语文基础知识只是想看看现在高中语文都在教什么，而语文是我高中时最差的科目。下面随意罗列一下我的几点笔记：

- 我从来没想过原来我们从学前班时就学的 a o e i u ü 六个元音竟然是按口型从大到小排列的。我这反射弧可以说快有三十年之长了。

- 两个上声相连的字在一起的词，前一个字会变阳平，比如“洗脸 -> 席脸”。当然，读的时候我是这么读的，只是从来没注意过这个规律。这让我想起微积分和高等数学这两门课里面的重大秘密：微积分三个字都是阴平，而高等数学则是四声占齐^[我赌十个茶叶蛋，各位客官看完这句话一定至少在心里默念了一遍 gāo děng shù xúe。]。

- 汉字的造字法中的“转注”：当我看到“老”与“考”的例子时，突然觉得解开了一个从小学时代就困惑我的问题，那就是我从小看见墓碑上总写着“故显考某公之墓”，一直奇怪什么叫“显考”，尤其是“考”是什么意思。如果考与老同源，那就容易解释了。

- 郭沫若《屈原》剧中一字之改动：你**是**没有骨气的文人 -> 你**这**没有骨气的文人。这个例子应该是我第二次读到了（第一次不太记得，可能是朱光潜的《谈文学》），不过还是觉得很厉害。

- 韦应物《赋得暮雨送李胄》：

    > 楚江微雨里，建业暮钟时。  
    漠漠帆来重，冥冥鸟去迟。

    没啥，就是看见一个古诗讲照应手法的例子，觉得漠漠与冥冥两个叠词很好，颇有古诗十九首之风。

- 王勃《郊兴》：

    > 雨去花光湿，风归叶影疏。

    这是一个炼字的例子。湿与疏两个字，的确精炼，这已经不是金圣叹“如画”两个字能评价的了。

- 古诗风格之“冲淡”，举了两个例子，都是王维的。一首《鸟鸣涧》：

    > 人闲桂花落，夜静春山空。月出惊山鸟，时鸣春涧中。
    
    另一首《鹿砦》：
    
    > 空山不见人，但闻人语响。返景入深林，复照青苔上。

    前一首我不记得是否在课本上出现过，但后一首我清楚记得在小学五年级语文课本上学过。这两首诗放在一起，我注意到都有人、山、深三个字（而且山都是空山）。于是想到小轩哥的宋词文，心想王维的诗中最高频的字是哪些呢。

- 斜阳草树，寻常巷陌，人道寄奴曾住。我看到寻常二字时，想起列弛专门为这个词[写的博文](https://www.liechi.org/cn/2017/04/%E5%AF%BB%E5%B8%B8/)。
---
title: 爱宇宙
date: '2018-01-02'
slug: no-borders
---

去年七月我[胡乱评论](/cn/2017/07/bear-club/)狗熊会致辞中的爱国精神时说，爱啥子国嘛，要爱就爱全宇宙。后来我头一次翻开叔本华的《人生的智慧》，刚看了个序言，发现里面有一段话：

> 叔本华是一位具有世界心灵的和平主义者，对狭隘的民族主义、狂热的爱国主义是不屑一顾的。人既然应该爱他的国家和民族，为什么不应该爱世界和人类？假若能爱世界和人类，就用不着高喊什么民族主义和爱国主义了，因为爱世界和人类，决不会不爱国家和民族。1812 年拿破仑在俄国战败，普鲁士趁机反对法国，当时的德国普遍洋溢着民族的爱国情绪，叔本华充满与世俗事务隔离的智慧，丝毫不为这种爱国情绪所动摇，在这种情况下，叔本华的大学生涯随之结束。

嘻！

不过我直到现在也没顾得上看这本书。
---
title: 奖励人辞职
date: '2018-01-02'
slug: quit-award
---

[2012 年](https://github.com/yihui/ideas/issues/28)我看到一篇关于 [Zappos 谢家华的文章](http://tech.qq.com/a/20090802/000013.htm)，里面有一段尤其引人注意：

> 培训的第一个星期，Zappos 称其为“出价”时间，这些新员工将被告知：“如果你今天辞职，我们会按你的工作时间付你薪水，另外我们还提供 1000 美元奖金。”

这个人的招数都奇特，而细想一下这里面的逻辑却又非常精妙，不过我觉得他的胆识真的太出众了。

其实有时候我都想出钱请那些报告软件问题以及功能请求的人自己关掉报告。我指的只是那些琐碎问题和功能，即我不处理不会死人的那种，而堆在我肩上让我时时感到有做不完的工作。只有那些不肯领钱离开的人，我才去投入精力解决他们的问题。
---
title: 卸载系统中所有 Ruby 包
date: '2018-01-02'
slug: remove-all-gems
---

我在多个场合提过或讲过，我放弃著名的静态网站生成工具 Jekyll 的主要原因之一是我已经厌倦了 Ruby 系统的依赖地狱。当年我还在 Ubuntu 里混迹的时候，尤其是烦透了需要 sudo 管理而且藏得很深的软件包。每次装个 Jekyll 都要装一坨依赖，这让我感到很不舒服（总觉得系统中有上次残留的垃圾包）。挣扎了几次之后，我在 [2011 年找到](https://github.com/yihui/ideas/issues/21)一个卸载所有包的命令行：

```bash
gem list | cut -d" " -f1 | xargs sudo gem uninstall -aIx
```

今日想起这事，顺手再写一行卸载 R 包的代码：

```r
remove.packages(.packages(TRUE))
```

当然这个不一定能成功，因为 R 可能会不让你自杀，即：卸载 R 基础包。另外我发现似乎很多人都不知道 `.packages()` 这个函数，所以经常绕道去获取所有包名（比如从 `installed.packages()` 里）；而且我也不理解为什么这个函数要以点开头（表示隐藏对象），可能有是某位核心成员某天随意写出来的函数吧。叫 `list_packages()` 不是很好咩。
---
title: 正面和负面被代表
date: '2018-01-02'
slug: represented
---

有一位程序媛[在推特上励志](https://twitter.com/ashleygodbold/status/948088087686668288)，说她过去一年时间用四种游戏引擎开发了七款视频游戏。我觉得我们都应该恭喜她，度过了充实的一年。

然而第二段就开始外推了：女士们，不要相信那些说女性不能编游戏的鬼话！因为……你阔以哒。然后点赞如潮。

我看了之后想，万一听众里有某位女性真的就不是编程的料、听了这番话吊死在编程这棵树上怎么办。通常人们会大力反对负面被代表，比如啥啥标签的人在啥啥方面能力不行、德性恶劣等，这种话让人一听就会爆炸，但正面、积极的被代表却不会有人去细想。我行、我是女性（或任意标签），所以你也行。

其实写一篇博客详细分享一下游戏开发的经验（可以从女性角度也可以从一般角度）该是多好，让读者看到更多自变量取值，比如拥有计算机科学博士学位、数学教授职称等等，这样才能更好预测自己到底行不行。光靠一个性别变量就能决定行不行啦？

说到底还是我[前年那句话](/cn/2016/12/r-activism/)，硬把一个多元回归问题简化为一元回归，就是歧视的根源。这道理同样可以用在励志鸡汤上，单个因素几乎不可能决定成功。
---
title: 基于 R 做网站/网页的萌芽
date: '2018-01-02'
slug: r-web-sprout
---

在“[Being Busy vs Being Productive](/en/2017/12/busy-vs-productive/)”一文中，我说我经常在做我好几年前想做的事情，这并不浮夸。我考虑事情很慢，从萌芽到付诸实现，中间跨度几年也不是什么稀奇事。论代码能力，我在码农界只能算中等，但若论痛感，我可能会是中等偏上。我对一些事情的痛感非常强烈，比如一般人能忍 LaTeX 和 Word 写作，而我是无论如何都忍不了；多数人可能觉得 WordPress 和 Jekyll 都挺好，能凑合着写网站，我也忍不了；多数人觉得论文投稿需要花时间调整格式太正常了，而我会觉得这特么实在[太不正常了](/en/2017/12/formatting-papers/)，死也要打倒这种无聊的人造障碍（如果期刊一定要逼着作者调格式，我们就[干掉期刊](/en/2012/03/a-really-fast-statistics-journal/)吧）。

当年我写完第一版的 knitr 包不久（嗯，现在大家都知道 knitr 是因为我的 Sweave 痛感太强而诞生的），我就觉得含有 R 代码的网页更新不应该手工维护，得有一个自动化的系统。这些年我做过一些不太成功的尝试，比如 2014 年我的 [knitr-jekyll 库](https://github.com/yihui/blogdown-jekyll)（现在已经更名为 blogdown-jekyll），其实我窃以为已经有点帅了，但我从没公开宣传过，因为我觉得 Jekyll 还是差不少火候。尽管如此，码农们还是慢慢发现了这个库。

我最早系统考虑的一个网站是 UCLA 的 [R 教程网站](https://stats.idre.ucla.edu/r/)，这个网站的历史很悠久了，我自己学 R 的时候还看过这个网站的例子。2012 年[我考虑这事的时候](https://github.com/yihui/ideas/issues/24) Markdown 还不流行，R Markdown 就更不用提了，还没诞生，当年顶多只能用 `.Rhtml` 文件生成网页，现在估计都没人知道什么是 `.Rhtml` 文件了。后来实际上那个网站的维护者确实也是用 `.Rhtml` 文件生成的网页。

手写 HTML 太反人类了，对比一下 HTML 和 Markdown 各自的年龄以及普及程度就知道，HTML 这种东西不大可能在寻常百姓中流行，所以 `.Rhtml` 不会是一条好的出路。2014 年我们开始以 Pandoc 为靠山做 rmarkdown 包。如果我没记错的话，郭巨侠当时认为 R Markdown 是“浮沙筑高塔”，不知这五年多过去之后他如何看待这套生态系统。

这一路上我看见几个著名统计学家都陆续开博客。比如 2014 年初我看见 Matloff 大伯[入驻 WordPress.com](https://matloff.wordpress.com/2014/03/30/new-blog-on-r-statistics-data-science-and-so-on/) 时，我坐在电脑前慨叹：唉，肿么又是一个 WordPress 网站，寄人篱下写代码写公式插图插表都不方便，只恨自己没有八双手能赶紧开发出一套简单又适合技术写作的网站系统。同样的感叹也发生在我看见 [Harrell 老大](http://www.fharrell.com)入驻 blogger.com 时，别介，等我一下啊（更新：在我写完这篇日志过后不到一周时间，他也搬家到 blogdown 世界了）。
---
title: 吃山竹
date: '2018-01-09'
slug: mangosteen
---

几日前接到江堂来信。感觉好像有那么几年没咋联络了，所以略有些意外。文化人写邮件跟普通人写邮件一读就觉得风格不一样，那是相当的清楚、规范。

然后我随意想起大约十年前一件事（这大概也算是“[半夜灯前十年事](/cn/2017/12/night-rain/)”了）。那时候我尚在中国群众大学，江堂的住所离我们群大非常近，有一晚他打电话叫我去他家吃毛豆。吃完毛豆再吃山竹。江堂先吃，用手一捏，咔嚓一下，山竹碎得稀烂，被夫人数落了一番：笨，吃个山竹都不会吃。我后吃，心里有一丝紧张：我要是跟江堂兄一样把它捏碎了，夫人会难堪；我要是没捏碎，江堂会难堪。

踌躇了三秒钟之后，贪生怕死的我像捧着十世单传的婴儿一样捧着山竹，小心翼翼地把山竹皮挤开，拿出里面完整的山竹瓣，让江堂再被骂一遍（你看人家怎么就没弄碎）。
---
title: 社交媒体如何训练我们的渴望
date: '2018-01-12'
slug: craving-exploit
---

在一篇题为《[智能手机在让我们变笨](https://www.theglobeandmail.com/technology/your-smartphone-is-making-you-stupid/article37511900/)》的文章中，我看到一个我以前不知道的利用人性弱点训练用户上瘾的策略：如果有别人点赞，系统故意先不要把所有的赞放出来，而是让你在渴望和等待中一部分一部分看到赞，这样你就会形成每过一会儿就回来看看的习惯（哇，又有五个人点赞了耶，其实人家早就点了只是系统故意不告诉你而已）。

> [...] Matt Mayberry, who works at a California startup called Dopamine Labs, says it's common knowledge in the industry that Instagram exploits this craving by strategically withholding "likes" from certain users. If the photo-sharing app decides you need to use the service more often, it'll show only a fraction of the likes you've received on a given post at first, hoping you'll be disappointed with your haul and check back again in a minute or two. "They're tying in to your greatest insecurities," Mr. Mayberry said.

所以我[以前说](/cn/2017/07/superintelligence/)不理性的人类对抗无理性的机器（算法），是没有胜算的，我们只会沦为机器的奴隶，除非哪天这些所谓的社交媒体良心发现，不要再用这些邪恶手段来把用户锁在自己的虚幻世界中。

有时候我想想今日头条（我从来不看）这种东西到底有什么意义，说白了就是在用空虚填补空虚，每天每时每刻都在填，但永远填不满。光看它的名字我就没兴趣：“今日”头条，意思是明日还有明日的头条，今天天大的事，明天也会成屁大的事。

千龄兮万代，共尽兮何言。看啥子今日，要看就看五百年的头条嘛。
---
title: 无法翻译的括弧
date: '2018-01-13'
slug: not-translatable
---

在读海德沙龙翻译组《[奥巴马医改正在土崩瓦解](https://translations.headsalon.org/post/2016/07/%E5%A5%A5%E5%B7%B4%E9%A9%AC%E5%8C%BB%E6%94%B9%E6%AD%A3%E5%9C%A8%E5%9C%9F%E5%B4%A9%E7%93%A6%E8%A7%A3/)》一文时，我又看到了我[四年前提过](/cn/2014/02/red-tape/)的红胶带这个词组：

> Should UnitedHealthcare act on this threat, there may not be enough (red) tape in the desk drawer of even future President Hillary Clinton to put the Obamacare Humpty Dumpty back together again.

然后我意识到这里的括弧几乎无法翻译。没有括弧时，tape 指的应该是胶带，用来粘起破碎的奥巴马医改（只是我的理解，不一定对）；加上 red 之后，它就不是胶带了，而是政府的官僚政策、规定，而且按它的起源来看，red tape 并不是胶带，而是普通的用来捆文件的红带子。这两个意思实在无法用中文在一句话中同时表达出来，所以我觉得这是一对无法翻译的括弧。

后记：这种带有特定语言属性的东西就跟不可移植的代码类似，在一个环境下可用，换个环境就没法用了。还有一个例子是奥马哈动物园一个广告牌上的活动宣传标题“Rock and Roar”，我觉得也是中文无法翻译的。显然它是谐音“Rock and Roll”（摇滚），但在动物园的背景下，狮子吼（Roar）更切合主题。这如何翻译是好？
---
title: 你说咱跑这么快咱直接拿个锤子砸了直接拿跑就是了
date: '2018-01-15'
slug: brutal-force
---

我经常觉得技术懂的越多，办事越纠结、越慢。无知如我，却偏偏踌躇满志，操起键盘两个星期写完了我盼了四五年的 [TinyTeX](/tinytex/)。一般的项目我不会傲娇，但根据我这约十年来的 LaTeX  踩坑经验，我觉得 TinyTeX 应该是完胜主流 LaTeX 安装包了，官方推荐的 TeX Live、MiKTeX、MacTeX，它们都把事情搞复杂了，都不如 TinyTeX 便利^[对，这说话口吻是学王垠，虽然我并不是很喜欢他。]。尤其是对 R Markdown 用户，可以说 TinyTeX 解决了 99% 的可能遇到的问题，尤其是缺包自动安装这个特性，让苦兮兮的 R 用户再也不用费一点脑子去琢磨。

今日看见我中土大唐的 LaTeX 名家李阿玲[点评](https://zhuanlan.zhihu.com/p/32119213) TinyTeX：

> 如果你仔细读过 `tlmgr` 的文档并且用过 TeX Live的 online installer 的话，所谓 tiny 不过是最小的 scheme。缺包的问题，`tlmgr` 的开发者 Karl Berry 以前讨论过，TeX Live 并不能像 MikTeX 那样即时安装包，这个特性如果想在 TeX Live 里去做的话，涉及到底层诸多数据库，很麻烦的。TeX Live 即便自己装，要控制在 300M 内是很容易的，但这意味着用户要从懒人玩家变成骨灰级玩家。

你瞧，人家三秒钟就看穿了我做的事情。没错，TinyTeX 正是在最简版的 TeX Live 基础上再安装了一些常用包，但我不同意“这意味着用户要从懒人玩家变成骨灰级玩家”。和李阿玲比起来，我的 LaTeX 在幼儿园水平，而她是博士水平，但正是因为我幼儿园，才让我能有勇气并在短时间内做成这事（而不是去单手创 ApTeX 世纪）。我用我的幼儿园水平让更多幼儿园小朋友能用上一款不需要操心的 LaTeX 发行版，他们不需要成为骨灰级玩家，这事情没那么复杂，我把安装过程用脚本全自动化处理就可以了，他们只管一行代码安装，不必管里面是怎样的魔法。

我没读过 Karl Berry 的讨论，内心毫无波澜，甚至连这个名字都不认识，但我知道这几点知识：首先从 LaTeX 编译出错的日志中可以用正则表达式提取缺失的文件名，根据文件名可以从 CTAN 上自动搜索包名，然后 `tlmgr` 可以安装缺失的包。我完全不需要知道 TeX Live 里面到底有多麻烦的数据库，我只需要用这个暴力手段：只要编译出错就去尝试自动搜索并安装包。这便是 R 包 [tinytex](https://github.com/yihui/tinytex) 里面的 `latexmk()` 函数默认做的事情。当然，这个原理也是用户完全不需要关心的，他们只需要在 RStudio 中点击 Knit 按钮，PDF 就会自动出来。如此这般，我们便把 LaTeX 彻底藏在了 R Markdown 的幕后。

从效率上来说，这个编程实现实在低效得令人发指，也不严谨：最初缺包时，可能会重复尝试编译好多遍（如果缺包太多，装一个还缺，再装还缺……^[这是由于坑爹的 LaTeX 无法一次性把所有缺失的文件在错误日志中报齐，只能编一遍出一个。]），但这有什么关系呢？因为这种低效只是一次性的。只要你装过一遍了，下次编译就不需要再装了。就算你第一次编译耗费五分钟时间，第二次编译可能会骤减到五秒钟。对普通用户而言，他最坏的情况是需要等一小会儿，这比自己研究错误日志舒服多了（尤其是在 Linux 上，从缺失文件推导缺失的 Linux 包还要绕更多的弯）。最近[钟浩光](http://www.zhonghaoguang.com)说我是产品型码农而不是技术性码农，这个描述也很符合我对自己的认知。

所以我这种做法就跟《疯狂的石头》中的黄渤一样（自己脑补他的口音）：

> 早知道咱费那劲干嘛，拿锤子把玻璃敲了，抓起翡翠就跑，看谁能追得上？

> 哎你说咱跑这么快，咱直接拿个锤子砸了，直接拿跑就是了，咱还费那劲干甚嘛？

你说咱网速这么快，咱直接提取错误日志中的缺失文件名，直接搜到 LaTeX 包名给用户装上就是了，咱费那劲干嘛。

有人会有疑问：为啥还要费劲自动安装缺失的包？把所有包都装了不就好了。当然，如果嫌硬盘太大的话，装几千个 LaTeX 包也并非不是个办法，这样更加黄渤。我不喜欢这种一锅端下来的解决方案，我估计绝大多数 LaTeX 用户一生用的包也不会超过 CTAN 上十分之一的包。不需要的东西为啥要装上呢？我就没在任何其它社区听说过把库中所有包都装上的解决方案。

- 有人在 R 里面把整个 CRAN 都装上咩？
- 有人在 Python 里把整个 PyPI 都装上咩？
- 有人在 Perl 里把整个 CPAN 都装上咩？
- 有人在  Debian/Ubuntu 里把所有 Debian 包都装上咩？

应该都没有，那为啥 LaTeX 用户就得苦兮兮把整个 CTAN 都装上嘞？如果整个 CTAN 文件大小的数量级在 500 M，那我觉得还可以接受，但好几 G 我觉得就有点过分了。

还有人会有疑问：要是我没有网呢？嗨，瞧您说的，仿佛没网的时候真的就能通古今之变、成一家之言似的。有网的时候你不好好干活儿，在这儿浪费时间看别人的博客，没网的时候你想起来立牌坊、表决心、写论文了^[像查理芒格一样，我直言不讳的胆量应该到了黑带水平，明年今日且看我坟头草几尺高。]。
---
title: 大规模计算试验、深度学习理论
date: '2018-01-16'
slug: donoho-courses
---

Donoho 大人去年秋天在斯坦福开了两门他似乎挺引以为豪的课程，一门是《[大规模计算试验](https://stats285.github.io)》，另一门是《[深度学习理论](https://stats385.github.io)》。所有课程材料（包括课件、甚至是作业）都挂网上了。然而这两个页面在我浏览器里开了快半年，我还才看了两个片子。
---
title: 体能
date: '2018-01-17'
slug: fitness
---

上上周日晚上穿着短袖短裤在屋里待了一会儿，洗了个澡之后站在厨房里一口气切了三个多小时肉，准备再做一批腊肉和香肠（菜刀切钝了两次），结果第二天居然头疼发烧感冒了。这在以前应该是不大可能的，不得不说到了一定年龄之后，体能真的是以肉眼可见的速度在下降。据说《1Q84》里有这么一段话（我没看过这本书）：

> 所谓人生，无非是一个不断丧失的过程。很宝贵的东西，会一个接一个，像梳子豁了齿一样，从你手中滑落。取而代之落入你手中的，全是些不值一提的伪劣品。体能、希望、美梦和理想、信念和意义、或你所爱的人，一样接着一样、一人接着一人，从你身旁悄然消逝。

说起这个钝刀的问题，人生已经如此艰难，有些磨刀石你就不要用了。早年间，我从国内带来了一根金属磨刀棍，从来都没觉得好用过，直到大约两年前在国内买了一把苏泊尔的菜刀，才发现了一款真正好用的磨刀石，也是[苏泊尔的牌子](http://item.jd.com/1172634258.html)。我不是六神磊磊，没人给我钱打广告，我是真的觉得这双口磨刀器挺好用的，把刀放在粗磨和精磨口里分别划拉几下，就变得很锋利了，吹发可断，斩肉如泥。通体舒畅。
---
title: 一例逻辑异或比较
date: '2018-01-18'
slug: logical-xor
---

昨天在审阅谭显英壮士提交的[一个重要 DT 合并请求](https://github.com/rstudio/DT/pull/481/files)中的 JS 代码时，注意到这样一个 `if` 语句：

```js
if ((flagSel && !flagRowSel) || (!flagSel && flagRowSel)) {
  ...
}
```

好家伙，这是传说中的[圆环套圆环娱乐城](https://zh.wikipedia.org/wiki/%E4%B8%80%E4%B8%AA%E9%A6%92%E5%A4%B4%E5%BC%95%E5%8F%91%E7%9A%84%E8%A1%80%E6%A1%88)咩。每当涉及到两个逻辑变量的比较操作时，我都会在纸上画一个表格，来看清楚到底在比什么。比如上例何时会是 `true`：

\       | flagRowSel | true | false
:------:|:----------:|:----:|:----:
**flagSel** | **true**   |  x   |  √
 | **false**  |  √   |  x

这样就很清楚了：当 `flagSel` 和 `flagRowSel` 取值不同时，这个逻辑比较的结果便是 `true`。所以我们就可以把圆环套圆环娱乐城的墙拆了，简化为：

```js
if (flagSel !== flagRowSel) {
  ...
}
```

说白了，这就是一个异或（XOR）的比较，而异或说白了其实也就是看两个逻辑变量是否相异（必须一个 `true` 一个 `false` 才能得到 `true`）。由于逻辑变量的特殊性，取值的可能性只有两个，那进一步简化就是：

```js
function XOR(a, b) {
  return a !== b;
}
```

[最终我用的](https://github.com/rstudio/DT/commit/b5a735e9b3910798b99e8e4766d2004e7655a94a)是 `if (flagSel === flagRowSel)`，这里我事先把 `flagRowSel` 的取值反过来了，以使得它跟 `flagSel` 的意思相同，都代表 DT 表格中的一行是否没有被选中。感觉这样更通顺一些。

写代码跟说话一样，要是一串逆否条件，人就很容易晕掉。比如这样的表白神句：你是不是不承认你并不是没有喜欢我？

- 是？那你就是喜欢我喽！
- 不是？那你就是喜欢我喽！

战无不胜。
---
title: 师弟
date: '2018-01-20'
slug: master-apprentice
---

火影配乐中有一首名字很奇怪的曲子，叫《[呜呼、师弟爱](http://music.163.com/#/m/song?id=784442)》（增田俊郎）。我很清楚地记得它在鸣人与佐助的第一次终结谷之战后出现过（大概是在《泪雨的结局》附近），强力的贝斯在当时的环境里结合漫天大雨营造了如泣如诉的百般离愁，于是我的记忆把这首曲子跟这两人联系在一起了，所以我奇怪了很久，什么叫师弟爱、谁是谁的师弟。

万能的网易云音乐评论让我知道了原来师弟的意思是指师傅与徒弟，也就是凯 sensei 与小李。我完全不记得这曲子在一百集左右出现过了。嗨，为啥不叫“师徒情”呢；这“师弟爱”也太让人费解了。日语里把师徒称为师弟么。

这种后知后觉的曲子还有《宁次之死》，也就是基调与《三代目的葬礼》相同的那首曲子。宁次真正的死是在第四次忍界大战，应该是已经到了四五百集，我一点也不记得当时有这么一首配乐，所以我很奇怪为什么叫《宁次之死》。后来才意识到，它很早就出现过，也就是在宁次与鸣人一行五人去追投奔大蛇丸的佐助时（一百来集附近），对抗鬼童丸差点丧命；在那片羽毛缓缓飘落时，出现了这首配乐。
---
title: 金融衍生品
date: '2018-01-22'
slug: derivatives
---

《穷查理宝典》的最后一章名为《“贪无厌”“高财技”“黑心肠”和“脑残国”的悲剧》，查理芒格用讲故事的方式描述了次贷危机，最后他引用了凯恩斯的一句话：

> 当一个国家的资本发展成为赌场式操作的副产品时，结果可能会很糟糕。

我曾经说过[我比较排斥金融业](/cn/2017/02/shame/)。当我看到这句话的时候，我感觉它是对我的想法的更精炼的概括。对，我排斥的不是金融业本身，我排斥的是它至少表面上造成了鼓励赌博的后果。这跟芒格大力反对工伤赔偿制度是类似的想法：芒格讲因为工伤赔偿制度吸引了太多骗子进来领赔偿金、榨干了公司，让大家都没饭吃，还不如就一律不赔偿、让少数真正工伤的人穷困潦倒悲惨一生。这话听起来很狠毒，但我觉得肯定不是因为他没有同情心，只是两害相权总得选一样。

我并不了解金融衍生品（本科学金融学讲过，[老师](https://baike.baidu.com/item/%E5%BA%84%E6%AF%93%E6%95%8F)看起来也很聪明伶俐的样子，但我实在对这门学问提不起兴趣），近日读了一篇小文《[衍生品致死](https://www.damninteresting.com/death-by-derivatives/)》，遂想起芒格对衍生品的吐槽。这篇小文描述的是衍生品在芝加哥的始祖（期权），可以说在诞生之日，它就带着赌博性质，并且强烈诱惑人去欺诈（虚假信息可以带来暴利）。我相信现今衍生品监管力度肯定会大得多，应该不会存在当年那样赤裸裸的操纵行为，但只要这套系统在本质上存在赌博和欺诈的诱惑，就一定会有人前赴后继钻空子。人性的弱点永远存在，人的心理进化速度太慢，而衍生品会不断进化、变异，所以一定会有人一再上当。

你可以说任何领域都存在欺诈的诱惑，但我觉得金融业的特殊之处是它可以通灵出超大规模金额的欺诈兽，当一群人被绑在巨大的利益上时，大家就都没了退路，可能连监管机构都被搅和进去了，到最后背锅的却是广大吃瓜群众。

貌似这是我第三次感慨人脑弱爆了：[第一次](/cn/2017/05/wechat/)是说社交媒体带来信息爆炸、而人脑并没有快速进化到能处理这么多信息的程度，[第二次](/cn/2017/07/superintelligence/)是说人工智能一旦侵入人的精神领域并且作恶的话，我相信人类必败。
---
title: 来九十篇
date: '2018-02-01'
slug: ninety-posts
---

每当我停止更新博客一段时间之后，就总会有客官通过各种渠道问，你咋不写了。比如热心的客官甚至在统计之都微信公众号下留言，还有一些客官去我的英文博客下问。

呐，感谢各位的关注。过去这半年多，我主要在发布英文博客，因为我的英文博客已经丢下两年多了。至于为什么丢下这么久，主要是拖延症惹的祸，以后我会详细解释。

今日出门去圣地亚哥参加 RStudio 大会，在机场嘈杂的环境里无所事事，于是索性把我这半年多的九十篇中文日志都推 Github。所以各位现在知道，不是我没写，只是我没发而已：我开车的节奏比较随意，我的博客的主要功用是供自己思考。

在去年《[COS 侠](/cn/2016/12/coser/)》一文中，我曾经说对普通人来说，如果一件事不能靠质量取胜的话，那么不妨靠数量硬撑，因为数量相对容易一些。这九十篇只是一个开头，我还有两百来条读书笔记没有整理。等我把我目前脑子里计划写的写完，估计又是半年过去了。

望周知。
---
title: 社交媒体与抑郁
date: '2018-02-09'
slug: social-media-depression
---

有一位圣地亚哥州立大学心理学教授基于数据分析称《[青少年心理健康恶化的原因可能是社交媒体](https://theconversation.com/with-teen-mental-health-deteriorating-over-five-years-theres-a-likely-culprit-86996)》。在这篇文章发表的同一天，牛津大学的一位心理学家[驳斥了她的结论](https://medium.com/@OrbenAmy/social-media-and-suicide-a-critical-appraisal-f95e0bbd4660)，并在几个月前写了一篇文章称《[社交媒体不像吸毒](https://theconversation.com/social-media-is-nothing-like-drugs-despite-all-the-horror-stories-79382)》。

我认同这位牛津心理学家对圣地亚哥心理学教授的数据分析的反驳，我认为这是很标准的科学研究范式，值得学习；即使主观看法再强烈，也不要强行用数据来确认自己的成见。社交媒体是否导致青少年抑郁（以及自杀倾向），从这个反驳中来看，似乎数据并不能很好支持。然而我仍然相信社交媒体的负面作用大于正面作用，我觉得这件事从上述数据中很难得到结论，原因是受访学生对自身精神状况的评估可能严重有偏，根本原因在于社交媒体的成瘾性。那些成瘾的青少年可能觉得在社交媒体里玩得很快活，反而觉得社交媒体有助于改善他们的心理状况。要是调查一下吸毒者，他们十之八九也会觉得毒品让自己很快活。

那我们应该收集怎样的数据呢？我觉得应该收集一些更客观的指标，例如睡眠时间和质量、作业时长和质量、看书时长（不一定是纸书，主要是测量注意力集中的能力）、以及对外部社会有积极意义的行为的次数、时间等（如志愿者活动）。这样来看孩子们是否在沦为离开手机屏幕就活不了的废柴；就算他们现在自己说自己玩得很嗨，那也可能只是很嗨的废柴，等到这个社会需要他们干正事、或者他们自己到了需要养活自己的时候，就会意识到戒除这个社交媒体瘾的痛苦，毕竟社交媒体不能吃，最终还得靠自己的劳动创造价值之后才能吃饭，而劳动通常不会有什么快感或新鲜感，真正的抑郁恐怕要到那个时候才会出现。
---
title: Cohen's d
date: '2018-02-12'
slug: cohen-s-d
from_Rmd: yes
---

蔡锐（真 · 师弟）在审稿时[碰到一个新术语](https://github.com/cosname/cosx.org/pull/702#discussion_r166810024)，Cohen's d。他母鸡这是个什么东东；作为名牌大学的统计系博士生，他问了身边的其他博士生，也没什么人知道。我感觉这件事说明两个可能性（至于哪个可能性更大，我不知道）：

1. 这概念压根儿没什么卵用；

1. 现今的统计博士生研究的东西太专了；

在下不才，早年间因为跟心理学研究者打交道的关系，对这个概念略有耳闻，但如今也忘了它的定义，于是再翻了一下[维基百科](https://en.wikipedia.org/wiki/Effect_size#Cohen's_d)。它就是两样本均值之差除以（合并的）标准差。看起来与 t 统计量类似，区别只是后者除的是标准误，差一个样本量的平方根。

这都不是我想说的重点。重点是维基百科页面上那个该死的用来说明 d 的大小的表格，比如 d 为 0.01 表示“非常小”，d 为 0.2 表示“小”，等等。我觉得这种看起来像权威指导原则的表格一方面是一种统计方法入侵其它学科的最佳工具，另一方面也是它作茧自缚的开端。看看 P 值的下场就知道：很多人大概只记住了一样东西，就是 0.05，至于为什么是 0.05 以及是谁脑子一抽抽想出来的 0.05，管那么多干啥。Cohen's d 没有像 P 值一样被广大群众吐槽，只不过是它没广泛流行起来罢了（跟[胡林翼死太早](/cn/2018/01/eight-legged-essay/)是一个道理）。

那吃瓜群众可能要起哄了：你行你上啊！

我觉着吧，何必定死那几个数字呢。给几幅图，d 是大是小，应用者自己看着办。比如在配对 t 检验中，我们完全可以给出与特定 d 值对应的概率（五条虚线标出的是维基页面上那个表格里的数字）：


```r
n = 30  # 样本量（只是一个例子）
x = seq(0, 12, 0.01)
par(mar = c(4, 4, 0.2, 0.1))
plot(x/sqrt(n), 2 * (1 - pt(x, n - 1)), xlab = "d = t / sqrt(n)", 
  type = "l", panel.first = grid())
abline(v = c(0.01, 0.2, 0.5, 0.8, 1.2, 2), lty = 2)
```

![Cohen d 取值大小的概率（比一个阈值更大的概率）](https://assets.yihui.org/figures/cn/2018-02-12-cohen-s-d/cohen-t-1.png)

这条线会随着样本量不同而左右收放。我觉得这样一幅笑而不语的图比那个看起来神圣的表格客观得多，但显然，不会有人愿意看这幅图的，因为需要动脑子啊：比如万一碰上个概率 0.057 神马的，它到底算大还是小呢，好纠结哦；无法引用 Cohen 和 Sawilowsky 大人指定的标准，万一审稿人质疑起来，心里会好怕怕。
---
title: 我们能为新生儿操碎多少心
date: '2018-02-20'
slug: parenting
---

上回说到[我们为这个世界能操碎多少心](/cn/2017/10/media-emotion/)，今日又看见一篇[关于新生儿的文章](https://www.theguardian.com/news/2018/jan/16/baby-advice-books-industry-attachment-parenting)，说的是育儿砖家如何忽悠我们；有些讽刺意味，偶尔甚至有点搞笑。首先是评论为什么家长们在明明累得要死的情况下还有精力在网络论坛上打口水仗、争论如何带婴儿（要不要让婴儿一直自己哭到睡着）：

> But such mysteries begin to disperse when you realise that baby advice isn't only, or perhaps even mainly, about raising children. Rather, it is a vehicle for the yearning -- surely not unique to parents -- that if we could only track down the correct information and apply the best techniques, it might be possible to bring the terrifying unpredictability of the world under control, and make life go right. It's too late for us adults, of course. But a brand-new baby makes it possible to believe in the fantasy once more. Baby manuals seem to offer all the promise of self-help books, minus the challenges posed by the frustratingly intransigent obstacle of your existing self.

这个见解比较深刻：那些人生充满失败的大人总是幻想自己的下一代不要再失败，所以当他们面对一张全新的画布时，就会踌躇满志，心想这次我一定要用我的努力、砖家的智慧、和最好的颜料画出一个完美的超人。对我自己而言，我这辈子最幸运的事大概就是我没有出生在这样一个家庭里，没有人曾强行塑造我；即便是我长大后，在我的整个求学期间也没有老师或导师曾强行塑造我。

其次是由于没有任何人能记得自己还是婴儿时的状况（什么想法、什么感受），他们自己又无法表达，所以我们无法得知到底哪种办法真的对婴儿好。这可能会是人类永远无法解开的谜。

文中提到一个叫 Frans Plooij 的砖家，号称婴儿有所谓的确定的十步成长流程：长这么大会做什么，再长那么大又会做什么。然而伊的学生在试验中无法重现这十步，伊便试图阻止她发表这篇论文（最终还是发表了）。所以你看看某些砖家们关心的到底是你家娃怎么成长，还是伊自己的地位和利益。然而那些被剥夺睡眠、精疲力尽、毫无经验的新父母看到这样的砖家指导能不像抓救命稻草吗？哎呀，我的娃六个月了，砖家说他该学会坐了；我的娃九个月了，砖家说他该学会摆放物品了。他咋还不会呢。愁死了哦。这种焦虑会导致新父母看更多所谓的教程，学更多的规则，结果是更加焦虑。

关于睡觉训练，作者举了自己的儿子的例子：她做好了各种准备开始严酷训练他的睡眠，结果这位小主轻轻哭了四分钟，然后睡了十个小时，醒来欢乐无比。这可是吓死妈妈了，因为没有任何一本育儿书上说会有这样的结局。所以娃与娃之间的差异太大，这不是哪个砖家一个人能决定的。话说当年我试图训练我家小主时，半夜里他跟我相顾无言、一口气给我哭了大约一百分钟，第二天我感到很是过意不去；几天压力测试之后我就放弃了，还是老老实实夜里喂奶侍寝吧。

文中还提到一百年前的育儿砖家说要经常把婴儿裹在黄油或猪油里、睡觉时要朝着正北睡、孕妇不能在脑子里想到坏人（否则会导致胎儿畸形）、婴儿长牙时可以给喝威士忌或吗啡止痛。尽管现在是二十一世纪，但谁知道我们现在的砖家意见再过一百年会不会一样荒谬。

由于家长的无限焦虑，育儿经中越来越多鸡毛蒜皮的规则，如婴儿最多能哭几分钟、安抚奶嘴的形状如何影响牙齿生长、塑料中的化学成分如何影响他们一生的健康，等等。

现代社会里找不到答案，就去委内瑞拉的丛林里的土著人里找。有砖家惊异地发现那里的妈妈们一天到晚都把娃挂在身上，然后娃娃们惊人地乖巧，不哭不闹。于是她回到现代社会写了一本畅销的育儿书，推崇妈妈们要把娃娃们随时挂身上、随时呵护。然而又有砖家在巴西的某丛林中找到有同样育儿行为的土著人，他们的小孩并不那么乖。不管哪种方法，总能在带有相应偏见的人群中畅销：有些人就是宠孩子或者极度关心孩子，有些就是不宠；显然，我说的这两类人分别是妈（以及爷爷奶奶外公外婆、七大姑八大姨）和爹。

作者问：在当今这铺天盖地的育儿经出版之前，过去的那些人都是怎么长大的？如果育儿有什么独特的法门，那些不知道法门的父母是不是都养出了悲惨无比的孩子？

作者最后总结：育儿也许真的有一条真理之路，但问题是你永远也找不到它。

嗬，这文章看了半天不白看了吗。所以到底是不是育儿砖家在消费我们的焦虑呢？
---
title: reticulate 包的命名
date: '2018-02-22'
slug: reticulate-naming
---

书接《[命名](/cn/2017/07/naming/)》。去年当 JJ 壮怀激烈撸起袖子开发 [reticulate](https://github.com/rstudio/reticulate) 包时，他最早给这个包起名为 python，因为这是一个 R 与 Python 之间的接口包。我看见之后立刻大力反对这个命名，我只跟他讲了一个理由：你就想一下你将来去一个会议上宣讲这个牛哄哄的包时，你会如何介绍它。

> 亲爱的听众朋友们，下面我给大家介绍我们最新的一个有超级牛力的 R 包，它是 R 与 Python 之间的接口。这个 R 包的名字叫 python。嗯，啊，python 是 R 与 Python 之间的接口。呃，python 可以开启一个 Python 进程，并将 R 对象与 Python 对象互相转换。

那么接下来英语听力八级试题来了：

> 请问上述会话中，作为计算机语言的 Python 出现了几次、作为 R 包的 python 出现了几次？

他听了二话没说，抄起键盘就把这个包名改了。
---
title: 道德的边界
date: '2018-02-24'
slug: omelas
---

依含大人发了一篇她五六年前的老书评《[那些离开 Omelas 的人们](https://yihanxu.github.io/walk-away-from-Omelas/)》，不幸又一次命中我脑中不敢深想的[那个话题](/cn/2017/02/shame/)。世间如此多的苦难、有些人活得[如此艰难](https://weibo.com/3305085281/G20fg7VOh)；如果是真要去想，可能我们每吃一顿饱饭，都是朱门酒肉臭。
---
title: 忘记了如何阅读
date: '2018-02-26'
slug: forgotten-how-to-read
---

黑客新闻几乎每周都会推送一两篇反映这个时代人们注意力分散的文章，这也是我的博客话题的来源之一；本周是一篇小文《[我已忘了如何阅读](https://www.theglobeandmail.com/opinion/i-have-forgotten-how-toread/article37921379/)》。

里面提到一个小娃娃拿着 iPad 看视频，可以持续看下去，因为有无穷多的视频可以看。这让我想起我小时候的电视：那时候没有小孩不喜欢看电视，但有相当长的时间我家没有电视，只能蹭在邻居家看；后来有了个黑白电视机，但总是坏，看着看着就变成我们戏称的《雪花神剑》了，也就是满屏麻点；我至今还记得有一次放《陆小凤传奇》，我只能把电视机当收音机听听过个瘾。那时用室外天线，偶尔一阵风吹过把天线吹歪，还得派人出门去转天线，外面的人一边转一边问屋里的人有图像了没。后来终于买了个彩色电视机，兴奋了好久。

那时视频信息太稀缺；虽然一部电视剧要播好久，还会碰上停电漏几集（最好的情况是很久后从当时没停电的邻村人嘴里听来漏掉的剧情），大风车节目一周才能等到一次，但同时也有很强的满足感。同样，书籍也是稀缺资源；我记得江堂在某一篇日志中（翻了一下，没找到是哪篇）曾提到他小时候凡是捡到一张带字的纸片都要好好读一读，这跟我类似，我去别人家，也是把高年级的语文课本、旧报纸什么的都翻出来，只要有字，就窝在那儿看半天。那时候农村茅坑上的手纸经常是自家孩子的旧课本，所以我在亲戚家蹲坑时也常会看到腿发麻。以前[曾提过](/cn/2011/05/i-hate-exams/)我从一个收旧书的大爷车筐里偷来的《金银岛》，极大满足了小时候的想象。

现在资源不仅不稀缺，反倒是过剩了，所以不再有小时候的那种强烈渴望和满足。是不是像 Marshall McLuhan 说的，每一种新技术都带着麻醉我们知觉的可能？
---
title: 自我标签
date: '2018-03-05'
slug: identity
---

Paul Graham 在 2009 年写了一篇小文章《[Keep Your Identity Small ](http://www.paulgraham.com/identity.html)》，对我很有启发意义。不过我在写这篇日志时，倒是费了不少脑子想如何翻译“identity”这个词——它似乎[又是](/cn/2018/01/not-translatable/)一个无法翻译成中文的词（像 GIT 里面的 [fork](/cn/2012/06/quick-notes/) 一样）。确切的说是可以翻译，但没有一个现成的词可用，只能用短语描述；它的意思是自我认同的一种身份、特征、归属感。换句话说，是自己给自己贴的一个标签，所以我暂且译为“自我标签”罢了。

Graham 说任何论坛上宗教话题最后几乎一定会沦为宗教口水战，政治话题也一样。其原因是多数这些问题都没有确定的答案，而且参与的门槛又低，人人都是“专家”。反正是发表意见嘛，意见总是便宜量又足；换个略有门槛的话题，比如谈谈 JavaScript，虽说也可能沦为工具、语言圣战，但沦陷的速度应该不及宗教和政治。

更深刻的原因是宗教和政治是很多人自己的标签：我归属什么教、什么党派。一旦有别人触犯了这个自我标签，当事人就一定会不遗余力去斗争。

他说如果这个理论是对的，那么它不仅可以指导我们避免什么样的讨论，也可以让我们可以有更丰富的想法。把自己从标签中解放出来，会看到更广阔的世界。讨论时，要看对方在捍卫标签，还是在陈述事实。作决策时，不要用标签指导自己的选择。

我在 [2014 年末读书笔记](/cn/2014/12/the-gadfly/)中曾经提到过《静静的顿河》，这是一部对我影响很大（可能是最大）的小说，其实它也表达了类似的观点：人的一生纯粹只是为了不同的标签而战，是愚蠢的行为。
---
title: 活着的意义
date: '2018-03-05'
slug: ikigai
---

日本文化中有一个概念叫 Ikigai，指的似乎是活着的意义。喜欢画维恩图的西方人为了说明这个概念，[画了四个圈圈](https://www.weforum.org/agenda/2017/08/is-this-japanese-concept-the-secret-to-a-long-life/)，不过这四个圈圈看起来有点意思。

![Ikigai](https://assets.weforum.org/editor/tyvToPYsyaZXtaFiUISw-P6abde6j84YSh5o3tXq81c.jpg)

你喜欢的、你擅长的、你用来糊口的、社会需要的这四方面的交集就是你活着的意义。
---
title: 完美主义
date: '2018-03-05'
slug: perfectionism
---

BBC 上发表了一篇关于[完美主义之危险](http://www.bbc.com/future/story/20180219-toxic-perfectionism-is-on-the-rise)的文章，其中的观点让我颇有共鸣，因为我曾经也是完美主义的受害者，直到近两年才开始有意识地和它对抗。文中说完美主义在一代代人中有扩张的趋势，并逐渐成为一个公共（精神）卫生问题。

如果什么时候我能抽出一周时间，我很想总结一下达里奥的《原则》这本书（上周我刚看完）。其中比较触动我的是他对犯错的态度：人通常都不愿意直面自己的错误，有本能的逃避心理。完美主义者更是如此，会对错误感到羞耻。达里奥会把错误记录下来，最终总结为书面原则（或计算机可执行的算法），为了将来不再犯同样的错。他说成功的人会珍惜每一次犯错的机会，而失败的人只会一味逃避。

完美与优秀是截然不同的概念。优秀是追求高标准，而完美是不切实际的高标准，每一次失败、挫折、甚至是一点小瑕疵对完美主义者来说都是心理打击。因为完美主义者经不起打击，所以他们会抓住一切机会追求完美，比如玩命工作、妄想用比常人长得多的工作时间来把一件事做得更完美。这是饮鸩止渴。

是什么导致了完美主义？作者认为是市场。因为我们的工作被市场定价，而我们通常也会追求更好的生活品质（好吃好穿好车好房），所以我们会追求更高的定价，会尽更大的努力去和别人竞争。这种人生中后期的定价的影响会波及我们的下一代，比如虎爸虎妈们会更严格要求自己的子女在考试中取得好成绩、培养各种乐器或运动特长，好让他们将来在市场上能得到更高的定价。如果小朋友们因为做不好而被批评，那么这会加强他们的完美主义倾向，并造成很大的心理负担、害怕犯错。

另一个导火索是社交媒体：它加速了信息流动，也就顺带加速了失败信息的流动。如果你失败或犯错了，这些失败和错误可能会被社交媒体放大，让你感到更强烈的羞耻。其实是想多了：嗨，你算哪根葱、你犯个错谁会在乎呀。

在前面《[软件之死](/cn/2016/12/software-death/)》中，我提到了我的 25 项 Github 事项强迫症，其实也是完美主义倾向：我不想看到我自己写的软件有那么多问题。现在我也懒得管了，实在管不过来，爱多少项多少项吧；每天我看一眼，简单、重要的就处理一下，剩下的烂在那里算了，臣妾做不到，实在做不到。看人家魔王何通早就想明白了，Github 小蓝点后面的未读消息有两三千条，比我可是多多了，我一般只有几条。
---
title: 一次历史 R 版本命名
date: '2018-03-07'
slug: r-version-revised
---

[继续](/cn/2018/02/reticulate-naming/)书接《[命名](/cn/2017/07/naming/)》，说一件两年前的旧事。如果客官们看一眼 [R 3.x 版本的历史存档](https://cran.rstudio.com/src/base/R-3/)，很快就会发现有什么奇怪的东西混进来了：

![R 3.x 版本](https://db.yihui.org/images/r-versions.png)

2016 年 3 月 10 日 R 核心团队发布了 R 3.2.4，16 日立刻又发布了 R 3.2.4-revised。好呀么一个 revised。这又是一例“只是欢喜随意而至”的“废话命名”：我们当然知道是修改过的（revised），否则何必发一个新版本呢。命名时用废话是人的本能，因为人都不愿意动脑筋。生活中我们不会给自家的猫取名叫猫，或给狗取名叫狗。涉及到计算机里的命名时，我们便喜欢给猫命名为猫、狗命名为狗、新版本叫啥啥-revised。于是乎，我们的博士论文文件的最终版通常是“[某某论文最终版-修改1-审稿人修改2-导师再修改3-真的是最终版-这次是真心最终版-修改7-去踏马的鬼博士论文老子不干了.pdf](http://phdcomics.com/comics/archive.php?comicid=1531)”。

版本命名里用一个单词 revised 还有一个坏处，就是软件依赖问题。通常软件依赖会设定版本，例如 `>= 3.0.1`，纯数字的版本号可以比较大小，但如果混进来一个英文单词，叫下游软件包们如何依赖这个包呢。轻松而随意地破了多少年约定俗成的规矩，也许会给别人制造麻烦。
---
title: SAS 药丸？
date: '2018-03-07'
slug: sas
---

有好事者[觉得 SAS 药丸](https://thomaswdinsmore.com/2018/03/07/sas-is-on-the-brink-of-something/)。R 和 Python 以及其它开源软件的冲击力太大，至少在机器学习领域，它会不会赶不上这趟车了呢？新生代里学 SAS 的学生越来越少，后继无人。

会不会完呢？当然，（很）长远来说，多数软件都会完，包括 R 和 Python。我们如今坚定信仰的软件多数最终都会完，每次人类觉得什么东西牛上天、不可取代的时候，过些年总是会被取代，就看是过多少年了。

过了一天，有人[出来反驳](http://www.zdnet.com/article/sas-is-on-the-brink-of-generation-change/)那位好事者。反正大家都是偏见，让时间检验谁更偏吧。
---
title: 葬爱
date: '2018-03-13'
slug: bury-love
---

在《民国语文》上看到伏尔泰的短篇小说《畸人》（周瘦鹃译），到最后发现了可能是最早的葬爱（比黛玉葬花应该早那么几年），只不过不是那么杀马特：

> ……这一件事人家哪里想到，这个被妻抛弃的可怜人并不把死尸装入箱中，却是葬他爱情上的一片幻影。那些殉葬的物品，就都是引起妇人虚荣的成绩品。他要见玫瑰花和死的枯叶着在那秘密的坟墓上，就能见人生在世，寿命很短，和这花一样。他再要见雪盖上去，就是要掩盖住以前一切罪恶，渐渐淡忘。唉，他到底是个畸人！

说来也怪，现在网上似乎一点也找不到这篇小说的踪迹。
---
title: 趣味化学
date: '2018-03-13'
slug: chemistry
---

去年看了几本化学科普读物，包括叶永烈的《趣味化学》。这种书要是放在初、高中时代，我肯定会手不释卷。高中的时候我在那有限开门时间的图书馆借了不少化学书，还抄了很多方程式，成天琢磨就家里那点儿醋和洗衣粉以及从学校实验室偷来的金属钠、烧碱、硫酸铜能发生点什么新奇反应；然而并不会有，材料种类太少，主要是没酸，而偷酸太不容易，因为酸都是液体，而碱可以是固体，拿纸一包揣兜里就带出来了。这一箩筐[十五六年前的旧事](/cn/2018/12/craving/)要写起来会没完。闲话少说，言归正传。

讲到道尔顿发现倍比定律：

> 道尔顿是一个慎重、谨严的科学家，他在当时不愿意马上公开发表自己的定律，也是有原因的——他感到有关的实验自己做得不多。

嗬，果真严谨。这么一条重大规律，竟能忍着先多做一些实验进一步确认。

我因为这本书头一次听说[贝采里乌斯](https://zh.wikipedia.org/wiki/%E6%B0%B8%E6%96%AF%C2%B7%E8%B4%9D%E9%87%87%E5%88%A9%E4%B9%8C%E6%96%AF)这个名字（书中用的是柏济力阿斯），当然，更可能是以前学过但我全然忘了。他教训维勒要整齐摆放器材：

> 科学研究，必须有条不紊地进行。养成良好的工作习惯，将会使你随时随刻可以拿到你所需要的东西，使你节省了时间。

我也深感秩序的重要性，所以我不喜欢任何形式的混乱，包括物品的混乱、讨论问题的混乱（无限插队、跑题等）、思想的混乱、代码的混乱、文档的混乱等。

后人整理贝采里乌斯的信件，发现他共计收到 7150 封信，寄出 3250 封信。他得庆幸那个时代没有电子邮件和互联网。写信的形式慢，但慢有慢的好处，比如不会有人随手给你发一封只有一段话的邮件。

> 柏济力阿斯曾尖锐地批评了当时英国著名的化学家戴维，指出他在《化学哲学原理》一书中常常使用“about”（大约）一词。柏济力阿斯以为，化学需要精确，必须杜绝含其词的
“about”。他说，“正是这个词，使得这位颇负盛名的科学家测定的数据不准确”！

其实我在说话和写文字时也有使用模糊词的习惯，我最常用的模糊词就是“可能”（中英文中都有这个习惯），这个习惯我早注意到了，不过改起来会比较难，因为不是简单把这个词去掉就完事了。如果用确定的词汇，那么就得对说的话负全责。潜意识中，我是为了偷懒不去验证我说的话的真实性，才经常用“可能”的。

贝采里乌斯错过了元素钌的发现：他 18 年前就差点发现了它，后来被另一位后辈发现，但他一直不承认，最终他意识到自己错了，对这位后辈说了如下的话。

> 请接受我对您的卓越的发现的衷心祝贺！我赞赏您精制而得的新元素钌的样品。

> 由于这些发现，您的名字将不可磨灭地与在化学史上。

> 现时最为流行的作法是：如果谁成功地作出了真正的发现，谁就出姿态，好象根本不需要提到在同一问题上前人的研究和启示，以便不致有哪个前人来与他一起分亨这发现的荣誉。

> 这是一种恶劣的作风。这样的人所追求的目标，终究竟是落空的。

> 您的作法根本不同。您提到奥赞的功绩，推崇这些功绩，甚至沿用了他提出的命名。是一种高尚而诚实的行为，您永远在我心目中引起最真诚而深刻的敬意和衷心的同情。我相信，所有善良而正直的朋友也会向您祝贺。

权威认错，实在少见。多少聪明人都绕不过“自我”这道坎。

再看另一个权威，道尔顿。他一直反对贝采里乌斯提出的简单方便的化学元素命名法：

> 不过，道尔顿却坚决反对。他用惯了那些圆圈，看不惯柏济力阿斯新的命名方法。道尔顿至死仍用他的那些圆圈。

这种现象在码农界也一样。每当新软件出来时，总有人抱着旧的低效软件不撒手。

讲到李比希的细心（他本是一个粗心的人）。他观察到：

> （铁棒在颜料锅里）搅的响声越大，柏林蓝的质量就越好。

从而发现在锅里直接加含铁化合物可以轻易提到柏林蓝的质量。再讲李比希的务实（不妨对照想想只顾推数学公式的统计学家），发明了钾肥、磷肥等重要肥料：

> 平心而论，李比希所做的实验，并不太高深，太复杂，要查清庄稼需要“吃”什么并不太难。问题是当时的化学家们瞧不起这样的研究工作，以为没有“理论意义”，而李比希勇于冲破习惯的偏见，让化学为千百万人的穿衣吃饭问题服务。

门捷列夫的格言：

> “什么是天才？终身努力，便成天才。”

这个可以和居里夫妇对照：他们从 1 吨沥青铀矿中提出 0.1 克金属镭。世上有多少事需要很多的聪明才智、奇思妙想呢？多数人没能成为“天才”，止无此狠劲[发死力](/cn/2017/08/shannon/)耳。

---
title: 流感季
date: '2018-03-13'
slug: flu
---

过去这些年，我一般一年最多生病一次，通常是感冒。今年这才三月初，我居然又倒下一次，离[上次感冒](/cn/2018/01/fitness/)才两个月，简直太不正常。先是娃发烧被托儿所遣返回家，没办法我只好带了一周娃，别的啥也没干；第二周刚赶着处理了几天堆积的邮件和 Github 事项，然后自己就感冒了，于是又荒废了一周。

我这本来是在写我的第四本书，计划了十章，野心勃勃打算一个星期写一章，希望三个月拿下它，然而这半个月里一字都没能再写出来。计划实在赶不上变化；身板扛不住，啥都干不成。虽然已经基本康复，但还是垂头丧气干脆写几篇日志休息一下算了。

噫。
---
title: 人生有何意义
date: '2018-03-13'
slug: meaning-of-life
---

去年看了胡适的《人生有何意义》，现提取几条笔记。我未必全盘认同，但摘出来的是我觉得有启发的（尤其是要结合时代背景去看待）。

## 《为什么读书》

他鼓励读者去读外文书，因为中文里对于改进道德增进智识的书实在少之又少，经史子集都是杂货铺。

> 中国书不够读，我们要另开生路，辟殖民地，这条生路，就是每一个少年人必须至少要精通一种外国文字。读外国语要读到有乐而无苦，能做到这地步，书中便有无穷乐趣。

## 《爱国运动与求学》

爱国还得自身硬，这个我在[前面](/cn/2017/08/political-correct-diversity/)已经引用过。

> 易卜生说得好：真正的个人主义在于把你自己这块材料铸造成个东西。

> ……救国千万事，何一不当为？而吾性所适，仅有一二宜。认清了你“性之所近，而力之所能勉”的方向，努力求发展，这便是你对国家应尽的责任，这便是你的救国事业的预备工夫。国家的纷扰，外间的刺激，只应该增加你求学的热心与兴趣，而不应该引诱你跟着大家去呐喊，呐喊救不了国家。即使呐喊也算是救国运动的一部分，你也不可忘记你的事业有比呐喊重要十倍百倍的。你的事业是要把你自己造成一个有眼光有能力的人才。

## 《再论信心与反省》

谈到中国传统文化中的“仁爱”，以《华严经》中的“净行品”为例：和尚大小便时都要发愿不忘众生，这种仁爱有多少实际价值。

> 但是一个和尚的弘愿，究竟能做到多少实际的“仁爱”？回头看看那一心想征服自然的科学救世者，他们发现了一种病菌，制成了一种血清，可以救活无量数的人类，其为“仁爱”岂不是千万倍的伟大？

我七年前[提过](/cn/2011/07/subtle-mind-to-great-waves/)柳智宇以及为陈晓旭诵经的和尚，表达过类似的疑问。当然，讨论宗教问题[容易沦为](/cn/2018/03/identity/)无休止的辩论，所以就此打住。

## 《赠与今年的大学毕业生》

胡适给毕业生的三个建议，以保持求知欲和对理想人生的追求：

1. 总得时时寻一两个值得研究的问题！
1. 总得多发展一点非职业的兴趣。
1. 你总得有一点信心。


## 《领袖人才的来源》

陶渊明送给儿子一个长工，附一封家信，内容读来不禁让人觉得可敬：

> 亦人子也，可善遇之。

谁不是人子呢。所以我生平比较瞧不起那些自以为有身份的人，比如若干年前我随一位师兄进楼，门口保安要例行查证件，他当时就满脸鄙夷，说我没证件，你有本事跟我上来啊。何必。

## 《研究社会问题的方法》

里面专门提到要“综合用统计学的方法”。前卫。

## 《不朽——我的宗教》

哎，我又提到宗教了，但这段话实在太得我心：

> 即如基督教徒说耶稣是上帝的儿子，他的灵魂永远存在，我们正不用驳这种无凭据的神话，只说耶稣的人格、事业和教训都可以不朽，又何必说那些无谓的神话呢？又如孔教会的人到了孔丘的生日，一定要举行祭孔的典礼，还有些人学那“朝山进香”的法子，要赶到曲阜孔林去对孔丘的神灵表示敬意！其实孔丘的不朽全在他的人格与教训，不在他那“在天之灵”。

这跟前面[爱比克泰德](/cn/2017/11/epictetus/)说的不要把信仰挂墙上大概是一个意思。

## 《挑起改造社会的重任》

五四的时候谈为什么他反对学生集体罢课：

1. 这种依赖群众的心理是懦夫的心理
1. 会养成逃学的恶习惯
1. 会养成无意识的行为的恶习惯

谈学生的盲目：

> 现在的学生天天谈“二十一条”，究竟二十一条是什么东西，有几个人说得出吗？

建议：

> 不要专做破坏的攻击，须要用建设的精神

我觉得这些论述不仅在改造社会上有意义，移用到别的领域也一样会很有用。破坏的攻击何其容易，建设的精神何其难，谁愿意挑起真正的改造重任？
---
title: 唯快不破？
date: '2018-03-14'
slug: speed
---

湘云在我[前面一篇日志](/cn/2018/01/remove-all-gems/)下留言说 `list.files(.libPaths())` 比 `.packages(TRUE)` 快。码农界总有比天比地比空气的习俗，比速度更是家常便饭。窃以为在谈速度的时候当考虑下列问题，不要独孤求快：

1. 二者做的是同一件事吗？很多时候速度慢不是因为代码实现太低效，而是要照顾严谨性。看一下 `.packages()` 函数的源代码（并不长）就知道为什么它慢一些了。如果这里的严谨性不是我们需要的（换句话说，你可以承担不严谨的风险），那么你可以解开安全带自由飙车。

1. 快多少？通常码农喜欢看倍数，但倍数只是一方面；另一方面是绝对值。如果一个是 1 毫秒，另一个是 10 毫秒，而且又只需要运行一次，那我觉得不值得操这 9 毫秒的心，9 毫秒连眨一下眼都来不及。当然不只是码农，宣传工具里也常用这个伎俩，比如吃某种食物会让你患癌的概率增加一百倍，这种话听起来让人毛骨悚然（或是反过来，某种食物让某癌症几率降低十倍），但就是不说从多少增加到多少，要是五百亿分之一到五亿分之一，虽是百倍，貌似也没什么值得操心的。

最早的时候我开高速喜欢超速，当然不会超很多，只是比限速多五迈十迈的样子。后来有一天开车的时候一想，限速 70 迈，就算我一路开 80 迈，其实到头来也省不了几分钟时间。就算省这几分钟，下了高速要是路上碰上两个红灯，或者在中途休息站里上个厕所伸个懒腰，这时间马上就回来了。超这 10 迈不仅难以省时间，而且还面临吃罚单的高风险，实在不划算。于是在没什么急事的时候就老老实实开，如果有开的稍快的车超了我（不是飙车的那种），我就跟他屁股后面开一会儿，反正打死不做领头羊。

写代码跟开车一样，不要只求快而不系安全带，也要想想超速究竟能省多少时间。我并不是说一定要时刻系好安全带，我自己很多时候也写不严谨的代码，但我通常已考虑过损失并且认为损失可承受才那样写。
---
title: 第五届靠谱厮奖：谭显英
date: '2018-03-19'
slug: copss-5
---

距上次靠谱厮奖颁奖典礼已经过去大半年。自[上次颁奖](/cn/2017/08/copss-4/)给戚风蛋糕糕主之后，这大半年里连我这种跟烘焙绝缘的人都从不知道什么是戚风蛋糕到会用电饭锅做戚风蛋糕了（虽然基本上每次都会塌陷得惨不忍睹），可见时间如蛋糕下肚，本来看似一大口，但其实蓬蓬松松的，很快就没了。我脑子里有靠谱厮候选者名单，只须等恰当的时机把他们列出来。

过去一周遭遇[一个关于 R Markdown 的极为诡异的八阿哥](https://github.com/rstudio/rmarkdown/issues/1285)（bug），显然它是真实存在的，因为好些人都来汇报了这个问题。而我很是抓狂，因为我在 Windows 下怎么也无法重现这个问题。直到今天早上看见谭显英壮士的[另一个报告](https://github.com/yihui/tinytex/issues/28)，才终于有了头绪，发现它是只能在 RStudio 的 R 控制台中用命令行方式结合 MiKTeX 才能重现的一个问题。我之前之所以不能重现，一方面是我是通过点 Knit 按钮编译的 R Markdown 文档，另一方面是我测试的是 TinyTeX。这两种方式都不能命中这个[奇特的八阿哥](https://github.com/rstudio/rstudio/issues/2446)，必须在安装 MiKTeX 的条件下手敲 `rmarkdown::render()` 才能出错。多亏显英壮士的提示，我才摸清这个问题的底细。最新版本的 rmarkdown 推荐使用 R 包 tinytex 来编译 PDF，tinytex 有超级牛力，但我心里不是很有底气，因为测试的人还不够多，我总觉得还会有什么问题，果然问题就来了。之前 rmarkdown 是尽量让 Pandoc 调用 LaTeX 去编 PDF；如果文档含有参考文献需要用 natbib 或 biblatex 处理，那么再另外单独调用 LaTeX 去编；tinytex 里面编 PDF 的代码其实是从原来的 rmarkdown 中[移植出来的](https://github.com/rstudio/rmarkdown/commit/00318592d5c1)，这个移植过程中作了一些改进，跟原来的代码不完全等价，所以可能会出问题。说到底，就是

```r
system2('pdflatex', 'test.tex', stdout = FALSE)
```

在 RStudio 中会报错。我用 `stdout = FALSE` 的原因是为了隐藏 LaTeX 的冗长日志消息；在我的同事的建议下，我在 Windows 下换成了：

```r
system2('pdflatex', 'test.tex', stdout = tempfile())
```

也就是把标准输出重定向到临时文件中（对标准错误输出 `stderr` 也一样处理）。这样一样可以达成隐藏控制台输出的效果，只是略微低效一丢丢（写空设备比写文件应该快一丢丢）。

这个问题前后已经快有十个人报告，但只有显英一个人找出了关键问题。（谢）子在川上曰：不亦壮士乎？

我今年的前三周时间奉献给了我[丢下两年多的 DT 包](/en/2018/01/back-to-dt/)，主要是扫荡了一大批用户问题，以及修正一些比较容易的八阿哥。在这个艰难的扫荡过程中，我留意到显英大人帮我回答了不少问题，是个热心用户，于是我操起键盘就给他写了一封邀请入坑的邮件。后来他陆续给我带来了[八个补丁](https://github.com/rstudio/DT/pulls?utf8=%E2%9C%93&q=is%3Apr+author%3Ashrektan)，比较重要的是实现了在表格中“[Shift + 点击](https://github.com/rstudio/DT/pull/475)”连续选择的模式；这也是我上次说的[异或问题](/cn/2018/01/logical-xor/)的来源。显英大人的补丁都很清楚，有例子有图（如果是修理八阿哥，则还有修理前后对比图），一目了然，是我比较喜欢的补丁形式：憋说话，看例子看图，然后合并。

借一句苏轼描述韩愈的话：匹夫而为百世师，一言而为天下法。我觉得这位看似普通的靠谱厮应该为天下码农所效法：细心、乐于助人、钻研[极为深入](https://shrektan.com/post/2018/03/18/strings-encodings-in-r/)（极为深入的意思是会钻到一个全世界大概只剩他一个人的前无古人后无来者的地方去，而解决的问题却很重要）。我说我一般不跟没有个人网站的人说话，他二话不说，回去立马卷起袖子就[搭了个网站](https://shrektan.com)。

虽说沧海横流，方显英雄本色，但世上哪儿那么多沧海给你横流，小水沟里一样可以显英。我写软件的原则是只要它对一个人非常有用即可，不必什么软件都要去改变世界；这“一个人”很可能是我自己。在运气好的时候，对一个人有用的软件，也会对很多其他人有用（如果这个人恰好很有代表性）。

我们且看这位靠谱厮何日一搏沧海。

![沧海横流方显你娃儿本色](https://slides.yihui.org/gif/kid-waves.gif)
---
title: 如何促进自己进步
date: '2018-03-20'
slug: making-progress
---

哈佛商业评论上刊登了一篇文章《[小赢的力量](https://hbr.org/2011/05/the-power-of-small-wins)》，点明了一个我十几年前就看清了的人生奥义——所谓的“进展原则”：

> Of all the things that can boost emotions, motivation, and perceptions during a workday, the single most important is _making progress in meaningful work_.

文中讲，对于知识工作者，高压和大棒策略并不能让他们高效产出，只有在内心愉悦、有正能量的条件下才能更高效地产出。正能量源自哪里呢？作者说是在有意义的工作上取得的进展，哪怕是小进展。这里有两个关键词，一是有意义的工作，二是进展。乔帮主挖人问的那个经典问题“你是想在那边一辈子卖糖水还是过来跟我改变世界”，本质就是在描述有意义的工作。

相应地，对管理者来说，如果想要一个机构有更高效的产出，那么就应该从这两方面入手：一是要让员工感到自己的工作的意义；二是管理进展，而不要管理人（管好进展就足够，对下属可尽量放权，只要他们能持续显示进展）。

很多人觉得自己的人生平淡甚至是平庸，应该就是因为没有找到工作的意义，以及没有养成记录进展的习惯。前者我没什么建议，它有一定的运气成分，万一没撞上有意义的工作，只能要么苦苦找寻一个意义，要么换一份工作。后者我有具体的建议，就是把你做的事情写下来。不要只是睡前躺床上想想，一定要写下来；无论大小事，无论是想法还是实践，一律都写下来。[前年我就说过](/cn/2016/12/student-project/)，在一个人没发迹之前，不妨先写一份简历，然后把人生下一阶段的目标定在更新这份简历上，这便是在积累“进展的感觉”，它会给人进步的动力。对码农来说，每天在 Github 上打卡也是一个办法。初期可以为了进展而进展，到了一定程度就会质变，你自然会变得与众不同，能有几个拿得出手的数字。
---
title: Netlify 内容管理系统太厉害了
date: '2018-03-21'
slug: netlify-cms
---

关于 [Netlify 的内容管理系统](https://www.netlifycms.org)（CMS），虽然我早就收到过 Netlify 的邮件，但一直没有细看。直到今天因为工作需要，花了大约半个小时研究了一下，才意识到原来它这么厉害！一句话概括就是，它可以给（任意）静态网站系统提供一个类似 WordPress 后台编辑器的界面，这样你可以在线写日志，不必懂 GIT 或任何具体的静态网站知识。当然，前提是有一个懂技术的人先把这套系统设置好。

看来 Netlify 对静态网站是真爱，和我一样。

不过对 R Markdown 用户来说，这套内容管理系统的优势就不是太明显了，因为它里面不能编译 R Markdown 文档（没有 R）。办法也不是没有，比如通过 Travis CI 等服务去编，但我个人[不是很主张](https://bookdown.org/yihui/blogdown/travis-github.html)这样做。如果是自己休闲娱乐写写网站或日志，不涉及到运行 R 代码，那么这套系统很值得考虑，它很好地解决了网站用户管理、GIT 中间人、编辑界面这三大问题。用户只需要登录进来直接写日志即可。
---
title: 发霉的腊肠
date: '2018-03-22'
slug: moldy-sausage
---

几天前给一位朋友送了一些我在自己的手工黑作坊里熏出来的腊肉腊肠。大概是我忘了嘱咐送货的司机拿回去要放冰箱，所以她收到时已经起了些霉点。

这让我想起我自己的一种特别的重口味。小时候家里没有冰箱，冬天熏的腊肉腊肠放到来年夏天时，经常会发霉。我从小就非常喜欢吃发过霉的腊肠：当然是把霉菌洗掉之后煮熟的腊肠。发过霉的腊肠有一股奇怪的涩味，我至今都很怀念。

长这么大，我一共只听说过另外一个人有相同的口味，那就是我的一位表哥。后来我想了想为什么我们会喜欢吃发霉的腊肠，原因可能是腊肠本来就很好吃，但数量太有限，因为一般人家一年杀一头猪，一头猪只有一根肠子。等吃到了夏天的时候，基本也快吃完了。物以稀为贵，所以就算是发霉的肠，也是无比美味。

顺便胡说一句，我觉得社会主义以及资本主义中级阶段的主要矛盾将会是不知道什么叫物以稀为贵、精神物质生活极大丰富与人民群众日益难平的精神物质欲壑之间的矛盾。
---
title: 智勇多困于所溺
date: '2018-03-26'
slug: genius-penalty
---

我见过不少我认为是天才的少年（也有少数中年），然而最终能立业成名的并不多，一身才华多归于寂寥无名。相反，那些能立业成名的，并非真有很高的天资。一方面，这大概是魏征总结的“善始者繁、克终者寡”的普遍现象；另一方面，可能也是欧阳修所说的“智勇多困于所溺”。

智勇者本事大，做事可选择余地也就大，也就容易只挑自己喜欢的事情做，于是今儿个挑一件，明儿个挑一件，啥事也做不彻底。反倒是庸人没有选择，于是只能一根筋做到底，不管你自己喜欢不喜欢，倒把事情做完了。

前面我[提到过](/cn/2017/12/poetic-lyrics/)许冠杰的《天才白痴梦》，里面有一句“寻乐不堪苦困、未识苦与乐同”，我曾暗自揣度这句话，觉得颇有智慧。苦与乐常相伴相生；寻乐之时，苦也常就在不远处。譬如你看[于淼大人玩游戏](https://yufree.cn/cn/2018/03/08/back2/)，又譬如 [Romain 大人做得了开源但做不了合同工](https://purrple.cat/blog/2018/03/22/i-m-not-looking-for-a-job/)。这都是很有勇气的人，起码敢把自己的所溺写出来，敢公开挑战自己，我相信世上还有无数智勇之人，连写出来的勇气都没有，所以大概只能称为智人（可对比曾国藩日记写自己溺于应酬、胡适日记写自己溺于打牌）。

我并非说有所溺爱一定是坏事，本人（有勇无智）也常年困于所溺，是个没谱的人。我觉得溺爱是人类最强烈的内驱力，这种力量比任何外部力量都强烈而持久，问题只是用什么方式来爆发这种力量。选对了方式，人就会变得很有生产力；选错了方式，就会陷入一个苦乐无限轮回，而且所得之乐会越来越难盖过苦。什么是对的方式呢？我也没有万能的答案。强迫自己经常做一点自己不会主动选择的事情、给自己的生活多一些规划、和功成名就的智勇之人聊聊看他们如何避开普通智勇者之溺，都是办法吧。
---
title: 听歌系列之杭天琪小姐与悟空
date: '2018-03-30'
slug: hang-tianqi
---

去年在网易云音乐上听到一首《[我想有个家](http://music.163.com/#/m/song?id=5284198)》，貌似是什么大赛现场录制的，开头还有一小段主持人介绍演唱者杭天琪小姐，那主持人的声音让我不觉莞尔，这莫不是西游记中的猴哥么！违和而又可爱（“谁不想有个家呢？除非大傻瓜不想，哈哈哈”）。

而后始知他也给唐老鸭配过音。这惊异程度快赶上当年我得知樱友藏（樱桃小丸子的爷爷）的配音跟吴孟达的配音是同一人，难怪那么耳熟。
---
title: 人生十二法则
date: '2018-03-31'
slug: 12-rules
---

在隔壁我写的《[新闻的意义](/cn/2018/03/12-rules/)》中，Aaron Swartz 质疑我们为什么需要追踪实时新闻：

> Instead of watching hourly updates, why not read a daily paper? Instead of reading the back and forth of a daily, why not read a weekly review? Instead of a weekly review, why not read a monthly magazine? Instead of a monthly magazine, why not read an annual book?

我非常赞同，所以我一般也不看时下流行的书。不过今年还是有两本刚流行起来的书吸引了我的眼球，一本是《原则》，我已看完；另一本是昨天瞅到的所谓的《人生十二法则：混沌的解药》（12 Rules for Life: An Antidote to Chaos），我并没有买来看，也不打算真的看，因为[亚马逊评论区](http://a.co/cW9ohAE)已经有人做了详细总结；跟《[影响力](/cn/2017/12/influence/)》那本书一样，我只是看一眼别人的总结，并对总结再总结。

1. 站立时要站直、挺胸。驼背是动物示弱的表现，你越示弱，你就越容易遭到捕食者的攻击，从而陷入恶性循环。

1. 要像帮助别人一样帮助自己。人有不自尊自爱的本能。如果你自我鄙弃，变糟的不仅仅是你自己，还会影响周围的人。

1. 谨慎择友。你可以选择与那些伤害你的人断绝关系，而不必感到愧疚。

1. 作为成年人，你应该与昨天的自己比较，而不是与那些看起来耀眼的名人对比。你只需要相对昨天的自己有一点进步即可。未成年时，偶像有很好的示范和激励作用，但到了三四十岁了你基本已经定型，再想追求成为偶像那样的人，已经不太现实。况且你看到的所谓偶像，只给你看了他们光辉的一面，而阴暗面你则一无所知。

1. 不要让孩子们做那些会让你不喜欢他们的事情，因为你作为成年人的情绪力量太强，你会控制不住自己的怒火。

1. 批评别人之前先把你的房间收拾整洁。不要把自己的能量浪费在释放恨意或恶意上，而是做一些将来能让你自豪地向别人谈起的事情。

1. 追求有意义的事情，而不是整日用权宜之计应付人生。权宜之计是在牺牲未来换取当下的安宁，你应该看得更高。当你获得更多知识时，要注意保持谦逊。要意识到自己的短处。不要急于批评别人。

1. 讲真话，至少不要撒谎。撒谎会让你变弱。意义存在于真相中，撒谎是掩盖真相，也就是让人生失去意义。

1. 假定那个发言的人知道一些你不知道的东西。一段对话好坏的标准是看对话结束时，你是否变聪明了一点。即使是你的敌人，你也需要倾听，他们会编造关于你的谎言，但也会直言一些你的朋友们不会说出口的真相。

1. 发言时要精确。无法用语言精确描述的问题通常也无法解决，就像恐怖片中未知的东西才是最可怕的一样。

1. 骚年玩滑板时不要去干涉他们，就算他们玩的是很危险的动作（比如从栏杆扶手上滑下来）。他们只是在发育阳刚之气、培养面对危险时的勇气。

1. 在路上遇到一只流浪猫要摸摸它。在你经历人生重大坎坷时，你可以借助一些小事来恢复。在一段难熬的时期里，你需要缩短时间线去思考或做事，比如下一分钟、下一小时做什么，而不要想下一个月怎么过。用有意义、积极的小事引导自己走出黑暗。

在我看来，法则 1、6、12 本质上一样，都是心理暗示，跟破窗效应一样。细小的心理暗示可能会成为好事或坏事的开端。站直提醒自己要自信、扫一屋再扫天下、抚摸流浪猫召唤自己的爱心，都是微小的积极心理暗示。要知道这本书的作者是心理学家，所以这所有 12 条法则基本都跟心理有关。

关于法则 2，我觉得确实是多数人的心理误区，我们总是觉得自己弱到爆，而别人都很厉害，也就是这山望着那山高。我自己早就跳出了这个坑，多数时候我都不会在嘴上或心理谦虚，我觉得谦虚不是什么传统美德。人不应该骄傲自大，但也没必要谦虚，谦虚可能会带来负面心理暗示，总觉得自己不如别人。我相信每个人都会有比别人强的一方面，只要有这么一面即可，不必艳羡那些所谓牛人名人的强项。这也跟法则 4 有联系。到了一定年龄后，就该淡定了，大方承认自己的弱项，也要确定自己的强项。可惜不知道为什么我们的社会文化创造了这样一种[羞于承认自己弱项](http://thestudyofthehousehold.com/2018/03/29/2018-03-29-don-t-hide-your-scientific-weaknesses/)的氛围。顺便说一句，这也是我觉得《原则》一书可贵的原因之一。

法则 3 在人情社会中比较难做到，但我觉得人们通常高估了跟一个“朋友”绝交的损失，另一方面我们也太过担心自己在别人眼中的形象：别人怎么看我，通常没那么重要（多数“别人”的存在与否，都不会对你的生活造成多大影响）；这种担心，就跟法则 10 中提到的无法命名的恐惧以及《[石化森林](/cn/2017/08/petrified-forest/)》中提到的想象的恐惧一样，会萦绕心头，凡人无法与之抗衡。

法则 5 提醒我们要对小孩多一些容忍，很多火都没必要发。同一件事情，在小孩和成人眼中看来会完全不同。有时候我觉得成人的脑子已经被太多社会规则绑架、毒害。比如小孩不肯把自己的玩具分享给别的小朋友玩，对他们来说这完全是正当行为，而在我们眼中则会带着道德规则解读为自私的行为。这种情况下，我觉得完全没必要向两三岁的小朋友强行灌输“分享的美德”。

法则 7 又是一个世俗之人容易掉进去的坑。前几天去世的黑石创始人彼得森[回首人生总结了七点经验教训](http://finance.sina.com.cn/money/smjj/smdt/2018-03-26/doc-ifysqcvp2486362.shtml)，其中最重要的一点就是不要用长远利益换取眼前利益。比如他对尼克松政府说不就是一个令人佩服的例子，一般人都不会有这个勇气和远见。另外，彼得森也大方承认了自己的两次人生错误，包括一次抄袭论文。这种名人自爆阴暗面的勇气也值得世人称赞。

法则 8 在《原则》中已经说得够多，可讲真话的痛苦远大于撒谎。人是社会动物，无论什么行动，都会受到一个社会群体的制约。千万人在前，你往得了么。

法则 9 也有《原则》中一句话相关：听别人对你的评论时，不要被情绪左右，要听哪些是对的（真的），哪些是错的（假的）。

法则 10 也难以做到；精确用词的问题我在前面《[趣味化学](/cn/2018/03/chemistry/)》中提到过。我没太明白后面恐怖片的例子跟这条法则有什么本质联系。

法则 11 和法则 5 都是关于成人视角下的孩子教育问题。关于危险动作的问题，成人可能是过虑了，这一点我自己有些体会，因为我小时候爬树、上房揭瓦的事情干了不少。到上初中时，骑车上学路上自个儿学会了丢开车把手，还会两脚站在前面横梁上。这样的事情放现在，前者我还敢，后者是打死也不敢了，想想都吓人。

这样的书能畅销，应该又一次瞄准了现代人的焦虑。它讲了一些看似浅显的法则（之所以浅显，只是因为语言浅显而已），但我觉得多数读者应该读的时候会觉得，哦，你说的好有道理啊，但读完一扔，不会采取行动，静候下一本畅销书的到来。所以还是机智的彼得森看穿了一切：最重要的是投入，并试着采取实际行动。没有行动，看再多书、聆听多少人生智慧都是白搭。

又及：为什么是数字 12？这让我想起去年《[香农](/cn/2017/08/shannon/)》那篇文章，刚好也是 12 条规则，是不是西方人眼中 12 刚好是个整数？也就是一打。一般过于“整数”的总结（比如十条、二十条）我都不会看，因为有拼凑之嫌。还有，那篇文章的规则 5（赞同杂乱）与这里的 6（要求整洁）是相反的，而规则 7 与这里的 3 相同（谨慎择友）。所以究竟听谁的、如何实践，我觉得各人会有各人自己的路，世上没有什么普世的黄金法则。
---
title: 新闻的意义
date: '2018-03-31'
slug: hate-news
---

看到一篇博客，标题是《[我恨新闻](http://www.aaronsw.com/weblog/hatethenews)》。我心想，这看起来像是一篇愤青文章，看完觉得有些赞同博主的意见（里面还有一处让我略感惊异的地方，就是他提到了 Edward Tufte）。去年我[说过](/cn/2017/04/repeat/)我不追星也不会因为名气而关注名人（我在脚注中说我对娱乐圈的唯一看法是：关你屁事、关我屁事），也[提过](/cn/2017/05/wechat/)多数人都不会长期持续跟踪一件社会不公案，即使它的即时影响再大。

这里我倒没什么道德评判的意思。我是纯粹中立的立场，我不觉得这些现象说明一个人的道德水准如何，我们这些凡夫俗子被大新闻牵着鼻子走再正常不过。核心问题在上面的博客以及《娱乐至死》中都明确指出来了：这些新闻与你何干？看了这些新闻，你能做什么？绝大多数情况下，答案是：你什么也做不了。你会采取什么行动？关掉浏览器和手机后，你什么行动也不会有。它能对你有何启发、能改变你什么？什么启发也不会有、什么改变也不会发生。这话有些绝对，但大体上应该是对的，所以大体上你可以忽略多数新闻，忽略它们不会对你的生活造成多大影响。

看完这篇博客我心想这谁写的啊，抬头一看原来是那位五年前自杀的 Aaron Swartz。在 2006 年写这篇博客时，他快满二十岁。
---
title: 注意力缺陷多动障碍
date: '2018-04-02'
slug: adhd
---

俗称多动症的病全称[注意力缺陷多动障碍](https://zh.wikipedia.org/wiki/%E6%B3%A8%E6%84%8F%E5%8A%9B%E4%B8%8D%E8%B6%B3%E9%81%8E%E5%8B%95%E7%97%87)，我对照维基百科上的症状特征琢磨了一下，貌似我就是多动症患者，比如容易分心、做事拖拉、逃避需要持续动脑的工作、缺乏对时间管理的认知，等等，而且我也有一些正向特质，比如对理想保持惊人的坚持度和毅力。有些正向和负向特质好像有些互相矛盾，与其说是注意力缺陷，不如说是选择性注意力集中吧。

看了这些症状和可能的病因，我感觉现在这个社会导致注意力缺陷的原因里，生理、基因因素应该是次要因素了吧。不是国军不努力，只是共军太狡猾——吸引注意力的东西越来越多。维基百科上的患病率可能有严重低估，我觉得这已经是一个非常普遍的社会问题。
---
title: 杰夫与建福
date: '2018-04-02'
slug: jeff-jianfu
---

统计之都最近要发一篇前年[吴建福老师的采访](https://projecteuclid.org/euclid.ss/1484816590)翻译稿，中间在编辑部里发生一件很逗的事情。吴老师的英文名是 Jeff，译者不知为何将这个英文名译为杰夫，于是通篇对话都是杰夫冒号啥啥。太云说，“这个名字的翻译真是气死人。”

确实是很气人，哈哈。这个翻译跟[门修斯和常凯申](https://www.liechi.org/cn/2017/03/translation/)比起来，哪个更气人呢？

脑子里随意想起 [2011 年夏天](/cn/2011/07/exams-done/)我曾短暂玩一阵篮球的时候，遇到一个一起打球的中国人英文名也叫 Jeff，当时大家都管他叫姐夫。
---
title: 去掉苹果系统截图里的窗口阴影
date: '2018-04-05'
slug: macos-screenshot-shadow
---

自打我 2015 年开始正式用苹果电脑以来，我就一直有一个困扰，就是所有窗口边缘都有阴影。平时自己用用也就罢了，每当到了写教程、写书需要屏幕截图的时候，我心里就有阴影了，我实在不想要这个窗口阴影特效。最近实在忍不了，就放狗搜了一下，发现了一个[部分解决方案](http://osxdaily.com/2011/05/23/disable-shadow-screen-shots-mac/)：

```sh
defaults write com.apple.screencapture disable-shadow -bool true
```

然后顺便发现一个我以前从没注意到的截图方法，也是我一直想找的，就是如何截取当前窗口。在 Windows 年代我知道怎么做，但 macOS 下从没研究过。今天才发现 Cmd + Shift + 4 之后按空格即可。我用的外置键盘，上面有截图键（PrtSc），所以是 Ctrl + PrtSc 然后空格。这下再也不用小心翼翼用鼠标拖拖拖。

之所以说上面的阴影解决方案是部分方案，是因为它只对独立窗口有效，对 RStudio 里的子窗口无效。不过这是 RStudio 的锅，因为 RStudio 整个界面实质上是一个网页浏览器，它弹出来的所谓子窗口都是假窗口，实质上只是一些 `<iframe>` 之类的 HTML 元素，并非系统窗口，而整个 RStudio 是个系统窗口。如果要截 RStudio 子窗口的图，仍然需要鼠标拖框，仔细选择区域，还是很烦人。
---
title: 码力之抽象力
date: '2018-04-06'
slug: abstract-code
---

前天我收了一个 [bookdown 的合并请求](https://github.com/rstudio/bookdown/pull/561/files)，其代码是正确的，但反映出一个很普遍的代码问题：冗余。代码是否冗余，一般不需要仔细看，只要表面上扫一眼，看看是不是有类似的代码在不断重复即可。这个例子很典型，以前我也碰到过不少，不过一直都没写下来。一眼望去，if-else 语句里全都是调用同一个函数 `list.files()`，不同的只是参数取值。

```r
if (isTRUE(config[['rmd_subdir']])) {
  files = list.files(
    '.', '[.]Rmd$', ignore.case = TRUE, recursive = TRUE
    )
} else if (is.character(config[['rmd_subdir']])) {
  files = list.files(
    config[['rmd_subdir']], '[.]Rmd$', ignore.case = TRUE,
    recursive = TRUE, full.names = TRUE
  )
} else {
  files = list.files(
    '.', '[.]Rmd$', ignore.case = TRUE
  )
}
```

我合并之后作了一个[简化的修改](https://github.com/rstudio/bookdown/commit/3f89707990007b59c875db6733963a4b552ac9ef)。为了简化代码，我们需要观察 `list.files()` 的每一个参数在什么条件下怎样取值，从第一个参数开始依次看即可。

1. 首先 `config[['rmd_subdir']]` 在代码中出现了三次。事不过三，这么臃肿的提取列表子元素的代码（长达 21 个字符）应该考虑抽出来作为一个变量，如 `subdir = config[['rmd_subdir']])`。

1. 第一个参数是路径，如果 `subdir` 是字符型则用它的字符值，否则用 `"."`。即：

    ```r
    list.files(if (is.character(subdir)) subdir else '.', ...)
    ```

1. 第二个参数是文件名特征（正则表达式），它以及后面的 `ignore.case = TRUE` 是三个函数参数的共同部分，所以三次调用都可以用：

    ```r
    list.files(
      if (is.character(subdir)) subdir else '.', '[.]Rmd$',
      ignore.case = TRUE, ...
    )
    ```

1. 再看 `recursive` 参数，在 `subdir` 是 `TRUE` 或字符型的情况下取值为 `TRUE`，默认为 `FALSE`。`full.names` 参数取值理论上是雷同的；此处要注意，原始代码中第一个调用（也就是 `isTRUE(subdir)` 条件下）没有用 `full.names = TRUE`，但在第一个参数是 `"."` 的条件下，`full.names = TRUE` 或 `FALSE` 无所谓，因为一个文件路径 `foo.txt` 和 `./foo.txt` 等价（此处需要敲黑板）。为了能和 `recursive` 参数用同样的取值，我们就把它改为 `TRUE` 好了。于是抽取一个公共变量 `subdir_yes`：

    ```r
    subdir_yes = isTRUE(subdir) || is.character(subdir)
    files = list.files(
      if (is.character(subdir)) subdir else '.', '[.]Rmd$',
      ignore.case = TRUE, recursive = subdir_yes, full.names = subdir_yes
    )
    ```

经过几次“合并同类项”，原先的三个选择分支、14 行代码至此压缩为一个函数调用、5 行代码。全剧终。

如同好的诗文须炼字一样，写代码也需要炼码。我觉得这是写代码的能力（码力）中比较难获得的一种，需要长时间的磨练。仍然跟写文章一样：每个人都会有很多素材，但只有少数人能以精致干练的形式把它们叙述出来。程序的基本元素（结构、函数等）所有人都可以学，就算不知道，随便找个参考也能翻出来，难学的是如何组织这些元素。

之所以要尽量避免简单重复代码，是因为将来万一需要修改，重复三处的代码就需要改三遍；比如，如果想把正则表达式 `[.]Rmd$` 换成 `[.]R?md$`，那么用上面修改过的代码就只需要一次修改搞定，而不必担心是不是还有别的地方需要修改。

当然凡事都有个限度，诗词过于抽象会让人不知所云，代码抽象也不能过度，须在易读性和精简度之间权衡。易读性比较难衡量，因为它有点主观；如果源代码主要是写给自己看的，那么至少在近期的未来得保证自己还能很快读懂。

## 附录：文档是否该重复？

不光是写代码，我写文档也会尽量避免重复，一般情况下我都不想在不同函数文档中重复相同含义的参数文档（就算是 roxgyen 的 `@inheritParams` 我也不想用）。如果两个函数中一个函数的参数会传给另一个函数，我会在前一个函数中用 `...` 参数，然后在帮助文档中说：请看第二个函数的文档。这样做的好处是对我来说，维护代码和文档的压力都会大大减轻^[代码压力小是因为我不需要在第一个函数中显式写出第二个函数的那些参数名，而且第二函数参数更新时我也不需要更新第一个函数的源代码；文档压力小是因为我不必在第一个函数文档中重复第二个函数的文档。]，但坏处是对用户来说，他们需要从第一个函数的文档跳转到第二个函数才知道第一个函数有哪些可能的参数。

在第一个函数中是用 `...` 参数，还是显式列出所有传给第二个函数的参数？答案见仁见智。我常用第一种方式，比如 `bookdown::gitbook()` 函数会把它的 `...` 参数传给 `rmarkdown::html_document()`，这样我就不必在前者中啰嗦一遍后者的参数了；我是为了方便自己。这种利己也不是完全出于自私，避免重复会让代码和文档在将来更容易维护，容易维护的软件也会相对稳定一点。而敝厂的老大 JJ 则坚持用第二种方式（显式重复所有公共参数），他是为了方便用户，节省一次点击，比如 rmarkdown 包中的函数就有相当大量的公共参数。

更夸张的是，他在写 rmarkdown 的网页版文档时，也会大量复制粘贴。最近两个月我在写一本官方 R Markdown 指南的书，看了这些大量的复制粘贴之后，还是决定不要在书中重复它们了，而是改为交叉引用。比如讲 [`word_document`](https://bookdown.org/yihui/rmarkdown/word-document.html) 格式有哪些功能，就不再全文重复 [`html_document`](https://bookdown.org/yihui/rmarkdown/html-document.html) 中已经谈过的功能。
---
title: 三舅
date: '2018-04-09'
slug: san-jiu
---

三舅走了，昨天半夜里走得匆忙而痛苦。去年十一月听说他咯血，进而查出肺癌，不幸已经是晚期，医生说应该活不到过年，让家人直接放弃治疗的希望。这是我的父母辈中首次发现患癌的近亲，而且从发现到离世只有短短五个月时间。当时听到这个检查结果我就很震惊；我在家中从未听闻过这种死亡判决，况且他是三位舅舅中生性最为豁达且风趣的一位，喜欢跟我们小辈开玩笑，因此我从小也最喜欢他。得知消息后我给他打电话时，还没报上名，他一下就听出是我。

过年时，家里的微信群里发了一些合照。我从照片中看到他时，又是一番惊愕：才五十多岁的人，已经迅速苍老成那样……双眼无神，快睁不开的样子。随后断断续续听到一些住院治疗的消息。我知道最终的那个消息总会到来，但看到“三舅已去世”的字样还是受到重重一击。

我仍希望他能走得平静一些，然而问过当时的情况之后，这个希望也落空，连遗言都无法留下，不堪想象。呜呼！如若他最后能平静地离开，以他这样嘻嘻哈哈的生平，我大概会向德鲁克回忆他的奶奶一样：哪怕是面对离世，我们回忆中的欢乐也会盖过伤感。

刚发现肺癌时，家里人瞒着没告诉他，但慢慢地他大概意识到情况不妙，自己主动去照了相，好用作最后葬礼上的遗照。那是一种怎样的心境。

此刻难免回想一些往事。背书的本领，我自从上高中之后就不行了，但记事我通常会记得比较清楚，而且会记很久。几位舅舅住在邻村，从我记事起，我就喜欢去那边玩。尤其到了放暑假，更是玩得不想回自己家。记得有一次我爹见我们兄弟二人玩了好些天还没回家，专门来接我们，我们则躲到三舅屋后，怎么也不肯跟他回去，他只好作罢，让我们继续逍遥。

三舅的房子最早的时候是土屋，就是用土砖盖的房子，土砖里偶尔还能看到稻杆，大约是从水田里挖的泥；土砖盖不严实，而且日晒雨淋会风化，墙上有很多孔洞。这种房子在我上小学的时候还能在村里见到少量几栋，后来都绝迹，一律变成砖瓦房。我对那栋土屋的印象有二：一是我小时候睡觉不知为何特别容易掉到地上去，所以我至今记得那屋里土地面的灰味（我不记得我那时几岁，应该是大约六岁）；二是有一次三舅家的表弟跟我们兄弟玩杀猪，插根棍子在墙洞里，把一把椅子当猪，挂在棍子上杀。几位舅舅家的表兄弟姐妹比较多，这是我乐不思蜀的重要原因；大人通常不会搭理小屁孩，只有三舅会跟我们说笑、逗我们乐。

三舅家门口不远处是一条河，这条河一直流到我们村。我八九岁的时候，暑假里就会领着我弟，两人沿着这条河一路走一两小时，一直走到他们家。那时穿的凉鞋比较劣质，经常磨破脚，但远远看到他们的房子后就会是满心欣喜和期待。我小学二年级时，外婆过世。我对她并没什么印象，如今脑中唯一一幅画面是她坐在三舅家大堂的土墙边对我笑，但那画面已经极其模糊。她去世后，出殡队伍走的路我大致还记得，每经过一个人家，那家人就会在门口烧一把柴草。最后走了一大圈，葬在三舅门前的小河边。现在我每次回老家还会去看一眼。孰知过了这么多年，那里要添一个新坟头了。

后来大约在我小学五年级时，他们家盖了砖房。在村里盖了新房都会请客（我们的土话叫“过烟火”）。我对这次“过烟火”的最深刻印象是冰棍（我们叫冰棒）。那时是夏天，天很热，便有小商贩骑着自行车驮着一箱冰棒在各村叫卖。三舅和三舅妈很大方地买下一大把冰棒给客人吃。冰棒是我小时候的夏天里最渴望的东西之一，平日难得吃到一回，而那一天之内吃了两回冰棒，觉得人生再也没有比这更快乐的事了。

三舅与三舅妈似乎也是爱吃之人。有一次，我听他们在席间提起前日在某某人家吃到特辣的辣椒，喜于言表，大呼过瘾；一人说，一人连连点头附和。如此看来，我的嗜辣基因也许更多源自我的母方。

三舅有一儿一女，女儿比我大，儿子比我弟小。表弟小时候很可爱，吐字有些不清。我弟名虎，大人管他叫虎子，表弟则叫他肚（dǔ）子。待我们长大后每次去他们家，这都会是要回忆一遍的事。表姐很细心照顾我们。我还记得有一个周日我在他们家，她那时已上初中，下午要准备去上学了，临走前在屋外的台阶上发现我脖子后面不知何故肿起来一些疙瘩，便给我涂了一些清凉油，然后才出发。

等我上初中后，由于学业原因，我渐渐去得少了。直至上大学、出国，就更少去了，基本一年到头最多去一次。想来我似乎自打上初中后就没再见过表姐，莫非上次见就是那次涂清凉油？一晃已经二十多年过去。不知将来何日还能再见。表姐名春燕，然廿载春去春来，但见燕去，未见燕归；各自分飞所为何？她南下远嫁，这些年我几乎不知道她的消息，直至这次三舅之故，才从微信上略微了解一些零碎信息。这两日翻看了一下她的朋友圈，似乎在异乡生活颇为艰辛。

前几年他们又在旧砖房的前面盖了一栋新的小洋房，最近这十年来各村都时兴盖这种房子。农村里家家屋前都有一块大场地，用来打稻谷、摊晒各种东西，我们叫“稻场”。旧房子前本来有一块稻场，现在新洋房占掉一半，剩下的一半用水泥砌好，支起柱子，搭上顶棚，已经快找不出旧时痕迹；原先房子右侧的一簇竹子没了，门前的小池塘也换了新颜。过去的稻场都是土地面，每当下雨过后，太阳快把场子晒干时，人就会赶着牛拉着石磙，提一篓子灶膛下刨出来的草木灰，撒着灰碾稻场。这样避免天晴后稻场出现太多裂缝，但即使这样还是会裂缝。因为这个缘故，村里人在稻场上打完谷物或豆子还会从缝里把嵌进去的种子挑出来。2015 年初我回国过年，在三舅家吃饭时，他依然在提我们小时候捡黄豆的事。一次打完黄豆快天黑了，他安排我们两兄弟把溅落四处以及缝隙里的黄豆捡出来，而我们都贪玩不想干活，蹲那里磨磨蹭蹭，他就火了，吓得我们赶紧开始捡。这是我能记得的他唯一一次发火。说着这些事，最后饭桌上只剩下我和三舅两人，他一直在劝酒，我半装推辞，最后喝了三瓶啤酒；我爹有些担心我喝太多，催促我们赶紧吃完饭回家，其实我完全没问题，我推辞只是因为不想让三舅喝多。

总有一些酒，会成为人生最后一杯酒。如李清照说，“有有必有无、有聚必有散”。理虽如此，但我们总是不知道，有散之后可能就不会再有聚。

我无意在此写一篇祭文，只是记下寥寥几丝回忆而已。正值去年下半年开始看《古文观止》，至今年初看完，其中收录了不少祭文名篇，所以不免想到那里面的一些字句。世人所认为韩愈《祭十二郎文》中的名句我觉得都不算很动人，最触动我的是最后一句自言自语：“汝其知也邪？其不知也邪？……”

我并非深情之人，相反，我可以说是甚为冷漠，尤其在亲情关系上。一方面，这跟我多年来重学业而疏礼节有关，导致我对长辈都比较淡漠，至少表面上如此；另一方面，我不知何故也形成了一种淡漠的世界观，我的人情关系整体都非常淡。于三舅之故去，我也不能说对我就如天崩地裂，我不会呼天抢地，或涕泗纵横。

眼看马上就四月中旬，本应是草长莺飞时节，今日却是彤云密布，窗外竟然又开始雪花纷纷。此情此景，莫非某种巧合？

这一刻，与其说悲，不如说愁。愁人生之无常、无助、无奈。天道如何，吞恨者多。他走了，便走了罢。终有一天，所有人都会走，众观日月星灭。大约也终有一天，所有人都会再聚，同在天地人间。

愁绪兮飞扬，纸灰兮飞扬。  
落英兮缤纷，乱雪兮缤纷。

有有兮有无，有聚兮有散。  
死别兮生离，西风兮何言。

<!--
注：愁绪、落英有生命，纸灰、乱雪无生命。用意在于生死交织。
-->
---
title: 《娱乐至死》笔记
date: '2018-04-12'
slug: amusing-ourselves-to-death
---

去年[五月初](/cn/2017/05/amusing-to-death/)我接触到尼尔·波兹曼的《娱乐至死》，五月底读完。这本书在我过去这一年的日志里提起过几次，是去年对我影响最大的四五本书之一。虽然这本书写于上世纪八十年代，但其中的现象跟当今社会依然高度匹配，道理依然适用，甚至可以说当今社会跟当时比起来完全是有过之而无不及；换句话说，我们是在加速娱乐至死。以下是我的一些分章摘抄和感想。我在微信读书上只划线，不在手机上写评论，因为太慢而且睡前看书不想动手。由于距离读完这本书已经过去快一年，有些摘抄的文字的上下文我已经记不太清，也不太记得当时我是怎么想的，所以下面附注的想法可能有偏于当时我看到这些文字时的想法。

## 媒介即隐喻

我发现西方世界似乎特别喜欢用“隐喻”这个词（metaphor）。读完这一章，我感觉“隐喻”这个翻译似乎不妥当，说是“象征”可能更恰当一些。媒介的作用在于树立一种形象。早在八十年代，波兹曼已经看出政治的本质：

> 政治家原本可以表现才干和驾驭能力的领域已经从智慧变成了化妆术。

秃头和胖子没有当选总统的希望，选民会偏好外观形象好的总统。其实中国也一样，上上届国母最为人诟病的不就是形象太土么，有多少人关心她这个人究竟如何呢；而本朝的国母则招人喜爱多了，同样，脸好看就什么都好。川普当选，是一样的道理，他太擅长吸引眼球，动不动搞个大新闻，其本人形象也总是那么显眼，就算有些媒体丑化他，其实也是帮他的形象打了广告。某种程度上，我认为正是那些拼命攻击他的人帮他选上了总统。

> 与其说经济学是一门科学，还不如说它是一种表演艺术

说的是经济靠广告驱动。当今社会更可怕的是，广告可以靠数据驱动，不仅仅是表演艺术的问题了。

> 在电视上，话语是通过视觉形象进行的

电视是波兹曼在那个年代攻击的主要对象。他认为自从有了电报，人脑就被全盘改造了，因为信息传播太快。电视更糟糕，它提供了视觉形象，可以不间断吸引我们的注意力，让我们无暇思考。

> 媒介的形式偏好某些特殊的内容，从而能最终控制文化。这种启示来自“十诫”中禁止以色列人制作任何具体形象的第二诫：“不可为自己雕刻偶像，也不可做什么形象，仿佛上天、下地和地底下水中的百物。”和很多其他人一样，我那时很疑惑，为什么上帝要规定人们应该或不应该怎样用符号表现他们的经历。除非颁布训诫的人认定人类的交际形式和文化的质量有着必然联系，否则把这种禁令归于伦理制度之中的做法是不可理喻的。我们可以冒险做一个猜测：那些如今已经习惯于用图画、雕塑或其他具体形象表达思想的人，会发现他们无法像原来一样去膜拜一个抽象的神。犹太人的上帝存在于文字中，或者通过文字而存在，这需要人们进行最精妙的抽象思考。运用图像是亵渎神祇的表现，这样就防止了新的上帝进入某种文化。我们的文化正处于从以文字为中心向以形象为中心转换的过程中，思考一下摩西的训诫对我们也许是有益的。即使这些推想有不妥之处，我仍然认为它是明智而中肯的。我相信，某个文化中交流的媒介对于这个文化精神重心和物质重心的形成有着决定性的影响。

抽象的神可以跨时空、跨文化传播、存在于人的心（想象）中；有雕像的神存在于人的眼中。这是本质区别。此时我们可以再回顾一下胡适在《[不朽——我的宗教](/cn/2018/03/meaning-of-life/)》中的话。

> 书面文字使思想能够方便地接受他人持续而严格的审查

柏拉图认为但凡有智力的人都不会冒险用文字表达自己的哲学观点，这说的书写带来的知觉革命。在各种媒介表达方式中，显然我是青睐文字方式的，因为文字可以做到最准确的表达，即使第一次没有表达准确，还可以继续修改（我会多年持续修订我写的各种乱七八糟的东西），这是别的媒介方式不具备的特征，比如录像、音频、照片等。如果是重要的事情，我一般不太愿意跟人直接谈话，因为我的脑子在谈话过程中不够快，往往谈完之后我会意识到有疏漏，但无法撤回修改。书写则有无穷的自由度。

## 媒介即认识论

> 我们的很多心理学家、社会学家、经济学家和其他当今的政客往往借助数字来陈述事实，否则就一无所能。

事实的表达方式在单一化。

> 印刷术树立了个体的现代意识，却毁灭了中世纪的集体感和统一感；印刷术创造了散文，却把诗歌变成了一种奇异的表达形式；印刷术使现代科学成为可能，却把宗教变成了迷信；印刷术帮助了国家民族的成长，却把爱国主义变成了一种近乎致命的狭隘情感。

新工具的出现带来的结果可能会出人意料。即便有上述种种缺陷（这个排比句太讽刺了），印刷术还是利大于弊。电视的出现排挤了印刷品，“让公共话语的严肃性、明确性和价值都出现了危险的退步”。

## 印刷机统治下的美国

富兰克林建议一个教派的创始人发表文章阐明自己的信仰和原则，以驳斥关于这个教派的谣言，但最终被那个人拒绝了。以下是拒绝的原因：

> 在人类社会存在之初，上帝以启蒙人智为乐，他让我们意识到，有些我们尊为真理的其实是谬误，有些我们斥为谬误的却是真正的真理。他不时地为我们拨去迷雾，使我们不断完善自己的原则，改正自己的错误。在这个过程中，他得到了无限的满足。现在我们不知道我们是否达到了发展的终极，是否达到了精神知识或神学知识的完满，我们担心，如果我们裹足不前，不愿意接受他人的意见，那么我们的后人会效仿我们，认为我们——他们的前辈和创立者，所做的一切都是神圣的，是不可丝毫背离的。

这个原因让我惊掉了下巴。不要把教义写下来，竟然是为了防止后人认为前人做的一切都是神圣、不可背离的。这种谦逊程度在现今的宗教中还能找到吗？这个教派还有一个更甚的诫令：

> 不可记录汝等之教义，更不可将其印刷成文，否则汝等将永远受其束缚。

开个玩笑：其实教徒们学会用版本控制系统就好啦，这样就不会受单一版本的束缚，还可以很方便派生（fork）其它教派；若有需要还可以很方便合并教派（pull request）。

> 印刷书籍比任何其他方式都更有效地把人们从现时现地的统治中解放出来……铅字比实际发生的事实更有威力……存在就是存在于铅字之中：其他的一切都将渐渐地成为虚无。所谓学习就是书本的学习。

存在就是存在于铅字之中。这也是我近几年宣扬的观点：存在就是存在于网页中。吾网故吾在。如果你没有个人网站，你就不存在（见 blogdown 书的前言第一段）。我不完全是在开玩笑。

> “如果印刷机存在，这世上是否还可能有《伊利亚特》？”他反问道：“有了印刷机，那些吟唱、传说和思考难道还能继续吗？这些史诗存在的必备条件难道不会消失吗？”

这是引用马克思在《德意志意识形态》中的话。形式决定内容。印刷机是一种话语结构，会排除或选择某些类型的内容、选择某一类型的听众。印刷机让美国的公众对话变得严肃而理性。

## 印刷机统治下的思想

> 首先，用当今的标准来衡量，那时的听众具有超常的注意广度。今天有哪一个美国听众能够容忍7个小时的演讲？或者5个小时？甚至3个小时？尤其是在没有任何图片的情况下？其次，那时的听众必须具备非凡的、理解复杂长句的能力。道格拉斯在奥托瓦半个小时的演讲中包括了三个关于废除黑奴制度的决议，这三个决议句法复杂，措辞符合严格的法律行文。林肯的答词更为复杂，他引用了他在另一个场合进行演讲的书面稿。虽然林肯的语言风格一向以简约著称，但在这些同道格拉斯进行的辩论中，他的句子结构却是复杂而微妙的，丝毫不亚于他的对手。

注意“尤其是在没有任何图片的情况下”。图片问题我[去年已经提过](/cn/2017/06/illustration/)。如今，如果没有图片，恐怕演讲者无法演讲、听众也坐不住。我们是怎么沦落到这地步的？当然，这个不绝对，有些演讲确实离不开图（比如讲实物而不是讲道理）。我自己作报告从来都是一堆 GIF 动图，很多人已经记住了我的这个风格，所以我还没开讲他们就知道会有一波 GIF 来袭，所以上次我在圣地亚哥的 RStudio 大会上讲 blogdown 就没用动图。过去我总称，取悦听众是为了让他们离开时留下记忆，波兹曼在书的前面提过类似的理由，但问道：你要想想听众离开时到底记住的是什么？是搞笑图片、笑话，还是你讲的主题？这是个好问题。

道格拉斯在听到听众对自己经久不息的掌声之后批评这些听众说：“在讨论这些问题的时候，沉默比掌声更得体。”竟然是这样一个演讲者……就问你服不服。演讲者谁不希望掌声如雷？他竟然反过来要求听众安静下来好好思考一下他说的话。

> 我们也应该承认，到1858年，照片和电报的发明结束了理性王国的时代，但这样的结果却是一直到20世纪才明显表现出来的。

作者没明说为什么到 20 世纪才结束。我想这五十年大概是当时的理性王国的子孙逐渐辞世的时间。比如马克吐温在 1858 年时 23 岁，他 1910 年去世。到 20 世纪之前，美国仍然有辉煌的文学创作。

> 这就是为什么一个好的读者不会因为发现了什么警句妙语而欣喜若狂或情不自禁地鼓掌——一个忙于分析的读者恐怕无暇顾及这些。

阅读有序排列、有逻辑命题的文字能促进理性思维。阅读过程中需要大量的脑力投入去分析文字、挑战作者，这样的读者不会冲着作者的段子、抖机灵或俏皮话去。我们可以对比一下当今的知乎文化，或那些“一秒鼓掌、两秒起立、三秒热泪盈眶”的娱乐节目。

> 杰弗逊当然是不信耶稣的，他担任总统的时候，写过不同版本的4本福音书，其中绝口不提那些“奇妙”的故事，只保留了耶稣教义的伦理内容。

这说的是理性至上时代里一些知名领袖的表现，包括杰弗逊总统和另一位叫托马斯 · 潘恩的人。我没听说过潘恩这个人，根据波兹曼的描述，似乎他是一个开国元勋，但他在对《圣经》细致分析之后，认为其中的神性故事都是荒诞不经的，并同时承认耶稣是“德高望重、亲切和蔼的人”。他甚至讲：

> 所有的教堂，不论是犹太教、基督教或土耳其教，在我看来都只不过是人的发明，是为了吓唬和奴役人类、垄断权力和利益而建立的。

波兹曼说潘恩因为写了《理性时代》而失去了在开国元勋神殿中的位置，而且被美国历史课本刻意回避了。

波兹曼说 18 和 19 世纪人们在教义之间的争论是通过行文理智、逻辑严密的小册子或书进行，其中他提到一个叫爱德华兹的人（称他是“美国历史上最聪明、最富创造力的人之一”、“对美学理论的贡献和对神学的贡献几乎一样重要”），以及他的一本被认为是“美国最杰出的心理学研究著作之一”的《信仰的深情》。这么高的评价搞得我都有点想看一看这本书，可惜微信读书里还没有上架。

> 各教派之间的纷争在18世纪是通过论述严谨的说理进行的，到了19世纪则是利用建立大学作为解决矛盾的应急手段。有时候我们会忘记，美国的教堂为我们的高等教育制度奠定了良好的基础。

哈佛、耶鲁等学校创建的初衷都是为了解决宗教问题，这是我以前不知道的，我也没想象过历史上曾有这么一个时代：研究宗教像研究学术一样严谨。

## 躲躲猫的世界

躲躲猫不是躲猫猫，而是 peek-a-boo，是在美国逗小朋友玩的把戏，用手遮住脸然后放开，让小朋友一会儿看见、一会儿看不见一样东西。在我的老家，这叫“伊妹儿啦”。在这一章里，躲躲猫的意思是，一会儿这个信息、一会儿那个信息进入你的视野，没有连续性、没有意义、但其乐无穷。

> 我们匆匆地建起了从缅因州通往得克萨斯州的磁性电报，但是缅因州和得克萨斯州可能并没有什么重要的东西需要交流……我们满腔热情地在大西洋下开通隧道，把新旧两个世界拉近几个星期，但是到达美国人耳朵里的第一条新闻可能却是阿德雷德公主得了百日咳。

这是引用梭罗的《瓦尔登湖》。电报让信息脱离语境，消除了时空隔阂，让信息的价值根植于它是否新奇有趣。什么叫“脱离语境”？波兹曼说你可以问自己下面这个问题：

> 早晨的广播或电视，或者早晨的报纸，有多少次为你提供了需要改变一天计划的信息，或让你决定采取本来不准备采取的行动，或帮助你更加了解了你需要解决的问题？

或者更具体地，问这样一些问题：

> 对于解决中东的冲突，你准备采取什么行动？对于解决通货膨胀、犯罪和失业问题，你有何高见？对于保护环境或降低核战争危险，你有什么计划？对于北大西洋公约组织、石油输出国组织、美国中央情报局、反歧视行动计划和伊朗巴哈伊派教徒遭受的残暴行径，你准备采取什么行动？

波兹曼说：“我可以大胆地帮你回答：你什么也不打算做。”你什么也不打算做，最多只是两年或四年一次花几分钟投票给你认为可以做事的人（记住，他一定不能是个胖子或秃子）。而波兹曼对此继续毒舌：

> 投票选举是逃避政治无能的表现

看到这里是不是整个人都绝望了。

波兹曼点评写书：

> 写书是作者试图使思想永恒并以此为人类对话做出贡献的一种努力

这跟大鹏说的“[写博客，得永生](http://www.pzhao.org/archives/17808/)”是类似的，不过博客比较散乱，书相对系统一些。肉体都会灭亡，但思想可以转生。

> 源于电报和摄影术的一个更重要的产物也许是伪语境。

有了电报和摄影术，我们可以人为制造语境，跟你没有半毛钱关系，但让你心跳加速、前仰后合或热泪盈眶。一个伪语境的代表是纵横字谜，这在报纸杂志上随处可见，尤其是坐飞机时，总会看到它。当然现在的人都被手机吸引过去了，填纵横字谜的沉浸感已经远不如手机应用。再举一个伪语境的例子，就是洪涛宣布《我是歌手》名次的长时间停顿，有人骂洪涛，但我总是想，那些在电视前眼巴巴等着的观众才是真正的蠢货，导演要的就是用无意义之事吸引你的注意这个结果，你骂洪涛，也是他想要的结果（节目得到更多关注）；同理，若干年前我就得出结论，《非诚勿扰》绝非相亲节目，也不是孟非说的什么生活服务类节目，它一定是故意找一些容易引起争议的劣质男女嘉宾到台上来，让观众有足够的谈资，让每个人都可以评头论足发表自己的高见，如果能骂起来就更好了，导演恨不得你们能打起来，让你们一辈子住在这个空中楼阁里。通过非诚勿扰撮合的男女嘉宾，有谁会关心他们下台后会怎样？

> 正如有些精神病学家指出的，我们每个人都会筑起自己的空中楼阁，但如果我们想要住在里面，问题就出现了。

电报和摄影术制造了躲躲猫的世界，而电视则让我们直接住进了空中楼阁，它做到了图像和实时信息的完美结合。

> 就在同时，用罗兰·巴特的话来说，电视还赢得了“神话”的地位。他认为，以神话的态度看待世界，人们对于这个世界就不会有任何质疑，对于自然真实的东西就会变得熟视无睹。神话是一种深深扎根于我们无形意识中的思维方式，这也就是电视的方式。

## 娱乐业时代

如果上一章还不够让人抑郁，那么我想这一章足以让一个尚有理智的人崩溃。问题不是出在电视上播放的一段段内容本身上，而是这些内容量大而且支离破碎，这根本不是正常人脑能处理的。一个悲剧应该让你一个月难以入眠，而现在的情况是无时无刻不是各种悲剧喜剧填满你的耳朵和眼球。你来不及悲伤，笑神经也越来越麻木。

> 娱乐是电视上所有话语的超意识形态。不管是什么内容，也不管采取什么视角，电视上的一切都是为了给我们提供娱乐。正因为这样，所以即使是报道悲剧和残暴行径的新闻节目，在节目结束之前，播音员也会对观众说“明天同一时间再见”。为什么要再见？照理说，几分钟的屠杀和灾难应该会让我们整整一个月难以入眠，但现在我们却接受了播音员的邀请，因为我们知道“新闻”是不必当真的，是说着玩的。新闻节目的所有一切都在向我们证明这一点——播音员的姣好容貌和亲切态度，他们令人愉快的玩笑，节目开始和结束时播放的美妙音乐，生动活泼的镜头和绚丽夺目的各类广告——这一切都告诉我们，没有理由为电视上的不幸哭泣。

大概跟所有人一样，我是个喜欢幽默的人，但现在的娱乐节目（我已几年不看，只是偶尔旁听一下）真的让我笑不出来。国内的娱乐节目如我前面所说，动不动一秒鼓掌、两秒起立、三秒热泪盈眶，让我非常反感。唱歌的节目一定得自幼死了爹娘、北漂二十年住地下室吃方便面才能成为被选中的歌手，搞笑节目正急速朝卖丑的方向前进（通过丑化形象达到搞笑效果是最低级的搞笑方式），很难见到一点机智的幽默，在这一点上，说实话我依旧只服郭德纲（这里不谈人品什么的，只谈艺能）。为什么歌手要比惨，为什么搞笑艺人要卖丑？因为他们要使尽浑身解数吸引我们的眼球，他们本身的能力值太低，只能靠额外的装备硬撑，满足观众越来越难满足的胃口。

## “好……现在”

电视节目中，只要主播说一声“好……现在”，那就代表要切换话题了。说这三个字的时间就是你看电视时所有能用来思考的时间，即：你根本没有时间思考，你的脑子像一个垃圾桶一样，被源源不断地倒进杂物。

> 电视新闻并不想提醒观众某条新闻有严肃的内涵，否则观众在新闻播完后必定还要继续思考，这样就会妨碍他们观看下一条新闻。其实，观众并没有什么机会分出几秒钟进行一些思考，因为电视屏幕上的图像会源源不断地出现。图像的力量足以压倒文字并使人的思考短路。

## 伸出你的手投上一票

里根总统说“政治就像娱乐业一样”，弗兰克 · 斯凯芬顿则说：

> 政治是美国拥有最多观众的体育比赛

还能说得比这更讽刺吗？

## 赫胥黎的警告

那如何解决娱乐至死的问题？波兹曼认为从理论上来说，只能靠“我们的学校”，但这也是非常困难的。几年前我在 Ames 村里一所中学里的墙上看见标语，说是让小朋友们远离 Facebook 和 Twitter，但我不知道这到底是否有效果。我们正处于教育和灾难的竞赛中，谁能跑赢？说实话我比较悲观。全书最后引用《美丽新世界》的作者赫胥黎作为终结：

> 人们感到痛苦的不是他们用笑声代替了思考，而是他们不知道自己为什么笑以及为什么不再思考。

在《1984》和《美丽新世界》的两种死法中，我们大约是要走向后一条路了。
---
title: 为什么每个统计博士生都得通过概率论的资格考试
date: '2018-04-12'
slug: stat-phd-qualify-exam
---

在统计之都最近发表的[吴建福老师的访谈](https://cosx.org/2018/04/interview-of-jeff-wu/)中，他提了一个问题：

> 为什么我们要坚持每一个博士生都参加并通过概率论的资格考试呢？

这话听着有点耳熟：好像我几年前也有过[同样的感叹](/cn/2015/10/interview/)。他又讲：

> 目前的体制没有足够的时间来磨练计算能力。如果你为了通过概率论考试而努力了一年，你怎么能学会编写计算代码，或掌握计算呢？

某种程度上我觉得有些老师是很自私的，虽然他们自己也许没意识到这种自私。他们总觉得自己研究了大半辈子的东西一定是很重要的，而不管外界环境如何变化、进化，于是让自己的学生也必须得死守一座山头。

跟吴老师提的这个问题可以发生强烈对比的一篇文章是美国统计学会今年（2018 年！）发布的关于[统计学教师晋升的评估指南](http://www.amstat.org/asa/files/pdfs/POL-Statistics-as-a-Scientific-Discipline.pdf)。这篇文章让我深深为我的母校感到耻辱，因为其作者名单中，有三位是爱荷华州立大学统计系的大牌教授。为什么我感到耻辱？因为这篇指南通篇只字未提计算或编程或软件或可重复性研究；不知这是有意还是无意的遗漏。不管怎样，这篇指南意味着，在评估一个老师优劣的标准中，他/她在统计软件方面的贡献没有意义。这在推特上引发了众怒，Thomas Lumley [也写了一篇日志](https://notstatschat.tumblr.com/post/169945333636/as-far-as-it-goes)表达了他的看法。以前在我们系里负责研究生教育的头目 Alicia 也[表达了对本系的愤慨](https://twitter.com/ALCarriquiry/status/954789308757659648)。这大概也能解释为什么他们前几年逆势而行，把博士生的两门最核心的理论课（测度论、概率论和数理统计）扩展成三门课。在我看来，最该扩展的本该是编号 579 的 R / 统计计算入门课，这门课的学生压力极大，但只有 1 学分。论实用性，这门课远在测度论之上，而那些理论课通常都是一门课 3 学分，十分不公平。系里有些搞理论的老爷子每次谈起计算，那鄙夷简直就挂在脸上，仿佛做计算的人都是劣等公民。回过头去看，我很庆幸我在学测度论的时候并没用心，而是在[捣鼓统计之都网站的 PHP 代码](/cn/2010/12/fighting-like-a-pig/)，虽然我这几门理论课的成绩不好看，但我一点也不后悔。

学术界总是以创新为标签，可守起旧来跟那些不肯剪辫子的遗老遗少并没有两样。

吴老师继续讲：

> 我想说的是，有一些不那么有趣的渐近性论文，而它们充斥着各种期刊。这可以创造很多的就业机会，但无助于推进这个领域。当人们做研究时，他们从历史的视角思考了吗？

他好几年前有一篇文章《[统计学者的工作风范：灵感、抱负、雄心](https://icsaimage.files.wordpress.com/2015/10/icsa-bulletin11jul.pdf)》，非常值得一读，我比较喜欢这种写法。顺便说一句，台湾教授写东西似乎有类似的风格，赵民德老前辈十几年前在中国群众大学的系列讲座《[关于统计论文的撰写](http://www.jds-online.com/blog/2007/02/04/%E9%97%9C%E6%96%BC%E7%B5%B1%E8%A8%88%E8%AB%96%E6%96%87%E7%9A%84%E6%92%B0%E5%AF%AB/)》也是我很喜欢的风格（建议趁早下载珍藏）。你一读便知，满满的历史气场，大师的视线可以看到地平线之外，而有些所谓的大名鼎鼎的教授，却只能看到他自己这个山头的一亩三分地，即便他耕种地很精心，这块地总归是有限的。

在访谈的前面谈个人历史的部分，他谈了那篇 EM 论文的发表过程。我在想，为什么我们至今还要顽固地坚守在暗处匿名评审的传统？他说的这个故事已经不是第一例审稿人找茬的故事了，Efron 的 Bootstrap 论文发表一样遭遇过拒稿（理由似乎是太简单、没多少数学证明？）。这都是已知的故事，那历史上还有多少重要的成果因为匿名评审被埋没的，我们无从得知。我相信，只有在阳光下才有公正可言；如果每个（审稿）人能正大光明地为自己说的话负责，那么学术研究的成果发表就不会因为那三个匿名审稿人而受阻。只有在一套透明的论文发表系统里，我们才能把那些品行恶劣或眼光短浅的审稿人踢出去。在现实社会中，我们都有自己的信用值，审稿系统里为什么不能也有信用系统呢？我好像又得提《原则》一书了，里面反复强调了根据可信度加权的投票原则，我觉得这个可信度的想法很好。一人一票的投票原则只是表面上的公平，实质上几乎不会公正。

访谈里他提到了 Persi Diaconis。我最早知道这个人是通过统计之都的文章（[一](https://cosx.org/2012/08/persi-diaconis-1)、[二](https://cosx.org/2012/09/persi-diaconis2)）。没想到是这位魔术师指点了 EM 小伙。吴老师的这个证明过程也有点意思，竟然是在照顾不到一岁的女儿的过程中突然想起一个定理，然后上楼把证明写了出来。好呀么一个痴人！
---
title: 写包的数量代表高产吗？
date: '2018-04-13'
slug: prolific
---

上个月我看见一篇博客，标题是《[最高产的 R 包作者](http://blog.revolutionanalytics.com/2018/03/the-most-prolific-package-maintainers-on-cran.html)》。博主两年前用了一个标题“[最流行的 R 包](http://blog.revolutionanalytics.com/2016/11/most-popular-r-packages.html)”时我就在推特上怼了他（不要偷换概念、把下载量与流行等同），这次又用了一个我认为很不恰当的[形容词](/en/2018/03/on-adjectives/)。我看到这篇文章标题时，还没看内容就先想到一个包：[assertive](https://cran.rstudio.com/web/packages/assertive/)。看看这个包你就明白为什么一个人发布的 R 包的数量不能代表高产了。当年这个包的作者把一个包拆为十几个包时，我就给他写邮件说这没意义吧，他没回应。想来我以前也是蛮喜欢管闲事的。

[把话说精确](/cn/2018/03/12-rules/)是个永远的难题。

这种文章有没有积极意义呢？当然也有，可以激励人，无论是包的作者，还是那些想写包的人（有模范作用）。但为什么我要怼这种文章，是因为这里面提到的人都已经太有名，再这么吹下去，就变成挂墙上的人了。与其吹这些名人，还不如多花些精力去发现尚未出头的千里马，好生培养之。
---
title: 惟有饮者留其名？
date: '2018-04-16'
slug: alcohol
---

李白在《将进酒》中说“古来圣贤皆寂寞，惟有饮者留其名”，让一些人不服。这事儿我觉着不用较真，留名的当然不可能只是喝酒的人；他就这么一说，我们也就这么一听，就完了。

2015 年我在冯俊晨对我的[采访](https://cosx.org/2016/01/interview-of-xieyihui/)中也提了这句话。我是觉得这话其实有一定道理。我在[看《80 年代访谈录》时](/cn/2017/01/blog/)，注意到里面有人提到作家吸大麻还是什么兴奋剂之类的（忘了是谁），说这是刺激灵感的一种方式。当然，我并不赞成用这种生理方式寻找灵感，但李白说的“惟有饮者留其名”大概跟酒的兴奋剂作用有关。一方面可能是他自己喝大了说了大话，另一方面可能有些名人确实是在酒精考验下能写出不一般的作品，毕竟寻常文字不会引起太多人的注意。
---
title: JavaScript 版的 Tensorflow
date: '2018-04-16'
slug: javascript-tensorflow
---

粗略看了一下 [TensorFlow.js](https://js.tensorflow.org)，觉得几个例子都很有创意，不过我还没能想出一个我能用得上的场合，先记个笔记在此。

每当看见能和人交互的 JS 库，我都会琢磨一下能不能在下次我某个报告中搞个大新闻；几年前我做的那个简单的[语音交互的 Shiny 应用](https://yihui.shinyapps.io/voice/)我已经讲厌了。
---
title: 为什么论文一定要发表在纸上
date: '2018-04-16'
slug: paper
---

最近 The Atlantic 上发表了一篇文章叫《[科学论文已过时](https://www.theatlantic.com/science/archive/2018/04/the-scientific-paper-is-obsolete/556676/)》，文章略长；嫌长的读者可只读第一部分（开始谈论 Wolfram、三个星号之前的部分），因为这一部分已经完全表达了该表达的意思，后面第二部分只是腹黑 Wolfram，第三部分只是给 Jupyter 打广告，顺便表扬一下开源事业。尤其是要看看第一部分里 Victor 的例子，它完美展示了用纸媒或 PDF 发表科学论文的缺陷、以及用网页格式的优势。这也是我自从[大约 2012 年起](http://slides.yihui.org/2013-SIAM-CSE13-Yihui-Xie.html)开始宣扬的观点：网页格式优先、PDF 次之（甚至只是可选）；不要把太多宝贵青春浪费在排版上，而是记住我们的终极目的是传播知识。四百年前科学论文诞生在纸上，那是因为没有选择，而且那时的科学发现用写的方式也容易说清楚；过了四百年，技术更新了这么多，有了更便利的表达方式，还需要遵循老祖宗的传统吗？

其实最完美的例子是 [Distill](https://distill.pub)，而不是 Jupyter Notebook。我觉得其实 Mathematica 除了不开源之外，作为一个计算类工具，真的甩开了其它软件几百条街。它有着太超前的眼光和能力，只是吃了不开源的亏。开源工具的流行，一定程度上不是因为它们厉害，而是占了免费的便宜。这是闲话了。

这篇文章说科学论文已过时，我自然毫不怀疑，我去年还说期刊该灭亡。问题只是我们的学术界、科研界还需要多少年才能摆脱纸张的束缚？我对这个问题的答案相当悲观。这个市场太大，传统的惯性太强，还有无数的利益关系。

用戳戳戳能说明白的事情，非要用写写写的方式。这就是~~斯琴高丽~~学术界的伤心。
---
title: 写教材
date: '2018-04-17'
slug: write-a-textbook
---

敝厂的首席讲师 Garrett 曾延伸费曼的话说：如果你想掌握一门知识，那么最好的方式是去教这门课；如果你想成为一个好的讲师，那么就把一门课教两遍（总结并改进上一次的失败）。最好的学习方式是教学；能教给别人是理解知识的最低门槛。换句话说，如果你做不到能给别人解释清楚一件事，那你可能并不理解这件事。

我联想到写书的事，因为我觉得写书跟教学类似，也是掌握知识的一种方式，而且这种方式也是一般人不会用的。今日看到母校统计学院的一篇报导，其中有一段王晓军老师的回忆：

> 统计学院副院长王晓军回忆起当初在袁卫教授带领下做的“大项目”。“那年毕业刚来人大不久，刚好碰到咱们统计学院筹建一门全新的学科——‘风险管理与精算’。没有教材，没有课程体系，是袁卫老师带领大家从零开始做。”当时团队里年轻人多，袁卫教授带着大家阅读国外的专业材料，一砖一瓦构筑起全新的、系统的课程体系。两年后开始授课，一边上课一边完成了教材的撰写。“过程很顺利，形成了很好的成果。”在国内率先建立起一门学科并巩固领先优势，面对成绩，王晓军表示，“袁卫老师带着我们一件件地做，每件事都感觉是顺理成章。”

里面尤其引起我的注意的是“一边上课一边完成了教材的撰写”，我也觉得这是一种很好的写教材方式。成本低、速度快、效率高。传说邵军老师的《数理统计》一书便是整理自他读研究生期间的笔记。我想，一般人不敢写书，一方面是心里没底或太谦虚，另一方面也是因为不注意积累。后一个原因是很可惜的。尤其是在学生期间，记了那么多笔记，考完试就扔掉，着实可惜。同样，老师的讲义也一样。当然，不是每一份笔记或讲义都有出版的可能，里面多少得有一些学生或讲师自己的思考，那些完全对照别人的书列出来的笔记、讲义当然没有出版的意义。

我推出 blogdown 的一个潜在目标就是让大家养成积累文字记录的习惯。《Rework》这本书就是博客文章汇总起来的，而不是作者们一时兴起专门抽时间写出来的一本书。待我把 R Markdown 的书写完了[再来仔细琢磨一下这事](https://community.rstudio.com/t/2767)。
---
title: 语言圣战的终结？
date: '2018-04-19'
slug: hiring-wes
---

一直以来我都以小人之心认为所谓的 Jupyter 只是 juPYter，即：它生于 Python 社区，用户基本也是以 Python 为主；去 Jupyter 大会看一眼演讲便知，几乎清一色 Python，没几个 R 或 Julia 演讲。而其带头大哥实在太能画饼，我看他的演讲和文章，感到实在望尘莫及。这种融合多种语言的方式总让我觉得不够彻底。今日敝厂宣布了一个[惊天消息](https://blog.rstudio.com/2018/04/19/arrow-and-beyond/)：我们要和 Wes McKinney 一起合作开发一种新的数据格式。混蟒蛇社区的人都知道，他是著名的 Pandas 的原作者；RStudio 竟然掏腰包给蟒蛇社区超级大哥大付工资搞开发？

本码畜为敝厂这一举动感到骄傲。这才是真正的压缩[自我标签](/cn/2018/03/identity/)的行为。当然，RStudio 的根基仍然是 R，这一点不会变；作为一个把大部分人力都奉献给开源的创业公司，这几年能撇开风投自给自足活下来，已经是个奇迹；现在还要在开源之路上再大跨一步。

如果这事儿能成，再过几年我们就可以轻松在普通笔记本上分析上百 G 数据了，麻麻再也不用担心我们的个人电脑内存不够用。
---
title: 用 R Markdown 做 PPT
date: '2018-04-19'
slug: r-markdown-ppt
---

有些熟悉我的语言习惯的人知道，我一直[反对把幻灯片称为 PPT](/cn/2010/12/software-to-make-slides/)，因为 PPT 是 PowerPoint 的缩写，是一种特定的文件格式。世上有很多种幻灯片格式，如 beamer 或 HTML5 幻灯片。

今日既然我说 PPT，那就是真的指 PPT 了。用 R Markdown 做 PPT 的功能，几个月前就存在了，只不过是因为需要更高版本的 Pandoc，所以我们一直没吱声。现在最新开发版（注意是开发版，即：不保证稳定性）的 RStudio 已经绑定相应的 Pandoc，勇猛的壮士可以一试。[详细文档在此](https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html)；这是我正在写的一本书，还请不要在社交媒体帮忙宣传，因为我一般不会提前宣传我没做完的工作，这次因为需要提前找用户测试，所以破个例。

我知道有些用户会兴奋地跳起来，不过我个人对这个功能内心毫无波澜，因为我已好些年不用微软的 Office 产品。
---
title: 追风的女儿
date: '2018-04-21'
slug: chasing-wind
---

前几天背景音乐中随机出来一首很熟悉的笛子曲目，让正在码字的寡人不由虎躯一震。上一次听到这首曲子应该还是在高中，有一段时期的午睡起床曲子里有这首，但这么多年我一直不知道它叫什么名字。戳开网易云音乐一看，原来叫《[追风的女儿](http://music.163.com/#/m/song?id=211442)》，貌似高胜美有一首同名歌，背景故事有些凄惨。说到高中的起床广播，顺便提一段插曲：那时候高中那位午睡后放广播的老师非常偏爱那英，活生生把我们这一届学生训练成了巴普洛夫的狗。比如有一个冬天的第一首起床曲一直是《不管有多苦》，导致我至今哪怕刚听到这首歌的前奏，仍然还立刻会觉得好冷。

同样碰巧的是前天我又解开了一个更久远的谜。小学时，我不知在谁家电视上看了一个电影，剧情大致是因为一文钱的缘故最后导致死了好些人；具体记不清，但还记得有个妇人上吊，吊错了门。前天吃饭时，听了一集三言二拍评书，刚听几分钟就发现，咦，这不是我小时候看的那个电影吗。后来放狗一搜，原来是《醒世恒言》中的《[一文钱小隙造奇冤](http://www.guoxue123.com/xiaosuo/0003/xshy/035.htm)》。

去年我在《[Nakasendō](/cn/2017/02/nakasendo/)》一文的脚注里提到雅尼的《夜莺》，那也是一例刚听到时不知道名字但最终久别重逢的曲子，不过没上面两例那么久而已。

可能我有那么一丁点找歌曲的潜能和兴趣。2008 年[我在德国几日游](/cn/2008/08/germany-trip-6/)的路上，听司机车里放了一首我之前没听过的麦当娜的歌，耳朵不好使，只听出了几个单词。回国后愣是把这首歌挖了出来（《Live to Tell》）。

同样，家里小朋友隔三差五唱一些从托儿所学回来但我不知道的英文儿歌，由于吐字不清，时常让我疑惑好一阵子他唱的到底是什么鬼。比如《Itsy Bitsy Spider》我从头到尾只听得懂 spider 这一个词，后来实在忍不了，放狗搜了一下“spider kids song”，点开 Youtube，正是他唱的调调（听不懂大概是因为这歌词里面好几个词我不认识，连雨水管子都不认识）。还有《Ring Around the Rosie》，我也只能听懂最后一句大概是“we fall down”，于是根据歌词把歌找了出来。学了半辈子英语，连儿歌歌词都看不懂。语言这东西，若不是母语还真是难融入。

论我的人生最早之谜，恐怕是小学时（一年级或二年级？）的那篇讲狼在上游喝水、羊在下游喝水、狼故意找茬的语文课文。羊说：“狼先生，我在下游喝水怎么会弄脏了您的水”。我当时不知道“先生”是什么意思，满心疑惑，狼为什么是先于羊而生的，以及谁先生、谁后生跟这里的喝水有什么联系。
---
title: 一些 ImageMagick 命令
date: '2018-04-23'
slug: imagemagick
---

偶尔需要简单处理一下图片，无奈 ImageMagick 功能繁多，实在记不住命令行，每次都得搜一遍。索性开个帖子积累一下笔记：

- 按特定百分比缩放图片：

    ```sh
    convert -resize 25% INPUT OUTPUT
    ```
- [加黑框](http://www.imagemagick.org/discourse-server/viewtopic.php?t=17158)：

    ```sh
    convert INPUT -shave 1x1 -bordercolor black -border 1 OUTPUT
    ```

- [白色转为透明色](https://stackoverflow.com/a/12434319/559676)：

    ```sh
    convert INPUT -fuzz 20% -transparent white OUTPUT.png
    ```

- [横向合并多幅图片](https://stackoverflow.com/a/20749970/559676)：

    ```sh
    # 合并五幅图 0.png, 1.png, ..., 4.png
    montage [0-5].png -tile 5x1 -geometry +0+0 out.png
    ```
---
title: 技术问题容易解决，人的问题最难解决
date: '2018-04-24'
slug: human-problems
---

罗杰彭昨天写了[一篇日志](https://simplystatistics.org/2018/04/23/what-can-we-learn-from-data-analysis-failures/)回顾若干年前的杜克丑闻（一个叫 Potti 的人造假并发表了一些看起来令人振奋的论文），并总结了教训。其最终结论是，如果一个数据分析项目的带头人和成员之间的关系不够民主，那么什么软件工具或统计方法都拯救不了这个项目。这倒是一个不错的视角，因为通常我们谈数据分析时，总是在谈统计方法或软件，而鲜有人提及数据分析者与上层领导的关系。如果领导会压制数据分析者的意见，那么就不用指望数据分析的结论有多靠谱。在杜克丑闻中，那个实验室里有个学生已经意识到数据分析方法明显有误，并给领导写信说明，但这些意见被忽略了，最终酿成大错。所以这些领导到底在意的是能骗多少经费，还是自己的方法是否能拯救癌症患者，也就一目了然。最后背锅的似乎只是 Potti 一人；当然，他必须得受到惩罚（然而似乎他后来到另外一所学校逍遥了），但那个收到学生意见的单位领导呢？他的不作为本质上跟 Potti 一样邪恶，是否也得到了惩罚？有时候贵学术圈跟贵娱乐圈一样，真乱。

我这个标题同样适用别的场景。作为码农，我首先想到的自然是代码场景。有些问题不是来自于技术，而是纯属人造，这种问题最让人无奈。比如某些网站对密码的要求（人为规则让密码看似更强但实则更弱）、某些大学 IT 对个人网站的文件夹命名要求、期刊或毕业论文格式要求。这特么都是些什么鬼要求，有特么什么实质重要性，它们的存在只不过满足了少数一些人的强迫症心理，给大多数人制造麻烦，于这个世界毫无增益。

如果码农只需要跟代码打交道，那该是有多幸福。换句话说，跟代码打交道比跟人打交道容易得多。
---
title: 论临时变量名 tmp 与代码的语感
date: '2018-04-24'
slug: tmp
---

在审阅谭显英壮士的一个补丁时，我[注意到](https://github.com/rstudio/DT/pull/532/commits/bc15293d1b4)一个在码农中极为常见的变量名，那就是万能的 `tmp` 变量。一方面可能是受教科书式代码影响（教科书的例子通常比较泛），另一方面也是不想费脑子想一个具体的变量名，所以一旦需要一个新的不那么重要的变量，先蹦入脑海的就是 `tmp` 之类的变量名。

```js
var tmp, i, j;
for (i = 0; i < data.length; ++i) {
  tmp = data[i].slice();
  for (j = 0; j < order.length; ++j) data[i][j] = tmp[order[j]];
}
```

这段代码要做的是把数据按照 `order` 的列序重新排列。用 `tmp` 当然无妨，确实是用完就可以丢弃的变量，但若改成 `row`，那么我觉得这段代码的意义在没有注释的情况下会更加清晰：

```js
var row, i, j;
for (i = 0; i < data.length; ++i) {
  row = data[i].slice();
  for (j = 0; j < order.length; ++j) data[i][j] = row[order[j]];
}
```

先按行循环，提取第 i 行（用 `slice()` 是为了复制一份数据，免得不小心修改 `row` 而导致牵连修改原数据对象、反之亦然），再按列序重排。

代码注释固然是个好习惯，但如果能做到代码本身可以部分扮演注释的角色，那就更好了。那如何做到代码即注释呢？就需要尽量使用有意义的变量名，让代码读起来就像文字一样。这种把代码进行人类语言化的能力跟前面说的[抽象力](/cn/2018/04/abstract-code/)一样，也需要长久练习才能获得，让代码也拥有语感。
---
title: 买房还是租房？
date: '2018-04-30'
slug: renting
---

三年前在一个叫 Afford Anything 的网站上有一篇文章[驳斥了“租房就是给别人送钱”的观点](https://affordanything.com/is-renting-better-than-buying-should-i-rent-or-buy/)。通常大家都会说，租房就是把房租送给房东，而买房则是购置自己的资产，等贷款还清之后，房子就彻底是自己的，不会再在住房上有很多花销了。买房之后每个月还贷的金额小于正常租房，所以大家都应该买房。这个观点确实很流行，至少我过去还从没听我周围的任何人说买房存在不划算的可能性，而且所有人都说房子会升值。

几个月前我说[金融衍生品](/cn/2018/01/derivatives/)的时候，有客官给我推荐了席勒的《金融与好的社会》。这书我目前看完一大半，感觉里面有作者一厢情愿的部分，也有奇思妙想的部分，当然，也有我看不懂的部分。席勒讲引发零八年金融危机的一个重要原因就是民众坚信房价一定不会跌，这个信念是如此之强烈，以至于大家都在大大超出自己偿还能力的情况下还在买房或买超贵的房。

房价为什么不会跌？是什么导致了这个信念？为什么金融危机爆发过之后大家仍然不相信房价有跌的可能？

上面那篇驳斥文章中也提到了席勒，并说席勒预测到金融危机的方法很简单：就看扣除通胀因素后的房价走势（升得猛也就意味着接下来会跌得惨）。文中说房价看似在涨，但实际上只是通货膨胀而已。

即使还清了贷款，也不意味着你不会在住房上有更多花销。比如你仍然需要维修（地板漏点水、锅炉坏了、楼梯掉漆或裂了，对动手能力普遍弱到爆的中国人来说都会是大笔开支）、装潢翻新、交大笔房产税、房主协会年费、买房屋保险（年年见涨，而且要是冰雹砸坏了屋顶还得自己掏一大笔钱换房顶）、水电天然气费相比租房都会翻五六倍，等等。所以根本就不是“每月还贷小于房租就应该买房”这么简单的事儿，然而多数人不会去仔细算这笔账，只会盲目随大流，包括我在内。

Afford Anything 这个网站有点意思，作者试图鼓吹实现财务自由有章可循，但我觉得还是得小心[幸存者偏差](/cn/2017/04/survivorship-bias/)。她通过投资房产实现了财务自由，读者想模仿她的方法时，还得考虑自身的自变量取值，我并不觉得每个人都可以通过投资房产实现财务自由，甚至不可能每个人都有实现财务自由的可能。财务自由这四个字的吸引力非常大，但我觉得一些人并不了解它真正的意义。如果你觉得财务自由是意味着可以天天吃鸡、葛优躺，那我猜你的财务自由不了多久，而且也不会快乐。对我而言，财务自由意味着可以做自己认为有意义但限于目前的财务压力无法分身去做的事情。我要是发大财了，我就天天只写我自己想写的代码，干掉期刊，做个养眼的中文书籍模板（bookdown），正经做个厨子，任意时间看看书、写写博客、打打球，~~每顿饭三碗稀饭一碗放白糖一碗放红糖一碗倒掉，~~给我的中小学捐点钱。
---
title: 烙饼
date: '2018-05-02'
slug: cake
---

写了个标题，突然自动脑补[少年听雨歌楼上](/cn/2014/06/on-writing/)，然而编了两句编不下去了。

> 少年烙饼锅炉上，硬得不像样。中年烙饼稀糊中，火大时短翻面急匆匆。

我要说的是以前烙饼，我总是怕面不熟，所以烙出来总是太硬。当年鸟兄张翔周游美帝顺便来访时，早饭我给他烙了鸡蛋饼，还被他录了下来，这视频涛妹看了之后，过了几年还念念不忘。其实我那时候的水平很次。

直到今年，我才发现我过虑了，面糊只要变色就可以算熟了，而且面糊不怕稀，稀一些更好。以前面糊又干、烙的时间又长，饼不硬才怪。有时候得对食物有信心，不要怕面饼不熟、怕泡发的木耳不够、或怕压出来的面条粘一起。以前因为怕压面机压出来的面条粘成坨，所以狂撒面粉，导致下面条最终变成煮面糊。后来根本不往压好的面条上撒面粉，压出来直接下锅，筷子随便扒拉一下，就一根是一根了，完全不会粘。

去年继续种了百十来颗蒜，现在蹭蹭地长蒜苗，掐一把蒜苗烙几个饼，香喷喷。蒜苗这东西在亚洲店没得卖，所以又是物以稀为贵。好在蒜实在是各种菜里最容易种的一种。
---
title: 无言之美
date: '2018-05-03'
slug: beauty-of-silence
---

整本《民国语文》中，我最喜欢的一篇文章是朱光潜的《无言之美》。据说这是他的第一篇美学文章，但写得极好，读来真心觉得很美，与我的共鸣程度超越了之前的《[别声张](/cn/2014/12/the-gadfly/)》和《[西风无言](/cn/2015/10/wind/)》。

文章在美术、文学、宗教、生活，各方面都举了例子，论述无言、含蓄、缺憾之美。这样一篇精品，我完全不知该如何评论，于是索性也作无言状，让客官们自己去找来全文看罢。
---
title: 美的条件
date: '2018-05-03'
slug: conditions-of-beauty
---

《民国语文》中有一篇丰子恺的《从梅花说到美》，写得颇有意思，回顾了许多西方先贤对美的看法。其中提到有的学者总结的美的五个条件（“美的客观说”）：

1. 形状小的；

1. 表面光滑的；

1. 轮廓为曲线的；

1. 纤弱的；

1. 色彩明而柔的；

梅花正好符合这五个条件。我想，为什么多数人觉得婴儿可爱，大概也是因为符合这五个条件。大汉、糙脸、板寸、腱子、李逵都不会美也不会可爱。噫，人眼天生偏见就这么强烈。
---
title: 大鼓师
date: '2018-05-03'
slug: drummer
---

闻一多有一首诗叫《[大鼓师](http://www.guoxue.com/rw/wenyiduo/wyd03_067.htm)》，是少有的我这只菜鸟觉得写得好的现代诗（前提是能大致看懂）。全文见链接，我就不复制粘贴了。

> 我挂上一面豹皮的大鼓，  
我敲着它游遍了一个世界。  
我唱过了形形色色的歌儿，  
我也听饱了喝不完的彩。

> 一角斜阳倒挂在檐下，  
我蹑着芒鞋，踏入了家村。  
“咱们自己的那只歌儿呢？”  
她赶上前来，一阵的高兴。

> 我会唱英雄，我会唱豪杰，  
那倩女情郎的歌，我也唱，  
若要问到咱们自己的歌，  
天知道，我真说不出的心慌！

> ……

> “但是，娘子啊！在你的尊前，  
许我大鼓三弦都不要用；  
我们委实没有歌好唱，我们  
既不是儿女，又不是英雄！”

不是儿女也不是英雄，估计是多数世人的状态。鼓师游遍世界，然后忘了自己的歌。这让我想起《[巴奈流浪记](/cn/2017/12/poetic-lyrics/)》，感觉这歌和这首诗的思想非常契合。

现代诗是新文化运动中中文诗欧化的产物，我注意到这首诗中有一句似乎有英文语法的影子，不知是不是我过度解读：

> “怎么？怎么你也抬不起头来？  
啊！这怎么办，怎么办！……  
来！你来！我兜出来的悲哀，  
得让我自己来吻它干。

这里的“吻它干”有英文的感觉（kiss it dry）。按现在的语言习惯，应该是“吻干它”。
---
title: 昼寝的风潮
date: '2018-05-03'
slug: fascist-students
---

老舍用《[昼寝的风潮](http://www.millionbook.com/mj/l/laoshe/zw14/152.htm)》这篇虚构的小文讽刺了老师与学生之间的权力不平衡。看起来像个笑话，但现实中确实存在这种现象。有些学校评价老师教学水平的唯一指标就是学生打分，导致老师为了保住饭碗只能一味讨好学生，不敢布置有挑战性的作业，不敢出难的考题，不敢给低分。我觉得这种评价体系实在太愚蠢，给了学生不受制约的权力。对于学术界工作者的评价，我觉得唯一公正的办法是学生毕业工作之后看学生的成就，并让他们自己谈谈当年老师的教学对自己现在的成就的影响。可惜这个办法太麻烦。

文中孔夫子通过各种讨好弟子，最终没有被带上法西斯的帽子，但那些学生们才是真正的法西斯。
---
title: 码农之 Github 简史
date: '2018-05-03'
slug: github-contributions
---

有好事者做了一个 Github 瓷砖在线生成器：<https://github-contributions.now.sh>，可以用一幅瓷砖图表达一个码农的 Github 简史。下面是我自己这些年的瓷砖：

![@yihui 在 Github 上的活动汇总](https://db.yihui.org/images/github-yihui-contributions.png)

我其实是 2009 年注册的 Github 账号，但图中有 2008 年的活动，那是因为我当年把我的 [animation 包](https://github.com/yihui/animation)从 SVN 迁移到 Github 上，而 SVN 里的提交历史早于 2009 年。迁移过来之后腰不疼了，腿不酸了，写代码也有劲儿了。

2010 年没写什么代码，刚来美帝，上课为主。到了年底[猛更新了一下](/cn/2010/12/animation-v1-2-0-milestone/) animation 包。

2011 年开始[捣鼓 cranvas 包](/cn/2011/09/cranvas-package/)，上半年仍然要上课；暑假里[准备博士生资格考试](/cn/2011/06/study-furiously/)，所以暑假有一段空白。考完后的那个学期开始集中开发 cranvas 包，年底的连续空白是因为寒假回国，而之前的一点小高潮是因为我开始开发 knitr 包了。

2012 和 2013 年的精力基本上放在了 knitr 上，代码提交量也大增。2013 年 5 月左右那个大段空白[又是因为回国了](/cn/2013/05/wifi/)。2013 年下半年入职 RStudio，[年底毕业](/cn/2014/01/five-years/)。

2014 年上半年代码提交比较稀疏，整体颜色偏淡；由于在家工作的原因，我入职之后有近两年的时间都在摸鱼。这个稀疏的上半年是一个初始征兆。到了 9 月，在纽约开会时被厂里的领导约谈，有预警之意；回来后我假装卖力工作了一阵子，然后又松懈了。

2015 年年初有大段空白，那是我[回国过年了](/cn/2015/09/memory/)。尽管我已经五年没回国过年，但这次过年简直不能更糟糕。我许诺回国了要用平时减半的时间工作（即每周工作二十小时），但这两个月里我根本没摸过几次键盘，光顾着走亲访友吃吃吃了。3 月回美帝之后，愧疚无比，开始疯狂工作。到夏天犬子出生，休了一周假。到了秋天开始开发 bookdown，然而还没过两个月，我就[因为强烈的背痛倒下了](/cn/2017/01/blog/)。痛了两周之后基本恢复了，所以又工作了两周，然后上了手术台，又休了两周。

2016 年是 bookdown 之年，上半年代码提交比较密集。暑假回一趟国，于是又有大段空白，这次我尽力想在国内的时间里工作，但真的是太难，每天不知道怎么总是满满的安排，吃喝玩乐的干扰实在太多。隔三差五心里又惴惴不安。回美帝之后花了几个月把 bookdown 的书写完出版，然后开始 blogdown 的开发。

2017 年是 blogdown 之年，其实年初的时候雏形就已经写好，但写这本书的难度远大于写代码，主要是话题太大，技术细节太多，如果要说太细，这本书也许两年都写不完。写着写着又有点灰心丧气（下半年的开头有大片浅色区域），感觉快撑不住的时候列了一个写作计划，才顺着这根救命稻草从泥潭里爬出来。

2018 年的上半年留给了一本 [rmarkdown 官方书籍](https://github.com/rstudio/rmarkdown-book)的写作。本来计划了 12 章，我琢磨着一个星期一章，从 [RStudio 大会](/cn/2018/02/ninety-posts/)回来之后用三个月时间写完。后来变成 18 章，只是把原来的一些节升级为章了，所以有些章很短。就在昨天中午，我写完了第 18 章，跟头儿开会的时候觉得可以弹冠相庆了，但下午厂长说最好是再加一章，介绍他这周开始折腾的一种新格式。晚上我再一想，[learnr 这个包](https://github.com/rstudio/learnr)我在书中也没有介绍，最好也加上。于是乎，还得再埋头写两章。

以上便是一幅瓷砖图表达的一个码农的七年简史。需要注意的是，从去年 3 月开始，我启用了 Travis CI 上的一些定期编译任务（cron job），所以有每日自动提交，图中虽然没有灰色块，但实际上并不是我自己的提交导致的 Github 活动，最浅的绿色块基本可以视作灰色块，即无活动记录。

上面是一个初出茅庐的职场人士的记录，作为对比，下面我们可以看看本厂厂长的活动记录。他是一个高度自律的人，他的活动在这些年也相对比较均匀，不像我，到处都是大缺口。唯有 2013 年上半年活动量相对少一些，我不知道发生了什么，但我记得那之后他曾跟我说他已经落后他的计划好几个月，所以他不想分心做别的事，而是要集中精力写代码了。2013 年下半年 RStudio 招来一个做管理的主席，解放了厂长，于是他心无旁骛、乐此不疲地写代码去了。

![@jjallaire 在 Github 上的活动汇总](https://db.yihui.org/images/github-jjallaire-contributions.png)
---
title: 《民国语文》中的死亡
date: '2018-05-03'
slug: minguo-death
---

几个月前看完上下两册《民国语文》，话题有些杂，不知如何总结是好。先挑几篇提及死亡的文章说吧。

## 邹韬奋《我的母亲》

邹韬奋不知道母亲的名字，因为旧社会的女性不可公开自己的名字。文章最后写了母亲给他半夜做鞋的事，年幼的他夜里醒来看母亲劳累，于心不忍，于是撒谎说天太热睡不着，起来陪陪母亲。

> ……现在我的母亲不在了，她始终不知道她这个小儿子心里有过这样的一段不敢说出的心理状态。

> 母亲死的时候才二十九岁，留下了三男三女。在临终的那一夜，她神志非常清楚，忍泪叫着一个一个子女嘱咐一番。她临去最舍不得的就是她这一群的子女。

其实我觉得他母亲心里应该是清楚儿子是为了陪自己故意起床的。

## 沈从文《辰州途中》

沈从文看见一个水手为了推搁浅的船而下水，但被冲走了：

> 只见一个水手赤裸着全身向水中跳去，想在水中用肩背之力使船只活动，可是人一下水后，就即刻为激流带走了。在浪声哮吼里尚听到岸上人沿岸追喊着，水中那一个大约也回答着一些遗嘱之类，过一会儿，人便不见了。这个滩共有九段。这件事从船上人看来，可太平常了。

这一段叙述有种说不出的感觉：在如此平静的文字中，一个大活人说死就立刻死了。

## 石评梅《社戏》

看这篇文章之前我从没听说过这个人，看了后面的评语我大概知道是为什么了：她刚满二十七岁就死了。原来是[民国四大才女之一](https://zh.wikipedia.org/wiki/%E7%9F%B3%E8%AF%84%E6%A2%85)。可叹。

书中还收录了林徽因的《悼志摩》。我知道徐志摩是死于飞机失事，但不太记得他的年龄，看文末评语得知是三十五岁。

我之所以开始注意这些人死时的年龄，主要是受《古文观止》中与死亡相关的几篇文章影响，尤其是夏完淳的《狱中上母书》：

> 恶梦十七年，报仇在来世。神游天地间，可以无愧矣！

十七年是虚岁，实际上他十四岁随父抗清，最后失败被杀的时候才刚满十六岁。十六岁，这是什么概念。
---
title: 民国时期的中英混杂
date: '2018-05-03'
slug: minguo-lang-mix
---

大概是因为晚清的软弱无能，国民被西方坚船利炮冲击得都失去了自信。随着西方思想和技术的流入，学者的语言也被改造了（如摒弃古诗、开始写近代诗）；那些接触到西方先进思想和技术的人，可能是兴奋过度，于是把英文词汇也原样照搬回来，造成了奇怪的中英混杂。以前我说过[丰子恺的例子](/cn/2017/05/little-mind/)，这次看《民国语文》，里面还有其它例子。

如刘文典在《我的思想变迁史》里用了很多英文单词，培根之类的人名不经汉化可以理解，但有些句子实在让人读来别扭，比如“这就是我的 Confession 了”。梁遇春的《人死观》的行文风格非常类似，大量西文引用和中英混杂，如：

> 永生同灭绝是一个极有趣味的 dilemma，我们尽可和死亲昵着，赞美这个 dilemma 做得这么完美无疵，何必提到死就两对牙齿打战呢？

同时期的夏丏尊在《作文的基本的态度》中讲：

> 在国外，用外国语，在国内，应用本国语（除逼不得已须用外国原语者外）。“我们的 father”“你的 wife”之类，是怪难看难听的。

虽然他不赞同混杂，但其实同样在这篇文章中，他也借用了英文的“六 W”概念（何时何地何人等），这仍然说明了英文对文人学者的冲击。

关于中英混杂，我申明过多次，并不是说方块字中一定不能出现外文字符，而是说一些常见的、有明确而通行的中文表达的对象，就没必要硬转为英文单词表达。中文表达并不丢人，嵌入不必要的英文单词也并不显得人高明，我们对自己的语言得有点信心。当然，现在说这些也没用了，并且常看我博客的客官们已经对这个话题听得耳朵起茧；混杂的语言已然是一门流行的新语言，势不可挡。
---
title: 距离的组织
date: '2018-05-03'
slug: organize-distance
---

前面《[闲情赋](/cn/2018/01/leisure-emotion/)》中我感慨近代诗实在难懂，今日以卞之琳的《距离的组织》为例。这是朱自清在《经典常谈 文艺常谈》里的《解诗》一文中提到的例子，当时看见我就彻底蒙了。估计多数人也会跟我一样的感受：这特么写的是什么鬼？

> 想独上高楼读一遍《罗马衰亡史》，  
忽有罗马灭亡星出现在报上。  
报纸落，地图开，因想起远人的嘱咐。  
寄来的风景也暮色苍茫了。  
（醒来天欲暮，无聊，一访友人吧。）  
灰色的天。灰色的海。灰色的路。  
哪儿了？我又不会向灯下验一把土。  
忽听得一千重门外有自己的名字。  
好累呵！我的盆舟没有人戏弄吗？  
友人带来了雪意和五点钟。  

尤其是“我又不会向灯下验一把土”和“我的盆舟没有人戏弄吗”这两句，让人完全摸不着头脑。要懂前一句，得知道王同春是谁，以及当时的《大公报》文章。过了这么多年之后，读者要理解这句话，就跟让一百年前的人理解“我与谁谁谈笑风生”这样的句子一样难。后一句等到过了好几个月之后，我在何其芳的《画梦录之白莲教某》中看了下面这句话，遂意识到它与上面诗中那句话的联系：

> 你没有动它！刚才在海上翻了船，几乎把我淹死了！

原来是《聊斋》中的故事。上次读《聊斋》还是高一的时候，没看完，而且内容基本全忘了，哪里还记得这个以盆作舟的典故。
---
title: 诗之管道
date: '2018-05-03'
slug: poem-pipe
---

朱自清在《文学的一个界说》一文中谈文学的功用与特点，第三点说文学的特色在其艺术、暗示、永久等性质。举例中提到了潘岳的悼亡诗（节选）：

> 凛凛凉风升，始觉夏衾单。  
岂曰无重纩，谁与同岁寒。  
岁寒无与同，朗月何胧胧。  
展转盻枕席，长簟竟床空。  
床空委清尘，室虚来悲风。

去年[我提](/cn/2017/12/poetic-lyrics/)刘欢《弯弯的月亮》时，曾说其歌词的感觉像管道语法，上一句的末尾重复作为下一句的开头。这首诗也一样，这种九曲回环、却偏不直抒心意的形式很有感染力。
---
title: 吃酒
date: '2018-05-04'
slug: alcohol
---

丰子恺好吃酒，有几篇关于酒的文章。我有印象的还有两篇，一篇是《沙坪的酒》，一篇就叫《吃酒》。前文大概说的是他吃酒不喜醉，这跟我一样；重庆沙坪坝的酒像他家乡的绍兴黄酒，所以他乐意小酌几杯。看着儿女长大成人，花草欣欣向荣，于是引用陶渊明的一句诗（《连雨独饮》）：

> 试酌百情远，重觞忽忘天。

这才是一种惬意和享受的吃酒状态（注意是独饮）。我不喜欢中土大唐的那种推崇把人灌醉的酒文化，其实说白了，就是用酒对身体的伤害来表决心、表忠心、或表什么别的心。一口闷的滋味并不好受，但这种行为会被人解读为特定的含义。我从来不看重人情关系，所以我一般也会躲避那种需要痛饮三百杯的场合，比如当年本科、硕士毕业，就算大家都喝得眼泪哗哗，我也会自己适可而止，不会跟着豪情万丈醉卧沙场，我不看重人情就可以到这个程度。当然，俗话说酒逢知己千杯少，在极少数情况下，我还是乐意多吃两杯的。

在后文《吃酒》中，丰子恺回顾了四件往事：在日本用大螺蛳吃酒（其中他高度赞扬了一次性木筷，称其为“世界上最进步的用品”）、在上海城隍庙用“过浇面”的浇头吃酒、抗战逃难途中骗一个老爷子的酒吃、见一人钓几只虾之后去店里用开水烫了吃酒。最后的这个是个真讲究吃酒的人。似乎丰子恺还有一篇文章是讲他爹是如何仔细着吃酒的，跟这个人有些类似，但我忘了文章标题。

我来美帝后，基本上没碰到过酒精考验的场合，偶尔与人喝点（多为啤酒），却总发现人酒量小得令人发指。这有些奇怪，可能是逆向选择的原因：出国的也许大多都是不爱喝酒或厌倦了国内的酒风的人。迄今为止，唯有当年的[腾飞兄](http://www.tengfei.name)还算是个饮者，每次去他家吃火锅或吃饭，总有好酒招待，想来甚是怀念他的红焖羊肉火锅，不得不说这厮很会享受生活，中餐西餐都爱琢磨一番，是一只有趣的吃货。
---
title: 毛姆的文学回忆录
date: '2018-05-04'
slug: great-novelists
---

前段时间看完毛姆的《文学回忆录：世界十大小说家及其代表作》，写得颇有趣味，有点颠覆我对那些小说家的想象。他列的十本小说中，除了《大卫 · 科波菲尔》我看过一半之外，剩下的都没翻过。可能读过小说再来看毛姆的评论更合适一些。这本书我一共做了五处笔记。

## 托尔斯泰及其《战争与和平》

托尔斯泰一生思想挣扎，挣扎的核心问题其实就是我在《[职业羞耻感](/cn/2017/02/shame/)》中说的，世人的付出和回报总是不成比例。这是他早年的想法：

> 我当时和现在都感觉到，以后也会如此感觉：只要我有多余的食物，别人没得吃，我有两件大衣，别人一件都没有，我就感觉自己在不停地犯罪。

于是他干体力活儿、挑粪、劈柴、做靴子、吃素、戒酒、认为钱是罪恶。最终以八十二岁的高龄离家出走，死在火车站，原因还是因为遗嘱中的财产问题（他想把自己的作品赠予大众，但妻子反对，并串通外人要拿到出版权）。

## 巴尔扎克及其《高老头》

现实生活中的巴尔扎克竟然是这样一个混蛋，嗜赌、浪荡、粗俗。毛姆的最后一段点评很有意思：

> 世上最伟大的四个小说家（巴尔扎克、狄更斯、托尔斯泰和陀思妥耶夫斯基）各自的语言都写得不好，真奇怪。文章写得好似乎不是小说家的标准配置；那股子精力和活力、想象力、创造力、观察力，以及对人性的关心与同情更加重要。不过文笔好还是胜过文笔差吧。

有些客官大概能猜到我为什么要划出这一段：代码写得好不是码农的标准配置，精力、活力、想象力……和对人性的关心与同情更加重要。当然，代码写得好还是胜过写得不好。这似乎可以是一个普世法则。

## 勃朗特及其《呼啸山庄》

要不是我现在通常有意避开看小说（不想被情节性的东西牵着走），毛姆对这本小说的最后一句点评几乎让我想找来《呼啸山庄》看看，感受一下什么是他说的力量。

> 此书非常不完美；但它拥有极少小说家能给你的东西，那就是力量。我没见过一部小说描写爱的痛苦、狂喜、狠心、执着描写得这么令人着魔，16至17世纪的西班牙画家埃尔·格列科（El Greco）有一幅伟大的名画：雷霆大作的乌云下，景色阴暗荒瘠，颀长消瘦的人体呈现扭曲的姿态，被一股阴森森的情绪魅惑，屏息不敢吐气；一道闪电划过铅灰色的天空，使场景带有一股决绝的神秘恐怖的气氛，《呼啸山庄》就让我想起那幅画。

## 狄更斯及其《大卫 · 科波菲尔》

我这一处笔记跟小说无关，我把它挑出来只是觉得这一段讽刺写得太过瘾：

> 一百年前的美国人虽然乐于贬低欧洲的一切，但别人若批评他们，他们却很敏感。一百年前的美国新闻界会无礼侵犯任何倒霉的“新闻人物”的隐私权。一百年前的美国，注重宣传的人把有名气的外国人看成促销的天赐良机，对方若不太愿意被当作动物园的猴子来耍，他们就说他自负。一百年前的美国是个只要言论不冒犯别人的脆弱情感或影响别人的利益就可自由发言的地方，人人都可拥有自己的观点，只要这些观点和其他人的保持一致。

## 陀思妥耶夫斯基及其《卡拉马佐夫兄弟》

我发现老卡拉马佐夫的次子伊万跟我在《职业羞耻感》那篇日志的结尾得到的结论完全一样：

> 那么上帝不是邪恶就是不存在。

读书的乐趣之一就是你有一个奇怪的想法，以为这世上不会有什么人也这样想，但在书中发现有人跟你的想法一样。比如达利欧在《原则》的导言部分强调了把事情（原则）写下来的重要性；当时我在飞机上刚翻开这本书时，发现这厮跟我在这件事上的想法完全一致，如逢知己。第二天我在 RStudio 大会上讲 blogdown 的时候便立刻引用了他的话，尽管书的正文我都还没看。再比如丰子恺在《[随感十三则](http://www.my285.com/xdmj/fzk/15.htm)》的第十二则中说丢掉一只雪白的香烟比直接丢掉两个铜板可惜得多，同样，烧掉二十包火柴也比丢掉两角钱可惜得多。我也有类似的肉痛感觉，但感觉这并不是抠门导致的（虽然我很抠门）。
---
title: 宇智波带土面具中眼睛的位置
date: '2018-05-04'
slug: obito-mask-eyes
---

在我初次看到火影忍者中那个带着面具的阿飞（宇智波带土）出场时，我总觉得那个面具上眼睛的位置不太对：那对眼睛孔在垂直方向的正中间。过去我总觉得人眼是在头部偏高的位置上，所以我很奇怪阿飞带着面具怎么会眼睛正好对准那两个孔。

后来在看丰子恺的一篇名为《眉》的短文时，他提到一本英文书《人体画法》中曾说：

> 成人的眼睛，都生在头的正中，但学者往往画得太高。

我大吃一惊，心想这怎么可能！人眼离额头近，额头就差不多是头顶了，眼睛位置肯定在头部的上半部分啊。然而随意找来几张人脸图片一看，果不其然，确实是在正中。

这才解开我在火影中的疑惑。那面具的眼孔位置没错。总说眼见为实，然而眼见了三十多年，脑子里却仍然是错误的印象。
---
title: 叠字
date: '2018-05-04'
slug: reiterative-character
---

近两年比较中意叠字。之前在《[最新高中语文基础知识手册](/cn/2018/01/yu-wen-ji-chu/)》中提过“漠漠帆来重，冥冥鸟去迟”和古诗十九首。前年看丰子恺文集时，在《告缘缘堂在天之灵》一文中，他借用了王安石《示长安君》的颔联：

> 少年离别意非轻，老去相逢亦怆情。  
草草杯盘共笑语，昏昏灯火话平生。  
自怜湖海三年隔，又作尘沙万里行。  
欲问后期何日是，寄书应见雁南征。

这两处叠字我也很喜欢，感觉用字既模糊又精确，而且神奇地刻画出一种明亮又压抑的氛围。后来放狗搜了一下，原来王安石正是以善用叠字闻名。我又读书少了，之前完全不知此事，看来以后可以留意一下他的诗。
---
title: 最怕题主自己回帖就三个字：已解决
date: '2018-05-04'
slug: solved
---

洒家混迹论坛十几年，阅贴无数，也见过各式各样的题主。其中有一类题主总让人感到遗憾，就是那种提了一个别人无法或没有回答的问题、他自己最终找到了答案、却只以三个字“已解决”结贴的人。

这种人大约每隔几个月会出现一次，过去我也没专门做记录。今日举一例：[Windows 下和 Linux 下 auto.arima 结果不同](https://d.cosx.org/d/419965-windows-linux-auto-arima)。我已经不止一次喊人来把这样的题主拖出去打了（有问题就来吼，有答案却不分享），好在这次的这位题主还比较负责和宽宏大量，又折回来说明了问题是如何解决的。其实我早猜到这个原因，只是提供 `sessionInfo()` 这种事情我已经说过无数遍，实在不想再啰嗦一遍，于是当时没回复。

最怕空气突然安静，最怕回帖只是“已解决”。
---
title: 最重要的事情，只有一件
date: '2018-05-04'
slug: the-one-thing
---

到现在为止，去年读完的书中我还有八本没有写总结，我估计今年应该是写不完了。这八本里有五本是极好的，我一共划了三四百条标记，每一本不花几整天时间几乎不可能总结完，其难度都是《[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)》的好几倍。现在只能先列个单子，作为预告：《人类简史》《原则》《穷查理宝典》《经典常谈 · 文艺常谈》《古文观止》。

我不太记得具体是什么缘由让我去读《最重要的事情，只有一件》（The One Thing），但肯定又是在找时间管理的办法。总体而言，这本书对我不是很有帮助，不过我需要说明的是，在时间管理（或治疗拖延症）这件事上，每个人可能都得找自己的个性化解决方案，市面上流行的那些办法不一定管用。

这本书只有三处引起我的注意。一处我认为是全书的核心，就是把做事风格[从 E 转换到 P](https://www.the1thing.com/the-one-thing/experience-a-breakthrough-by-moving-from-e-to-p/)；E 代表 Entrepreneurial，企业家似的工作方式，活力四射、拉满弓全力做事；P 代表 Purposeful，有目的性地做事、做最重要的那件事。其实所有谈时间管理的书或文章对读者而言都差不多，就是道理谁都懂，但读者就是难以执行，因为一执行就会触发痛苦，导致心理抗拒；比如看了这本书，我估计很多人连把要做的事情列下来排序的行动都不会有，更别谈做最重要的一件事了。从这个角度来说，你看哪种治疗拖延症的办法都不重要，重要的只是打倒自己，而且打倒自己通常不会是一次性的事情（除非你突然遭受到什么重大人生打击），懒癌在将来还会不断复发。

另外两处有些发散。一是第八章《平衡工作与生活》中谈工作与生活的平衡，这是一个很常见的问题，我觉得作者给出了一个少有的我认为还比较满意的答案：

> 我们不应该追求平衡是因为奇迹不会在中间点上发生，奇迹只有在追求极致的过程中才会发生。可是追求极致必定会带来真刀真枪的挑战，我们当然明白成功总在平衡之外，却不知道该如何应对失衡的人生。

说白了，就是如果你想奇迹般的成功，你最好是做好心理准备牺牲生活；如果你要顾着生活，就接受平凡的人生，也没什么不对的。只是一种个人选择而已。如果一味要照顾这个平衡，可能两头都顾不好，不会大大成功，也不会很好地生活。

二是第十八章《生命的旅程》，里面谈到布罗妮 · 韦尔的书，《弥留之际最后悔的五件事》。作者写道：

> 而人们认为的最大的遗憾就是：“没有鼓足勇气去过另一种生活”——那种只忠于自己的内心，而不是为了迎合别人的期待的生活。这就是人们临终前，排在第一位的遗憾。韦尔写道：“很多人对于自己的梦想不够重视，直到临死前才明白这一切都与他们做过或者没做过的选择息息相关。”

> 并非只有布罗妮 · 韦尔一个人在观察研究。1994年，吉洛维奇和梅德韦克在其详尽的研究结论中写道：“当人们回顾一生时，那些没完成的事情最让他们感到遗憾……虽然他们做过的一些让自己懊恼的事，但最终让他们后悔、受尽煎熬的还是那些没有做过的事情。”

还是那句话，道理人人都懂：为何要等到死前才后悔当年的自己没有勇气呢？为何不能立刻做重要的事情？

虽然在这个沉重的话题下引用段子有点不合时宜，但我还是不禁想起很久以前看的一个笑话：我这人从不记仇；一般有仇我当场就报了。
---
title: 作序专业户
date: '2018-05-09'
slug: preface-pro
---

去年有一位日本的[高桥君](https://github.com/kohske)给我写邮件请我为他的书（关于可重复研究）作个序。今天看见[这本书即将发行](http://www.kyoritsu-pub.co.jp/bookdetail/9784320112438)，也看见了[我写的序](http://www.kyoritsu-pub.co.jp/app/file/goods_contents/3027.pdf)。当然，我的日语是初等动漫水平（听力），可想而知这日文版的序言不是我直接写的，而是我用中文写了他自己翻译过去的。这也不能算是序言，因为书我没读过，也不可能读懂，只能算是个广告吧。

以前[我提到过](https://yihui.org/cn/2017/02/formatr/)高桥在 formatR 包中的一个非常关键而聪明的贡献，所以这次算是礼尚往来，随手报答人家一下。我已经记不太清我给多少本中文书作过序；这次作序作到了日文书上，表明洒家俨然已成为作序专业户。

去年我在给大鹏的《学 R》一书的[序言](https://d.cosx.org/d/419996)里说^[看，又给人写序了。去年一年我似乎就写了至少三本书的序。]，难得有人能有中文文字功力把技术书籍写得有趣，这让我有些羡慕。究竟嘛时候我能自己写两本中文书呢。
---
title: 帕金森琐碎定律
date: '2018-05-10'
slug: law-of-triviality
---

在（垃圾）信息爆炸的今天，为了保证留给自己足够的时间和精力做重要的事情，我觉得我们最应该记住的是[帕金森琐碎定律](https://en.wikipedia.org/wiki/Law_of_triviality)，这也是我时刻提醒自己的一件事。在讨论问题时，总得问问这个问题是不是琐碎的问题。比如当前的 [RStudio 开发版](https://dailies.rstudio.com)把图标由原来那个 3D 的水晶球换成了扁平的图标，这让我感到极度不爽，因为我从来就没能理解为什么现在的图标设计潮流变成了扁平化，觉得扁平图标多数都好平淡无奇。就比如 R 的官方图标在敝厂一些人的掺和下由以前的金属质感的立体图标改成了扁平的圈圈 R，我就觉得好难看，虽然以前的金属图标有些老气，但好歹有点个性，现在的这个图标就像仙女下凡、脸先着地一样。

我问了一下 RStudio 编辑器的开发团队，说是有人强烈要求把 RStudio 编辑器换成扁平图标，所以就给换了，如果想知道理由的话可以给我解释。我就看了这一句话，接下来说，好了，不用告诉我更换的理由，我接受，咱们就此打住。因为我感觉这是一件琐碎的事情，虽然它让我感到很不开心^[别人家的图标多数都是立体的，尤其在苹果电脑的边栏上，RStudio 的扁平图标看起来[鸡立鹤群](https://i.imgur.com/tpQK4Jt.png?2)，丑死了。]，但美丑的判断通常都是琐碎的，而且人群很容易极端分裂：有人强烈偏好扁平图标，有人强烈偏好立体图标，双方可以无休止辩论下去，我还不如早点认怂算了。

前几日北大校长在讲话中念错了一个字，于是社交媒体上炸了锅，到处都在谈论这个错字。看到这种现象真是让人对这个世界感到绝望，屁大一点事可以讨论翻天，而人家真正的讲话精神呢，几乎无人在意。这就是琐碎律的绝佳体现。热门话题的前提条件一定得是绝大多数人都可以理解并发表自己的高见，而如果所有人都可以发表高见，那说明这事不需要动脑子，进一步也就说明这事大约不值得关心。综上，如果你想成为一个有效率的人，那么最好别去关心什么热门话题或头条；它们很可能会让你气血上涌、心潮澎湃、恨不得立刻飞身上马去砍死那个狗日的、或忙着排队一起去口诛键伐另一群同样激昂而意见不同的人、或跪拜在砖家的深（hú）度（shuō）好（bā）文（dào）下觉得再不按他说的做人生就来不及了，然并卵。

要真有鸿鹄之志，就不会在乎鸿鹄二字怎么读。鸿鹄会在高处琢磨一盘大棋，只有燕雀才会在低处叽叽喳喳，说些有的没的黑的白的红的黄的紫的绿的蓝的灰的你的我的他的她的大的小的圆的扁的好的坏的美的丑的^[此处与许哲佩无关，只是写了“有的没的”之后突然感觉接上了《气球》的歌词。]。
---
title: 十像素的边距
date: '2018-05-14'
slug: 10px-margin
---

书接上文的[琐碎律](/cn/2018/05/law-of-triviality/)。这两天正好碰到一个我认为非常典型的琐碎律例子，起因是 Github 上的一个 knitr 事项 [yihui/knitr#1543](https://github.com/yihui/knitr/issues/1543)。我想说说我作为开发者为什么不喜欢用户报告这种类型的事项：

1. 最重要的原因当然是因为这本质上是美观问题（请求在 HTML 控件底部留白），不是软件缺陷。但凡涉及到美观的问题，可以说琐碎的可能性都很大，你觉得好看、他觉得不好看，可以无休止争论下去。

1. 这种问题对用户而言有非常简单的解决方案（自定义一行 CSS），而且我已经给了明确的答案。换句话说，我并没有堵死你的路。

1. 这个报告发错了地方（与 knitr 无关），这种事情经常发生，我可以理解，用户往往面对一长串工具链不知道该向谁报告。

1. 这个报告源于一个 [leaflet 事项](https://github.com/rstudio/leaflet/issues/542)，原题主在那里报错了地方，被 leaflet 的一位开发者迁移到我这里，然而我这里仍然是错的地方，被我关掉了，然后另一位 leaflet 开发者也来回帖说发错了地方。至此，一个十像素边距的问题通过原题主惊动了两个 R 包的三位开发者。

1. 原题主并没有放弃，并接着把这个事项[迁移到 rmarkdown 库](https://github.com/rstudio/rmarkdown/issues/1343)中，并且触犯了我的一个大忌：重发问题或报告时，不指出之前在别的地方发过的历史记录，所以新看见这个报告的人不知道之前的回复和讨论。我相信很多人只是出于无心，但我真的很不喜欢这种事情发生。厂长看见了这个事项，决定把我说的那一行 CSS 写进默认模板中。至此，十像素的问题惊动了三个 R 包的四位开发者。

1. 在这个 rmarkdown 事项中，我看见原题主还在另外两个库中记录了相关事项（[BiocStyle](https://github.com/Bioconductor/BiocStyle/issues/47) 和 [openrouteservice](https://github.com/GIScience/openrouteservice-r/issues/18)），可见伊对这十像素的执着。这种问题要换做是我，我压根儿就懒得给自己开一个帖子记录（两年前我自己就发现了这个问题而且自行用 CSS 解决了），而伊却陆陆续续在不同的库中发帖，颇有屡败屡战之势。这得是有多闲。

最终我放弃了治疗，为了避免琐碎继续恶化，我还是一咬牙把这十像素的边距加进了默认 rmarkdown 模板中，让世界清静下来。
---
title: CSS 的位置属性以及如何居中对齐超宽元素
date: '2018-05-14'
slug: css-position
---

CSS 中的位置（position）属性可能是我[查阅文档](https://www.w3schools.com/css/css_positioning.asp)次数最多的一个属性，总记不住各种取值的含义。在我第五百次查文档之后，决定还是记个笔记，毕竟好记性不如烂键盘。

- `static`：没有特殊含义，该怎么放怎么放。它是默认值。

- `relative`：相对该元素本身应该在的位置，可以通过上下左右距离属性相对移动这个元素。

- `fixed`：在当前窗口的固定位置，不随页面滚动而移动。

- `absolute`：相对父元素的位置（可设置上下左右距离属性），父元素必须也有非默认的位置属性。

- `sticky`：元素在被滚出当前视图时，自动漂移出来，保持始终可见状态。如果没滚出视图，那么该在哪儿在哪儿。

数年来我一直有一个疑问，但没真正花精力去研究，就是如何居中对齐一幅超宽的图片或其它超宽的元素。用普通居中手段（`text-align: center;` 或 `display: block; margin: auto;`）是不行的，因为元素一旦超宽，默认情况下会是左边对齐，右边超出去，这样的元素无法在页面中居中对齐。前几天随意翻到一个叫 Kiera 的 Hugo 主题，发现里面[支持全宽图片](https://avianto.github.io/hugo-kiera/posts/image-content/)。于是我看了一眼它的 CSS，发现它是如此这般定义的：

```css
.full-image, figure.full img, img[src*="full"] {
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}
```

拿起笔在纸上画了两个盒子之后明白了是怎么回事：总宽度为视窗宽度（100vw），先右移父元素一半的宽度（50%），此时它的左边线正好在页面正中，然后再左移视窗一半的宽度（-50vw），也就使得左边线正好靠视窗左边，于是这个元素便占满窗口。两个属性 `right` 和 `margin-right` 的定义有些冗余。

再一思索，觉得他把这事弄得过于复杂了，如果借助 `calc()` 函数（[鬼才会在乎 IE 10 以及更低版本的 IE 呢](https://caniuse.com/#feat=calc)），两行 CSS 就能搞定：

```css
.full-image, figure.full img, img[src*="full"] {
  width: 100vw;
  margin-left: calc(50% - 50vw);
}
```

这里不需要定义位置属性，因为 `margin-left` 对任意位置属性的元素都适用。

全宽元素是一个特例，因为我们已知元素宽度等于页面宽度，所以左右移动距离都容易算出来。那么任意宽度（尤其是超宽）的元素的居中对齐呢？这就必须知道元素自身的宽度了：向右移动父元素的一半宽度距离，再向左移动自身一半的宽度，它便居中了。CSS 单位中通常百分比都表示父元素的大小，但有一个特例是 `transform` 属性，它里面的百分比是元素自身大小的百分比。于是以下便是我[找了很久的答案](https://stackoverflow.com/a/41059954/559676)：

```css
img {
  margin-left: 50%;
  transform: translateX(-50%);
}
```

回到前面的 Kiera 主题，它里面让我更加眼前一亮的是 `img[src*="full"]` 这部分，这个黑魔法实在是高；我以前知道 CSS 有这种查询技能，但从没想过可以这样玩。它给 Markdown 世界倒是添了一种非常实用的可能性：除了 Pandoc 之外，几乎没有哪种 Markdown 转换工具支持定义图片的类属性，所以也就无法根据不同图片自定义不同样式；但如果用 `src` 属性去匹配图片，那么就可以给特定网址的图片配特定的样式。真正的黑魔法在于，如果网址中含有锚点，它并不会影响图片的提取（锚点除了页面内定位之外一般没有特殊含义），比如下面两个网址提取的都是同一幅图，第二个网址中的锚点 `#full` 对图片而言并没有任何意义：

```
https://slides.yihui.org/gif/roll-away.gif
https://slides.yihui.org/gif/roll-away.gif#full
```

但如果定义了 `img[src*="#full"]` 的样式，那么它就只会被用到第二幅图上。相应地，用 Markdown 语法写出图片就是：

```md
![普通图片](https://slides.yihui.org/gif/roll-away.gif)
![全宽图片](https://slides.yihui.org/gif/roll-away.gif#full)
```

当然，对于万能的 Pandoc，我们可以不必如此曲线救国，直接定义一个类属性即可：

```md
![全宽图片](https://slides.yihui.org/gif/roll-away.gif){.full}
```

看，玩网页是不是其乐无穷。
---
title: 人造数据与好的社会
date: '2018-05-14'
slug: data-garbler-good-society
---

Gelman 昨天[轻微吐槽](http://andrewgelman.com/2018/05/13/say-less-clearly-please-general-purpose-data-garbler-applications-requiring-confidentiality/)了一篇学术论文的标题 "[Synthetic Data for Social Good](https://arxiv.org/abs/1710.08874)"，说你们能不能把话说得更不清楚一点。这篇论文介绍了一个软件工具，可以根据原始数据人造一个新数据，使其统计性质与原数据相近，但又不会暴露原数据。我很同意 Gelman 的吐槽：工具只是工具，人们用它可以行善，也可以作恶。学术界有些论文标题就喜欢上纲上线，唯恐表面看起来对这个社会贡献不够大或看起来不够高尚。就像谭显英壮士在《[不自信的复杂](https://shrektan.com/post/2018/05/02/lack-of-confidence-leads-to-over-complication/)》一文中提到的道理一样，如果软件工具的介绍依赖于道德制高点，那可能说明作者对软件本身缺乏自信。

这个论文标题让我想起我快要看完的《金融与好的社会》，我对这本书的标题也有同样的感受：金融只是工具，它可以带来好的社会，也可以带来糟糕的社会。我们没办法一厢情愿让它促进社会进步。

我的第一本书“Dynamic Documents with R and knitr”在起名时我就考虑过类似的问题：是用一个平淡无奇的标题，还是打着可重复性研究的旗号？显然后者的广告效果会好很多倍，但我并不想让读者把 knitr 跟可重复性研究划上等号，即：就算你用 knitr，也不能保证你的计算结果一定可重复，决定计算是否可重复的因素太多了。后来可重复性研究的旗号被另一个作者用了，估计销路比我的书好一些。
---
title: 用网页技术取代 LaTeX：前传
date: '2018-05-15'
slug: relaxed
---

我一直认为网页技术比 LaTeX 要有趣得多，而且 LaTeX 把作者从样式中解放出来、让人专注于内容写作是天大的谎言。我只相信网页技术（HTML + CSS）能实现这个美丽的梦想，但需要加一个前提，就是基于 Markdown。

LaTeX 的毛病在于语法太奇葩、繁琐，高质量的输出要求高质量的人力投入。显然，有人会幻想，能不能用低人力投入创造高质量文档输出呢？我觉得这不可能，天下没有免费的午餐。不过如果能把这件事加一个前提，它就有可能了，就是控制你使用多种文档元素的欲望。文档元素种类越有限，排版越容易。

LaTeX 在排版方面的强大既是它的优势，又是它的弱势。有人会问，怎么一个软件的强大反而是弱势？对，它太强大了导致本该写内容的普通作者被吸引到排版工作上，强大就变成了缺点，况且强大还要基于对 LaTeX 的深度理解。LaTeX 中可以定义无限多种环境和命令，这也是优点和缺点。

相比之下，网页语言 HTML 只支持有限种标签，也就是说你有学完它的可能性，虽然大多数标签可能你都用不到。这个限制是它的优点。它的兄弟语言 XML 则跟 LaTeX 一样，具有无穷尽自定义的缺点（所以不适合直接写作）。Markdown 则更进一步限制了文档元素的类型，你能写的元素类型非常有限，也就意味着你没有机会去玩花哨的东西。其实这“有限”的文档元素类型已经很丰富了：标题、段落、列表、引用、图片、链接、表格、公式，等等，但人总是太贪心，心甘情愿把自己锁在[功能地狱](/cn/2012/04/reference-and-footnote/)中，并编造出一系列强加于他人的排版规则。

精美的 PDF 的唯一优点就是看上去精美，剩下的跟网页一比简直几乎处处弱到爆，没有交互、没有多媒体、没有自适应、难以原样复制粘贴（可能会有乱码）。说到底，它只是为了打印机而存在，可是[论文一定得打印在纸上吗](/cn/2018/04/paper/)？

用网页技术取代 LaTeX，归根到底其实就一个问题：如何让网页看起来有 PDF 的精良质量？过去我并没有明确的答案，如今在这个问题上至少可以给出一个前传了：有好事者写了一个包，叫 [ReLaXed](https://github.com/RelaxedJS/ReLaXed)，显然这个名字是模仿了 LaTeX 的命名，不过这种风格的名字[敲起来真要命](/en/2017/12/typing-names/)。ReLaXed 便是基于 HTML 和 CSS 排版，从它目前给出的例子来看，PDF 质量有些惊人（尤其是海报的例子），源文档也相对比较简单，我很看好它。

之所以这个只能说是“前传”，还不是正片，是因为它离 Markdown 还差一步，至于这一步是大是小，我现在也没法估计，但起码已经有了曙光。待洒家忙完这上半年的项目之后，再来仔细琢磨一下。当然，莽撞人不必等我，可先行去啃这块骨头。
---
title: Markdown 用户身上的 LaTeX 遗毒
date: '2018-05-17'
slug: markdown-quotes
---

昨日在 TeX.SE 上[回答了一个问题](https://tex.stackexchange.com/q/431626/9128)，人问怎么双引号 ``` `` ''``` 在 Markdown 中不对劲。我以前好像重复过这句话：Markdown 不是 LaTeX。我以为这是显而易见的事实，但中毒太深的 LaTeX 用户可能会忘记它。只是写一对引号而已，LaTeX 里非得用这种杀马特语法，两个反引号加两个单引号表示一对双引号。也许这样规定语法有它的道理或历史原因，但初学 LaTeX 的人肯定会被这种语法惊到，进而在脑子里记住了一条奇葩规则，然而再也忘不掉，原因便是斯德哥尔摩症（你被劫匪劫持久了会对劫匪产生感情）。等到了简单的 Markdown 世界，本来会飞的你反而连爬都不会爬了。双引号怎么写？双引号特么就是双引号：`" "`，伟大的 Pandoc 自然会帮你翻译成相应的奇葩语法，你不必费那劲琢磨是 ``` `` '' ``` 还是 `&quot;` 什么的。

扎克伯格的套头衫经常被人引作防止决策疲劳的例子，我也是很怕决策的人，尤其是琐碎决策。决策不管大小，都会消耗人的意志力，而意志力是一个有限的东西。在吃饭穿衣这种小事上消磨意志力之后，投入工作的意志力就会减少；扎克伯格放弃穿衣服的决策绝对是明智之举。当然，作为码农，我更怕的是琐碎软件决策，比如一幅图下面要不要加[十像素的边距](/cn/2018/05/10px-margin/)，这种鸡毛蒜皮之事对我意志力的消耗实在是不划算，可这种决策时不时还得做，着实头疼。作为作者，我也怕写作之外的决策。LaTeX 对我而言实在无法让我集中精力写内容，而总是在根据排版结果做一些琐碎决策，比如因为某些字距太大所以要不要另起一段、图漂走了要不要把图的高度缩小一点、不小心触碰到特殊字符然后去查某个字符应该怎么写（经典的例子恐怕是波浪线 `~`），等等。如果作者总在发愁这些事情，那么哪还会有足够的意志力撰写正文。

所以有些人追求极简并不一定是因为就喜欢极简，而是出于被迫：要做的决策越多，决策质量可能也就会相应越低。
---
title: 伦敦的公交车很挤吗？
date: '2018-05-18'
slug: london-bus
---

在一篇题为《[统计数字的快与慢](http://timharford.com/2018/05/statistics-fast-and-slow/)》的文章中，作者提到一个有趣的现象：所有人都说伦敦的公交车很挤，但统计数字的事实是每辆公交车平均载客十七人，这并不能算挤。那为什么大家都说挤呢？因为根据定义，很挤的公交车上载着多数人。那些不拥挤的公交车上只有少数人（甚至是空车只有司机一人），而大众对公交车是否拥挤的印象会来自于多数人的反馈，不觉得挤的人不会反馈，或其声音被多数人掩盖。

我没去过伦敦，所以没有第一手资料。对这个盲人摸象的问题，我觉得统计上的平均乘客数量意义不是很大，不能用来说明公交车总体而言挤不挤。平均值已经[被世人广为诟病](/cn/2017/07/stats-view/)，在谈论统计数字时，最好是给出统计分布，而不是单值汇总，而且最好是给出条件分布。我们为什么要提出这个公交车挤不挤的问题？可能是想要解决拥挤问题，那么首先就得知道在什么条件下拥挤，有针对性地去解决。比如可能是有些热门线路太挤，冷门线路却经常跑空车。那么在这些线路上配置的公交车数量是否合理？无条件增加全市公交车数量来解决拥挤问题应该不会是一个现实的方案。

其实吧，我觉得这种问题仍然是由于[缺乏数据而造成的低效率](/cn/2017/07/data-and-efficiency/)。我狗胆臆想一下，如果乘客能事先（比如提前一天或甚至一小时）告诉公交车管理系统其大致出行安排，那么公交车管理系统完全可以按需灵活调度公交车，而不必按照死线路和死数量跑车。
---
title: 电力一姐
date: '2018-05-24'
slug: li-xiaolin
---

[电力一姐退休了](http://www.iceo.com.cn/com2013/2018/0524/303311.shtml)，不过我对这种涉及政治的事情并不感兴趣。我瞄这篇文章时，觉得一姐的诗词作品有些意思。先是告别中国电力时的一首诗：

> 离时方知万事匆，  
但惜宏图未酬中。  
待到碧水蓝天日，  
欢庆伴有光明颂。

读来有种莫名的熟悉感，然后意识到这不是陆游的《示儿》吗，用了完全相同的韵脚和叙述方式，而且还原样照搬了不少字词。

然后是告别大唐集团时的一首《鹧鸪天 · 心路》^[中国企业家网上的原文里说这是一首“诗”，我感觉小编似乎不是个很仔细的人。]：

> 静水深流大道行，当年香江一袭红。碧水蓝天对心月，知行光明号长空。  
从兹后，心转境，觉慈妙航爱与共，美丽健康春不老，丝路心语华莲中。

离别感言中还有一首诗：

> 静修慈海承大爱，  
水深无形念素心。  
深德智泉不觉处，  
流云潺潺看古今。

后两首诗词看起来就像是出家人写的，或是有遁入空门之意；当然，还有一种可能，就是故意写给人看的，这个我就不瞎揣测了。三首作品放一起，会发现一个现象，就是重复的字词很多，比如碧水蓝天、光明、静、大、心、慈。字词重复会给人一种词穷的感觉。另外它们都写得比较空泛，少数句子甚至有些违和感，如“美丽健康春不老”。这样的作品，似乎不太符合其人的文学和成长背景。
---
title: 被埋没和遗忘的软件开发过程中的知识
date: '2018-05-24'
slug: software-knowledge
---

罗杰彭近来写博客比较频繁，抛出了不少有意思的观点。他的一篇《[作为学术作品的软件](https://simplystatistics.org/2018/05/03/software-as-an-academic-publication/)》一文已经在我都浏览器里放了三个星期了，眼看我的标签栏越来越挤，索性把它先拎出来。我最感兴趣的并不是软件是否应该被列为学术作品^[答案对我来说太明显了：那是必须的啊，我们得结束学术界对软件方面贡献的歧视。]，而是他后半段提到的一个遗憾：好多软件开发者都不会谈开发过程中积累的经验教训，因为这些教训对最终的用户来说并没什么用处，但对其他后来的开发者会很有帮助。我觉得这倒是一个很好的写书的主题，而且应该很容易召唤到不少开发者来控诉软件开发过程中的血泪史。

比如罄竹难书的[字符编码问题](https://shrektan.com/post/2018/05/07/cant-bear-with-encoding-any-longer/)，难以想象全世界的开发者和用户在这个问题上浪费了多少时间。要是你不用 UTF8 编码，我会毫不犹豫跟你绝交，我跟你讲吼。

再比如多数人回头看自己几年前开发的代码都想穿越回去杀了那时的自己，因为代码写得太烂，但我们似乎缺少那种具体谈成长历程的书。多数人都会向前看，尽量忘了过去菜得不行的自己，更不用说去回顾这个历程，还把它写下来。

目前我已经写了四本纯技术书，感觉有些厌倦了，接下来也许可以琢磨一下这种同时掺杂技术和感想的书，估计会有趣一些。
---
title: 披着狗熊外衣的英雄
date: '2018-05-24'
slug: wang-hansheng
---

第十一届中国 R 语言会议的北京会场今日开幕。我看了一眼[王汉生老师的致辞](https://mp.weixin.qq.com/s/IdrFbvkaIxThh398l42rBg)，甚是感动。在统计学家中，王老师实在是骨骼清奇，是个奇才，其“朴素的数据价值观”是“数据创造价值”。

> 对，这就是我朴素的数据价值观。我不能保证它是绝对正确的。恰恰相反，这其中也许谬误多多。但是，我希望把它跟大家分享，让这个并不成熟的想法，暴露在数据产业的烈日阳光下，让它接受暴晒，让它接受批评，让它接受赞扬，让它享受阳光雨露，自由自在地成长。对此，我都坦然接受。为什么？

> 当老师 15 年，我越来越清楚，这个世界上没有任何知识，任何观点，可以是绝对正确的。在探索未知的道路上，可能唯一绝对正确的是对这个世界无限的好奇，还有独立审慎的思考。

就问你敢动不敢动？

每当我看见别人讲得好的话时，都会条件反射式地想起芒格和巴菲特之间捧哏逗哏的那两句话：“你还能讲得比这更好吗？”“可以，给这位先生来点儿花生糖。”

那么来，让我们给这位狗熊会的英雄来点儿花生糖。
---
title: 别丢掉
date: '2018-05-25'
slug: dont-throw-away
---

朱自清在《解诗》一文中首先引用的是林徽因的一首诗《别丢掉》：

> 别丢掉  
这一把过往的热情，  
现在流水似的，  
轻轻  
在幽冷的山泉底，  
在黑夜，在松林，  
叹息似的渺茫，  
你仍要保存着那真！  
一样是明月，  
一样是隔山灯火，  
满天的星，  
只有人不见，  
梦似的挂起，  
你向黑夜要回  
那一句话——你仍得相信  
山谷中留着  
有那回音！

这篇文章引用这首诗之前的写作背景是这样的：

> 诗的传达，和比喻及组织关系甚大。诗人的譬喻要新创，至少变故为新，组织也总要新，要变。因此就觉得不习惯，难懂了。其实大部分的诗，细心看几遍，也便可明白的。

嗨，专家总说什么事情不难。这首诗就算让我细心看一百遍也不会彻底明白。朱自清自己给出了如下解释（节选）：

> 第一、二行和第八行本来是一句话的两种说法，只因“流水”那个长比喻，又带着转了个弯儿，便容易把读者绕住了。“梦似的挂起”本来指明月灯火和星，却插了“只有人不见”一语，也容易教读者看错了主词。但这一点技巧的运用，作者是应该有权利的。

刚开始看到他说作者有权利把句子的顺序故意弄乱时，我很是不以为然，心想何苦把话说得这么颠三倒四，让人这么容易误解；把“只有人不见”往前提一句不是很完美吗。后来过了一段时间重新琢磨了一下，似乎可以理解作者的用心了（虽然不知对与否）：一是为了直白的含蓄或含蓄的直白，二是借错杂的形式映射错杂的心绪。
---
title: 都
date: '2018-05-25'
slug: dou
---

胡适四十岁生日时，赵元任给写了一首诗，被朱自清在《诗与幽默》一文中引作例子；以下是前两段：

> 适之说不要过生日，  
生日偏又到了。  
我们一般爱起哄的，  
又来跟你闹了。

> 今年你有四十岁了都，  
我们有的要叫你老前辈了都；  
天天听见你提倡这样，提倡那样，  
觉得你真有点儿对了都。

原来在那个时候口语里就可以把“都”字放到句末了都，这是我没想到的。我最早接触到这种说法时应该是已经在群众大学上研究生了都，所以我还以为它是现代网络语言创造出来的一种逗比倒装。
---
title: 诗之怪诞
date: '2018-05-25'
slug: weird-poem
---

朱自清在《诗与哲理》一文中引用了冯至的两首诗，其中一首是：

> 我们听着狂风里的暴雨  
我们在灯光下这样孤单，  
我们在这小小的茅屋里  
就是和我们用具的中间  
也生了千里万里的距离：  
铜炉在向往深山的矿苗，  
瓷壶在向往江边的陶泥，  
它们都像风雨中的飞鸟  
各自东西。我们紧紧抱住，  
好像自身也都不能自主。  
狂风把一切都吹入高空  
暴雨把一切又淋入泥土。  
只剩下这点微弱的灯红  
在证实我们生命的暂住。

他点评说：

> 【……】得从沉思里去领略——不然，恐怕只会觉得怪诞罢。

确实如此。铜炉为何向往矿苗，瓷壶为何向往陶泥？初看是有些怪诞，难不成是建国前可以成精？当然不是。如那高高山头树的感慨：一去数千里，何当还故处？
---
title: 高射炮打蚊子
date: '2018-05-28'
slug: tidy-eval
---

在《[管道时代](/cn/2017/07/long-live-the-pipe/)》中我提到过杀鸡用牛刀的例子，也就是用极乐净土（Tidyverse）的工具解决本来非常初级的问题。今日看到了一个[更加夸张的例子](https://stackoverflow.com/q/50564632/559676)，真是吓得我不要不要的。

楼下的答主看起来是比较传统的 R 用户，对极乐净土的新势力颇有敌意，或者至少很是不耐烦，这一点从[帖子的修改记录](https://stackoverflow.com/posts/50565416/revisions)里可以看出来（一连用了三个 F 词）。嗨，这位大哥何必动怒。在网络问答社区里混，就得丢掉感情因素，尽管这比较难。你看那 COS 论坛上的 TC 君，俨然已经[立地成佛](https://d.cosx.org/d/420008/9)，连我都开始佩服他的耐心。

我也是传统 R 用户，看到 `quo(!!sym(paste0("input$", x)))` 这种写法我也快晕死过去，换作 `input[[x]]` 简洁明了，还能直接解决问题。就我的经验来看，初级用户在使用一门动态语言时特别容易掉进一个大坑，就是用字符串的形式动态拼接成源代码，再解析执行这个字符串源代码。换句话说，也就是调用 `eval(parse())` 这个黑魔法。我曾在 COS 论坛上说过，对初学者来说，`eval()` 只要一用基本就是错的，或者至少是非常糟糕的解决办法，并且几乎一定存在更加直接、安全的解决办法，而且通常是通过更有效的数据结构实现。

在上面的具体问题里，用户为什么会掉进这个坑呢？主要原因还是因为很多人并不知道 R 里面的列表有两种索引方式，美元符号 `$` 跟名字，或者双方括号 `[[]]`。前一种方式在 R 世界几乎占主导地位，而在 Shiny 世界里就更流行了。它的优点在于元素的名字通常不必打引号，比如 `x$a` 几乎等价于 `x[['a']]`，你看方括号的方式要比美元符号的方式多出整整五个字符，谁没事愿意多敲那么多字符。美元符号的另一大优势是在合适的编辑器中可以自动补全名字，所以不必敲全名。

当子元素的名字是一个动态值时，美元符号就不管用了，因为它后面必须跟一个固定的值。于是用户就会想到 `eval(parse(text = paste0('input$', x)))` 这种可怕的“有代码执行代码、没有代码创造代码也要执行代码”的拙劣方式。拜极乐净土团队的名声和影响所赐，有些追星族就以为双感叹号 `!!` 是万金油。唉。当然，这种问题在任何语言或方言中都会存在，所有语言都存在被滥用的可能，总会有一小批人会前赴后继入坑。

美元符号还有另外两个弊端，一是当名字不是合法变量名时，它需要被反引号引起来，比如包含空格的名字 ``x$`a b c` ``，当然这也不能说是弊端，只是有时会迷惑到初学者；二是万恶的部分匹配（partial matching），如果问我 R 语言有哪一点是我最深恶痛绝以及不能容忍的，那便是这个了。部分匹配的优点在于让人偷懒：如果列表 `x` 中有一个元素 `abc` 而没有元素 `a` 的话，`x$a` 会自动匹配 `x$abc`。这个偷懒的代价太大了，会导致一些极难察觉的错误，用美元符号索引并不能保证你索引到的结果是你想要的（你想要 a 但是得到的是 abc）。相比之下，双中括号的语法永远保证精确匹配。

然鹅，美元符号在敲代码时可以节省整整五个字符啊！人一旦知道有一种可以偷懒的办法，就一定会朝那条路上走，不管路上有什么坑。好几年前我在《[R 的若干基因及争论](/cn/2012/09/equal-and-arrow/)》一文中已经说过 `library()` 里面的两个引号问题，非常类似：一旦我们知道包名可以不用打引号，那么就不会有人再去打引号，即使理论上 `library()` 应该要接受的是一个字符串包名。JSS 刊物的主编们后来想逼迫作者重新把引号捡起来，这样做除了会增加主编与作者之间的小矛盾之外毫无意义。

我的主旨并不是要攻击流行的写法，而是说流行的写法在大多数情况下都没问题，但仅仅是大多数情况下而已；我们需要了解它们的缺陷，以免苦苦思索出一些复杂程度高出几个数量级的又笨又不安全的办法。
---
title: 软件测试方法之意念力法
date: '2018-05-29'
slug: mind-test
---

上周有 TinyTeX 用户[报告说安装失败](https://github.com/yihui/tinytex/issues/45)，我放狗一搜，发现已经[有人在 TeX.SE 上报告过](https://tex.stackexchange.com/q/432617/9128)。接下来的事情就比较有戏剧性了，也让我对 LaTeX 这个项目多少又失去了一些信心，因为我一直感到核心开发者似乎并不在乎测试他们的代码。

书说简短。TeX Live 的安装包坏了，但核心开发者自己并没有发现，这也就罢了（说明他们没有自动化测试）；当用户报告出来时，各位可以[掰着手指头数数](https://tex.stackexchange.com/a/432649/9128)这位开发者在答复中说了几遍“should be fixed”但结果是安装包仍然是坏的。我特么追问都快追疯了。但凡有一点靠谱，当用户第二遍报告同样的问题仍存在时，总该自己亲自测试一下了吧（第一遍修正时不测试我就原谅你了），然而并没有，伊仍然只用伊的意念力去测试，于是我得第三遍、第四遍、第五遍测试并回复说安装包仍然是坏的。

我在第一个评论中就建议伊可以用 AppVeyor 云端测试，中间伊诉苦说 SVN 库太大，等等。然而最终呢，还是用了我的建议。其实很简单，几分钟就能搞定基本配置，而且千秋万代都可以用，这种一本万利的事情为何不能早点做。开发者仅仅依赖在脑子里靠意念力测试一下就完事，着实让我等用户心累。

理想情况下，软件发行应该有一个前提条件，就是首先得通过测试。比如这个 TeX Live 安装包是每日自动编译更新的，而更新时并不管它是否真的能用，只是盲目编译。我不知道现代软件开发者里还有多少人用这种盲目的发布方式。如果软件本身是坏的（通不过自动测试），那就先不要自动发布，这难道不是很浅显的道理么。就算盲目发布吧，当出现问题时，是不是该把每日自动更新临时改为手工更新呢？每次修正都又要等至少二十四小时，而且一测再测还是坏的，实在心焦。

当然，写测试是一件体力活儿，并没有什么乐趣，我自己也不是很爱写测试（欢迎用户们帮忙给我的各种 R 包贡献测试），所以我有时也理解为什么别人的软件没有测试，但在这个例子里，这种错误实在太低级了：安装包不能安装，我要这安装包有何用，这样的问题应该是非常容易用自动化方式检测出来的。

顺祝 SVN 早日灭亡。
---
title: 花椒香料
date: '2018-05-31'
slug: hua-jiao
---

古人似乎喜欢把花椒当香料用。在《古文观止》中，有三篇文章提到过花椒的高端香料功能：《霍光传》、《洛神赋》、《阿房宫赋》。他们把花椒剁成泥涂在墙壁上或铺在路上，看样子对花椒是真爱，跟我一样。估计他们不会想到后世把花椒拿来炒菜了，这么一想似乎有些违和感。

又及：[去年的花椒](/cn/2017/04/huajiao/)并没有发芽，要么是我催芽的姿势不对，要么花椒籽被处理过，本身就没了活性。看来在美帝是折腾不出一棵花椒树了。小时候奶奶家有一大棵花椒树，偶尔会用花椒叶子裹上面糊糊炸了吃，香麻扑鼻。那时没什么零食吃，有时无聊就从树上摘花椒直接吃，然后蹲门口台阶上，麻得口水流一地，或是从树上掰下花椒刺，刺有很大的底座，所以涂点口水粘额头上当金角大王。如今我很少能见到新鲜的青花椒，偶尔在馆子里吃川菜，如果菜里有青花椒，我还会捡起来咔哧咔哧直接吃。
---
title: 郑在成
date: '2018-05-31'
slug: jung-jae-sung
---

前几天刚注意到韩国羽毛球双打运动员郑在成已于今年三月初因心脏病去世，才三十五岁，我颇为惊愕。我觉得郑在成是当今双打运动员里最硬汉的一个人，打法没有太多花样，但让人感到压迫式的恐惧。他可能是男子双打运动员里最矮的一个，而偏偏是负责打进攻的；他用来弥补身高缺陷的办法就是弹跳力，经常在后场跳起近一米高杀球，而且极其卖命。我记得有一场跟古健杰、陈文宏的比赛里他在第一局比赛中受了伤，第二局的时候古、陈二人便打得很放松，觉得对手受伤了随便打打都能赢，结果输了；到了第三局，发现竟然扳不回来，最后受伤的郑在成和李龙大赢了那场比赛，可见这位硬汉有多硬。

我对郑在成还有一个深刻的印象是一次（忘了是哪场比赛）后场起跳反手大力杀球。羽毛球比赛中反手杀球本来就少见，尤其是双打的快节奏下不适合、也没多少机会反手杀（单打里除了过去的天才陶菲克就是现在的现今的安赛龙比较喜欢反手杀），后场反手杀更少见，而后场起跳反手杀就更罕见了，郑在成那个是我见过的唯一一个后场起跳反手杀，而且是因为球已经过头顶，连忙转身跑到后场在被动情况下杀的。

这两天我的 [R Markdown 一书](https://bookdown.org/yihui/rmarkdown/)正在收尾阶段，我想到郑在成的这种朴素身体条件和简单打法与 Markdown 有一些共同之处（简单一样可以取得巨大成就），于是这本书的[献词页](https://bookdown.org/yihui/rmarkdown/rmarkdown.pdf)就致敬这位羽毛球运动员了。
---
title: 芜城
date: '2018-05-31'
slug: wu-cheng
---

鲍照在《[芜城赋](https://zh.wikisource.org/zh-hans/%E8%95%AA%E5%9F%8E%E8%B3%A6)》中对比芜城（扬州）的极盛与衰败，赋末作芜城之歌，可谓悲观和无奈之极：

> 边风急兮城上寒，井径灭兮丘陇残。千龄兮万代，共尽兮何言。 

千秋万代的人都会死去，再美好也终归幻灭。小到一个个人，大到一座城市，都逃不过这个命运。其实两个月前我在《[三舅](/cn/2018/04/san-jiu/)》一文结尾的几句话，只不过是化用了这芜城之歌而已。
---
title: 钻石
date: '2018-06-01'
slug: diamonds
---

一个叫“[钻石真特么扯淡](http://diamondssuck.com)”的网站创建于 2006 年，最近被黑客新闻刨了出来。它劝人们不要买钻石，如果一定要买这样的东西，那么不如买莫桑石。不买钻石的原因想必世人早已有所耳闻，但我们已经被如此深度洗脑，就算你知道：一、钻石的价格是被人为抬高的（稀缺感是人为制造出来的）；二、花这么大一笔钱买到的只是一颗亮晶晶的石头（将来也卖不出去、不具备投资的属性）；三、你买钻石的钱可能最终被暴力分子投入战争杀戮（血钻）；四、肉眼无法分别高档低档钻石的本质差别；你也一样还会呆头呆脑买钻戒。

某种程度上我觉得钻石行业甚至比毒品行业还邪恶。钻石只不过是一种（迄今为止）合法的精神毒品，但普及面太广，导致世人浪费了多少钱财在这种亮晶晶的石头上？这些钱财对应的机会成本有多大、原本可以用来做多少更有意义的事情？
---
title: 部落格党来晚了
date: '2018-06-04'
slug: late-blogdown
---

Thomas Lumley 大人[在推特上感叹](https://twitter.com/tslumley/status/1002795504000905216)，“交换过眼神，你（blogdown）是对的人，可惜就是太晚了。”Lumley 大人在统计学家里可能是除了 Gelman 大人和 Xi'an 之外写个人博客频率最高的人。最近他尝试了几次把自己的博客转到 blogdown 框架下，不过貌似因为文章数量太大，尚未成功，目测好像会成为《blogdown：从入门到放弃》的用户之一。不过洒家已经很满意了，因为我最乐意看到的就是博客老手开始尝试 blogdown。对新手而言，创建一个全新的网站太简单了，基本没什么挑战性（除了在挑选一个漂亮的主题时会有选择困难症之外）。老手里面，最感人的例子是 Rob Hyndman，我在 blogdown 的书中[提过这个例子](https://bookdown.org/yihui/blogdown/migration.html)，他用了一次长途飞行完成了把网站切换到 blogdown 的最关键一步，剩下的前前后后收拾还花了好几天。

更新：嚯，就在我写完上面这段话八小时后，Lumley 大人竟然咬牙[完成了华丽的转身](https://notstatschat.rbind.io)！怎么每次都是我刚写谁谁就转部落格党，上次 Harrell 大人[也是这样](/cn/2018/01/r-web-sprout/)。
---
title: 看不懂中文文档都能回答中文问题
date: '2018-06-05'
slug: cn-q-de-a
---

LaTeX 技术哪国强？我一直觉得是德国。也许是我的错觉，但德国人似乎特别喜欢折腾 LaTeX，可能跟这个民族的严谨性有关（LaTeX 排版严谨）。近日爆栈网上有中国用户提了一个[关于章节标题对齐的问题](https://stackoverflow.com/q/50618068/559676)，最终一个德国人给出了答案。老实讲，这问题问得不是很好，没有提供可重复的例子，但人家德国人就有这么厉害：

1. 没例子都能活生生猜出来这是我的 [bookdown-chinese](https://github.com/yihui/bookdown-chinese/) 例子。

2. 看不懂中文都能回答这个问题（因为看得懂 LaTeX 源文件）。

你这么优秀你家里人造吗。
---
title: 读懂代码项目需求
date: '2018-06-18'
slug: code-requirement
---

我曾经的同门 Sam Tyner [在推特上问](https://twitter.com/sctyner/status/1008800016381743104)是否存在一个把名字转换为 Tidyverse 命名风格的包名的工具。有开玩笑性质，不过我瞅了一眼，觉得这倒是一个不错的读懂代码项目需求的例子。根据上下文以及过往经验，这个包名应该满足如下条件：

1. 纯小写；

1. 只能用五个字母；

1. 必须以 r 结尾；

1. 如果字母数不够五个，那么在尾巴上接一串 r。

这些条件并没有在对话中全列出来，只有 2 是显式说明过的。最后[我给的答案](https://twitter.com/xieyihui/status/1008801933807837184)是：

```r
tidy_name = function(x) {
  x = tolower(substr(abbreviate(x), 1, 4))
  paste(c(x, rep('r', 5 - nchar(x))), collapse = '')
}
```

举例：

```r
tidy_name('Sam Tyner')
# [1] "smtyr"
tidy_name('Hadley')
# [1] "hdlyr"
tidy_name('Yihui Xie')
# [1] "yihxr"
```

四个条件，四行代码^[不知何故，这个句式让我想起“八行书，千里梦”。]。这里面自以为比较厉害的是 `abbreviate()` 函数，这大概是没多少人知道的。我以前说过，写代码调函数如写诗词用典，好处在于精简、效率高，坏处在于需要了解更多函数（典故），而且可能会让读者费解。


---
title: 懒厨
date: '2018-06-18'
slug: lazy-cook
---

洒家造饭通常不求精细（食厌精、脍厌细），只根据帕累托法则花费一部分精力（最好是小部分）去完成粗略目标，剩下的精细目标对我而言不值得花精力。且举四个偷懒的例子：

1. 麻花：[按照菜谱](https://www.xiachufang.com/recipe/102231657/)，应该把面条搓圆，然后再对折环绕。我一看觉得好麻烦，百十根面条我哪有工夫去一根根搓，于是用面条机呼哧呼哧压了面条，直接用扁面条缠绕成麻花，炸出来之后窃以为肉眼看不出来原面条是圆还是扁，味道更是无差别（想要好吃就不能怕长膘——面里多放糖即可，这可能是庖厨界的普世法则）。

2. 榨广椒：这是[我老家（宜昌）特色菜](https://www.xiachufang.com/recipe/1013931/)，估计一般人都没听说过，上次重庆人小谋子来家里吃饭，竟然认出了这道菜，还让我很吃惊。按老家的做法，应该是米面和辣椒混了盐腌在倒扣的泡菜坛子里，用水封口。直到面和辣椒发酵变酸。我想吃，但苦于没有泡菜坛子，也找不到合适的红辣椒，于是去沃尔玛找了一罐红泡椒，混入玉米面和糯米粉，几乎立马可食，不必经过漫长等待发酵，一步到位，味道的近似度已经够解乡愁。 这样一罐榨广椒，放时间长了还会继续发酵变得更酸，味道近似度也更高。同理，这道菜想要好吃也不能怕长膘——多放油即可，而且最好是猪油。

3. 米豆腐：首先，[按菜谱](https://www.xiachufang.com/recipe/101759382/)做出来的似乎不是我吃过的米豆腐，成了一锅米糊糊，完全不能成型，不知道是不是米不对，还是说这压根儿就不是我吃过的米豆腐。我在做这道菜的时候认为阿婆主对菠菜的处理太麻烦，我哪有工夫去煮了菠菜再打碎过滤。我直接揪了几片菠菜叶子扔搅拌机里跟大米和石灰水一起打了，最后煮出来肉眼并不能看出里面有什么菠菜渣。反正这一锅米糊是要煮的，何必当初费事把菠菜单独煮熟呢。

4. 米酒：我[以前](/cn/2017/01/rice-wine/)都是老老实实把糯米上蒸锅蒸熟了再做，后来也变懒了，直接把糯米放电高压锅里用少量的水煮熟，然后放凉了拌酒曲。煮熟糯米相比蒸熟更节省能源，而且煮完之后在同一个锅里做米酒，不用从别的容器里转移到电高压锅里。
---
title: 厉害了我的编辑
date: '2018-06-19'
slug: copy-editor
---

大约两周前我把 [R Markdown 的书稿](https://bookdown.org/yihui/rmarkdown)发给了我的文字编辑，上周五她审阅完书稿，发给我说“我觉得就没必要给你设定死线了，因为我知道死线对你没意义”。知我者莫过于这位编辑。昨天下午我开始修订，到半夜两点修订完。

这次她用的编辑软件可以说有些没人性，修改的字词只有红色标记，我只能睁大[狗眼金睛](/cn/2017/02/eyes/)在三百多页 PDF 中逐页寻找红色的字词。有时候只是添加了一个逗号，或把 to 改成 into，这种细微的变动我得用肉眼来回扫描三四遍才能发现，难度堪比“大家来找茬”的游戏。哪怕 PDF 阅读器能提供一个修改的列表导航也会好很多，我起码知道哪一页上有修改，不用白白浪费眼力在没有修订的页面上。

不过好歹是改完了。这次我没料到的是，她竟然连我书中一些屏幕截图里面的文字都仔细看过了，而且还修订了那里面的语法问题。她一共发现了五幅图有问题：

1. 轩哥的 prettydoc 例子中的单数可数 [HTML document 没有冠词](https://github.com/yixuan/prettydoc/pull/10)。当然，用复数也可以，我给改成复数了。

1. rmdshower 包中的例子里的 your looking for [应该是 you're looking for](https://github.com/MangoTheCat/rmdshower/pull/49)。每当我看见英语母语的歪果仁犯这个错误都觉得好笑，怎么会[有那么多人](https://twitter.com/apreshill/status/1009431901990350854)分不清 your 和 you're 呢？老虎，老鼠，傻傻分不清楚。

1. pkgdown 包的首页中 go settings [应该是 go to settings](https://github.com/r-lib/pkgdown/pull/736)，漏了介词 to。

1. rticles 包中的 ACM 模板[拼错了 Machinery](https://github.com/rstudio/rticles/pull/141)。

1. tufte 包中的例子里 see Allaire (2018) more information [漏了一个 for](https://github.com/rstudio/tufte/commit/ff23ef7cc6)。

这些错误放在正文中也许会比较容易发现，但对截图来说，应该不会有人会去读里面的文字，结果这位编辑大人竟然发现这么多小问题。

要不是重新修改文字并截图，以及沧海找一粟，我估计我两个小时就能修订完。这是我跟 Chapman & Hall 出版的第四本书，我已经很熟悉文字编辑的风格和要求，所以这次她已经拿不出太多修订意见。希望有一天我能让她彻底无言以对。

这本书表面上是三人合著，但其实是我全盘捉刀（主要是因为我这人极独立，不喜欢、也不擅长大规模合作），两位合著者在这本书中真正写的部分是他们各自的自我介绍。他们成为合著者，完全是被动的：我抄了大量的现有文档，而这些文档是他们写的，所以某种程度上他们几年前就写好了这书的一部分，而我只是来把青椒、茄子和土豆做成了地三鲜。相对而言，[我还是蛮擅长也喜欢做地三鲜的](https://yufree.cn/cn/2018/06/07/r-conf-18/)。
---
title: 逗号
date: '2018-06-20'
slug: comma
---

很久以前我就发现我们厂长写东西有两大特点：一是分不清 it's 和 its，经常把后者写成前者；二是不爱用逗号，一句话奔流到海不复回。我跟他开玩笑说你这两个坏习惯会让你无法胜任机密写作任务的，太容易看出来是你写的了。

前一个特点比较少见，目前我只发现他分不清，更多的人是分不清 your 和 you're（也有可能是手机打字太懒的缘故）。后一个特点则常见一些，比如我在看一则[创业文章](https://www.indiehackers.com/interview/how-we-turned-coding-screencasts-into-a-million-dollar-business-f20ef382a1)时，这句话我第一遍读来活生生被噎死了：

> I read Hackers & Painters by Paul Graham which thoroughly convinced me that if I ever wanted to control my destiny and not be stuck something had to change.

真是懒啊。逗号这种东西，宁滥毋缺。窃以为加两个逗号之后可读性会暴涨两倍：

> I read Hackers & Painters by Paul Graham, which thoroughly convinced me that if I ever wanted to control my destiny and not be stuck, something had to change.
---
title: Github 项目星标数
date: '2018-06-20'
slug: github-stars
---

[有好事者](https://twitter.com/StevenMMortimer/status/1009150231190089728)抓取了 R 包的下载量以及相应的 Github 星标数，做了简单的描述性分析。排名第一的是谁我想大家猜都不用猜，毫无悬念，是他，是他，就是他。寡人的总星标数排第二，略感意外，尤其 bookdown 的星标数已经过千让我不太能理解——不太可能会有那么多人有写书的需求吧。

![R 包的下载量以及相应的 Github 星标数](https://pbs.twimg.com/media/DgE4mk9X4AABz89.jpg)

上次我[吐槽过](/cn/2018/04/prolific/)一个人写包的数量和下载量跟他是否高产未必有直接联系：有人把一个包拆成二十个小包导致他的包总数大，有人更新包相对频繁一些，也会导致下载量大。这次这位作者没在描述分析里加入浮夸的形容词，所以我没什么需要吐槽的。不过呢，关于这星标数我也有三点评论：

1. 我觉得加入 Github 早的人会相对获得更多星标，我和 Hadley 注册 Github 已经快十年。越早加入，积累的势就越大。如果能按照时间平均一下再看星标数，或许能发现黑马，这事的意义可能更大。如我在上一篇吐槽中所说，现如今再把这些明显的社区名人挂墙上供来往行人参观，对这些人本身并没什么意义（名气已经是够够的了），唯一的正面作用是可能会有一点模范激励作用。

1. 我个人的星标数可能是沾了华人码农数量庞大的光，另一方面可能也是由于华人更喜欢点赞。在这里感谢一下这些年诸位有钱的捧个钱场，没钱的捧个赞场。如果点赞数能经过国籍调整（比如华人收到的非华人的点赞数，或反之），那么我觉得也有可能发现黑马。当然，这个操作会略难一点（只求粗略解的话，就把看起来像拼音的名字都当作华人即可）。

1. 我冒领了 rmarkdown 这个库的星标数（过千），我只不过是去年下半年才成为这个包的维护者而已，我对它的直接贡献很有限。

所以汇总的数据经常经不起推敲，敲着敲着就容易垮。看完各回各家，各找各妈，该干啥干啥吧。
---
title: 短视频
date: '2018-06-20'
slug: short-video
---

按照一年一本书的计划，今年的书已经写完，是时候考虑下一步做什么了。当然对我而言，事情永远都做不完：人在码海，身不由己。就算我不找事，事也会找我。

我考虑的事情之一就是录一些三五分钟的技术短视频，每天录一则，半年录一百则（其实这不是我一次考虑了——四年前[已经想过一次](/cn/2014/12/summary/)）。倒不是我要向快餐文化低头，而是我觉得有些技术性的东西做成快餐也无碍。系统学习是一种学习方式，零碎学习也是一种学习方式，但零碎学习需要一定程度的系统学习作为前提，这是那些鼓吹所谓碎片化学习的人没意识到的问题。你不能指望三分钟就能掌握一门重要技能，只要你抱有这种贪念，你就会不停被各类网红、大咖、名嘴、段子手、知识领袖、畅销书作者收取智商税。碎片式学习只能给你的智商和技能树长叶子，不大可能帮你长根。

以下基本纯属题外话。好几周前看到一篇短视频教程网站 egghead.io 创始人的[采访稿](https://www.indiehackers.com/interview/how-we-turned-coding-screencasts-into-a-million-dollar-business-f20ef382a1)，读来有三点我觉得颇有意思。首先是：

> Fake it til you make it!

这是我很同意的观点。我前年[表达过类似的意思](/cn/2016/12/student-project/)：当你不那么厉害的时候，不妨装作很厉害的样子（甩给人一份二十页的简历了解一下），直到你真的厉害了，再把那些伪装卸下来。当然，他并不是鼓吹欺骗，你不能一点不懂就充专家，而是在你半懂的时候可以先装九成懂，拿到机会之后再在暗地里加油把剩下的四成补齐，这是一种很好的激励学习、进步的方式。就像我 [2014 年说](/cn/2014/12/summary/)我当时并非 R Markdown 的核心贡献者、却在冒领赞誉一样，这并非坏事，也不必急着谦虚。若别人先赞为敬，你大可领旨谢恩，回去花点工夫让自己真正获得值得一赞的实力与资格。

其次是学校与教育：

> I'm not a big fan of traditional education. My five kids have never been to school, and when I tried, it was slow and tedious. While I don't like school, I'm a huge fan of education.

嚯，五个孩子都没上过学，真是一位猛士。这观点我也很同意，我一样不想让我的娃将来用传统教育的方式上学。我不知道他是否在暗地里引用[马克吐温的名言](http://www.loyhome.com/%E8%83%8C%E6%99%AF/)：别让上学耽误了你娃的教育（Don't let your boy's schooling interfere with his education）。我个人只看重学校的一点特征，就是社交，在那个集体里可以与人互动。至于学知识，我们真的还需要依赖实体的教室和老师吗？何况社交这个技能，学校也不一定是最好的环境。

第三点是如何寻求比你厉害的人的帮助：

> I've also noticed that if you take somebody's knowledge and advice to heart and apply it, they are more willing to help you and answer questions. Don't ask stupid questions. Do your research. Try your best, and ask excellent questions. When people see you trying and making an effort to respect their knowledge and time, they reciprocate. Often with friendship!

注意这个关键词：reciprocate。即你敬我一尺，我会敬你一丈。你想请人帮忙，尤其是忙人，一定要拿出你的诚意，让人看到你的努力。这一点，去年《[叶翔](/cn/2017/10/ye-xiang/)》一文中已经举过例子。

他这样的一个短视频教学网站，一年能有三百万美元的收入，这让我感到有些吃惊。莫非我严重低估了码农的付费意愿？
---
title: 种菜
date: '2018-06-20'
slug: vegie
---

去年开始种菜。尽管经验值为零，还是一通瞎种，基本就是在地里刨个坑，埋上种子浇浇水完事。最终西红柿东倒西歪不成体统，大概吃了五六个，等大规模结果的时候气温已经降到零度以下，所以百十个青西红柿都扔了。辣椒硬邦邦的不好吃。拳头大的西瓜收获了二十来个，倒是甜的。种的冬瓜我嫌它们长得太茂盛，拿把剪刀胡乱剪了一大片枝蔓，结果人家尥蹶子不干，没过几天集体翘了辫子，而无意掉在菜园子另一边的一颗冬瓜种子却发芽最终长大，而且结了六七个大冬瓜，每个二三十斤，所以排骨炖冬瓜吃到爆。向日葵太容易长，长了一长排，抠下葵花籽炒炒却不好吃。蒜苗也容易长，就是不够嫩，也不够壮实。玉米种了十几株，每一株基本只结一根玉米。丝瓜结果太迟，不知道是不是肥料不对路，最终大约吃了两条，然后冬天就来了。黄瓜跟丝瓜是同样的命运，一共结了两条（说出来别的菜农可能会笑死）。

![拳头大的西瓜](https://db.yihui.org/images/watermelon.jpg)

韭菜兀自悠哉悠哉地长着，死不了，也不见活到哪儿去；人都说韭菜生命力惊人，会很快窜满菜园，而我大概是种了假的韭菜，每次割完它就只把我割过的部分长齐就算完成任务了，绝不向周围开疆拓土，不过也是够吃了。倒是红薯苗的扩张速度很快，隔三差五就穿过栅栏长到邻居家院子里去了，还得把它们拽回来。

问别人小心翼翼要来的鱼腥草竟然红颜薄命：第一次要来后我很大意，心想这货应该跟仙人掌一样不可能死的，在室内养了一段时间就拿出去埋地里了，可能是天气太冷或土不对的缘故，没多久就彻底死了；我很是丧气，于是又一次向人要了几根，结果这次可能是因为天气太热了，又给热死了；于是我恍恍惚惚搞不清这鱼腥草到底是喜热还是喜寒还是喜干还是喜湿。等到今年，又见人说起鱼腥草，忍不住问另一个人要了几根，寄来后跟上次的品种似乎不太一样，粗壮一些；这次我仔细着在室内养着，每天上午捧到东边窗口晒太阳，下午捧去西边窗口晒太阳，到天气不冷不热了才种到外面。后来有几天气温陡增到接近四十度，我看鱼腥草叶子都晒枯了，于是赶紧搬来一些树枝搭在盆上挡一挡。阿弥陀佛，总算没死。现在终于开始在盆里窜芽，目测应该不会再死了，明年有望吃上。

今年天气异常，到四月中旬还在下雪，好不容易等到一周气温到零上，我买了青椒和黄瓜种子埋到地里，结果第二周气温又降到零下。可能是这个缘故，或是我埋得太深，这些种子几乎全军覆没，最终只有两株青椒侥幸长了出来。

去年秋天从一个老爷爷那里拿回来一把香菜种子，本香菜控满怀期待地种了一部分在地里，后来发芽了，还没等长大就冬天了。我以为它们会在雪里被冻死，然而到了今年春天，它们竟然又活过来，而且开始猛长。还没来得及吃多少，就开始开花结籽。没想到香菜竟然这么能结籽，这下明年就算把香菜当饭吃都吃不完了。

上周末去这个老爷爷家，他自己的园子里种了很多菜，给我一把大葱和两根黄瓜苗。因为天太热，拿回家黄瓜苗已经蔫了。大葱没问题，可能对水分要求不是很高；黄瓜苗种到地里，第二天去看时有一棵的叶子已经全枯了。幸而这周天气比较凉爽，只有二十多度，而且雨水充足，至少有一棵黄瓜苗是活过来了。

小时候我最羡慕别人家菜园子的东西是西红柿，因为我家通常不会种。大约又是物以稀为贵，那时候我觉得西红柿简直是人间美味。自家菜地里几乎一律只种辣椒和黄瓜，这两样都可以自己吃，也会有商贩来收。辣椒一种一大片，黄瓜相对少一些，所以我也很期待黄瓜长出来。那种表皮带刺、屁股带花、爽脆并有一丝涩味的新鲜嫩黄瓜（连黄瓜籽都是嫩的而且咬碎后有一股清香），长大后再也没吃到过。不知究竟是那样的黄瓜后来真的绝种了，还是随着年龄增长嘴变刁了。
---
title: 是莽撞人就来单挑：一个所见即所得的（R）Markdown 编辑器？
date: '2018-06-20'
slug: wysiwyg-r-markdown
---

纯就编辑体验来说，R Markdown 写写中小型文档还可以，但到了写大规模的文档就有点令人头疼了，比如写书。这种情况下需要尽可能减少分心因素，不然很难连续取得进展，而坦白说，阅读大型 Markdown 源文档并不是一件让人愉悦的事情，让我写书的时候有些眼乏。其实我的不满之处并不多：

1. 我不喜欢看见表示斜体的下划线和表示粗体的双星号，我想直接看见斜体和粗体。

1. 我不喜欢看到超级链接，尤其是链接很长的情况下，很是干扰阅读；若链接能直接附着在文字上会好很多（可以像 Google Doc 那样点击编辑更新链接）。

1. 章节标题在源代码编辑器里没什么醒目标记，上下翻阅文档时，基本不知道自己看到哪一小节了。

除这些之外，引用和列表如果能以可视化形式表现出来更好，但看它们的源代码也不是太让人不舒服，而且我写书的时候并不常用引用段落。

所见即所得的编辑器容易被高级码农吐槽和鄙视，我自己也经常吐槽 Word，认为纯文本文件优于用手直接戳戳戳的二进制文件。那我怎么现在又开始期盼所见即所得的编辑器了呢？其实并没有，我并不想要一个完全的所见即所得编辑器，我只希望上面三个元素的源代码能暂时藏到屏幕背后去，我们编辑的仍然是一个 Markdown 文档，只是略微换一种让作者更舒服的展现形式而已。

本厂 RStudio 近期还没有把编辑器变成所见即所得的计划，所以我把想法写出来，看看是否有莽撞人能来揭榜。这事有两条可能的路：

1. 如果你精通 JS/HTML，你可以从头写一个编辑器，实现上面三项需求。

1. 如果你想站在巨人肩膀上，我已经花了一些时间调查了一大圈，各种所见即所得的编辑器中，我觉得有戏的是 [ProseMirror](http://prosemirror.net) 和 [Toast UI Editor](https://github.com/nhnent/tui.editor)。目测前者轻一些，后者重一些（而且暂时[不适合写代码段](https://github.com/nhnent/tui.editor/issues/186)）。

当网页版的编辑器搞定之后，剩下的事情就是如何把编辑的内容和本地文件关联起来，也就是如何打开和保存文件。此时又有两条路：一是用 Shiny，框架现成（比如点保存按钮之后就 `writeLines()`），但重一些；二是自制一个能在 R 环境中通过网页读写本地文件的工具，这个其实也并不太难，看看我的 [servr 包](https://github.com/yihui/servr)如何借力 httpuv 大概能明白（通过 Websockets 与 R  交流）。当然，等 [Chrome 的文件读写](https://developers.google.com/web/updates/2019/08/native-file-system)原生支持出来以后就不用这么复杂了。

这个编辑器的一个明显缺点是，代码段中的代码无法像在 RStudio 编辑器中可以直接运行，但这个问题可能也不是太大的问题，取决于你的 R Markdown 文档有多少需要边写边跑的代码。对我而言，我的写作中并没有多少需要即时运行并看结果的代码。就算需要看代码运行的结果，也可以通过写轮眼的无限月读（`xaringan::inf_mr()`）来实时编译预览，或不可挡的 `bookdown::serve_book()`。即便如此，还是大大损失了 RStudio 的代码功能，如自动补全。比起上面我的三个痛苦，这个代价我可以接受。

好了，需求和可能的实现就说到这儿，再说下去我感觉我自己就快要开挂上场了。下面有请莽撞人登场，况且况且况况且。
---
title: 修辞还是真实
date: '2018-06-21'
slug: rhetoric-or-reality
---

说两封让我感到“我天，给亲友的书信竟然可以写得这么精致”的书信，不过我要说的是一件鸡毛蒜皮之事，即：有时我搞不清作者是纯粹为了修辞，还是在描述现实。

一是鲍照《登大雷岸与妹书》，其中有一句：

> 旋风四起，思鸟群归。静听无闻，极视不见。

句子简洁，画面感强，但我看后感到奇怪，为什么仔细听却听不见风声、仔细看却看不见鸟。大约是旋风来得快去得快，一会儿就走远了，若是普通的风，应该不至于很快就听不见了；归鸟也飞得贼快，一眨眼就不见了，大约体现的是归巢心切（玉阶空伫立，宿鸟归飞急）。

后文写的一连串奇奇怪怪的水禽水兽似乎也有一些虚构的（名单如此之长，不禁让我想起蒸羊羔、蒸熊掌、蒸鹿尾儿……），所以更让我疑惑这到底有多少纯修辞成分。

二是吴均《与宋元思书》，有一句：

> 水皆缥碧，千丈见底；游鱼细石，直视无碍。急湍甚箭，猛浪若奔。

如果真的是急湍猛浪，怎么可能看得见游鱼细石呢。文末还有一句：

> 横柯上蔽，在昼犹昏；疏条交映，有时见日。 

光线条件不好，应该就更看不清水底的情况了。无论是修辞还是写实，这两封信札确实都是精品。后一封在写景之余来了这么一句：

> 鸢飞唳天者，望峰息心；经纶世务者，窥谷忘返。

高明。景衬心，心衬景。
---
title: 如何开始做自己不喜欢的事情
date: '2018-06-22'
slug: dread-tasks
---

YC 合伙人 Daniel Gross 谈《[如何做不喜欢的事](https://dcgross.com/accomplish-dread-tasks/)》，其实并没太多新意。还是我[以前说的那句话](/cn/2018/05/the-one-thing/)，道理谁都懂，就看谁能执行。不信看下面的方法哪一样你没听过？

1. 大事化小。大事往往难以启动，因为你一想要做这么大一件事就会本能打退堂鼓，如果你无法把大事拆分成一件件不那么吓人的小步骤，你的大脑也许就能发动了。

1. 给任务换个不那么可怕的名字。比如把“报税”这件可怕的任务说成“找出我的 W2 和其它财务相关文件”，听起来就像抬抬腿立马就可以完成。

1. 想象一遍任务的过程。也许不是整个过程的每一步都那么痛苦，你不必吓得手里的蝴蝶都飞了。

1. 和其他人交谈。交谈过程中也许别人能给你好的点子、也许你对人许诺的能鞭策你把任务完成（免得打脸）、谈话能促使你思考（想得越清楚，任务越容易完成）。

1. 另寻一个办法完成这个可怕的任务。不想手工做就写个自动化程序去做（也许[自动化更慢](/cn/2017/08/automating-program/)）。

1. 找一种方式增强你的斗志，比如听喜欢的音乐、锻炼、或喝咖啡。

我看了这么多时间管理、任务管理的文章和书，听了无数建议，现在做不喜欢的事仍然有抵触心理（比如这周我主要的时间用在了写博客和乱翻网上的文章，并没有正儿八经工作）。不得不说知易行难。
---
title: 斯坦福监狱实验的谎言
date: '2018-06-22'
slug: spe
---

我在炮轰爆栈网上的高威望用户经常粗暴对待新手时曾[引用过几次](/cn/2017/05/little-mind/)斯坦福监狱实验，用以说明被赋予权力的人会倾向于压迫没有权力的人。今日看见有文章说[斯坦福监狱实验是一个彻底的谎言](https://medium.com/s/trustissues/the-lifespan-of-a-lie-d869212b1f62)。啪啪，哎哟，我的脸，轻点儿。

我得承认我陷入了先入为主的误区，先有观点、再选择相信与这个观点相符的证据。人的观点越强烈，就越有动力去过滤性选择对这个观点有利的证据，而抛弃对这些证据真伪的推敲。其实维基百科页面上的批评观点一直都摆在那儿，并不是最近几天刚加进去的，过去我看这个页面却选择了视而不见，只顾着强调人的心理阴暗面。

人的盲点果然是难扫啊。

不过这并不代表我就要推翻我对爆栈网的意见了；我依旧认为有些高威望用户对新手很不友好，只是我的样本量可能太小，并不能说整个爆栈网的文化就很糟糕。我一直认为那些威望值高得离谱的人有片面追求威望和权力的嫌疑：上百万的威望，到底是有多闲啊，整天在那里回答问题，仿佛这是他的全职工作一般（参见[古德哈特定律](https://en.wikipedia.org/wiki/Goodhart%27s_law)：若一项指标成为目标，那么指标就再也不是好指标）。当然，这又是我的小人之心。万一人家真就是这么有爱心呢。要搞清楚动力是来自爱心还是威望，我觉得爆栈网可以来个 A/B 测试，比如每个月两周显示威望值，两周不显示，看看他们回答问题的火力值有没有明显变化，会不会每个月总有那么两周不太想回答问题。看我大 [COS 论坛](https://d.cosx.org)若干年前就抛弃了威望系统，帖子里的问题你爱答不答，反正什么奖励也没有。这样那些不穿裤子的人根本没机会下水，不用等潮水退去就可以看见[立地成佛的 TC 君](/cn/2018/05/tidy-eval/)蛤蛤蛤。
---
title: 给饼翻面
date: '2018-06-25'
slug: flip-a-cake
---

书接《[烙饼](/cn/2018/05/cake/)》。由于我的平底锅沿是[垂直于](/cn/2017/04/jianbing/)锅底的，在饼又大又软的情况下翻面非常困难，因为一方面饼占满了整个锅底、很难找缝隙下铲子到饼下面去，另一方面挑起铲子时容易把饼挑破。前些日子有一天想起吾弟四五年前曾得意地说他可以不用铲子、通过颠锅把饼翻过来。我实在忍不了每次用铲子仔细着戳戳戳，戳半天还会戳破，于是在饼的底面不沾之后试了试一口气把锅颠起来，虽然在空中完美翻面的成功率不高，但最坏的情况也就是翻过来没全铺开，接下来只需要用铲子和筷子把折叠的一部分展开即可。

人有多大胆，饼有多大碗。

趁下雨韭菜长得快、超市鸡蛋便宜，隔三差五烙个韭菜鸡蛋饼，简单省事量又足。解决了饼太硬和翻面两大问题之后，感觉终于成为烙饼界的小学生了。
---
title: 草船借箭
date: '2018-06-26'
slug: tufte-rants
---

大名鼎鼎的 Tufte 大人最近两天不知受了什么刺激，开始抨击起 R 来，说 [R 的作图功能严重过时且蹩脚](https://twitter.com/EdwardTufte/status/1011630049156648960)（注：两日后他已经删除这条消息）。于是这两天我就看着推特上一批 R 用户纷纷爆炸，站出来告诉他现代 R 作图方式是怎样的。

唉，是不是人老了就会各种毛病：保守、顽固、富有攻击性。虽然 Tufte 青壮年时期在可视化方面确实做了很出色的工作，但似乎后半辈子都在吃老本，日复一日重复讲课，推销自己，所以有人[强烈建议不要去上他的课](https://eagereyes.org/criticism/edward-tufte-one-day-course)。

以上是背景故事。真正搞笑的是一位 R 用户的[这条消息](https://twitter.com/thomasp85/status/1011671837200343041)：

> The greatest of Tufte's contributions to data visualisation in recent years are his obnoxious tweets prompting a flurry of replies with great resources proving him wrong, thus helping the spread of said ressources.

也就是说，Tufte 近年来对可视化的主要贡献在于他的吐槽引起的众人的抨击，因为在这些抨击中，我们可以看到更多更好的例子，来证明他的吐槽是错的。这活脱脱一出现实版的草船借箭，虽然他本人并没有借箭的意思。

这让我想起一则并不新鲜的技能：对码农而言，如果你想得到最好的答案，你可以说他们最钟爱的程序语言在某个问题上不行，然后马上就会得到满满一船答案，剩下的就是你自己慢慢挑选最好的答案了。当然，故意这么做的话有点损人品。

又及：我并没关注 Tufte，今天特意去翻了一下他发的历史消息，发现一个有趣的特点，那就是他基本上每一条自己发的消息都会给自己点赞。诗云：满园春色关不住，感觉自己棒棒哒。

![Tufte 自说自赞](https://db.yihui.org/images/tufte-likes-himself.png)

再及：我还注意到有个机器人账户会自动给那些把 LaTeX 误拼为 LaTex 的人点赞。
---
title: 财务自由
date: '2018-06-27'
slug: financial-freedom
---

世上还有哪个词比“财务自由”更吸引人的吗？恐怕是没有了。当然，圣贤除外，但圣贤毕竟是少数。我不是圣人，所以我也一样爱财，只不过在目前的工作状态下我并不贪财而已。我对财富的渴望并不在于财富本身，而在于重分配权。换句话说，我并没多少需要满足的个人物欲，我有兴趣的只是将财富按照我的意愿重分配给他人。本质上这其实是自私的想法（比如我认为索罗斯做慈善完全是自私的行为，其敛财手段太卑劣）。

我不知道将来会不会有这么一天我能按我的意愿自由分配财富。以前我并没有想过这个问题，只是得过且过，今年看《原则》时它才正式浮现到我脑中。上个月注意到一个叫 [Afford Anything](https://affordanything.com) 的网站，发现站长的很多观点和我很有共鸣，于是邮件订阅了一下，然后每周大概会收到一到两封邮件，宣讲她的观点，讲如何通向财务自由。看了这么多邮件之后，我想集中总结一下，并混杂一些我的想法。

## 如何创造一个赚钱的副业

不要过度节约或盲目省钱，比如不要花一个小时找优惠券就为了省一块钱，要考虑省下的钱对应的时间、心理和精力成本。

没时间做一项副业？整块时间可能是没有，大家都很忙，但每天二十分钟也许是有的。你每天刷微信微博的时间应该会大大超过二十分钟吧？早上起床前和晚上睡觉前是不是绑在手机上？想想从那里你得到了什么，再想想你为什么穷（本来你很富，可是你把最宝贵的资源——时间——都心甘情愿支付给了网红、大咖和点赞之交们^[我不是鼓励不要关心朋友，我只是觉得一个普通人能真正关心的朋友数量绝对比朋友圈的量级小得多。]）。

太累没精力？找适合自己的解决疲惫的办法，比如大量喝水（中国人的普世药方）、少沾酒精、不要暴饮暴食、多吃水果、减少日常决策。我个人尤其看重最后一项：决策疲劳是一种很普遍但又隐形的疲劳。比如我几乎从来不用想每天穿什么衣服，反正我一年四季都在家，也很少专门花时间琢磨做什么饭（我一般在买菜时就大致想好了，做饭时只需要打开冰箱几秒钟就可以决定）。

不知如何创业？这才是关键问题。你的副业应该具备三个特征：工作时间灵活（无须早九晚五）、在家就可以工作、能赚钱。怎样的项目有这样的特点？站长认为你的副业收入必须是基于互联网的，但不意味着你得开网店或做微商，而是说以互联网为媒介。不要问你想做什么样的项目，而是问你可以帮到谁。想好你想帮什么群体的客户之后，再去获得你需要的技能，比如搭网站。

我觉得站长说的三个特征还缺了一个重要特征：有扩展性。这个特征也许包含在第三个特征“能赚钱”中了。可扩展的意思是你的业务增长几乎独立于投入的人力，比如如果你投入一年时间创建了一个会员网站，你得保证将来会员数量翻倍时不需要你再投入一年时间进去，要能让这个网站有自行发展壮大的能力。这一点很重要，否则创业者肯定会扛不住。比如我要是想做一项副业，我肯定不会选择提供 R 语言问题的个人咨询，就算它是我的长项，我也只能一次帮一个人，这不会有规模效应。相比之下，如果我能每次回答问题之后都录一个相应的视频存入一个收费网站让后来者观看，那么这个网站也许可以为我带来持续的收入，而我不必去面对单个的客户，即：用视频代替我的肉身。

## 幸福生活的公开秘诀

让生活变得幸福的秘诀绝对不在于买买买，而在于两个字：感恩（或知足）。多数人的物质生活已经够幸福了：有水、有电、有网、有空调、有沙发、有西瓜。某种程度上来说，我们都已经财富自由了。想一想吧，世上还有人穷到需要杀死自己的四个孩子再自杀，还有国家在战乱中，还有人喝不到干净的水、吃不饱饭。

前面《[爱比克泰德](/cn/2017/11/epictetus/)》中我引用过：富裕并非拥有许多财产，而是拥有很少需求。

当然，看见更好的生活能不动心没那么简单。罗隐在《英雄之言》中说连英雄豪杰如刘邦、项羽都会因为看见秦始皇的骄奢生活而动心想取而代之，凡人就更不必说了。

> 意彼（刘邦和项羽）未必无退逊之心、正廉之节，盖以视其（秦始皇）靡曼骄崇，然后生其谋耳。为英雄者犹若是，况常人乎？

赫拉利《人类简史》第十九章《从此过着幸福快乐的日子》提到了类似的观点（举例是 2011 年埃及革命）：

> 有没有可能，第三世界国家之所以会对生活不满，不只是因为贫穷、疾病、腐败和政治压迫，也是因为他们看到了第一世界国家的生活标准？

## 简化优于优化

优化的意思是最大化你的财富。把财富最大化作为目标是不明智的，因为无条件最大化财富会大大分散你的精力，比如为了五十块钱的开户奖励而开个银行账户、为了省五分钱去一个远的加油站加油。最大化财富的问题在于可能的路径太多，选择太多，你不可能照顾到这么多选择，你得更有效地利用你的脑力，把少数几件事做到极致。

## 房东的噩梦

站长是靠投资房产通往财务自由的。把房子租给别人，不可避免会遇到糟糕的租客。有一封邮件中她分别讲了一个好房客、一个普通房客和一个糟糕房客的例子。糟糕的例子是房客搬走之后家里脏得不像样。最后的结果是她找来她认识的清洁工和维修工，和他们一起打扫房子，在二十四小时之内像打仗一样把房子打扫干净、全面重新粉刷、并撤换地毯。预估花费四千美元。下一个租客在第二天搬进来的时候完全不会想到就在二十四小时前这个房子还脏得像猪圈。

站长说这是作为房东来说最坏的噩梦，但也不过如此，一年最多发生一两次。财务自由不意味着你光躺着数钱，有时候还是需要卷起袖子上阵冲锋的。

从这个过程描述来说，我感觉她蛮会鼓励工人的。一般情况下我觉得那些清洁公司不会愿意下班后还帮你干到半夜一点。大约是她的拼命精神打动了他们，完成这个看似不可能的任务之后，大家一起蹲着吃盒饭，我想他们心里应该是充满了成就感（工作被赋予了特殊意义——救人于危难，而不是普通的打扫和维修）。

## 斗战胜佛

你的生活一团糟，事情堆积成山。如何让自己变得不可战胜？站长认为要培养习惯，只有习惯的力量是不可战胜的。生活的衣食住行方方面面都要朝着有利于培养习惯的方向优化，比如多喝水、不吃垃圾食品、不要吃午饭（她指的应该是上班族中午午休花很长时间出去吃一顿饭）、每天锻炼二十分钟。然后用一串小事启动大事，并把这种行为培养成习惯。

## 拥有越多，价值越小

站长以照片为例子，问：你的手机拍了那么多照片，有几张是你过几天还会再看的？如果不看，你拍了作甚。在照相这个问题上，我比较极端（尤其是近年来），我是不爱拍照的人。我基本只用脑子记住我记得住的画面，若实在记不住，忘了就忘了。

拥有的物件多了之后，其实你分不清是你占有着这些物件，还是物件占有着你（这就跟《人类简史》中说的不知道究竟是我们驯化了农作物还是农作物驯化了我们一样）。东西多的结果是你需要花时间整理、存取、升级、维护。少而精，不要多而泛。站长推荐了《怦然心动的人生整理魔法》，这是我[以前提过的](/cn/2015/10/tidy/)。

## 本能的恐惧与逃避

大脑里的杏仁区负责直觉反应，前叶负责理性思考。当人遇到危险或困难时，容易被杏仁区主导，下意识地会逃跑或退却。美国海豹突击队的选拔测试中有一项就是选拔能用前叶克制住杏仁区的人：让候选者带着氧气瓶沉到水底，然后突然把他的氧气管子打个结让他无法呼吸，一般人的反应会是赶紧浮出水面，不然会窒息，而有人则会冷静地考虑如何把管子重新打开。

当遇到你不想或不敢做的事情时，先去想做这件事需要哪些步骤。考虑步骤，而不要考虑那个也许很可怕的后果，这样会让你更容易着手做这件事，而不是让杏仁区控制你。

## 任何与所有

这个网站的核心观点是很简单的一句话：

> You can afford anything, but not everything.

即：你负担得起任何东西，但负担不起所有东西。比如相当一部分人只要努把力，应该都有财力满足任意一项心愿，但没有人能够满足所有心愿（就算你是王思聪也没这个本事——比如你花钱把天安门城楼上的那幅头像换成你自己的试试）。这条定理可以有很多推论，比如码农可以实现任何软件功能，但不能实现所有功能，或修正任何缺陷，但不能修正所有缺陷（高德纳大人除外）。如果没有优先级和适当的取舍，我们的生活注定会浑浑噩噩。

## 时间是如何蒸发的

站长每隔 15 分钟记录、跟踪一下自己当前正在做的事情，也就是每周记录 672 次（4 x 24 x 7）。结果发现时间的蒸发通常是由于两个任务切换之间的漫无目的游荡，也就是当你做着一件事想起做另一件事，起身去做那件事时，被一路上其它的事情吸引了注意力，导致你去做一些计划之外的事情。并不是时间不够用，而是你没有真正注意你的时间花在哪儿。

## 如何打破一个坏习惯

当你养成一个坏习惯时，你可以从五个方面分析这个坏习惯是怎么来的：

- 地点
- 时间
- 情绪状况
- 他人
- 触发这个坏习惯之前你在做的事

每次坏习惯侵蚀你的时候，都把这五方面的因素记录下来，然后分析一下究竟是什么本质原因触发了这个坏习惯。比如你要是总想出去吃餐馆，也许只是因为你工作倦了想换个环境，而换环境有很多种办法，比如你去健身、散步都可以换环境，这些都是更健康的换环境的方式。

## 为自己而活还是为别人的期望而活

我们总是操心自己在别人眼中的形象如何，但别人如何看待我们，这是我们自己无法控制的。我们能控制的只有我们自己，把自己该做或认为有价值的事情做好，至于别人如何评论，则随他去吧。不要盲目听从别人的意见，不要因为他们认为你应该做什么，你就去做什么。

每天要勇敢地做一点自己不敢做的事情。接受他人可能会不喜欢你或你做的事情这样的事实。做自己，过你自己内心期待的生活，与他人无关。

## 如何达成目标

就动力而言，内驱比外驱更有效。有些事情换一种说法就可以把低效的外驱转变为内驱。比如“我要每个月多挣一万”就是外驱的方式，而“我要挑战自己更好地经营我的生意”就更像是内驱。外驱通常是结果导向的，而不问是否享受过程（如减肥）。

谨慎用一件事去奖励另一件事。比如用看一小时电视作为读一小时书的奖励，这样是在暗示读书乏味无趣，而看电视则有趣得多。

设置过于明确的目标可能会让你失去更大的愿景。比如福特曾想制造“重量两千磅以下、售价两千美元以下”的汽车，结果造出来的车有重大安全隐患，没法给人开。

把目标替换为行动计划能减少你的压力，并有助于真正实现目标。比如如果目标是“我要写一本书”，这听起来很可怕，所以不要这样讲，而是换成“我每天上午九点到十一点是写书的时间”；或者如果目标是“我要减肥十斤”，那么可以替换为“我每天下午四点运动半小时，晚餐吃沙拉”。目标会因为行动的执行而自然达成，你不必每天顶着个巨大的目标而活。

## 狄德罗效应

法国作家狄德罗青年时期退学想成为一名作家，这与其父的意愿相悖，所以其父与之断绝了父子关系，而狄德罗也失去了经济来源。在贫困的朴素生活里，他在简单的一桌一椅上却非常高产。后来他的贫困和著作引起了俄国的叶卡捷琳娜二世的注意，后者向他提供了巨额的经济支持。于是狄德罗开始换了一件新袍子；过了一阵，为了与新袍子相配，他把嘎吱响的破椅子也换了，再后来就是桌子、镜子、金钟……最终花光了俄皇给他的资助。

买买买会产生惯性，买了一样东西，就会觉得家里其它东西也需要更换，从而可能会一直买下去。这就是狄德罗效应。比如住公寓时，家里最多摆得下一张长沙发；等买房之后，看着空旷的客厅，便想着要两张沙发，或是看着空旷的卧室，想着再买几张床；买了一身好上衣，便想配好裤子；买了好裤子，又想配好鞋；买了高档厨具，便想买更高档的食材；买了好车，便想加更好的汽油。

由俭入奢易，由奢入俭难。我们还回得去过去的简单生活吗？

## 巴甫洛夫的狗的后半段故事

关于巴甫洛夫的狗，想必是人人皆知的故事了，不就是条件反射嘛；然而这个故事并不是到摇铃铛流口水就结束了。后来有一次巴甫洛夫的实验室被洪水淹了，而狗还被关在实验室里。那些狗在快被淹死的惊恐和绝望中挣扎着活了下来。等它们被转移到安全的地方之后，巴甫洛夫发现狗拒绝进食，之前建立的条件反射规律被打破了。巨大的精神创伤可以打破动物的习惯。再后来，巴甫洛夫发现，如果饲养员陪伴着这些狗的话，它们就又开始进食了。这个故事的旨意是：当你感到迷惘时，不妨与其他人建立连接，这样更容易让你找回自己。
---
title: 听歌系列之借我
date: '2018-07-03'
slug: lend-me
---

我听的歌里多为非常老（十年二十年前）的老歌，我较少关注新歌。今日在网易云音乐上私人电台上随机听到一首前年的新歌《[借我](http://music.163.com/#/m/song?id=408814900)》，引起了我的注意。一长串歌词都以“借我”开头，果然是重复更能引起关注。

> 借我孤绝如初见  
借我不惧碾压的鲜活  
借我生猛与莽撞不问明天  
借我一束光照亮黯淡  
借我笑颜灿烂如春天  
借我杀死庸碌的情怀  
借我纵容的悲怆与哭喊  
借我怦然心动如往昔  
借我安适的清晨与傍晚

歌手叫谢知非。这名字倒是有点意思，因为按照我家辈分，我下一辈就是知字辈。

歌词写得很上口，内容读来说不清什么感觉：说它青春吧，它有安适的清晨与傍晚、有喑哑无言；说它沉静吧，它有生猛与莽撞。借我，也就是说“我”没有。这么说，那还是属于青春年少型的。最后几句[又是无言](/cn/2018/05/beauty-of-silence/)。

> 静看光阴荏苒  
借我喑哑无言  
不管不顾不问不说  
也不念

整首歌词里我觉得“借我杀死庸碌的情怀”这一句格外有力量。不过我不太懂“孤绝”和“纵容”两个词是什么意思：初见为何是孤绝的？对悲怆和哭喊而言，“从容”或“放纵”似乎都可以搭，“纵容”则有些奇怪。还有“亡命天涯”的勇敢在我看来也略微奇怪：亡命天涯听起来很豪迈，但代表的应该是不勇敢啊，否则为何要逃亡。

不知道作曲是否受了樊小纯纪念木心的[同名诗](https://baike.baidu.com/item/%E5%80%9F%E6%88%91/20726585)的影响，我猜多少应该有一些吧：标题一样、韵脚一样、都用了“悲怆”一词。关于木心，这两年断断续续有所耳闻，但还没抽出空来看看他的作品。

> 借我悲怆的磊落，  
借我温软的鲁莽和玩笑的庄严。  
借我最初与最终的不敢，借我不言而喻的不见。

这诗写得也挺好。
---
title: 我用过的不常用 GIT 命令集合
date: '2018-07-04'
slug: git-commands
---

以前说过[我很少用 GIT 命令行](/cn/2017/06/git-add/)，多数时间我都用图形界面工具操作 GIT（现在主要用 RStudio 自带的 GIT 界面），我用的最多的命令大概是 `git rebase` 和 `git stash`。过去曾经遇到一些问题需要用到略生僻的命令行，现在汇总一下供自己参考：

- 合并从当前往前 N 条提交记录（这样会丢失提交消息）：

    ```bash
    git reset --soft HEAD~N
    ```

- [把前 N 条记录移动到一个新分支中](http://stackoverflow.com/a/1628584/559676)（实质上是新建分支，然后在当前分支中删除 N 条记录，这些记录会在新分支中被保留下来）：

    ```bash
    git branch newbranch
    git reset --hard HEAD~N
    git checkout newbranch
    ```

- 重命名分支：

    ```bash
    git branch -m old-branch new-branch  # 本地重命名
    # 然后在服务器端删除旧分支并提交新分支
    git remote -v
    git push origin :old-branch
    git branch --set-upstream origin/new-branch
    git push origin new-branch
    ```

- [重命名远端名](http://git-scm.com/book/en/v2/Git-Basics-Working-with-Remotes)：

    ```bash
    git remote rename old new
    ```

- 新建一个干净分支（无历史记录）：

    ```bash
    git checkout --orphan newbranch
    git rm -rf .
    ```

- [重命名标签](http://stackoverflow.com/q/1028649/559676)：

    ```bash
    git tag new old
    git tag -d old
    git push origin :refs/tags/old
    git push --tags
    ```

- [撤销上一次操作](http://stackoverflow.com/a/135614/559676)：

    ```bash
    # 先看操作日志，找到想退回的历史记录
    git reflog
    # 假设想退回到 HEAD@{5}，那么就重置到那里
    git reset --hard HEAD@{5}
    ```

- [删除没有进入版本控制的文件](https://stackoverflow.com/q/61212/559676)：

    ```bash
    # 先看一眼欲删除的文件列表
    git clean -n -x
    # 如果确定都可以删掉，那么
    git clean -f -x
    ```
---
title: 如何在 Markdown 中引用诗词或歌词
date: '2018-07-07'
slug: quote-poem
---

在 blogdown 包提供的诸多 RStudio 插件中，我个人最满意的当然是“[New Post](https://bookdown.org/yihui/blogdown/rstudio-ide.html)”这个插件，可以说它彻底扫清了我写日志的启动障碍。过去我用 Jekyll 写日志之所以感觉写不下去是因为启动的心理成本太高：需要手工建一个 Markdown 文件，然后手敲一系列 YAML 元数据（标题、日期之类的），最后才能开始写正文。因为这第一步我都不想做，所以也不用谈写日志本身。

如今在 blogdown 中新建一篇日志就像用 WordPress 或其它有图形用户界面的网站系统一样，所以我可以写得飞起。不过偶尔还是会碰到一些需要手工重复劳动的事情，其中之一就是引用诗词（或歌词）。因为是引用，所以语法是每一段前加 `>`，但问题是如何保持换行。在 Markdown 语法中，普通的换行（敲一下回车键）是没有意义的，它跟空格没有区别。只有在代码块中，普通换行才会被保留。在非代码环境中，如果需要一个硬换行，那么需要在行末加两个空格。

如果没有行末的两个空格：

```
> 缺月昏昏漏未央，一灯明灭照秋床。
病身最觉风露早，归梦不知山水长。
坐感岁时歌慷慨，起看天地色凄凉。
鸣蝉更乱行人耳，正抱疏桐叶半黄。
```

那么引用出来的效果如下：

> 缺月昏昏漏未央，一灯明灭照秋床。
病身最觉风露早，归梦不知山水长。
坐感岁时歌慷慨，起看天地色凄凉。
鸣蝉更乱行人耳，正抱疏桐叶半黄。

因为我自己经常需要引用诗词和歌词，所以前段时间干脆在 blogdown 里写了个 RStudio 插件，让用户可以在 RStudio 中选择几行文字，然后点“Quote Poem”插件，就可以自动加上引用符 `>` 和行末两个空格了（下面的空格肉眼不可见，除非鼠标选中文字）：

```
> 缺月昏昏漏未央，一灯明灭照秋床。  
病身最觉风露早，归梦不知山水长。  
坐感岁时歌慷慨，起看天地色凄凉。  
鸣蝉更乱行人耳，正抱疏桐叶半黄。
```

上面的源代码输出的结果才是正确的：

> 缺月昏昏漏未央，一灯明灭照秋床。  
病身最觉风露早，归梦不知山水长。  
坐感岁时歌慷慨，起看天地色凄凉。  
鸣蝉更乱行人耳，正抱疏桐叶半黄。

那有人可能会问，既然代码块环境能保留换行，那怎么不用代码块环境呢，在每一行后面都加两个空格好麻烦哦：

````
```
缺月昏昏漏未央，一灯明灭照秋床。
病身最觉风露早，归梦不知山水长。
坐感岁时歌慷慨，起看天地色凄凉。
鸣蝉更乱行人耳，正抱疏桐叶半黄。
```
````

代码是代码，引用是引用，这是两码事，语义完全不同，而且通常样式也不同。要是你把引用的文字放在代码环境中，或者把代码放在引用环境中，我会宰了你。

附注：以上的例子是王安石的诗。我看到这首诗是因为朱自清考证月夜到底有没有可能有蝉声（有人质疑他的《荷塘月色》中的蝉声）。同时这又是一个[叠字](/cn/2018/05/reiterative-character/)的例子。
---
title: 两个选项
date: '2018-07-07'
slug: two-choices
---

最近几年我逐渐形成一个观点：如果碰到两个选项不知该怎么选择时，那么就选难的那个。这个观点的形成过程略有些长，我想在这篇博客中记录一下影响过我的人；因为现在无法一下子把所有人回忆起来，所以只是先占个位在此，以后可能还会补充。

## 韩愈

韩愈《送李愿归盘谷序》：

> 与其有誉于前，孰若无毁于其后；与其有乐于身，孰若无忧于其心。

要别人当面夸奖你相对容易，但要别人背后不诋毁你则很难，因为人都喜欢在明面上说好话，你有一点点成就就可以赢得当面赞誉，但要让人不在背后说你坏话，则对你做人的要求高得多。肉身得到快乐也是相对容易，而心中无忧则难得多。

## 格雷厄姆

保罗 · 格雷厄姆《黑客与画家》中的《如何创造财富》谈创业时最好的防守就是进攻，所以选择创业问题时，上手就选难的，给潜在竞争对手设置壁垒：

> 一开始就选择较难的问题，此后的各种决策都选择较难的那个选项。

这个建议不仅适用创业公司，也适用我们的个人发展。如果你一直选择做更难的问题，那么你就是在拓宽加深自己的护城河，也就是提升自己的竞争力。

## 大前研一

大前研一的《低智商社会》第五章《网络社会和大脑》：

> 如果读一本书需要 1 个小时的时间，那么就应该花大约 5 个小时的时间来认真思考这本书到底写了什么？它对于我自身有什么意义？它对于我们公司有什么意义？

> 相对于读书，思考更加重要；相对于阅读下一本，认真思考上一本书的内容更加重要。同理，相对于检索，对检索对象的思考以及怎样活用检索内容的思考是更为重要的。

读书容易，思考难。尤其是读小说最容易，因为作者通常会设好套勾引你读下去。当然我不是说读小说纯属浪费时间，小说一样会有思想性，问题是我们会花多少精力去思考它反映的思想。大前研一说的“一小时读书、五小时思考”我深表赞同。没有思考和整理的读书几乎等于白读。

## 达里奥

达里奥在《原则》中谈了“塑造者”的特质，说他们有一项共同的特征，就是他们的自我评估打分表中，“顾及他人”这一项的打分都很低。

> 每当面对是实现自己的目标还是取悦他人（或不让他人失望）时，他们都会选择实现自己的目标。

塑造者的典型人物包括乔布斯、比尔盖茨、马斯克、尤努斯等。

从我码农的角度来说，取悦他人是相对容易的事情；我比较少碰到我真的无法满足其愿望的人。如果我愿意，我可以修补多数软件缺陷以及实现多数被请求的新功能，但码农绝对不可以走这条路，否则分分钟会被淹没在琐碎中。川普的《巅峰之路》中有人说了这句话：

> 我不知道成功的关键是什么，但是我知道失败的原因是——想要取悦每一个人。

让他人失望这种事情表面上让人很难堪，所以它会诱使我们选择相对容易的选项：取悦或满足他人。
---
title: 如何把文章写流畅
date: '2018-07-08'
slug: fluent-essay
---

谭显英壮士最近[谬赞](/en/2018/07/quick-questions/)我，说我的英文博客说读起来比较流畅，问我有没有什么英文写作秘籍可以推荐。我并没有；就跟学 R 一样，我基本上没有正经看过教材或教程。其实我几年前的英文博客我自己现在都不敢看，因为怕看了会忍不住改好久。很多事情的进展都是很缓慢的，包括写代码、写文章（无论论文也好、博客也好）、种菜、做饭、推公式，但通常也会有那么一个台阶，你慢慢登上这个台阶之后就感觉轻松了。

以前我说过我倾向于写而不是说，是因为写的东西可以反复修改，这也是我写博客的常态。我的每篇博客都会改很多次，而且就算发布之后也还会再看再改，甚至过好几年之后还会改。修改可能是让文章流畅的原因之一，但我感觉最重要的因素还是胸中是否有一股不吐不快的气；如果有一股气顶着，文章铺开就会顺利一些。这让我想起欧阳修的《梅圣俞诗集序》，第一段讲：

> 予闻世谓诗人少达而多穷，夫岂然哉？盖世所传诗者，多出于古穷人之辞也。凡士之蕴其所有，而不得施于世者，多喜自放于山巅水涯之外，见虫鱼草木风云鸟兽之状类，往往探其奇怪，内有忧思感愤之郁积，其兴于怨刺，以道羁臣寡妇之所叹，而写人情之难言。盖愈穷则愈工。然则非诗之能穷人，殆穷者而后工也。

困厄能让诗人搜寻工巧的字词来表达自己的情感。如果人生一帆风顺，大概也不会有那个心思去雕琢字句。同样，如果胸中没有一口气，那么文章可能也就会散乱无力。

我喜欢吐槽，而且有些槽点很强烈。为了怼天怼地怼空气，我就得搜肠刮肚想论点，把一件事掰开揉碎了分析。这也是写作的一大好处：你可以事先随意列举思维碎片，随后再逐步填充。格雷厄姆在《黑客与画家》中的这段话我有强烈共鸣：

> 构思这种东西有一个特点，那就是它会导致更多的构思。你有没有注意过，坐下来写东西的时候，一半的构思是写作时产生的？软件也是这样。实现某个构思，会带来更多的构思。所以，将一个构思束之高阁，不仅意味着延迟它的实现，还意味着延迟所有在实现过程中激发的构思。事实上，将一个构思束之高阁，甚至会限制新构思的产生。

写文章确实是一边写一边会冒出更多想法，我最终写出来的东西很多都不是我预先想好的。有时候在写这个论点时，会突然冒出下一个论点。等一篇文章修修补补改完十遍之后，应该也就会比较全面了。
---
title: 人亡弓
date: '2018-07-09'
slug: lost-bow
---

我最早是从[小轩哥那里](https://yixuan.cos.name/cn/2011/10/commemorate/)听说的纳兰性德那首“赌书消得泼茶香”的词，因为不知道李清照的典故，当时不知道这句话是什么意思，后来放狗搜了搜，大致了解了一下。去年在《古文观止》中读了她的《金石录后序》，这才搞明白上下文。这篇序写得真有够惨。[前面我曾引过](/cn/2018/01/fitness/)《1Q84》里的话，也可以作为这篇序的写照，因为它叙述了李清照眼睁睁看着自家一大堆收藏被烧、被抢、被偷而逐渐散失的过程，却又无可奈何。

业余爱好如果发展得过头，其实未尝不是一种负担，甚至是痛苦。“是欲求适意，而反取憀憟”，就跟《武林外传》里有一集说“小赌怡情、大赌伤身”一样。偶尔收藏一些金石文字把玩一下挺好，但如果把家变成图书馆，并严令不得污损书卷，就有些过头了。感觉李清照还是隐隐有些抱怨的，在序言开头就引了两个例子：“书画与胡椒无异、钱癖与传癖何殊”。

这篇序里最打动我的一句话是：岂人性之所著，死生不能忘之欤。即：人所执着的东西是可以超越生死的。最后收藏的书卷只剩下零碎三两卷，无奈之余，只能用“人亡弓，人得之”聊以自慰，其实她心里应该十分清楚那些得到这些藏品的人肯定不会像她一样爱惜它们，但又能怎样。

撇开这篇序言不谈，孔夫子的境界果然还是很高的，把“楚人失弓，楚人得之”升格到“人遗弓，人得之”，我就喜欢这种[爱宇宙](/cn/2018/01/no-borders/)的人。
---
title: 毛姆文学回忆录之《呼啸山庄》篇的翻译
date: '2018-07-11'
slug: wuthering-heights
---

两个月前我贴《[毛姆的文学回忆录](/cn/2018/05/great-novelists/)》笔记时，曾对他提到的《呼啸山庄》的神秘而强大的力量感到好奇，尤其是我想知道那幅画到底长什么样。

> 此书非常不完美；但它拥有极少小说家能给你的东西，那就是力量。我没见过一部小说描写爱的痛苦、狂喜、狠心、执着描写得这么令人着魔，16至17世纪的西班牙画家埃尔·格列科（El Greco）有一幅伟大的名画：雷霆大作的乌云下，景色阴暗荒瘠，颀长消瘦的人体呈现扭曲的姿态，被一股阴森森的情绪魅惑，屏息不敢吐气；一道闪电划过铅灰色的天空，使场景带有一股决绝的神秘恐怖的气氛，《呼啸山庄》就让我想起那幅画。

随意放狗搜了几分钟，似乎并没有找到符合这个叙述的画。不亦怪哉。不过在搜的过程中倒是找到了[这一篇的原文](https://mmccl.blogspot.com/2017/01/nf-emily-bronte-and-wuthering-heights.html)。上面那段翻译对应的原文大致如下：

> I can think of no other novel in which the pain, the ecstasy, the ruthlessness of love have been so powerfully set forth. Wuthering Heights has great faults, but they do not matter; they matter as little as the fallen tree-trunks, the strewn rocks, the snow-drifts which impede, but do not stem, the alpine torrent in its tumultuous course down the mountain-side. You cannot liken Wuthering Heights to any other book. You can liken it only to one of those great pictures of El Greco in which in a sombre, arid landscape, under clouds heavy with thunder, long, emaciated figures in contorted attitudes, spell-bound by an unearthly emotion, hold their breath. A streak of lightning, flitting across the leaden sky, gives a mysterious terror to the scene.

我看了之后才发现，译者有偷懒的嫌疑。毛姆关于“该小说的瑕疵无足轻重”的华丽丽的形容都在翻译过程中丢失了。同时，“痛苦、狂喜、狠心、执着”这四个词最后一个“执着”在原文中并没有出现。这一段之前的同性恋猜测也漏掉了。最关键的是，我觉得“力量”的翻译有误导之嫌。我觉得毛姆说的是“对爱的痛苦、狂喜和无情的强劲有力的表达”。不是小说给人以力量，而是给人展现了一种有力的表达方式。

《文学回忆录》这书的标题翻译都有些不对劲，原标题是《十部小说和它们的作者》，翻译过来被大大升格。
---
title: 仔细人
date: '2018-07-16'
slug: hu-tao
---

昨天[在 GitHub 上碰到](https://github.com/rstudio/rmarkdown/issues/1404)一个罕见的仔细人，叫胡涛。之所以罕见，是因为我碰到的多数人都不在意他们的报告格式（或者不知道如何格式化文字），就更不必说修改自己的报告了，这导致我长年累月需要对人吼一些排版规则，比如“用[四个反引号](/en/2018/05/github-issue-format/)包裹含有三个反引号的内容”。看到格式乱糟糟的报告我真的是没有心情回复（[随手举一例](https://github.com/rstudio/DT/issues/570)）。

胡涛在这个报告及其回复中修改了好几次，不需要我的提醒。等我看到这个报告时，它已经是完全正确的格式，这令我感到无比舒心。除了修改格式，他还修改了笔误、语法问题。我看了这些修改过程，觉得这位客官非常用心，所以我非常乐意帮他把问题解决到底。完事后，因为他的资料页中没留邮箱，所以我从他的一个库的 GIT 提交历史消息中扒出了邮箱，特意发封邮件打个招呼。这种凌厉的眼神和仔细的态度将来也许可以给我帮忙做一些文字方面的工作。
---
title: 一箭双雕
date: '2018-07-22'
slug: two-birds
---

读到一则《[共用卫生间难题](https://nevalalee.wordpress.com/2015/11/27/the-hotel-bathroom-puzzle/)》，有些意思。说是以前有些酒店里两间相邻客房中间会共用一个卫生间，然后问题就是一边的客人从他那边的门进去用卫生间时，得保证另一边的客人不能从另一边的门同时进去。简单粗暴的解决办法就是两边的门都装锁，人进去之后把另一边的门从里面反锁。然而，这样带来的问题就是，一边的人用完卫生间之后常只顾着自己回房，忘记把邻居的门锁重新打开，导致那边的人就没法再用卫生间了。

一个聪明的解决办法是两边都不装锁，而是把两扇门用一条绳子连起来，绳子中间有个可解开的扣。当这个扣扣上时，两段绳子连成一条，两扇门互相牵制，都无法从外面打开（正常开门方向是从卫生间朝外而不是朝里）。当有一边的客人进去卫生间之后，就把绳子用扣接起来；他走的时候必须把扣解开，否则他自己也推不开自己的门。

这样，客人再也不用专门记住用完卫生间回房时还得打开邻居的门锁。两件事就被简化为一件事。
---
title: 人月
date: '2018-07-28'
slug: human-moon
---

大二暑假里我曾在老板匡晓波的书架上瞥见一本书叫《人月神话》。后来这些年偶尔也会看见这个书名，似乎很有名的样子，但我不知道它是讲什么的，一直以为它是一本科幻小说（当时我就有些奇怪，为什么一堆软件书中插着一本科幻小说）。直到最近看了《黑客与画家》中作者的转述，才知道原来其中“月”不是指月亮，而是一个月的“月”；同样，“人”也不是泛指的人类，而是指工人（码工）。嗬，这翻译。

以上是随便一跑题。我要说的人月就是那个本来的人月：人和月亮。《古文观止》中的人月给我留下印象的有两篇。一篇是袁宏道的《虎丘记》结尾：

> 虎丘之月，不知尚识余言否耶？

作者曾对月立誓说要弃官来石上听曲，后来真的辞官了，要与月亮履行自己的誓言，甚是可爱，同时也有种形单影只、遗世独立之感。

另一篇是李孝光的《大龙湫记》结尾：

> 日已入，苍林积叶，前行，人迷不得路，独见明月宛宛如故人。

我头一次听说宛宛这么个词（又是[叠字](/cn/2018/05/reiterative-character/)），用来形容明月就更没听说过了。这场景，尤其在前文轰隆隆的瀑布声背景下，显得月亮格外亲近，也让这篇以动为主的游记有一个突然、又静谧安详的收尾。
---
title: 桥水的招聘邮件
date: '2018-08-02'
slug: bridge-water
---

因为今年我比较频繁地提到达里奥的《原则》一书，昨日收到桥水的一则招聘邮件。这邮件大概是系统自动发出的，但与我平日收到的其它猎头邮件不太一样。关键是它里面包含了好些我的个人信息，虽然这些信息都是公开的。比如我的提到《原则》的那篇日志的链接、简历链接、维基页面、GitHub 账号。这让人初看感觉仿佛是真有个活人看过我的这些页面似的，但邮件标题暴露了它的机器人本质，因为标题用的完全是我的日志标题；如果是活人发来的邮件，那么他是不可能用这么奇怪一个标题的。桥水的信息采集系统是很厉害，不过还要继续努力哦。
---
title: 壮士的进步
date: '2018-08-02'
slug: his-progress
---

上周在审阅[谭显英壮士](/cn/2018/03/copss-5/)的一则 DT 补丁时，发现[他开始](https://github.com/rstudio/DT/pull/576/commits/0bcf6d937b1)萃取重复代码并考虑使用有具体含义的变量名了，看样子是受了[上次](/cn/2018/04/tmp/)我举变量命名例子的影响。他将这两行代码

```js
var content = $(thiz.api().cell(row, col).node()).html();
$(thiz.api().cell(row, col).node()).html(prefix + content + suffix);
```

改写为

```js
var cell = $(thiz.api().cell(row, col).node());
cell.html(prefix + cell.html() + suffix);
```

不亦清爽哉。
---
title: 问题泥潭中的曙光
date: '2018-08-02'
slug: question-sea
---

因为问问题的人太多，我常深陷问题泥潭，关于此事，常看我博客的客官们应该耳朵都听起了茧。来自陌生人的问题邮件如果我觉得毫不涉及隐私、完全可以在公共论坛上问的话，我一般会直接将其归档忽略（以前我还会苦口婆心劝人去论坛上问，现在都懒得打这些字了），当然，偶尔有特别用心的邮件我还是会认真回复一下的。而公共论坛上的问题呢（例如 COS 论坛、爆栈网、GitHub），如果我早上起来第一眼看见觉得问题问得太简略、信息量太少，需要特别提醒题主提供一个可重复的例子的话，我会本着我的人生信条“世上无难事、只要肯放弃”直接跳过这样的问题。赶上我心情好、耐心还没被磨光的时候，我也会再啰嗦一遍请题主提供更多信息。微信我[已经淡出](/cn/2017/05/wechat/)，那上面的问题我更不太可能回答。

可能是这事我实在是啰嗦太多遍了，有[不少客官](/en/2018/07/help-answer-questions/)开始同情我，在我常关注的几个地方帮我把问题抢答了，不得不说这让我感到身心无比舒畅。比如有一日我见到 [rstudio/blogdown#321](https://github.com/rstudio/blogdown/issues/321) 这个事项，讲真，我在键盘前踌躇了足足一分钟之久，心里在呐喊：你倒是给我个活例子啊！光一个截图，我就算有写轮眼也看不出是怎么回事。

四小时后，那 TC 君（这是我第三遍提名了吧）跳将出来，把我想说的话说了。好嘛，这位壮士，希望有朝一日能请你吃酒。

![](https://db.yihui.org/images/gaocheng-wuliuyi.jpg)
---
title: 将测试代码翻译为文档
date: '2018-08-02'
slug: test-to-doc
---

我有一个大胆的想法。这个想法萌生于我[召唤壮士帮我写测试](/en/2018/07/add-more-tests/)时。我的 R 包的测试代码都是基于我自己的轻量级 R 包 [testit](https://github.com/yihui/testit)，我不用流行的 testthat 是因为我觉得它把语法搞得太复杂，活生生造出一套词汇。所谓测试，无非就是当（函数）输出与预期不符时，就给个提醒，这个提醒通常是报错。testit 的测试语法很简单，只由一个函数 `assert()` 和一个特殊语法构成，形如

```r
library(testit)
assert('某函数 foo() 应该输出某结果', {
  # 任意 R 代码
  
  (foo() == '预期结果')  # 测试条件
})
```

上面说的特殊语法就是，测试条件要写在一对小括号中，这是为了让 `assert()` 知道花括号内部哪些 R 代码是应该被检测的。每个测试条件必须返回元素全部为 `TRUE` 的逻辑向量（长度大于等于 1）。花括号里可以写任意 R 代码以及多个测试条件，每个条件都得在小括号里。如果测试条件返回的不全是 `TRUE`，那么 `assert()` 就会报错。原理就是这么简单。

一般情况下，只有开发者自己知道测试的存在，用户不会关心一个包里有哪些测试，但其实测试在某种程度上也是宝贵的文档，把测试代码埋在地底下有些可惜。此话怎讲？

文档通常是文字描述。文字描述的问题就是可能会不精确，不同的人理解起来也可能会不一样。测试则是同时给出了源代码和它的预期输出，若读者能同时读这两部分，那么也许可以增强他们对一个函数的理解。代码和数学公式一样，都是精确的表达形式（所以有那句话：“废话少说，放码过来”）。

那么问题来了。测试代码的形式通常比较乱，普通青年应该不会爱读这样的源代码。要是能把代码重新组织一下，做成一篇文章或报告的形式，可读性应该可以大大增加。以 testit 的测试为例：`assert()` 的第一个参数（字符串）可以作为小节标题，花括号内的任意 R 代码可以作为普通代码段，测试条件则可以作为表格或某种双栏形式呈现。比如上面的测试可以翻译为下面的 Markdown 文档：

````md
# 某函数 foo() 应该输出某结果

```r
# 任意 R 代码
```

------- -----------
foo()     预期结果
------- -----------
````

更进一步，如果再用一点[黑魔法](/en/2018/03/hacking-rd/)，把这样的输出塞进相应的 R 帮助文档中，那么一个函数的帮助文档中不仅可以看文字文档、只有源代码的例子，还可以看相关的测试，让用户知道一个函数在不同条件下预期应该返回什么值。那就厉害了我的哥。

上面的从测试到文档的翻译咋整呢？因为 R 继承了 Lisp 的“代码本身就是数据”的特征，你有了代码之后想怎么解析、运行都可以，所以翻译应该不成问题（虽然我也没有十成把握）。我在 `assert()` 中[查探测试条件的小括号](https://github.com/yihui/testit/blob/219f6f45456e/R/testit.R#L104)其实不过就是用了 `match.call()` 和表达式（expression）的简单魔法。

当然，这整件事情还可以完全反过来做，也就是从文档到测试。这个在去年的 R OpenSci 小会上已经[有几位黑客尝试过了](https://github.com/ropenscilabs/testrmd)。
---
title: 财务自由 = 能力 - 欲望
date: '2018-08-03'
slug: ability-desire
---

今日看到这么个公式。心想，好像确实是这样哦。我们谈财务自由时，多半是在考虑满足欲望，而没考虑前者。能力不行，欲望又大，咋可能自由嘛。确切地说，这公式应该是财务自由度而不是财务自由。这个自由度公式同样可以套用在别的方面，因为自由度总是一个差额（已有的减去必须支出的）。

所以照这么看，虽然世上超级有能力的人永远是少数，但对多数人来说，完全是存在第二条路通往财务自由的，那就是降低欲望。吃了上顿不愁下顿的人可以是自由的，超市买菜可以不看价钱的人可以是自由的，留小费不根据午饭晚饭心算百分比的人可以是自由的，写代码不考虑它能挣多少钱的人也可以是自由的。
---
title: 一步之憾
date: '2018-08-03'
slug: just-missed
---

《金石录后序》虽然写得很惨，但李清照还是赶去见到了临终的丈夫。那些只有一步之遥的遗憾更让人觉得遗憾。恽敬在《谢南冈小传》中提到他偶尔在一本虫蛀的诗集中读到谢南冈的诗，觉得高邃深远，于是想拜访一下这位从未听说过的作者，结果等打听到住址、过去之后，发现这位八十三岁、一生被人嘲讽讥笑的落魄老秀才已经于前一日辞世，于是惋惜不已。

袁枚的《祭妹文》更惨痛。就晚了几个小时，没赶得及见妹妹最后一面。

> 已予先一日梦汝来诀，心知不祥，飞舟渡江，果予以未时还家，而汝以辰时气绝；四支犹温，一目未瞑，盖犹忍死待予也。

左宗棠祭奠胡林翼的文中有一句“[我苦何怜，我死何吊](/cn/2017/02/kaiti/)”，不知是大家流行这么写，还是借了袁枚的这句：

> 汝死我葬，我死谁埋？

祭文最后一句同韩愈《祭十二郎文》的最后一句一样，都是自言自语：

> 纸灰飞扬，朔风野大，阿兄归矣，犹屡屡回头望汝也。

这篇作为三大祭文名篇之一，的确是名不虚传。其中我特别注意到袁枚说后悔当初没把儿时情状记下来，这也反映了文字记录的意义。生活琐事总是当时只道是寻常。
---
title: 飘
date: '2018-08-06'
slug: drift
---

下午随机听到孟庭苇的一首歌《[飘](http://music.163.com/#/m/song?id=276399)》，觉得甚好。此时恰逢有一位与我在几次会议上偶遇的大叔发来我年初请他写的一篇[名人轶事的稿子](/en/2018/08/25-years-of-data-science/)，稿子开头引用了平克 · 弗洛伊德的一首歌“Comfortably Numb”的歌词。这两首歌我都是今天第一次听到，我看了它们的歌词之后，觉得这两首在我这里偶遇的歌似乎也有一些共性。《飘》：

> 就这样不停的飘啊飘  
直到都不再微笑  
忘记了什么重要  
也忘记了为何徒劳

《Comfortably Numb》：

> When I was a child  
I caught a fleeting glimpse  
Out of the corner of my eye  
I turned to look but it was gone  
I cannot put my finger on it now  
The child is grown  
The dream is gone  
And I have become  
Comfortably numb

所以时间到底算是治愈一切还是杀死一切？
---
title: 萌娃
date: '2018-08-09'
slug: cute
---

古文中似乎少见萌文字。在《古文观止》中，我只看到一处我觉得挺萌的句子，那是在苏洵的《张益州画像记
》中：

> 有女娟娟，闺闼闲闲。有童哇哇，亦既能言。

这让我想起我当年开始关注丰子恺文章的最初原因，也就是他描写的他的四个孩子吃西瓜的场景：

> 第二天的傍晚，我领了四个孩子─九岁的阿宝、七岁的软软、五岁的瞻瞻、三岁的阿韦─到小院中的槐荫下，坐在地上吃西瓜。【……】最初是三岁的孩子的音乐的表现，他满足之余，笑嘻嘻摇摆着身子， 口中一面嚼西瓜，一面发出一种像花猫偷食时候的"miaumiau"的声音来。这音乐的表现立刻唤起了五岁的瞻瞻的共鸣，他接着发表他的诗："瞻瞻吃西瓜，宝姐姐吃西瓜，软软吃西瓜，阿韦吃西瓜。"这诗的表现又立刻引起了七岁与九岁的孩子的散文的、数学的兴味：他们立刻把瞻瞻的诗句的意义归纳起来，报告其结果："四个人吃四块西瓜。"
---
title: 豪杰之忍
date: '2018-08-09'
slug: hero
---

苏轼论张良（《留侯论》）的第一段很是生猛：

> 古之所谓豪杰之士，必有过人之节。人情有所不能忍者，匹夫见辱，拔剑而起，挺身而斗，此不足为勇也。天下有大勇者，卒然临之而不惊，无故加之而不怒。此其所挟持者甚大，而其志甚远也。

所以豪杰并不完全是指本事大的人，本事大顶多只能说是“杰”，而我认为“豪”更难做到。某种程度上，苏轼也是在说若想取得重大成就，最好是把那些鸡毛蒜皮之事丢一边。我觉得这对现代人的最大忠告就是：[不要在网上跟人打仗](https://xkcd.com/386/)。
---
title: 超然
date: '2018-08-09'
slug: inner-peace
---

《古文观止》中以超然豁然为主题的文章大致有四。一者苏轼《超然台记》：

> 凡物皆有可观。苟有可观，皆有可乐，非必怪奇伟丽者也。餔糟啜醨，皆可以醉，果蔬草木，皆可以饱。推此类也，吾安往而不乐？ 

> 夫所谓求福而辞祸者，以福可喜而祸可悲也。人之所欲无穷，而物之可以足吾欲者有尽。美恶之辨战乎中，而去取之择交乎前，则可乐者常少，而可悲者常多，是谓求祸而辞福。夫求祸而辞福，岂人之情也哉！物有以盖之矣。彼游于物之内，而不游于物之外；物非有大小也，自其内而观之，未有不高且大者也。彼其高大以临我，则我常眩乱反复，如隙中之观斗，又焉知胜负之所在？是以美恶横生，而忧乐出焉；可不大哀乎！ 

越纠结于福祸的选择就越痛苦。

二者还是苏轼《黄州快哉亭记》：

> 士生于世，使其中不自得，将何往而非病；使其中坦然不以物伤性，将何适而非快！

心中达观坦荡，到哪里都能快乐。

三者是徐渭《豁然堂记》：

> 由此观之，其豁与不豁，一间耳。而私一己、公万物之几系焉。

豁然堂本来只有一扇窗，后来再打通两扇窗之后，景色豁然开朗。所以我们心里的墙是什么呢？

四者高攀龙《可楼记》：

> 凡人之大患，生于有所不足。意所不足，生于有所不可；无所不可焉，斯无所不足矣，斯无所不乐矣。今人极力以营其口腹，而所得止于一饱。极力以营居处，而所安止几席之地。极力以营苑囿，而止于岁时十一之游观耳，将焉用之！且天下之佳山水多矣，吾不能日涉也，取其可以寄吾之意而止。凡为山水者一致也，则吾之于兹楼也，可矣。虽然，有所可则有所不可，是犹与物为耦也。吾将由兹忘乎可，忘乎不可，则斯楼又其赘矣。 

还是说的无尽的欲望。

最后还有一篇跟这个主题沾边的是张岱《陶庵梦忆序》：

> 因叹慧业文人，名心难化，政如邯郸梦断，漏尽钟鸣，卢生遗表，犹思摹榻二王，以流传后世。则其名根一点，坚固如佛家舍利，劫火猛烈，犹烧之不失也。 

名利心难舍。道理都是很简单呐。
---
title: 古文说理
date: '2018-08-09'
slug: reasoning
---

曾国藩曾说古文不宜说理（朱自清《经典常谈》），我感觉这话应该大致是对的。一方面是中国漫长的封建社会里不太重视科学、逻辑、思辨方面的东西，每到需要支撑某个论点的时候，通常的办法就是搬出前朝的规矩（不能坏了太祖的规矩啊），或圣人的言行（你看孔子就是这么干的）；另一方面，就文章类型而言，大家也更喜欢文学味道浓厚一些的文章。

当然也不能说就没有说理的好文章。我认为柳宗元说理就很在理，比如《驳复仇议》和《桐叶封弟辨》都是不错的说理文章。其说理的核心思路其实都很简单，就是那句我们听了无数遍的：具体问题具体分析。

比如《驳》文中怎么处置杀了杀父仇人的人。有人主张按法律应该杀了这个人，但同时杀掉杀父仇人也是尽孝的表现，应该表彰。柳宗元说不可用这种自相矛盾的处置办法，而且这事不应该把重点放在杀人上，而是要追根溯源，看看那个人为何杀了他的父亲。只要这件事搞清楚，那么当前的杀人这件事的性质就清楚了。

> 向使刺谳其诚伪，考正其曲直，原始而求其端，则刑礼之用，判然离矣。

人们总是喜欢关注眼前的已经发生的结果，尤其是看新闻不嫌事大，至于新闻的前因后果，要么就是不关心，要么就是被别人牵着鼻子走。就像韩愈说的（《原道》）：

> 甚矣，人之好怪也，不求其端，不讯其末，惟怪之欲闻。

但某种程度上也不能怪罪我们广大吃瓜群众，这是个时代问题。原罪还是来自这个娱乐至死的时代：谁叫信息流通这么方便呢？我们哪有空去考证任何一件事的来龙去脉？

《桐》文同样讲不要盲目执行条文，哪怕是天子说的话，也不能盲从。

> 凡王者之德，在行之何若。

天子拿一片叶子戏说封地与弟弟，臣子不能就认死理一定要求执行封地的戏言。这样的不盲从权威精神，不光是在那个封建年代，在任何时代都是可贵的。
---
title: 如何成为天才
date: '2018-08-10'
slug: become-genius
---

看到一篇[十年前的文章](https://www.wired.com/2008/04/ff-wozniak/)，主要是被标题吸引，因为标题说的是如何用一个算法记住所有学到的东西。不得不说文章太长，我看了大约五分之一就放弃了，因为我还没看到具体的算法。然后我直接跳到了最后几段，看是否有总结，结果也没看到，但我注意到主人公给出的关于“如何成为天才”的建议：

> You must clarify your goals, gain knowledge through spaced repetition, preserve health, work steadily, minimize stress, refuse interruption, and never resist sleep when tired.

我猜想这里的“spaced repetition”可能是标题里说的“算法”。不管怎样，上面的建议倒是很中肯，但同时作者也说，如果真要这么干，那么风险就是你会跟整个社会规则对着干，我不知道他脑子里的原因是什么。我的猜测是，如果你想控制自己做事不被别人打断，那么不可避免会冒犯别人，因为我们就是生活在现在这种人际合作关系一团乱麻的年代，你想单飞（哪怕只是一会儿）太困难了。还有，想睡就睡？恐怕也没多少人能做到吧。其实也很可悲，我们的工作通常都主要是用时间而不是质量衡量的，这就导致哪怕是用火柴棍儿撑着眼皮也得扛完朝九晚五。
---
title: 普通捐赠
date: '2018-08-10'
slug: donation
---

有些人喜欢在自己的文章后面放上收款二维码（通常是支付宝和微信），期待读者看完之后能打赏。虽然我没问过这些作者到底一个月能收到多少钱，但我个人的猜测是，绝大多数人都收不到几块钱。我相信现如今大众的捐赠意愿和数额都已经相比几年前有大大提高（部分因为支付手段变得方便），但如果没有什么特殊事情，大家也不会没事去撒钱。也就是说，像博客这种平台如果靠写写普通文字收捐赠的话，应该是很困难的。如果说博主出了什么意外，真需要用钱，看官们应该会慷慨解囊，否则，依我看还不如不放捐赠链接或二维码，让大家都清静自在一些。

国内的情况我不清楚，我只举两个著名筹款网站 Patreon 的例子，网站上会显示具体的筹款金额。一个是 R 社区的怪侠 Romain François，目前一个月[大约收款 90 美元](https://www.patreon.com/romainfrancois)；这个可以告诉 R 社区的码农们，如果想靠人捐赠的话，大致会是什么收入水平（你可以和他的码力对比、掂量一下），反正我估计靠这点儿钱吃饭大概能吃个三两分饱吧。另一个大概是开源项目的极限；Homebrew 作为史上最成功的开源项目（我个人评价的），[月收款也一千美元](https://www.patreon.com/homebrew)。如果这是一个人的工资的话，这应该算是赤贫的收入水平了吧。

所以我们不要指望普通捐赠能带来什么实质性收入，那是操着卖白粉的心，收着卖白菜的钱。如果想靠写作挣钱，我觉得出版卖书是更可取的道路。当然，网红、知识经济也是一条路，但我总觉得那是相当昙花一现的事儿。如果要靠写代码活，还得投靠公司。

话虽如此，我自己还是曾经在两个地方藏了我的收款码。我主要是想看一看细心人如果发现了它，究竟通常会赏我几个亿。事实是我收到的多为一两块人民币。嗨，还真不如不放收款码。唯有一天早上醒来突然看见有人发了一笔巨款过来，我睡眼惺忪数了几遍到底有几个零，心想这是怎么回事，哪位土豪要包养我了莫。直到看了邮件，才知道原来这是我的报酬。所以我花几小时工作一下，比收那散碎银子靠谱得多。
---
title: 慢型思考
date: '2018-08-10'
slug: slow-thinker
---

看别人的采访时我总觉得他们的脑子怎么能转那么快，别人问一个问题，回答时能说一大串；如果要采访我，我现在已经不大可能实时回答问题（年少轻狂时跑跑火车倒也无碍），必须要让人事先把问题列表发给我看一遍，我想好半天、并把答案大致写下来，这样才能用语音形式回答。

满世界都是能说会道的人，所以我以为我这种慢型思考者是异类，直到今天看见[另一个人也是一样](https://sivers.org/slow)。他的症状我都有：如果你问我一个问题，我当时的回答与我几天后、几个月后甚至一年后的回答可能会很不一样。我脑子里有一堆问题围着脑仁公转，有的周期短，有的周期长，通常都没有即时的答案。当然，问题越具体，则回答所需的时间就越短，尤其是事实类的问题，比如问我的某软件是否有某功能，我可以立刻回答是或否，但如果答案为否，那么它很可能会进入公转轨道。我在 R Markdown 书的[致谢部分](https://bookdown.org/yihui/rmarkdown/acknowledgments.html)提到的 Jared Lander 的例子就是这样，我通常一两年之后给他答案。

有时候我讲完报告观众提问我回答，但下台之后我可能会立刻想，哎呀，刚才的答案不够好，但此时已经没有机会纠正了。这给我两点启示：一是不用完全相信一个人在台上说的话，就算他说的不好，可能只是他临场脑子抽抽了，不要急于怪罪他；二是如果想得到一个成熟的答案，用写的方式询问应该更靠谱（但这样的弊端是更耗时间，要是对方太忙，你也许根本就得不到回答）。
---
title: 丝瓜
date: '2018-08-12'
slug: loofah
---

这两年园子里长东西都很随机。去年我专门种的冬瓜都死了，后来在园子的另一边冒出一棵苗，长了两个月，结出来居然是冬瓜，我都不知道那颗种子是怎么掉到那里的。今年我以为我种的是冬瓜种子，等结果之后，发现居然是南瓜。而我专门买的南瓜种子种下去长出来的苗后来也都死了。误种出来的南瓜瓜蔓长了一大园子，最后一共结出来两个小南瓜，人要知道了简直要笑掉大牙。其中一个南瓜煮熟混上糯米粉做了南瓜饼，还剩一个暂时供在那儿供来往行人参观。

去年种的丝瓜最后大约结了两条，气温就降到零下了。今年的丝瓜种子种了一路，左看右看一个都不发芽，我本来都没指望它们能长出来了，但到了六月，居然还冒出来两棵苗。这拖延症够可以的。既来之，我则把它们好生安置到另一边稍微好一点的土里，每天浇水伺候着。后来开始往樱桃树上爬蔓了，结果一年一度的日本甲壳虫大军来了，先把樱桃树叶吃光光，然后顺便把丝瓜叶子也啃得七零八落。叶挡吃叶，花挡吃花，英勇无比。于是我每天浇水的同时还得拿根棍子把甲壳虫打走，但这样也是徒劳的，它们很快还会回来。那甲壳虫的密集程度如果让密集恐惧症患者看了可能会发病。后来我实在受不了，就把丝瓜蔓从樱桃树上扯下来，搭到了栅栏上，这样虫灾稍微减轻了一些。

现在甲壳虫大军已经快要撤退，但丝瓜的新问题来了：它只顾着狂长蔓，雌蕊结出来的丝瓜倒是很多，但都还没有小指大，而且看样子完全没有继续长大的趋势。我草草搜了一下，似乎得控制一下蔓头，于是我拿着剪刀去咔嚓咔嚓把那些猛爬的大头都剪了，雄花太多，也一样剪掉一些。这两天再去看，似乎初有成效，终于有几根丝瓜有长粗的趋势了。

不知道这算不算植物界的满招损、谦受益，或是智勇困于所溺。
---
title: 小火
date: '2018-08-12'
slug: low-heat
---

对我中土大唐人士来说，在厨房里做菜通常都是用大火。我在厨房折腾了这些年，直到今年才意识到有些东西必须得中小火才行。首先是炒肉馅，如果想把肉馅炒成碎粒，就得从冷锅冷油就下肉馅开始炒。如果开始就用大火热油，容易炒成一坨一坨的，很难再在锅里戳碎。对我来说，炒肉馅最常见的用途就是加甜面酱炒成一道菜（最后和葱吃，性价比很高），或者同炒香菇、加生抽老抽鸡精高汤，然后混入粥中煮肉粥。

其次是烙硬饼。我说的硬饼是指揉面擀面出来的饼（而不是面糊糊饼），比如葱油饼、手撕饼/千层饼。火大很容易表面糊了里面还不太熟。

最后是炒花生米。花生米炒几分钟之后就很容易糊，刚开始可以略大火，之后必须转中小火，多翻动。当然，自己吃就无所谓了，糊也就是表面黑一点，里面还是嘎嘣脆的。花生糊了之后糊味儿会在整个屋里会弥漫，这是最糟糕的地方。
---
title: 本色
date: '2018-08-12'
slug: nature
---

唐顺之在《答茅鹿门知县二》中讲写不写得出好诗不在于雕琢字句、声律，而在于作者本色如何。

> 即如以诗为喻，陶彭泽未尝较声律，雕句文，但信手写出，便是宇宙间第一等好诗。何则？其本色高也。自有诗以来，其较声律、雕句文、用心最苦而立说最严者，无如沈约，苦却一生精力，使人读其诗，只见其綑缚龌龊，满卷累牍，竟不曾道出一两句好话。何则？其本色卑也。本色卑，文不能工也，而况非其本色者哉！ 

这个我大致同意，尤其是同意过分追求表面上的规则会让作者陷入琐碎泥潭，忘了写诗的本来目的是什么。但陶渊明的诗真的是随手一写就写出来的吗？

《古文观止》收录的文章中，窃以为本色最真的乃是沈复的《闲情记趣》。他不仅写了一般人不愿意或不屑于写的儿童生活，而且把儿童时期的想象写得如此生动。要说诗词只需要本色来撑的话，我可能还没法相信，毕竟诗词有规定的形式；而散文我则相信本色有主导一切的可能。沈复不曾参加科举，也很不喜欢八股时文。《闲情记趣》中提到的萧爽楼四忌中就有严禁谈论八股时文的规定（四忌：谈官宦升迁、公廨时事、八股时文、看牌掷色；四取：慷慨豪爽、风流蕴藉、落拓不羁、澄静缄默）。这大概是他的文章能别具一格的原因。

苏轼在《答谢民师书》中也说了类似的事情：

> 扬雄好为艰深之辞，以文浅易之说，若正言之，则人人知之矣。

学术界似乎就比较擅长这种把简单的事情说得无比复杂的技法。这也是为什么[我不愿意发表论文](/en/2017/12/formatting-papers/)的次要原因。如果论文讲的事情太简单，评委就会瞧不起，所以就算是简单的想法，也要把它捆得像粽子一样，让人费一番脑筋去解读。我写过两篇正式的学术论文之后就失去了兴趣，我相信那两篇文章的核心观点用半页纸就可以讲明白，但为了能发表，一定要把它们装潢成二三十页。相比之下，还是写博客自在得多，这里面才能凸显作者的本色，而不必特意去迎合什么规则。
---
title: 英雄之气
date: '2018-08-13'
slug: hero-force
---

前面说过[写文章时的气](/cn/2018/07/fluent-essay/)。我自己的气在多数时候都比较肤浅、孱弱。若论豪气，袁宏道在《徐文长传》中的这一段描写让我感到非常惊叹：

> 文长既已不得志于有司，遂乃放浪曲糵，恣情山水，走齐、鲁、燕、赵之地，穷览朔漠。其所见山奔海立，沙起云行，风鸣树偃，幽谷大都，人物鱼鸟，一切可惊可愕之状，一一皆达之于诗。其胸中又有一段不可磨灭之气，英雄失路、托足无门之悲，故其为诗，如嗔如笑，如水鸣峡，如种出土，如寡妇之夜哭，羁人之寒起。当其放意，平畴千里；偶尔幽峭，鬼语秋坟。文长眼空千古，独立一时。

这篇文章和徐渭都有奇特、过人之处，我都很难分辨到底是这篇文章写得厉害，还是才子徐渭太厉害。文章开头的场景跟前面说的[谢南冈的事情](/cn/2018/08/just-missed/)相似，都是作者随机读到一本书，惊叹书中文字的高超，然后兴奋地寻找著者。

袁宏道这一段千里浩荡的描写让我想起[毛姆的这段](/cn/2018/07/wuthering-heights/)：

> Wuthering Heights has great faults, but they do not matter; they matter as little as the fallen tree-trunks, the strewn rocks, the snow-drifts which impede, but do not stem, the alpine torrent in its tumultuous course down the mountain-side.

但袁文展示的力量与丰富程度比毛姆强大了好几个数量级。毛姆只是形容了一股力量如激流从高山上冲下来，袁文则让徐渭之气贯穿天地。
---
title: 利害
date: '2018-08-13'
slug: pros-cons
---

窃以为激进的人在考虑问题时通常只考虑一面（包括我有时候也很激进），这一面可能是极好的，也可能是极坏的。若极好，他则狂推；若极坏，则狂批。很多事情通常都同时存在利害两面；就算你的出发点是好的，也可能最终办成坏事；就算出发点是坏的，也可能结果坏不到哪儿去。梅曾亮的《记棚民事》就讲了这么一个故事，可以作为我们学习了解思维盲点的案例。

巡抚大人上奏章请求让流民（棚民）开发荒山种粮食，乍一听是好事：让流民的生活稳定下来，民间还多了很多田产。山下的老百姓却强烈反对这个提案，理由是开山会动了他们的祖坟。巡抚大人对此表示很生气。后来梅曾亮下乡了解了才知道，开山之后水土流失会变严重，要是下雨的话，山下本来的粮田就会被淹。所以你看打着爱心、正义的旗号，也完全是有可能办坏事的。

我想说一件我没有胆量在英文博客中细说的事：如何解放学术出版物（比如期刊论文、书籍）。我说的“解放”很简单，就是让出版物的内容可以免费获取。这事其实我曾简略提过，但我估计不会有多少人愿意听我说，因为免费是主流意见。如果我胆敢为出版商辩护，我肯定会被打成马蜂窝。我倒不是真不敢，只是怕麻烦而已。

让出版物免费有一条最简单粗暴的路，就是盗版，比如 Sci-Hub。我个人不是很赞同这种暴力手段。前段时间我在英文博客里很隐蔽地表达了我不太认同 Aaron Swartz 的做法，然后伤了一位客官的心。这我可以理解：我们对逝者要宽容一些，如果不是赞美之词，则最好不要说出口^[世上有很多不能公开说的话；《黑客与画家》中有一章《不能说的话》，我看完深有感触。]，何况是他这样的全民英雄。

这里面其实有很多问题都需要我们仔细考虑，并不能说你通过盗取的方式让学术论文免费了就是盗火的英雄。首先最大的问题是，那些喊着支持免费的人是出于什么动机。他们是出于一种让知识能免费传播的高尚情怀，还是单纯的只是不想付钱，我觉得难说。要测试出答案并不难，这也是我以前说过的：那些鼓吹共享精神的人，他自己是否拿出过自己付出（巨大）劳动投入的成果来与别人免费共享。如果没有，那我觉得这样的人没有资格谈共享。那些喊着论文要免费的人，如果真的在乎知识的传播，自己是否能做到拒绝在收费期刊上发表论文？

如果出版物能免费，那自然对大多数人都有利，谁不喜欢免费的东西呢。此时，出版商其实处在弱势地位，他们的声音无法与群众的怒吼抗衡。我觉得他们最终会败下阵来，但他们败了就是好事吗？一方面，出版商也有员工，他们失业了该如何安置？我们无法保证如果我们用暴力手段干掉出版商的话没有失业员工会像 Swartz 一样自杀。这些人也是人，也要养家糊口，他们只是不幸找了这样的在我们眼中认为没有意义、只为赚钱（果真如此？）的工作。另一方面，如果我们要动出版商的奶酪，我估计他们短期应该死不掉，结果可能是那些论文的价格会变得更高，这样是变相惩罚那些守规矩的人，让他们支付更多钱去获取论文。

我也不喜欢如今出版物高得离谱的定价，但我觉得最好不要正面攻击出版商，和谈、或者另起炉灶都是更好的解决方案。比如我的编辑就很乐意为我奔走，让我把我的书以免费且合法的形式放在网上，出版商只保留印刷出售的权利，而且后来他告诉我说相当多的作者都开始走这条路，这让我感到无比欣慰。所以读者和作者与出版商之间不一定非得是“来啊互相伤害啊”的紧张关系。另起炉灶的典型是 arXiv.org，它确实带来了一场免费革命，既合法、又达到了迅速传播知识的目的。

当然我不是说所有事情都得在利害思考中无限纠结。只要两方面都考虑到了，并且认为损失可以承受，那么眼一闭、心一横也未尝不可。怕就怕只看硬币的一面。
---
title: 不解之针法谜
date: '2018-08-14'
slug: knitting-method
---

几年前我就发现大米袋子的封口针法有神奇之处。如果解开封口线的第一步得当，那么接下来一扯就可以把整条线（确切地说是两条线）轻松扯下来。如果第一步解错了，那就完蛋了，得一个针眼一个针眼去解或剪开。多数时候都运气好，拿剪子把线头随便一剪，线就可以扯开了。偶尔运气不好，没解对，又赶上强迫症发作，不想把线剪成一小段一小段的，那么可能会坐地上解十几分钟。

我一直没搞明白那线是怎么缝的，明明感觉是一环套一环，怎么会一扯就全开呢。感觉这针法设计比较巧妙，随便放狗搜了一下，可能[这个针法](https://www.bilibili.com/video/av26126670/)有相似之处吧。我空间想象能力有限，仍然没理解是怎么回事。这可能会成为我的永久之谜。
---
title: 甜与辣
date: '2018-08-14'
slug: sweet-spicy
---

早年间做菜最让我惊奇的调味组合是糖醋。因为我吃菜通常不喜甜（仅限于菜），所以我也不太研究放糖的菜。直到一日看见一个偷懒版本的糖醋排骨，试了一下才知道，原来糖醋味这么简单，而且也很好吃。除此之外，我基本只在做宫保鸡丁、红烧肉、红烧鸡块和慢炖牛肉时会用糖，还有香辣虾里有时也稍微放一点糖。

在川菜馆子里吃过很多次辣子鸡，但从来没想过那味道（不是纯辣）是怎么来的，以为有什么特别的秘方。直到去年看了一眼菜谱之后才知道，原来我感觉奇特的味道只是糖而已，就这么简单。辣子鸡麻烦的地方就是要炸两遍，溅油又费时，但炸出来放糖炒炒确实好吃。没想到我最爱的辣与最不爱的甜放一起也是美味。
---
title: 为何阅读
date: '2018-08-17'
slug: reading
---

看了一篇文章讲[沉浸式阅读对大脑的作用](https://lithub.com/what-does-immersing-yourself-in-a-book-do-to-your-brain/)。文章略长，生词也多，看得我昏昏欲睡，但主旨很简单，可以以一词概括，就是共情（empathy）。

阅读让我们进入他人的生活，体验他人的感受、想象、思考。这个“他人”可能是故事的主人公，也可能是作者。体验是为了理解。文章提到现代人的认知耐心（cognitive patience）在减弱，也就是我们越来越没有耐心去理解别人，尤其是与自己观点相左的人；某种程度上，我们把持有不同观点的人直接当成敌人。

> [...] Robinson lamented what she saw as a political drift among many people in the United States toward seeing those different from themselves as the "sinister other."

不过文章评论中有人指出 Robinson 本人是个伪君子，我对美帝名人不了解，不知此事真伪，感觉略讽刺。

文章还引用一部关于 Lewis 的剧，说“阅读是为了让我们知道我们不孤独”。这倒是跟我前面[谈毛姆时](/cn/2018/05/great-novelists/)的最后一段是差不多的意思。

读这篇文章时我们可能会有一个很自然的问题：阅读只是接收信息的一种方式，难道其它方式就不能让我们学会共情吗？其实作者自己也提到了这一点，但她的回答我完全不满意。她认为沉浸式阅读的共情质量更高，而我并没有看到明显的证据。看电影、看纪录片、玩游戏都可以让人高质量地浸入故事中，体验他人的喜怒哀乐。

对这个问题，我个人的回答是，阅读有别于其它接受信息的方式在于，阅读通常是主动的（小说除外，尤其是推理、悬疑小说），其它方式通常是用计牵着你的鼻子走。阅读文字与观看画面更重要的区别是，阅读给人留以巨大的想象空间，阅读的过程相当于每个读者用各自的脑子重新演了一部戏。这样的戏，外人很难提供给你，一切都靠你自己负责，没有[背景音乐](/cn/2017/02/nakasendo/)，没有脂粉梳妆，没有颜值担当，笑点、泪点、尿点都因人而异。

说到沉浸，前几天[我刚提过](/cn/2018/08/nature/)沈复的《闲情记趣》。以前我并不了解沈复以及他的《浮生六记》，因为看了《闲情记趣》觉得很好，于是也特意找来《浮生六记》看看。遗憾的是六记已经散佚其二（看今人可以写博客用 GIT 分布式存储是多么幸福），只剩四记：闺房记乐、闲情记趣、坎坷记愁、浪游记快。可能是我对旅游不太感兴趣的缘故，这四记中，前三记读来都让人有沉浸之感，尤其是《坎坷记愁》。其中芸娘死前对一生的一句话总结让人唏嘘：

> 芸强颜笑曰：“昔一粥而聚，今一粥而散，若作传奇，可名《吃粥记》矣。”

这一句话，放在读书之时，可让人停下来感慨几分钟。我想，若是换作真人演戏，我们会有时间去体会它吗？
---
title: 陈芸
date: '2018-08-18'
slug: chen-yun
---

书接[前文](/cn/2018/08/reading/)。我看了《浮生六记》上管贻葄的题诗之后，觉得有些[空泛](/cn/2017/10/zhao-couplet/)，不甚合我意，于是不才如我，斗胆抄起键盘也来凑几首致敬芸娘：

> 《闺房记乐》

> 琵琶识文一女流，斋戒数载为君痘。  
持家上敬亦下和，文君长卿重聚首。

> 《闲情记趣》

> 乐天为师青莲友，妙手烹庖沧浪游。  
家无五花千金裘，泰然拔钗且沽酒。

> 《坎坷记愁》

> 缄默忍责孤影瘦，襟怀堪令男儿羞。  
良辰已逝灯如豆，浮生聚散归一粥。

我对《浪游记快》没太大兴趣，就不凑了。

读完《浮生六记》，除了敬佩这位芸娘之外，我也在琢磨沈复这个人。[有人忿忿说他是渣男](https://book.douban.com/review/6412127/)。嗨，这评论有些暴戾。虽然我在看书的时候也隐隐觉得沈复有些无能，但也不能就这么一板子打死。他有不少花草园艺字画方面的小技能，问题是在那个时代都不能用来养家糊口。俗话说贫贱夫妻百事哀，何况亲友中还有这么多混球（父母暴躁、弟弟无赖、弟媳冷漠），在这种条件下还盲目做好人就等于把自己往火坑里推。用沈复自己在《坎坷记愁》开头的话说：

> （余）多情重诺，爽直不羁，转因之为累。

虽然他在持家方面严重不及格、生活基本不能自理，但对外品行还算不错，不算坏人。要是沈复再世，我一定要向他推销《[人生十二法则](/cn/2018/03/12-rules/)》之二和三：要爱自己，以及谨慎择友。封建社会的无条件礼法真是害人：君子礼法害了沈复（可惜了他鄙弃八股之路的勇气了），妇道害了陈芸。其实哪个时代没有无条件的礼法呢？而且每个时代的人都觉得自己遵守的礼法是天经地义。今之视昔，犹后之视今。

陈芸之死，起因于为夫谋妾失败，然后血疾发作，不巧又因此事被搞不清楚状况的公公严厉训斥（以为结交娼妓），病情越发严重。因不想为看病增加本来就很拮据的家庭的负担，她还不肯吃药。不仅如此，还拼死绣佛经一部。最后骨肉分离，悲痛欲绝。这整个过程就是一步步不可逆转地走向死亡。从今天的角度看，这每一步都有避开的可能。比如在家庭和睦、有儿有女的情况下为何非要主动为丈夫纳妾？每次被公婆训斥本都可以解释，她都选择不解释。

我认为社会进步的本质就是痛苦的相对平均化，而悲剧的来源之一就是痛苦的极度不平均，也就是有人承担了过量的痛苦，换来其他人去掉少量痛苦。比如陈芸的公公得知儿媳结交娼妓之后的痛苦和陈芸生病的痛苦显然极不平等（换句话说，一个人生一场气和另一个人丢条命，孰轻孰重？），而盲目的孝道则让陈芸必须选择宁可蒙冤被逐出门也不能辩解。现代社会仍然有很多这样痛苦不均的例子，若一些人能作出很小的让步，另外一（大）群人的幸福感会整体大大提高。比如同性恋长期不被社会主流接受，源于异性恋盲目相信异性恋是天经地义、且无法理解或感知同性恋不能见光的痛苦，这痛苦远大于异性恋眼中同性恋带来的不适。再比如期刊排版规则：若期刊负责人能稍微让步他坚信的审美，作者则可以节省大把的时间；浪费时间的痛苦和美观方面的痛苦，孰轻孰重？查理芒格总告诫我们要避免极端强烈的意识形态，这一点其实很难；我们看别人的强烈意识形态可能会觉得愚蠢，但同时会觉得自己信奉的强烈意识形态一定是对的。

好像说远了。

《浮生六记》若不是被人从地摊上发现手稿，我们今天恐怕也读不到，陈芸这个人也就彻底从历史中消失了。由此看来，历史上堙没的奇人应该是不计其数。沈复在《闺房记乐》开头说：

> 东坡云：“事如春梦了无痕”，苟不记之笔墨，未免有辜彼苍之厚。

得亏他这样想，不然我们更看不到这《浮生六记》。但即便他用笔墨记下来了，我想仍然有很多东西都丢失了，比如全篇一共只提到了陈芸的两句诗：

> 秋侵入影瘦，霜染菊花肥。

以及：

> 兽云吞落日，弓月弹流星。

她生平应该不止写过这么两句。限于笔墨，我们也只能知道这么多了。这两句一定程度上大概反映了清朝联句这种形式的流行。

沈复在描写芸娘时有一个古文中极难见到的亮点，就是写了女子的幽默，比如白字连篇和吃腐乳的故事（病入膏肓还开“吃粥记”的玩笑）。生活细节上的聪明也让人惊叹，比如利用荷花昼开夜闭的特点，在傍晚把茶叶放在荷花里，茶叶被包裹一夜之后，第二天就有荷花香了。如此聪明伶俐之人，却为礼法束缚送了性命。
---
title: 提问的典范
date: '2018-08-20'
slug: good-github-issue
---

上周有一位叫谭（？）长德的用户提交了一份我很满意的 [Github 事项](https://github.com/yihui/tinytex/issues/65)。如果一个人在提交这样的报告时能用不同级别的标题（这两个例子里是二级、三级），那表示他是个很有条理的人、且很认真对待自己的问题，这样的报告大概扫一眼就知道会值得一看。Github 记录显示这是他生平第一个 Github 事项。嚯，第一次提问就能问得这么清楚，这个码农那不寻常。

当然，我也要特别表扬一下这里帮我回答问题的湘云。如果大家都这样提问和回答，那么我每年可能只需要工作半年就够了，而且每天心情舒畅。
---
title: 日志列表分页
date: '2018-08-20'
slug: pagination
---

我在浏览别人的日志时通常有个痛点，就是翻页。我看过的多数人的个人日志量级都不超过一百篇，而分页通常设置在每十篇一页。对好奇心重的我来说，不能一眼看完一个个人网站的大致内容实在是很闹心。这便是为什么我自己的网站不设置分页的原因。

然而多数网站都会使用分页，这让我有些疑惑，到底是我觉得的麻烦根本不算麻烦，还是说大家都麻木或习惯了。我猜想分页现象的来源是过去主导网站世界的动态网站：因为动态网站通常涉及到数据库读取，而通常不会有人愿意一次性读取所有数据（太耗资源），所以常规做法就是分页读取部分数据。体现在前端就是前端结果也会分页显示。这大概是一个纯技术问题催生的网站常规做法，并且被静态网站无条件继承了下来。对静态网站来说，生成页面只是一次性的事情，所以就算耗资源，也只是每次重编网站耗那么一次，在那之后，每个用户访问这个网站都不会额外耗资源（动态网站则不可以，除非启用某种缓存机制）。

有人可能会问，你的网站只显示日志标题列表，就算一千篇日志，页面长度也不会太夸张，那要是我想显示日志摘要的话，不分页的话，页面会太长了吧？是的，如果一个标题下面还要显示一段或几段摘要，那确实不能一千篇全部显示出来；就算是静态页面，这一个列表页可能也会有好几兆，加载速度可能会略慢。那这问题就变成：到底要不要显示摘要？显然，我的回答将是（对个人网站来说）不需要。某种程度上，标题就是精简版的摘要。如果有需要摘要的可能性，那说明标题可能不太清楚。另一方面，这件事上便利性对我来说比准确性更重要，也就是我宁可要一个模糊的标题，也不想用鼠标点很多次分页链接或按钮。

分页带来的额外操作和等待时间已经磨损掉我的一部分耐心，有时候看到一些用了 JS 特效的静态网站就更让我觉得闹心，比如淡入淡出式的视觉效果。我是在看 PPT 呢还是在看日志呢。在审美上，我大概已经彻底成为佛系青年——凡是能用字解决的问题就不用图或特效。
---
title: 《穷查理宝典》笔记
date: '2018-08-24'
slug: poor-charlies-almanack
---

我第一次听说《穷查理宝典》是 [2012 年 3 月](https://github.com/yihui/ideas/issues/26)，但直到去年我才读它。前后一共大约花了十三小时、到十二月读完，划了不少线。这几天趁感冒专门放个假，来重新整理一下笔记。这些零碎的笔记主要供我自己回顾使用，并非写给来往的各位客官；如果没有读原书的话，缺少上下文可能会有些跳跃和费解。

## 第二章 芒格的生活、学习和决策方法

芒格非常推崇达尔文的研究方法，一是称赞他有毅力，二是称赞他注重搜集反面证据。下面的话是他引用赫胥黎（达尔文的忠实信徒）：

> 也许所有教育最有价值的结果是，当你不得不完成一件事情的时候，不管你是否喜欢它，你都有能力去完成这项必须的任务。这是每个人应该学的第一课，然而，无论一个人多早接受教育，这可能是他彻底学到的最后一课。

完成不喜欢但又不得不完成的事情，的确是人生最重要、也最难学到的一课。在美国统计学会的 [Amstat News 一个采访](https://magazine.amstat.org/blog/2018/04/01/data-is-my-job/)中，我基本照搬了上面的话来回答“如果时光倒流，你将有什么建议给二十岁的自己”这个问题。

在前面《[利害](/cn/2018/08/pros-cons/)》一文中，我曾提到如果一个人觉得自己的做法是无比正义、有爱心的，那么他就会忽略潜在危害。芒格引用格拉汉姆对此有进一步解释：

> 给你带来麻烦的不是坏主意，而是好主意。你也许会说：“那不可能。那是相互矛盾的。”他（格拉汉姆）想说的是，如果一件事情是个坏主意，你不会做过头。但如果一件事情是个好主意，蕴含着重要的真理，那你就没办法忽略了。然后你就很容易做过头。所以呢，如果你把它们做过头了，那些好主意是让你遭受可怕后果的好方法。

这个悖论很有意思。用我们的老话来说，就是简单四个字：物极必反。这让我联想到《黑客与画家》中引用 Lewis 的一段话：

> Of all tyrannies, a tyranny sincerely exercised for the good of its victims may be the most oppressive. It would be better to live under robber barons than under omnipotent moral busybodies. The robber baron's cruelty may sometimes sleep, his cupidity may at some point be satiated; but those who torment us for our own good will torment us without end for they do so with the approval of their own conscience. They may be more likely to go to Heaven yet at the same time likelier to make a Hell of earth. This very kindness stings with intolerable insult.

普通暴君的暴行还有停歇的时候，而追求正义的暴君则被内心的使命感驱动，永不停歇地推行他的正义法则，不管这样做到底是给民众带来好处还是坏处。

芒格也很推崇富兰克林的智慧，在书中引用过很多次他的话和做事方法。下面是芒格论诚实：

> 我们看来，本杰明·富兰克林是对的。他并没有说诚实是最好的道德品质，他说诚实是最好的策略。

我也不太相信道德品质，我认为道德品质都是脆弱的，而且通常是反人性的。如果你换个角度来看，把某些道德品质当作策略，事情则会简单很多。做人要诚实，不是因为它是优秀的道德品质，而是那样做能给你免去记忆谎言的麻烦，释放更多脑力去你该做的事情。达里奥的《原则》通篇都推崇极度透明，应该也是看中透明能把我们从猜疑中解放出来这一优点。

## 第三讲 论基本的、普世的智慧（修正稿）

芒格比较赞赏亚洲文化，尤其是中国。在谈论桥牌时，他说中国人的桥牌打得好，顺便揶揄一下：

> 要是他们也实行资本主义，天知道他们该发展得多好。

讲真，我现在已经完全搞不清这些意识形态之下的经济发展有什么本质区别，以及为什么我们要选择戴一顶社会主义或资本主义的帽子。

芒格一直嘲讽学院派的思维方式，我觉得听听他的说法对广大大学生（尤其是研究僧）会很有帮助：

> 所以如果你们的教授并没有教给你们正确的跨学科方法——如果每个教授都想过度地使用他自己的模式，对其他学科的重要模型弃之不用——你们可以自己改正那种愚蠢的做法。他是个笨蛋，并不意味着你们也要成为笨蛋。你们可以向其他学科学习能够更好地解决问题的模型。只要养成正确的思维习惯你们就能做到这一点。

话糙理不糙。每个人都有拿锤子找钉子、擅长什么就只研究什么的趋势，但为什么要把学院派单独拎出来批判呢？因为那是多数人的教育必经之路。如果你在求学阶段就被束缚了视角，以后恐怕也很难再开眼了。

巴菲特从小就意识到父亲有强烈的（右派）意识形态偏见：

> 他认为意识形态是危险的东西，决定离它远远的。他终生都离意识形态远远的。这极大地提高了他认知的准确性。

芒格论最低工资是否该提高：

> 如果你把准确、勤奋和客观当成你笃信的意识形态，那倒不要紧。但如果你们因为受到意识形态的影响，而确凿无疑地相信最低工资应该提高或者不该提高，并认为这种神圣的想法是正确的，那么你们就变成了傻子。

> 这是一个非常复杂的系统。生活总是环环相扣的。如果综合考虑，你们猜想提高或者降低最低工资会让整个社会变得更加文明，那是没有问题的。这两种想法都对。

很多问题都不太可能有一个明确的是或否的答案，不要急于站队，甚至根本就永远别去站队。最低工资的提高，也许会让社会养更多懒汉；最低工资的降低，也许会让包工头更多压榨廉价劳动力。

芒格吐槽的重灾区是心理学（其次应该是经济学），这一点上他的姿态十分傲娇以及直言不讳：

> 许多心理学教材虽然不乏闪光之处，但大体上都是垃圾。

他说这话的原因是那些厚厚的心理学教材没有谈论很多他认为是最重要的话题，比如妒忌、[心理否认](https://zh.wikipedia.org/wiki/%E5%BF%83%E7%90%86%E9%98%B2%E5%8D%AB%E6%9C%BA%E5%88%B6)、激励机制引起的偏见、多因素的组合效应。关于心理否认，他引用德摩斯梯尼的话：

> 个人想要什么，就会相信什么。

这就像我[相信斯坦福监狱实验](/cn/2018/06/spe/)一样，因为那是我想要的结果。

> 心理学教授回避心理否认问题的原因之一在于，如果要做有关心理否认的实验，他们肯定会违反道德规范。要证明痛苦如何导致人类精神失常，你们想想看，这种实验必须对你们的同类做些什么，而且你们还不能告诉他们将会受到什么伤害。所以很明显，道德规范导致这种实验行不通，尽管做实验是展示痛苦如何导致人类头脑失常的最佳方法。

因为要研究心理否认就必须做违反道德的实验，所以心理学家不愿意研究这个话题。心理学家不仅是回避对人类的心理否认研究，就连巴甫洛夫的狗的实验结果也会在教材中避而不谈，因为这些实验都太残酷了。我不知道芒格说的是巴甫洛夫的哪篇论文，但我估计这里芒格对心理学研究的批评有点过头。他说他自己没有上过一节心理学的课，我很好奇他是怎么知道心理学研究者忽视他说的那些话题的。

年初我[曾提过](/cn/2018/01/derivatives/)芒格关于工伤赔偿制度的观点，因为这样的制度更多导致的是诈骗（吸引狡猾的律师、医生、工会）：

> 所以与其创立一种有漏洞的制度，还不如就不要赔偿了——就让生活艰辛一些。

芒格谈论父亲的教育方式时说间接的教育方式更有效，也就是不直接告诉你道理，而是让你自己在做事和思考中去领悟这个道理。这让我想到我爹。他作为一个农民，自己可能从来没想过什么教育方式的问题，也很少给我讲道理，他只做一件事，就是无论刮风下雨，都总是辛勤劳作。记得大约是我上高中的时候，有一次在家里听大人们闲聊，我姑妈提起他有一天下大雨还在地里给橘树整枝，这种间接获得的消息往往更让人震撼。芒格对这种间接影响方式有一个心理学视角的解释（人类保持一贯性的倾向）：

> 优秀的文学作品需要读者略加思索才能理解，那样它对读者的影响会很深，你会更牢固地记住它。这就是承诺和保持一贯性的倾向。如果你动脑筋才懂得某个道理，你就会更好地记住它。

芒格引用富兰克林讲如何说服人（我在[一篇英文日志](/en/2017/12/how-i-learned-r/)中引过这句话）：

> 在大多数情况下，要说服一个人，从这个人的利益出发是最有效的。

承接上面关于工伤赔偿制度的讨论：

> 我个人最讨厌的是那些让欺诈变得容易的制度。

因为这种制度名义上帮助了少数真正需要的人，但实际上是让多数人的利益受损，骗子得利更多。所以他推崇海军的制度：不管由于什么原因，只要船触了礁，船长就得卷铺盖走人或受罚。

> 我赞成海军的规定，那就是在追求正义——追求让更少船只触礁的正义。考虑到这些规则带来的好处，我不会在乎有位船长受到不公平的对待。

前面提过芒格推崇达尔文：

> 去年我突然意识到自己真是个白痴，居然连现代达尔文主义都没看过。

所以我找来《物种起源》，但看了几章就觉得有些看不下去，可能这书不适合睡前看。

继续吐槽学术界（仍然是心理学）：

> 考虑到学术界的惯性，所有学术界的缺陷都是非常难以解决的。

为什么学术界的缺陷难以修正？我觉得还是象牙塔的问题。象牙塔不是纯粹的坏事，学术界需要一定的隔离来保证它的独立性（例如不要让世俗偏见影响了教育、不要让公司财团影响了科研），问题只是要隔离到什么程度。有些学术圈可能可以脱离外界现实而独立存活，这就意味着他们难以得到外界反馈，从而难以纠正系统里存在的问题。比如我认为学术界目前最大的问题就是不关心学生的找工作问题，或者说相比起对科研成果的重视，老师对学生是否能找到一份好工作这个问题的关心微乎其微，就更不必说是否关心工作几年甚至几十年之后再反思学院教育对学生日后工作的作用。学术界太注重孵化学术型人才。说到隔离，世上还有一个隔离大户，就是以佛教为代表的部分宗教。这里面如果出了问题，那么问题可能会存在很久（不知龙泉寺之事属实乎）。

芒格论为什么天才不愿意从事心理学研究，原因之一是临床心理学有一个尴尬的问题：

> 相信虚幻的东西往往能够提高幸福感。

所以天才会选择从事尖端的自然科学研究，而不会染指心理学或经济学这种软科学。这倒是跟我的选择一致：就统计学应用来说，我也倾向于关注自然科学的问题，而不愿意接触社会科学。

第三遍强调容易诱发欺诈的制度的危害：

> 应该尽可能地设计各种防止欺诈的制度，哪怕有些人的悲惨遭遇将会因此而得不到补偿。

## 第四讲 关于现实思维的现实思考？

这篇讲稿讲了五个观念，用来推导如何白手起家创造出可口可乐这家企业。我觉得这有点事后诸葛亮的意思，要是创业如此简单，他咋不自己去创一个呢。

> 第一个有用的观念是，简化任务的最佳方法一般是先解决那些答案显而易见的大问题。

在可口可乐的例子中，芒格说的两个大问题是：我们要有一个品牌、我们要生产一种广受欢迎的产品。这不都是废话吗，而且答案一点也不显而易见呀。

> 第二个有用的观念跟伽利略的论断如出一辙。伽利略说，惟有数学才能揭示科学的真实面貌，因为数学似乎是上帝的语言。伽利略的看法在乱糟糟的日常生活中同样有用。如果缺乏数学运算能力，在我们大多数人所过的生活中，你们将会像一个参加踢屁股比赛的独腿人。

芒格说的数学在这个例子里基本上只是算两样东西：一是全世界的消费者平均每人每天喝多少水（然后用可乐取代这里面的一部分水）、二是在一百五十年里让企业价值成长为两万亿美元的话，回推回去在一百五十年前每瓶可乐应该挣多少利润。无怪乎芒格说他从不用电脑，只用一个计算器和一张破旧的复利表。

> 第三个有用的观念是，光是正面思考问题是不够的，你必须进行反面思考。就像有个乡下人说过的，他要是知道他的死亡地点就好了，那他就永远不去那里。实际上，许多问题是无法通过正面思考来解决的。所以伟大的代数学家卡尔·雅各比经常说：“反过来想，总是反过来想。”毕达哥拉斯学派也同样通过逆向思考证明“2的平方根是一个无理数”。

反过来想确实是一种有用的思维方式。考虑如何让可口可乐成功的方法时，应该也考虑它如何失败的各种可能性。

> 第四个有用的观念是，最好的、最具有实践性的智慧是基本的学术智慧。但有一个极其重要的前提：你必须以跨学科的方式思考。你必须经常使用所有可以从各个学科的大一课程中学到的概念。如果能够熟练地掌握这些基本概念，你解决问题的方法将不会受到限制。由于各个学科和亚学科之间的壁垒极其森严，跨出划定的界线去研究其他学科被视为冒天下之大不韪的事情，所以学术界和许多商业机构解决问题的方法非常有限。你必须反其道而行，采用跨学科的思维方式，用本杰明·富兰克林的话来说，就是：“如果你想要完成，就自己着手去做。如果不想，就让别人去做。”

> 如果你们在思考问题的时候完全依赖别人，时常花钱请一些专业顾问，那么每当碰到你们那狭小的知识面之外的问题，你们将会遭遇很大的灾难。你们不但要浪费很多精力去处理复杂的合作问题，而且还将会遇到萧伯纳笔下那个人物所说的情况：“每个职业最终都是蒙骗外行人的勾当。”实际上，萧伯纳笔下的人物还低估了萧伯纳讨厌的那些行业的危害。通常来说，你的眼界狭窄的专业顾问并不是故意给你误事，而是他的潜意识偏见给你们带来麻烦。他的利益出发点跟你们不一样，所以他的认知往往是有缺陷的。他还拥有下面这句谚语所揭示的心理缺陷：“在拿着铁锤的人看来，每个问题都像钉子。”

每个职业最终都是蒙骗外行人的勾当。这话很尖锐，不过我觉得它一定程度上是对的；人不为己，天诛地灭嘛，多数职业都首先是为了求生，而不是为了献爱心。同样要命的是每个职业都有自己的偏见，越专业的人可能偏见越强烈。

> 第五个有用的观念是，真正的大效应，也就是lollapalooza效应，通常在几种因素的共同作用下才会出现。例如，多年以来，许多人的肺结核之所以能够治愈，是因为他们同时服用了三种药物。其他的lollapalooza效应，比如说飞机的飞行，也是遵守同样的模式。

某种程度上这也是废话，因为世上很少有只靠一种因素走向成功的案例。成功往往是多种因素交互作用的结果。

书中名言、警句、金句比较多，如：

> 如果你认为你是一个有些影响力的人，试试看能不能指使别人的狗。

又如（据说是牛顿说的）：

> 我们造的墙太多，而修的桥太少。

前面芒格说学术界的问题难以修正，但这里举了芝加哥大学引进理查德 · 泰勒的例子，说还是有希望修正的。因为泰勒一直取笑芝加哥大学奉为圭臬的“理性人假设”，引进泰勒可以促使当前芝大的教授们从反面思考：

> 芝加哥大学这么做等于是在模仿达尔文，达尔文终身大部分时间都在进行逆向思考，想要证伪他自己最爱的、历经千辛万苦才得到的理论。只要学术界有部分人愿意像达尔文那样逆向思考，让最好的学术理论充满活力，我们就可以满怀信心地期待那些愚蠢的教育行为，就像卡尔森 · 雅各比（注：卡尔森 · 雅各比，1804—1851，德国数学家）可能会推断的那样，最终将会被更好的教育方式取代。

爱因斯坦说自己也依赖于自我批评：

> 他的成就取决于四个因素，首先是自我批评，然后才是好奇心、专注和毅力。

## 第五讲 专业人士需要更多的跨学科技能

前面刚引用过萧伯纳的那句话，这里又重复一遍，并补充了一个例子（专业人士会阻止他人跨学科的努力，因为这样会影响他们的权威性）：

> 萧伯纳笔下有个人物曾经这么解释专业的缺陷：“归根到底，每个职业都是蒙骗外行人的勾当。”早年的情况证明萧伯纳的诊断是千真万确的，16世纪主要的专业人士——修道士——曾将威廉·丁道尔烧死，原因是他将《圣经》翻译成英文。

芒格论专业人士的麻烦之处：

> 1. 激励机制造成的偏见，拥有这种天生的认知偏见的专业人士会认为，对他们自己有利的，就是对客户和整个文明社会有利的；以及

> 2. 铁锤人倾向，这个名称来自那句谚语：“在只有铁锤的人看来，每个问题都非常像一颗钉子。”

书中有一处我以前不知道的冷知识：使用维生素 C 来预防普通感冒，这是[化学家鲍林](https://zh.wikipedia.org/wiki/%E8%90%8A%E7%B4%8D%E6%96%AF%C2%B7%E9%AE%91%E6%9E%97)提出来的。不过看了维基之后发现这位老先生晚年也掉进了维 C 的坑，这就是一个活生生的“把好主意做过头”的例子（见第二章格拉汉姆的话）。

芒格讲在寻找最佳的专业教育模型时，不妨参考飞行员的训练：

> 1. 要教给他足够全面的知识，让他能够熟练地掌握飞行中用得到的一切知识。

> 2. 把这些知识统统教给他，不仅是为了让他能够通过一两次考试，而是为了让他能够熟练地应用这些知识，甚至能够同时处理两三种相互交织的复杂的危险情况。

> 3. 就像任何一个优秀的代数学家，他要学会有时候采用正向思维，有时候采用逆向思维，这样他就能够明白什么时候应该把主要的注意力放在他想要的那些事情上，而什么时候放在他想要避免的那些情况上。

> 4. 他必须接受各门学科的训练，力求把他未来因为错误操作而造成损失的可能性降到最低；最重要的操作步骤必须得到最严格的训练，达到最高的掌握水平。

> 5. 他必须养成核对“检查清单”的习惯。

> 6. 在接受最初的训练之后，他必须常规性地保持对这些知识的掌握：经常使用飞行模拟器，以免那些应付罕见重要问题的知识因为长期不用而生疏。

## 第六讲 一流慈善基金的投资实践

如何消除思考的副作用？引用费曼的话：

> 首要的原则是你必须别欺骗自己，因为自己是最好骗的人。

芒格不欣赏复杂的投资方法，而是推崇伯克希尔那种对看好的少数国内公司长期投资的方法（当然这毫不奇怪），并对现代投资从业青年只顾逐利的追求表示遗憾：

> 美国越来越多有道德感的青年才俊醉心于收益丰厚的资产管理及其随之而来的现代摩擦，而对那些能够给别人带来更多价值的工作则不屑一顾。

## 第八讲 2003年的金融大丑闻

引用厄普顿 · 辛克莱（为什么有公司迫切追求用现代金融工程技术提高公司的市值）：

> 让人们去理解那些跟他们的利益冲突的事情是很难的。

这一讲主要是抨击股票期权的记账方法（以低于市场价的价格发给员工股票，员工若以市场价卖掉股票，得到的收益不记为公司的薪酬支出，而税务部门计算公司所得税的时候会把这部分减去，所以这种记账方法让公司既不减少账面上的盈利，也能享受税收的好处）：

> 股票期权的标准记账方法与那些更广为人知的简单欺骗作假手段本质上没有什么区别。

## 第九讲 论学院派经济学：考虑跨学科需求之后的优点和缺点

芒格没上过一节经济学课，却大谈学院派经济学的优点和缺点，因此他给自己授予胆量黑带：

> 我在胆量方面是黑带水平。

抨击心理学系不研究邪教（我怀疑这抨击不靠谱，应该会有人研究的吧，但芒格特意研究邪教这事本身值得赞赏，我觉得这是很有意义的一件事）：

> 我花了整整20年才搞清楚邪教如何招揽教众以及这种方法为什么会有效，但大学的心理学系到现在还没搞清楚，所以我走在它们前面。

谈经济学的优点时，大赞曼昆的经济学原理，举了两个例子：

> 机会成本是一种超级力量，所有希望获得正确答案的人都可以使用。还有，激励机制也是一种超级力量。

下面这段话可以是对统计学家最好的提醒（避免铁锤人综合征）：

> 实际上，每个人都会（1）过度强调那些有相关数据的因素的重要性，因为它们让人们有机会使用在高等学府学来的统计学技巧，并且（2）不把那些可能更加重要但没有相关数据的因素考虑在内。这是我终生试图避开的错误，我从来不后悔自己这么做。

生物学家托马斯 · 汉特 · 摩根为了避免过度强调可以被测量的因素的重要性，用了一个极端的办法，就是干脆在系里禁止使用计算器。下面说的用采矿的方式找金子，就是通过测量、计算的方法得到重大发现：

> 我就像一个在1849年的萨克拉门托河（Sacramento River）边寻找黄金的人。虽然才智有限，但我能够弯腰捡起大金块。只要能够捡到大金块，我就不会让我系里的人浪费稀缺的资源，用矿金开采的方法去找金子。

谈经济学的缺点，其一是物理学妒忌。说到妒忌，顺便狠狠踩了弗洛伊德一脚：

> 弗洛伊德是世界上最愚蠢的白痴之一，但他在他那个年代很受欢迎，而且阴茎妒忌这个概念也变得很流行。

经济学无法做到物理学的精确程度，不要盲目相信市场有效理论：

> 我是希望经济学采用硬科学的基本治学方法，养成指明其借鉴知识的来源的习惯，但我并不希望它由于物理学妒忌而渴望一种无法达到的准确度。大体上来说，那种包括波尔茨曼常数在内的准确而可靠的公式是不可能在经济学中出现的。经济学涉及的系统太过复杂。渴望做到物理学那么精确不会给你们带来任何好处，只会让你们陷入麻烦之中，就像麦肯锡那个可怜的傻瓜。

批评经济学界太强调宏观经济学（我去年[也说过](/cn/2017/02/shame/)我很难理解宏观经济学）：

> 经济学界太过强调宏观经济学，而对微观经济学的重视程度不够。我认为这是错误的。这就像不懂解剖学和化学，却想要掌握医学一样。除此之外，微观经济学是很好玩的。它能够帮助你们正确地理解宏观经济学，它就像耍杂技那么好玩。与之相反，我并不认为人们研究宏观经济学能够得到那么多乐趣。最重要的原因是，他们经常犯错，因为他们想要理解的系统实在是太复杂了。

不要做自己不认同的事情：

> 我认为你们在生活中并没有必要去推销那些你们自己永远不会购买的东西。即使那是合法的，我也不认为那么做是一个好主意。但你们不应该完全接受我的观点，因为那会让你们有找不到工作的风险。你们不应该接受我的观点，除非你们甘愿冒着只能在少数几个地方找到工作的风险。

讽刺经济学教授的单一思维（这话是不是可以延伸到整个教授群体）：

> 那些人上过四门经济学课程，入读商学院，智商都很高，写了许多论文，但他们却一点综合能力都没有。之所以发生这种情况，并不是因为那些教授知道如何综合各种知识却不传授给学生，而是由于那些教授本身也没有好好掌握综合能力。他们接受的不是一种综合的教育。我记得凯恩斯或者加尔布雷思（注：加尔布雷思，1908—2006，加拿大裔美国经济学家，曾任美国驻印度大使，两次获得总统自由勋章）说过一句话，经济学教授的思想是最经济的。他们终身使用的是他们在研究生院学到的一点点知识。

感叹经济学家不注重心理学，哪怕是一点点心理学知识就能很简单解决问题：

> 这是塞缪尔·约翰逊提出来的。实际上，他说如果一个学者能够通过少量的工作轻轻松松地去掉自己的一个无知，却不去做，那么这个学者的行为就等于背叛。这是他的原话，“背叛”。所以你们能够明白我为什么喜欢这些东西。他说如果你们是学者，那么就有责任努力让自己别成为白痴，所以你们必须尽量完善你们的知识体系，尽可能地消灭自己的无知。

再次谈工伤赔偿制度的可恨，矛头指向立法者：

> 罪魁祸首是那些立法机构。这些机构的许多成员是从法学院毕业的，可是他们却通过了鼓励欺骗的法律；他们不认为自己的所作所为对文明社会有极大的破坏作用，因为他们并没有考虑到说谎和欺骗造成的二级后果或者三级后果。

谈到钻制度漏洞，他用了[维克多 · 尼德霍夫](https://en.wikipedia.org/wiki/Victor_Niederhoffer)的例子。

> 哈佛大学经济学系的维克多 · 尼德霍夫的故事是一个利用制度漏洞的绝佳例子。

我头一次听说这个例子是当年在村里上高等线性模型课的时候，上课的老师是个资深股票玩家，通过炒股赚了不少钱，对金融界的名人轶事也了如指掌，非常能说。有一天不知道怎么就扯到这个例子上，听得我下巴都掉了。大意就是难课没有学生愿意选，所以只要选了课，教授就会给甲等高分。结果这位老兄就专门选最难的课，虽然一次也没去上过课，但门门成绩都甲等。

> 所以，正如人们根据那种叫做“互惠倾向”的心理因素可以预料到的，在研究生上的高级课程中，教授们给出的分数总是甲等。所以维克多·尼德霍夫什么课都不选，专门选哈佛大学经济学系那些最高级的研究生课程，当然啦，他每门课程都得到了甲等的成绩，而且几乎没有去上过一节课。当时哈佛大学的人还以为这学校又出了一个天才呢。

当然，这只是尼德霍夫传奇故事中的一个很小的插曲而已。

芒格以李嘉图的比较优势理论为例子，批评经济学家不考虑二级、三级后果（贸易确实为双方带来好处，但落后的国家得到的相对优势更大）：

> 如果你们试图与一些经济学教授谈论这个话题——这我已经做过三次——他们会吃惊地回避，好像你们冒犯了他似的，因为他们不喜欢这种讨论。这种讨论会让他们的漂亮学科变得一团糟，因为如果你们忽略二级和三级后果，经济学就会简单得多。

关于道德与公平：

> 人们往往没有认识到，人世间大多数结果都是不公平的，而且道德规范有时候必须不公平，才能取得最好的效果。【……】容忍对某些人有一点不公平，以便对所有人更为公平，这是我向你们所有人推荐的模式。

南海泡沫事件之后的数十年里，英国禁止企业公交交易股票，结果是：

> 长时间禁止股票公开交易的做法并没有让英国衰落。

可能是在那次泡沫事件中出现了太多把资本市场当赌场的疯狂赌徒，清理掉这些赌徒带来的好处大于关掉股票市场的坏处。

巴菲特和芒格都极力反对金融衍生品，芒格如此直白表述：

> 衍生品系统简直是神经病，它是完全不负责任的。

他引用了《诚信的背后：华尔街圈钱游戏的真相》这本书（我没看过）。

## 第十讲 在南加州大学GOULD法学院毕业典礼上的演讲

芒格很崇拜孔子，在演讲时看到现场的家长想起孔子的“孝道”，认为这些思想很重要，亚洲人在美国的地位上升就是证明：

> 请留意在美国社会中亚洲人的地位上升得有多快。

芒格开始讲他人生中的重要的道理。其一：

> 要得到你想要的某样东西，最可靠的办法是让你自己配得起它。

其二：

> 正确的爱应该以仰慕为基础，而且我们应该去爱那些对我们有教育意义的先贤。

其三：

> 获得智慧是一种道德责任。【……】你们必须坚持终身学习。

关于学习，他引用怀海特：

> 人类社会只有发明了发明的方法之后才能发展，同样道理，你们只有学习了学习的方法之后才能进步。

其四是要掌握所有重要学科的重要道理，他声称：

> 真正重要的大道理占了每个学科 95% 的分量

95% 应该是约指，只是说像帕累托法则一样，少数大道理占了整个学科的大部分分量。我很好奇有没有这么一本书来概括所有学科的重要大道理呢？要是有这么一本宝典，岂不是多数人都可以在短时间里大幅度变聪明了？统计学的重要大道理是什么？对我个人而言，我觉得就两个：回归（或者说条件概率、条件期望）和风险函数。我不是指具体的技术，而是指思维方式。

其五，再次提及要避免强烈的意识形态：

> 另外一个要避免的是极端强烈的意识形态，因为它会让人们丧失理智。你们看到电视上有许多非常糟糕的宗教布道者，他们对神学中的细枝末节持有不相同、强烈的、前后矛盾的神学观点，偏偏又非常固执，我看他们当中有许多人的脑袋已经萎缩成卷心菜了。（听众大笑。）政治意识形态的情况也一样。年轻人特别容易陷入强烈而愚蠢的意识形态当中，而且永远走不出来。当你们宣布你们是某个类似邪教团体的忠实成员，并开始倡导该团体的正统意识形态时，你们所做的就是将这种意识形态不断地往自己的头脑里塞。这样你们的头脑就会坏掉，而且有时候是以惊人的速度坏掉。所以你们要非常小心地提防强烈的意识形态，它对你们宝贵的头脑是极大的危险。

如果避免强烈的意识形态？这是芒格给自己的铁律：

> 我觉得我没资格拥有一种观点，除非我能比我的对手更好地反驳我的立场。

他把上面的铁律跟下面的话（[我去年提过](/cn/2017/12/need-not-hope-to-persevere/)）类比，不过我没看出类比的点在哪里：

> 未必要有希望才能够坚持。

芒格为什么推崇达尔文（长达二十年的准备）：

> 达尔文认为，任何对人类起源提出新解释的科学理论都将会遭遇广泛的歧视，所以他在公开发表他的理论之前，先谨慎地对各种可能出现的反驳进行了准备。因此，他花了整整20年，努力地完善他的理论，并为这种理论做好了辩护的准备。

不要无节制服务自己（比如通过透支信用卡满足自己）：

> 一种叫作“自我服务偏好”的心理因素也经常导致人们做傻事。

自怜无用论：

> 每当你们发现自己产生了自怜的情绪，不管是什么原因，哪怕由于自己的孩子患上癌症而即将死去，你们也要想到，自怜是于事无补的。

引用富兰克林讲如何说服人：

> “如果你想要说服别人，要诉诸利益，而非诉诸理性。”

如何让自己客观公正：

> 养成一些让你能够保持客观公正的习惯当然对认知非常有帮助。我们都记得达尔文特别留意相反的证据，尤其是在他证伪的是某种他信奉和热爱的理论时。如果你们想要在思考的时候尽量少犯错误，你们就需要这样的习惯。

其六，做自己有强烈兴趣的事情：

> 如果你们真的想要在某个领域做得很出色，那么你们必须对它有强烈的兴趣。我可以强迫自己把许多事情做得相当好，但我无法将我没有强烈兴趣的事情做到非常出色。

这道理似乎很简单，但我的观察是，强烈兴趣似乎是一种很稀缺的能力，绝大多数人都有自己感兴趣的东西，但兴趣程度通常一般。哪怕是人人都感兴趣的吃喝玩乐，要说在这方面的兴趣到强烈程度的人，还真是不多见（十年前我说的那个[在世界各个景点跳舞的人](/cn/2008/06/follow-your-heart/)可算一例）。在我身边认识的人里面，我就这么随便一想的话，好像只有鸟兄（张翔）一人而已，像是现代徐霞客。

其七是如何对待打击：

> 你们在生活中可能会遭到沉重的打击，不公平的打击。有些人能挺过去，有些人不能。我认为爱比克泰德的态度能够引导人们作出正确的反应。他认为生活中的每一次不幸，无论多么倒霉，都是一个锻炼的机会。他认为每一次不幸都是吸取教训的良机。人们不应该在自怜中沉沦，而是应该利用每次打击来提高自我。

我[去年提过](/cn/2017/11/epictetus/)爱比克泰德，这一句是我印象比较深刻的：

> 富裕并非拥有许多财产，而是拥有很少需求。

## 第十一讲 人类误判心理学

芒格终于要大谈他感兴趣的心理学了。因为他是班门弄斧，所以他得解释为什么要作为一个外行来讲心理学问题。理由之一是引用第欧根尼：

> 从来不得罪人的哲学家有什么用呢？

芒格讲自己积累了一套自认为有用的心理学体系，这过程就像[小红母鸡的故事](https://en.wikipedia.org/wiki/The_Little_Red_Hen)一样。

> 还有那个保育院故事展现出来的决心：“‘那我就自己来吧。’小红母鸡说。”

再次强调逆向思维和错误的例子：

> 我总是试图通过伟大的代数学家雅各比提倡的逆向思维来考虑问题。【……】我非常热衷于收集错误判断的例子。

他几次提到邪教，但都没深入谈他的研究成果：

> 纯粹的好奇心驱使我去思考邪教的问题，那些毁形灭性的邪教通常只需要一个长周末就能够将完全正常的人转变为被洗过脑的行尸走肉，并永远让他们保持那种状态，它们是怎么做到的呢？

又开始吐槽心理学教科书（无益于他研究邪教）：

> 经济学家雅各布·维纳（Jacob Viner）说过的一句话。他说许多学者就像寻菇犬，人们喂养和训练这种动物来寻找地下的块菌，除了这项专长，它别的什么都不会。

他唯一赞赏过的心理学书籍是《影响力》，这也是我[去年提过](/cn/2017/12/influence/)的。

### 奖励和惩罚超级反应倾向

举例说明联邦快递的工人为什么不能快速完成工作，原因是公司按小时付薪水，那工人当然愿意把时间拖长一些。如果修改一下激励机制，工人会以最快速度完成工作回家：

> 如果他们按照班次来支付薪水，并允许夜班工人在把所有货物装上飞机之后提前回家，那么这个系统会运转得更好。

> 也许最重要的管理原则就是，“制定正确的激励机制。”

惋惜斯金纳过度强调激励机制的威力（不过我注意到斯金纳的一项结论很有意思：随机模式的奖励能使反射行为保持最长时间，这大概可以解释为什么有些本质是随机数发生器的游戏会让人上瘾，包括赌博）：

> “铁锤人倾向”并没有放过布兰夏德和斯金纳这么聪明的人。如果你们不注意的话，它也不会放过你们。

谈激励机制引发的偏见，比如所谓的专业人士总想绑架客户，让你一直使用他的服务：

> 在我这漫长的一生中，我遇到过的管理顾问没有不在他们的报告结束时写上这个相同的建议的：“这个问题需要更多的管理顾问服务。”

如何应对这样的有潜在偏见的专业顾问？

> 1. 如果顾问提出的专业建议对他本身特别有利，你就应该特别害怕这些建议；

> 2. 在和顾问打交道时，学习和使用你的顾问所在行业的基本知识；

> 3. 复核、质疑或者更换你得到的建议，除非经过客观考虑之后这些建议看起来是合适的。

收款机与激励机制的联系（收银员无法揩油）：

> 收款机的发明能够使不诚实的行为难以得逞，所以它对文明社会作出了杰出的贡献。

斯金纳的研究结论之一（所以千万不要奖励坏行为，比如员工从店里偷钱）：

> 得到奖励的坏行为特别容易形成习惯。

收款机的发明者帕特森说（意思是你死了带不走你的钱，所以不如生前多做慈善）：

> 寿衣没有口袋

芒格是如此赞赏收款机这个发明对人类文明的贡献，称帕特森配得上这个墓志铭：

> 罗马诗人贺拉斯自撰的墓志铭：“我并没有彻底地死去。”

批评心理学的教科书不谈激励机制引起的偏见和对策：

> 如果有的事情在生活中极为明显，但很难通过容易做的、可重复的学术实验得到证明，那些心理学的寻菇犬就会忽略它。

激励机制引起的偏见会让人钻制度的空子，所以立法机构应该多了解这些偏见：

> 如果高等学府提高教育质量，传授更多的心理学知识，而学生也能吸收更多心理学知识，那么我们的立法机构和法院将会设计出更好的制度。

一个简单有效的奖励系统（斯金纳说即时奖励最有效）：

> 祖母的规矩就是要求孩子在吃甜点之前先把他们的胡萝卜吃掉。

惩罚的效果：

> 惩罚也强烈地影响到行为和认知，尽管它的弹性和效果不像奖励那么好。

### 讨厌/憎恨倾向

巴菲特的讽刺：

> 穷人和富人的主要区别是，富人能够一辈子起诉他们的亲戚。

讨厌和憎恨让人忽略对方的优点、恨屋及乌、扭曲事实。

### 避免不一致性倾向

为了节省运算空间，人类大脑不愿作出改变：

> 没几个人能够列出许多他们已经改掉的坏习惯，而有些人哪怕连一个都列举不出来。与此相反，几乎每个人都有大量持续很久的坏习惯，尽管他们自己也知道这些习惯不好。

引用富兰克林（防止坏习惯的养成比改变已有的坏习惯要容易得多）：

> 一盎司的预防比一磅的治疗更值钱。

新思想为什么难以取代旧思想：

> 正如在世界顶尖大学任教的凯恩斯爵士谈及他那些高级知识分子同事时指出的，新思想之所以很难被接受，并不是因为它们本身太过复杂。新思想不被接受，是因为它们与原有的旧思想不一致。

又来怒赞达尔文：

> 查尔斯·达尔文是最成功地化解第一结论偏见的人之一。他很早就训练自己努力考虑任何有可能证伪他的假说的证据，尤其是在他认为他的假说特别出色时更是如此。

仪式是为了建立一致性：

> 所以文明社会发明了许多庄严肃穆的入会仪式，这些仪式通常是公开举行的，能够让新成员更加忠心。

我们可以利用这种人脑避免不一致性的倾向：

> 这种倾向通常会使人们成为被某些有心机的人所操控的“受害者”，那些人能够通过激发别人潜意识中的避免不一致性倾向而博取对方的好感。

举例仍然是富兰克林，作为一个小人物如何让大人物上钩帮忙？先让大人物帮他的小忙：

> 经常设法请那个人帮他一些无关紧要的小忙，比如说借一本书给他之类的。从那以后，那个大人物就更加欣赏和信任富兰克林了，因为一个不值得欣赏、不值得信任的富兰克林与他借书给富兰克林的行为中暗示的赞许并不一致。

这种倾向可以用来培养善意，也可以培养恶意：

> 如果有个人受到操控，故意不停地去伤害另外一个人，那么他就会倾向于贬低甚至憎恨那个人。

不要向年轻学生灌输值得怀疑的政治理念：

> 我认为那些有这种风气的教育机构是很不负责任的。在一个人心智尚未完全成熟之前，不能给他的头脑套上一些锁链，这是很重要的。

### 好奇心倾向

点出了教育机构常被忽略的一个功能：

> 最好的现代教育机构（这样的机构在许多地方都为数甚少）能够增强人们的好奇心，而好奇心则能帮助人们防止或者减少其他心理倾向造成的糟糕后果。好奇心还能让人们在正式教育结束很久之后依然拥有许多乐趣和智慧。

### 回馈倾向

回馈指以德报德或以牙还牙。化解过激的敌意的方法（托马斯 · 墨菲）：

> 如果你觉得骂人是很好的主意，你可以留到明天再骂。

销售人员会利用顾客潜意识中的回馈倾向先为你提供一个小的恩惠（比如为你冲一杯咖啡），然后获得你的更大回馈，比如多付五百美元。如果这五百美元要让你自掏腰包，你可能不会上当，但如果是别人买单，你可能就会轻易上钩了。

> 这种潜在的损失多少会让你对销售员的示好保持警惕。但假如你是采购员，花的钱来自别人——比如说某个有钱的雇主，那么你就不太会因为要额外付钱而反感销售员的小恩小惠，因为多付出的成本是别人的。在这样的情况下，销售员通常能够将他的优势最大化，尤其是当采购方是政府时。

西奥迪尼在校园中做了一个实验，先让大学生无条件每周花大量时间去照顾少年犯，结果没有人愿意干这事，然后实验员紧接着问你是否愿意每周花一个下午带少年犯去参观动物园，接受率则大大提高（这有点类似锚点效应）：

> 西奥迪尼的实验员所做的是作出小小的让步，于是对方也作出了小小的让步。

宗教中的回馈心理（古罗马人认为杀人献祭可以得到上帝的帮助从而打赢战争）：

> 人们基于回馈心理，认为只要行为端正，就能从上帝那里得到帮助，这种观念有可能一直以来都是非常具有建设性的。

人类对取悦而不是被取悦更感兴趣：

> 人类生活中最美好的部分也许就是情感关系，情感关系中的双方更感兴趣的是如何取悦对方，而非如何被取悦——在回馈倾向的作用之下，这样的情况并不算罕见。

### 受简单联想影响的倾向

如何避免因为过去的成功而做蠢事（比如在赌场赢了钱而继续赌下去）：

> （1）谨慎地审视以往的每次成功，找出这些成功里面的偶然因素，以免受这些因素误导，从而夸大了计划中的新行动取得成功的概率；（2）看看新的行动将会遇到哪些在以往的成功经验中没有出现的危险因素。

憎恨和讨厌引发的简单联想错误：

> 我常常看到人们贬低他们讨厌的竞争对手的能力和品德。这是一种危险的做法，通常不易察觉，因为它是发生在潜意识层面的。

波斯信使综合征：

> 古代波斯人真的会把信使杀掉，而这些信使惟一的过错是把真实的坏消息（比如说战败）带回家。对于信使来说，逃跑并躲起来，真的要比依照上级的心愿完成使命安全得多。

哥伦比亚广播公司的前董事长佩利就有波斯信使综合征：

> 【……】特别讨厌那些告诉他坏消息的人。结果是，佩利生活在谎言的壳子之中，一次又一次地作出了错误的交易，甚至用大量哥伦比亚广播公司的股票去收购一家后来很快被清盘的公司。

伯克希尔如何对待坏消息：

> 伯克希尔有一条普遍的规矩：“有坏消息要立刻向我们汇报。只有好消息是我们可以等待的。”还有就是要保持明智和消息灵通，那就是让人们知道你有可能从别处听说坏消息，这样他们就不敢不把坏消息告诉你了。

### 简单的、避免痛苦的心理否认

再次引用这句话来推行对抗心理否认的方法：

> 未必要有希望才能够坚持。

### 自视过高的倾向

禀赋效应：

> 人们一旦拥有某件物品之后，对该物品的价值评估就会比他们尚未拥有该物品之前对其的价值评估要高。这种过度高估自己的私人物品的现象在心理学里面有个名称：“禀赋效应”。人们作出决定之后，就会觉得自己的决定很好，甚至比没作出这种决定之前所认为的还要好。

大义灭亲者对文明社会的贡献：

> 我们这个文明社会中最有用的成员就是那些发现他们管理的机构内部出问题时愿意“清理门户”的负责人。

面试者往往更看重自己在面试过程中的判断，而轻视求职者过去的业绩（芒格任某学术招聘委员会主席时都不走常规招聘程序，称只需要看书面材料就够了，无需面试）：

> 自视过高往往会导致糟糕的雇佣决定，因为大部分雇主高估了他们根据面试印象所得结论的价值。防止这种蠢事的正确对策是看轻面试的印象，看重求职者以往的业绩。

人会为自己的糟糕表现找借口：

> 我听过一个教育孩子的故事特别有效，那个孩子过了50年还对学到的教训念念不忘。那孩子后来变成了南加州大学音乐学院的院长。他小时候曾经从他父亲的老板的仓库里偷糖果吃，被他父亲发现之后辩解说，他打算过会就放回去。他父亲说：“儿子，你还不如想要什么就拿什么，然后在每次这么做的时候，都把自己称为小偷。”

强迫自己客观：

> 避免因为自视过高而做傻事的最佳方法是，当你评价你自己、你的亲人朋友、你的财产和你过去未来的行动的价值时，强迫自己要更加客观。这是很难做到的，你也无法做到完全客观，但比起什么都不做，放任天生的心理倾向不受约束地发展，却又好得多。

### 被剥夺超级反应倾向

这个倾向我在几个月前[谈爆栈网的投票机制](/en/2018/05/right-easier-than-wrong/)时提过，大意是被剥夺比得到更让人痛苦，比如有人不加解释地给你的帖子来个负分就会让你感到很恼火，而被点赞则感觉了了。

具有团体意识的组织都会倾向于拒绝与自身知识有矛盾的外来知识。

> 被剥夺超级反应倾向通常能够保护意识形态观点或者宗教观点，因为它能够激发直接针对那些公开质疑者的讨厌/憎恨心理倾向。这种情况会发生，部分原因在于，这些观点现在高枕无忧，并拥有强大的信念维护体系，而质疑者的思想若是得到扩散，将会削弱它们的影响力。

为什么宗教团体要用酷刑惩罚背叛的信徒：

> 当公开批评者是一位从前的信徒，那么敌意会更加强烈，原因有两个：（1）遭到背叛会激发额外的被剥夺超级反应倾向，因为失去了一名同志；（2）担心那些矛盾的观点会特别有说服力，因为它们来自一个先前的同志。前面提到的这些因素有助于我们理解古代人对异教徒的看法。数百年来，正统教会基于这样的理由杀害了许许多多异教徒，而且在杀死他们之前通常还会施以酷刑，或者干脆就将他们活活烧死。

如何对抗团体意识：

> 有一种办法能够化解这种受到刻意维护的团体意识，那就是建设一种极端讲礼貌的文化，哪怕双方的意识形态并不相同，但彼此之间要保持彬彬有礼，就像现在美国最高法院的行为那样。另外一种方法是刻意引进一些对现在的团体意识抱怀疑态度而又能力突出、能言善辩的人。德雷克·伯克（注：德雷克·伯克，1930—，美国律师和教育家，哈佛大学前校长）曾经成功地改变了一种造成糟糕后果的团体思维。他在担任哈佛大学校长期间，否决了不少由哈佛法学院那些意识形态很强的教授所推荐的终身教职人选。

赌徒的被剥夺超级反应倾向：

> 被剥夺超级反应倾向也是导致某些赌徒倾家荡产的重要原因之一。首先，它使得赌徒输钱之后急于扳平，输得越多，这种不服输的心理就越严重。其次，最容易让人上瘾的赌博形式就是设计出许多差点就赢的情况，而这些情况会激发被剥夺超级反应倾向。有些老虎机程序设计者恶毒地利用了这个人性弱点。电子技术允许这些设计者制造出大量无意义的“BAR-BAR-柠檬”结果，这些结果会促使那些以为自己差点赢得大奖的蠢货拼命地继续加注。

### 社会认同倾向

朱迪斯（《教养的迷思》）研究发现，孩子最尊重的是他们的同龄人而不是父母或其他成年人：

> 所以对于父母来说，与其教训子女，毋宁控制他们交往朋友的质量。后者是更明智的做法。哈里斯女士在新发现的理由支持之下，提供了一种如此优秀和有用的见解，像她这样的人，真是没白活。

社会认同倾向的最佳影响时机（比如销售人员在封闭环境下给一群人压力、或邪教如何让人入教）：

> 在既困惑又有压力的时候，最容易受社会认同倾向影响。

社会认同倾向还会让我们目击暴行时集体袖手旁观。

### 压力影响倾向

芒格再次怒赞巴甫洛夫，尤其是高度评价他在著名的条件反射发现之后继续对狗做各种残忍的实验。他认为做这些实验带来的好处（对心理机制的了解）远胜于保护狗狗的爱心：

> 现在，几乎每个人都会抗议拿狗这种人类的朋友来做实验。【……】很明显，巴甫洛夫是当今医学界被遗忘的英雄。

芒格敢这样讲，原因之一是：

> 我对社会禁忌向来很反感。

这一段肯定会引起动物爱心人士的强烈抗议，但跟前面他反对工伤赔偿制度一样，表面上很残忍，实际上只不过是优化的目标跟其他人不一致而已。他要优化的是整体人类的利益，这过程中必然会损失到一部分人或物种的利益。

表扬前面提到的朱迪斯（像达尔文一样的思维方式）：

> 毫无疑问的是，热衷于摧毁自己的观念也是促使她成功的因素之一。

## 不那么沉默的合伙人

这是一篇关于芒格的小品文（合伙人指的就是芒格）。根据芒格的描述，似乎有一类保险业务很让保险公司伤脑筋：

> 伯克希尔的保险业务如此成功，是因为它从来不接跟石棉和环境伤害有关的保单，许多保险公司就因为接了这些保单而破产。

他们引以为豪的保险公司总部很低调（巴菲特风格）：

> 但别费力在国民保险公司的办公室寻找豪华轿车或者古董。它的总部依然位于奥马哈市一座不起眼的写字楼里，职员人数也并不多。

芒格和巴菲特都不认同华尔街的赚钱方式，也反对频繁的证券交易：

> “整个投资管理业并没有给所有股票组合的所有者们增加任何价值，”芒格说，“管道维修业的情况不是这样的，医疗行业的情况也不是这样的。沃伦百分之百赞同我的观点。我们看到聪明人准备进入投资管理业就会摇头。那是对天赋的浪费。”

成功人士的赎罪：

> “凯恩斯通过为他的大学赚钱和为国家服务来赎回他的‘罪’。我的赎罪方式是参加许多和投资无关的社会活动，沃伦的赎罪方式则是用他的投资成功来充当一名伟大的导师。我们热爱为那些早就信任我们、当我们年轻而贫穷时就信任我们的人赚钱。”

## 乐观主义在会计中没有容身之地

这是芒格在安然丑闻事件之后发表在《华盛顿邮报》上的短文，主旨是会计准则需要建立在悲观谨慎的态度上。

> 公众已经注意到那些为非作歹者的错误，并呼吁对他们施以更严厉的刑事处罚。但公认会计准则的错误更为重要，因为改变这些会计准则，以及它们被采用的方式，能够有效地防止未来再出现安然这样的大灾难。【……】从会计准则中得到最大安全的办法是，强制人们在做账的时候采用悲观谨慎的态度。长远来看，悲观谨慎的会计将会给公众带来巨大的利益，而几乎不会对公众造成任何危险；而乐观主义的会计是对公众的一种威胁。【……】安然对其衍生品交易采用乐观的会计，对太多可疑的、尚未收回的收入进行“提前处理”，在账本上把它们记为利润。

谁获益，谁就会为蠢事说好话：

> 那些从蠢事中获益的人往往会对蠢事大加称赞，而消除蠢事会让某些人感到痛苦。

## 贝西克兰兴衰记

这是一篇芒格虚构的寓言，基于一片孤岛（贝西克兰，Basic Land）创造了一个小国家，然后讲它的兴衰史。建国之初严禁投机行为、证券期权或衍生品：

> 除了一种在严格限制财务杠杆作用的法律下产生的通过可靠的交易所而签订的“普通”商品交易合同外，没有任何证券期权或衍生品的交易行为。

由于国家发展得太好，国民无所事事就开始赌博，导致国家衰落。芒格又一次揶揄了[金融衍生品](/cn/2018/01/derivatives/)：

> 这种赌资现在被称为“金融衍生品”。

## “贪无厌”“高财技”“黑心肠”和“脑残”国的悲剧

芒格用讲故事的方式重述次贷危机的整个过程，以凯恩斯的话结束：

> 当一个国家的资本发展成为赌场式操作的副产品时，结果可能会很糟糕。

好了，花了三天终于写完了，这好像是我有史以来最长的一篇日志，不过主要是因为引文比较长。

初读芒格可能会觉得这老头是个自大狂，观点好尖锐。不过作者是不是自大狂跟我们是不是读他的书也没啥关系，我们要看的不是态度，而是事实与真理。我觉得成功人士通常都会在某些方面有些极端，要是没有明显过人之处，他们也不会出类拔萃。芒格对金融衍生品的绝对排斥可能值得推敲，但对心理学（我很犹豫要不要加“学”这个字）的观察和总结还是很有智慧的。他提倡的跨学科思维、逆向思维、自我批评都很值得学习。
---
title: 凉皮还是蒸面条
date: '2018-08-26'
slug: cool-noodle
---

果然人只要一贪便宜、走捷径就没好事。昨天随意翻了一会儿菜谱，瞥见一个[简易凉皮做法](https://www.xiachufang.com/recipe/101837129/)，说是不用洗面。我心想，还可以有这么简单的操作？今天吃完早饭试了一下，出锅之后大呼上当，这哪里是凉皮，分明就是蒸面条嘛。劲道？弹牙？深深觉得阿婆主是个骗子。要让面条劲道的话，在面条机里重复折叠多压几遍即可，而按这个方子蒸出来的面条我不相信有劲道的可能性。

如果就这么做凉皮还能好吃，那我只能说好吃的肯定不是凉皮本身，而是酱料。我在搅面糊的时候就想，面粉里加点澄粉应该会更好吧，因为澄粉就是去筋的面粉，其效果就是晶莹 Q 弹。蒸完这失败的凉皮之后又翻了一遍菜谱，发现还真又有一个懒人版的凉皮就是[用澄粉做的](https://www.xiachufang.com/recipe/102302337/)。鉴于澄粉比面粉贵太多，抠门如我就不用它做这个实验了，还是留着以后做冰皮月饼吧。
---
title: 关塞黑
date: '2018-08-26'
slug: dark-pass
---

随意翻唐诗三百首，翻到杜甫的《梦李白》，注意到其中的一句“魂返关塞黑^[据说《梦李白》有[两个版本](http://www.diyifanwen.com/sicijianshang/shicimingju/12823535.html)，我更相信我这里抄的版本，也就是前面链接中的第二个版本，证据来自于韵脚，但讲普通话的人可能会说，“黑”字怎么能会跟测、色、得押韵呢？恰好我老家方言和四川话很相近，我们的“黑”字发音是 hé（河）而不是 hēi；李杜都可算是川籍人士，估计讲话有川味。脑补一下杜甫大人用四川话吟诗的话，感觉好像怪怪的。]”：

> 死别已吞声，生别常恻恻。江南瘴疠地，逐客无消息。  
故人入我梦，明我长相忆。君今在罗网，何以有羽翼。  
恐非平生魂，路远不可测。魂来枫林青，魂返关塞黑。  
落月满屋梁，犹疑照颜色。水深波浪阔，无使蛟龙得。

这让我想起谢翱的《登西台恸哭记》，里面留给我印象最深的就是那招魂之歌：

> 魂朝往兮何极？莫归来兮关塞黑。化为朱鸟兮有咮焉食？

就在我放狗搜这“关塞黑”是何典故之时，发现在[太云最喜欢的稼轩词](https://cosx.org/2015/03/song-poem-1/)中也有：

> 绿树听鹈鴂，更那堪、鹧鸪声住，杜鹃声切。啼到春归无寻处，苦恨芳菲都歇。算未抵、人间离别。马上琵琶关塞黑。更长门翠辇辞金阙。看燕燕，送归妾。  
将军百战身名裂。向河梁、回头万里，故人长绝。易水萧萧西风冷，满座衣冠似雪。正壮士、悲歌未彻。啼鸟还知如许恨，料不啼清泪长啼血。谁共我，醉明月？

既然样本量至少为三，那么这算是古诗词中的一个经典场景了？
---
title: 关联能力
date: '2018-08-28'
slug: association
---

上周看了[一篇文章](https://mp.weixin.qq.com/s/Zi4rLG1TbjEVTXFGmi86yQ)提到了一种我个人很看重、但似乎不太常被人提起的能力，就是关联能力。说白了就是当一件事进入一个人的脑海时，他能关联到另一件甚至好几件事。我自己擅长的事情不多，但在关联能力上似乎在人均值之上。当然，心理学研究早已经说明，每个人评价自己的能力时总倾向于高估（比如大多数司机都认为自己开车水平比所有司机的平均水平高）。高估与否先放一边，下面展开说说洒家的关联能力。

第一种关联能力是话题的关联：我写日志时经常会想起我以前写过的话题，或者别人的相关话题，所以我的文字中往往有很多链接。这可能是一种普通关联能力，写多了自然就会具备（因为写下来的东西更不容易忘）。第二种关联能力是软件的应用，尤其是站在巨人肩膀上移植厉害的软件；每当我看见很惊艳的软件时，我都会想一下，是否可以把它弄到 R 里面来；我这样想不是只为了 R 这门特定的语言，而是为了更方便地使用那个软件，因为有很多惊艳的软件往往会缺少临门一脚，它们功能牛上天，易用性就只差一步了，我非常乐意去把它一脚踢进球门（比如 [remark.js](https://github.com/yihui/xaringan)、[Gitbook](https://github.com/rstudio/bookdown)、[Hugo](https://github.com/rstudio/blogdown)）。第三种关联能力是 GIF 动图，我似乎可以在任意一幅搞笑动图中发掘出它跟某项软件技术的相关之处，从而我在讲报告时，动图总能派上用场；不仅如此，就算是同一幅图，我也可以把它用在若干个不同的话题中。好了，既然已经放出了大话，下面我可以接受各位客官的挑战了：请找一幅 GIF 图，让我无法把它和软件技术关联起来。找到有奖，领奖方式跟[十年前一样](/cn/2008/09/whats-special-in-this-data/)。
---
title: 在信息过载时代里注意力才是瓶颈
date: '2018-08-28'
slug: attention
---

今年一月初，李晓煦老师给我发来《三生有幸——幸福心理学的三种时间尺度》的书稿让我翻翻。当时我说争取二月读完，结果不出所料，每次估算一件事耗时时，如果翻五六倍的话才会是真实的时间。这不，还是趁着最近感冒，才把这书稿读完了。

我对心理学的东西很感兴趣，尽管我是个纯外行。这本书的学术味道略重，但这也是它最大的优势。谈心理学时很容易陷入主观论断，而从学术的角度则会相对客观一些。学术的问题是读起来会更费力一些，当然这取决于你是否要把它读透。我没那么多时间去细细钻研里面的引用文献，所以只是读了个大概。我个人最感兴趣的是第七章（网络与幸福）和第八章（手机与幸福），这是两个我非常关注的话题。

这里面提到了一本书叫《浅薄——互联网如何毒化了我们的大脑》，我没看过，但根据李老师的部分转述，我估计我会比较同意这本书的意见，也就是互联网让我们整体变浅薄。不过要注意的是，这里的浅薄对我来说是中性词，不是贬义，只是一种描述。浅薄不一定就是坏事，它只是互联网带来的两种结果之一：一面是浅薄，另一面是广大。我们对特定主题的研究和了解变得肤浅，但我们接触的主题数量相比起纸媒时代大了好几个数量级。总体而言这是好事还是坏事呢？我认为是坏事。我已经[几次三番](/cn/2018/01/derivatives/)说过，人脑容量的进化速度远远赶不上信息爆炸的速度，所以只要我们试图追赶信息，我们就不可避免会陷入这个肤浅的境地。用书中科学的语言描述就是“人类的短时记忆带宽很窄”，在每个特定时点上，你基本不可能同时关注四件事。这也是书中讲为什么多媒体教学不一定是什么好事的原因，尤其是充满了互动的多媒体界面，学生老要分心去注意这里可以戳、那里可以点；哪里不会点哪里的结果是点着点着就忘了一件事情：哎，我刚才是要学什么来着。书中也提到了维基百科页面的例子，我相信多数人都这样（[包括我](https://bookdown.org/yihui/rmarkdown/acknowledgments.html)），从一个维基页面点到另一个，看着看着就忘了最初是要看什么了。

所以这个时代里，知识和信息并不是个人成长的瓶颈；书永远看不完，论文多如牛毛，新闻铺天盖地。真正制约我们的是注意力；如果我们没有聚焦的能力，我们只能沦为浅薄的大多数。我相信把一本好书读五遍的效果胜过读五本不同的书，可是要是看着一本一本的新书摆在面前，再回头看一眼自己已经看完的书（哪怕是非常好的书），我想多数人都会选择翻开新书，包括我自己也有这个倾向。回想我们受教育的经历，尤其是我们人生整体素质的巅峰时代，即上知天文下知地理的高三，是不是感觉幸亏只有几本翻了几百遍的教科书可以看？换作现在，有哪个物理定理在维基百科上找不到详细解释和证明，但我们别说成为像样的物理学家了，就连重新学回到高中的物理水平的可能性都几乎不存在了。这是为什么？绝对不是因为缺乏信息，只不过是再也没有了高中时代的注意力罢了，尽管那时候的注意力有一定的强制性。

每个新时代来临时，总会有人回头看，留恋旧时代的生活方式。这样的人在后人看来很迂腐可笑，我大概就是这样的迂腐人群中的一员：忧心信息过载的危害，抵制手机割裂我们的时间。书中有一节《从游吟世代到书写世代》里提到柏拉图和苏格拉底：

> 柏拉图在《斐德罗》中记载了苏格拉底的立场：“一句话作为文字写羊皮上，与它停留在你嘴边时是不对等的。”思想变成文字就蜕了一层颜色，意味着某种衰退与堕落。“人类过度依赖文字，原先铭刻在脑海中的东西只是简单地用书写的方式记录了下来，这会给我们的记忆力带来很大的伤害。反而败坏了我们的记忆力。”我们现在可能会认为苏格拉底的这些观念落后而保守。

这段话可以跟前面《[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)》对照来看。文字被用作记录思想时，苏格拉底忧心我们脑中深刻的思想会变得肤浅、记忆力会受到伤害。从印刷品时代到互联网时代，和从游吟时代到书写时代有很大的相似之处。今天的我，肯定不能认同苏格拉底的观点（文字显然保存了几千年来深刻的思想，对记忆力的伤害可能存在，但应该不会太严重）。那我到底是不是在对着互联网时代杞人忧天？
---
title: 吊诡
date: '2018-08-28'
slug: strange
---

最近在几处看见吊诡这个词，不禁心生疑惑，这是啥时候流行起来的一个词？感觉好吊诡哦。我的第一猜测是，这是不是一个[知乎词汇](/cn/2017/02/zhihu/)？然而我放狗随便一搜，发现好像并不是：早在 2006 年，就有人民日报文章[提了同样的问题](http://culture.people.com.cn/GB/40564/4414565.html)。

真呀么奇怪也乎哉。
---
title: 科研新手之路线选择
date: '2018-08-29'
slug: early-career
---

去年有人想请我去 ISCB 在袋鼠国的[一个会议](https://iscbasc2018.com/early-career-researchers-day/)，给处在职业早期的科研工作者分享一下如何选择科研之路。我嫌路远就没答应，不过我说也许我可以写一篇日志。转眼快一年过去了，我估计这样一篇日志也没戏了，但我还是简略说一下当时我的即时想法，尽管我并不是搞科研的人。关于如何做出有影响力的工作，我的想法有二：

1. 不用看远方，就看你自身能感受到的非常痛苦的问题。如果你能解决自己的一个非常痛而且频繁出现的痛点，那么有相当大的概率你也会造福别人，从而产生重大影响。

1. 解决的问题越基础越好，比如大家常用工作流程中必经的一步，这一步也许已经有现成解决方案了，但每个月总有那么三十来天让你对这个解决方案感到不满。越基础的问题，[影响的人群就越广](https://twitter.com/haroldpollack/status/1033361721824608256)。

邀请我的人想让我讲的是 knitr 的开发经验，以上就是核心经验（某种程度上也都是废话）。当年我写 knitr 包只是为了更方便地写我的作业，碰巧做数据分析的人都要写报告，而 knitr 可以写作业，也可以用来写数据分析报告。在 knitr 之前有 Sweave，我用了好几年，刚开始觉得很兴奋，用着用着就到了四处碰壁的状态，觉得一个绝妙的想法不幸得到了一个蹩脚的实现。因为 Sweave 是国企下属单位，等它进化到我理想中的样子不知道要等到什么时候，所以还不如自立民企、推倒重写算了。

在每个学科中，又痛又基础的问题好找吗？肯定不好找，但从软件实现的角度可能相对容易一些，因为软件实现通常是最后一步，在这里摘果子的猴子数量相对少一点。而理论、方法层面的东西，若还有剩下的果子可摘，那应该一定是极难摘取的。

这样的经验分享有用吗？也许有那么一丁点吧，我估计用处不大。为啥呢？一是因为无论成功者怎样分享成功的经验，成功者总是少数（这是定义），多数人都只能接受平庸的现实；二是成功的运气因素真的也是太重要了，而运气好的人也是少数。
---
title: 手撕包菜
date: '2018-08-30'
slug: cabbage
---

以前我炒包菜时总是把粗的叶脉扔掉，因为我以为那些像茎一样的部分太老不能吃。今年有一天我懒得一根根切了，干脆也把它们一起扔锅里炒了，结果发现并没有我想象的那么老，完全可以吃，这为我炒包菜节省了几分钟处理时间。这就跟我[去年发现](/cn/2017/01/rotini/)意大利面只要水开了关火焖十来分钟就好了一样，也是一个意外的发现。

这事又让我想起来前年四月一日我在芝加哥和小楠及彪哥下馆子时，我提到我不喜欢做那些择起来费事的菜，比如西兰花：过去我炒西兰花都要仔细着撕掉茎上的皮。他们二位听了大吃一惊：啊？西兰花你还去皮？后来我便随便切吧切吧炒了，发现带皮也一样容易炒熟。我就是这样一步步沦落到食厌精、脍厌细的田地的。

又及：下厨房上的[手撕包菜菜谱](https://www.xiachufang.com/recipe/102806792/)在我看来也太讲究了。猪油是香一些，可是用五花肉熬猪油多费劲呐！身为[懒厨](/cn/2018/06/lazy-cook/)，我就简单粗暴地直接买猪油了。这也是我去年才发现的，沃尔玛居然有猪油卖（英文叫 lard）。
---
title: 日式认真
date: '2018-08-31'
slug: serious-japanese
---

上个月我的 R Markdown 书到手时，我[开玩笑说](https://twitter.com/xieyihui/status/1020408050421780480)今年的一年一书任务已经完成，这才七月份，接下来我要睡半年了。下面群众纷纷祝贺，而认真的高桥君在祝贺之余还说[祝你睡个好觉](https://twitter.com/kohske/status/1020410232239927296)。还能更可爱一些吗？
---
title: 香蕉饼易糊
date: '2018-09-04'
slug: banana-cake
---

本[烙饼界的小学生](/cn/2018/06/flip-a-cake/)总是忘记，香蕉饼容易糊，所以要用中小火。今儿个因为烙饼的同时在另一边并行炒菜，所以又忘了这边烙饼的锅火太大。如今这脑子，连两个并行进程都快带不动了，噫。

每天琢磨给小朋友做什么吃，已然深感黔驴技穷。甜的东西自然会爱吃（比如这里的香蕉饼），但也不能吃太多甜。逼得本老子隔三差五得看看下厨房的网站找找方子，不过这也不算坏事，因为我可以顺便看看其它自个儿吃的菜谱（这才是真正的动力）。土豆饭、油菜饭、冬瓜饭、排骨饭、烤披萨、烤月饼、烤蛋糕、红糖发糕、冰糖发糕、大米发糕、红枣发糕、葡萄发糕、玉米发糕、韭菜饼、香菜饼、香蕉饼、南瓜饼、丝瓜饼、鸡蛋饼、土豆饼、手撕饼、炸油条、炸麻花、炸麻团、炸鸡丁、蒸馒头、蒸花卷、蒸肉龙……再练练差不多可以表演《报菜名》节目了。
---
title: 火影之五月雨
date: '2018-09-04'
slug: early-summer-rain
---

去年[提到火影的神配乐](/cn/2017/02/nakasendo/)，我作为一个乐盲其实也没啥好评论的；我连曲子里用的是什么乐器都搞不清楚，不过火影的配乐厉害之处在于与剧情的结合，也就是传说中的一听配乐就能想起剧情。火影剧太长，而且偏啰嗦，我的记性没那么好，除了[哀与愁](/cn/2017/01/blog/)（三代目的葬礼）、[呜呼师弟爱](/cn/2018/01/master-apprentice/)、红莲，其它的没什么深刻的配乐与剧情一一对应的印象。

最近奥马哈接连十来天都是下雨天，有些反常。雨在剧中通常是表现悲伤的道具。至于为什么是这样，我也没有很好的理论解释，大概是因为雨和泪相似吧，就像孟庭苇在《[走在雨中](http://music.163.com/#/m/song?id=25927474)》中所唱：分不清这是雨还是泪。鼬听说弟弟佐助死了的时候，鬼鲛说：是我看错了吗，你怎么好像哭了。那正是下雨之时。

火影配乐中我最喜欢的是《哀与愁》，剩下的前三是《五月雨》《呜呼师弟爱》和《红莲》。我不知道五月雨是为谁或为哪个场景定制的、以及为什么叫五月雨，但只要提到雨，首先让人想起的肯定是雨隐村，这是个永远下雨的小国。就反派而言，可以说整部火影就是雨隐的长门主导了上半部（当然开头是由蛇叔主导），木叶的药师兜的秽土转生以及面具男宇智波带土主导了下半部。长门在这个下雨的国度继承了死去的同伴弥彦的理想：通过成为神来维系和平。神的名字叫佩恩，也就是痛苦（pain），具体组织是长门遥控的六具尸体。

有人说火影中没有坏人，只有一群追求和平的疯子，这话倒也有道理。大家只是追求和平的手段不同罢了。相比起鸣人的嘴遁，我觉得佩恩的手段更切实际，疗效也会更久，只是稍微极端了一点点。他的理念是让人们感受痛苦，只有品尝了剧烈的痛苦，才能珍惜和平，不然仇恨的链条永远无法斩断。嘴遁忍者其实到最后靠的还是实力，若不把对方彻底打趴下，对方永远没完。爱心和武力二者都不能缺。说到底，为什么会不断有战争呢，就是有人欠打（为私利而主动发起战争的人欠打）。

火影中实现和平的手段除了鸣人的嘴遁、长门的佩恩，就是带土的无限月读。无限月读就更不靠谱了，它是要将所有人都锁进一个虚幻的世界，各自能在各自的想象中过自己理想的生活。我[以前戏称](/cn/2017/08/igen/)现在的无线网络就是一种无限月读：所有被 WiFi 信号照到的人，都可以在这个虚拟世界里找到幸福。嘴遁是要让人轻易理解痛苦，无限月读是要彻底逃避痛苦，所以它们都是不靠谱的。和平与幸福都得根植于痛苦的土壤中。

雨隐村的问题是绝对专制。专制的优点是效率最高，缺点也显而易见，就是和平是被刻意造出来的，人的思想被压制。神不必非得受人朝拜，只需要维护好秩序就够了，时不时把欠打的人类打一顿，不用伤及无辜。当然，这也只是简化版的世界。到底是谁欠打这个问题，在现实生活中未必有明确的答案。

直到长门集团最后的成员小南被带土杀死，雨隐村的雨才第一次停下。小南那张血红的纸片飞回小屋的名牌上，与弥彦、长门及他们的老师自来也的名牌团聚，也算是日月星灭后大家同在天地人间了。
---
title: 怵厨
date: '2018-09-05'
slug: coward-cook
---

书接《[懒厨](/cn/2018/06/lazy-cook/)》。虽然洒家造饭通常胆子比较大，啥都敢做，但有一样东西我多年来一直犯怵，那就是需要包馅的东西，比如饺子和包子，这是我怎么也包不好的。可能是我最初试了几回没包好，要么奇丑要么散了，总有找胶水或订书机的冲动，于是就放弃了治疗，毕竟我的座右铭是：世上无难事，只要肯放弃。

上周末是一个小长假，去超市寻得几斤核桃腰果瓜子仁蔓越莓葡萄干，回家撸起袖子踌躇满志[又来](/cn/2009/10/website-exam-mooncake-rib-etc/)做月饼。没错，就是传说中的五仁月饼。去年做的月饼放了好几天都没有回油，仍然是一块块硬邦邦的烤面团。后来琢磨一下，估计一是因为面团里油和糖浆都放少了，二是馅料无油（豆沙、莲蓉之类的）。这次抱着慷慨赴死（甜死）的决心多放了一些油和糖浆，馅料里也放了糖和油。称重时总在计算倍数（菜谱上量太小不符合我的懒厨风格），算来算去都快算糊涂了，最后心一横不算了，用我们龙的传人的祖传计量方式——目测。结果最后馅太多，于是我又一次碰到了我最怕的问题——饼皮包馅，而且是小皮包大馅。面对这三十二个硕大的五仁球，我硬着头皮试包了一个。嘿，油饼皮还真比普通面皮好包一些。把口上的馅不断往里摁，下面的皮会自然被撑大，再把周边的皮往上蹭蹭，然后很顺利就收口把整个馅包进去了。包完四顾，不觉飘飘然。

又及：码农做月饼时，数量必须是二的幂，因为既方便分皮馅，又是完美的整数。像那种写着做十五个月饼的谱子，一定不是干码农的人提供的（向上取整为十六多好）。待我有空，我得写个 JS 应用（Shiny 也行，只是它太重了），能动态按比例缩放菜谱里的原料用量，省得做的时候还得心算或按计算器。
---
title: 长文
date: '2018-09-07'
slug: long-post
---

两周前我写的[《穷查理宝典》读书笔记](/cn/2018/08/poor-charlies-almanack/)是我有史以来最长的一篇中文日志，花了我三整天休假时间。这周我啥正事都没干，只是埋头用四整天时间写了一篇英文日志，一不小心又写成了我有史以来最长的一篇英文日志。写完统计一下字数，八千单词。鉴于话题有一定的敏感性，可能会得罪一些人，所以我先找人给我把把关，[下周再发出来](/en/2018/09/notebook-war/)。

现代人在电脑上写东西相比起古人只能用笔在纸上写东西可谓是方便了十万八千倍。主要是方便在可以随时、任意、以及无限增删改，这意味着我们在写东西之前不用过多考虑细节，顶多是想一下大概的框架；有时候甚至连大概框架都不用想，只需要有个中心思想，一边写一边搭框架、填内容。甚至有时候一开始连中心思想都可以不明确，而是在写的过程中越写越清晰。

两个月前我[刚提到](/cn/2018/07/fluent-essay/)《黑客与画家》中作者说写作本身会带来更多构思，通常有一半的构思都是在写作过程中诞生的。我写长文章的时候，通常在编辑区域的末尾放一些零碎的句子，那些都是我脑子里冒出来的新的话题；因为怕忘了，所以先放个提示在那里。等写完当前话题之后再归置那些随机冒出来的想法。一篇文章就像一个组合柜，其中每一节就像一个抽屉，我的任务就是把各种想法分门别类放进不同的抽屉里。

碰巧前一周了解到《深度工作》这本书（Deep Work），简单翻了翻，感觉与我追求的理念比较相符，尽管我的深度工作能力还比较弱。我基本只有在写日志这一件事上能勉强做到集中精力、略作思考。其它事情则通常很快会分心。《明朝那些事儿》里描写的朱元璋“要么不做，要么做绝”的风格，大概就是深度工作的典型代表吧。浮浅的事情做再多也没有意义，不如做少数几件有深度的工作。这句话的一个推论是：大量的浮浅日志不如几篇极深的日志。这好像是在打我自己的脸。

写长文也是一个体力活儿。把所有的想法都倾倒出去之后感觉脑子都一篇空白，再也不想动脑筋、而且也动不了了。关于今年的长日志，我计划最多再写一篇《原则》的读书笔记。剩下还有几个中篇笔记。除此之外，不想再烧脑。一晃这一年已经过去大半，得开始干点正事了。
---
title: 油条的窍门
date: '2018-09-10'
slug: fried-sticks
---

但屈指油条几时来？

想想我第一次炸油条好像是 2013 或 2014 年的事。我一直有个问题：为何别人图上的油条看着那么蓬松，而我炸的总是一个紧致的面粉集合。也不是没有气泡，只是气泡都非常小。前日第 N 次看一个不同的油条方子，注意到阿婆主在切面时切得粗而短，我寻思着莫非是我平时切得太细了？我做油条通常会把面皮擀得较薄，而且两块面皮叠起来之后还会切得较细，主要是油锅太小，想省事一次多放一些。

于是这次发面之后不用力擀，擀到约两厘米厚就不擀了。两片面皮叠起来、盖起来再发酵一会儿然后再切条。最后拎着感觉稀稀软软的面胚扔油锅，不一会儿就气鼓鼓了。出锅后，吃起来比以前炸的油条都松软得多，感觉自己终于成了炸油条界的小学生。

不过我仍然没能炸出大规模的气泡结构。关于这一点，我首先有点怀疑网上那些自制油条的主子们像挑选 P 值一样挑选了气泡最大的油条拍照，然后怀疑是因为我偷懒没有把面团放冰箱饧一夜（只是放在外面发了两个小时，出了一趟门回来就开始做），导致面筋结构不结实，不足以憋出大气泡来。是否是后一个原因，待我下次放冰箱之后再炸一遍就能揭开谜底了。

又不道流年暗中偷换。
---
title: 客
date: '2018-09-11'
slug: traveller
---

迄今为止我提过两首毛阿敏的歌：一首是《[篱笆墙的影子](/cn/2014/06/on-writing/)》，一首是《[相思](/cn/2017/07/na/)》。今天提第三首。她的歌中我最喜欢的当属《[渴望](http://music.163.com/#/m/song?id=276362)》，但因为这首歌的歌词同歌声一样磅礴又真诚，所以我也说不清我是喜欢歌词还是歌声多一些。

悠悠岁月，亦真亦幻，悲欢离合，漫漫求索。寥寥数语概括一人的复杂一生历程。歌词中有一字引起了我的特别注意，那就是“问询南来北往的客”中的“客”字。若论单字，我认为这是整首词中用得最好的一个字。他不是问询南来北往的“人”，而是“客”。“客”表现出了漂泊之感，与前面的上下求索人生路相呼应。每个人都在困惑的人生路上漂泊，不知渴望是对是错。

这首歌最后笔锋一转，收尾非常利落，并且也是我最喜欢的[大起笔、小落笔风格](/cn/2017/02/mingding/)：

> 恩怨忘却， 留下真情从头说，  
相伴人间万家灯火。  
故事不多， 宛如平常一段歌，  
过去未来共斟酌。

“恩怨忘却”颇有侠客风（其实“客”字也是）。一番波澜壮阔之后，接下来的人生是平常一段歌。如佛陀立于尘世。
---
title: 爱莫能助
subtitle: 论狠心的码农是如何炼成的
date: '2018-09-11'
slug: unable-to-help
---

和往常一样，今日收到一位自称新手的用户邮件求助，写得很诚恳。我盯着它犹豫了一会儿，都已经打开回复框、敲了第一句话了，想想还是删掉关了。回顾一下我这十几年来回答问题的心路历程：

1. 最早是创建统计之都的 [COS 论坛](https://d.cosx.org)时。那时候只要是个问题我都会回答，甚至就算不知道答案也要放狗搜了答案来回答。

1. 后来开始在坛子里小有名气，渐渐有人会点名让我回答；刚开始当然觉得很自豪，但随着问题越来越多，我感觉我一个人根本扛不住。于是开始吼人，叫他们发帖时不要点名，尤其不要在帖子标题里点名，这样让其他人也有回答问题的机会，分流出去一些压力。

1. 再后来无论是否点名，我都已经看不过来那么多问题，于是挑着有点意思的标题随便点进去看看。此时我还算心慈手软，能回答的尽量都给回答一下。但有人眼见发帖找不到我，就开始给我发邮件；还有些人不知道论坛的存在，只是从别的渠道听说我，于是有问题也发邮件。

1. 刚开始我会回复每一封邮件，直到我发现邮件我也没法每一封都照顾到了，于是开始忽略那些跟我没有直接关系的问题，比如泛泛的 R 问题。如果是我维护的包和软件，我还会回复一下。

1. 然后随着我写的包越来越多，我连关于我自己的软件包的问题都看不过来了，于是我开始拒绝当专职[软件奶妈](/cn/2015/10/software-nanny/)：让人先在公共场所提问，过两天得不到答案再来找我。那种上来就伸手要答案的邮件，我会直接忽略（很多时候答案就在文档中，让我感觉我苦心写的文档像白费功夫）。

1. 到现在，我的过滤标准变成了如果我不认识你、并且你的邮件写得不到催人泪下的程度、又不幸赶上我的浏览器标签栏里页面数量超过十，这样的问题邮件我就直接归档忽略。另外纯新手上来问一个大问题这样的邮件我也会忽略，因为我实在没办法帮你一个人从零学起。比如你要问我如何建一个网站，或者我的网站是怎么搭建的，它们的答案我都放在公开的地方了；如果你找不到，那我们可能真的不是一类人，就算硬沟通，最后也会双方都痛苦。如果你已经做过研究，有少数细节问题不明白，我在轻松的时候可以把文档链接发给你（我从不跟用户说 RTFM 这样的话，因为我知道有时候文档太长，用户不知道该往哪儿看）。

1. 对了，还有微信上的问题。现在[我的微信](/cn/2017/05/wechat/)只跟极少数人联系（主要是亲友），所以我在那里回答问题的标准基本只有一个：你是我亲爹吗？

要做到这么狠心，我自己只有一个能说服自己的理由，就是如果我忽略这样的邮件和问题，可以让我有时间和精力创造更有价值的产品。我要优化的目标不是让所有用户都满意，而是让大多数用户满意。如果我要照顾每一个人，就意味着我要牺牲潜在的多数用户的利益。从整体角度来看，这是不划算的。

所以现在有些邮件我看后只能用意念力回复一下：臣妾做不到。唉。
---
title:  火影之器量
date: '2018-09-12'
slug: bosom
---

所有火影忍者中我只服一个人，就是宇智波鼬。虽然我服他，但在宇智波灭族这件事上我觉得毫无逻辑、过于夸张，一定是岸本老贼故意操纵的情节（就像让自来也去送死一样）。我对火影忍者的主要兴趣不在其思想观点而在忍术上，这是小时候看武打片没看过瘾的后遗症。火影里反映出来思想观点在我看来多数时候是幼稚可笑的。忍者们（包括五影首脑）普遍的思想问题就是太狭隘，虽然口口声声说如何珍惜同伴、羁绊，但通常都加了定语：得是同村的同伴。每个忍术家族最常挂在嘴边的话就是我们谁谁一族。

其实这种狭隘的思想就连鼬也有沾染，比如他到死都认为自己是木叶的忍者，要为木叶着想。但鼬与其他忍者不同之处在于起码他能从环环狭隘中至少跳出一环：他摒弃了家族的狭隘。

> 对组织如此执着，对一族如此执着，对名誉如此痴迷，那将会限制自己的潜能，成为阻碍自己器量增长的负面因素，并且对未曾见过的事物产生恐惧与憎恨，真是愚蠢至极！

> 我的能力，已经对这个平庸的家族绝望透顶。只有渺小之人才会对此如此执着，所以才会忽略真正重要的东西。真正的变化是无法被规则所制约，被预感和想象所局限的。

在他的爹妈强调一族的利益时，他痛斥这种一族的想法，最后将一族灭族。他是火影忍者中唯一表现出一点器量的人，算是一位[豪杰](/cn/2018/08/hero/)。剩下的人只是狭隘程度各自不同而已，比如团藏就是狭隘到极端的人，有很强的军国主义色彩；主角鸣人一直追求当火影，佐助一直忙着报私仇，同只顾自己搞科研的大蛇丸并没有多大不同。

除了器量，鼬还是一位哲学家。当鼬和弟弟佐助决斗时，他说了这段话，刹那间我都怀疑我看的还是一部动画片吗：

> 你的写轮眼，还能看多远？每个人都依靠自己的知识和认识，却又被其所束缚，还将这些称之为现实，但知识和认识是非常暧昧的东西，那个现实也许只不过是幻觉。人们都是活在自我意识之中的，你不这样认为吗？

还有这一段，不是活生生的[海德格尔](https://zh.wikipedia.org/wiki/%E9%A9%AC%E4%B8%81%C2%B7%E6%B5%B7%E5%BE%B7%E6%A0%BC%E5%B0%94#%E6%AD%BB%E4%BA%A1)么：

> 那些对自己同伴刀剑相向的人都会死的很惨……我们不知道我们到底是什么样的人，直到我们死前的那一刻，当死亡降临的时候你就会了解真正的你，这就是死亡的意义，你不这么觉得吗？

他能跳出一族的桎梏，更难能可贵的是他能跳出人的自我主观限制，意识到人无法做到无所不能、每个人都有缺陷。下面这段就像上个月《[穷查理宝典](/cn/2018/08/poor-charlies-almanack/)》中引用费曼的“别欺骗自己，因为自己是最好骗的人”一样：

> 盲目地认为一切都在自己的掌控下自己无所不能，正因为如此害怕自己的失败自我欺骗说自己不会失败。最终我用自己编造的谎言来蒙骗自己变得不相信他人的能力，而兜同样蒙骗自己深信他人的能力都可为自身所用。无论如何都无法原谅自己和认同自己的心情。确实他正做著错误的事，但是一味地指责也是错的。无论怎麽说没有哪一个个体能单独完美地存在於世上，正因为如此我们才会以互补的形态诞生，让自己承认真实的自己，只要做到了这一点就无法对任何人撒谎了，包括对你和对我。说谎者无信也无法交到信任自己的伙伴，而且……谎言会让自己迷失真正的自我。

这是我十分欣赏的器量。这段话也有点反映心理学家[荣格的思想](https://www.purposefairy.com/81925/38-life-changing-lessons-to-learn-from-carl-jung/)。

别的圈子不谈，在码农的世界里，我感觉器量是一种相对稀有的品质。更常见的是匹夫见辱，则拔剑而起、挺身而斗；对一族执着（某种语言），对名誉痴迷（粉丝数、点赞数），对异见和批评感到恐惧和憎恨。如鼬所说，这些都会限制自己的潜能。
---
title: 如何让小朋友爱上做家务
date: '2018-09-12'
slug: get-kids-to-do-chores
---

看了一篇文章讲用[玛雅人的方法](https://www.npr.org/sections/goatsandsoda/2018/09/01/641266260/how-to-get-kids-to-do-chores-does-the-maya-method-work)让小朋友爱上做家务活儿。这个方法与多数家长的教育方法都不同，它让小孩从很小的时候就参与家务活。这里的很小是指一到三岁。通常我们在做家务的时候都会呵斥小朋友退下、闪一边去、不要打扰我。玛雅人则不这样，就算小朋友做不好，也让他们尽早参与，无论是在一边旁观还是上手帮忙。

我想了一下，这大约是有道理的。很多时候，小朋友与成人在心理上并无显著不同。比如[成就感](/cn/2018/03/making-progress/)对成人和小朋友都是很有效的动力，我们都会因为成就而产生自豪感。这种心理体验能将本来是枯燥乏味的工作催化为有趣、有意义的工作。成人觉得一件事情枯燥乏味，是因为心理上有了跟其它事情的对比（如空调 WiFi 西瓜）；如果从小就做这些所谓的乏味工作，也许并不会觉得它有什么难做的（温水煮青蛙原理）。

文章提了四条建议，我觉得比较实用的是最后一条，即：给小朋友分派他能真正完成的任务。说实话我并不想让小朋友来洗碗然后把碗打破，因为这样既浪费又危险，但帮忙洗个菜、压个面条还是可以做的，因为这些都是做不坏的事情：就算洗菜没洗干净，我还可以重洗一遍；要是压面条搞砸了，大不了我把面条重新揉吧揉吧再压一遍，分分钟的事而已。回想一下，我们本能上似乎会排斥小朋友在我们做家务的时候来捣乱，比如他以前见我扫地总要坚持拿走我的扫帚自己扫，但我忍不了他把地上的东西戳得到处都是，这样会扼杀他刚萌发的参与热情；等他真正长大了再让他扫地时，他便觉得这是一件爹不想干而推给我的枯燥体力活，凭什么我要干呢。

好了，从明天起，培养一个喂马、劈柴的小朋友，我自己面朝大海春暖花开。
---
title: 标题王
date: '2018-09-12'
slug: title-king
---

在 Github 上批折子的时候有一个折子把我惊呆了。我在这里混迹十载，头一回看见辣么长的标题，而正文为空：

![长长的标题没有正文](https://user-images.githubusercontent.com/163582/45439713-2eada080-b680-11e8-927f-f96e750eaebc.png#border)

你赢了，应该是超越了 Andrew Gelman 的最长日志标题长度。寡人特封你为标题王。
---
title: 独孤求赞
date: '2018-09-14'
slug: pursuit-of-likes
---

当今点赞文化盛行。它刚兴起的时候，我也喜欢被点赞；谁不喜欢被表扬呢？现在我的想法有所变化，我认为我们普遍高估了点赞的意义，因为点赞是低成本的行为，而且一个点赞你无从得知点赞之人到底是有多赞。我估计多数情况下是普通赞、凑合赞，因为若是那种真心被震撼到的赞，那人一定会付出更大的成本去赞，比如花时间仔细着写一段翔实的赞文。倒不是说一定要到[苏轼赞韩愈](https://baike.baidu.com/item/%E6%BD%AE%E5%B7%9E%E9%9F%A9%E6%96%87%E5%85%AC%E5%BA%99%E7%A2%91)或是[苏洵赞张方平](https://baike.baidu.com/item/%E5%BC%A0%E7%9B%8A%E5%B7%9E%E7%94%BB%E5%83%8F%E8%AE%B0)的程度才算真赞，而是说在点赞按钮上戳一下手指跟在文本框里戳一会儿键盘打字还是有很大区别的。

跟往常一样，我要说的还是码农圈。近日有蟒蛇社区的人重造出了 `knitr::spin()` 的轮子[昭告天下](https://towardsdatascience.com/introducing-jupytext-9234fdff6c57)，推特上获赞过千。我心说你们终于有人醒悟了，把源代码和输出都塞在一个大 JSON 文件里难道不是一开始就很显然是一个坏主意吗？为何这么痛的领悟来这么晚呢？撇开这个不谈，我读到昭示的末尾，看见一段独孤求赞的话：

![请大家在 Github 和 Medium 上踊跃点赞](https://user-images.githubusercontent.com/163582/45564019-b6c4af00-b814-11e8-8fcd-2f582959a8ef.png#border)

罢了，毕竟这是作者的第一个有影响的开源项目，明晃晃求赞也可以理解。假以时日，等作者的[器量](/cn/2018/09/bosom/)跟上来之后也许就把这种事情看淡了：赞只是副产品。

以上并不是一个糟糕的例子，真正糟糕的是标题党。我现在最讨厌的就是那些夸张得没边的标题党（事实上是我对这个注意力经济时代烦透了），比如我刚在《[第一次笔记本大战](/en/2018/09/notebook-war/)》一文中提到的那篇题为“[Present Your Data Science Results in a Jupyter Notebook, the Right Way](https://blog.sicara.com/present-data-science-results-jupyter-notebook-import-into-another-108433bc8505)”的日志，让洒家看了真是想翻身上马去砍了他。为何要用这样一个广阔无边的标题、而日志内容却几乎是垃圾？吸引了眼球却坑了读者，这让人很是不能容忍。就这样一篇烂文章，竟然还有三百多个鼓掌，到底是真瞎、还是莫名其妙的社区自豪感啊。

也许是群体大了之后就容易出现这种现象，就像中国人口多了就更容易让人看见阴暗面一样。相比之下，我等小 R 社区就温和、平静、内敛得多。当然也不是没有独孤求赞之人，但就我这些年的观察，独孤求赞之人我还真就只看见了一个，真真是独孤求赞。

也许有些人因为种种原因就是很难建立起心理安全感吧。
---
title: Linus 破天荒头一遭道歉
date: '2018-09-17'
slug: linus-apology
---

昨天发生了一件震惊码农圈的事情：那位以说脏话和骂人闻名、并且持续骂了几十年的 Linus Torvalds 居然在 Linux 内核邮件列表中[公开道歉](https://lkml.org/lkml/2018/9/16/167)了！这稀罕程度，用太阳从西边出来这样的话都不足以形容了，感觉就像十个太阳从四面八方出来了。

Linus 作为 Linux 内核维护者经常直截了当骂别人是脑残、笨蛋、白痴，代码贡献者都得小心翼翼提交补丁，不然很容易被骂得狗血淋头。他这种糟糕的回复肯定赶走了不少贡献者，但也没有谁能真正阻止他。这次不知道是受了什么刺激，突然顿悟，并声称要改过自新。

关于此事我有两点想法：

1. 不知为何有些码农会变成这种性格，也许有先天因素，也许跟码农这个职业有关。对码农来说，写代码最大的动力便是满足控制欲。随着码力越来越强，码农可能会觉得自己的控制力也越来越强，于是对看不顺眼的人便会横加指责。这属于分不清代码和现实的边界。其实反驳别人何必要用激烈的侮辱性言辞呢，这样说话恰恰是最低效率的表达方式，因为听者要从你的脏话中扒出真正的信息来，这是很费劲的工作。遇到神经不那么大条的听者，也许根本扒都不想扒，扭头就走了。

1. 码农（以及任何职业）都有技能层次之分。让低技能的人和高技能的人直接对话，[对双方都是折磨](/cn/2018/09/unable-to-help/)。我并没有贬低任何人的意思，只是陈述一个无奈的事实（政治正确的人可能难以接受这样的话）。最舒服的对话组合通常是发生在层次相近的人之间。对 Linus 而言，代码评审最好是分几道坎，让那底层的奏章从县令起一级级传达到天子（这样有些明显不合适的折子可能在半路就被否决了），而不是一步上奏天子批阅。天子吼百姓，吼久了不仅自己累，而且搞得民怨沸腾，非常不划算。但如果设置这样的层级审阅制度，恐怕又容易滋生官僚，影响效率。
---
title: 优秀到无法被忽视
date: '2018-09-23'
slug: so-good-they-cannot-ignore-you
---

看了一篇《优秀到无法被忽视》的[总结](https://commoncog.com/blog/so-good-they-cant-ignore-you/)，有几个观点有所共鸣：

1. 激情是一种稀缺的特质，尤其是职业激情。在《穷查理宝典》[读书笔记](/cn/2018/08/poor-charlies-almanack/)中谈芒格的第六个人生道理时，我曾说多数人都缺乏对某件事的强烈兴趣。在[对秦旭的采访](https://d.cosx.org/d/419325/7)中，我也曾说有稳定热情的人相对少见。激情已经够少见，职业激情就更少见了。只有职业激情才是产出导向的。其它的热情很可能会引导你走向堕落，比如热爱玩电子游戏几乎不能算作激情，除非你是职业玩家。所以你追求今晚通几关没多大意义，要么当休闲随便玩玩、不要成瘾到干涉自己的正常生活，要么就玩上世界排行榜。

1. 与其追随激情，不如追求工匠思维。说到底，只有到了专家的水平，别人才无法忽视你。工匠水平需要刻意练习，所谓刻意练习，就是难度让你略感不适的练习。所谓的一万小时练习理论，并不是说简单的重复一万小时。工匠拥有的通常是稀缺而有用的能力，你最好跟人差异化竞争。

1. 什么样的工作是好工作？给你足够自主权的工作。这一点权力，本码农已经妥妥拿到手。我的工作几乎是绝对自治。当然，这个权力要建立在能力的基础上，而能力要通过战绩来体现，要让雇主放心给你自主权之后能有漂亮的产出。

我之所以看这篇总结是因为最近刚看完作者的另一本书《深度工作》，过段时间我再来总结这本书。先说点题外话：我感觉现今美帝的畅销书好像都有很固定的写作套路，一个套路是爱引用心理学和神经科学的文献（让人感觉严谨），另一个是爱描写名人作范例（让人感觉真实可触）。这两个套路必然都有其缺陷。比如一方面[心理学是可重复性研究的重灾区](https://cosx.org/2017/09/psychology-in-crisis/)、神经科学所依赖的[核磁共振成像软件有重大缺陷](https://www.sciencealert.com/a-bug-in-fmri-software-could-invalidate-decades-of-brain-research-scientists-discover)，而另一方面，那些让你感觉好像从名人那里学到了绝招、明天起床就可以骑着小毛驴征服世界的案例未必对你适用，因为你跟那些人的自变量差异太大。找一剂真正适用你自己问题的解药并非易事。那些想成功、想挣钱的人们，都该警惕一点：这世上就属你们的钱最好挣、别人踩着你们也最容易获得成功。
---
title: 再清零
date: '2018-09-24'
slug: inbox-zero
---

距离上次[收件箱清零](/cn/2015/10/tidy/)一晃已经过去三年，上周花了一周时间再次把这几年积攒的三十封邮件清零。我把这事记下来有两个目的，一是用事实校正自己常年不合理的预期，也就是我以为我能做的事情很多最终都做不到，就算拖上三五年、七八年也做不到；二是调整诸位客官的心理预期，如果不满足一定的条件（参见前面的《[爱莫能助](/cn/2018/09/unable-to-help/)》一文），我八成不会回邮件；这事您是能理解呢，还是能理解呢，还是能理解呢，我绝不强求。

我收件箱中最早未回复的邮件来自七年前。它是一位读者关于我那本夭折的《[现代统计图形](https://www.dropbox.com/s/5akk893oxmapcp0/MSG-Yihui.pdf?dl=0)》的反馈意见。如今我不想再捣鼓这本书，并不是因为它的质量不够好。相反，我觉得这书稿里面还是有不少市面书籍里不常见的闪光点的，但这书要是出版出来可能会对读者有强烈的毒副作用，因为它是基于 R 的基础作图系统的。讲真，这系统只适合灰头土脸的码农去捣鼓，完全不适合所谓的数据科学家去用，因为芝麻蒜皮儿的繁琐细节太多。我不想分裂 R 社区，所以还不如就让主流的哥哥作图系统一桶浆糊算了。这书稿当年之所以掉了链子有两个原因，一是赶上了我的博士资格考试，一旦离开两三个月就很难再回头；二是 LyX 崩溃过一次，导致有若干地方出现了乱码，我失去了去把它们理顺的耐心（所以如今用 R Markdown 纯文本文件写作是一个很大的优势）。这书稿最大的遗憾是没能圆了卢鸫翔编辑的版式梦，他费劲找人设计的拟 Tufte 版式也是我自己的一个最初的梦想。卢编辑是我生平第一次接触到的出版社编辑，可惜最终只是帮我调试了一下牛刀，但某种程度上，也正是因为这本书的技术受挫，我才有了后来一路做 knitr、R Markdown 和排版的十年动力。

![现代统计图形熬成了古代统计图形](https://user-images.githubusercontent.com/163582/45963488-e760d180-bfe8-11e8-875e-109f7b931506.png#border)

下面是一封三年半前邀请我写中文书的邮件，我把它留在收件箱中是因为我确实很想写一本有意思的中文书。等我痛下决心决定放弃这个想法、并回复邮件时，发现该编辑似乎已经离职了。看我是多能拖。

![三年半前邀请我写中文书的邮件](https://user-images.githubusercontent.com/163582/45963495-e760d180-bfe8-11e8-8a0d-09a2516b5010.png#border)

这里是一个用 bookdown 写中文文档的学生帮我总结的一些中文用户的问题。两年多过去我觉得我是没希望回答或解决这些问题了，而且这些问题里面有一部分是用不着我亲自出马的；如果发在论坛上的话，可能过不了多久就有别人回答了。放在我的收件箱中实在是严重窝工，于是我请她先试试论坛。那我为什么留了这么久呢？因为我也想改进 bookdown 对中文的支持啊，促进中文作者的写作（英文圈里已经没问题了，现在[已成燎原之势](https://twitter.com/ladbroke/status/1042744619560263680)），这又是一个难以割舍的梦想。与其在我这里窝工，还不如让更有动力且有时间的其它中文用户去捣鼓，比如大鹏、湘云等人。

![中文 bookdown 的问题邮件](https://user-images.githubusercontent.com/163582/45963494-e760d180-bfe8-11e8-8551-7d7f20062a4f.png#border)

幸运的情况下，我可能会在一年内回复问题邮件。以下是我不太能忽略的邮件，它来自一个重要的人，没有他可能就没有我的今天。他最初是在微信上问我的，而我请他给我发邮件，以免我关了微信就忘了。他问问题的时机不太巧，那是我刚开始准备写那本 R Markdown 书的时间。半年后，这本书出版了，其中有一小节也顺便回答了他的问题，所以我终于可以回邮件了。

![吴老师的 R Markdown 问题邮件](https://user-images.githubusercontent.com/163582/45963490-e760d180-bfe8-11e8-80e0-6b5872182475.png#border)

极少数情况下，我延迟回邮件是故意的，比如 2013 年有人说我反射弧比较长（因为我上一次的邮件回太迟了），我看了之后二话没说，记下来过了两年半再故意回一下：

![某人反射弧比较长](https://user-images.githubusercontent.com/163582/45963487-e760d180-bfe8-11e8-9e3c-f599b5693474.png#border)

还有一些放置了几年的邮件我干脆没回就直接归档了，也是因为看不到任何我能真正投入精力的希望。比如有追踪了我几年、想一起合作的人（正好主题也是我感兴趣的，并且那位叔虽然驻美多年但中文口语好得超出我想象，在美帝华人里我实在找不到几个中文说得流利的人），我觉得贸然回绝好像很对不住别人的长期关注，但这并不是第一例了；当年我在群众大学的时候也短暂参与过一个创业项目，起因也是有人在 COS 论坛上暗中观察了几年，后来我出国了就掉了链子，有点对不住那位两眼放光的叔。

我在看《深度工作》时，见里面提到一本书叫《电子邮件的暴政》，虽然我没看过这本书，但自打上大学以来接触到电子邮件之后，似乎真的就开始受到了邮件的暴政统治。一切工作都围绕着邮件展开，很少有自己主动去构想或实践大事的机会。当然，并不是说邮件里诞生不了伟业，只是邮件数量太大，凭我们这些凡胎实在[难以对抗](https://en.wikipedia.org/wiki/Email_bankruptcy)它琐碎的那一面。我们创造了邮件，而邮件反过来塑造了我们。不亦悲乎。

![收件箱最终清零](https://user-images.githubusercontent.com/163582/45966389-98b73580-bff0-11e8-9e28-5df46f92475b.png#border)

好了，暂时甩掉这个大包袱之后，朕要开始朕的新工程了：正式[挑战 LaTeX](/cn/2018/05/relaxed/)，且看三五年之内能否把它挑下马，然后再把期刊挑下马。
---
title: 大学的意义
date: '2018-09-26'
slug: meaning-of-university
---

在看一篇陈春花[讲营销的文章](https://mp.weixin.qq.com/s/FZiI6HntYFYPlr7QMMa7FA)时，注意到里面讲了一个例子，就是她如何对大学老师和学生营销自己的书《大学的意义》：

> 首先要看今天大学遇到了什么问题，今天大学遇到的最大问题是大学老师的使命感、责任感和自豪感都不强了，甚至一些大学老师自身都觉得无法感受教学与研究的乐趣，可以想见这样怎么可能培养出最优秀的人来。身为大学老师是不是变成了一个很困难的事情，还是从中感受到了一种美好，这个书回答了这个问题。

> 然后再来看什么才是一个好的大学生，除了完成学业之外，拥有思辨能力、懂得爱、能够和别人沟通，拥有积极正向的人生观和价值观，这才是一个好的大学生。

> 这本书可能就会帮助大学生重新珍惜大学的四年，没读大学的人如果看到大学是这样的，也肯定很向往。最终会得到一个结论，读大学最重要的不是让我们去选择未来的就业，而是我们可以胜任任何的职业和事业。这样这本书就会变成一个完全不同的东西。

这倒是提出了两个好问题。

1. 没有职业自豪感的老师如何能培养出优秀的学生？其实不光是教师这个职业，我觉得多数人都缺乏职业自豪感，觉得能混口饭吃就好。从我在 A 村上学的经历来看，那些老教授还是很有自豪感的（谈起自己的东西唾沫横飞），但年轻一代教师似乎更多是在为生存或荣誉而战，很难感受到他们的激情。

1. 读大学究竟是为了让我们学会专业知识还是掌握普世智慧？这让我想起一位美国大学校长的话（记不清名字，大约是一位名校的女校长），说要是你上了大学之后居然学会了一门专业知识，那将是大学教育最大的失败。所谓哲学博士（PhD），有多大哲学分量呢？似乎并不大。如果为了掌握专业技能，蓝翔技校或铺天盖地的网络课程应该足够，而且效率更高。

回到那篇营销的文章，我觉得一句话概括营销和销售的区别就是：人无营销之远虑，必有销售之近忧。

至于《大学的意义》这本书是否值得一读，现在我还不知道，我刚加入书架，且待明年分晓。
---
title: 用 R 创建网页服务器
date: '2018-09-27'
slug: r-web-server
---

在我写过的相对轻量级的 R 包当中，我最想展开说但又一直没空说的包是 [servr 包](https://github.com/yihui/servr)。这个包我自认为写得还算比较轻巧，代码抽象程度适中。昨天有人发邮件问我如何才能看懂这个包，我一时有些语塞，因为要彻底看懂它需要一些服务器方面的背景知识，比如我们常见的 404 页面中，404 究竟是什么意思。另一个基础知识是 [httpuv 包](https://github.com/rstudio/httpuv)，这也是一个很好玩并且很有用的基础包，它的诞生最初是为了给 [shiny 包](https://github.com/rstudio/shiny)服务的。说到这里，不免又要吐槽一番 R 核心团队那种办事总是缺最后临门一脚的风格，因为用 R 创建一个服务器在基础 R 包里早就实现了，只可惜他们没把这个接口开放出来，最终这么好玩的东西就只是为了单单一个 `help.start()` 函数使用，也就是打开网页版的 R 帮助文档，简直是暴殄天物^[又比如，`tools::md5sum()` 底层都写好了 C 代码，却偏偏把计算 MD5 码的功能限制在文件上；要是我能传给你一个字符串或原始码、请你跳过读文件这一步，那该多好，因为读写文件总是相对慢的操作。]。敝厂的首席技术官当年因为做 shiny 需要一个支持 WebSocket 和服务器功能的 R 包，刚开始他尝试了[别人写的一个包](https://github.com/rstudio/R-Websockets)，后来基本重写了一遍。当年 httpuv 和 shiny 的诞生是我头一次觉得有真本事的程序猿来蹚 R 的浑水了，改变了 R 是“统计学家为统计学家开发的软件”（by statistician, for statistician）的命运，即：终于有专业码农来为统计学家开发软件了。在这之前，你可以看看那些所谓的基于 R 的服务器产品都是何等的灰头土脸。当然，其中不乏聪明人，可惜伊太聪明（`help.start()` 的服务器就是他写的），不知道普通用户需要什么。这背景故事有点长，下面回正题。

我仍然没空把 servr 包的源代码解释一遍，但可以先给一个极简的例子。看懂了这个例子之后可以再看 servr 包中的 [`httd()` 函数](https://github.com/yihui/servr/blob/master/R/static.R)，它是创建一个本地服务器读取本地静态文件；看懂它之后再看 [`dynamic_site()` 函数](https://github.com/yihui/servr/blob/master/R/dynamic.R)，它是在静态服务器的基础上增加了 WebSocket 功能，有动态监听功能，让 R 和网页之间能有通讯。由于时间关系，我只解释一下极简例子。

创建一个网页服务器需要主机 IP、端口信息，然后要让 R 知道接收到网页端的请求之后该如何回应。这里的端口必须是系统中尚未被占用的端口，在 servr 包中我有一个函数 `random_port()` 来测出一个可用端口；下面的例子中我假设端口 `9102` 可用（如果碰巧不可用，请换别的端口）：

```r
httpuv::startServer('127.0.0.1', 9102, list(call = function(req) {
  list(
    status = 200L,
    headers = list('Content-Type' = 'text/plain'),
    body = paste(list.files(), collapse = '\n')
  )
}))
```

这样我们就创建了一个服务器，它要做的唯一一件事是把当前工作目录下的文件名列举出来。现在如果我们打开这个网址，就会看见一个文件名列表：

```r
browseURL('http://127.0.0.1:9102')
```

用 R 创建一个初级服务器就是这么简单。如果要深入了解服务器，那么就得知道更多细节了，最重要的有两个概念：请求和返回值。请求是上面的 `req` 对象，它里面包含了大量的信息，比如你可以根据请求的文件路径（`req$PATH_INFO`）给用户返回相应的页面信息。注意上面的例子里完全忽略了请求，所以不管你是打开 `127.0.0.1:9102` 还是 `127.0.0.1:9102/foo/bar.html`，返回的结果都完全一样。返回值则是那个处理完请求之后返回的三元素列表 `list(status = 状态码, headers = 头信息, body = 正文页面)`，浏览器收到这些信息之后会相应处理生成网页给用户看。学习服务器基本原理的最好搭档工具就是浏览器的开发者工具（Developer Tools），这一点我在 blogdown 书中的[附录 B](https://bookdown.org/yihui/blogdown/website-basics.html) 里略有提及（这里主要要看开发者工具的 Network 一栏）。

纯静态服务器搞清楚之后就可以玩 WebSocket 实现 R 与网页之间的通讯了。R 这边的服务器形如：

```r
httpuv::startServer('127.0.0.1', 9102, list(
  call = function(req) {
  
  },
  onWSOpen = function(ws) {
    ws$send(rnorm(1))  # 朝网页那边发送一个随机数
  })
}))
```

网页端用 JavaScript 监听 R 那边发来的消息，也可以根据发来的消息再发回去一个响应，让 R 执行特定操作。这个过程在 servr 包的 [`ws-reload.js` 文件](https://github.com/yihui/servr/blob/master/inst/resources/ws-reload.js)中有所体现。

虽然这玩意儿是如此之好玩，但估计多数 R 码农都不会走到这个偏僻的角落里来。我常常想要是更多人知道这个秘密花园的话，会不会诞生更多类似 shiny 的重量级应用？基础设施都在那儿了，剩下的就看你的想象力和执行力了。迄今为止，除了 [plumber](https://github.com/trestletech/plumber) 和 [fiery](https://github.com/thomasp85/fiery)，貌似我还没看到别的有一定牛力的作品。回到最初的跑题吐槽上，要是那位 R 核心团队成员当初能把服务器接口公开出来而不是一直紧紧捂在 `help.start()` 的口袋里，也许 shiny 还会提前好几年诞生。所以，我们得再好好想想，究竟[嘛叫开源](/cn/2017/12/homebrew-open-source/)、[嘛叫开源](/cn/2013/11/open-source-again/)呢？
---
title: 有何胜利可言
date: '2018-09-28'
slug: no-victory
---

去年我提到芒格常引用的那句《[未必要有希望才能坚持](/cn/2017/12/need-not-hope-to-persevere/)》，今天偶尔翻到一首诗，看到最后一句时，暗想这两个相隔三四百年的人说的话竟然如此相似。以下[据说是陈宁的译作](http://blog.sina.com.cn/s/blog_6bbb74860102w30b.html)（我是第一次听说作者里尔克和译者陈宁）：

> 只要你曾经看见一次，  
看见命运怎样进入诗行，  
一去不回，  
怎样在其中变成画像，  
仅仅是画像，  
仅仅是一个先祖，  
你偶尔瞻仰时画框里的让你觉得  
既像你又不像你的一个先祖——  
你也就会一直隐忍。

> 思考那并不存在的事，  
不过是小题大做，  
不过是一个比喻式的责备的一个假象，  
对你无所中伤。  
发生的事，  
就这样领先于我们的料想，  
因此我们从未追赶上它，  
从未获知它本真的形貌。

> 不要羞惭，  
当坚持到终点的那些死者与你擦肩而过的时候，  
（终点意味着什么？）同他们用眼色交谈吧，  
平静地，当作习俗，  
不要惧怕我们的悲哀会异样地成为你的负担，  
会使你在死者中显得醒目。  
伟大的词语，出自发生的事  
依然可见的时代，并非为我们而存在。  
谁还在言及胜利呢？忍耐就是一切。

我看东西有个习惯，就是每次看到翻译过来的文字如果心有所动，那么就会去找一下原文，但限于我只懂英文一门外语，所以有些原文不是英文的我也只能找来[英文翻译](http://www.artofeurope.com/rilke/ril8.htm)对照看看（上面的原文为德文）：

> Had you once  
perceived how fate may pass into a verse  
and not come back, how, once in, it turns image,  
nothing but image, but an ancestor,  
who sometimes, when you watch him in his frame,  
seems to be like you and again not like you: -  
you would have persevered.

> But this is petty,  
thinking of what was not. And some appearance  
of undeserved reproach in these comparings.  
Whatever happens has had such a start  
of our supposing that we never catch it,  
never experience what it really looked like.

> Don't be ashamed, when the dead brush against you,  
those other dead, who held out to the end.  
(What, after all, does end mean?) Exchange glances  
peacefully with them, as is customary,  
and have no fear of being conspicuous  
through carrying the burden of our grief.  
The big words from those ages when as yet  
happening was visible are not for us.  
Who talks of victory? To endure is all.

顺便想起一次我看到一段村上春树小说里的话，找英文版怎么都找不到看起来恰当的翻译（[有](https://www.goodreads.com/quotes/7350332-besides-being-the-world-the-kind-of-sadness-that-can)，但英文翻译看起来语法似乎都不太对），最后只好找个日本人问问。伊给我发来原文：

> 世界には涙を流すことのできない哀しみというのが存在するのだ。それは誰に向っても説明することができないし、たとえ説明できたとしても、誰にも理解してもらうことのできない種類のものなのだ。その哀しみはどのような形に変えることもできず、風のない夜の雪のようにただ静かに心に積っていくだけのものなのだ。

显然我只能看懂几个汉字。伊自己翻译了一下，说可能丢失了一些雅致：

> There exists in the world sadness that cannot be expressed with tears. This is something you cannot explain it to someone; even if you can explain, it is a type that no one will understand. That sadness cannot be turned into any shape; like the snow in a windless night, it just silently accumulates in your heart.  

在《深度工作》和《优秀到无法被忽视》两本书中，作者（同一人）都特别强调了工匠精神，赞扬他们深入细节的品质。有些职业中的细节程度在我眼中确实是无法想象，比如诗人、作家和画家，他们的感知力和想象力比普通人强大太多倍。
---
title: 黑客新闻的恶趣味
date: '2018-09-28'
slug: volkswagen
---

黑客新闻（Hacker News）的邮件列表我订阅有两三年时间了，从中了解到不少有意思的项目（比如 Hugo 和 remark.js 都是从里面得知的），但我感觉它的质量似乎一直在下降，最近几周收到的邮件里我都找不到什么值得一看的文章或项目了。今天的推送里推荐了一个相当恶趣味的 Github 库叫 [volkswagen](https://github.com/auchenberg/volkswagen)，这个项目的目的很简单，就是当检测到测试代码在 Travis 等云端测试平台上运行时，就让你的测试强行通过。这种项目除了搞笑（以及作者磨炼自己的黑客技能），毫无实际价值。谁会自欺欺人到逼着测试假装通过呢？这样的推送让我有点想退订这个邮件列表了。

又及：这样的 Github 项目都有八九千赞，所以你看有时候你真的不知道[赞的真实意义是什么](/cn/2018/09/pursuit-of-likes/)。
---
title: 土人
date: '2018-09-29'
slug: countryman
---

前几天[看陈春花那篇文章](/cn/2018/09/meaning-of-university/)时，里面的微波炉例子触发了我的[联想模式](/cn/2018/08/association/)；她说微波炉的按钮太多了，消费者可能不知道怎么操作。这让我想起我自己当年对操作微波炉以及其它电器的畏畏缩缩。我大约是到了大四的时候（06 年）在学校食堂里才最终学会用简单的微波炉，在那之前基本上没接触过微波炉。头几次去用那个微波炉热饭总觉得很畏惧，不知该按或转哪个按钮，只能偷偷瞄一眼前面的同学怎么弄，然后照猫画虎。

就算我学会了用食堂里的微波炉，别的微波炉我仍然犯怵。后来有一次要在办公楼里吃饭，去隔壁院办热饭，那微波炉的按钮更多，我看花了眼也不知道该按哪个，我斗胆按了之后又怕加热时间太长导致饭菜爆出来，于是提心吊胆看着饭菜在里面转啊转，想把它停下来却不知道怎么停，又不好意思问老师，着实窘得慌。

电梯也一样让我窘迫过。我高中毕业之前都没坐过电梯。第一次坐电梯是 2002 年夏天高中毕业，我在市里[参加完一个晚会](/cn/2005/05/song-fangrong/)去别人给安排的宾馆（第一次住宾馆），里面有个电梯，上去的时候我跟人一起上，所以不用我操作。第二天下楼时，我在电梯前好一阵犯愁到底该怎么下去，现在我也不记得当时是怎么下的了，可能是找到楼梯下去的（好在不高，应该是三楼）。

再然后到北京上大学，刚入学时在宿舍接到班主任电话叫我去一趟院办，告诉我在某某楼九层，我进了那栋楼，又看见我畏惧的东西了：电梯。左右踌躇了一会儿后，我活生生从楼梯间里爬上了九楼。与此对比，几年后我已经练就了让电梯停在理论上本不停的楼层的神功：有些电梯是高层（此处一不小心双关了）的校领导专用，如果想在中途低层停的话，提前两层连续一指禅暴击那亮着的高层按钮让它熄灭即可。

上大学之前我几乎没怎么坐过公交车，对城市公交系统一无所知（上高中只是从一个镇上搭个小巴士到另一个镇上，司机随叫随停，没有站点），所以也很畏惧坐公交。前面说的在宾馆下楼梯之后出来要从市里坐公交换车，这对我可是大难题；所幸有个市里另外一个高中的同学也去参加了那个晚会，我从宾馆出来碰到他，于是一起走，他告诉了我怎么坐车，但我心里仍是惴惴不安，怕坐过站或没听清站名。就算是坐回家的车，要是我从市里半道上去搭车的话，我连方向都搞不清。高二暑假里我在市里参加了几周化学竞赛培训，出来之后在一条路上看见了熟悉的小巴士，可是我并不知道该在路这边还是路那边坐，于是一会儿过去看看，一会儿过来看看，最终鼓起勇气拦住一个车问了一下是不是去某镇的。上车之后由于紧张，我给了售票员五块钱，而忘记了这次我并不是像往常一样从一个终点坐到另一个终点（五块钱是全票）。那售票员接过钱稍微疑惑了一下，但很快就把钱收起来了。过了一会儿等我想起来这事，才意识到我给多了，但我又畏畏缩缩没找她要回多余的钱。她当时之所以愣一下，是因为我给她的是五张一块的零钱，让她瞬间觉得奇怪，而又很快意识到了一定是这娃不知道票价。要是我给她一张整五块，她肯定会给我找钱。

其实至今我都对宜昌市区的街道和标志性建筑两眼一抹黑，别人口中常提到的地名我几乎都不知道在哪里。上高中时，每次去市里我都得跟着同学混，我唯一能记得的一条路是[从一个新华书店走到另一个书店](/cn/2014/12/the-gadfly/)。

大一的前几周，有一天我在北京的一位亲戚打电话叫我去他家玩，告诉我坐几路在哪里下，那是我第一次在北京坐公交。出发前看了好几遍纸版地图（那时连电脑和手机都没有，更别说智能手机了），上车一个一个车站名去对，坐了大约半小时终于到了，心中长舒一口气：俺厉害啊，都会一个人坐公交车了。

上高中之前，我从没用过电话。上高中后，因为一个月才回一次家，所以有时候得打电话。高一刚去的时候，我对打电话这事儿也犯怵，不知道该怎么拨号，又怕弄错了多付钱，所以有时候在学校的小卖部就暗中观察一下别的同学是怎么拨电话的。后来没过多久，宿舍里就装了电话，我才对这物件熟悉起来。周末晚上无事干就玩电话（看是有多无聊），里面的功能基本都了如指掌。比如拨某个号就可以免费录音，录完会存下，以后还可以重播，于是我用别人的随身听在电话里录了歌，等别人不在的时候我也可以用电话听听歌。娱乐条件如此贫乏，却依然充满乐趣。

头一次来美帝的时候，跟一群人在 DC 的一家赛百味吃饭，发现居然吃个三明治还得自己依次指定何种面粉、何种酱料、何种肉、何种菜、何种奶酪，我顿时晕了过去。那里面我就没几样认识的东西啊，于是只好畏畏缩缩地用手指着 this that 一番。到现在我仍然不喜欢在需要自定义的餐馆或店吃东西，既觉得选择太多好麻烦，又觉得前有不认识的食物、中有收银员盯着你问还要啥、后有人排队等着，给寡人相当大的三重压力，所以很是犯怵。

这就是我，一个土人（由一个微波炉引发）的自白。
---
title: 烘焙界
date: '2018-10-01'
slug: baking
---

烘焙这事应该是很难跟我这种糙汉联系到一起的。以前烤过一两次戚风蛋糕之后就放弃了，因为烘焙界着实麻烦，得是有钱有闲之人才能玩的事情。我肯定是没那空闲。后来我做蛋糕都是随便瞎拌拌、往电饭锅里一倒、煮饭键一按完事，也不管它消不消泡、塌不塌：反正塌不塌都一样吃，吃到嘴里总归是会塌的，何必在外观上那么讲究。只是可惜了买了就没用过几次的蛋糕模具，后来都是用来烤枣糕了。

最近做月饼，顺便翻翻菜谱看有何可烤之物，也是为了顺便看看有没有给小朋友吃的点心之类的东西。看见一些奶酥、饼干方子，于是头一回试试黄油制品，发现那些酥、饼干也不过就这么个套路：低筋面粉（淀粉可选）加黄油加蛋黄加糖。凡是有这么四样则必酥无疑，做不坏，至于里面是加蔓越莓还是葡萄干还是花生碎都随意。所有人的菜谱都说要打发黄油，而我打了一次之后就再也不想打了，因为我在厨房里最忌手摸油腻腻的东西。搅拌器打了黄油之后我实在不想洗，虽然其实也就是热水一冲就干净了的事。

我琢磨着最终目的是黄油要和面粉搅拌均匀，那为何不把黄油化成液态再拌面粉呢？有人还专门叮嘱千万不要把黄油融化了。我觉得这不符合第一原理的思维，于是我第二次做的时候就用微波炉直接把黄油化掉，然后上手套直接拌面，最终烤出来的成品跟用搅拌器打发黄油并无口感区别，而且这样做要方便好几倍（速度快、又不用洗搅拌器）。烤牛角面包有类似的问题，如果按方子做，则需要仔细着擀黄油，我索性直接把黄油和面粉扔面包机里一起揉了，最后烤出来没啥层次感，但还是那句话，不管面包本身有没有层次感，最后在嘴里嚼吧嚼吧都会没有层次感。

黄油这一步懒了之后就步步懒了。第三次我干脆连蛋清蛋黄都懒得分离了，直接整颗鸡蛋扔里面，烤出来酥脆感不足，但自己吃也没那么多讲究，随便做做随便吃吃就好。分离蛋清蛋黄的问题就在于，做完了蛋黄还得耗时耗力另寻方子想法子处理蛋清。

至于裱花，我建议除非真心闲得发慌，否则不要去折腾。虽然看起来有点专业范，但丝毫不会增加口感值，而且容易捏得两手油乎乎，分分钟想掀桌不干了。
---
title: 一个网址的命名
date: '2018-10-01'
slug: rstudio-mathjax
---

继续说一个[命名](/cn/2017/07/naming/)的例子。这已经是去年上半年的事了，当时 MathJax [突然准备跑路](https://github.com/mathjax/MathJax/issues/1725)，搞得大家都措手不及。我们厂见此状况，私下跟他们洽谈无果（包括我们出钱赞助 MathJax），于是只好自己弄了个服务器存放 MathJax，以防以后再出现这种某个著名 JS 库跑路的状况。

问题是，厂里的同事为这一个库单设了一个域名，这个域名下只放这么一个库：

```
https://mathjax.rstudio.com/latest/MathJax.js
```

当时我看见连忙上书极力反对这个网址命名法，因为它不符合主流 CDN 资源的网址格式。主流格式都是主网址加库名加版本号，比如：

```
https://cdnjs.cloudflare.com/ajax/libs/remark/0.14.0/remark.js
```

如果违反这种主流命名法，那么可能会给别人带来麻烦，比如 Hugo 模板中就不方便做到让用户自定义 MathJax 的 CDN 服务商：

```html
<script src="{{ .Site.Params.MathJaxCDN }}/mathjax/{{ .Site.Params.MathJaxVersion }}/MathJax.js">
</script>
```

用这样一个网址会好得多：

```
https://cdn.rstudio.com/mathjax/latest/MathJax.js
```

这样做还有另外一个好处，就是万一将来又有一个重要的 JS 库跑路的话，我们只需要在我们自己的服务器下增加一个文件夹，把那个库放进来即可。按照当前我们的命名法，如果发生跑路的情况，我们又得再设置一个域名，还得捣鼓一遍域名配置、HTTPS 证书等一屁股琐事。

所以有时候码农之所以忙，纯粹就是因为以前的自己不注重可持续发展、而给现在的自己找的事。我的上书被忽略了，可能大家都觉得这是个芝麻大的事，不值得考虑。单论这事本身的话，它确实是个芝麻大的事，可永远向前多看一步这种思维方式我觉得还是很重要的。只盯着自己的脚趾头走路，难免摔跤、掉坑。
---
title: 栅栏与草坪
date: '2018-10-05'
slug: fence-lawn
---

美帝的房子我有两点极不喜欢，一是栅栏，一是草坪。每每看见栅栏，我总觉得仿佛大家各自花几十万美元为自己买了一套牢房，家家户户把自己围得死死的，还美其名曰保护隐私。其实有个毛线隐私可言，我站楼上往下一看，谁家院里有什么、在做什么，一清二楚。要说为了安全吧，其实大家的栅栏也并没有上锁，人要真想进去，推开栅栏门就进，就看你有没有那个胆。这种栅栏也拦不住兔子之类的小型动物，只能挡住大型动物；若怕兔子啃你的菜，还得给菜园专门再围一道铁丝网。在我看来，栅栏唯一一个合理的用途就是把三岁小孩围在一块草地上玩，免得他在没有大人看管的时候跑丢了。可这个用途也有两个问题：一是不懂事的小孩有多少时间独自在后院玩（大人为什么要把小孩扔一边呢）；二是等小孩长大，这用途也就失效了。

综上所述，我觉得栅栏并没有什么实际用途，反倒是制造了隔阂，而且安装成本还奇高无比。我之所以会觉得栅栏围起来的房子像牢房，是因为这种环境和我在农村从小长大的环境截然不同。我是那种在村里放养长大的孩子，左邻右舍随便串门，想找谁玩找谁玩，不用事先打招呼。多数住户的大门通常都开着，大家也不必担心贼人什么的，因为总会有邻人看着。现在在美帝翻身成房奴住了两年之后，别说这一片小区的人了，就连左右挨着的邻居都不太熟，一年到头说话时间加起来都不到半小时，而其它住户根本就完全是陌生人，我能看见他们的大多数情况都是他们下班回家开车入库，然后连人影都没看清，那车库门就关下了，空留下牢房外墙。

与现实中的隔离形成对比的是网上红红火火恍恍惚惚的社交繁荣。现实中栅栏高筑，网上倒是打得不亦乐乎，包括友善和不友善的打。有个应用叫 NextDoor，每个小区都有自己的一个群组，上面可发帖通知、讨论、买卖等。这里面众生百态都有，素质高低的人都可以见到，比如经常有无聊的小青年恶作剧刮别人的车或在车上喷漆写些下流词句，也有暴徒偷车或砸玻璃，有写感谢信谢邻居或谢陌生人的，也有人对半夜还在放国庆烟花的邻居感到暴怒的。总之就是现实中一眼看去，一个个牢房好像平静无比，什么事也不会发生，路上见不着几个人，栅栏背后是什么鬼才知道，而从网上看去，则又好像一个热闹的集市。

也许这种隔绝的私有空间就是美帝文化的一部分，我只是不太能欣赏这种文化而已。中国的城市应该也差不多，虽然我没在城里住过，但我猜城市居民认识邻居的范围应该比农村小得多。城里人的隔绝我一定程度上可以理解，毕竟人太多，为了安全考虑，得随时关好大门，而美帝农村这种栅栏文化则像是刻意创造出来的：明明有条件邻里畅通往来，却非得竖起栅栏把自己围起来。我不知道这是不是延续了过去的贵族别墅风格：贵族都得圈一块地，向平民表示这是我的地盘，尔等不可随意出入。仿佛动物撒泡尿划出自己的领地范围一样。

草坪据说就是贵族风格的延续：贵族为了显示身份，则专门置一大块草地，雇人好生维护。平民面朝黄土背朝天，在地里拔草都来不及，谁会吃饱了撑得去种草。现如今这家家户户的草坪有什么实际用途呢？除了让小孩在上面玩，就是绿化了。可一方面小孩也不见得能玩几次，另一方面草坪本身是很无聊的，比草坪好玩的地方多了去了。要说绿化，我们这广阔的中西部大农村里，光是绿色农作物的面积应该就比这些家家户户的小草坪加起来大多了，所以我们各自辛辛苦苦通过施肥、浇水、松土、割草、除杂草供奉着的私人草坪究竟值得吗？如果为了绿化，这种私人方式性价比也忒低了点；就拿浇水来说，费水不说（经常见人浇水浇得多余的水沿着马路上哗哗往下流），要浇水就得安装和维护灌溉系统，冬天为了防冻还得找专业人士把水管子清空，院子里随便什么开工动土得小心不要挖到水管子，要不幸裂了还得找专业人士来修，麻烦事一堆。所以说到底，我觉得草坪唯一的显著用途就是让我们过得仿佛像贵族一样，而本质上养草坪跟铲屎官没什么区别：名义上你是主子，实际上只是个奴才。

如今我自个儿割草的唯一动力就是拿它当锻炼身体了。我割草的频率也超低，经常一个月才割一次，一割就猛割到底，给草坪剪个板寸。我最爱跟左右邻居展开比懒大赛，而且通常是我赢：他们一般都会忍不下去，只好先割为敬。好在我的左右邻居虽然都是美国人，但在割草这事上还算相对比较懒。真是谢天谢地。

对我这种令人发指的实用派来说，成千上万美元的栅栏只是用来挡住邻居的视线实在是太大材小用。于是乎，我用它来[种丝瓜](/cn/2018/08/loofah/)了（黄瓜太柔弱，最终没能爬上栅栏）。

![丝瓜爬栅栏](https://db.yihui.org/images/fence-luffa.jpg)

当然，种丝瓜有个巨大的问题，就是它会透过缝隙长到对门家的院子里去。对门也是美国人，从没见过丝瓜，看见这丝瓜大军杀将过来肯定满腹狐疑，而且会觉得对门的菜农不厚道，侵犯了他的领地。为了解决这个难题，一个夏天傍晚，我拎着三条自家种的黄瓜、遛着娃上他家，杯酒释兵权。

“你好，我是你后院对面的邻居，初次见面，多多关照。我想问你个问题，你介意我的菜长到栅栏上吗？”

“呃，我想不介意吧。”

“恭喜你答对了，这三条黄瓜是你的奖品。”

主人千恩万谢、欢天喜地抱着黄瓜进去了。其实我也是不厚道地利用了人都不爱说不的心理特点，何况是老实善良的中西部人民。我不知道他们究竟真实想法是什么，但至少口头上我得到了许可。后来我尝试着从我这边把长过去的丝瓜从栅栏缝里拽回来，发现实在是控制不住那长势。前天我决定再去他家，征求他的许可直接去他后院清理那些丝瓜。额滴个亲娘嘞，那丝瓜长得远超乎我想象。因为他家在西边，下午阳光充足，所以那一面栅栏上的丝瓜结得差不多赶上我这一面了。我过去看时，地上已经烂了好些条丝瓜（不知是不是狗咬的），藤上还挂着好多。最后我提着得有二十多斤丝瓜，回家路上直接分给了中国邻居，因为我自己已经吃够够。以后再也不能种两棵了。

估计这是我们小区里唯一一面长菜的栅栏。冬天快来了，这丝瓜的一生也享受了至高无上的待遇：长在了八千美金的架子上。
---
title:  美帝高中的大麻
date: '2018-10-08'
slug: pot
---

前两天在小区的 Nextdoor 应用上看到一则关于大麻的报告。有一个成人目击两个年轻人藏了一袋东西在他家旁边的树丛里之后开车走了，他过去掏出来发现是大麻，然后他报了警并发了帖。结果下面的回复立刻分成两派，一派支持，一派嘲讽。有人说你不要否认自己当年也嗨过、以及为何要阻止这些高中生嗨；有人说内布拉斯加的大麻之所以还没有合法化是因为某些右翼份子的阻挠；还有人说吸大麻在学校太普遍了。我看了一下维基百科，内布拉斯加确实是美国最后少数几个还不能合法使用大麻的州，看样子离沦陷应该也不久了。后来这个帖子貌似因为争议太大被删了。

我经常重复一个观点，就是公平和公正有本质区别。我觉得法律追求的更多是公平而不是公正，比如大麻合法与否根本就不应该是按照国家或州来确定。法律应该确保大麻使用者不会对社会秩序或安全造成危害，这是一个非常个人化的问题，即每个人的自控力都不同。如果直接宣布大麻对一国或一州合法，那么入坑的人应该更多是那些自控力弱的人，总体而言我觉得他们造成危害的概率会大于自控力强的人。立法没法考虑个人化问题，不然就太复杂了：得测量每个人的自变量（测量所有人的工作量就已经大得不切实际，何况测人还很难测准，而且人还会变）。用一刀切的方式并不是说这样做就是对的，而是没办法，出于便利性只能这样干。理想中的公正社会应该是有个性化的法律，就像个性化医药一样，哪有对所有人都适用的万金油呢。

从自变量的角度来说，我就高中生吸大麻深表担忧，因为这不像是一个有自控力的年龄段。美帝中学里吸大麻到底有多普遍，我也不了解。今年早些时候我看到过一篇报道说中学里的电子烟盛行，刚再去找了一下，没找到那个链接，但找到一篇论文讲[学生用电子烟吸大麻](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4586732/)。有时候我就琢磨，这以后到底还要不要让我的娃上学？这些乌烟瘴气的东西是一方面原因，而且说实话并不是我最担心的一面，我最不想看到的是他们在学校跟我们上学时一样，花大量时间在一堆毫无价值的东西上（只是因为大人要上班，不得已只能把小孩像小猪一样圈到同一个栏里，年复一年喂同样的标准饲料）。格雷厄姆在《黑客与画家》中的第一篇文章《书呆子为什么不受欢迎》让我很想卷起袖子自己教自己的娃。其实我还有第三个原因，就是我认为现在的学校过于捧娃。很不幸，现在连中国的教育体系都继承了这个恶习，比如不让公布考试名次，生怕对祖国的花朵的造成一丁点心理伤害。我不知道下一代到底还有什么机会接受挫折教育。当然，我也不能否认这个可能性：等他们在这种一切都很美好的环境中长大成人之后，也许真的一切都很美好了，也许打打游戏、吸吸大麻、没有一技之长一样可以过得很好，比如技术进步到一切需要动手和用脑子的事情都可以交给机器人去办，物质条件极大丰富，根本没必要再工作，他们完全可以娱乐至死。

我这种守旧派，当下连使用扫地机器人都反对（省下两分钟扫地的时间去做啥呢），对未来就更加悲观了。再过三五十年，还会有人读诗吗？还会有人写字吗？[饮者还能留名](/cn/2018/04/alcohol/)吗？[活着的意义](/cn/2018/03/ikigai/)会是什么呢？
---
title: 狗
date: '2018-10-10'
slug: dog
---

前面有一条客官的[回复](/cn/2018/10/fence-lawn/#comment-4138805011)勾起我关于狗的一些回忆。我的童年基本一直有狗伴随，那时我很喜欢狗，是发自内心的喜欢，觉得它就像一个忠实的伙伴。它没脾气（只是在发挥看家功能时会警告陌生人），不撒娇，不求宠，即便饿肚子时也不会大闹，挨打时就缩一边哀嚎也不会跑远。确切地说，我对狗更多是出于一种怜爱。有时候我放学了它会沿着屋后的田埂去接我。还有件事说出来有点不好意思，可能会恶心到诸位客官：有时候我蹲茅坑，狗就会在一边等着；等我蹲完，它会干什么……我还是暂时不直说了。

等我长大后，猫狗的功能都变了，它们成了宠物。在我小时候，猫抓老鼠、狼吃肉、狗吃屎都是非常普遍的现象，而对现在的小朋友来说，这些事恐怕只存在于古老的传说中了。我并不是很喜欢动物的宠物功能，这并不是因为我觉得动物低人一等或不能跟人平起平坐，而是我不喜欢这种感觉很腻的关系；狗除了一天到晚仰仗主人，没什么自己的生活。另外一方面是因为在城里养狗让我有种很强的束缚感：我自己觉得束缚、也觉得狗受到太多束缚。在城里伺候狗太麻烦，要洗洗刷刷，打疫苗，教它在哪儿吃饭睡觉拉屎撒尿，每天还要出去遛两圈，跟伺候娃也差不多了。我在农村环境里长大，早习惯了自由自在的狗。我们吃饭时，吃剩的骨头鱼刺什么的就往地上一扔，狗就在下面啃。有时候去亲戚家吃饭，要是被热情的七大姑八大姨强行夹菜夹到我不爱吃的菜的话，也便偷偷往桌子底下一丢，就被狗吃了，神不知鬼不觉。反正在村里一到吃饭的时候，桌子底下基本都会有一条高灵敏度的扫地狗。

十几年前我贴过一篇《[狗的礼赞](/cn/2005/01/eulogy-of-the-dog/)》的文章。现在看来，这篇文章辞藻有些过于华丽，但当年还是触动了上大一的我。我想将来应该是找不到小时候那种养狗的感觉了，因为往后几乎不太可能像当年那样能散养猫狗，任它们到处跑；如今我们给自己和它们都树立了太多规则。农村里的猫狗到处跑并不是没有问题，比如它们会在野地里大小便、偶尔会真咬人；我自己小时候就曾被别人家的大狗扑倒过，吓得半条命都没了。现在要是谁家的狗在别人家草坪或公共场地上拉屎没捡走的话，肯定会被狠狠鄙视和投诉；要是咬人的话主人就更惨了，赔款、打官司一屁股麻烦。我们的生活越来越精致和讲究，而相应地，自由似乎也越来越少，处处小心翼翼。

小区里经常有人发帖说自己的狗走丢了，我觉得狗本来是很聪明的，完全就是被关在家里给关笨了，失去了它灵敏的动物本能，也是蛮可怜的（同理，我觉得动物园实际上也挺残忍的）。我小时候村里的狗自己跑再远也能自己回家，而现在的狗离家跑出二百米要是见不到主人恐怕就迷路了。不知道我们这些肉身关在钢筋水泥里以及精神关在网络世界里的人类，是不是有一天也会变笨、失去我们的动物本能。

关狗这种事情在我小时候的农村也有过，那是因为有些主人比较残忍，特意用这种方式把狗训练成凶猛的性格。我记得我叔家就曾经这么干过。一条狗用链子拴在树上栓了几个月后变得奇凶无比，用来看家肯定是没问题的。如今大家表面上没那么残忍，但把狗关在家里应该还是会影响它的性格，它们会[极度渴望](https://twitter.com/dog_rates/status/1054404072164548611)出去溜达以及[跟别的活物互动](https://twitter.com/anne_theriault/status/1057770359573962752)（包括人、别的狗、兔子等）。记得 2013 年我在阿拉斯加一个家庭旅馆的后院见到一条狗，虽然我对它来说是陌生人，但只要我一扔网球它还是会立刻疯跑去叼回来。因为它是如此兴奋，我就陪它玩了很久，最后它一直跑到累得四条腿不停颤抖的程度，我怕把人家的狗跑死了才没再扔球了。其中还有一个球扔到了树丛里它没找到，我自己过去也没找到，狗傻了我也傻了。关于此事，有诗为证：举球邀笨狗，对丛成二哈。

顺便想起小学六年级时有一次写作文，我写道狗在失望的时候会嗡嗡叫，语文老师在这个拟声词上画了个圈，说这个词用得不对，狗叫应该是汪汪，而嗡嗡是蜜蜂的声音。这大概是整个小学期间我唯一一次不太相信老师的绝对权威，所以我至今还记得。我家的狗在愿望得不到满足时，不会强求，而是会像人一样在鼻子里发出嘤嘤的声音走开。不过小学时我只学过嗡嗡这个词，所以那已经是我知道的最近似的拟声词。

我作文中提到的嗡嗡叫是有一次狗想找我玩的时候，我心想要是我死了它会怎样（这娃儿内心戏份相当足），于是跟它玩了一把装死人游戏，往床上一倒。它见状就嗡嗡地走了。至于它当时在想什么，我永远无从得知。因为散养的缘故，村里的狗最常见的命运不是老死，而是被偷狗的人偷走宰了卖狗肉。这条狗最后也没能逃脱这个命运。

[我侄子](/cn/2008/03/bitter-life/)跟我的成长经历类似，也是一条狗伴随了他的童年。那狗后来同样也被偷了。因为那时有拍照功能的手机还没流行，他自己没有狗的照片，所以他痛心地问我有没有给那条狗照过照片。所幸我还能给他找到一张最后的照片留个念想，而我自己童年里的那条狗，除了我的一点久远而模糊的记忆，在这个世界早已了无痕迹。

![侄子家名叫痞子的狗，已经长大产崽了](https://user-images.githubusercontent.com/163582/46882149-3abd8700-ce13-11e8-855e-1b21fe4d2168.jpg)
---
title: 土豆饼
date: '2018-10-15'
slug: potato-pancake
---

前段时间开始做土豆饼。刚开始时照常是按菜谱来，也就是仔细着用擦丝的工具擦土豆丝，打个鸡蛋拌拌烙饼。做了几次总觉得太稀，做出来都成了土豆泥，我不是很喜欢。

想来小时候我家炒土豆丝通常都会放很多油，最后炒成有些焦的炸土豆丝，我觉得那土豆丝很香，百吃不厌。我理想中的土豆饼应该是那种口味的。这两天烙土豆饼的时候我就不放鸡蛋也不擦丝了，而是直接刀切土豆丝，撒点盐之后稍微放一点点面粉拌拌。不粘锅里放点油，中大火烙之。底部结一层焦壳之后，提起锅一甩，把饼翻过来再烙几分钟。终于烙得一张外焦里嫩的土豆饼。胡椒面、碎芝士、鸡精、葱花都可随意拌进土豆丝里同烙。只放盐也很香了，因为土豆过油烧烧本来就容易香。

这又是[懒厨](/cn/2018/06/lazy-cook/)的一个例子。擦土豆丝这事让我感觉很费劲，要小心翼翼不要擦到手，而且擦出来的土豆丝太软、水分又太多，不符合我口味。刀切则省事得多，还更美味。
---
title: 卅载芳华
date: '2018-10-16'
slug: middle-school-teachers
---

今天看见一则[我老家镇上的新闻报道](https://mp.weixin.qq.com/s/y5NnoZpjMzO4h_ePClGPWw)，说是给乡村从教三十年的教师颁发证书。既然是从教三十年的老师，那么我估计在里面应该能找到二十年前教过我的一些老师。我九六年上初中，九九年毕业。毕业至今已经近二十年，这二十年间镇里好些中小学都合并或更名了。比如我上过的大垱小学现在已经变成了村委会办公楼，初中（梅林中学）校址好像变成了一个小学。虽然经过这些变化，但我还是看见几位我曾经的中学老师留守在他们的岗位上；看着他们的照片，我在这千里之外的异国他乡不胜唏嘘：二十年光阴似箭，老师们脸上有了岁月的痕迹，可他们仍然在坚守。

九年前[我简略回忆过我的英语老师们](/cn/2009/11/common-sense-in-english-writing/)，里面提到的初一英语老师就是这篇报道里的张凤梅老师。她是我的英语启蒙老师，也就是教我 Ms Gao、李雷、韩梅梅、Jim Green 的老师。第一次上课她站上讲台就跟我们来了一段英语，我们这些连 ABC 字母都不知的小学生当然都一脸懵圈，但又觉得好新奇。她让我们买了跟课本配套的磁带，我还记得当年周末在家听磁带的陌生与新鲜感。刚开始我并不觉得我在学习英语上有任何天分，但她一直很照顾和鼓励我，耐心带我入了门。当年她经常给我们讲一句豪言：人生能有几回搏，此时不搏，更待何时！

初二的英语老师是杨汝明老师。很惭愧我后来忘了他的名字，只记得姓杨，而且跟隔壁四班班主任名字很像（那班主任应该是叫杨少明），所以我刚开始以为是这里面的杨绍斌老师，但总觉得这照片跟我二十年前的记忆完全不同。后来经过微信小编询问，才让我回想起他的名字。杨老师让我的英语有了本质提升，因为他特别喜欢讲语法，这让我上高中甚至上大学之后都喜欢钻研语法：张道真、薄冰的语法书我都看过几遍。如我在之前那篇回忆日志中所说，当时他不太能镇得住我们这些处于叛逆期的学生（另一个原因是当时学校里两个小混混头目在我们班，风气不太好），大家都不爱听他讲课。我大概是少数几个听讲的学生，我们师生二人的关系非常好。他家住得离学校很近，有时候我周日下午骑自行车从村里到镇上来上学，从他家门口过时要是看见他在家，会在路上冲他喊 Hello，他也会回一句 Hello。其实他挺有幽默感，只不过大家都不太欣赏。比如有时候他上课在黑板上板书，见大家不动手抄笔记，就问：你们都是断臂福尔摩斯么？

初三的英语老师名叫张玉玲，不在这篇报道里，但也对我的英语影响很大。当时她打扮很时髦，应该也是学校里英语水平最好的老师。记得有一次市里有个英语听力竞赛，让各中学通过初试成绩推荐学生去参加。初试之后她把我叫到办公室，给我讲了几道我做错的题，说这几道题你应该可以做对的，所以你就把你的答题卡上的答案改过来吧，这样卷面成绩够格就可以推荐你去参加市里的复赛了。我现在在美国待了九年后对英语听力都没信心，更不必说当年在乡下初学英语时的听力水平，所以后来和另外一位同学一起去复试（是叫王瑗瑗还是王琰我记不清了），好像最后也并没有得到什么名次，但老师的鼓励对我是很大的动力。其实今天我想了好久都没想起这位老师的名字，只记得她姓张（奇怪的是我记得她老公的名字），直到通过一个初中同学问了另一个同学，我这才想起来。再一次惭愧。

我初三开始学化学，这门完全陌生的课程我也觉得我毫无天分，但奇怪的是教化学的祁宇国老师同样对我特别照顾。在我一直认为自己资质平平的时候，有一天上课他讲着讲着课不知为何突然用手指着我和另外一个同学（叫王杉）说，我看你们班也就这两个同学在化学上有点聪明气。那时懵懂的我坐在下面心里大惊，完全没想到这样的话会用到我头上。打那以后，我的化学成绩真的越来越好，并且对化学发生了强烈的兴趣，以至于后来我从乡下到了城里的高中后，三年里一直保持了化学成绩在全年级几百号学生里拔尖的状态，上化学课时我也是唯一一个可以不听讲、做自己事情的学生，老师从前往后点人提问会直接跳过我。关于祁老师，我现在不太记得别的事情，只记得他办公室桌上喝茶的茶杯是烧杯（多么有化学老师的特色）；还有一次周末放假，我爹骑摩托车来学校接我，走的时候摩托车怎么也踩不响（那时的摩托车都是用脚猛踩发动的），他正好路过，上来帮我爹把车踩发动了。在这篇报道中的照片上，他和蔼的笑容依旧是那么亲切，也就属他的面容变化最小了。

杨明良老师是我初三的数学老师兼班主任。这篇报道里他的照片最让我惊愕。在我印象里，他还是一位梳着偏分、穿着黑色西装的精致小伙儿，现在已是两鬓斑白。作为我们的班主任，他比较凶，我们都很怕他。他的板书写得很漂亮。我记得有一次学习数学里幂的概念，他上来在黑板上甩手用正楷写了一个无比端正而刚劲的“幂”字，把我们都震惊了。下课他走了之后还有同学试图在黑板上模仿那个字。和多数数学老师一样，他有用粉笔在黑板上徒手画正圆的本领；借助一块木三角板，想画什么几何图形都可以画得无比规则。而那块三角板也是我们害怕的东西：要是在课上犯事了可能会挨打。我记得有一次有个同学没考好，他就拿着那块三角板直接打碎了那个同学手里的试卷。现在想想都还有些紧张感，不过还得感谢当年这样的严师，要没有他们的鞭策，如今我可能在乡下放牛种地。所以有时我都很忧心现在这种过度保护学生的教育，如果中小学生没了来自老师的压力，将来他们真正面对压力时能知道如何应对吗？

李世华老师是我初三的语文老师。当时学校新建了一个阅览室，但通常都不让学生进去看书，我不知道是什么原因，可能是怕学生读课外书影响学业吧。后来李老师去跟学校力争，让我们每周能进一次阅览室。我在中小学时期的阅读欲望非常强，因为能读的东西实在太少，以前我说过当时即便是在地上捡到一张带字的纸条都会读一读。这个阅览室虽然书不多，但也极大满足了我阅读的愿望。李老师家里是在镇上卖衣服的。有一年腊月我随家里人去镇上置办过年的衣服，转到了他的店里，家里人给我买了件衣服。他见状便吩咐师母给我算便宜一点。说来真是惭愧，我作为学生，实在不应该占老师的便宜。我已经很多年没走进当年那一片服装店了，所以现在也不知道他家是不是还在那边卖衣服。

说到语文，它一直是我的弱项，整个上学期间文科的东西我都不感兴趣（我只对阅读有兴趣，但也仅限于读些故事会之类的东西）。等到我对文字类的东西真正发生兴趣已经是我零九年出国之后的事了。不过其实在我初二的时候，也曾经有过短暂的一年对语文很有兴趣。先说初一吧。我初一的老师叫郭承俊，我奶奶也姓郭，似乎是他的姑妈（我对上一辈的亲戚关系总是搞不清楚），有一年过年他还去看过我奶奶。他也是一个我们都害怕的很凶的班主任。有一次有个同学扛着我在教室后面转圈玩被他看见，他大怒之下把我叫到办公室狠狠揍了一顿，后来还写了检讨书在班上念；他大怒的真正原因我也不清楚，我估计是因为我同学扛着我转圈太危险了。还有一次，调皮而无聊的我在教室里用脚不停踏地面，拍起很多灰尘，觉得这样让教室里烟雾缭绕很好玩；等他来上课时发现教室里灰土飞扬，一气之下叫我们把门窗关好，全体在里面踏步。好在他不知道这事是我带的头，不然我又得挨一顿揍。我刚上初中时，并不知道我们村里发音“i”“ü”不分，比如我们说“下雨”是说的“下以”，直到上他的课时，他讲到这个口音问题我才知道我们读错了好些年。我的语文成绩一般，而班上有个语文学霸，叫易青青，每次写作文都会受到表扬。我还记得老师朗诵了她的一篇作文叫《家乡的玛瑙河》；虽然我从那条河上走过了无数遍，但我从来都不知道原来它还有个名字叫玛瑙河。初二的老师叫张旭东，他用课堂比赛的方式极大带动了大家学习语文的热情；每次提问之后让我们抢答，答对了会奖励一个练习本，就是普通的练习本封面上用红笔写个大大的奖字。虽然奖品普通得不能再普通，但用一个带着奖字的练习本写作业还是很有荣耀感的。我记得有一次学习反问句，他让我们用“难道”造句，我立刻举手，上黑板写下我造的句：难道你是个猪？……对，那时候我就是这么“烂漫”。他看了估计是憋着笑，把“个”字圈出来，说这里的量词应该用“头”或者“只”。不过我还是领到了奖品。初二我的记忆力超好，凡是能找到的课本和课外读物上的诗词我都背下来了，不过如今基本都已忘光，唯一还有印象的是范仲淹的《渔家傲》和文天祥的《过零丁洋》。同英语一样，初二语文也开始学习语法和文法，比如写说明文。我隐约记得有一篇说明文上（也许在课外读物上）有一句“鸟飞反故乡兮，狐死必首丘”。前几年我想起这句话写《[西风无言](/cn/2015/10/wind/)》时，却怎么也找不到那篇文章了；问了我侄子，他也没有印象，看来这又将成为我的一个人生之谜。张老师教给我们的不仅仅是课本上的内容，还会讲一些杂七杂八的东西，比如天干地支易经八卦之类的，虽然这些对考试毫无用处，但还是勾起了我对远古文化的兴趣。

陈勇老师是我初三的政治老师，那时他是一个年轻小伙，现在看来也是一位大叔了。我一直都很不喜欢死记硬背的历史和政治这两门课，无奈初一和初二教历史我们历史的两位老爷爷都超凶（初一的老师姓陈，初二的忘了，只记得他好像是我们班一个叫刘博的同学的外公，身体不好，常年戴个帽子，自己特爱背诵毛主席的《沁园春 · 雪》）。这历史背也得背，不背也得背，那时候上晚自习经常就是在昏黄的荧光灯下咿咿呀呀背某历史事件发生于哪一年、某句话是哪位名人说的，考试的时候趁老爷爷去别的班巡视赶紧掏出书来心惊胆战地抄几句。到了初三好不容易不用学历史了，可又来了政治课，我的成绩一直差得不像话，勉强及格就不错了。我对陈老师印象最深的一件事是有一次中午在教室睡午觉时，我和同桌不睡觉，在那儿闲聊，被他巡视的时候看见了，等我意识到老师在后面来了时赶紧趴桌上装睡，可还是被他拎着耳朵提了起来，然后罚我们去操场跑圈。具体跑了几圈我已经不记得，总之打那以后我的政治课成绩就变好了，之前背不下来的东西都能背了。上课讲的那些什么社会主义初级阶段目标之类的东西我自然已经都抛诸脑后，只记得他闲聊的时候讲他看了一部美剧，里面有个法官，每天白天审案子，如果觉得按照法律无法实现正义，晚上便化身为民间大盗去履行他认为的正义，比如暗杀坏人。有段时间他有几颗门牙不知出什么事掉了，但还是豁着牙给我们上课。

前面说了一些照片中出现过的老师，还有一些老师，这二十年来我再也没见过或听过他们的消息。可惜我的这些母校通常也没有官方网站，所以我很难找到关于他们的消息。过去我的高中尚有官网时（现在没了），我有时候会在那里面看好几个小时，找找我的老师们有谁还在学校。下面再简略回忆几位没出现过的老师吧。

我初三的物理老师应该是叫许斌（我对姓不太确定，但名应该是斌），瘦高个，和数学老师一样，偏分加西装，讲起话来喉结很明显。我那时是物理科代表，任务主要就是帮老师跑跑腿，拿上课试验的仪器，或是课前把作业本从办公室拿回来发一下。有一次我奔去办公室拿了作业还是试卷什么的，回来在教室门口打报告，顺便做了个鬼脸，逗得班里同学哄然大笑；因为他看着讲台下面没看门口的我，所以不知道发生了什么，以为同学们在笑话我什么，所以把大家训斥了一顿。这么想来物理老师也对我很是偏爱。物理化学都是上初三才开始学，我都觉得很新奇。记得一次做分子间引力的试验，也就是把两个表面非常光滑的金属棒对接，它们就会粘在一起。回家之后我还特地拿两个电池磨平了负极，试着看它们能否互相吸住，但始终没有成功。初三可谓是我的科学萌芽阶段，只因素材太少，在家能做的试验有限，我唯一的发现是一种紫色的菜汁加洗衣粉会变绿，以及装在小瓶子里的桔子汁加洗衣粉会释放气体把瓶盖弹开。有一次家里要拿硫酸铜配药杀虫，我如获至宝，毕竟书上出现过的化学物质在生活中都不太常见（除了石灰），不过硫酸铜作为一种盐并没有什么好玩之处，只有酸碱才有点意思，于是我只能加热水溶解它，然后冷却重新结晶，看能否结成六边形，蜡烛熏黑了无数个玻璃瓶，也没成功。无论如何，我想这些老师都成功把我领进了科学的门槛。

初一初二的地理老师叫张美兰，她是我姑妈（非直系，所以与我不同姓）。和前面的张玉玲老师一样，她也是一位精致时髦的老师，但她要严厉得多，对我们要求很高。同历史政治一样，地理也基本靠背；世界各地属于什么气候带、全国各地的铜矿铁矿锡矿都背得滚瓜烂熟。有一次晚自习是地理，别人都在哇哇背，而我和后面的同学（就是前面提到的那个刘博）则在那儿聊天。后来我用眼角的余光看见她进教室了，但心里仗着我是她侄子，觉得应该不会把我怎样，所以狗胆包天地还继续跟后面的同学说话。她走到我面前，那样子用丰子恺在《我的母亲》中描述的，就是“眼睛里发出严肃的光辉”，瞪得我心里发毛，又窘迫又害怕。

初一数学老师是一位老爷爷，应该是姓易（易仁元？）。那时我对数学很有兴趣，经常自学后面老师还没讲的内容。老爷爷很强调答题规范，比如三番五次跟我们说解题不要写下“解：”之后就直接写等号，而要写“上式 =”。他也是第一位纠正我的名字的老师。我在我们家如果按家谱辈分，应该叫谢玉辉，我的堂姐弟都是用的玉字，所以我小学期间在作业本上都是写的玉字，而我的户口簿上登记的是益字。为什么会这样呢？显然这就是因为我前面说的，我们村里人过去说话不分“i”“ü”；估计我爹去报我的名字时，人家就写成益了。有一次老爷爷终于疑惑地质问我到底叫什么名字，跟我说如果户口簿上是益字，那你就用益字，以后不要写玉了。从那以后，我才开始用我的“官方名字”。那老爷爷当年教我的时候，看样子像是过了六十的人了，但愿他如今依然健在。

初二的数学老师我忘了他的名字，似乎姓付，是很和蔼的一位老师。我不记得上课的事情，但记得学校有段时间开展课外活动（应对刚兴起的所谓的素质教育），同学们自己选择兴趣班。我选择了他的班，应该是类似某种劳动或手工活动班。他坐下来开讲，第一句就是“我是万能的”，意思是他会很多手工活儿；后来教我们折五角星，还给我们讲冰糖葫芦是怎么做的。

至此只剩下生物老师没出场了，而我对生物老师的印象也最模糊；初一的生物我已经回想不起任何东西（也许带过鱼和青蛙去学校解剖？），初二是一位男老师，我不记得他的名字。唯一有印象的是我当时觉得血液循环系统好复杂，从哪个心房流哪个动脉又流哪个心室，一直没弄明白，直到初二结束时的历史地理生物会考前几天，我在操场上看书时才顿悟。

那篇报道中还有一位老师没教过我，但我还记得她，就是向华老师。初一时我在三班，任清洁委员，她是二班的语文老师兼班主任，对待学生非常和蔼。二班三班教室之间是楼梯，所以这两个班在打扫卫生时要负责共同打扫楼梯。大概是有一次两个班打扫卫生的同学都不愿多扫一点点，所以楼梯中间没有扫干净。后来她把我和他们二班的清洁委员（姓龚，好像叫龚自强）叫到一起，大意是说让我们成为好朋友，一起督促自己班里的同学把楼梯扫干净。我记得这位同学是因为他的名字和龚自珍相似，而且他的字写得很漂亮，在学校的书法比赛中得过奖，我甚至都记得他写十字部首时，写完一横后不提笔，而是会向左画个小圈绕到上面写那一竖。有段时间我也模仿过这种写法。

以上是我用尽洪荒之力对二十年前的初中老师和部分同学的回忆。没有什么比[时间](/cn/2016/12/time/)更能打动人：人的一生有几个三十、四十年？这些老师扎根乡村，一扎就是三四十年。他们才是世间的真英雄，而我们这些所谓的桃李都自愧弗如；我们飞出了乡村，过上了自己安逸的生活，对家乡毫无回馈。每次回国回家来去匆匆，希望下次能有机会去看看当年的恩师们吧。最后我凑一首水调歌头，聊寄一缕悠思：

> 卅载芳华逝，青丝染秋霜。谁念黄土地上，旭日变斜阳。入学耳提面命，谆谆醍醐灌顶，慈严爱无疆。无声细细润，壮志暗暗藏。

> 学成去，犹懵懂，别寒窗。建功立业，原是昔日顽赖郎。怜我桃李育者，红烛初心不忘，春蚕长守梓桑。蓦见旧师面，悠思越重洋。
---
title: 图形语法、哥哥作图以及令人生疑的致谢
date: '2018-11-05'
slug: gg-acknowledgement
---

两年前我看见[蚂蚁金服可视化团队做的的 G2](https://github.com/antvis/g2) 时，心里就掠过一丝疑问。它的首页用醒目的文字写着：感谢 Leland Wilkinson 的图形语法（Grammar of Graphics）一书，它奠定了本软件的基础。

![G2 对图形语法的致谢](https://user-images.githubusercontent.com/163582/48026349-6cbcc300-e10b-11e8-881d-8721945a4bc9.png)

我的疑问是，G2 的作者们真的是直接接触到这本原著而萌发的写一套软件的想法吗？显然客官们知道我想说的是什么。图形语法一书出版于 1999 年，我斗胆猜测，要不是哥哥作图（ggplot2）对这套语法的惊人软件实现，这本书至今应该还在多数图书馆角落里继续攒灰。以下是这本书和 ggplot2 的[谷歌搜索量对比](https://trends.google.com/trends/explore?date=all&q=%2Fm%2F06djfgz,ggplot2)，有压倒性优势的红线是 ggplot2，那匍匐前进的蓝线就是 Wilkinson 的书。

![The Grammar of Graphics 与 ggplot2 的谷歌搜索量](https://user-images.githubusercontent.com/163582/48025806-04b9ad00-e10a-11e8-93b6-04bf063f3042.png)

所以说在致谢中只提这本书，而不提 ggplot2，我认为有不实诚的嫌疑。当然，我只能说有嫌疑，万一作者真的是没听说过 ggplot2，而就是在某藏经阁中发现这本易筋经而练就了绝世武功呢。

我之所以想起这件事，是因为前几天又发现一个惊人相似的致谢。微软也开始开发一个可视化的包，叫 chart-parts。它的[介绍第一节](https://microsoft.github.io/chart-parts/documentation/introduction)就赫然挂着图形语法书的封面图片，然后说它是自己的根基。

![chart-parts 对图形语法的致谢](https://user-images.githubusercontent.com/163582/48026405-9c6bcb00-e10b-11e8-887a-fb0f97bf784b.png#border)

我仍然觉得这不太实诚。缺乏自信的人总喜欢用一套看起来高深的理论体系给自己撑门面，因为世人总觉得理论高于实践和实现。如果说自己的软件受 ggplot2 启发，则让人感觉这只不过是图形语法的孙子；而如果说自己的软件直接诞生于图形语法，那么就是儿子了。其实我翻了一下它提到的 Vega、Vega-Lite 和 Altair，三者没有一人提这本书（至少是不醒目，我翻了一下它们的文档都没找到这本书的痕迹）。

这让我想起郭德纲的名言：只有同行之间才是赤裸裸的仇恨。我就整天如此[小人之心](/cn/2017/05/little-mind/)。
---
title: 最近一则让我有意回复邮件的例子
date: '2018-11-07'
slug: email-reply
---

现在翻我博客的人[应该基本都知道](/cn/2018/09/inbox-zero/)，我回复陌生人邮件的概率已经比较渺茫，但这并不代表我会忽略所有陌生人的邮件。其实我回不回陌生人邮件只取决于一条原则：你是否展示了你的用心。我前面说的邮件需要到“催人泪下”的程度是开玩笑的。

昨天 COS 微信群里依含大人发了一个邮件例子，结果引起了大家的热烈讨论。以太云为首的不拘小节的温和派觉得这邮件写得还可以，而还有些人（尤其是学术界人士）觉得这邮件写得完全不及格，收到就该扔进垃圾桶，不用回复。我是倾向后者的，因为那邮件写得太含混不清，不知具体要问什么，让人无法作答。其它问题如称呼、落款、标点符号对我来说算是次要的。还有个小问题很有意思，就是发送者称呼依含大人为“小姐姐”；在这个问题上，大家又分成两派，有人觉得没什么不妥、很欢乐啊，有人觉得太不正式。当然，我也是倾向于后者。如果是第一次给别人发邮件，你宁可过于正式，也不要贸然耍宝开玩笑。前者不会有任何风险，收件人讲究与不讲究都可以接受；后者要是碰到讲究的人就完蛋了。

在《深度工作》一书中的最后，作者有句话让我终于觉得可以卸下邮件重担而不必对别人负疚。他说是否能得到回复主要是发件人的责任，发件人应该自己想办法提高获得回复的可能性。我们为什么要回复写得不好的邮件呢？从发件人的角度来看，我觉得很多人可能都没有想过，自己的一封邮件出去会在别人的邮箱里排多长的队，也就是需要跟多少其它邮件竞争、获得收件人的注意。邮件这种形式总让我们感觉像电话一样是一对一的私人沟通、从而觉得对方一定会应答，但它的异步性决定了它跟电话有本质区别。

前几天有人给我发邮件问一个跟我的一个 R 包有关的问题，按惯例这种邮件我是不会回复的，但这位小主开篇就说“我看过你的博客，知道你不回答这样的问题”，接下来详细描述了其失败尝试，并告诉我这件事已经耗费了很长时间，但限于数据敏感性而无法造出可重现的例子。我看了描述，事情确实是很诡异，而且发件人显得很认真，所以我二话没说就回复了。在一来一去七个回合之后，伊终于造出了一个可重现的例子，然后我一眼就看出了问题所在；虽然这问题解释起来有点费劲（需要额外的背景知识），但我还是吭哧吭哧把原因尽量详述了一番，并给出了解决方案。下面总结一下我为什么回复这邮件：

1. 当我知道发件人已经了解我的邮件标准时，就可以移除其陌生人属性了，何况还伊解释了为什么这问题无法发到公开的论坛上（如 Stack Overflow）；起码人家尝试过了解我的原则，这是用心的体现。

1. 伊没有给我施加任何回复的压力（没有“急！”“求助！”“你是我[唯一的希望](/cn/2015/10/only-hope/)！”），让我感觉即使不回复也会得到谅解，这种情况下反而会让我更有意回复。

1. 第一遍问题描述我并没有完全看懂，但我得到的信息是，这问题相当诡异，伊可以对天发誓这是真实存在的问题，后来还发来了截图为证。这激起了我的好奇心。相比起写代码，其实我对代码查错更有兴趣，我特别喜欢研究为什么代码不能按预期运行这种问题，这样的过程有种侦探感。

在我的标准下，这邮件的中英混杂程度略超标，但在上面三个前提条件下，这一点小问题根本不算什么，我乐意放弃这条个人原则。

颜大站长在上面的微信群中最后的总结很到位：邮件就是时间交换，而双方的单位时间很多时候都不等价（这么说又政治不正确了）。所以发件人需要估摸一下，用自己多少单位的时间能交换到对方一单位的时间。
---
title: 包子
date: '2018-11-09'
slug: bun
---

前一阵子一直烙肉饼，有点跟肉饼杠上的意思：因为我在厨房最怵的事情就是包东西，总觉得包不好，多年前就放弃了治疗。在克制住了找胶水和订书机的冲动、并且捏了好多个里面充满空气的丑八怪肉饼之后，最后终于找到一点包东西的感觉，总算能把饼用包包子的手法捏圆了。其实按我最初的捏法（对折一下用蛮力捏合），也不算太糟糕，只不过是把肉饼做成了煎饺。

这一阵肉饼潮过后我开始了人生第一次正式包包子，主要原因是地里的香菜真的按我之前说的一样，多得可以当饭吃了。去拔香菜就跟拔草一样，一薅一大把。我本来也就是特级香菜控，趁着下雪之前赶紧把香菜都拔回来（今天已开始下雪），放冰箱里猛吃。

过去这些年我发面的酵母都是用普通的酵母，前段时间酵母用完了之后我想着换一种酵母试试。我一直见货架上有速发酵母，但总觉得它会发太快，所以没买过。这次买了一瓶，用了两次之后觉得效果也挺好，发面速度并没有快很多。稍微快一点倒确实能省点时间。最后我通过包肉饼练习出来的弱鸡技能也真把包子包出来了，难得有一次违反了我的人生信条：世上无难事，只要肯放弃。

蒸包子有一个小难点，就是包子蒸出来会粘在锅里。我这种懒厨又不想用笼屉布，而是直接把包子扔在蒸格上，这样更容易粘。然而，在我第二次蒸包子的偶然情况下（又是因为娃回家要吃饭来不及了）发现，蒸完之后等锅里不冒气了就把锅盖揭了让包子先受几分钟凉，然后再盖一会儿，再揭盖的时候就容易从锅里拿出来了。不能第一次揭开盖子就趁热拿包子，那样只要粘住就很容易破底露馅，凉一凉之后皮更结实。估计我这八成是民科经验。第三次蒸包子时，我便用了纯物理方法：用喷雾油先在蒸格上稍微喷一下，一点点就够，再把包子放上去醒发。这个办法的效果奇佳，蒸完之后包子可以轻松拿下。洗有一点点油的蒸格比洗沾满包子皮的屉布容易多了。

因为做包子的缘故，想起来小时候老家吃的一种类似包子的东西叫毛裹团子。不知道这东西是不是宜昌特有的一种小吃，简单说来就是用糯米面混合大米面揉成的面皮，里面包咸馅。因为小时候极少吃到米饭以外的主食，所以包子、毛裹团子这些东西都是千年等一回的美食。我现在对毛裹团子的记忆是我奶奶会在做完饭之后把它架在火钳上（或许是包在某种大叶子里，我记不清了）放在灶里，用灶灰的余热烤烤它，这样饭后就可以掏出来吃了。上面可能会沾一些灰，不过糯米的东西加热之后会很软糯，而且外层会烤得有点焦，非常好吃。不过好吃与不好吃从来都是相对的，在物质条件如此丰富的今天，再让我吃未必能吃出小时候的香来。且待我过段时间试试能否把它复制出来。

顺便跟关心[油条](/cn/2018/09/fried-sticks/)的客官们说一句：油条尚未成功，原因依然不明，不过试验依旧继续，我开始有点怀疑是油锅的温度不够高（我的锅是恒温锅，无法调更高温度）。
---
title: 接受自己的普通
date: '2018-11-12'
slug: mediocre-self
---

前段时间看了一篇文章，宣称多数人过了一定年龄（三十？）之后最重要的事情就是要开始接受自己的普通。这个观点是引用了心理学家荣格。顺便提一下，荣格是《深度工作》一书中第一位登场的大人物。我本科在非典那会儿翻过的心理学家里有荣格，但后来他们的观点全忘光了。这次看见这句话，觉得有些道理，于是按惯例又去放狗搜一下出处和英文版是什么，但并没有找到，只找到他的[一些其它语录](https://www.purposefairy.com/81925/38-life-changing-lessons-to-learn-from-carl-jung/)。抄录几句对我有所启发的话在此（英文原文请点击右键查看源代码，我写在 HTML 注释中了）：

> 当我们不理解别人时，我们倾向于当他是傻瓜。<!-- If one does not understand a person, one tends to regard him as a fool. -->

这是理解之难。[码农界的语言或工具大战](/en/2018/11/english-is-hard/)，在我看来就是出于不屑于理解，从而匆忙下定论，认为对方的语言或工具很白痴。

> 想改变一件事，首先要接受它。谴责只会压制他人，无法使之解脱。 <!-- We cannot change anything unless we accept it. Condemnation does not liberate, it oppresses. -->

这让我想起去年热播的那部《人民的名义》。当然，我肯定是不会看什么热播剧的（热对我来说已经毫无意义，我以前[说过](/cn/2018/01/craving-exploit/)要看就看五百年的头条），我只是大概知道当前热播剧的名字。对我而言，如果是反腐类的剧，那我只对一个点感兴趣，就是它是否表现出了对贪官的深刻理解。我不知道这一点在那部剧中是否有所反映。我对正义的一方如何廉洁、机智、勇敢或高尚没有兴趣，而且认为这样只是治标不治本。如果不能深刻理解贪腐的成长过程和接受它，那么永远无法根治这个问题。刑罚只会压制贪腐，无法使之解脱。

类似地，如果我们想要解放期刊和书籍论文等出版物，靠谴责是没用的，这样做反而更容易带来负面效果：你越压制出版商，出版商的路越窄，那么他就越得提高价钱，所以你的正义之师带来的结果是大家要付更多的钱。如果要抢别人的饭碗，先得替他把后路想好；不到万不得已，不要用压制的方式解决问题。

> 清醒过程中一定伴随痛苦。<!-- There is no coming to consciousness without pain. -->

这话反过来说也成立：在安逸中不太可能诞生什么深刻的认识（及其衍生物，如伟大的作品、事业）。或者说，如果你感到痛苦，那么你很可能正在迈向清醒的途中。

> 了解自身阴暗面是应对他人阴暗面的最好办法。<!-- Knowing your own darkness is the best method for dealing with the darknesses of other people. -->

多数人应该都有阴暗面，问题是一般人都不会暴露自己的阴暗面，所以要对付别人的阴暗，只能靠反省自己的阴暗。

> 人会想尽一切办法（哪怕是荒谬的办法）避免直面自己的灵魂。<!-- People will do anything, no matter how absurd, to avoid facing their own souls. -->

这话表面上听来有些讽刺，但我觉得非常写实。人避免直面自己，是因为自己总有这样那样的缺陷。我们所避免面对的是有缺陷的自己，而又总想象自己是个完人（或者至少理想如此）。

> 世上最可怕的事情是完全接受自己。<!-- The most terrifying thing is to accept oneself completely. -->

这句话和上一句话切合了我这篇日志的标题。我们期望自己在步入中年之后功成名就、智慧满满、头上自带光环，可多数人除了秃头这条路之外，基本上已经失去了发光的可能。接受普通、甚至平庸、有缺陷的自己，的确是很可怕的事情。

不过如今年轻一代似乎开始流行一种“丧”文化，即：没有理想、没有追求、活一天算一天。这种文化下的人也是接受了自己，但这种接受显然是纯粹消极的。我觉得这种文化更可怕。

> 父母未实现的愿望通常是一个家庭最大的悲剧。<!-- The greatest tragedy of the family is the unlived lives of the parents. -->

这句话在缺乏上下文的情况下我不知道荣格真正的意思是什么，但我感觉也是很有洞见的一句总结。父母把自己未实现的愿望寄托在孩子身上，很容易变成孩子一生最大的悲剧。当然，这个不绝对，否则一代人比一代人的追求低，人类就要持续退步了。是否悲剧取决于寄托的强度，以及对孩子实现父母自己的愿望所提供的物质和精神支持。所幸我的成长过程中几乎从来都是自己实现自己的愿望。

> 羞愧是破坏力最强的情绪。<!-- Shame is a soul eating emotion. -->

如果因为失败而羞愧，那就是双重失败。羞愧这种情绪毫无建设意义，所以我们要控制它。如果想要成功，那么一定要具备一定厚度的脸皮来防止羞愧的轰击。认清错误、修正错误即可，[不要轻易陷入负面情绪中](https://www.thecut.com/2018/11/im-broke-and-friendless-and-ive-wasted-my-whole-life.html)。
---
title: 编程之道
date: '2018-11-19'
slug: tao-of-programming
---

有好事之歪果仁用《道德经》和《论语》体写了一篇《[编程之道](http://www.mit.edu/~xela/tao.html)》。这种中西结合的文风读起来很逗，用了不少中国文化里的典故，如庄生梦蝶、庖丁解牛，不知道老外们能否理解这些梗。作者也是故意要搞笑，经常在最后一句来个急转弯，让读者翻车。
---
title: 加餐
date: '2018-11-20'
slug: eat-more
---

我第一次在诗词中接触到加餐这个词是前几年看《古诗十九首》的第一首《行行重行行》，最后一句是努力加餐饭。当时觉得在浓浓古风中突然来这么一句现代白话好违和，甚至有些好笑。看了注释才知道，原来这就是当今保重这个词的古代版。想想其实都是一个意思，加餐就是为了保重嘛。大约十年前我经常跟杨阳说保重保重、保持体重！他还觉得我对保重的解释很好笑。我当时确实只是开玩笑，也没细想过。

今日第二次见到加餐，是在看一篇[关于脱不花的文章](https://mp.weixin.qq.com/s/KrsyjziBOa1v9_TCi6hMQg)时，里面有人提到黄庭坚的一首《鹧鸪天》（原文写错了一个字，吹柳应为吹雨）：

> 黄菊枝头生晓寒。人生莫放酒杯干。风前横笛斜吹雨，醉里簪花倒着冠。  
身健在，且加餐。舞裙歌板尽清欢。黄花白发相牵挽，付与时人冷眼看。

这又是很符合我口味的词，也是我第二次提黄庭坚（[上一次是在 2011 年](/cn/2011/07/subtle-mind-to-great-waves/)）。看样子好的诗词文章大约有两种诞生途径：一种是韩愈《送孟东野序》中说的不平则鸣，一种是淡泊名利（无论是主动还是被动的）之后的生活素描。

这算是一例[饮者留名](/cn/2018/04/alcohol/)了，不喝醉恐怕也写不出这么可爱的句子。歌舞一句让我想起谢逸的《千秋岁》，那也是我最喜欢的几首词之一。

这首词要是用[叔本华的原则](https://ebooks.adelaide.edu.au/s/schopenhauer/arthur/wisdom/chapter4.html)评判的话，作者是妥妥的人生赢家了，因为叔本华讲：人性有一个特别的弱点，就是在意别人对自己的看法。
---
title: 盲人 R 用户
date: '2018-11-21'
slug: blind-r-users
---

2014 年在洛杉矶的 R 会议上我[第一次遇到](/en/2014/07/a-few-notes-on-user2014/)一位盲人 R 用户。确切地说是我一次看见盲人使用电脑。他叫 [Jonathan Godfrey](https://github.com/ajrgodfrey)，从新西兰过来。在那次接触中，我才第一次意识到网络图片的 [alt 属性的重要性](/cn/2017/04/img-alt/)；从此我的 `![]()` 方括号从不留空。

最近我第二次遇到一位盲人用户，叫 [JooYoung Seo](https://github.com/jooyoungseo)，应该是一位韩国人。他是第一次在 rmarkdown 库中报告问题，我们这些视力正常的人可以去看看[那报告](https://github.com/rstudio/rmarkdown/issues/1480)的格式和内容清晰程度（一个错别字都没有）。真是没有比较就没有伤害：他写的报告，连我这么挑剔的人却一点问题也挑不出；而正常视力的人，却屡屡提交一些要是不挤牙膏追问五遍都问不来可重复的例子的报告。

还有，盲人用户都搭好了自己的网站。我翻遍整个网站，只能在其[一篇博客中](http://www.jooyoungseo.com/post/initial-post/)找到盲人的痕迹。下面的顶栏遮挡日志标题我估计靠屏幕阅读器不太能感知出来（有空的客官可以去帮忙修一下 CSS）：

![盲人无法意识到的遮盖](https://user-images.githubusercontent.com/163582/48867883-4c446800-ed9d-11e8-9a92-14ed1100a2d9.png)

所以不禁感慨，多了一双眼睛的我们，究竟多出了多少生产力呢。
---
title: 文非加粗描红不能读也？
date: '2018-11-25'
slug: moron-readers
---

去年我说[淡出微信](/cn/2017/05/wechat/)的时候，槽点里留下了微信公众号没有展开说。其实我后来在说[配图](/cn/2017/06/illustration/)问题的时候已经算是开启了对它的吐槽。如今我是越来越烦公众号文章的排版。我并不是说排版难看好看的问题，而是极度厌恶现在流行的这种每篇文章里都有作者或小编特意加粗或描红的文字，也就是划重点。

是我们的脑子都变成马桶了么？

这种划重点现象不禁让我想起今年早些时候我看的大前研一的《低智商社会》，它炮轰了日本的丧文化、人们不再独立思考；等明年有空我再总结这本书。我觉得要是每篇文章都经过作者自己划一串重点的话，我们会跟日本一样，迟早会变成低智商社会，因为我们的阅读模式会被自动训练成直奔重点、忽略上下文。

有人可能会辩解说：现在读者都超忙啊，要是不划重点，我连那几个重点都没法传达到他们眼中，就更不用指望有谁能看完我这八千字的文章了。对这样的作者，我只能说您跪得太快。子曾经曰过：仁者无忧。要是冲着阅读量过十万这样的指标去，那就不是仁者，注定只能跪着写文章。

我当然算不上什么仁者，也不是智者，[顶多算个勇者](/cn/2018/03/genius-penalty/)，所以经常狗胆包天，不能说胆大到能冒天下之大不韪，但起码逆势而行的胆子还是有的。微信公众号流行，我就偏不趟这趟浑水。别人加粗描红划重点，我就坚守我的奥卡姆剃刀：若无必要，勿增格式。[别人显示阅读次数](https://github.com/rbind/yihui/issues/18)，我除了正文，任何多余的元素都砍掉；除了死磕无比枯燥的纯文本之外，在这儿你啥多余的事情也干不了。我之所以能有这个狗胆和定力，是因为我坚信只有那些能通过我的大量无情纯文本测试的读者，才是真正值得我结交的人，而且我并不在乎这样的人的数量。注意这里我没有褒贬任何人的意思，仅仅是我自己用一个特殊的办法筛选我要的读者而已。

说到排版，我觉得现在可以揭开我两年前一个隐秘的腹诽了。前年我写 bookdown 的书时，[在前言中讽刺了 LaTeX 排版控](https://bookdown.org/yihui/bookdown/why-read-this-book.html)，但我不知道有多少人注意到并看懂了。里面举的例子是针对 JSS 的，问它为何 R 这个语言名称需要放在一个特殊排版命令 `\proglang{}` 中（真的需要把 R 用不同字体凸显出来吗）。最后我说：

> It does not make much difference whether everything, or nothing, needs the reader's attention.

意即：如果一篇文字中处处是特殊样式的话，那跟处处都没有样式是一样的。处处是重点，也就跟处处不是重点一样。能不惊扰读者，就不要惊扰他们。给他们留一点脑力去自由思考，而不要通过形式去步步紧逼，强迫他们咽下你所谓的重点。

若是垃圾，那么加粗之后只不过是变成了加粗的垃圾；若是精华，有脑子的人自然能看出精华，而且各人眼中的精华可能还不尽相同。所以拜托拜托，请各路微信大神停止这种愚蠢的排版，莫再为我们满篇加粗描红。
---
title: 文明及其缺憾
date: '2018-11-26'
slug: civilization-and-its-discontents
---

最近翻着一本弗洛伊德的书，叫《[文明及其缺憾](https://en.wikipedia.org/wiki/Civilization_and_Its_Discontents)》（这里的缺憾我感觉译作不满好像更好一点），到今天早上看完。上次看弗洛伊德应该是大二的时候了，大约是翻过《梦的解析》之类的书，但全然不记得讲什么了，我估计当时我也没看懂，因为我至今都觉得欧洲的思想类著作贼难读，几乎没有我能读懂的，所以我一般也不会去碰这样的书。这次之所以碰这本我本来不愿意碰的书，是因为前段时间看了一个码农的演讲，里面提到了这本书。我完全是被他的一段引用给吸引到这本书上去的（这书本身我依旧没怎么看懂），但奇怪的是，我翻遍这本书也没有找到对应的中文，不知道是不是译者偷懒给漏掉了。我从谷歌图书中找到了他引用的那段文字，发现那只是一大段中的几句，下面是那一整段：

> One thing emerges clearly from a number of general facts: the extraordinary achievements of modern times, the discoveries and inventions in every sphere, and the maintenance of progress in the face of growing competition, have been achieved -- and can be maintained -- only by great mental effort. The demands made on the individual's efficiency in the struggle for existence have increased substantially, and he can satisfy them only by summoning up all his mental energies. At the same time the individual's needs have grown; demands for the enjoyment of life have increased in all strata of society, and a degree of luxury hitherto unknown has spread to classes that were previously untouched by it. Irreligion, discontent and covetousness have proliferated in broad sections of the population. The enormous expansion of communications, due to the world-wide telegraph and telephonenetworks, has entirely transformed the conditions of trade and commerce. Everything is done in haste, at fever pitch. The night is used for travel, the day for business; even "holiday trips" put a strain on the nervous system. Great political, industrial and financial crises carry this excitement into far wider areas of the population than ever before. Interest in political life has become universal: tempers are inflamed by political, religious and social struggles, party politics, electioneering and the immense growth of trade-unionism; people are forced to engage in constant mental activity and robbed of the time they need for relaxation, sleep and rest. Big-city life has become increasingly sophisticated and restless. The exhausted nerves seek recuperation in increased stimulation, in highly spiced pleasures, and the result is even greater exhaustion. Modern literature deals predominantly with the most ticklish problems, which stir up all the passions and encourage sensuality, hedonism, and contempt for all ethical principles and ideals. The reader is presented with pathological characters and with subjects that involve psychopathic sexuality, revolution and other problems. Our ears are excited and over-stimulated by large doses of noisy, obtrusive music. Theatres captivate all the senses with their sensational productions. Even the plastic arts turn by preference to the repulsive, the ugly and the exciting, and do not hesitate to place before our eyes, with revolting realism, the most hideous sights that reality has to offer.

虽然[查理芒格瞧不起弗洛伊德的理论](/cn/2017/12/influence/)，但这并不影响我被这段话吸引住，因为我发现他描述的对当今社会依然适用。下面我简略缩写一下：

- 我们取得并维持了现代文明的成就，但代价是个体的精神压力越来越大。

- （宗教）信仰缺失、不满、贪欲在社会各阶层都有激增。

- 电报和电话网络为贸易带来了变革，所有事情都要十万火急地完成。

- 政治、工业和金融危机将这种急躁传递给了大众，每个人都被迫投入脑力去关心这些事情，牺牲自己的休息和睡眠。

- 于是我们疲惫的身心需要寻求更强的娱乐刺激，但结果是更加疲惫。

- 文学作品只顾叮有缝的蛋、吸引我们的注意力、鼓励我们追求感官享受。我们眼中充满变态的角色，耳中充满狂躁的音乐。

有时候我就想，我们的精神危机是不是该归咎于电报的发明（见《[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)》）。电报的出现，让信息突破了邮递员马车的速度、开始能以光速传播；从这一刻起，每个人就被迫置身于信息海洋中。后来随着互联网的出现，我们便像扔杂耍球的小丑一样，每时每刻都要把一堆信息源轮流扔到天上，而且要越扔越高，因为信息量越来越大。发送成本为零的电子邮件已经够糟糕，然后还不断有业界巨头投入大量人力财力去做[即时通讯工具](/cn/2017/06/im/)，训练我们响应这些工具的提醒；[有人多年前就警告](https://queue.acm.org/detail.cfm?id=966731)我们即时通讯工具对工作效率的致命影响，但这样的声音在行业巨头的笼罩下实在太微弱了。六年前我在[一个文字采访](https://usesthis.com/interviews/yihui.xie/)中半开玩笑说：如果你想向我报告我的软件问题，我希望你给我寄一封带有回信信封的纸信。这样一方面能稍微降低一下我接收信息的速度，另一方面让发件人稍微付出一点成本，他也许能更加慎重思考一下自己想说的问题，而不会无论问题大小一律丢将过来，因为反正没有邮寄成本、只是举手之劳。

互联网除了让信息的发发发变得便利，同时也让买买买变得便利。疯狂的网络购物不能全怪广大剁手党没有自制力，它后面[有无数的技术驱动](https://www.theringer.com/tech/2018/11/21/18105251/black-friday-purchasing-pain-points-buyer-psychology-amazon-deals)，让你剁起手来毫无阻力。剁完发现买的东西只是堆在家里攒灰，但下次一打开购物网站还是会忍不住继续剁。技术进步到底是在让我们享受文明的成果还是成为文明的奴隶？

信息的无门槛快速流通带来的另一个问题就是心理门槛的变化。在《[财务自由](/cn/2018/06/financial-freedom/)》中我提过《人类简史》：第三世界的革命可能只不过是因为那里的人民看到了第一世界国家的生活标准。互联网让我们能看见社会各阶层的人的生活（至少是表象上的生活），所以我们不免会“见贤思齐”。前年我的房产中介带我们看房时，他夫人也跟着一起去，后来这中介跟我们诉苦说：我夫人整天跟着我看别人的房子、记住了每个房子里的最好的部分，回家之后就会开始琢磨在自家置办点类似的家具或设施。我们就跟她一样，可以轻易看见这个所谓文明社会中最文明的部分，然后暗自跟风。弗洛伊德在这本书中提到文明的形态之一是美、清洁和秩序。这里我只说清洁，因为坦白讲，我的个人清洁标准非常低：我不爱洗澡，只会在大量出汗之后才会洗；我的头皮屑问题比较严重，但即便这样我也只有在头很痒的时候才洗。这两年网络文化里开始用洗头来作为重视（网友）见面的标准，不知道是不是多数网友跟我一样有头皮问题。不管怎样，我们在清洁问题上的要求是越来越高，越来越忍受不了所谓的脏。赫拉利在《人类简史》中也说过这个洗澡问题：

> 现代社会丰饶富裕，我们很习惯每天都要洗澡更衣。但在中世纪，农民好几个月都不用洗澡，而且也很少会换衣服。对现代人来说，光是想到要这样生活，就觉得真是臭到要命、脏到骨头里，完全无法接受。只不过，中世纪的农民似乎一点都不介意。这种衣服长时间没洗没换的触感和气味，他们早就已经习惯。他们并不是因为太穷而无法负担换洗衣服，而是压根儿就没有这种期望。于是，至少就衣服这一件事来说，他们其实很满足了。

> 【……】就算是在富裕的社会里，小孩通常也不喜欢洗澡，得花上好几年的教育和管教，才能够养成这种理论上应该很舒服的习惯。一切都只是期望的问题而已。

只不过是文明改变了我们对清洁的期望，一定程度上我们在朝洁癖的方向前进。我带着娃在邻居家玩时，如果吃东西掉地上了，我会叫他捡起来吃了（除非是稀的食物，或粘有明显的灰土，但现在的地板都那么干净，哪会有可见的灰土），而邻居则会一阵风杀过来把掉地上的东西马上扔进垃圾桶。这一点估计绝大多数现代父母都会骂我简直虐待娃。我担心的是，他们在这种绝对无菌环境中生长，到底是好事[还是坏事](https://www.bbc.com/zhongwen/simp/science-44215378)。前面[有客官提到](/cn/2018/10/dog/#comment-4150372278)养狗的好处之一是可以引入狗身上的细菌帮我们锻炼免疫系统，我觉得颇为讽刺。我们追求舒适清洁的文明，谁知道是不是最终反为文明所累呢（培养着对特定环境过度依赖的下一代，让他们失去普适性）。

> 由于这样或那样的原因，对人类文明的价值作出评价远非我的打算。我努力使自己不受下述狂热偏见的影响：它认为我们的文明是我们拥有的或者可能获得的最宝贵的东西，并且它的道路必然通向一个我们难以想象的完美的高度。我至少可以心平气和地倾听这样一种批评家的观点：他认为当人们审查文化努力的目的和它所使用的方法时，他们一定会得出这样的结论，即整个努力不值得这样劳民伤财，它的结果只能是一些个人不能忍受的事态。【……】我确实知道的事情只有一件，即人类的价值判断是直接根据他对幸福的愿望的——因此这些判断都是用来为其幻想效劳的论据。

这是这本书的最后几段话。弗洛伊德很狡猾，他假借他人之口说文明的整个努力不值得如此劳民伤财。我作为帕累托法则的信徒，也相信他说的。我只会用百分之二十的努力做完百分之八十的工作，不会再投入百分之八十的努力去换取剩下百分之二十的成果。
---
title: 再论如何完成自己不喜欢的事情
date: '2018-11-26'
slug: gtd-when-you-dont-like-it
---

几个月前我提过一篇关于[如何做自己不喜欢的事情](/cn/2018/06/dread-tasks/)的文章，今天再来一篇。这篇发表在 [ACM Queue](https://queue.acm.org/detail.cfm?id=3280677) 杂志上。这种治疗拖延症的文章[我已读了无数](/en/2017/09/time-management/)，所以闭着眼也能猜出七八分它要说什么（有些讽刺意味的是，这篇文章我其实也是放在浏览器里拖延了好几个星期才看）。里面的五个策略中，只有第四个对我还有点新意，也就是公开谈论你的压力和焦虑。

这个策略的新意在于有研究显示，如果你能用言语描述出你面对的挑战，那么你的杏仁区活跃度会降低（我[前面提过](/cn/2018/06/financial-freedom/)杏仁区负责本能反应，比如情绪），感受到的压力也会降低。前段时间在看统计之都主站[一篇投稿](https://github.com/cosname/cosx.org/pull/772)时，顺便瞄了一眼作者的个人网站，然后发现作者[似乎长期处于焦虑和抑郁状态](https://spsufawi.rbind.io/post/depression/)。他的这种想象的恐惧让我想起去年我提到的《[石化森林](/cn/2017/08/petrified-forest/)》。希望他能在这些公开吐露中慢慢好转。

这种案例在我看过的个人网站中还是少数，多数人都是报喜不报忧。当然，这也可能是因为多数人都没有个人网站、也没有写博客的习惯，所以别人也无从得知他们的所思所想是怎样的，但我估计更重要的原因是多数人都不敢公开谈论自己的失败，毕竟[世上最可怕的事情是完全接受自己](/cn/2018/11/mediocre-self/)或直面自己的灵魂。焦虑的原因通常是两种，一种是自作孽（人祸），一种是不可抗力（天灾）。若是天灾，那焦虑也没用；若是自作孽，那我们会倾向于憋在心里，这样反而会让焦虑升级，更不利于解决问题。

无论如何，我觉得治疗拖延症得有一个重要的前提，这个前提也容易被人忽视，就是先要保障自己心情舒畅，这一点听起来有些自私，但脱离了这个前提的努力、用功、对天发誓都很难持久。
---
title: 博士劝退书
date: '2018-11-27'
slug: phd-or-work
---

前段时间看了一篇文章谈文科博士的迷茫：《[这一波文科博士经历着最真实的丧。念书，还是工作？](https://www.douban.com/note/693025894/)》。这里面描述的问题应该不局限于文科博士：文凭市场已经明显通货膨胀、学科之间的隔离墙越来越厚、专业越来越碎片化、学位批量生产、学生同质化。

今年我刚得知连小轩哥都去做博士后的消息时还是吃了一惊的。以前从来都是生物坑里的坑主们读博士后，现在怎么都轮到统计坑的坑主们了。轩哥这么厉害的人物，从名校（普度众生大学）博士毕业，都觉得自己本事不够硬。我觉得他自己一贯的谦虚是一部分原因，另一部分原因可能也是现在在学术界自己占个山头越来越难，放眼望去已经漫山遍野都是人，五年博士时间还不够堆出一个自己的小山包。

---

猝不及防跑题一下：当时看完这篇新京报周刊文章后，又手贱点了一下旁边的一篇《[厨房是最后的避难所](https://www.douban.com/note/693576019/)》。这个歪果仁厨师大姐蛮厉害的，看得我都想回国去报个厨师技校学习学习了。她后面提到的奥威尔的《政治与英语》和沈复的《浮生六记》都让我有些吃惊，前一本我没看过，目前微信读书上也没有，将来有机会得翻翻。
---
title: 脱不花的三盏灯
date: '2018-11-27'
slug: tuo-bu-hua
---

2018 年已经只剩下一个月。这一年我在微信上可以说只读到了一篇好文章，那便是脱不花的自述《[照亮我职业生涯的3盏灯——奥美大神、易筋经和大和尚](https://www.sohu.com/a/277056018_100002975)》。[众所周知](/cn/2017/01/blog/)，我已经两年多不听罗辑思维，我就不吃知识付费这一套，但这不妨碍我关注它的幕后 CEO。这篇文章的唯一不足就是作者粥左罗的啰嗦：他大可不必在文章之前狗头续貂劝读者多读几遍，在文章之后狗尾续貂再劝读者多读几遍，然后在文章里面还擅自[加粗描红](/cn/2018/11/moron-readers/)。要是拿掉这些打扰读者的狗头狗尾、加粗描红以及脱不花本人的靓照，这是一篇妥妥的精华文章，我确实反复读了几遍。下面是一些零碎感想：

- 脱不花讲故事能力很强（至少是写故事很强，我没听过她讲话），这篇文章让人读来感觉非常顺畅。这可能跟方希对她的写作教导有关。另外，各位客官可以看看，这篇文章通篇几乎没有一处滥用中英混杂。

- 湛祥国手把手教职业菜鸟这件事并不让我感到吃惊，脱不花的描述符合我对台湾人的印象。我想知道的是，台湾人是如何养成这种温良恭俭让的脾性的？为什么我们总是这么暴躁和冷漠呢？

- 脱不花对自卑的感悟，让我看到了[阿德勒的影子](https://www.sohu.com/a/169151018_358836)。

- 求师之心是一种相对少见但极有价值的人格特质。这种级别的扑师之人，在我脑子里回忆一下，只能另外想出一个名字，就是[侯瑀](https://cosx.org/2011/08/meaning-of-traveling/)。别人也偶尔会扑，但扑不出这种鸡血状态。注意不要被扑师的表象误导了，以为能接触到名师就有了成功的保障，我们还要看脱不花在扑完之后自己有多努力。我揣度那些名人名师大概都有传递自己的思想或技能基因的潜意识，所以乐意提前扶持看起来有希望的后辈。

- 牛根生对脱不花办的培训班的评价：这个世界是有心人的世界，钱权都可以靠边站。这话我深切同意，有心人比较罕见。举个例子：在如何赞扬别人这件事上，我就觉得难得见到能体现用心的赞语。当然这事有两种可能的原因，我不确定哪个原因更有可能：一是我们的语言能力在退化（一律都是干瘪的赞啊、牛啊、厉害啊，然后就没有然后了），二是我们确实没有花心思去赞别人。牛根生这句评语本身就是一个很好的赞人例子。

- 高建华在课堂上侃侃而谈，在饭桌上却十分沉默。这让我想起我的顶头上司对我的第一印象，他当年在西雅图第一次听我报告，觉得这厮在台上真能胡扯，可下来在餐馆里吃饭的时候，却发现我从头到尾一言不发。两年后他才对我提起这事，说这样的人真是难以捉摸。在英语世界，我只对谈论技术有兴趣，也只有能力谈技术，其它话题[我都谈不来，也基本上听不懂](/en/2018/11/english-is-hard/)，所以饭桌上我通常只顾吃喝。

- 高建华给脱不花的启示是，一个人仅凭强大的专业力量就可以立足，不需要搞关系，而且也能赢得别人的尊重。这一点大概是如今被大家说烂的[匠人精神](/cn/2018/09/so-good-they-cannot-ignore-you/)的发源（我不知道是两个罗胖中的哪个先让这个概念流行起来的）。

- 修行时与其拜菩萨，不如直接想自己就是菩萨。跪在菩萨面前只能让你的心境永远是菩萨的真子集。

- 前面[我提到](/cn/2018/11/eat-more/)的黄庭坚的词，就是从这篇文章里看来的，之前从没听说过这首。方希这封信，不能说写得多细致、多感人（可能是节选），但这首词的引用是点睛之笔，作为生日礼物，十足珍贵、用心。脱不花感慨现在没多少人还保留着写信的习惯，我有同样的感慨。在通信不方便的年代（手写纸信、邮票邮寄），通信才显得珍贵。现在随随便便戳一条消息就能瞬间发送给别人，不知这些物理的电波还能激起多少心波。

- 方希对写作的建议：写作是麻烦事，有难度才有价值，没难度的事就留给平庸之辈做好了。这个观点契合了我之前提到的《[两个选项](/cn/2018/07/two-choices/)》。

- 长期、规律的写作造就了脱不花的思考深度。所以那些连博客都没有的人，要再不赶紧架好你的 blogdown 网站，就只能吃瓜令人老、岁月忽已晚了。

- 方希认为看书是一种复杂的活动，会看书的人是了不起的。我也觉得真要看通一本好书的确是很烧脑。

- 方希讲不要迷恋工具、不要强调你的工具多了不起，而要证明你用工具能创造怎样的奇迹。这也是我开始信奉的理念。

- 大和尚这一节故事，看似对主人公的启示最深，但对我的启示不如前面那些俗世之人的故事。我觉得脱不花的棒喝感是宗教环境制造出来的。只是在俗世没有这样一个静和净的环境，绝不会是在俗世没有能讲出这些话的人或精神导师。夕阳照进你的办公室一万次你也不会产生任何感悟，但夕阳照进方丈室的书桌一次、书桌上写着你的法名，这样的场景一生只需要一次，就可以震撼到你，它是俗世中几乎不可能出现的场景。于暗夜中为作光明，于失道者示其正路，于病苦者为作良医，于贫穷者令得伏藏。践行这种精神的人在俗世中何止千万（老师、医生、父母），为何要从一个和尚口中说出才有震撼感呢。我感觉脱不花这么厉害的人，在这个皈依佛教的篇章中，竟然处处流露出稚气，对此我唯一能理解的角度就是她大概是压力实在太大，若再不找到一个精神寄托，就会崩溃。这种稚气，主要体现在两件事：她随时带着有大和尚短信的老手机、她听说大和尚要闭关三年之后能急哭。这怎么看都不像佛教徒的举动。
---
title: 脂饼
date: '2018-11-28'
slug: fat-bun
---

书接[包子](/cn/2018/11/bun/)。今年早些时候我试着做了手撕饼，发现油酥吃起来很香，关键是做起来还很简单，基本上就是把油烧热了之后倒两杯面粉进去关火就好，至于油里面是不是要炸一炸葱头，或者是用什么油来炸，以我的嗅觉和味觉来说，差别都并不大。油酥那种吃起来面面的感觉才是主要的。

等我做包子的时候，联想起脂饼来；脂饼是潍坊的传统面食。前段时间[雪宁说](/cn/recipe/#comment-4170175615)我收集的菜谱里没什么北方菜，这个应该是纯北方食品了。简言之，脂饼就是油酥馅的包子。按我一贯的[懒厨](/cn/2018/06/lazy-cook/)作风，我是不会完全按[菜谱](https://www.xiachufang.com/recipe/100144220/)里说的做的：蒸面粉、擀碎、再用葱姜炒，这些步骤我全都省略了。我的油酥就是简单粗暴的热油加葱加面粉加盐，因为我觉得油完全可以把面粉烫熟，为啥子还要蒸一遍呢，就算油没烫熟，到后面包好之后还要上蒸锅蒸，有双重保险在，我才不愿意那么麻烦呢。剩下的事情跟包包子完全一样，只是包好之后压扁一点，头朝下摆放，这样蒸出来才是个光滑的饼。

我用的油是起酥油。这油是我有一次在沃尔玛买炒菜油时偶然发现的，当时我看见一个罐子上写着 Shortening，心想什么玩意儿叫缩短，掏出手机一查，原来是一种油。既然叫起酥油，那是不是可以做千层饼？我看它很便宜，于是抱了一罐回家。打开一看是固态的油。固态油的好处在于涂在面皮上的时候不会像液态油一样漏得哪哪儿都是，所以确实更适合做那些需要分层的面食。用它做油酥的话，可以说好也可以说不好。好在多放一些油没关系，反正它冷却之后会凝固；不好在完全凝固之后会相对比较硬，需要再戳碎了包。这脂饼是用普通的液态油还是固态的起酥油或者传统的猪油，我觉得都无所谓；若怕液态油导致馅儿太稀，大不了就多放点面粉在油里。
---
title: 腐乳
date: '2018-11-28'
slug: fermented-tofu
---

去年冬天翻菜谱时翻到臭豆腐，心想我在老家时，他们冬天都会在一个竹篓子里铺上稻草，上面放一些豆腐块，然后盖上一块布来臭豆腐（我们说的臭豆腐就是腐乳，不是烧烤摊上的那种臭豆腐）。于是我也弄了两块豆腐试试，但放在地下室的架子上沥了两天水之后我忘了去看，后来那些豆腐都干了，以失败告终。我遂以为臭豆腐是一件高技术含量的活儿。

今年又翻见臭豆腐，心里再次蠢蠢欲动。于是再买一块豆腐。这次切块之后不放架子上了，而是放在一个盒子里，盖上盖子。过了第一天，看见盒子里积了一些水，觉得不太对，所以把水倒了。过了第二天，还是觉得里面水分太大，于是把盖子掀开一些。第三天仍然心里不安，觉得这路数不太对，终于按捺不住问了一下老爹，问没有稻草能否臭豆腐，爹说可以，放在盒子里上面搭一块布，等闻到有臭味了就可以了。我生怕臭不充分，所以等闻到臭味之后接着再放了两天，拿出来时豆腐已经臭得很稀了，筷子都快夹不起来。得得，锵锵，得，锵令锵！悔不该，酒醉错斩了郑贤弟、错臭了几日臭豆腐。

当然这事可能也怪我用错了豆腐。应该用老豆腐，我用了中等硬度的豆腐。待我含泪把这一罐稀腐乳吃完之后，明年找来老豆腐再试。

遥想当年上初中时，学校食堂负责煮米饭，学生自己负责菜，可现买或自带。我基本上每周都自带，很多时候都是带一罐腐乳或者[榨广椒](/cn/2018/06/lazy-cook/)，因为它们都不会坏。我爹给我准备腐乳时，里面会放很多香油（我们把花生油叫香油），有时也会混一些野韭菜。这东西偶尔吃吃会觉得还挺好吃，但我是一周又一周地吃，心想着天将降大任于斯人也，必先使其吃两年臭豆腐。上小学和初中时，我有一个低我一级、跟我很要好的玩伴（就是我在《[酩酊](/cn/2017/02/mingding/)》一文脚注中提到的那位），他家境好得多，所以经常带些鸡鸭鱼肉。我们蹲一块儿吃饭时，他就会塞给我几块熏草鱼或腊肠，至今想起还直流口水：蒜苗炒的熏鱼咸、香、有质感，鱼块可以夹起来用嘴撕成一丝一丝的，就跟腊肉里的瘦肉一样；腊肠里的花椒鲜麻、生姜辣、肥肉流油、瘦肉可以在嘴里嚼很久还留有咸味。如今在美帝我自己试过熏鱼和腊肠，吃起来也有那么一点回忆里的味道，但现在终归是没了那个饿其体肤、劳其筋骨的环境。所以就算我食神再世，恐怕也无法重现那时一块熏鱼或腊肉的幸福和满足。
---
title: 中英混杂语之十恶之首：动词 work
date: '2018-11-28'
slug: work
---

抱歉我三天两头说中英混杂问题。四年多前我在《[江阔云低断雁叫西风](/cn/2014/06/on-writing/)》中吐槽这个问题时，江堂提到中英混杂语的十恶之首就是 work 这个词。这个我自然是深表同意。对多数人来说，中文在英语世界的沦陷，大概就是从这个简单的动词开始的。今天我在论坛[瞥见一个回帖](https://d.cosx.org/d/420321)，心生一个想法，要把这些句子统一收集一下，然后给出我认为可以是自然的中文表达。我反对这个词混入中文，主要是因为这个词用英文表达出来通常意思是模糊的，中文则需要你稍微挑选一下用词，让意思更明确。我认为模糊用词会让人的思想也跟着模糊。就算是在英文环境下，这个词的意思也经常是模糊的。我在 Github 上批折子的时候最怕的就是用户只报告一句 "it doesn't work"；这种情况通常我需要追问什么叫 work（即：你的预期是什么、而事实又是什么）。

- 例：这个 rlomax 包不工作吗？还是要做特殊的变形？（作者显然是把 work 再转译为了中文，辛苦了）

    译：这个 rlomax 包不行吗？还是要做特殊的变形？
    
    或者河南话：这个 rlomax 包不中吗？还是要做特殊的变形？

- 例：这微波炉不 work。

    译：这微波炉坏了。

- 例：就连当前最最火的深度学习，99% 的人也只是看到它 work，为什么 work，能不能更 work 都没有详细的理论分析。

    译：就连当前最最火的深度学习，99% 的人也只是看到它管用，为什么管用、能不能更管用，都没有详细的理论分析。

    或：就连当前最最火的深度学习，99% 的人也只是看到它厉害，为什么厉害、能不能更厉害，都没有详细的理论分析。

    注：这句话其实没法翻译，因为不知道原作者想表达的是什么意思。光是说“一个模型是否 work”，听众并不知道是根据哪个原则去评判的（拟合优度低？预测误判率高？系数方差太大？程序代码报错？等等）。

先开个头在此；若各位客官还有例子，还望踊跃提交。
---
title: 老人的故事
date: '2018-11-30'
slug: elder-stories
---

读了一篇[读者来信和编者回信](https://www.thecut.com/2018/11/im-broke-and-friendless-and-ive-wasted-my-whole-life.html)，讲的是一位绝望的读者，作为一个三十五岁的青年妇女，觉得自己的一生失败透顶、一事无成、形影相吊。读完来信，我停了两分钟，想了一下如果换我会怎样回信，但也没想出什么好的角度。我只注意到这位妇女有一句说自己曾经擅长写作、有诗意、热情和好奇心，这是她在整封信中唯一一处把自己描述为一个正面的形象，但也只是针对过去的自己。我要是来分析这个案例，我可能会问那个正面的形象是何时以及如何迷失的，因为诗意、热情、好奇都是很珍贵的品质。就像《火影忍者》中的风影我爱罗对土影振聋发聩的提问：你是何时开始失去自我的？

编者回信的重点在一个词：羞愧。她认为这位读者终日沉浸在羞愧的情绪中，导致世界观都扭曲了；首先需要[接受自己](/cn/2018/11/mediocre-self/)的这种负面情绪，然后才有跳出这个坑的可能。

可能是由于这位读者强调了几次自己的年龄的缘故（仿佛三十五岁已是人生暮年），编者回信时也努力驱除她的这种年龄偏见。她举了一个在飞机上偶遇的九十三岁老奶奶的例子。真是巧了，[我八年前也提过](/cn/2010/10/independent-and-wasteful-usa/)一个九十三岁的老奶奶。人家九十三岁了还能一个人坐飞机、考驾照，你三十五岁的人发个屁愁。

这全都不是我想说的主题。我在看她对这个老奶奶的描述时，意识到我对父辈以及更上一辈的故事所知寥寥。那位老奶奶成长于美国禁酒令时期，但她依然有很多离奇的故事以及好朋友，她的一生至少看上去是很有趣的。这让我又一次想到前面的《[文明及其缺憾](/cn/2018/11/civilization-and-its-discontents/)》，因为我们生活物质条件丰富的同时，似乎并没有带来更多的幸福感；这位来信的读者不知道有多大程度的代表性，总之她对自己的生活深感空虚，但要是从上一辈人眼中来看，她简直就是生活在蜜罐子里。

一个多月前，我去一位老爷爷家帮他捣鼓一个电子设备。闲聊时他讲了一件大约七十年前的事，与这位老爷爷的具体人物关系我记不清了，只记得有一对兄妹（抑或姐弟）因为条件太艰苦，在老家缺衣少食、难以维持生计，妹妹就被迫去台湾看看能否谋生。她坐船告别哥哥之后，就跟家里断了音信。直到她自己已经到了白发苍苍的年纪，才最后得知自己的哥哥那年在分别之后没过多久就死了。也就是说，她哥哥已经死了好几十年了，她的大半生都活在一个以为哥哥还活在大陆那一头的幻想里；刹那间，心中几十年来哥哥在岸上挥手告别的那个画面碎了。听了这故事，我想今世以及后世之人，是否还能理解什么叫魂牵梦绕，或什么叫[李清照说的](/cn/2018/07/lost-bow/)岂人性之所著，死生不能忘之欤。

要是我没有偶然听到这个故事，或者没把它写下来，它大概很快也就要永远消失了。这种事情放在今天是不可能发生的，因为通信是如此便利。一定程度上，通信的高频率也降低了情感强度，因为珍贵往往诞生于稀缺。

我大约五六岁的时候，邻居家的一个婴儿因为大人没看好，自己爬到池塘里淹死了。我隐约记得她家的大人把她倒提着想把水抖出来，但还是无济于事。那是我第一次见闻婴儿夭折，但那时候我对死亡没什么概念。等到我二十八岁，我听闻了我身边的第二例婴儿死亡。那也是在一次上一辈人之间的闲聊中，我偶然听到我姑妈跟别人说她原来生的是双胞胎，后来因为姑父有一次拉肚子上厕所没洗手，导致其中一个孩子感染，最后夭折了。我当时非常震惊，我长那么大，从不知道原来我那从小一起玩到大的[表哥](/cn/2018/03/moldy-sausage/)还曾经有个双胞胎兄弟，这完全不可想象，顿感人生如梦幻泡影。

还有多少我不知道的上一辈生离死别的故事呢？
---
title: 渴望
date: '2018-12-19'
slug: craving
---

关于渴望这个话题，我想写它已经有一阵子了。这里的渴望没有毛阿敏的《[渴望](/cn/2018/09/traveller/)》那么高端，只是我成长过程中的一些幼稚的渴望罢了。我第一次明确想到这个话题是今年一月说[社交媒体制造的渴望](/cn/2018/01/craving-exploit/)时，而第一次隐约考虑这个话题则大概是[七年前](/cn/2011/05/i-hate-exams/)我说那本《金银岛》时了。我写这篇回忆杀，主要是想对比一下我自身现今和过去的渴望。我总感觉现今的渴望太廉价——这些渴望被人为、快速制造，随即又被人为、快速满足，比如点赞和网购。我从小到大渴望过的东西很多，而且多数最终都没被满足，或者至少是没被完全满足，但事后想来，这些无法满足的渴望可能也正是尘世生活的一部分意义。稻盛和夫在《干法》中引用他父母小时候的教导说：年轻时的苦难，出钱也该买。年幼的稻盛和夫无法理解这句话，说把苦难卖了还来不及呢；我想过不了多久，世上应该也不剩多少人能理解它了。叔本华那个痛苦和倦怠之间的钟摆，可能最终会停在倦怠那一端。

## 童话书

我的童年几乎没看过什么童话书，唯一一次有印象的是在表哥家看到一本，被那奇幻的世界震撼到，它吸引我的程度远高于糖果。我在他家没能一口气看完，于是央求他们让我带回家接着看。童年最深刻的精神生活莫过于想象。实在无书可看，只好找高年级的语文书看。我还记得我在大伯家看姐姐的五年级语文课本，里面有《渔夫和金鱼》的故事，边看边脑补那节节变化的大海。虽然我上大学之前都没见过大海，但这想象中的大海也留给我深刻的印象。说到《渔夫与金鱼》，其实多数人生道理真的是早在幼儿园和小学已经学完了；另一个对我影响深刻的故事是《小马过河》，哪怕在我成年后，我也无数次想起这个故事。

后来上了大学，书的匮乏问题一下子解决了：学校的图书馆、海淀图书城、北大校园里的地摊（人大当时没有这个传统）、以及学校周边各种小书店。这书山书海实在令人狂喜。小时候对童话书的渴望并未消失，于是大一的时候我就买了本《格林童话》补课。结果是显然的，那渴望已经过期，不过童话里的道理永远都不会过期。

## 武侠书

待我识字多一些之后，在大伯家捡到一本武侠书，看得如痴如醉。那书没头没尾，我也不知道书名是什么，但里面的故事也让我想象出另一个奇幻的世界，并且还痴心妄想能练就里面诸如铁砂掌、轻功之类的功夫。我还记得有一次验证我的铁砂（脚）掌练到什么程度，从一个水泥台子上跳下来，结果地上一粒小石子儿硌得我抱着脚跳。看武侠对童年的主要影响就是整天棍棒不离手；要不是我学习成绩还不错，搞不好现在成一名撑杆跳运动员了，因为整天杵根棍子到处蹦跶。当时为了找一根笔直的棍子，还把人家新种的杉树苗给偷偷砍了一根。这便是为什么我看[江堂的童年故事](http://jiangtanghu.com/cn/2017/04/10/daddy-story/)时深有共鸣的原因。

我真正看武侠小说已经是出国念洋博士的[第四年](/cn/2012/08/quo-vadis/)，主要是因为中奖得了个 Kindle，然后下载了一堆 PDF，把武侠看个饱，其实也只看了金庸的。初中高中也在别人家捡到过武侠书，但数量也是屈指可数。

## 故事书

与童话书和武侠书相比，故事书没有到匮乏的程度，因为故事篇幅小一些，可以看到的媒介多一些，比如每过一阵子大概可以从别人家找一本新的故事会来看。记得故事会的最后一篇通常是长篇，那些故事我后来基本都忘光了，只有一篇关于用摔坏的手表推断杀人时间的故事略有印象（这似乎不适合小学生看）。七年前我提过那本《金银岛》是我小学时一个夏天跟在一个收旧书的大爷的自行车后面偷偷从他车筐里窃出来的，那是我人生中看过的第一本外国小说。过了这些年，我再找来电子书看了一遍，那种寻宝的神秘感和与敌方交战的紧张感已经消失了大半。

另一个故事来源是我姑父家的报纸，这也给他们留下了一个顽固的印象，就是我去他们家第一件事总是先从柜子里把最近的所有报纸翻出来一张张看。其实我最爱看、最先看的是幽默版块，也就是看笑话，报纸上多数内容对小孩来说都是极其枯燥的，那时候的媒体还没有吸引眼球的概念。

上初一的时候我寄宿在镇上的一位叔父家，我们那里的叫法叫幺爹（其实爹的兄弟都叫爹，比如大伯叫大爹）。极其幸运的是，幺爹是小学语文老师，所以家里有一样绝世宝藏：就是语文教辅。说是宝藏，其实我初一那一年一共也就在他家找到两本。一本讲古代文人的轶事，我看得津津有味，但看完一遍之后就再也没见到那本书；还有一本没什么故事，大概是写教学方面的东西，偏偏是这本没意思的书一直在家，有意思的那本却消失了。

## 蚕宝宝

大约四五年级起，班里开始流行养蚕。最初的蚕卵不知道是谁弄来的，总之后来就变成了开春上课时，同学们每个人胳肢窝里悄悄夹着一团棉花，棉花上放着一些蚕卵。我们就是用这种办法靠体温孵出幼蚕的。刚孵出来的蚕是黑色的，芝麻点大，一口气就能吹不见，养到后面蜕几次皮了就越来越白白胖胖。

我后来成了养蚕大户（几百条的规模），主要原因是我很幸运：我家后面正好有一棵小桑树，我带着桑叶去学校跟别的同学换了不少蚕卵和幼蚕。持续养东西会让人成瘾，因为它很容易带来成就感，不管是养大小动物还是种植物。我觉得这一点最好的体现就是养娃，当然种菜也是一个很好的例子。当你看着一个生命一点点长大时，就会跟它建立越来越强的连接，也就是火影中说的羁绊。我小学三年级的时候用一个矿泉水瓶子装了些沙子，里面放颗花生，放教室后面每天浇浇水，后来那颗花生真长大了。这是我对种东西最早的记忆。后来我捡到一个破葫芦，在后院种了一颗籽，到夏天那棵葫芦就顺着花椒树长得铺天盖地，一个夏天吃了不少美味的葫芦炖腊肉。

养蚕的一大乐趣是听它们吃桑叶：是听，不是看。一纸箱子的蚕一起吃桑叶时，那咔哧咔哧的声音让旁听者觉得很满足，会盼着它们快吃快长大。蚕吃了桑叶会拉黑色的小颗粒屎，那时候的我也算是一位铲屎官，每天把一条条蚕从一个盒子挪到另一个盒子，好把屎倒掉。我第一年养蚕比较成功，后来它们都吐丝、结了白色和金色的茧子把自己包起来，最后变成蛾子、咬破茧子出来交配产卵、死掉，第二年我就有了大把的蚕卵。第二年养蚕时发生了一次不幸的事故：我怜悯蚕在室内太冷，于是把箱子搬到后院让它们晒晒太阳。等我从外面玩回家时，箱子里白白胖胖的蚕宝宝一条不剩，都被鸡吃了。我被自己生生蠢哭了，咋忘了鸡这个天敌的存在！其实类似的事情还发生过一次。一日我爬树掏鸟窝，掏得几只刚孵出来的小鸟，看着仿佛小鸡仔一样。我欣喜地捧回家准备养着，仍然是等我从外面玩回家发现小鸟不见了，地上只剩几根鸟毛；后来我强烈疑心是被邻居家的猫偷吃了。就像辛辛苦苦种的白菜被猪拱了，也便造成了我儿时对养蚕的遗憾和渴望。

再后来，不知为何大家又不养蚕了。我没了蚕卵，便开始异想天开，随便抓一些普通蛾子关在盒子里，想让它们产出蚕卵来，或是到桑树上仔细找找，看能否找到疑似蚕卵的东西，甚至想抓条毛毛虫回去养，看能否变成蚕。这事自然是以失败告终。上初中后一周才回家一次，没了养蚕的条件，因为没法每天去喂，所以养蚕的梦想也就结束了。

养蚕之事过了多年，我到美国之后又想了起来，心中依旧念念不忘，但不知道哪里有桑树，心想要是能找到桑树，也许下次回国可以偷渡几粒蚕卵过来重操旧业。今年夏天我在家附近的小公园遛娃时，终于第一次在美国见到了一棵桑树，上面已经结了很多桑葚了。可能是我以前眼拙，我本来也是动植物盲，也许桑树很常见，但我没留意到过。不知在美帝本土能否搞到蚕卵，毕竟偷渡有风险。

## 电视机

和我的同龄人一样，我小时候有极大的电视瘾（同时要时刻提防大人回家被发现），主要是爱看动画片和武侠片。小学期间一直只能在别人家蹭电视看，直到快上初中了家里才有了电视机。因为蹭电视无法保证连续性，所以有些片子缺头、缺尾或隔三差五缺一集。更夸张的是有些动画片我是纯粹只能靠别的同学讲来听，比如我对圣斗士星矢的了解全来自于同学的口述评书（我还记得一次上学路上走到学校外墙了，一个高年级同学讲到舜被石化的场景），这片子直到我上大学了才看到它真正的面貌。动画片中我最喜欢看铠甲打斗类的，比如《魔神英雄坛》和《魔神坛斗士》，这时候我已经可以在自家看了，但还是会碰上停电。后来还有一部《天空战记》有些类似，但我只在别人家看过一两集，只记住了里面有个修罗王一平，还有若干其它不知名的王，总之念念不忘，也是等到上大学后才补上。非打斗类其实我也喜欢看，现在印象还比较深刻的是一部《大狗副警长》，我每天晚上蹲在我叔家和堂弟一起看。

作为一个情商和理解能力发育迟缓的小朋友，我至今记得有一次在邻居同学家看《聪明的一休》时，看着看着他突然说马上就要结束了。我当时很惊讶，心想你怎么知道这一集要播完了呢，现在只不过是一休和尚看着一群乌鸦飞向远方的落日而已。长大之后回想，这种乌鸦飞向落日的画面确实通常意味着结束，不过以我当时的脑子，是无论如何都无法把这两件事联系起来的，也不知道故事情节到哪里算是接近尾声了。

武侠片看了一箩筐，印象最深的还是《九阴真经》，我已经[提过几次了](/cn/2017/02/nakasendo/)。这部片子我是某个暑假在二舅家看的，最后黄药师和欧阳锋三场决斗的场景深深印在了我脑子里，因为当时实在是太担心黄药师打不过欧阳锋。这片子长大之后重看仍然觉得很经典，只不过欣赏的角度跟小时候很不一样了。以前[我还提过](/cn/2014/12/the-gadfly/)《莲花争霸》，这部剧播到最后一集时，我家电视不幸坏了，只有声音没有图像，所以大结局我是从变身收音机的电视机上听来的。大一时，我在宿舍走廊上听到隔壁宿舍有人在放《莲花争霸》的主题曲《江湖路》，心想原来这片子在湖南也播过（进去看见是班上一位湖南小哥在放音乐）。至今我车里还有这首歌。小学六年级时还播过一部《仙鹤神针》，剧情我忘光了，只记得大结局大概是正派主角用一片炸了很多洞的树叶对着一本秘笈，终于发现了秘笈的读法原来是每隔几个字连起来读（这加密办法也太低端了），于是瞬间学会了神功。现如今我车里也仍然有叶丽仪唱的这部剧的主题曲。还有一部剧叫《小侠龙旋风》，我在我那个[最要好的小伙伴](/cn/2018/11/fermented-tofu/)家看过一集，觉得很奇幻，符合我的胃口，后来不知道是什么原因没有接着看。前几个月[列弛说金丝大环包](/cn/2018/08/serious-japanese/#comment-4101379223)的时候我一看就知道，这也是看过《白眉大侠》的主儿。有一阵子播陆小凤，也是碰上我家电视坏了，我爹叫了人来修，我仍然守在电视机前，看那荧屏画面随着维修工的捣鼓时有时无，每当画面从清晰转向麻点时，我都急得直喊哎哎哎你不要再动电视了。

无论是动画片还是武侠片，满足的都是想象力，或许还有一些英雄正义感（比如《包青天》，但这剧中铡刀铡下满地滚的头经常吓得我接下来几天都有心理阴影）。现实世界中我杵根棍子、用吃奶的力气也蹦不了一米高，所以那个虚拟的飞檐走壁世界才格外吸引人。动画片和武侠剧我大概还知道是假的，但当年还播了一部神剧叫《排球女将》，这对小学生来说就有些难辨真假了；主角小鹿纯子那跳起几米高的必杀技让我们无比羡慕和崇拜，我被这片子吸引得入了迷，在我叔家看完回来后还要捡个玉米棒子苦练旋转日月和晴空霹雳的招数。神话类的电视剧自然也能满足想象力，这里面对我这代人影响最深的可能不是《西游记》就是《新白娘子传奇》。小学时的我偶尔一次在别人不知是初中还是高中的语文课本上读到《论雷峰塔的倒掉》时，心里还激动了半天，因为那里面提到了白娘子，于是翻来覆去看了几遍，看是否有更多关于白娘子的消息，然而并没有，怪鲁迅惜字如金，我只知道螃蟹里面可能有法海，但我捉到过的螃蟹里也并没有见到他说的法海。我的一位高中同学上大学之后学会了制作多媒体，第一件作品便是一套儿时女神白素贞专辑，谈起这个都能看见他眼中摇曳的小火苗。我小时候有一次对面山上有人家用大喇叭放《千年等一回》，听得我心潮澎湃；在村里能听见一次放歌的机会实在太少，就更不必说放《千年等一回》了（现在这也是我车里的曲目之一）。上初中时，有一次去远处走亲戚，他家正放着《封神榜》，我也就那天看了一集，以后再也没在别的地方看到过，我们自家的电视没有那个台。

小时候的这些着迷和如今让我们着迷的事物对比起来，有两个显著的区别。一是小时候的迷恋是有尽头的：剧播完了，也就完了。二是无论你如何着迷和渴望，你都无法对抗一些物理条件，比如停电或电视坏掉，一天只有一集，错过就错过了。如今的剧，最大的特点就是可以无限看；优酷土豆爱奇艺油管子，任何一家视频网站，只要你打开，你就可以娱乐至死，没有数量限制，没有频率限制，没有电源限制，没有硬件限制。还有一个可能因人而异的区别，就是我小时候的迷恋会影响我的物理生活，比如我会自制飞刀或打狗棒，或爬树、上房（我能活到今天也算是个奇迹）。如今这个世界制造的迷恋和渴望更像是一种精神鸦片，它只会束缚我们的脑子，甚至对我们的物理生活有害，比如因为一部剧可以一口气看完而不必苦等，所以我们很容易通宵看完它。我们渴望更高品质的衣食住行，但《渔夫和金鱼》的故事早告诫我们，这种渴望不会有好下场。

弗洛伊德在《文明及其缺憾》中提到一种廉价的幸福，是那种在寒冷的夜晚把脚伸出被窝冻一会儿再缩回来的幸福。如果我们现在想重现小时候的幸福感，可能唯一的途径就是这种缩被窝的方式了。且不谈这种方式多幼稚，就连我们是否还有能力把脚伸出温暖的被窝都是个问题，因为如今的被窝实在太温暖。

## 西红柿

吃的方面我曾经有很多渴望，先从西红柿说起。我家菜园里通常是夏天一园子青椒，冬天一园子萝卜白菜。小时候我很羡慕别人家夏天种西红柿，也不知为什么我家不种（后来想想应该是大人实在顾不上，而且青椒种了可以卖，西红柿则不然）。因为常年吃青椒萝卜白菜，我觉得西红柿都是人间美味。

如今在美帝自个儿种过西红柿之后，才又一次觉得西红柿是人间美味；这次不是因为稀缺，而是超市里买的西红柿通常确实没有西红柿味。自己在土里种出来的西红柿，吃在我嘴里有一股味精的味道。小时候因为没什么零食可吃，我有时候都会倒几粒味精在手心舔舔，也曾从花椒树上摘几粒青花椒，直接生嚼，麻得相当过瘾，坐在屋外台阶上低头看嘴里被麻得哗哗下流的口水。

## 方便面

农村人一天三顿并没有什么区别，早中晚都是大米饭就菜，不像城里人，早饭是一顿特殊的饭（多为面食）。我小时候有些同学的家长不愿大清早起来做饭，就给孩子买几箱方便面（我们当时叫快餐面），早上起来泡个面了事。我很羡慕有方便面吃的同学。当时有两种味道的方便面：麻辣和鸡汁。大家会攒下一些调料包，放学路上把那些粉末倒手里添着吃。我其实也吃过一段时间的泡面，所以也吃过调料包。那麻辣味道的调料确实是又麻又辣，有时候我嫌干吃太辣，就从水缸里舀一瓢冷水，把调料包冲着喝，也很解馋。这种对方便面的馋从小学延续到了初中。上初中时，住校的学生是两个人睡一张床，我同铺每天晚上都会拿一包方便面在床上摸着黑干嚼，有时候也分我一块。前不久[我提过](/cn/2018/10/middle-school-teachers/)我初中班上有两个小混混头目，他就是其中之一，不过他跟我关系倒是不错，不知他如今身在何方。到了高中，我吃泡面便纯粹是为了省钱，也是在这三年里我彻底吃够了泡面，后来再也不想吃了。

## 青桔子

再说水果。小时候上街赶集（我们方言叫赶场），闻着街上的苹果香蕉味馋得不行，但几乎没机会吃到。我唯一还有印象的是有一次我爹赶集买了四个苹果带回来放桌上，等他再出门回来时，这四个苹果已经在我和我弟肚中。他当时假装批评了我们。过年时有些亲戚家会买甘蔗，这货让人又爱又恨，因为它很甜，但吃起来实在费牙，这也是[江堂提过的](http://jiangtanghu.com/cn/2017/04/10/daddy-story/)；我啃得牙龈出血是常有的事。一年中毕竟过年也就那么几天，剩下的日子里几乎不会有机会啃甘蔗，一个解馋的办法是啃玉米杆，那里面的芯也有轻微的甜味。

村里自产的水果基本只有一样，就是桔子。柑桔和稻谷是我们那里主要的农作物。我对桔子的渴望有两个时间段：一是早熟的桔子刚刚能有几个可吃的时候，那时我爹上山劳作回家会剪两个青皮桔子带回来，虽然还有些酸苦味，但对熬了大半年的我来说已经是上等美味；二是过年过后剩下的黄桔子：每年每家卖完桔子之后会留一些放在干稻草里储存，到过年时拿出来招待客人，青桔子从秋天放到冬天皮会变黄，瓤也会变甜，过年过后好吃的都吃完了，只剩下桔子，由于天气仍然很冷，所以桔子都冰冰的，于是我也喜欢吃又冰又甜的桔子。有时候我弟给我剥个桔子，我都会嫌他的手把桔子瓤捂热了而去草堆里扒一个出来重新自己剥。如今在美帝吃不到刚成熟的青桔子，只能买到熟透的黄桔子，这种情况下只有放冰箱里刚拿出来的桔子才能让我吃出回忆的味道。

最近这几个月我哄娃睡觉的音频是梁冬和吴伯凡的《冬吴同学会》，我总觉得这位我以前没听说过的吴伯凡同学像是我的一位知音，他讲的很多农村往事都让我很有共鸣。有一期他提到小时候剥桔子时桔皮上的油会滋到眼睛里，这正是我吃桔子印象最深的生活体验之一。在我小学上学路上，我经常带着一个桔子在路上剥，一路走一路把皮扔到池塘里，看那桔皮的油在水面像放烟花一样爆炸、散开、五彩斑斓。

## 偷柚子

人穷的一个结果是总盼着捡便宜。一笔意外之财通常能带来无比的满足感。比如我有个同学曾经捡了五块钱，立刻去买了根两毛钱的雪糕吃，可把我眼红坏了，因为五分钱的冰棍对我都是奢侈品。我小时候最大的一笔意外之财是有一次在一个池塘边的草垛里找到十几个鸡蛋（里面好像还有鸭蛋），来回跑了好几次终于把它们都搬回了家。有些鸡鸭不愿意把蛋生在鸡窝里，于是找一个草垛藏里面下蛋，不想被我无意发现了。打那以后，我就经常在各家各户屋外的草垛里扒拉，也曾零星找到过几个蛋，没再有过那么辉煌的成绩和狂喜。

实在没便宜可捡的时候，我们的口号是创造便宜也要捡，也就是去偷鸡摸狗。当时有个大爷种了一片柚子树，树林就在我那最好的朋友家门前。等到柚子成熟时，大爷会时不时进树林巡查一番。有时候要是我们俩正在作案，就赶紧爬到树上躲着他，大爷在下面用眼睛扫扫没人也就走了。有时候大爷意识到有人偷过，也会对着空气破口大骂。这时的我对柚子是一种紧张而刺激的渴望。

我也曾觊觎过别人种的梨和桃，但这些树不如柚子树大、种得又稀疏，作案环境不好，容易被人看见，所以没敢下手。

当然，作案也不能太频繁和猖狂。一种正常的、不会挨骂的捡便宜方式是在果农收完果实之后去找人家摘剩的，比如桔子。这也是很有趣的活动，主要是剩的肯定不会多，得仔细一棵棵树去找。虽然桔子本身不是什么稀罕物，但这种人为制造出来的稀缺条件会让我产生一种渴望：爬了二十棵树之后终于找到一个别人没注意到的桔子，也是让人很欣喜的。

## 红薯干

夏天很多人家都会晒红薯干，我们管红薯叫苕，而红薯干则叫苕米子。我家也晒，但晒完通常就不炒了，或者是用沙子炒，炒出来没那么香脆。有同学家是用油炸，上面还会沾上芝麻，香脆无比，令我羡慕得不行。红薯干要是晒完不炒或炸的话，会极其耐嚼；一条高韧度的红薯干放嘴里不知要通过多少口水才能磨烂。我的牙口至今还算不错，可能跟小时候啃这些东西有关（我直到上初中才第一次刷牙，而且只刷早上那顿，这种事放今天简直不敢想，若按现代人被灌输的牙齿保护恐惧来推测，我的牙早该掉光了）。

几个月前我翻菜谱翻到了红薯干，发现不过就是把红薯切条、放盘子里蒙上保鲜膜、用微波炉转四五分钟转到熟，然后拿出来放架子上晾干。我见如此简单，便做了一些，成功复制出了那嚼不烂的红薯干（晾干时间越长越难嚼），然后也拿炸锅炸了一些，差不多也算是小时候的味道了，但只是空有酥，没有香，我也懒得捣鼓芝麻版本了。红薯干的渴望，是没有对比就没有伤害的那种，即：如果我没见过别人吃油炸的红薯干，我应该也不会心生这种渴望。

## 吃面食

南方人以米饭为主食，我前面说过我们一天三顿都一样，早上也吃米饭，所以面食就是个稀罕物。小卖部的面包、村里唯一一个早点店的包子、骑自行车的小贩的馒头，全都是勾魂的东西，但不到非常时刻通常很难吃到。我记得有一次我病得厉害，我爹带我在村里卫生院打完针出来，就在旁边早点店给我买了两个包子，作为对病号的特殊照顾。小学五年级时，我们数学老师的老婆在学校做过一阵包子，好些同学大清早都去买她的包子当早饭。我也是早上从爹手里领几毛钱，高高兴兴去学校，在那红火的灶台前买两个包子。当时吃包子的同学有一项特权，就是可以在教室外面把包子吃完了再进去上早自习，这样能少读十来分钟书。

家里也不是绝对不做面食，只是机会太少。我记得我奶奶会用面糊裹着花椒叶子放锅里油炸，炸出来有花椒叶的特殊香味，那味道我大致还记得，但后来再也没吃过。春天里大约在天气转暖的时候，他们会做毛裹团子，吃起来像包子，不过是糯米面。

那年头有些流动小贩会在各村卖东西，我印象很深的一类小贩我们叫他们货郎子（我们方言里喜欢在名词和代词后面加个子），因为那些货郎总是挑着两大筐稀奇古怪的小玩具，勾人心魄，但大人总是叫他们走开。还有一类小贩是卖吃的，其中有卖馒头的，骑着自行车一路吆喝：卖……馒……坨（方言）……后来我再也没吃过那么香甜的馒头。大人们为了阻止我们吃，会编各种谎话骗我们，我记得最清楚的一大谎言就是，他们总说那些馒头是别人用屁股坐出来的。这种骗小孩的话还是有些管用的，因为我们看着馒头的形状，确实会联想到屁股。

上初中去了镇上，早餐就完全变成了面食，主要是包子，也有花卷。我每天最盼望的就是吃早饭。早读结束的铃一响便以百米冲刺的速度冲向学校的包子铺。初一有一天早上我冲得太快，在一个坡上把别人班上一位路过的女同学撞到了坡下，她摔得不轻，后来还被送去了医务室，然而我头都没回。第一节课上课前，他们班的班主任带着她挨个班上指认嫌犯，本来她并没有记住我，但我们班上一个多嘴的男生立刻把我卖了。当时我一边怨恨这个男生，一边害怕得要死，因为我不知道我该赔多少医药费、以及如何向我爹汇报这件事。上高中之后我禀性难移，哪怕教室在五楼，也一样能在吃早饭大赛中跑出全校前几名。有一次连鞋都跑飞出去一只，偏偏又被一个我很不喜欢的男生看见、回去飞着唾沫星子在班里讲述了一番。上了大学终于不用猛奔，因为不用抢、也没再饿得眼冒金星了，不过也蘸着老干妈吃馒头作为晚饭吃了两年，依然觉得很好吃。

## 吃冰棍

说完吃的再说说喝的。今年四月我[提过当时渴望的冰棍](/cn/2018/04/san-jiu/)，最初也是由小贩骑自行车在各村叫卖。那个车后座放冰棍的泡沫箱子可能是我人生中最早的科学之谜：为什么这么热的天里要把冰棍捂在棉被里？

夏天我们身边唯一的冷源就是井水。我是喝生井水长大的，家里极少烧水喝（其实连开水壶都没有）。夏天从深井里打一桶水上来之后我就直接把头伸到桶里喝个饱，凉气沉丹田。有时候当天的饭菜若有剩（尤其是招待过客人之后），晚上就把菜盘放水桶里，然后把水桶吊在井里，也就是把水井当冰箱用。

除了冰棍，我也期待饮料，比如那种细长、分两节的塑料包装的橘子水。用牙在袋子头上咬个小洞，慢慢吮吸，享受香甜的色素水。喝完之后把袋子放地上，用脚从袋口踩踩平，最后猛踩袋身，经常就是一声巨响，但那包装袋挺厚的，有时候也未必能踩爆。

写到这里我想起一种叫麦饭石的饮料，它在我们小时候很流行，但我们长大后它就消失了，于是我放狗搜了一下，不想豆瓣上有个帖子，[炸出来一大片宜昌人](https://www.douban.com/group/topic/11240862/)。看来不只是我一个人还在心里念叨。

## 罐头瓶

小学时每天中午都回家吃饭，吃完饭再回学校睡午觉。大家一般会带一瓶水或凉茶去学校，那时我会羡慕别人装水的罐头瓶，因为我家没有那种高级的瓶子，有的只是一堆酒瓶，所以我就用空酒瓶灌一瓶白水带去。我也羡慕别人有茶可以喝，因为那被炎热的空气烤热的井水实在是不好喝。

上高中时同学们也是人手一个罐头瓶，课间去接水喝。高一班里有个细心的同学注意到我没有杯子，于是有一次回家专门给我带了一个。后来我读到曾国藩的[一副挽联](http://www.wcai.net/couplet/fuxiaosong/001.htm)，开头是一饭尚铭恩，我心想我也曾有过一瓶铭恩的往事。我记得他有个特别的个人兴趣，就是非常爱看军事方面的东西；有一次晚会他讲了一个军事故事，留下一个谜题（陷入沼泽的坦克被敌军包围如何逃生），见没人能答得上来，便点名让我猜答案，但我哪能知道答案。<!-- 这个同学叫陈晓波。 -->

这种细心的同学还有一些。比如高三我同桌到周末就会请我吃顿大餐；高二我在为难要不要问爹要几百块钱去参加化学竞赛培训时（就是我在《[土人](/cn/2018/09/countryman/)》里说的那个培训），有个同学在一边看在心里，回宿舍拿了五十块钱悄悄塞给了我，然而伊的家境也并不好。<!-- 前一个同学叫王怡，后一个叫曾艳。 -->

## 乒乓球

我对乒乓球的兴趣直到上研究生之后才开始淡化。小学时没什么像样的体育运动，乒乓球是最方便的。学校有个坑坑洼洼的土篮球场和一个破篮筐，课间打篮球时我在一群孩子中跑半天也摸不到一回球。除此之外就只有四个水泥砌的乒乓球台，我们默认把它们分配给了三四五六年级，每个年级一个台子。台子中间没有专门的球网，我们就摆上一列砖头作网。每天中午以及傍晚放学之后都有一大群小孩在那里打乒乓球，因为资源有限，所以要排队。一般是三个人打，一个人站一头作大王，拥有三分，另外两人站另一边，分别是二王（两分）和三王（一分），谁的分先丢完谁就走人，如果前面的王下场了，后面的就依次升一级。我那时球技一般，有时候我们的语文老师会和我们打，他的球特别转，我们基本上一接就死。班里还有另一个同学也能拉出弧圈球，让我很羡慕。

到了放假期间，学校不开门、我们在家又渴望打球的时候，便会拉两张大方桌拼一个球桌，虽然桌子通常不够长，但也够过过球瘾了。即使是这样的条件，在我家也没有，因为我家都找不出两张大桌，所以也只能在别人家打。没有球桌的时候就只能对墙打，不过其实连房子的墙都不平整。

我人生第一个乒乓球是我奶奶从她手绢里掏出一两毛钱给我去小卖部买的。我跑去买回来后，我堂弟也吵着要，于是我又拿着钱去再买了一个回来。家里没有球拍，我爷爷就找来一把不用的木锨，用那上面的木板锯了一个木球拍。因为木锨是弧形的，所以那球拍也是弯的。在有这么一把木球拍之前，我都是用瓦片打球的，所以装备上已经算是很有进步了。说起我奶奶，我又想起有一阵我们几个小孙子很想要粉笔，她便给我几毛钱让我去小卖部看看有没有卖粉笔的，我跑去之后人家说没有，失望而归。上小学时我们胆子不够大，不敢拿老师的粉笔，后来我上初中之后心想怎么那时那么胆小，于是有时候周末放假会揣一包粉笔回家在墙上地上写写画画。

初中校园里只有两张水泥球桌，更不够打。男生普遍爱打乒乓球，有时候午休时间还会偷偷跑去打。有一次隔壁班几个男生去打球被他们班主任抓到（就是[之前曾提到过的](/cn/2018/10/middle-school-teachers/)杨少明老师），后来被罚吃乒乓球拍，他们真的是把球拍咬碎了，但应该是没吃完。

我上高中之后，学校里的乒乓球桌总算多了，虽然依旧是水泥桌。我只记得有一次我和一个同学午休时冒险偷偷跑去打了个饱。高中学业重一些，没那么多时间了，兴趣也减弱了一些。确切说是运动方面的更多兴趣转移到了篮球，但我这身板根本不是打篮球的料，大家一起玩时，我仍然摸不到几次球，所以我更喜欢一个人抱着宿舍另一个同学的球去球场上扔，或是就在宿舍里猛拍。我就是在宿舍自己拍球时学会转身运球和胯下运球的，那跟学转球一样纯粹是为了好玩，没什么实战价值。因为我自己没有球，每次只能等别人不打的时候才能拿来玩玩，所以我当时对篮球也有强烈的渴望。我对篮球的兴趣，上大学之后就消失了，但后来到了美帝[又曾燃起过一阵](/cn/2011/07/exams-done/)，再后来找到了我人生的真爱，也就是羽毛球，对其它球类运动的兴趣也就都烟消云散了。

我从小就对有弹力的球充满渴望。比如邻居一个同学有一次不知从哪里搞来一个有一圈圈彩色纹路的皮球，在家拍个不停，我看着就很羡慕，求过来拍一会儿还没过到瘾就得还给主人玩。还有一次另一个小孩搞来一个小弹力球，扔地上可以弹老高，我觉得简直太神奇和好玩了，于是小伙伴们分别站在高高的草垛两边，把球从上面扔过来扔过去。

如今在美帝，我两岁的娃一次去看完牙医，牙医叔叔就奖励给他一个弹力球，一个老子渴望了特么一整个童年的弹力球。搬家后有一次我给人回答了一堆 LaTeX 问题，作为报答，他送了我一张乒乓球桌。两年多来，我总共大概在这球桌上就打过四次球。

## 玩具枪

男孩子小时候都喜欢枪，尤其是火炮枪（一丁点火药，打了也就是冒个烟而已），我从来没有过自己的玩具枪。我爷爷曾经教我用一节竹筒做过一种简易枪，就是竹筒前面挖两个相对的孔通过竹节，上面的那个孔再继续向前开出一道槽，后面靠近竹节处挖一个小孔，然后用一片弹性好的篾片，一头插在后面的孔里，扳弯篾片后另一头插在前面贯穿的孔里，稍微穿过那个孔一点点。竹筒的前端是开口的，后端有竹节封闭。这样插好篾片之后，把一粒小石子从枪口放进来，挡在篾片上，按一下扳机，也就是那篾片，把篾片从孔里顶上枪膛，这样篾片就会向前把石子弹出去。这枪基本上毫无威力，作为玩具只能说聊胜于无了。

后来他又教我做了另一种叫哨子枪的枪，也是用竹筒，只不过是用空气压缩原理，而不是篾片弹力。这哨子枪就是一节两端都开口的细竹筒，前端开口之后的竹子不要了，后端开口时，要在离竹节大约三五厘米的地方割开，然后把一根筷子插在这个竹节里。如果插不牢的话，就在筷子根部缠一些纸之后再插进去。玩法是在竹筒的两端各塞一团浸了水的纸（要压紧），然后用筷子顶好一端的纸团，用手掌猛拍竹节，用压缩的空气把另一端的纸团打出去。这枪比前面那种枪好玩一些，主要是因为它会砰地一声响，而且越用力拍越响，因为有少许水的缘故，打出去之后还会冒一丝水雾，很有枪味。做这种枪我不知浪费了多少根筷子。后来我嫌塞纸团、捡纸团麻烦，就演变为只塞一团纸，然后把枪往田里或湿地里一插，拔起来就会有一团泥塞在枪头，用这团泥作子弹，打起来就方便多了。

村里有大孩子会用自行车的链条做链条枪，这是我人生中的未解之谜之一，我从没弄明白过链条是如何做成枪的，而且还可以上火药，真的可以打响。这种枪可望不可及。我小时候唯一一次摸玩具枪是我表哥得了一把打塑料小子弹的玩具枪，我实在很想玩，又赶上他正好不在家，我从他家回自己家时便未经允许就拿回去了；玩了一阵放在屋里靠近窗口的地方出去玩别的，等我再回家时枪不见了。我从未弄清楚是谁偷走了那把枪，但心里充满愧疚，毕竟是没跟人说就拿走了、拿走又弄丢了。

## 弹山雀

这小标题有点异类，它来自我最近随机听到的一首歌，叫《[盗将行](http://music.163.com/#/m/song?id=574566207)》。它的歌词总体而言让我觉得有些奇怪，里面有句叫取腰间明珠弹山雀。我在想写一写弹弓的时候想起这句词了，于是用了这么个标题。

枪的愿望难以满足，主要是没有威力的武器对小男孩来说玩起来不过瘾。弹弓算是一种既有一定威力又方便自制的玩具。因为它有危险性，所以小学老师都禁止我们玩，但这无法阻止我们在家偷偷玩。最初我没有强力的皮筋，只能用扎头发的小皮筋连一串起来做弹弓，但显然威力不够大。后来好不容易找到了皮筋，绑树杈上做了个弹弓，提着到处找鸟打，但鸟通常都有很高的警觉性，发现有人瞄准它就会飞。唯有一次在我家后面的一丛竹子里我打到过一只喜鹊，打到的主要原因是它在竹丛里被我吓得惊慌失措、想飞出去却被竹子到处挡住。真正打下来一只鸟之后我又觉得它很可怜，后来再也不弹鸟了，改作无害的打靶。

## 刀剑棍

拜武侠剧所赐，我喜欢舞刀弄棍。在我大约六七岁或七八岁时，爹赶集回来给我带了一把塑料剑，这是我有印象的小时候他曾给我买的两个玩具之一。我高高兴兴玩了几天之后，觉得这剑不够锋利，于是拿着菜刀想把剑尖再削尖一些。一把破塑料剑，怎么能削得锋利嘛。

大一些之后，我曾找到一把破伞，伞骨上有一些连接伞布和伞把的细铁片，我便拆下一根来，把它在磨刀石上仔细着磨尖，然后对着一块破门板练飞刀。这飞刀的问题就是前后一样重，所以无法确保刀头能飞向前、插在门板上，能不能插上基本靠蒙。

有一年暑假在我舅家玩时，一个哥哥带着我们走了很远去铁路边玩。在那里我学会了一样技能，就是用火车轧铁钉。把铁钉放在铁轨上，火车开过去之后就会把它轧扁。拿回家再在磨刀石上磨一磨，就做成一把小刀了，可以用来削铅笔。我小学时期没有像样的文具，包括铅笔刀，铅笔基本都是用菜刀削的。

## 红色笔

在学校我常常羡慕的是别人的文具，比如我几乎从没用过的双肩书包、文具盒，以及橡皮、尺子等等。有时候写错了字没橡皮，就吐点口水抹抹，抹得作业本上一团黑；需要用尺子的时候就找块硬纸板。然而有些文具实在没有替代品，比如红笔。我连普通的笔都是用纸裹的一根圆珠笔芯，还时常不好写。那时数学老师经常叫我们同桌交换答卷，他念答案，我们互相批卷子。偏偏他又特意强调一定要用红笔，最好是红墨水笔。每当这个时候，我都很窘迫，只能在每一道题同桌改完之后赶快借笔改一下再还给人家。

还有两个很难替代的文具是量角器和圆规。上初中之后由于考试的时候也要用，我觉得实在不方便老问别人借，才问爹要钱买了。

其实自制文具也有其乐趣。比如我曾用一种草本植物（我不知其学名）的茎做过自来水笔，作为钢笔的替代品，就是麻烦点，写一会儿就要再蘸蘸墨水。再就是用猪油涂在两张白纸之间，涂匀了之后就可以作演草纸，用一根小棍在上面写字，写完之后把两张纸分开一下再合上，就又可以重新写了，这是一种无限演草纸。

## 放鞭炮

我小时候喜欢过年的主要原因还不是因为有好吃的，好吃的东西对我的吸引力还不如放鞭炮。可能也是拜武侠所赐，我就喜欢爆炸（跟火影忍者里面的迪达拉一样）。过年放的鞭炮会残留一些没炸的，我便会去把它们都捡回来。如果引信还够长的话，就用火钳夹一块烧着的木炭，把那些鞭炮一个个点着了放掉。有一种鞭炮威力很小，我们叫千子鞭。这种鞭我通常拿在手里，点着了再扔出去炸，有时候还可以扔到水里炸，玩起来很过瘾。还有一种炮，很粗，威力也很大，炸起来巨响，我同样喜欢玩。最喜欢的玩法就是拿一个瓷缸子，点着这个炮仗之后立马用瓷缸子把它盖着，有时候甚至盖好后还要压上一块砖头，然后跑远，看瓷缸子像卫星一样被发送上天。当然，常在河边走哪有不湿鞋，常玩鞭炮哪能不失手。有一次我脑残，被这种炮仗把脸炸了一道口子。因为那个炮仗的引信太短了，我不太敢直接点，于是把它夹在竹林里两根竹子之间（就是前面说的打喜鹊的竹林），并裹上一圈纸，想通过点燃纸之后把引信点燃，等纸烧上去我能有时间跑开。问题是，我是把炮仗倒过来放的，因为我想着火从下面向上容易燃一些。当然是容易一些，我点燃纸之后不到一秒，那炮仗就在我面前爆炸了。我低估了火苗会窜多高。后来大人问我的脸怎么了，我只好撒谎说是摔的。每当回想类似的事情，都觉得我能完好无缺活到今天是个奇迹。

对那些引信太短的鞭炮，我会把里面的火药取出来，倒在一块鹅卵石上，然后再盖上一块鹅卵石。起爆方式有两种：一种是用脚直接猛踩，这需要一点胆量；另一种是在两三米开外，用一块大石头或砖头砸向那堆着的鹅卵石，砸中了通常就是一声巨响。还有一种非爆炸的玩法，是把一些鞭炮从中折断，火药朝里，摆成一圈，点燃其中一个之后，火焰互相发射，瞬间一片烟火海。这就没什么刺激性了。

上初中因为有了一点零花钱，所以可以买鞭炮玩了，但在学校里肯定不能玩过节放的那种鞭炮。当时有一种摔炮，就是摔在地上就会爆炸，这又是我人生的一个未解之谜，因为我拆开看过，里面似乎只是些小石子，到底是什么特殊的石子儿能爆炸呢。零花钱不多，能买的也有限，难以满足对爆炸的渴望。有时候我会调皮在教室里偷偷往墙上扔一个，把大家吓一跳。还有一种叫擦炮，就像擦火柴一样，可以擦着了扔掉，它会冒一会儿烟之后才爆炸，所以非常安全；我最爱把它扔到水里炸鱼。这种爆炸的渴望，后面我还会在化学试剂部分说。

## 扒卡车

在学会骑自行车之前，我出门基本一律靠步行。上学或放学路上要是遇见一辆大车，我们会跟着猛跑扒在后面拖箱外，像猴子一样挂着搭便车，刺激又省力。有时候遇到拖拉机也会扒，但容易被车主发现。有一次不知因为什么，我家附近那个开大拖拉机的司机叔叔要主动载我们几个小伙伴一程。我记得我因为不知道怎么开车门，就从司机那边开着的门上去、硬从他面前挤到旁边副驾的座位上。坐在高高的驾驶室里、被突突突冒黑烟的拖拉机载着，恐怕那种感觉就是传说中的春风得意马蹄疾。

## 下池塘

[去年我提过](/cn/2017/12/night-rain/)小时候我一直盼望能有机会到水里划船玩，最接近这个机会的是一次看见岸边泡着一块门板，也没敢真划进池塘。我爹很早就学会了驾船的技能了，偶尔划着别人的船去水库里打渔，但我只敢远观。

我不敢下水的原因是大人最频繁叮嘱的事情就是不要玩水，每次出门玩，后面都会有人喊一句：不要玩水啊！而且他们有时候讲些什么水鬼之事，听着也挺恐怖的。有一年夏天我在舅舅家玩，舅舅家的几个哥哥带我在他们家门口的池塘边上泡了一会儿，那好像是我唯一一次下池塘。村里有些人会狗刨，炎炎夏日的傍晚便跳进池塘洗澡，看得我心动不已。还有一位小叔很胆大，他跟我们说他一会儿游到池塘中央、在水底站着举起手来，让我们看看能否看见他的手。

因为一直心痒，有时我沿着不太深的沟渠放牛，见四周没人就会偷偷下水泡一泡，但仍然不敢在水里久留。直到今天我也没学会游泳，我觉得这事对我好像非常困难，一方面是我下水就沉，另一方面是我觉得水里贼冷，别人游得欢的时候，而我在水里无论怎么折腾用劲，都仍然冷得直哆嗦。初来美国时，跟几个人去一个水上乐园玩，我大约是脑子进水了，在那儿玩跳水，跳板很低，我每次就像一条死鱼摔在水面，然后扒拉几下就能到岸边。后来终于疼得受不了，决定头朝下扎进水里，浮上来时就不知道方向了，眯着眼扒拉几下没摸到池边，顿时慌了神，差点把朕淹死在三米深的小水池里。

## 钓鱼竿

钓鱼是小时候最痴迷的乐趣之一。最初我什么工具都没有，于是找来一根缝衣针，用钳子把它夹弯，做成一只鱼钩。没有鱼线，就用化肥袋子上拆下来的尼龙线。没有鱼竿，就随便找根竹棍子。没有浮子，就用干枯的大蒜茎。不知道用怎样的蚯蚓，就用锄头在后面地里随便挖几条大蚯蚓（后来才知道要用细蚯蚓）。总之，一切齐活，在屋旁别人家的池塘里试钓，后来还真钓上来一条。那种鱼竿提起来时水下传来的一阵强有力抖动的感觉真是令人上瘾。有了这个初始的激励，我便在器具路上一发不可收拾。为了做鱼竿，屋后的竹子不知被我砍了多少根，也去小卖部花几毛钱置办了鱼线鱼钩（我还记得有一次买五分钱的鱼钩，我挑选的时候偷偷藏了一只在左手里）。

我再大一些之后就央求我爹给买了根专门的鱼竿，是那种可以收缩的节竿，看起来是神器，但说实话用起来也一般，而且连接处容易裂（裂了就缠胶布），唯一的优势是比普通竹竿长一些，能伸得更远。在买这根鱼竿之前，我曾打过别人鱼竿的主意。那是一个池塘的主人在池塘边搭了个棚子，有时候晚上睡在那里防止别人偷鱼。有一次我玩到那里，看见棚子里有一根节竿，就偷偷把最前面的一节给拔下来拿回家了。后来他不知怎么发现了是我干的，去我家告诉我爹，于是我被狠狠骂了一顿。

我对鱼的渴望有三方面的原因：一是前面说过的总是盼着捡便宜，二是鱼作为荤菜出现的频率相对较低，三是钓鱼、捉鱼都很有成就感，而且有种未知的刺激，因为预先不知道会捉到一条怎样的鱼。第三个原因应该是最重要的。有时候下大雨导致池塘漫堤，别人养的鱼就会顺水游到水田里，我最盼望这种事情。沿着田埂一路走一路在下面的田沟里找，看是否有黑色的鱼背，要是能发现一条鱼，那激动的心情就跟捡到钱了一样。

我十岁那年，在一个池塘外面的排水口处玩的时候，在杂草遮掩的小水坑里偶然发现几条黑色的不明生物，体型比我见过的鱼都大，而且我也没见过身子是黑色的鱼，所以我最初不确定那到底是不是鱼。最终我还是斗胆把它们抓了出来，看样子是鱼，其实就是黑鱼，只不过我不认识黑鱼而已。我把战利品高高兴兴扛回家，过了几天就是我十岁的生日，家里按惯例请客吃酒，那几条黑鱼就被端上了宴席。照规矩，主人要等所有客人吃完饭之后才能吃，所以尽管我是名义上的主角，但我最终还是一口都没吃到我捉回来的鱼，一肚子委屈。

在捉鱼方面，我从小就羡慕别人的一项技能，就是站在池塘边或水沟里徒手捉鱼。前面提到的那位狗刨的小叔就有这个本事。看他们捉起来好像非常简单，只要在水里张开双臂，小心翼翼地突然合上双手，就可以捉到一条鱼，这比钓鱼省事多了。我模仿了无数次，仍然一条鱼都没捉到过。我同样羡慕的是有时候见人在水沟里上下各筑一道坝，拿水桶把中间的水舀干，然后就可以瓮中捉鱼了。这样的事情我也干过，但累个半死也没捉到几条小猫鱼。

我爹撒网打渔的技术很高，小时候他打渔都叫我跟着背鱼篓。他能把网撒出任意形状，普通池塘当然不在话下，连狭长的水沟里他都能把网撒成狭长的形状。每一网撒下去收上来，网兜里都是各式各样的东西，除了鱼之外可能还有虾、泥鳅、螺、菱角、枯枝烂叶等等。他便蹲着把网兜一个个清理干净，把鱼扔进鱼篓。虾相对少见，而且味道比鱼更鲜美，所以吃饭时我最期待吃到虾。有时我也会叫上我弟和堂弟，三人一起去捞虾。捞虾的工具是一张网兜，两头分别系在两根竹竿头上。因为我们人小，一人扛不动这张虾网，所以三人中两人各扛一根竹竿，喊着一二三把网扔下水，然后拖上来，第三人负责在网里拿出小鱼小虾（虾网撒不远，只能在岸边捞小鱼虾）。我对小淡水虾的渴望至今都没有消失。回国时若能在谁家餐桌上见到一盘虾，我仍然会猛吃。这种餐桌上由于稀缺诞生的渴望，还有一个听来似乎有些不可思议的例子，就是小时候冬天吃饭时，我会跟我弟抢白菜的茎，因为一棵白菜只有很小一部分茎。

有一阵我爹不知从哪里搞来一套电鱼的工具，我跟着他在大小水沟电鱼。他穿着水靴、背着电瓶，双手各拿一根金属棍在水草下面四处试探，我便看着电翻的鱼浮上水面，然后他拿网去把它们捞上来。那电瓶有股难闻的味道，后来想想应该是铅酸蓄电池中硫酸的味道。

除了水里游的鱼，我们还捉鳝鱼。夏天的傍晚，我和我弟就提着一大篓子鳝鱼笼，埋到各个水田的角落里。鳝鱼笼是棒槌型的，篾片编织而成，鳝鱼可以通过大头那边的洞钻进来，但那个洞是削尖的竹签围成的，鳝鱼可以很容易顺着钻进去，但无法再逆着钻出来，因为会被扎到。过一夜后，第二天大清早我们便去把那些笼子刨出来，经常收获一小桶鳝鱼（偶尔也有泥鳅，甚至是蛇），也是一件很有成就感的事情。后来我在舅舅家玩，发现他们还会从洞里钓鳝鱼。回家后我曾用铁签磨尖了自制鳝鱼钩，但问题是我实在不知道怎么找鳝鱼洞。沟渠两岸通常有无数的洞，我不知道怎样的才是鳝鱼洞，那些洞里面有的是蛇，有的是螃蟹。所以我也从来没成功钓出过一条鳝鱼，这是小时候的一件憾事。

## 自行车

我是在五年级学会的骑自行车。那时候学车都是拿大人的二八载重自行车学，人和自行车差不多高，跨不上车，只能左脚踩着左踏板，右脚从三角架中间穿过去踩着右边的踏板，然后右脚快速向后踩一下把左脚撑起来，再左脚向下踩一下让车前进，就这样不断重复，都无法做到踏整圈。连人带车摔了若干次跤，才慢慢掌握了平衡。刚学会自行车那阵，时刻都想骑车出门玩。有了一样交通工具，就可以轻松去远方玩了，比如河边。后来逐渐攻克各种挑战，比如上坡下坡、单手骑、撒手骑。

毕竟家里只有一辆自行车，我不能想骑就骑，而且那车对我也太笨重。后来村里开始有人买轻便型的自行车，我看着也很羡慕。我邻居同学家就有一辆。有一次我们要去舅舅家，我爹便去借了他的自行车。我终于能趾高气昂地坐在自行车座上、整圈整圈地骑车了，心里别提多兴奋。

## 纸烟盒

小男孩聚在一起玩的游戏通常有赌博性质，比如打弹珠和扇画片。我六年级开始用一毛钱买来的两颗弹珠起家参战，到小学毕业时已经赢了两百来颗。那时流行两种画片，一种是普通纸折成的正方形画片，看谁能用自己的画片把对方的画片拍翻过来（传说刘在石很在行），另一种是纸烟盒折成的三角形画片，在三角形的中腰把顶角折向底边，这样放在地上顶角会立着，玩法就是用手猛扇一下风，或在地上画片前用手拍一下，画片翻过来了就算赢。

正方形画片的赌博性质淡一些，因为随机性弱一些。它的吸引力在于，虽然纸张不是极度稀缺的资源（也有点稀缺了），但硬纸还是比较稀缺的，而硬纸折成的画片比较容易把对方的画片拍翻，所以我们总想赢别人的优质画片。烟盒做的三角画片则有些门路：首先，玩家的烟的总价钱高低决定玩家的顺序，为了获得扇的优先权，你也可以用一大摞便宜烟；其次，最先扇的人有个特别优势，就是第一步是把大家的画片摞在一起放一个人的掌心，最先扇的人先把这个人的小臂打一下，让画片掉地上，当时可能就会有些画片随机翻过来，那些就已经归这个人所有了，剩下的就是按顺序扇，谁扇翻哪些、哪些就归他所有。烟盒画片都有标价，所以输赢很容易计算。玩这种游戏导致的结果就是大家都疯狂收集烟盒，无形中可能也为村里的卫生环境做了贡献。当时我盼望去铁路边玩，除了可以在那里轧铁钉之外，还有一个重要的目标就是捡烟盒，因为铁路边常常有我们从未听说过的烟牌子，捡回去就是独一无二的宝贝，而定价也可以自己随便忽悠。

所以世上很多东西的价值都来自人的主观判断和设定，就算是破铜烂铁、烟盒废纸，只要你提供一个竞争的环境、要参与者付出努力才能得到，它们的身价可以翻无数倍。这样的例子太多了，像我以前说过的[钻石](/cn/2018/06/diamonds/)，以及《曾国藩三部曲》中曾国藩打的一百把腰刀（刀本身没多大绝对价值，但只有少数人能获得）。人不管在什么阶段，都会被实质上毫无价值的东西牵着鼻子走，这个现象不局限于童年。

## 谜之歌

我也不知道为什么我会渴望着听歌。无论是听见对面山上的人家放《千年等一回》，还是河对岸的喇叭放《明天会更好》，我都会听得着迷。我叔叔也喜欢听歌，所以他买了个录音机，平时没事就放放磁带，尤其到了过年，更是把[洗剪吹](/cn/2017/10/wash-cut-blow/)的歌放得震天响。他也是村里少见的买了麦克风和音箱在家唱歌的人，农村人一般比较害羞，他则不然。三舅家也是少数买了录音机的人家，放得最多的磁带就是王菲、高胜美。受小时候听歌的深切影响，我至今喜欢一种在如今看来有些土的风格，就是在歌里面加一些旁白，典型的代表就是杨钰莹《晚霞中的红蜻蜓》。上高中后任贤齐开始红得发紫，加上武侠剧常用他的歌作为主题曲（如《神雕侠侣》《楚留香》等），所以我就更加喜欢了，但我自己没有随身听和磁带。不过这难不倒我，在《[土人](/cn/2018/09/countryman/)》一文中，我提过我当时用电话录音的方式从别人的随身听录了不少歌，晚上可以在被窝里抱着电话听；有听的就不错了，哪管什么音质。

## 酒精灯

我喜欢把东西放在瓶瓶罐罐里煮或烧，但可烧的东西有限。比如我曾把白酒倒在一个细颈瓶子里，加热后让酒精蒸汽喷出来，然后点着它，在一旁坐看火舌。再比如有一阵子我跟一个小伙伴莫名迷上熬松香，放学路上在松树上抠一些凝固的松油，回家装在瓶子里加热慢慢熬，熬了做什么也不知道，毫无目的，反正最终就是把固态的松脂炼成液态的松油。

加热这些瓶瓶罐罐的最大问题是热源只有一种选择，就是蜡烛，而蜡烛这种高碳燃料总是燃烧不充分，瓶底一会儿就烧得漆黑，导致看不见瓶子里的状况。后来上了化学课，发现化学实验里都是用酒精灯，烧起来很干净，于是十分心痒，总想从实验室顺一盏灯回家，但终归没这个狗胆，因为少一盏灯很容易被发现，我最多只敢拿个小瓶偷偷倒一些酒精装走，而量太小，烧得不够过瘾。

后来我发明了一种蜡烛的新玩法，就是把用完的圆珠笔芯最前面的那个小钢珠想办法抠掉，然后用嘴含着笔芯，鼓着腮帮子，通过笔尖的小孔吹蜡烛的火焰，这样可以吹出一条细长的火焰丝，就跟烧气焊一样。也许是人工加氧、并抑制火焰规模的缘故，这样蜡烛会燃烧充分一些，炭黑也少一些。我以为这样能像烧焊一样产生超高温，但并没有熔化过任何金属，连锡都没熔化过（我家有很多锡，是因为我爹的渔网网脚需要用重重的锡块以使得渔网能快速下沉）。

## 强酸碱

在《[卅载芳华](/cn/2018/10/middle-school-teachers/)》中，我写过我在家玩过的化学实验，苦于材料太少，无法玩出好玩的实验。我做过的最高级的实验也仅限于电解水、收集氢气，然后在瓶口把氢气点着，听砰地一声爆炸（小瓶氢气，没什么威力）。不过这个我做了无数遍的实验倒是让我一直有个疑问，就是为什么我的盐水里会产生一些绿色的混浊物。这件事我从初中一直想到高二才最终搞明白：我用的是铜丝作导线，氢被还原的同时，铜被氧化了。想明白后我还给校报投了一篇文章解释这个现象。后来刊登后，化学老师（兼班主任）还给了我十块钱的巨额稿费，我不知道到底是真的有稿费，还是他找个借口自掏腰包周济我的。

在家除了电解水，就是拿醋泡铝丝制氢气。醋这种弱酸实在没多大意思。我一直期待着能搞到一些强酸碱，或强氧化剂。后来在高中实验室偷了一些氢氧化钠出来，把铝丝放里面制氢气。能偷氢氧化钠，是因为它是固体，容易携带，拿团纸一包就带出来了。类似的还有金属钠，我也包出来过。而强酸都是液体，很难搞出来，所以我从来没有在家玩过。班里有个同学有一次去市里不知什么地方买了一瓶浓硫酸，拿回宿舍倒了一些在试管里，拿水稀释，结果试管一下子变得很烫（这本来应该在意料之中的），他吓了一跳，赶紧把试管插在床头的铁管里。我们就看着那管硫酸呼呼冒烟，最终平静了下来。

高二时学校里举办一个所谓的科技节，我想出一个钻木取火的主意，于是找了两个配角同学跟我一起扮作原始人，光着脚在操场前的看台上表演钻木取火。当然我是没本事真的把木头钻燃的，我只不过是在一段木头上挖个洞，洞里放一些高锰酸钾和白磷，这大概是最干柴烈火的搭配了，我拿根木棍随便钻两下就会烧起来，加上白磷燃烧会有大量烟雾，所以适合表演用。那白磷的特殊臭味我至今记得。

生活中能找到的强氧化剂有限，唯有一次，有个同学说他家里有硝酸钾，我便求他带一些给我。那包硝酸钾晶体我在宿舍玩了好些天，主要玩法是拿一根一次性筷子，点燃之后吹掉明火，然后戳在一团硝酸钾上，顿时筷子就会剧烈燃烧起来，再加上钾的焰色反应，甚是壮观、好看。

可以说整个初中高中我学习化学的最大动力就是为了能在自家捣鼓出什么绚烂的化学反应，要是能爆炸就最好不过了（我是不是被上学耽误的诺贝尔）。我遍阅我能找到的化学读物，边看边琢磨哪些材料可能找到、哪些反应可以试试。在同学们纷纷邮购贝塔斯曼的书时，我在邮购往年的化学报合集，并如饥似渴地看、抄那些方程式。

## 新老师

小学初中的老师普遍都偏凶，所以要是碰上一个不凶的新老师，就如同久旱逢甘霖。小学三年级不知从哪里来了一个语文老师，她只在我们学校待了一年，教完我们一年语文之后就走了，我也不知她为什么走了、以及去了哪里，甚至已经全然忘了她的名姓。她很照顾和怜悯我，见我的作业本捉襟见肘（我有时用捡的烟盒的背面写作业），就收集了一摞废白纸送我。还有一次我听邻居说她曾去我家家访，但不巧我们不在家，便错过了。我整个上学期间从来没有过别的老师去我家家访过，家访这个词对我来说只存在于书本上。她的语文课上，我回答问题格外积极。这些问题通常都是，某篇课文的中心思想或大意是什么，我经常是老师的话音刚落就举手，连想都还没想好，有时候甚至归纳的段落大意跟段落本身长度也差不多了，不过她总说我回答的对。

初一初二这两年里学校会接收一些实习老师，这也是我们最喜欢的老师。因为这些老师是来实习，没多少经验，也希望最后能得到我们的好评，所以会倾向于讨好我们，跟我们打成一片，如同知音大哥哥大姐姐。我小学初中时最讨厌的作业之一就是写日记，真的是烦透了，但实习老师来了之后，我就很愿意写一些心里的真实想法，老师的批注也很有感情。每年我们最伤心的时刻就是与实习老师的离别。我也不知道那是怎样一种感情。最后一节课的最后告别时，班里总是一片啜泣声。这些老师的名姓我如今也都不记得了，同样不知他们身在何方、以及后来是否真的踏上了讲台。这是苍茫人海沉浮、童稚真情一瞬的渴望。
---
title: 五论开源：理智与情感
date: '2018-12-21'
slug: open-wars
---

作为开源江湖中的一名小学生，我已经分别于 [2010](/cn/2010/08/sas-against-wpl-and-my-thoughts-on-open-source/)、[2013](/cn/2013/11/open-source-again/)、[2014](/cn/2014/06/macdown/)、[2017](/cn/2017/12/homebrew-open-source/) 年谈了一些关于开源的想法。今日是第五次谈论开源。

也许是因为我处在这个圈子而产生的偏见，我感觉码农似乎特别容易用一门语言或工具[把自己标签化](/cn/2018/03/identity/)。学习、进步的过程中，标签会贴得越来越牢。不幸的是，持有标签的人之间容易爆发战争——不管是持有不同标签的人之间，还是持有相同标签的人群内部。

几周前 Clojure 社区的首领愤然写下一篇檄文，名为《[开源不是你家的开源](https://gist.github.com/richhickey/1563cddea1002958f96e7ba9519972d9)》，讨伐那些自以为是的开源贡献者和用户。我看了这篇檄文之后，觉得有些共鸣。在我这几年的开发生涯中，坦白说，我遇到的绝大多数贡献者和用户还是很温和、善解人意的，但你的软件影响越大，你接触到坏人的概率就会越高。这里面的问题是，一颗老鼠屎容易坏一锅粥；只要碰到一个极度自私或蛮不讲理的人，你可能接下来几天或者更长时间的心情就毁了。一份恶意可能需要很多份善意来稀释、化解。

若有小码农有志于长期混迹开源社区的话，我的头条忠告就是彻底摒弃情感。不要去解读别人的语气、语调，只看他说的是否是事实、是否有道理。若有人用私信的方式胡搅蛮缠，忽略之、憋死他。若有人在公开场合胡搅蛮缠，放任之（郑伯克段于鄢）。人在做，天在看，公道自在人心。若能在公共场合接受不公平的攻击，不仅不会让攻击者得逞，反而能向世人展示你自己的器量。

接下来的剧情有点反转。一位疑似他攻击的对象[写了几段回复](https://gist.github.com/richhickey/1563cddea1002958f96e7ba9519972d9#gistcomment-2770124)，解释了自己为什么要胡搅蛮缠。原因基本上是爱之深、恨之切。其实这位哥说得也不是完全没有道理，只不过是当时一时在气头上，把那位首领逼急了。结果是，两位好人为一个本来很崇高的理想（开源）打了起来，不得不说这是一场悲剧。

写檄文的未必全对、被讨伐的也未必全错，这一仗非打不可吗？我觉得双方都有倾听的余地。天子需要体察民情，不要总是一意孤行；臣子也需要体谅皇上日理万机，不要一本奏章参到底。在这个交流的过程中，若能拿掉情感的词汇，可能结局会好一些。

我在 R 社区混迹至今，一共遇到过两个有些影响力的人物在回帖时专门指出我的语气不对。我有时候说话确实很刺耳，但我有个潜在原则（虽然我不知道我贯彻地如何），就是我面对的人物威望越高，我的语气就会越直白，所以当我觉得他们做错了的时候，我根本不会绕弯子，而是直接去啪啪打脸（[例一](https://stackoverflow.com/q/48997278/559676)、[例二](https://stackoverflow.com/q/50164548/559676)）。如果一位所谓的社区名人连这种直白语气测试都通不过，往后我也不愿再与之深交，因为他似乎更在意情感，而不是先去思考理智。
---
title: 最省钱的信用卡
date: '2018-12-28'
slug: best-credit-card
---

两周前有朋友来访，闲谈中谈起什么信用卡最省钱。这方面我当然不是专家，我自己就两张信用卡，都是那种免年费的低档卡。我整天收到广告推销那些高消费、高返现的信用卡，而这种广告我连信封都不会打开就直接扔了，因为我现在作为一位佛系中青年，根本就没那么些花钱的需求，而且我怕一旦开了这种卡，会为凑够年费花销而花钱。为了避免这种蠢蠢欲动的心理，还不如就老老实实用看起来不划算的信用卡算了。我曾听说过有人为了省钱和避免购买不必要的东西，给自己制定了一条购物原则：绝不买打折的东西，要买只买全价的商品。这种反直觉的原则对那些冲动型购物并且贪便宜的人应该能有点用，因为买全价商品总会觉得亏了，从而抑制购物冲动。特意用不划算的信用卡，应该也有类似的效果。

在本佛陀看来，世上最省钱的信用卡莫过于书。或者更本质地说，脑力支付越多，财务支付就会越少。脑力支付会带来独特的精神回报，这种回报可轻易盖过物质回报。子曾经曰过：书就像围城，城外的人想进去，城里的人……玩得可开心了根本不想出来。

因为我提叔本华的次数太多，搞得我都不好意思不先至少看他一本书了，最近终于开始翻《人生的智慧》，看看这厮到底还有多少智慧。不幸的是，书还依旧没看完，在网上乱翻时又发现他一篇文章，题为《[一个人思想越深刻，乐趣就越多](http://blog.people.com.cn/article/2/1542291189932.html)》，甚合我心意，尽管在列弛大人的数次提醒下，我知道这厮的表里不一是出了名的。

> 我的哲学虽从未带给我实惠，但是却帮我节省了许多开销，我不必为了摆脱无聊而去花费大笔的金钱以寻求刺激。

所以，办卡？办卡~~不如跳舞~~不如读书。

又及：[搜狐小编](http://www.sohu.com/a/278949538_166747)，求求您不要在图文无关的情况下硬[配图](/cn/2017/06/illustration/)好不。本来我是看着您的字号大、想链接您的页面，但特么这些无聊的配图实在让人想掀桌。就一篇千儿八百字的短文而已，还得插好几幅图、弄得鸡飞狗跳几回。
---
title: 准备申请材料的一个细节
date: '2018-12-31'
slug: file-naming
---

过去这七八年来，我担任过几次 John Chambers 软件奖的评委，有个小问题我觉得有必要单独拎出来说一下，就是文件命名。这是一个很细节的问题，但我可以厚着脸皮自夸一下，迄今为止我还没看到过一个申请者像我当年那样在这个问题上用心。根据网站上的要求，申请者需要准备一系列电子版材料，而我通常看到的就是一堆乱糟糟命名或命名时惜字如金的 PDF 文件，让我作为评委不知道该先看哪个。有时候同一份文档需要看几遍，所以第一次点过看完之后，第二次想再看一遍时，经常不知道哪个文件是我要看的，又得猜或试。

以下是我当年申请时打包的文件列表：

```md
1. Curriculum Vitae - Yihui XIE.pdf
2. Letter from academic advisor.pdf
3. A brief description of the animation package.pdf
4. Access to the package and related materials.pdf
```

这是极少数情况我在文件名中用空格（通常我会像躲避瘟疫一样[避免空格](/cn/2011/06/spaces-in-latex-path-names/)），为的是让文件名具有可读性，而且我是按网站要求的顺序，依次给文件编了号。评委该看哪个文件，一目了然。

这样的问题站在申请者角度是不容易察觉的，但你要想如果你是评委，收到二十件作品之后要一一阅读百八十份文档、打分的话，任何细微的不适可能都会因为工作量的巨大而被放大，所以就算是一粒沙子也不要放到评委鞋里，他走时间长了会磨脚。

同理，申请材料的字体最好不要用 Word 或 LaTeX 的默认字体或烂大街的字体，比如经典的时代牛肉面字体（Times New Roman）；花几分钟时间，换个不常见的爽脆字体，好让昏昏欲睡的评委能眼前一亮。

是的，对公正的评委而言，这些琐碎的细节都不应该影响到他对一件作品的评判，但你让他心情舒畅总好过让他把功劳变成苦劳、把苦劳变成疲劳。

在前面《[脱不花的三盏灯](/cn/2018/11/tuo-bu-hua/)》中我提过：不要拜菩萨，想想如果你是菩萨会怎么做。多数申请者可能都只能看见自己手里的一份申请材料，而不会具体想象这份材料将来会变成一摞材料中的若干分之一。能看见一摞材料的人，才是菩萨视角。
---
title: 2018 年：迷茫与倒退
date: '2019-01-02'
slug: confusion-seclusion
---

又到了一年一度意气风发立牌坊的时节。诗云：牌坊时节语纷纷，来年路上欲断魂。我以为我每年都会写个年终总结什么的，但往前一翻，发现多数年份都并没有写；不知道为什么我形成了这样一个错觉，可能是看别人的牌坊看多了吧。

如果用两个词总结我在过去一年的心境，那就是本文的标题：迷茫、倒退。书和网上杂乱文章翻得越多，心越迷茫，因为发现这盘根错节的世界的复杂度越来越超出我的理解能力；好些事情如果我真要寻根究底的话，都会觉得异常烧脑，而且就算烧脑也寻不到根、究不到底。另一方面，我又感觉这世界嘈杂得越来越让我充满疑虑，我仿佛看着呼啸汹涌的人潮一天天拍打在不同的崖壁礁石上，而我则更想倒退、远离尘嚣。

焦虑，焦个屁的虑。养生，养个六的生。世上看不见的手越来越多，在暗地里引发一波又一波的人潮，我们的衣食住行、见闻思想、生老病死全被控制得死死的，而且更可怕的是我们就算被控制了也难以察觉、就算察觉了也不想反抗、就算想反抗也没有力量。一个[偶像天团](https://www.douban.com/note/698368306/)，一家[保健公司](https://mp.weixin.qq.com/s/J5XA3K5PcOEsgs6czE0nlg)，一场[跨年演讲](https://mp.weixin.qq.com/s/dxGfeWlI9glFgRGjfceZVQ)，都可以轻松煽动亿万人。粉丝追捧的所谓偶像，也许会因为其欲望门限大大提高而寻求更空虚的刺激，比如吸毒，反正风声一过就没事了，过两年回来一样红，管它缉毒警察[会以怎样的方式牺牲](https://en.wikipedia.org/wiki/Kiki_Camarena)；众生所拜的人神与佛，又有谁知道他金光闪闪的行头里到底是不是个恶魔，以及有多少信众遭过毒手却无法发声；而你所听的三小时跨年鸡汤演讲，谁知道台上那个胖子到底是在乎你拥有了新的知识和法力对付新的一年，还是在乎那大得足以发动无限月读的投影屏幕右下角的东风日产天籁独家冠名。

文明的缺憾是什么？我越来越感觉到，这缺憾就是人越来越会利用人性的弱点。如何对抗这种缺憾？按照我朋友圈（此处非指微信朋友圈）里的年度最强思想人物[于淼大人的说法](https://yufree.cn/cn/2018/12/01/anxiety/)，就是三部曲：

1. 你的弱点是什么？

1. 你能否消除这个弱点？

1. 能消除最好，消除不了就不要想了。

贪财好色、好逸恶劳，想清楚并承认就是了，没什么大不了，而且想清楚、承认、交卷之后就不要轻易改答案了。况且就算是人性的弱点，通常也有转化为优点的潜力。若我们只是单纯接受别人灌输给我们的焦虑和羞耻感，我们就失去了这个转化的机会，甚至连这种想转化的念头都不会动一下。

过去两年深刻影响我的思想的书有四本：《[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)》让我开始警惕媒介，所以我只要看到演讲者用[巨幅图片](/cn/2017/07/superintelligence/)（尤其是人像）作为幻灯片背景、上面印一句名言金句，就不会想再去了解那演讲。凡是这样的姿势一出，我就知道他要开始封印观众了。我甚至开始警惕一切多媒体手段，因为我担心里面的[意识形态镜像复制](https://www.douban.com/note/701607997/)；同样，我也逐渐开始疏远社交媒体（主要是推特），新的一年我打算将我的推特登录频率降为每周一次。《[穷查理宝典](/cn/2018/08/poor-charlies-almanack/)》赐予我角度，尤其是“反面角度”，这一个词差不多可以概括这一整本书。《人类简史》非常颠覆三观，让人有梦醒之感，但谁知是不是像盗梦空间一样从一个梦醒入了另一个梦呢。《原则》对我来说是一本个人成长帮助手册，里面关于管理的部分对我有启示但暂时没什么用武之地，因为我向来是单干的人，不太与人打交道；关于个人成长，这本书我可以概括为两个词：透明化和直面痛苦。后两本书的读书笔记我还没空整理，可能会拖到今年下半年吧。

这四本书的共同点是鼓励独立思考，它们增加了我的迷茫，但也给了我倒退（或者说逆行）的力量。从这四本书的出版年份来看，我读书没遵守 [Lewis 的教诲](https://reasonabletheology.org/cs-lewis-on-reading-old-books/)。他推荐我们多读老书、读原著，甚至为了执行这条原则，每当你读完一本新书（当代或近代书），你可以强迫自己读一本老书。我觉得他说的有些道理，以后争取多啃老书，这样应该也更容易排除现世的干扰。

最后略谈一下养娃之事：一个时代的迷茫与焦虑之最。J.M.S 大人在读完《[渴望](/cn/2018/12/craving/)》之后很敏锐地察觉到，那其实是一篇关于养娃的序言。我并非想给两个龟儿子人为制造一个条件艰苦的童年（像洛克菲勒故意对子女隐瞒财富一样），但我的主张是不要管它甚鸟起跑线，不要拱手送给他们最好的物质和精神条件。像国画的留白手段一样，他们的人生也应该适当留白。不需要摔倒了就扶、不需要吃得最有营养、不需要吃[有机食品](http://headsalon.org/archives/5846.html)、不需要长得最高最壮、不需要上最好的学校、不需要最聪明、不需要强行学习琴棋书画、不需要持续表扬鼓励、不需要事事顺利。徐行不必驷马，称身不必狐裘。

前两天看了一篇 CFO 夫人的[公众号文章](https://mp.weixin.qq.com/s/tsOdnbp-6r2o_j5gxJsn0Q)。他们去年喜得贵子之后，我看 CFO 的微博差不多都换了个频道，显然他们的宇宙有了一个新中心。CFO 夫人这么强的人，在诗中以母亲的口吻写道：

> 怕你因为我的任性  
影响了发育

这语句柔软得……真是可怜天下妈妈心。

对我这样的狗爹来说，唯有物理意义上的安全问题能让我操心，比如不要喝到毒奶粉或遇上骗子庸医；只要娃能好好活，其它事都不是事（但[就算是好好活](https://www.sohu.com/a/279970593_100053208)对一些娃来说[也是不可能的了](https://mp.weixin.qq.com/s/NUNuLSLcwlagxwNMjEDikA)）。我觉得世上养娃本没有很多事，只是比的人多了，便横生出许多事，也就是传说中的没有对比就没有伤害。我是坚守不比较的原则的，比如听闻别人家的娃会背《将进酒》、甚至开始挑战《长恨歌》了，我内心毫无波澜：俺娃爱背不背。虽然很碰巧《将进酒》也在我的计划中，但我一点也不在乎他的进度。

<!--去年美帝独立日时放烟花，三岁的老大天性胆小如鼠，格外害怕烟花爆炸声，我为了转移他的注意力，便跟他说烟花三月下扬州（我的脑洞就是辣么大）；等到几日烟花放完之后，他已经会背《送孟浩然之广陵》了，这也是他学会的第一首诗。到年底学了二十来首，有同学提到其国内朋友的女儿会背《将进酒》了，问我要不要比试，巧的是当时我也正计划着教老大这首，不过看到这种挑战我立马就跪了：咱不比。这不，都过了快一个月了，这小子才不情不愿地背到会须一饮三百杯。这首确实有点难为他，太长了，反正我也从来不催，每天洗澡的几分钟时间里背一句算一句，爱背不背，说不背了就立马不背了。听说那背诗上瘾的小妹妹要挑战《长恨歌》了，我表示内心毫无波澜，反正爹我自己也不会背，与我无关。-->

在看娃长大这两年里，我最常琢磨的一个人生问题是：幸福是什么？或者幸福取决于什么？之所以考虑这种基本问题，是因为娃来到这个世界本是一张白纸，一定程度上他的幸福感还可以人为控制，你可以观察到他在各种条件下的快乐水平（比如限量和不限量吃糖）。随着人的成长，经历了各种颜料渲染，就很难再回答这个问题了，因为由俭入奢易，由奢入俭难。从我作为一个成人的角度来说，我觉得幸福主要取决于人生经历的跨度：跨度越大，幸福感越坚实。为什么[年轻时的苦难出钱也该买](/cn/2018/12/craving/)？我的理解是，苦难是跨度的底线；越早把底线设置得低一些、为幸福奠基，就越能在后面的人生路上体会到幸福感。这是通向早期幸福之路的一种简单、相对可控的办法。可是做父母的有几个能忍得了自家孩子可怜兮兮的眼神和哭喊？就如同 CFO 夫人所写的：

> 我总是在疑惑  
自己能不能好好养育你  
因为担忧  
想把所有的好都给你  
又想把你变成我想要的样子

达里奥在《原则》中提到《千面英雄》一书，并总结了一幅英雄历程示意图，里面有一个步骤是“深渊”。我觉得这个深渊就是我前面说的跨度的底线。对英雄来说，其跨度往往远大于常人。《千面英雄》总结的是神话故事，但有这种经历和特质的人在现实世界当然也存在。我觉得最具代表性的莫过于褚时健。每当我们觉得自己不够幸福，或自己的娃不够幸福，不妨想想这位老爷子，想想他的人生深渊有多深，以及他从深渊反弹时的年龄。他的第二段人生从七十四岁开始，而且如此高龄开始做的还是需要十年磨一剑的事情。注意，他根本不上网。你说说，你焦个屁的虑。
---
title: 噜蚣
date: '2019-01-03'
slug: mole-cricket
---

前天在王大爷家继续捣鼓他的苹果电视，他讲起他小时候的一些好玩的东西，脱口来了句“余忆童稚时，能张目对日”，说跟那里面描写的一样。我心想我这过去的一年真是奇怪，怎么之前我完全不知道（或已忘记）的《浮生六记》这一年频频出现在我的眼前：最初我是从《古文观止》上看见《闲情记趣》，觉得写得好玩，后来才找到全书看。结果看完之后又偶然在一个[歪果仁厨师大姐](/cn/2018/11/phd-or-work/)的采访里看到这本书的影子。然后一天夜里哄娃听《冬吴相对论》时，吴伯凡又提起[陈芸](/cn/2018/08/chen-yun/)把茶叶放在荷花里这件事，他的看点碰巧跟我一样。到了前天，我又从一位老大爷口中听到《闲情记趣》的第一句。这巧合也太多了点，也许只不过是一种[频率错觉](https://en.wikipedia.org/wiki/Baader%E2%80%93Meinhof_effect)。

他玩的有趣的东西里有一样叫噜蚣。因为他老是用方言讲话（声称方言有音乐美），我刚开始没听懂，以为是蜈蚣，但他说不是蜈蚣。他们哈哈一乐之后就迅速说到别的事情上去了。回来之后我在微信上问了他一下这东西的学名叫什么，才发现原来是[蝼蛄](https://zh.wikipedia.org/wiki/%E8%9E%BB%E8%9B%84)，他管它叫噜蚣，我们的方言里好像叫土狗子。我看了看照片，觉得还有印象，但这种腿上带毛、前面有一对爪子的昆虫我小时候通常不敢抓来玩，怕它有毒或咬人。

顺藤摸瓜下去，才意识到原来蝼蚁的蝼就是指蝼蛄，隐约感觉脑子里一个遥远的环终于闭合了：弄了半天，原来语文课本上的这个词就是我在田间看见的土狗子。

王大爷已经七十二岁，极为健谈，生活经历颇有些曲折。[前面我提到](/cn/2019/01/confusion-seclusion/)褚时健是人生跨度大的典型代表，这位平凡的王大爷其实也是另一种典型代表。他称不上俗世标准下的英雄，但其闲情之趣与坎坷之愁，足以写出浮生六十记甚至六百记。他提到他旅游不喜欢去看纸醉金迷或高楼林立的地方，而是喜欢随便找个无名小村，提一壶酒，在树下就地小酌几杯，看看风景就很满足了。这让我有所共鸣（[携酒殢东风、眠芳草](/cn/2017/01/lucky/)），而且我感觉这与我们长大的环境很有关系：我们都是在野生的环境里长大的，所以更亲近花鸟虫鱼的小自然。在小自然里有各式各样的好玩的东西，根本不需要像现今一样专门人工制造玩具。我觉得现在的玩具多为成人的想象，他们费尽心思去琢磨怎样的东西小孩会觉得好玩；与此同时，文明社会也渐渐将我们与自然隔离开，自然只存在于指定的区域。就想想，现在如果要挖一块泥巴玩的话，到哪里能挖到：有土的地方皆有草或其它人工植被，有水沟的地方通常人没法下去，湖边海边只有沙子和石头。就更不必说捉鱼摸虾玩土狗、[江阔云低断雁叫西风](/cn/2014/06/on-writing/)了。

俱往矣，都没啦，散了吧。
---
title: 珠穆朗玛峰下有一棵树
date: '2019-01-03'
slug: name-of-a-tree
---

我读诗词文字的时候，常年有一个痛点，就是不认识里面的动植物名。这一点其实我[前年元旦](/cn/2017/01/blog/)已经隐约提过。当我看见“楝花飘砌”、“[白苹秋老](/cn/2014/06/on-writing/)”、“红蓼花疏”之类的句子时，都不知道是些啥玩意儿。读起来都困难，就跟不必说写了。写的时候一旦涉及到什么动植物就歇菜了，因为叫不出它们的名字。今天读到一篇[关于一个无名诗人的文章](https://www.douban.com/note/702427221/)，里面恰好也谈到了这个问题：

> 后来由诗人潘洗尘牵头，又搞了一个诗人公约，其中一条是“一个诗人必须认识 24 种以上的植物”。提出这条也是因为有些所谓的诗人写到植物的时候完全是五谷不分。我觉得，除却一些特殊的涵义，像“珠穆朗玛峰下有一棵树”这样的诗句是不合格的。不应该只写一棵树，它们应该有名字。诗人对植物了解得少情有可原，但不能总是语焉不详，因为诗人是在从事一门极致的语言，这样说不过去。西方和中国古代的一些诗歌里提到的植物都很清晰，如果《诗经》写得不清不楚，就没有多识草木虫鱼鸟兽之名这些事情了，《诗经》也就不会成为经典。

没错，说的就是我了，只能[空泛](/cn/2017/10/zhao-couplet/)写写。我就只能写出“珠穆朗玛峰下有一棵树”、“大海啊，你全是水”、“骏马啊，你四条腿”这样的句子。至于树是什么树、海是哪片海、马是何种马，洒家一概不知。

诗经的厉害不仅在于有鸟兽虫鱼之名，而且那些牲口都极为贴近生活（用时髦的话说就是土味牲口）。若换作现在，有谁会拿一群鸡作为思君的背景音乐？

> 风雨凄凄，鸡鸣喈喈。既见君子，云胡不夷？  
风雨潇潇，鸡鸣胶胶。既见君子，云胡不瘳？  
风雨如晦，鸡鸣不已。既见君子，云胡不喜？

套用那篇文章的最后一句话：虽然现在我们有了高保真音响和无数乐器，但我们的背景音乐并不比风雨里的一群鸡叫更动人。
---
title: 库里肖夫效应与过度脑补
date: '2019-01-05'
slug: kuleshov-effect
---

昨天看到一则有点意思的维基条目，叫[库里肖夫效应](https://en.wikipedia.org/wiki/Kuleshov_effect)。这应该不是关于脑补的最早理论，但可能是最早反映人们对同一幅画面在不同对比条件的迥异解读（或脑补）。这给我两点启示：一是我们对他人情绪的判断可能很不靠谱，会过度解读；二是电影只是一种艺术手法，它通过视觉片段的排列组合来刺激我们联想，有时候这种刺激的意图是很明显的，有时候则在不同人脑中有不同的效果。

我不是什么艺术家，对这种镜头拼接通常也没什么兴趣。我已经若干年没看过电影。回想一下，在镜头剪辑拼接方面给我留下最深刻印象的还是《疯狂的石头》。我觉得这部片子的拼接实在是太精妙了，经常通过一个很小的物件切换到另一个截然不同的场景中的另一个相似的物件。因为我智商水平捉急，所以这片子当年我看了六七遍才明白这里面的奥妙与幽默。

写下这篇日志之后过了八个月，我才了解到这种镜头切换手法叫“闪切”，由电影《广岛之恋》的导演雷乃[首创](https://www.pinshiwen.com/cidian/wendian/20190910245518.html)。
---
title: 未老先衰
date: '2019-01-08'
slug: weak-youth
---

一年前[我说](/cn/2018/01/fitness/)我感觉体能在以肉眼可见速度下降，受点凉、切三小时肉都能感冒。洒家今年才二十八岁……零七十八个月而已。[年少轻狂时](/cn/2005/08/ride-to-tianjin-in-16-hours/)好歹也曾单枪匹马、一辆破自行车从北京冒雨猛蹬到天津，如今在球场上奔袭两小时就感觉暮气沉沉，就仿佛到了需要[借我](/cn/2018/07/lend-me/)鲜活与生猛的年纪。

体能只是一方面，我更怕的是脑子衰败。今日看到一则 [XKCD 漫画](https://xkcd.com/2093/)，觉得很有代表性。电脑变得更聪明不可怕，可怕的是我们的脑子好像啥也记不住了。漫画作者说，也许我们还有一条聊以自慰的理由：如今我们要操心的人和事已经忒特么多了，超出了我们的脑力范围。

![脑力不能自理](https://imgs.xkcd.com/comics/reminders.png)
---
title: 少年不识成功味
date: '2019-01-21'
slug: what-is-success
---

不记得是高三还是大一的时候我看到爱默生的这段关于成功的定义，颇为所动，所以当时背了下来（现在当然已经背不了了）：

> To laugh often and much; To win the respect of intelligent people and the affection of children; To earn the appreciation of honest critics and endure the betrayal of false friends; To appreciate beauty, to find the best in others; To leave the world a bit better, whether by a healthy child, a garden patch, or a redeemed social condition; To know even one life has breathed easier because you have lived. This is to have succeeded.

那时候我对各类成功学的书很痴迷。现在大家老说鸡汤鸡汤，但不知道有多少人真的看过[心灵鸡汤](https://zh.wikipedia.org/wiki/%E5%BF%83%E7%81%B5%E9%B8%A1%E6%B1%A4)系列。我从高二（2001 年）开始从书店里买了英文版的鸡汤系列来看，里面各式各样的故事在当时看来确实很动人，也学了不少课本上没有的单词。

如今鸡汤一词已经几乎变成了贬义，指那种烂大街、不切实际、听得耳朵起茧的激励。从我的经历来看，鸡汤本来是很有正能量的，到底为何它沦落至此呢？我想可能还是得归咎于信息流通太过迅速。互联网把所有人都迅速连接起来，而鸡汤的进化速度赶不上人民群众日益增长的心理能量需求。今日鸡汤的效用很容易被明日更猛的鸡汤盖过，等大家都喝够了鸡汤，鸡汤也就失效了。

当年看到爱默生这段话时，尚在少年不识愁滋味的人生阶段，只是觉得它很动人。如今反观之，方觉这段话貌似轻描淡写，但要做到却是不易。

- 爱笑？俗话说爱笑的人运气通常不会太差。因为运气差的人通常笑不出来。

- 赢得智者的尊敬和孩童的喜爱？我们有那么多智慧吗、以及还留有童心吗？

- 获得诚实批评家的欣赏、忍受虚伪朋友的背叛？我们能做到那样坦诚以及宽容吗？

- 欣赏美、发现他人的优点？我们连自己红红火火恍恍惚惚的生活都顾不上。

- 让世界变美好一丁点：养个健康娃、种块菜园子、浪子回头？

- 至少有一个人的生活因为你的存在而变得轻松一点？

真呀么天凉好个秋。
---
title: 第六届靠谱厮奖：朱雪宁
date: '2019-01-25'
slug: copss-6
---

距[上次](/cn/2018/03/copss-5/)靠谱厮颁奖典礼又已过去八九个月，本来这奖早该颁了，但我太话痨，博客里写了太多别的话题，把这个话题压到今天才写。其实现在写这篇颁奖文章时机已经不太合适，因为两个多月前我没料到雪宁在我给他们写的[推荐序前面又加了个注](https://mp.weixin.qq.com/s?__biz=MzA5MjEyMTYwMg==&mid=2650243111&idx=1&sn=4eedb133c2ffb76b207c10c7c900fc42)，这么一来搞得好像我们在开表扬与自我表扬大会。

我已经不记得雪宁是哪年从涛妹手里接过锅、走马上任统计之都主站编辑的，感觉好像有那么五六年了。这几年过去她在统计之都的内部称呼已经熬成了雪姨。在我那篇推荐序中，我提了雪姨身上让我敬佩的三点：领导风范、专业水平和敬业态度。所谓领导风范，就是能带领大家往前冲，有主动思考和担当的精神，比如想方设法争取稿源、或是安排一个大苦力团队来支持[统计之都网站的转型](https://cosx.org/2017/07/cos-new-site/)，有自己的想法和见识，不必等别人来安排或指挥；所谓专业水平，就是推公式和写代码都不在话下，有时也在 Github 上亲自审阅投稿；所谓敬业态度，就是虽然这个总编辑职位实质上是个毫无回报的志愿者职位，她仍然坚持花时间把每件事情落实、做好。

你就说如今的杂志编辑有几个会用 Github 吧，就更不必说在 Github 上的合并请求里审稿了。一点不吹牛，统计之都有世界上最先进和透明的投稿系统，但这也需要编辑和编辑部的配合，不是每个人都愿意学习这些看似极客的东西的（可能多数人都会抗拒）。雪姨不仅敲得了代码、打得过流氓，各大期刊文章也[照发不误](https://xueningzhu.github.io/publications/)。作为刚毕业没多久的博士僧，一年发七篇英文论文，俨然已经在网络结构数据和模型领域占领了一个山包。还顺手组织编写了一本 R 语言的书。瞧这炸裂逆天的节奏，如何不教人肃然起敬。

在我过去的博客中，我大约提过雪宁两次。一次是在《[西出阳关](/cn/2015/09/memory/)》中，里面的铝豪杰便是特指她，酒量非凡。二是在《[运气](/cn/2017/01/lucky/)》一文中，当时她组织大家写一份新年献词，我运气好，刚好将其名嵌入一首小诗，当时雪宁甚为惊异，扬言说要把它打出来挂墙上，不知后来此事是否落实。

落实不落实都不重要。总之，这靠谱厮奖我先颁为敬。子在川上曰：靠谱如厮夫！
---
title: 一字之霸气
date: '2019-01-31'
slug: one-char-power
---

耗时近两个月，终于把《将进酒》教完。他还不能自己一口气背下来，但基本的句子已经学会，每句话若我提示第一个字的话都能续下来。不知是因为我口齿不清没说清楚还是咋的，他把这首诗里面有个字给改了，意外产生了一点喜剧效果。

> 与君歌一曲，请君为我倾耳听。

他念作：

> 与君歌一曲，请君给我倾耳听。

一字之改动，霸气值翻番。就问太白你服不服吧。
---
title: 为什么这世界的规矩越来越特么多
date: '2019-02-01'
slug: helicopter-parenting
---

看了一篇《[为什么千禧一代如此精疲力竭](https://www.buzzfeednews.com/article/annehelenpetersen/millennials-burnout-generation-debt-work)》（注意千禧一代指的是在千禧年附近成年的人，而不是千禧年出生的人）。中心思想跟我以前提过的《[完美主义](/cn/2018/03/perfectionism/)》有些类似。为什么这一代人总觉得疲于奔命呢？作者认为是我们生下来就深陷一个优化过程，什么都要追求最好，难以容忍失败和不完美。这种念头日复一日耗光了我们的精神力量，导致甚至一些日常小事我们都不想去处理，比如寄信。我不知道这个解释是否有道理，但说到寄信，我自己确实是懒得出门。有一次我想给人寄点腊肉，纸箱子找好了放门口放了两个月，最后愣是没能把腊肉装里面拿去邮局。我知道我该打电话约牙医洗牙了，但这念头动了不下二十遍了，还没打电话（也有部分原因是因为我并不相信美国的牙医，认为他们总是没事找事、过度治疗）。

那篇文章里链接超多，我只点开了其中一个，讲[当今社会家长对孩子的过度保护](https://www.buzzfeed.com/jcstearns/finding-limits)。这让我很有共鸣，恰好我前不久在《[渴望](/cn/2018/12/craving/)》中也表达过类似的意思：我们小时候玩的很多东西在现在看来都是极度危险的，现在的家长肯定不会让自己的小孩那样玩，比如爬树、玩刀、玩火。就别说这些了，甚至是连十岁小孩和六岁小孩两人独立走一公里去家附近一个公园都能惊动警察、被拖上警车送到儿童保护所去，然后上新闻。这个社会对小孩的谨慎保护真是到了神经兮兮的可笑地步。孩子无论玩什么，都要有安全守则；无论走到哪儿，总有一双或几双眼睛照看着他们，保持着对他们行为的绝对控制。文中临近结尾的地方有两句话说得很好：秩序的反面不是无序，而是自由；控制的反面不是混乱，而是自制。我们要维护孩子世界里的秩序，一定程度上就是剥夺在他们的自由；我们对他们保持控制，就是让他们无法学会自己控制自己。

像我这种狗爹养娃就是尽可能放养，然而如今就算放养，孩子其实也没多大自由。比如他们能去邻居家随意串门吗？不能。能爬树、翻栏杆吗？不能。放养基本只限于室内。他要从几级楼梯上往下跳，我就让他跳，不怕他摔。他要拿根棍子到处跑，就让他跑，不怕他摔一跤戳到眼睛。我发现让小孩自己去做一些看似危险的事情恰恰能尽早让他感受到危险，从而学会自己处理、避免危险。拿爬楼梯这事来说，俺娃和邻居家的娃可以对比一下。刚学会爬之后不久，俺娃开始挑战楼梯，我就有意没阻止他、也不扶他，他小心摸索了一阵子之后，就学会小心翼翼爬上楼梯、趴着溜下楼梯了（还不会走着下楼梯，因为站都没学会，就更不必说走了）。上下几次之后我根本就不看了，我干我自己的事情，任他随意爬上爬下。有没有摔过呢？当然有，但一共也就滚下来过一两次；绝大多数情况下，他都会很小心，而且摔过之后会更小心。小娃质量轻、骨头软，其实非常经摔，况且楼梯上有地毯都是软的。邻居家娃则不然，看管非常细致，家长严禁她爬楼梯，结果等娃一岁好几个月、都学会走路了还不会上下楼梯。每次我带她在楼梯上玩时，她下楼梯完全没有危险意识，大跨步就要往下走，如履平地，于是每次我都得赶紧一把拽住她。

类似地，俺娃如今已经用面条机压过面条（有绞手指的风险）、摸过高压锅（在不算非常烫的情况下）、在我炸油条或麻花时感受过油锅的温度（当然不是把手放进去）、也帮忙往滚油锅里扔过面胚（我会演示如何尽量用压油花的方式入锅）、摸过菜刀（每次我只轻描淡写叮嘱一句：武功再高，也怕菜刀）、被抽屉和门夹过手、骑自行车摔过跟头、跟我生过炉子玩过火、在我上屋檐挂灯的时候爬过梯子（当然不会爬到房顶，只爬三四步而已）。这里说的主要是三岁半的老大。老二的历程也差不多，只不过还没这么丰富。总之，我的原则是：海阔凭鱼跃，天高任娃摔。

> 重要的不是永恒的生命，而是永恒的活力。

> --- 尼采

我们这代家长给娃树立的规则就已经够细枝末节了，要是老人来了，对娃的保护就更加夸张：上下楼梯时一步一随，爬沙发、爬凳子随时准备用手接着，凳子歪了赶紧帮忙扶正，娃遇到任何小困难一哼哼立马抱起来，娃站在冰箱前开冰箱都怕冰箱里的冷气吹到娃。我摊手表示很无奈，这娃有那么废柴吗。去年我跟一个朋友说我希望养出生气勃勃的娃，要尽最大努力避免养出那种只会白吃白喝、成天窝在沙发上玩手机打游戏的娃。我打从心底讨厌这样的娃，而我不希望将来我会厌恶自己的娃。我觉得这样的娃其实多半是大人的错：他们生下来衣食无忧什么都不缺，生活没有盼头、没有渴望，除了玩手机打游戏还能干什么呢？在这个衣食无忧的年代，我们作为家长只能人为给他们制造一些渴望了，让他们的人生还有一点实质性的牵引力。比如我会大力控制糖或甜食在我们家的供应，我知道他爱吃，但很少给他吃；比如一袋小棉花糖周一到周五每天一粒已经吃了快两年还剩一半，超市收银员每次送的棒棒糖要么不吃、要么最多舔五分钟他就主动上缴了。而且几乎每次吃甜食，我都会问他几遍他做了什么事情值得这份奖赏。这是贯彻[芒格的那句话](/cn/2018/08/poor-charlies-almanack/)：

> 要得到你想要的某样东西，最可靠的办法是让你自己配得起它。

谢天谢地，在这种稀缺供应机制下，老大现在已经有了很不错的延迟满足能力、而且通常不贪婪，我不必费很大劲就可以说服他把好吃的东西留到第二天或以后吃（他是如此适应这个模式以至于有时候会主动把好吃的东西留一段时间之后吃），而且他要是无功受禄（没有理由就得到一个奖励），在欣喜的同时也会表现出理亏的表情。

在外人或老人看来，这简直太残酷，然而我觉得这只不过是因为他们不明白什么叫坚实的幸福感。所有回报都必须对应劳动和付出。光靠开印钞机是不可能让所有人都发财致富的，只会造成通货膨胀。真正的爱不是放纵和一味满足或保护，而是确保娃能学会独立找到自己充实的幸福感，不用依赖我；我甚至都不在乎娃是否喜欢我。去年有一天老大冷不丁问了我一个问题：

> 爸爸你会死吗？

要是换作传统中国爹，估计一巴掌就呼上去了：你个龟儿子，敢咒我死。我知道他其实并不懂这个问题，不过这是个很好的问题啊。爸爸当然有一天会死。我这人虽然有点怕疼，但对死亡并没有多大恐惧。我的心态跟[脱不花](/cn/2018/11/tuo-bu-hua/)差不多：时时可死，步步求生。千龄兮万代，共尽兮何言。在死亡命题下，我们再想想我们平时是不是总在操些不值一提的心。如果宠他、保护他的人死了之后他还没学会如何保护自己以及拥有持续寻找幸福的本领，他这漫长的一生该如何度过？我们为他一时挡下的困难、痛苦都会在将来人生的某一刻以更大的体量袭来，到时候谁来帮忙挡？[去年我说过](/cn/2018/10/pot/)我最担心的下一代教育问题就是他们可能会过度缺乏挫折教育。

> 赤日炎炎似火烧，野田禾稻半枯焦。  
农夫心内如汤煮，公子王孙把扇摇。

回到最初那篇千禧一代的文章上，我觉得一定程度上千禧一代就是这农夫，愁天愁地愁空气，下一代则是那公子王孙。

路太平整啦，太中规中矩啦，太无聊啦。新新牧童们，没机会再在路上为人指杏花村，不能再骑黄牛、捕鸣蝉，也无处拾得旧刀枪了。
---
title: 一个月后又是一块好腐乳
date: '2019-02-04'
slug: fermented-tofu-2
---

含泪吃完那罐[稀腐乳](/cn/2018/11/fermented-tofu/)之后，痛定思痛买了块硬豆腐接着来。切块、放架子上沥水，然后在塑料盒子里铺一块笼屉布，把豆腐块摆上面，稍微盖一下盖子。室温约二十度，放三天就长白毛了，开始散发臭味。再放一天，拿出来滚上白酒（我主要是想杀杀菌，要是因为一块臭豆腐把自己毒死就太可笑了），装碗。装一层撒一次盐和辣椒面。最后淋上香油，大功告成。在豆腐硬、发酵时间四五天的条件下，出来就不再是稀糊糊腐乳。可以直接开吃，也可以再放一周，等盐渗入豆腐，那样味道会更好、更均匀。
---
title: 天无绝厨之路
date: '2019-02-04'
slug: unbeatable-chef
---

洒家行走厨房这几年，自然是遇到过不少困难，但通常能逢凶化吉、柳暗花明。我做的东西里最大规模的算是腊肉腊肠。最初做这些东西不知道该怎么放才能晾干，于是手执牛耳尖刀，一刀下去，在五花肉上捅一窟窿，再穿一根细绳进去，把绳子挂在挂鞋的架子上，鞋架则挂车库墙上。我老家是用棕叶挽成的绳挂肉的，我仿照了这种做法，只不过没有棕叶。至于腊肠，我则在割草机的两根把手之间穿上绳子，然后把肠挂绳上，这样很方便每天推出去吹吹风，早点风干。

然而腊肉不方便拿出去吹风，因为鞋架是挂式的，我没法把它扛出去挂在什么地方。后来我给菜园装上[铁丝网](/cn/2018/10/fence-lawn/)之后，还剩下一小段铁丝网没用完。看到这段废料，我想到一个办法。我的梯子是四段折叠式的，于是我把梯子折成桥型，把铁丝网铺上面，然后把腊肉放网上。这样就可以很方便扛着梯子进出车库了。

![梯子晾腊肉](https://user-images.githubusercontent.com/163582/52238215-1b9aa780-2891-11e9-894e-8a9c58246656.jpg)

上面也可以放腊肠和腊排骨。可能是我给它们吹风的时间太久，做好了之后都偏干、偏硬。我喜欢吃硬一点的腊肉（瘦肉部分要能拉丝），但腊肠已经硬得像石头，就不那么好吃了，其实这也跟美帝的猪肉太缺脂肪有关，纯瘦肉做肠实在太柴。

![自制腊肠](https://user-images.githubusercontent.com/163582/52225221-7c18ed00-286f-11e9-8c3a-fc5046fa7da9.jpeg)

今年做腊货碰到一个致命问题：在我把腊肠都摆进电熏箱之后，插上电才发现电熏箱短路了，一插电，插座就跳闸。可能是我平时太不注意保养的缘故，有时候熏完肉之后忘记把门打开，所以水汽凝结在电热丝上，导致电路短路。我看了几个维修视频，决定不修了，主要是懒得去找配件。这么大一个熏箱，扔了也可惜了了，于是我琢磨着能否烧炭发烟。正好邻居要出远门，过来跟我吩咐家里事，我顺便问他烧烤的炭是否有剩，结果他还有一大口袋。于是我抱了过来，用报纸发着了炭之后，放在熏箱的加热盒里，上面堆一些发烟木屑，发现发烟效果还可以，只是不能整体加热而已。用电加热能加速肉里的水分蒸发，用原始的烧炭办法则没有这个效果，那也无所谓了，无非就是将来把肉多搬出去几趟罢了。这又是一则废物利用的例子。

电熏箱的加热盒是一个很浅的盒子，我把炭放上去之后得很小心地把木屑堆在炭上面，没法一次加很多木屑，这样就导致烧一会儿我得出去添木屑或拨弄火。麻烦了两次之后我就忍不了了，上网搜了搜专门的发烟盒，发现都要十几二十块钱，这岂是我等铁公鸡能承受的。于是乎，在家里找个易拉罐，手执牛耳尖刀，在易拉罐周围和底部都戳一些洞，用来通风。然后把炭放进去，再在上面撒一大把木屑。用这种紧密堆叠的方式发烟效果就好多了，木屑可以加得多一些，火也不容易熄灭。

后来我嫌电熏箱里面的零件太多，索性拿把螺丝刀把里面的各种部件拆了个精光，只留下了四层烤架。这样易拉罐放箱子底下，可谓海阔凭鱼跃，大漠孤烟直。电熏箱整成了一个炭熏箱，效果相当好，还不必像以前一样因为怕把肉烤熟而纠结设置多高的温度。电熏箱、割草机、梯子和铁丝网的重新利用算不算克服[功能固着](https://en.wikipedia.org/wiki/Functional_fixedness)的例子？

![梯子晒腊肉腊肠，熏箱里面是腊排骨，旁边草地上还有个割草机，挂着几大串腊肠](https://user-images.githubusercontent.com/163582/52225220-7c18ed00-286f-11e9-844e-3bbe4438e8ee.jpeg)

有了这些土装备，到了风大或气温不够冻死人的天气里，我就像《东成西就》里搬马桶的怪物一样，每天把割草机、梯子、熏箱搬进搬出。人为财死，鸟为食亡，说的就是本人。[雪姨](/cn/2019/01/copss-6/)说的充满烟火气的忍者，也是本人没错了，但我估计她肯定没料到这个烟火气碰巧是实指。有时候我拨弄完烟火进屋，把手指给娃闻闻，他就知道这是火的味道。
---
title: 加缪
date: '2019-02-14'
slug: camus
---

我并不了解加缪这个人以及他的任何作品，但昨日看见一些引言（未考证），觉得有些意思。首先是关于回忆、精神的力量。它让我想起茨威格的《象棋的故事》，囚牢也可以催生出巨大的能量。

> 一个人只要学会了回忆，就再不会孤独。哪怕只在世上生活一日，你也能毫无困难地凭回忆在囚牢中独处百年。

我们都期待更好更幸福的生活，可正是这种想法（或者说是贪念）带来了更多的痛苦。

> 当对幸福的憧憬过于急切，那痛苦就在人的心灵深处升起。

辩论会无休止，只有同意才能结束对话。这个脑回路有点王尔德的风格。

> 当我听某个人说话听烦了，想要摆脱他时，就装出欣然同意的样子。

时常念叨自己弱点的人，到底是想改掉它，还是纯粹只是想受到怜悯和鼓励呢？

> 我们很少信任比我们好的人，宁肯避免与他们来往。相反，我们常对与我们相似、和我们有着共同弱点的人吐露心迹。我们并不希望改掉弱点，只希望受到怜悯与鼓励。

通往救赎之路没那么光辉灿烂。[不要憧憬什么胜利](/cn/2018/09/no-victory/)，苦难是常态，忍耐就是一切。

> 真正的救赎，并不是厮杀后的胜利，而是能在苦难之中找到生的力量和心的安宁。

待我有空也找他两本书来翻翻看。
---
title: 一口炖萝卜
date: '2019-02-15'
slug: radish
---

今年过年的时候用火锅料炒了一个麻辣香锅，操作极其简单，反正就是木耳、培根、腐竹、虾、笋、丸子等东西往锅里一扔瞎炒一通，我觉得味道还不错。前几天用剩下最后一小块火锅料和两勺豆瓣酱再炒了一锅杂七杂八的菜和肉。冰箱里面还剩个萝卜屁股，我也把它切吧切吧炒在里面了。见菜多水少，炒起来太干，我便加了一碗水，变成了炖锅，到出锅时，已经没什么汤了。

当我夹起一块萝卜吃了一口后，感觉一下子穿越回小时候。不久前[我才说过](/cn/2018/12/craving/)我小时候夏天吃一夏天青椒、冬天吃一冬天萝卜白菜。当然不是纯素，里面会放一些肉。炖萝卜白菜通常是先用豆瓣酱在锅里炒炒，再倒到炖锅里，把锅架在取暖的柴火堆上炖着吃。下一顿再接着往锅里下萝卜白菜并加盐，吃几天之后再重复炒、炖。因为持续加热，锅里容易烧干、变咸，所以萝卜的味道通常是又咸又辣又臭。咸是因为水少了，辣是因为豆瓣酱，臭是萝卜本身的味道。其实我除了太咸不太能接受，豆瓣酱辣和萝卜臭都是我喜欢的味道。地里的新鲜萝卜拔起来并没有那么臭，尤其是嫩萝卜，反而是有股清香。有时候拔一个出来，用指甲把萝卜皮剥掉，就像剥橘子皮一样（萝卜皮和萝卜可以完全分离，萝卜体是光滑的），咬一口水分十足，也挺好吃的。

长大后吃萝卜吃得少了，要吃也没吃过辣调料做的。这次用豆瓣酱炒一回萝卜，无意吃出二三十年前的味道。想来那时锅里没几块肉，都让俺弟兄二人挑出来吃了。那时俺弟讲了一句话，说有些肉像棉絮，大人们传笑了很久。有些猪肉确实像棉絮，看似肥肉却嚼不烂。我不知道这种组织的学名叫什么，我们的方言里叫 pāo（抛），意思是蓬松。
---
title: 紫菜蛋花汤
date: '2019-02-18'
slug: egg-soup
---

蛋花汤看起来简单，但我却一直有个疑问，就是如何做出漂亮的一丝丝蛋花，而且我偏好有一点稠感的汤。凭我的猜测，浓稠的汤应该是加过淀粉。有一次我把淀粉加在鸡蛋里一起打匀了倒进开水锅里，但并没有出来漂亮的蛋花，汤也不怎么稠。前些日子翻了一个菜谱，发现是先加淀粉水煮开，再倒蛋液。最近两天试了两次，果然这样做出来的蛋花就比较飘逸了。大约略稠的液体沸腾时流动比较规律而且相对慢一些，蛋液不会被咕嘟得一团乱麻，而是在锅里像丝绸一样翻滑。也可能跟我加完蛋液后马上关火有关。鸡蛋、紫菜、虾皮、葱等材料都不需要真的煮，往开水锅里一扔就够了。

除了水不要开到冒泡之外，专业的飘逸蛋花应该也只用蛋清，不用蛋黄；不过家里自己吃喝也就不用那么瞎讲究了。
---
title: 咱跑这么快终于被 Karl Berry 发现了
date: '2019-02-28'
slug: karl-berry
---

去年我说在 LaTeX 问题上[咱跑这么快咱直接拿个锤子砸了直接拿跑就是了](/cn/2018/01/brutal-force/)。当时李阿玲大侠提了一个我本来不认识的名字：Karl Berry。时光荏苒岁月穿梭，到了今年，突然有个自称来自 TeX Live 团队的 Karl 在我的 tinytex 库下[留言问了个问题](https://github.com/yihui/tinytex/issues/77#issuecomment-466584510)。我看这姓名怎么有点眼熟，跑到 TeX Live 主页上扒了一下，哦，原来是带头大哥之一啊。大驾光临，有失远迎。

我不知道他是怎么扒拉到我这个角落里来了。事情本来是这样，去年十月份的时候我费了牛鼻子劲在一堆我看不懂的 Perl 代码里找到了一个奇怪的代码缺陷，它导致 tlmgr 无法在 Docker 里安装或卸载 LaTeX 包。因为构造一个可重现的环境需要用到 Docker，所以我想了想还是没向官方团队报告这个问题，只是用最暗黑的 `sed` 把那句有问题的代码从 Perl 源代码中强行删掉了。这显然不应该是正规解决问题的办法，但限于我的时间和能力，我也只能走这一步了。

然后 Karl 发现了这个暗黑修正，问我为啥要这么整。我说我也不知道详细原因，总之我发现这里的 `die()` 是误报。他回去琢磨了一下，发现还真是。我长舒一口气，没想到我瞎比划的乱拳还真打到了老师傅。

老师傅请我给 TUGboat 写篇文章介绍一下 TinyTeX，还说这是 *nix 系统上他唯一知道的能自动安装缺失 LaTeX 包的 LaTeX 发行版（我有点不太相信，难道号称跨平台的 MiKTeX 在 *nix 上不能自动安装吗）。嘿嘿嘿嘿，过奖过奖。我这就给您写文章，只不过我不写纯 LaTeX 已经好几年，反斜杠已经打不利索，所以还是[用 Markdown 写吧](https://github.com/yihui/tinytex/tree/master/TUGboat)。

这个跑这么快的故事跑了一年到此算是[落幕了](http://tug.org/TUGboat/Contents/contents40-1.html)。
---
title: 影响力聚焦
date: '2019-03-01'
slug: influence-focus
---

两周前我在 Github 上看到一个开源项目叫 [Marp](https://github.com/yhatt/marp/)，大意是基于 Markdown 做幻灯片。在它的项目主页上，我注意到它的一幅屏幕录像动图，展示了它的实时预览功能。

![Marp 的实时预览功能](https://web.archive.org/web/20190824115121im_/https://yhatt.github.io/marp/images/marp-cast.gif)

当时我心里咯噔一下，心想这种一边敲 Markdown 源代码一边实时预览的功能搞不好在 [xaringan](https://github.com/yihui/xaringan) 中也可以实现。当时我还顾不上马上去实现，但在脑子里琢磨了一下需要哪些零部件。

- [x] 幻灯片页面与 R 之间可以通过 WebSocket 通信，所以我可以把 Markdown 源码发送到网页端；
- [ ] 网页端接收到 Markdown 源码之后能否转换为 HTML？
- [x] 通过 R 包 rstudioapi 可以获取 RStudio 编辑器的信息（比如当前行的位置），从而算出当前行对应幻灯片哪一页，以及当前页的完整 Markdown 源码；
- [x] 网页端通过 remark.js 的 API 可以获取当前幻灯片的页码或导航到特定页面；

第二个问题我稍作研究，发现有现成的办法。其实我就是在浏览器控制台里敲了一下 `remark.` 然后自动补全，发现有个 `remark.convert()` 方法可以将 Markdown 转化为 HTML。这样零件基本上都齐活了，就差拧螺丝了。

后来我不眠不休花了三天时间把螺丝拧了拧，基本上[组装好了](/en/2019/02/ultimate-inf-mr/)：

![究极无限月读](https://user-images.githubusercontent.com/163582/53144527-35f7a500-3562-11e9-862e-892d3fd7036d.gif)

这么一来，麻麻再也不用担心我做幻灯片时顾首不顾尾、顾尾不顾首了。在 RStudio 编辑器内移动光标时，幻灯片会自动跟随翻页。如果点击幻灯片页面之后再翻页，那么编辑器内的光标也会自动移动到相应的源代码的第一行上。在编辑器内敲 Markdown 源码时，不用保存文件，就可以边敲边在右边实时预览。

---

以上都是题外话。我要说的是一个我观察到无数遍的现象，就是多数人做事似乎都不太注意影响力建设，这一点恰好是本螺丝工的强项之一。而影响力建设不起来，一个非常常见的原因是不注意聚焦。我已经无数次感叹现如今想吸引人的注意力多么困难，因为吸引注意力的手段进化越来越快、越来越狠（算法驱动）。作为普通的肉身凡胎，我们剩下的为数不多的手段就是聚焦：让你的每一件工作、每一点精力都聚焦在同一个地方发光。比如写文字就只在同一个地方写（不要微博、公众号、豆瓣、微信读书书评到处跑）、开发软件就只在一个地方出没（[没必要](https://d.cosx.org/d/420471/13)注册 Gitlab 账号）、搭网站就只搭一个。如果不聚焦，你的精力和付出看起来就像没装灯罩的灯泡：就算灯丝再亮，房间里总体感觉仍然很暗。我几年前曾劝诫小楠君，不要买一大把域名在手里，而是只做一个域名，把自己每一个项目都变成同这个域名下面的一个文件夹。

这种发散现象太普遍了，我甚至怀疑人有这种本能。包括敝厂的网站，域名也是一大箩筐。当年上线 ShinyApps.io 我心里就觉得很不合适，因为这个域名看起来与 RStudio 毫无关系；我倾向于用 rstudio.com 的子域名，比如 apps.rstudio.com，这样可以同时公司品牌和 Shiny 应用品牌增加影响力。独立分开的结果是公司要费力解释这个域名并为它摇旗呐喊，这是我们的产品啊，啊啊啊；然后 ShinyApps 那边也要摇旗呐喊，我们出厂于 RStudio 啊，啊啊啊。其实有啥子必要喊嘛。同理，现在 rstudio.cloud 又是一个域名，叫 cloud.rstudio.com 多好。Github 账号也是，教育培训的团队专门新建了一个账号。厂子不大，厂房倒是各地建了一大堆，各自装修挂牌，白白错过规模效应。

这个话题跟 Marp 项目有啥关系呢？太有关系了。当我看到这个 Github 库时，它的页面上写着我们已经搬迁到另一个账号下，当前库已经废弃，不再维护。我抬头看了看星标数，接近八千，已经是极为成功、极有影响力的 Github 项目了。我估计我这辈子都到不了这个数。积攒了两年的影响力，就这么废弃掉、从头再来，实在可惜。其实 Github 项目是可以迁移的，迁移给别的个人或组织账号都可以，这样可以保留所有历史数据。从头再来的 Marp 新库过了一年时间，积攒了三百八十个星标。从八千到三百八，就问你惨不惨。

我老说我其实码力（代码能力）中等水平，很多人不信：你楞个儿有名，写代码的本事应该是杠杠的呀！嗨，根本不是这么回事儿。充其量我比较会拧螺丝，拧好之后把这些劳什子归置在一个地方而已。摆出来的劳什子多了，看起来也就厉害了。人来一看，嚯~\~哦！这也是你做的，那也是你做的。至于那劳什子究竟是个啥劳什子，多数人并不会关心，也没那闲心仔细一件件钻研。
---
title: 精神焦虑症的自救
date: '2019-03-04'
slug: help-your-nerves
---

前段时间翻了一本小册子，叫《精神焦虑症的自救》，作者 Claire Weekes，译者好像也不是正规翻译，就是随便译了一下放了个 PDF 在网上，里面因为拼音输入法带来的错别字非常多，不过多数可以自动脑补纠正。书的最后一章（第二十六章）的最后几段有些意思，章名叫《什么人容易患神经疾病》：

> 在学校我们学习历史、数学等课程，但却很少进行克制和自律的练习。这样的教育被留给了家长们来完成，但是很多家长并不了解这两个词的确切含义，更别说让孩子练习了。克制和自律是我们自身防御机制中的最重要的一部分。一个成熟的人能够冷静地对待任何事情，他不会头脑发烧，而只会在深思熟虑的情况下采取行动。要想使行为摆脱情绪的影响其实是很难的。任何想要撇开不快的情绪反应进行理性思考的人都会发现很难逾越那道情感的障碍。我们常常会害怕不愉快的感受，以为面对它们之后会变得更加不愉快，于是我们努力地想要在它们成为现实之前将它们消除。

> 如果我们在成长的过程中太受父母宠爱，以至于任何不喜欢的东西都可以被迅速替换成自己喜欢的东西，并进而把自己的感觉看得过度重要的话，我们会尤其受不了不快的感觉。在这种情况下，我们通常希望不快的感觉能够得到迅速的缓解，而不愿等情绪平静下来之后再采取行动。

> 如果我们的教育包含了忍受不快的体验并承受最初的冲击，直至我们能够平静思考的训练，那么很多明显无法忍受的情形就将变得可以忍受，而很多神经衰弱也将得以避免，因为神经衰弱正如本书一再强调的那样，不过是我们在长期的不快和恐惧情绪控制下产生的情绪与精神上的疲劳而已。中国有句古话：“麻烦是一条可以通过的隧道，而不是一堵让我们撞得头破血流的砖墙。”

> 一定程度的痛苦对我们来说是有好处的，尤其在年轻的时候，我们更不应该得到太多的庇护，因为从现在的痛苦中获得的经验将成为日后你的一笔财富。

再次遥相呼应稻盛和夫[书中的那句话](/cn/2018/12/craving/)：年轻时的苦难，出钱也该买。作为一个成年人，我也是近年来才开始意识到刻意忍受不快的必要性。回头想来，克制和自律在我们的成长教育中似乎真的并没有被专门训练过。而未来社会里我们可能也会越来越难感受到不快，因为物质条件一直在进步，精神鸦片也越来越强效。神经疾病患者会不会越来越多呢？

又及：上文中那句所谓的中国古话怎么看都不像是来自中国，我也没找到英文原文，所以无法考证到底原话是谁说的以及怎么说的。
---
title: 薅羊毛的诱惑
date: '2019-03-20'
slug: free-lunch
---

上周六打羽毛球时，不小心一球拍狠狠抡到自己眼镜上，打掉了一只镜片（没碎，看来十五年前配的树脂镜片质量相当好），并接着砸到一只眼睛。我打了大约六年球，这是头一回自作孽把自己打伤。之所以打到自己，还是因为懒：球已经过了身体，但脚下不想退，于是面向后场、想单凭手腕的蛮力把球抡回去，结果没收住、正面抡自己头上。等我把镜片安回去，就觉得那只眼的视线有些模糊。再过了十来分钟，我抬头看灯都能看见彩虹了，感觉好像大事不妙，于是赶紧撤回家。在万恶的美帝周末看医生只能看急诊，而我在家眯了一会儿眼之后，觉得有所恢复，所以就没去急诊。等到周一打了一圈电话随便找到一个眼科医生，给我左右瞧了一圈，说没事。谢天谢地，捡回一只狗眼。

美帝看医生从来都是先看再寄账单，所以我照旧不知道这次检查会花多少钱（虽然我有保险）。这是我第一次看眼科医生，进诊所就觉得环境很是高档，见到打扮时髦的前台我不禁缩了缩我一双沾着泥巴的脚（前一天在园子里种菜踩的），她问我要不要来点喝的，各种咖啡饮料都有。我想了一秒钟就拒绝了，我啥都不喝。她还贴心地说如果你什么时候改主意了再告诉我。后来别的病人陆续进来，她便踩着高跟鞋噔噔噔给他们端茶倒水、并挨个嘱咐咖啡很烫，我目测好像我是唯一不喝东西的客人。我不喝咖啡是因为我对咖啡很敏感，喝了很容易失眠，而且我不喜欢这种容易成瘾的东西，并且我不需要提神（工作时间里要是我困了想睡就睡）。我一般也不喝水，因为我属骆驼的，通常不太容易口渴（除非吃了非常干燥的东西，如我喜欢的炒花生米）。其它免费饮料我都不喝，一是不渴，二是有意抵抗这种免费的馈赠（我不想被影响；参见《[影响力](/cn/2017/12/influence/)》）。

我看完医生要走的时候，护士又贴心地问我要不要一副太阳镜，我也立马回绝了，不过这次是条件反射式的，因为我出门时已经带着太阳镜在身上了。三秒之后我才想到，她说的太阳镜很可能是免费的，于是心里掠过一丝遗憾：好好的一把羊毛没薅着。再转念一想，我不需要的东西为啥要去薅呢。自认为佛系中年如我，也难敌这些免费的诱惑和贪念。其实羊毛薅来薅去，最终都是自己[直接或间接买了单](https://yufree.cn/cn/2019/03/06/business-trick/)。我一个人不薅，表面上是亏了，因为我要为别人的咖啡饮料太阳镜买单，然而如果没有这种克制贪念的心态，你掉进商家的坑要么浑然不觉，要么不好意思爬出来（受互惠手段的限制），损失其实会更大。过去我出门开会就特别爱拿那些免费的小玩意，通常提着免费的会议袋子去各家展销商假装看人家是做什么的，然后搜罗笔、T 恤、充电器、U 盘等劳什子，其实拿回家也就是一堆垃圾，很少有用得上的，白白浪费搜罗的时间。今日在此立个牌坊，以后出门我不再薅这种羊毛。

一杯免费饮料，我要付出的代价可能是失眠、长膘、憋尿。一副免费太阳镜，我要在家里找地方收纳，将来收拾的时候还要纠结到底要不要扔掉。错错错，莫莫莫。
---
title: 成年人的丑眼
date: '2019-03-22'
slug: ugly-eyes
---

既抠门又懒的我需要近期证件照的时候通常在家自己照，弄好的照片拿去洗只需要花几毛钱。众所周知，自己照证件照最大的问题就是去除背景，除非家里有专门的灯光和背景设备。后来我发现相对还比较好用的背景是我笔记本的外接显示器：打开浏览器，在地址栏里敲 `about:blank` 得到一个空白网页，全屏之，然后就可以蹲在显示器屏幕前照相了。即使是这样的纯净背景，有时候也很难保证干净利索的证件照，照完还是要修修修调调调。

今年我发现一个自动去背景的网站：<https://www.remove.bg>，下次也许可以用上。看这个网站的照片样例时，我发现六组照片中，只有两组小朋友的照片露出了眼睛，青年和中年人要么戴墨镜，要么背过身去看不见脸。我心想也许这可以说明多数人长大之后眼睛都不太好看，而一眼定百丑，所以拿墨镜挡着。这样看起来酷酷哒、美美哒，感觉有点明星范儿。不知道这算不算“[世上最可怕的事情是完全接受自己](/cn/2018/11/mediocre-self/)”的又一个例子，也许是我想多了。
---
title: 公共厕所咩，想来就来想走就走
date: '2019-03-25'
slug: just-asking
---

今日在 knitr 库中收到[一则报告](https://github.com/yihui/knitr/issues/1690)，说某个排序函数在 knitr 文档里没法运行。看了这则报告，我心情不太好（本来包包子的时候因为馅儿和多了拼命塞馅儿导致包子个个开口已经心情够不好了）。于是索性再当一回真小人，在中文博客里说说坏话（还请好事者不要把我的牢骚捅到英文社区）。为什么我不喜欢这样的报告？原因如下：

1. 伊开新帖时强行忽略了我的[新帖模板](https://github.com/yihui/knitr/issues/new)。我在模板中特意强调了，所有新帖必须符合三个条件，三个条件前的复选框都要打勾，不打勾的事项我保留忽略或关闭的权利。伊删掉了我的条款，只顾自说自话。

1. 用词含糊：“will not knit”就跟“[不工作](/cn/2018/11/work/)”一样，信息量几乎为零。

1. 这不是我第一次提醒伊发帖时要先阅读库主的新帖模板了，以前我在另外一个库中提醒过伊了： [rstudio/rmarkdown#1150](https://github.com/rstudio/rmarkdown/issues/1150)（而且那一则事项又触犯了[我的大忌之一](/en/2017/10/cross-posting/)：重复报告但又不说明在别的地方重复报告过 [yihui/knitr#1437](https://github.com/yihui/knitr/issues/1437)，这一则大忌我已经在新帖模板中说明过；况且帖子格式也不对，我不是强调美观问题，而是格式直接导致了语义都不对，格式问题我同样在模板中有强调）。

1. 如果伊真的遵照我的新帖说明去做（测试一下开发版的包），伊根本没必要开这则报告，因为这个问题我好些天前就已经修正了。

1. 伊最后的辩解让我想起《疯狂的石头》里包世宏的一句名言（发现翡翠展厅里有小偷来过但没抓到）：公共厕所咩，想来就来，想走就走！伊辩解说：我不想装你的开发版的包，因为这样会给我制造麻烦，我只是好心到你的库里顺手一报告。

所以出于好心的行为就可以不看公厕守则、想来就来想走就走？果然是[好心人容易给自己颁发办事牌照](https://translations.headsalon.org/post/2018/07/%E4%B8%80%E4%B8%AA%E7%9C%8B%E4%BC%BC%E7%9F%9B%E7%9B%BE%E7%9A%84%E8%AE%A4%E7%9F%A5/)乎？

可惜寡人手无缚陀思妥耶夫斯鸡之力。讲真，要是打得过，我就不在这儿发牢骚了。

![手无缚鸡之力](https://user-images.githubusercontent.com/163582/54971525-c572e800-4f54-11e9-8055-b58dd88a4e5d.gif)

好了，牢骚发完，也终于找到了一幅我很久以前看到但失传的动图，算是收之桑榆。深呼吸一下明天继续与其它 Github 事项大战八百回合。
---
title: 信息泛滥对商业、教育、政治的影响
date: '2019-03-27'
slug: information-abundance
---

花了几小时终于看完一篇文章《[这个时代特么怎么了](https://www.perell.com/blog/what-the-hell-is-going-on)》，从商业、教育和政治三方面讨论信息从过去缺失到现在泛滥的影响。我对教育的兴趣最大（因为关系到娃），政治其次（多少关系到自身、人就是江湖），商业再次（反正我对购物也没什么兴趣）。稍微总结一下这篇文章。

先说商业。过去信息缺失，我们只好选择信任品牌，尤其是大品牌。随着商品信息的增加，人们对品牌的忠诚度在下降。大品牌很难再垄断广告渠道，因为广告渠道也在从过去的单一（如报纸、电视）到现在的多样化（如所谓的自媒体）。在垄断的情况下，大品牌对人有惊人的黏性，例如吉列剃刀想提高利润的话，只需要提价就可以了，即使卖的还是几乎一样的刀片，人们还是会买。现在的网络有无穷多的虚拟货架，可以摆放无穷多的商品，消费者可以尽情挑选；另一方面，网站上也可以找到公开的顾客评论，这极大解决了过去的信息不对称问题。两个因素加起来，将商业活动的主角从过去的供应商换成了现在的顾客。

对我而言，更多的商品种类反而会触发我的选择恐惧症，而且我感觉信息不对称的问题至少在目前阶段还没有很好解决：确实是有公开的顾客评价或评论了，但这些评价是否靠谱、对我是否适用，都很难说。有时候看评论反而越看越迷惑，因为众说纷纭。很多东西不拿到实物自己试一阵子，根本不知道合不合适。只能说公开的评价体系比过去更容易把最恶劣的卖家踢出去。

再说教育。在信息缺失的时代，学校系统掌握了大量从外界难以获取的信息（比如昂贵的论文数据库）。学生支付学费，最终换取一张毕业证书，也是传统意义上的一张能力认证书，从而换取一份好工作。现在学费越来越贵、高学历人群也供大于求、想要得到的信息都可以轻松得到，到底为什么还要上大学呢？爱尔兰一位十九岁的小伙儿利用网络信息和论坛自学并造出了一个核聚变反应堆；当他需要钱时，他就到网上去众筹，而不是找父母要钱去大学交学费。大学有两个传统作用：教育（输出独特的信息）和品牌（认证）。前一个作用在信息泛滥的今天已经在逐渐失去价值，只剩下品牌还在那儿撑着：如果你能熬得过某大学枯燥的课程并取的好成绩，它便是各种优秀人格的象征。随着大学和学生数量的增加，这种象征也在贬值。

Peter Thiel 认为“中上阶层的父母为了不让自己的孩子将来掉进社会的各种坑，便盲目为他们购买大学这张昂贵的人生保单”。我觉得他的比喻有些道理，我们可以自问我们到底花了多大的精力去思考上大学的目的。想清楚目的之后再回头来想手段：大学是唯一的手段吗？如果这个手段在逐渐变得低效，我们还要坚持[历史路径依赖](http://www.fengjunchen.com/education-in-info-economics/)吗？小学课文中，对我影响最大的除了《小马过河》和《渔夫和金鱼》，还有《刻舟求剑》。这些看似幼稚的讲给小朋友的故事，其实无时无刻不发生在众多成年人身上。

作者讲了他的一些聪明的青年朋友如何跳过大学这一步：首先找一个复杂的主题或不需要经验的新兴行业，其次玩命做研究，最后通过在网上分享他们获取的知识而吸引来工作机会。

过去大学有独特的获取科研基金和信息的渠道，现在和将来这个优势会被削弱：也许众筹是更有效的获取基金的方式（但如果大学教授都用众筹方式获得基金，那么可能有些教授会失业，因为他们的研究[没有什么应用可言](/cn/2017/09/applied-science/)），而大学掌控的知识和信息在网络时代再也不会是什么独特的秘密信息。

最后说政治。信息爆炸以及传递信息的渠道爆炸让权威开始失去力量，人们不再像过去一样完全相信少数几个权威，并变得愤怒、焦虑和多疑。社交媒体让候选人和选民可以直接沟通，民众不需要再依赖传统媒体或听取精英的意见。川普的当选，靠的只不过是注意力经济。某种意义上他甚至间接绑架了媒体：媒体要是不报导这个奇异的总统候选人，那么就会失去关注，从而造成经济损失，最终结果是所有聚光灯都打在了这个疯子身上。

信息的缺乏或泛滥都没有绝对的好与坏，问题是我们的脑子只有那么大，所以面对泛滥的信息必须有所取舍（如摒弃诸如微信朋友圈、微博、推特、脸书之类的低质量信息来源），并努力压缩和消化（如写读书笔记）。即使维基百科在内容上完全打败了大英百科全书，我们也没办法把维基百科整个塞进脑子里，最终我们还是得聚焦。
---
title: 政治与英语
date: '2019-03-28'
slug: politics-and-english
---

去年我偶然[看见](/cn/2018/11/phd-or-work/)有人提奥威尔的《政治与英语》时，我还以为那是一本书，直到今年我才知道，原来它只是一篇文章“[Politics and the English Language](https://en.wikipedia.org/wiki/Politics_and_the_English_Language)”（[这里有全文](http://www.orwell.ru/library/essays/politics/english/e_polit/)）。看了这篇文章之后让我觉得相见恨晚，奥威尔有个观点跟[我前不久说的](/cn/2018/11/work/)差不多：语言的模糊与思想的模糊高度相关，你说不清楚的东西很可能是因为你没想清楚。至于反对不必要的被动语态，我[好些年前](/cn/2009/11/common-sense-in-english-writing/)看“The Elements of Style”就已经在脑子里打下了深深烙印，奥威尔也同样这样建议；类似地，他反对过度使用否定句，这个问题我也有意识到，但有时难以避免，尤其在诗词里，比如写中学老师的那首[水调歌头](/cn/2018/10/middle-school-teachers/)里我用了三处否定、给导师的[空泛一联](/cn/2017/10/zhao-couplet/)中两次否定、给编辑部的新年致辞的[一坨诗](/cn/2017/01/lucky/)中也是两次否定、最早的[一首五律](/cn/2015/10/wind/)也有个“不”字，简直是提笔就是“不”和“无”的否定，真是个汗颜的模式。

这篇文章用五段样例文本总结了当时英语写作的四个毛病，其中第四个是使用无意义的词语。在他举的例子里，我很高兴看见了科学（science）一词，因为这正是我[前年提过的一个词](/cn/2017/08/political-correct-diversity/)：凡是标题或口号里带着科学字样的文章，我都会条件反射式地产生警觉，因为这个词实在是被用烂了，它的高度抽象使得它几乎没什么实际表意的用处。第三个毛病是矫饰的用词，这也是我以前在《[江阔云低断雁叫西风](/cn/2014/06/on-writing/)》中说过的。

在政治上，语言的模糊一方面有很强的传染性，大家互相模仿这种机械的文风（我感觉这跟中国人里的中英混杂传染有些类似），另一方面也是政治家有意用模糊的语言掩盖真相。我觉得下面这段是这篇文章里写得最好的一段：

> In our time, political speech and writing are largely the defence of the indefensible. Things like the continuance of British rule in India, the Russian purges and deportations, the dropping of the atom bombs on Japan, can indeed be defended, but only by arguments which are too brutal for most people to face, and which do not square with the professed aims of the political parties. Thus political language has to consist largely of euphemism, question-begging and sheer cloudy vagueness. Defenceless villages are bombarded from the air, the inhabitants driven out into the countryside, the cattle machine-gunned, the huts set on fire with incendiary bullets: this is called pacification. Millions of peasants are robbed of their farms and sent trudging along the roads with no more than they can carry: this is called _transfer of population_ or _rectification of frontiers_. People are imprisoned for years without trial, or shot in the back of the neck or sent to die of scurvy in Arctic lumber camps: this is called _elimination of unreliable elements_. Such phraseology is needed if one wants to name things without calling up mental pictures of them.

尤其最后一句：模糊的用语正是为了避免让民众脑中产生具体的意象。

奥威尔讲清晰语言的最大敌人是缺乏诚意。这一点我在《[脱不花的三盏灯](/cn/2018/11/tuo-bu-hua/)》中提过，在那里我举的例子是赞扬人：现在人们的赞语普遍苍白无力，我认为根本原因就是没有用心。而为什么我们不再用心赞？我觉得是社交媒体制造的点赞文化驯化了我们：不用费劲去想或打字，用手指头秒戳一下那个点赞按钮、或发送一个大拇指表情符就好啦；棒棒哒，么么哒，然后呢，没有然后啦。

从这篇文章里的正例、反例以及奥威尔自己的语言来看，他似乎最看重那种能直接勾起读者的画面想象的语言。如此看来，奥威尔跟那位整天点评“[如画](/cn/2015/09/memory/)”的金圣叹和青睐“不隔”之诗词的王国维若是泉下相逢，估计会像失散多年的兄弟，见面击掌痛饮三百杯。
---
title: 第七届靠谱厮奖：李东风老师
date: '2019-03-29'
slug: copss-7
---

[过去的靠谱厮奖](/cn/2019/01/copss-6/)我一般都是站着颁，因为都是给同龄人（其实是都比我小），这次我得跪着。

今天在 Github 上批折子的时候看见[有人提到](https://github.com/yihui/r-ninja/issues/17)李东风老师的一份 R 语言教程，于是我顺着链接过去看了一眼。嚯，竟然是用 bookdown 写的，心里不禁老鹿乱撞、倍感荣幸。

2004 年左右我初学 R 和 S-Plus 时，中文资料相对比较缺乏，可以说我有两位^[其实还有一位是[丁国徽](https://github.com/dingguohui)博士，他最早翻译了 R 的所有官方手册。[后来](/cn/2008/12/1st-day-of-1st-chinese-r-conference/)我办第一届中国 R 语言会议时，他还从德国飞回来作了报告。]最重要的入门导师，但他们不知道他们指导了我（至少当时不知道）。一位是华师大的汤银才老师，另一位便是这位北大的[李东风老师](http://www.math.pku.edu.cn/teachers/lidf/)。后来 2016 年我在北京参加 R 会议时终于头一回见到活的汤老师（他一直非常支持我们的这些 R 活动），而这位李老师我是至今素未谋面。现在还能扒出来当年我学习 S-Plus 时借鉴李老师资料的痕迹，如 [2005](/cn/2005/10/17-02-00/) 和 [2006 年](/cn/2006/02/23-37-00/)我都提过他。

其实他不仅是我的 R 语言入门导师，也可以说是我的 LaTeX 导师之一^[当年的其他重要 LaTeX 导师还包括清华的那位退学博士王垠以及中科院的吴凌云老师。前年吴老师还报名参加了中国 R 会议并作了报告，当时收到他的报名邮件后我们一班 COS 人马惊喜异常，立刻列队肃立敬礼。]。同时会搭建网站又乐于分享自己创作的学习资料的老师在当时是凤毛麟角，哪怕到今天，这个交集里的老师仍然不多。很多老师要么是网站盲，要么只顾科研教学，没空或没兴趣研究或创作这些基础学习资料，而对学生来说，这些资料的重要性和实用性不亚于、甚至超过老师们发表的高大上论文。

一晃十五年过去，他的个人主页上依旧挂着很多他自己写的学习资料，而且相当与时俱进（看那整整齐齐的 Julia 资料），令人敬佩。不知将来我会不会有机会趁开会会会他、当面奉上我的膝盖。

子在川上曰：靠谱如斯夫！^[鉴于我们并不熟，我把我常用的“厮”改成了正经的“斯”，就不贸然用粗鲁的玩笑称谓了。]
---
title: 身健在，且加班
date: '2019-04-05'
slug: 996-icu
---

古人通常努力[加餐](/cn/2018/11/eat-more/)，今人却很不幸，要努力加班。上次我回国的时候就[感慨过](/cn/2017/01/blog/)北京不是人待的地方，涛妹和太云半夜还在加班。今日看见一个星标数大得惊人（近二十万）的 Github 库，叫 [996.ICU](https://github.com/996icu/996.ICU)，它曝光了那些黑心加班公司，也有良心公司名单。这些黑心名单和报道真是令人窒息。

[上上次](/cn/2015/09/memory/)我回国的时候跟北京的高中同学聚会的时候，谈起工作，他们都对我的工作模式感到不可思议，羡慕得不要不要的。首先是在国内很少见在家远程工作的模式；其次是我的工作内容我做主；再次是没有年假一说，自己想放假就可以放，提前跟公司知会一声就可以了。

这些是表面上的模式，实际运作大约是这样：远程工作省下了不少通勤时间，这一点非常合我心意，因为我觉得上下班的通勤实在是浪费时间。我每天也就是在接送小孩上花十分钟左右开车（托儿所离家只有一首歌的时间），剩下的时间就是端坐在家，而电脑是我的第一大时间杀手，厨房第二。理论上我有充足的时间工作，但作为码农，我每周真正花在写代码上的时间平均应该在五小时以下。我的很多时间都花在 Github 上批折子，这些永远批不完的折子让我很是身心疲惫，所以我也变得[心肠越来越硬](/cn/2018/09/inbox-zero/)；今年我已经开始不由分说就关闭一些不靠谱的折子，因为这些小主显然没有读我的折子指南，也不提供我要求的信息，我只能手起刀落，咔嚓一刀剁翻之，省得在眼前不停嗡嗡嗡。

关于我做主的工作内容，从 2016 到 2018 年还算我能主导，而到了今年，我发现我维护的 R 包似乎已经到达了我的极限（目前是 23 个）。过去的两个多月，我就一直像扔杂耍球一样在扔那些包，把它们一个个扔上 CRAN，再着手打理下一个已经积攒了一堆事项的包。这 23 个包当然不是个个都重要或耗费精力，有些都没用或没人用，或者极度稳定、不需要维护（如 mime）。若按费劲程度排序，大致如下：rmarkdown、knitr、bookdown、DT、xaringan、rticles。这六大魔王通常需要大块时间照料，剩下一些喽啰包每隔几个月也要浇水施肥：pagedown、tinytex、tufte、servr、blogdown、xfun、animation、evaluate、formatR。再剩下一批我基本上不用打理的包：fun、highr、markdown、mime、MSG、printr、Rd2roxygen、testit。我做码农这几年快到了立地成佛的地步，原因就是我看到太多这个代码世界里的贪嗔痴，有时觉得挺无奈的。我在 bookdown 书的最后附录中给了一条[佛系建议](https://bookdown.org/yihui/bookdown/faq.html)，但似乎也没多少人愿意听。现在已经有好些人帮我分担压力，如靠谱厮[俞丽佳](/cn/2017/04/copss-2/)从我桌上端走了 animation 包、另一位靠谱厮[谭显英](/cn/2018/03/copss-5/)壮士发死力帮我扛着 DT 包、一位忠厚的法国友人 Christophe Dervieux 在比我早的欧洲时区提前几个小时就帮我批掉一些 Github 折子并重复那些我重复了一遍又一遍的话、TC 君帮我照料着 xaringan 并偶尔也在 blogdown 库里现身，但即使这样也仍然不太够。Github 上的折子仍然像野草一样疯长，这种数量级的折子本身可能并不可怕，也不是每个折子都很耗费精力，但很容易引起决策疲劳；就算每个折子只需要我做个小决策，数量多了也受不了，所以我最高兴看见的就是早上起来时一些折子我还没过目就被关掉了。如果有客官感兴趣，我欢迎任何人帮我批复任何库里的任何折子，也欢迎提着补丁来帮忙修理八阿哥或实现新功能，或者像俞丽佳一样把整个包连锅端走。我唯一的期望是这样的壮士能有点毅力，这方面谭显英壮士是个极好的例子：连我都对 DT 包的维护感到有些吃力，他居然到现在还没被逼走，但愿这事不要影响到他的本职工作。上面六大魔王里，其实 rticles 现在已经只是小魔王了，因为前不久我花了一周时间把它[大力精简](https://github.com/rstudio/rticles/commit/2b5091ed3)了一下，之前的代码实在太特么冗余了（虽然是我们厂长写的），非常不利于维护和新手贡献；要是有人想背锅，这口锅很轻，可以优先考虑，前提是有 LaTeX 功底。

如果这些锅能去掉一半，那我觉得我还能回到自己做主的工作状态。去年我就有两本书的计划，但直到现在都四月了还一字没开动。这么下去，我的一年一包一书的链条怕是要断掉了。

至于休假，理论上无限量，但肯定得拿出工作成绩来，否则休假会休得理亏。我从 2015 年 3 月到 2018 年 8 月这四年多都没有主动请过假，这是因为我感到亏欠而弥补[当年的过错](/en/2018/02/career-crisis/)。当然，不主动请假不意味我一天也没休息过，法定假日我通常会休息，主要是因为娃同样放假在家，我没法干活；然后就是娃生病，经常就是废掉一整周时间。我这四年的第一次主动休假就是那次我写《穷查理宝典》[读书笔记](/cn/2018/08/poor-charlies-almanack/)的那周，结果一周五天我就用了三天写那篇笔记。

回过头来说加班之事。我们厂鼓励休息、甚至想执行强制休假政策，希望员工有饱满的精力把事情做好，并不在乎你究竟工作多长时间，所以朝九晚五对我们来说毫无意义。你要觉得半夜效率最高，不妨白天玩一天，夜里干三小时活儿，那也是可以的。我们厂长本人可能是厂里[最勤奋的码农](/cn/2018/05/github-contributions/)，他先通过自己的勤奋实现了财务自由，然后终于可以专心致志写他的代码了。我不知道他通常几点下班，但早上一般四五点就开工了，很可能是朝四晚五的模式。这种工作模式听起来很疯狂，但写代码就是他最大的爱好，所以他字典里应该压根儿就没有加班这个词。

这次的 996.ICU 风波让我想到如下一些问题，这些问题我都没有确定的答案，因为我不了解别人的公司和员工，只能从我自身的情况出发琢磨，而我又不是一个有代表性的公司雇员。

1. 为什么我们的工作永远干不完？

    这个问题可能与具体的某个公司与员工无关。我不知道如今还有多少人每天放工时还有那种“今天的工作做完了”的感觉。对我而言，我就没有任何一天有这种感觉。每天浏览器里都是三四十个标签栏，多数是 Github 的那只八爪猫图标。我甚至都没有“下班”的概念。只要人往电脑前一坐，就可以轻松看见接下来很多天的活儿，根本看不到出头之日。好在我还有选择权，可以选择扔掉一些任务，但如我前面所说，就算只是做这个选择工作，也是够苦恼了：一群人可能都在眼巴巴看着我，我凭啥处理这个人的报告而丢弃那个人的报告呢。
    
    软件的工作永远干不完，可能终极原因还是人心太贪婪，我们总要这样或那样的新功能、要更快、更美，永远无法满足。我常年抨击 LaTeX 的本质原因就是因为它助长了人心对排版的贪婪，在 Markdown 世界里我们则可以被迫克制，很难去舍本逐末。而从 bookdown 的开发来看，我时不时就感觉 LaTeX 的棺材板快压不住了，bookdown 被逼着去取代 LaTeX 成为新的恶龙，尽管这是我最不愿看到的结果。
    
    这一点可以推论到别的行业吗？我不知道。为什么京东淘宝要 996？是不是因为网购的人数和需求在疯狂增长导致他们的员工永远干不完活儿？为什么我们的网购意愿越来越强烈？是不是我们越来越贪婪？
    
    我们是不是在自掘坟墓？
    
    小学时，每次见我在外面玩家里的长辈总是要问一句：作业做完了没有？那句充满满足感的回答“做完了！”似乎永远也不能在成年人的世界里重现了。
    
    “代码写完了没有？”
    
    “什么叫写完？”

1. 为什么工作时长成为了这么重要的衡量指标？

    我们厂从来不计算我的工作时长，连我自己都不知道我到底每天工作几小时，感觉大约是三四个小时，反正绝对是远小于八小时。
    
    我觉得那些大厂用工作时长这个指标来考核职工的原因之一无非是因为时间指标在计量上方便而已。很多指标的设立和使用并不是因为它们有道理，而是方便。比如我认为公正的法律应该是个性化的（考虑每个人的背景甚至生化特征），但采集个性化的数据实在是不可能的任务，而且有些指标很难评估（比如精神伤害程度），所以只能大家统一使用公平的法律了，即用公平代替公正。同样，工作质量的评估也是一件繁琐又模糊的工作；在大厂里，与其费时费力去评估每个员工为公司带来的效益，还不如就一刀切，每天大家都集体工作十二小时，就算某些员工效率奇高，也得被迫留下来，这样要么就是白混时间，要么就故意降低工作效率以迎合加班时长。这便是那个著名的[古德哈特定律](https://zh.wikipedia.org/wiki/%E5%8F%A4%E5%BE%B7%E5%93%88%E7%89%B9%E5%AE%9A%E5%BE%8B)的体现：当一个指标变成目标后，这个指标就再也不是一个好指标。如果工作时长成为最重要的指标，那么就意味着工作效率和质量都可以牺牲。为了提高一厂的效益，本应该注重员工的效益贡献，而因为这个贡献跟工作时长有某种想象中的正相关关系，于是就臆想延长时长来提升效益了，然而脑力工作和搬砖不一样：不是搬的时间越长，搬的砖就越多啊。
    
    估计道理谁都懂，但厂里就是不放手，厂与厂之间还形成了隐性的互相绑架：你加班我就更拼命加班，否则我就有被你干掉的风险。

1. 有多少人还喜欢自己的工作？

    我不知道有多少人能理解稻盛和夫这样的工作狂，他把工作当做“塑造高尚人格的修行”，提到两个选择：要么你选择一份喜欢的工作，要么喜欢你现在的工作。现实通常不会给你第一种选择，所以你只能想办法喜欢自己的工作了。这让我想起我刚上大学时很不喜欢高等代数、数学分析这些数学课，觉得太难（尤其高代，如同天书），所以最后只好假装喜欢，记得我似乎在封页上写过“洒家最爱高代数分课”之类的话语。想来有些幼稚，不过还是有一定效果，稍微减弱了我的排斥心理。
    
    现在我很幸运地拥有了第一种选择，还比较喜欢自己的工作，有时候也跟我们厂长一样，可以从早码到晚，而不知加班为何物。另外我也很幸运，在家工作，不会出现那种“半夜下班回家孩子已经睡了、早上出门时孩子还没醒”的情况。
    
    其实我对加班、工作量大本身并没有很强烈的反对意见，尤其是年轻人，就应该多吃点苦，如稻盛和夫所说，磨砺心性，以便将来遇事能稳重处理，而不是凭本能和情绪去处理。但是如果加班的强度大到带来下面这两个后果时，我就强烈反对加班了：一是影响到身体健康，加班不能加到医院或重症监护室去；二是强烈影响到家庭，比如父母和孩子住在同一个屋檐下却长时间见不到面。注意我只说了身体健康而没说身心健康，因为我觉得加班造成心理负担在一定程度上应该是可以接受的，我们需要这样的压力锻炼，只要不太过分就好（比如整天被凶狠的上司催逼到崩溃）。

    稻盛和夫说喜欢和投入会形成正向循环，也就是你越喜欢工作，投入就会越多，而产出也会越高越好，然后这种成就感会让你更喜欢这份工作。我感觉这个循环在脑力工作里应该相对容易实现，而对体力工作则不太适用：应该没什么人愿意在工地上多搬砖或骑自行车多送几份外卖。

1. 是雇主太无情还是员工太懒？

    在 996 风波下，绝大多数人可能都会一边倒，讨伐雇主，这时候逆行的人至少会是政治不正确。我觉得这事应该每个人自己具体想想我们参与这场风波是不是有足够的底气，也就是我们在工作中已经全情投入、没有摸鱼偷懒的心理。有没有人纯粹是怀着少干活多拿钱的心思来蹚浑水的呢？我觉得一定有，因为这是人的自然心理。

    为了避免有人蹚浑水，其实还是要回到那个衡量工作产出的问题上。如果有别的方式能更准确地衡量工作产出，那么就没必要死磕时间这个指标了。靠谱的员工要是三小时能完成产出，那么中午下班也可以；蹚浑水摸鱼的员工，就算留他十二小时在公司也是白搭。有些行业相对容易衡量工作产出，也就容易制定激励机制；在《[穷查理宝典](/cn/2018/08/poor-charlies-almanack/)》中，芒格举了联邦快递的例子：夜班工人只要把货物装上飞机就可以回家，薪水不按小时付，而是按装了多少货物而定。这种情况下，偷懒毫无意义。

1. 如果加班这么悲催，为什么不换工作？

    一方面，估计多数加班的人都没有足够的能力跳槽到更好的工作环境中，而正是因为加班，他们也没多少机会提高自己在其它方面的能力，所以就恶性循环被锁定在一个加班岗位上了；另一方面，加班成为多数公司的常态，就算跳槽，结果很可能也是一样加班。

1. 城市套路深，要不要回农村？

    既然在大城市加班如此悲催，那是否可以考虑放弃这灯红酒绿以及所谓的遍地机会、归隐田园？在大城市像狗一样挣钱买房买车的付出，如果拿到农村，应该是可以毫无压力地满足温饱。反正我们现在的社交也基本上变成了网上的虚拟社交，那肉身在何处也没多大关系了，所以精神生活方面也不会有多大损失。想来想去，我只能想到一个留在大城市的理由，就是为了孩子的未来。大城市的教育也许更好，机会更多，但我们有没有想过，我们拼死拼活留在这里，谁能保证我们的孩子将来不是跟我们一样加班？我们到底是在帮他们还是在坑他们？《黑客与画家》中格雷厄姆说在过去的学徒制下，孩子十岁就学会钉马掌了，而在现在的学校教育系统下，十岁的孩子几乎什么实际生活技能都不具备，生活完全不能自理，某种程度上就是个小废人。

    所以要不要回农村，有一间茅屋、面朝粪坑、喂马、劈柴？
    
    回不去啦，我们都被绑架啦。看见了更好的生活之后，我们的身和心都回不去了。问题只是，那更好的生活往往都是别人的生活，与我们无关，我们也无法企及。

    而且就算是农村，也被加班侵蚀了，这是个社会病和时代病，不是公司专有的现象。上个冬天我爹和其他村里的叔伯婶娘们凌晨两三点就起床，去一户人家剥桔子皮，因为每天上午有卡车来把剥好的桔子拖去镇上的罐头厂。这种事情以前从来没有过。在我小时候，通常就是桔子成熟的季节有桔贩开着卡车来把桔子拖走，家家户户顶多就是摘桔子的那几天集中加班忙一下（而且晚上照常睡觉），而不会一个冬天都半夜爬起来在电灯下剥桔子皮。我不明白这些桔子罐头的消费需求是怎么冒出来的。人类的胃并没有在近几年突然变大一号吧？

1. 为什么有些国家就不用加班呢？

    [比如瑞典](https://www.douban.com/note/714122219/)。相比之下，感觉我们整个国民心态都坏掉了。双十一的销售额根本不值得庆祝，那个数字背后是满满的贪婪；百度的春晚红包技术战役听起来感天动地（如何改代码、如何紧急采购服务器等），但细思恐极：十亿人在一年中最重要的夜晚竟然觉得那几毛钱的红包比家人更重要。真呀么令人[迷茫](/cn/2019/01/confusion-seclusion/)。如果我是个有影响力的公众人物（可惜我无志于此），我会号召大家除夕夜都把手机关掉扔一边，不许抢红包。

    如果我们在心态上有节制，也许就不会有这么些需求，而整个世界都会清静许多。可惜人通常只向上看，不会回头向下看。忆苦思甜可能会被看作神经病。

综上，加班可能只是一个表象。通过 996.ICU 群众的强力敲打，这冰山一角也许能敲掉一块，但我们恐怕是无法奈何水面以下的大冰山了。
---
title: 姑爹六十大寿
date: '2019-04-08'
slug: xing-zhou
---

爹告诉我下周姑爹六十大寿，嘱咐我到时候给他打个电话。真是有点难以置信，我印象中年轻的姑爹都已经六十了。在我求学的过程中，他在经济上帮了我们家很多忙。当年我上初中，每周日都去他家，他骑摩托车把我和表哥一起送到镇上的学校；到了周五下午他再去学校把我们俩一起接回去。为了帮我申请减免学费，他也帮我写过材料（还记得他对自己用的“恍惚”一词深感得意）、跑腿盖章。

小时候我们家几弟兄喜欢去姑妈家玩，但都很怕姑爹。姑妈至今总是笑我们小时候去她家时，要先从门缝里探头进去小心翼翼地问姑爹在不在家，得到“不在”的回答之后才敢进去。虽然那时候姑爹经常一副严厉面孔，但他讲话还是很幽默的，幽默手法主要在于用土得可笑的比喻。比如看电视上的晚会，总说舞台上穿裙撑的人穿的是锅盖（确实有点像）；夏天我们去他家过暑假，晚上打地铺睡觉，他总号称要把我们几弟兄像“告苕”一样一个个摆地上（“告”是方言版的“种”，尤指刨坑之后种；“苕”是红薯的方言）。

姑爹是个很机灵的人，嘴皮子又快又厉害，我总觉得他和表哥可以去说相声，因为他俩总是一唱一和说得别人没插嘴的余地，而且又很逗。高中时有一次我放寒假回家，到了镇上打电话叫我爹去接，结果我爹晚上在别人家喝高了，路上黑灯瞎火骑着摩托车撞上了别人的车，断了几根骨头。本来我觉得这事完全是我爹的责任，但后来姑爹出面，愣是把对方司机说得毫无还嘴之力，付了一大部分医药费。

有一次我听家里人闲聊，幺爹（三叔）讲姑爹之精明无人能及，举了个例子，说有一年姑妈住院，办出院手续时，护士把账单拿过来后，有事出去了一下，姑爹见状立刻撕掉账单里的一张，揉成团扔窗外楼下去了，结果后来就少算了一大笔钱。

讲这些事好像是在黑他，不过他确实是脑瓜很灵便的一个人，聪明才智也不是总用在偷奸耍滑上。凭自己的本事，他成了村里头几个买摩托车、盖洋楼的人。有鉴于此，我花了一下午时间想了一副祝寿联：

> 　何许寿星

> 智　　　　德  
耀　　　　兴  
六　　　　九  
旬　　　　洲

> 躬　　　　向  
身　　　　天  
力　　　　再  
担　　　　借  
一　　　　五  
家　　　　百  
旺　　　　年

显然这是借用了上次的[空泛一联](/cn/2017/10/zhao-couplet/)中的最后一句，在这个场景下我觉得还凑合能用。联中嵌入了姑爹以及其孙子的姓名，这基本上是它唯一的特点了。本来想嵌全家，但难度实在太大，不得已放弃了。
---
title: 软件开发中的道歉
date: '2019-04-10'
slug: software-apologies
---

遥想 2012 夏天，我在新泽西的 AT&T 实验室美其名曰实习，其实是捣鼓了两个多月 knitr 包。有一天我收到锐扑厉教授的邮件，严令我向他道歉。我现在不记得当时 knitr 在 CRAN 上出的是什么问题，但那是我生平第一次因为软件代码问题被别人要求道歉，所以很是诧异。打那以后，我每次上传新版本的 knitr 包到 CRAN 时都心里发毛，不管会不会出问题，我都在提交说明中预先无条件道歉，以防惹恼这位主子而把我封禁。[三年后](https://www.weibo.com/2514669664/CaScK6Srx)，我也不记得 knitr 里什么问题又招惹到他了，他直接甩给我一句：你通常不道歉，CRAN 不欢迎你这样的人！又吓得我不要不要的，简直比窦娥还冤，不管错在哪里，赶紧先跪为敬。

其实我这些名义上的道歉都不真心诚意，我只不过是慑于他的权力而已。要是我不跪、非要争论是非黑白，我唯一的下场就是被封禁，就像那些每次吵架都吵赢了女朋友的人最后都凭实力单身了一样。再过了一年多，锐扑厉大人终于从 CRAN 的龙椅上下来了，现在我也敢写这些事了（但还是请各位客官看看就好、不要转播）。这些假道歉告诉我们，一个人如果权倾朝野，那么他下面的文武百官为了自保，会很麻溜地给他虚构出一个他想要的世界。道歉这事儿，还是不要强迫为好，尤其是手握大权时。锐扑厉教授维护 CRAN 辛不辛苦呢？我想是辛苦的，但具体怎么个辛苦法，外界一点也不知道。他既是运动员又是裁判，而且规则还总是变，又拒绝外界帮助，这让作者们很是头疼，只能多害相权取其轻，也就是低头作口是心非的道歉。这对双方而言都是巨大的悲剧。

托教授严酷训练的福，我在开发软件过程中向用户道歉已经到了张口就来、一点也不觉得违和的熟练程度。当然，这些道歉通常并不是装模作样、虚情假意，而是我真觉得给用户添了麻烦。我之所以说这是福，是因为道歉毕竟还是违反人的本能的；不经过刻意训练的话，对不起三个字可能还真没法轻易说出口。傲娇的人怕道歉损失颜面，实诚的人可能会因为羞愧而回避道歉。

<!-- https://github.com/r-lib/devtools/issues/1979 -->

前日 Travis 的 R 包检查程序出了个问题，导致很多 Github 上的 R 包都通不过 Travis 的自动测试。这部分 Travis 检查程序是我们厂一位同事写的。我注意到这个问题后，发现相关的 R 包当日刚在 CRAN 上更新过，然后顺藤摸瓜到 Github 事项里发现已经有人提交了报告。这不是关键，关键是我再往前翻，发现两个多月前就已经有用户提交了一个报告提醒这个问题，而他似乎并没有看，结果不幸被那位用户言中：他向 CRAN 更新了这个包，Travis 就崩掉了。随后他十万火急再向 CRAN 更新了另一个包来修补这个问题，并径自关掉了那个预言事项，而没有采纳事项中提到的正确修补办法。这在我看来十分不妥：既然早有人提醒这个潜在问题，之前没看到也就罢了，之后看到了却什么都不说、也不采纳别人的正确建议、愣给人关掉了。岂不让用户寒心？后来那位用户见这个事项被粗暴关闭，又回复说不知道为什么毫无解释就关掉了，也不修正问题。我们这位同事到了第二天把正确的修正提交了上去，但仍然什么都没说。我非常想提醒他起码去说句谢谢并致歉，但我觉得这种事情似乎提醒了比不提醒更尴尬，所以我把话憋了回去。我不知道他心里到底怎么想的，感觉他似乎觉得这个错误太低级了、被人早早发现但自己没修正，可能有些羞耻感。这就回到我前面说的《[理智与情感](/cn/2018/12/open-wars/)》了：开发软件过程中，要尽量丢弃这些小心理；只论对错，不论荣辱。如果别人明显对、自己明显错，那就二话不说上前扑通一跪就好了嘛，这一点也不丢人。男儿膝下没有黄金，最多不过是有条秋裤，别想多了。

其实我们可以拿锐扑厉教授对比一下 R 社区的头号人物——哈得力大人。教授的贡献其实也是巨大的（尽管他在暗部），但几乎没人喜欢他，充其量我们只能痛苦地承认并千恩万谢他的贡献，而哈得力为什么看起来这么得力、这么能赢得人心呢？以我的经历和观察来看，教授有个特点，就是从不道歉——他对了就咬，错了就跑。不知是不是活在一个幻觉世界里，神经性地掩盖自己错误的一面。哈得力大人说对不起则是家常便饭，他经常把自己的身段放得很低，关心黎民苍生的大小疾苦，毫不掩饰自己的错误。他越是为自己的错误坦诚地道歉，就越能获得民心，从而获得更多有价值的反馈，把事情做得更好。反观教授，我只能叹叹气：既然你什么都对，那就让你活在什么都对的幻觉里好了，我们别自找麻烦非得把你叫醒了。话说连 [Linus 都醒了](/cn/2018/09/linus-apology/)，我们有生之年能否目睹教授醒来的一天呢。

就像我在《[穷查理宝典笔记](/cn/2018/08/poor-charlies-almanack/)》中提到的“并不是说诚实是最好的道德品质，只不过诚实是最好的策略”一样，如果我们理解了道歉是最好的策略、你的颜面毫不值钱，那么就不会犹豫跪不跪了。
---
title: 一行代码千般喜
date: '2019-04-11'
slug: one-loc-joy
---

几年前我说过一个《[两个字符千行泪](/cn/2014/04/two-characters-endless-tears/)》的故事。我在谈论软件开发时，似乎谈论的忧桑故事多一些，可能是因为别扭的事不吐不快，而喜悦的事情则可以暗自独享。今日挑选一行今年我自认为比较得意的代码，参见 Github 上的[这则改动](https://github.com/yihui/servr/commit/faa6e52a02a)。这一行代码扫除了一个恶心了我自己两年多的问题。我把它敲出来的时候，觉得自己过去两年可能是脑子被驴踢过，为何没早想到这个呢。

还得交代一下背景故事，不然客官们几乎不大可能看懂这行代码的意义。在 servr 包中，我有一个监听本地文件变化的服务器函数 `servr::httw()`，这在各类服务器程序里很常见，功能就是当服务的文件（HTML/CSS/JS/图片之类的）有更新时，就通知浏览器自动刷新页面。这就省得你每次在编辑器里编辑文件后，还得挪动鼠标去浏览器里点刷新按钮查看你的改动。你只需要把浏览器丢在旁边，只在编辑器里编辑、保存文件即可。术语上这叫实时刷新（Live-reload）。

这个实现并不困难，我在《[用 R 创建网页服务器](/cn/2018/09/r-web-server/)》一文中已经略有提及，就是通过 WebSocket 让 R 与浏览器通信。浏览器每隔一段时间（比如一秒）就问问 R：你那边的文件有没有变动？R 用 `list.files()` 和 `file.info()` 算一下，若回答有，那么浏览器端就执行 JS 代码 `location.reload()` 刷新页面。这就是大致原理。

因为 R 需要比较当前文件信息和上一次的文件信息，所以我们需要把上一次的文件信息保存在一个变量里。前面提的那行代码中的双箭头就是干这事的：

```r
info <<- info2
```

其中 `info` 是外层变量，用来记录上一次的文件信息，`info2` 是内层变量，计算当前文件信息。那以前是什么问题恶心着我自己呢？这问题是，我要实现动态编译 R Markdown 文档；当 Rmd 文件更新时，我要先把它重新编译为 HTML，然后再在浏览器里刷新这个 HTML 文件。问题就出在编译上：因为编译可能会出错，比如 R 代码还没写完整就保存导致报错；报错之后我不能下一秒再继续重新编译，因为用户可能在一秒内还修复不了错误，所以过去我用的一个机制是模仿了 Gmail 掉线之后重试的时间间隔机制，也就是先等两秒再重试，两秒后还有问题再等四秒，然后等八秒、十六秒……直到错误被修正、文档能正确编译出来。

刚开始实现这个机制时，我甚至都快为自己的机智手动点赞了，我特么真呀么是个天才呀我，居然联想到了借鉴 Gmail 的办法。然而等我真的在自己 R Markdown 文档中不慎搞出个错误来时，我立刻就觉得自己快把自己蠢哭。看到红色的错误消息每隔一秒、两秒、四秒、八秒……一次次冒出来的时候，我彻底心方了，只能手忙脚乱赶紧思考我是谁、我从哪里来、晚饭要吃什么、到底哪里写错了、咋修正，比考试还紧张。

两个月前我在捣鼓[究极无限月读](/cn/2019/03/influence-focus/)时，突然想到：我特么为什么要不管不顾地重试编译一个有错误的文档呢？如果编译出错，那就先等着用户修改好文档保存之后再重试呀，骚年！他要是没重新保存，那我就该按兵不动，让他有充足的时间去找出错误并修正。

之前之所以会一遍遍重试编译，是因为我在重编译之前没有刷新一下上次的文件信息变量，即上面的 `info`，而是等编译成功之后才刷新，这就导致每当出错时，上一次的文件信息还是旧的（出错前的），而下次当浏览器问 R 的时候，R 仍然觉得文件有变动，所以不断重新编译一个错文档。这个问题的修正就是那么简单：在每次尝试重编译之前就刷新一下文件信息变量，成功后也照常刷新一遍，所以加一行代码就搞定了。

除了不再让用户感到莫名紧张，这个改动还让我成功扔掉了[一大坨当年我觉得聪明的代码](https://github.com/yihui/servr/commit/f34319f3)（也就是模仿 Gmail 的代码）。对码农而言，删代码永远都比添代码舒心得多。也是这个原因，今年我在 rticles 包中删掉了无数行代码（[例一](https://github.com/rstudio/rticles/commit/d6748afc10)、[例二](https://github.com/rstudio/rticles/commit/2b5091ed)），觉得终于把这个包归置到可维护的程度了。之前我们厂长写的代码冗余度高得令人发指，我忍了好几次终于忍不住了，大刀阔斧砍瓜切菜抽丝剥茧，把它调理成了逻辑基本统一的包，往后别人贡献新模板也更简单了。

尽管我不是故意制造问题再解决问题，但这千般喜实质上跟[弗洛伊德说的](/cn/2018/12/craving/)那种“在寒冷的夜晚把脚伸出被窝冻一会儿再缩回来的幸福”一样。说到底，只不过是我自己先蠢到一个极致（就是蠢到觉得还有点小聪明的程度），最后又发现这个蠢可以轻易解除，从而人为造就了满足感。
---
title: 叠字对联一则
date: '2019-04-11'
slug: reiterative-couplet
---

列弛大人最近[又](/cn/2017/07/na/)在批阅我的[老折子](/cn/2018/05/reiterative-character/#comment-4393673071)，批完《叠字》一折之后在[另一折](/cn/2018/08/serious-japanese/#comment-4418173217)中联想到叠字，所以凑了一则叠字上联。我看了之后再加了两个字，让它更叠，并胡乱拼凑了一则下联：

> 谢谢谢大大包包包包治百病  
你你你讲讲咩咩咩咩晕二人

断句如下（下联是模拟两人对话，咩念四声 miè）：

> 谢谢 谢大 大包 包包 包治百病  
你你 你讲 讲咩 咩咩 咩晕二人

我总跟人说姓谢真占便宜，别人只要张口叫我名字就自动谢我。洒家活这么多年，真是承受了不少谬谢。我的大（R）包当然不可能包包都能包治百病，但咩咩应该确实能把人咩晕。我这是[联想](/cn/2018/08/association/)了前年的[一个回复](/cn/2017/04/which/#comment-3263450280)，按照那里的说法，应该是这样写：

> 内内 内港 港咩 咩咩 咩晕二人

欢迎闲得慌的客官们继续对下联，我们将择优打屁股（有这工夫不干正事）。
---
title: 听歌系列之英雄无泪
date: '2019-04-18'
slug: no-tears
---

今天在网易云音乐上随机听歌，冒出来一首久违的旋律。它是如此之久违，以至于我从中午一直单曲循环到半夜听了八十来遍。这首歌叫《[感动今生无法改变的你](http://music.163.com/#/m/song?id=265115)》，是我小时候一部电视剧《英雄无泪》的[片尾曲](http://www.twoeggz.com/video/9226525.html)。记不清那时我是小学六年级还是初一，当时就很喜欢这首片尾曲，这旋律至今还存在记忆深处，尽管那部剧播完之后我再也没听过这首歌。事实上我都已经忘记我还记得。二十多年过去，突然再听到，很受触动。演唱者叫李殊，我并不熟悉，但这首歌的大气风格非常像我喜欢的毛阿敏。下面这部分重复了四遍，也是我记忆最深刻的（具体歌词已忘，只记得旋律）：

> 假如来生不再是场戏  
幸福不再是精彩的回忆  
我愿陪你再生再世  
感动今生无法改变的你

歌词是从网易云音乐上复制下来的。我看了别的一些网站，也是这样，但我总觉得“是场戏”这句的后两个字的发音听起来不太对。上油管子上搜了一下视频，这首歌一共只有三个视频（为何都是越南人上传的），[其中一个](https://www.youtube.com/watch?v=wZt55miytOc)显示的歌词是：

> 假如来生不再失诚信

虽然“是场戏”表面上读起来更自然一些、也更像歌词，但我感觉李殊的发音更像“诚信”，尤其是“诚”字。莫非多数版本的歌词都弄错了？如果联系上文仔细想想，“失诚信”也不是不靠谱：

> 雨后风平却又到黄昏时  
昨日山盟海誓清晨已失  
是否最长的浓情已旧  
独有我仍有真情痴痴

> 从没想把一切都当场戏  
伤透幻想中多情的自己  
可故事总是有类同的结局  
喜忧参半赢了也会失去

因为前文已经用了两次“失”，而且“已失山盟海誓”也就是表达了失信之意。因为失信，幸福才变成仅仅精彩的回忆，“你”也才无法改变。然而韵脚是最大的不利证据：戏与忆、你押韵，如果是“信”就不押韵了。

歌词中的“类同”一词我觉得用得极好。有些版本的歌词把它写作了“雷同”，但“类同”更高明一些。悲剧的故事结局通常有些类似，但不会雷同。词作者还是咬过字的。这一句也是整首歌词中我最中意的一句词。

我不知道为什么我对重复的那部分旋律记忆这么牢固，可能是因为高音的缘故，也可能是因为跌宕起伏：第一句高音，第二句降调，第三句再爬坡，到第四句冲顶。本乐盲一点也不懂乐理，只能把四句歌词对应的音高作一幅折线图（[上次作折线图](/cn/2011/03/yang-zhou-slow/)是八年前）：

```r
par(mar = c(4, 4, .1, .1))
plot(
  c(
    6, 7, 8, 8, 8, 8, 7, 7, 3, 5, NA,
    5, 3, 3, 6, 6, 5, 6, 5, 1, 2, 3, NA,
    6, 7, 8, 8, 7, 7, 7, 6, 5, NA,
    3, 5, 6, 6, 6, 8, 9, 7, 7, 5, 6
  ),
  type = 'b', lwd = 2, panel.first = grid(),
  pch = 20, ylab = 'Pitch'
)
```

![重复部分的音高](https://user-images.githubusercontent.com/163582/56407289-845db300-6236-11e9-8601-357b62e50d3f.png)

似乎下一句的音高都与上一句的音高有点关系：要么等高，要么按斜率向外插值。

这首歌是迄今为止我无意发掘出来的尚存记忆的最早的歌。那部《英雄无泪》的剧情我已经忘光，只记得其中一个人物的名字，就是鞠同久。隐约记得是个反派，武功天下无敌的样子。网易上各位群众的回忆也印证了这一点。我之所以记得这个人，是因为那时候我跟我弟把这部剧称作《鞠同久跑板子》，因为片尾画面中鞠同久总在木板上施展轻功、作起飞状。事实上，由于我们的[方言“i”“ü”不分的问题](/cn/2018/10/middle-school-teachers/)，我们叫的是“吉同久”。如果不是看网易云音乐的评论，我可能到现在还以为是吉同久。

去年[王大爷](/cn/2018/11/elder-stories/)说他五十年前的事情记得清清楚楚，五分钟前的事情总是忘。我感觉我现在有时候也是这样，前几天一连两天我正跟人说什么事情的时候，说着说着略微一想相关的话题就忘了自己刚才本来要说什么，甚是尴尬。趁现在想起来这首歌赶紧写下来，不然五十年后说不定也忘了。

前年我在写《[如诗之词](/cn/2017/12/poetic-lyrics/)》时，曾动过一个念头，就是把我中意的歌词重装为诗词，不过拼凑诗词实在是很费时间的事情，所以也就作罢了。今日暂且破个例。显然我是受了曾国藩[那一联](/cn/2014/01/five-years/)的影响、且有[叠字](/cn/2018/05/reiterative-character/)洗脑之嫌：

> 雨后风平情已旧，感天动地莫奈何。  
三生独留痴痴我，廿载梦回渺渺歌。
---
title: 嚼字
date: '2019-04-22'
slug: poem-revision
---

书接[上文](/cn/2019/04/no-tears/)。在那里我说拼凑诗词很费时间，不妨就以结尾的那首诗为例，细说一下这件麻烦事。诗的一二句基本上是抄一下歌词，三四句我则纠结了很久。最早我是想到曾国藩的“千秋邈矣独留我，百战归来再读书”那一联，所以我的初始版本是：

> 雨后风平情已旧，感天动地莫奈何。  
千秋邈矣痴痴我，百战归来渺渺歌。

觉得“千秋”的时长夸张过度，“百战归来”更是生搬硬套、不符合主题。所谓“痴痴我”，一方面可以指歌词所唱的真情之“我”，另一方面也可以指痴迷这首歌的我自己。我想表达的只不过是多年后重逢童年时的一首歌的诧异、惊喜和感叹。于是“千秋”改为“三生”（歌词中提到了今生来生），仍然照搬曾国藩的“独留我”；这个意象，在孟庭苇的《[三生三世](https://baike.baidu.com/item/%E4%B8%89%E7%94%9F%E4%B8%89%E4%B8%96/372074)》中也有：

> 而我在原处停留

至于百战归来，则改为更切合主题的二十多年重遇：

> 三生独留痴痴我，廿载又遇渺渺歌。

“又遇”二字显得有些苍白无力，而且与渺渺之意象不搭，所以改为回忆：

> 三生独留痴痴我，廿载再忆渺渺歌。

又觉得“忆”字太模糊，用“唱”是否更清脆？

> 三生独留痴痴我，廿载再唱渺渺歌。

然而我并不会唱啊。那听人唱如何？

> 三生独留痴痴我，廿载再奏渺渺歌。

唱和奏都是相对短暂的动词，不够承载二十年之飘渺。想起我最喜欢的词之一《千秋岁 · 楝花飘砌》中“情随湘水远，梦绕吴峰翠”，换“梦绕”如何？有没有余音绕梁的效果？

> 三生独留痴痴我，廿载梦绕渺渺歌。

然而二十年间它并没有一直绕，只不过我的潜意识在找它而已。梦寐以求？

> 三生独留痴痴我，廿载梦寐渺渺歌。

说到“梦”字，想起“细雨梦回鸡塞远，小楼吹彻玉笙寒”，这也是我很喜欢的意境。

> 三生独留痴痴我，廿载梦回渺渺歌。

这下感觉终于能兼顾时间之长、飘渺之境以及长短镜头的切换了。然而这又带来平仄上的一个瑕疵：“留”与“回”顺拐了。因为喜欢“梦回”一词，所以只好忍痛拿“独留”开刀了。“留”改作“剩”？

> 三生独剩痴痴我，廿载梦回渺渺歌。

我不喜欢“剩”字。剩有被动之意，留则有主动之意。还是留显得相对沉稳而有内涵。干脆把“独留”一起改了？

> 三生犹盼痴痴我，廿载梦回渺渺歌。

太直白。眼看越改越乱，索性就忍了平仄不齐的问题了，真可谓人生[平仄不齐](/cn/2014/01/five-years/)十之八九，我就按捺住强迫症、不再在这事上浪费时间了。

> 雨后风平情已旧，感天动地莫奈何。  
三生独留痴痴我，廿载梦回渺渺歌。

买定离手。

再举一例。去年写《[卅载芳华](/cn/2018/10/middle-school-teachers/)》最后那首词时，我也挣扎过一番，不过没这次挣扎得厉害。一是把“谁念黄土地上，朝日变斜阳”[改为](https://github.com/rbind/yihui/commit/e3981185)“旭日变斜阳”，因为这样读起来起伏程度更大，更有顿挫感。二是把“红烛初心不忘，春蚕长守故乡”[改为](https://github.com/rbind/yihui/commit/777d09969)“春蚕长守梓桑”，因为前一句中的“初心”是暗含“芯”意的，后一句春蚕与故乡则毫无关联，所以换作桑梓（为押韵故，颠倒一下两字的次序）。

古人要是用上版本控制工具的话，后人学习和理解诗词应该容易许多吧，而且更有利于我们学习那些佳句是怎么进化出来的。因为这些过程都没被记录下来，今天只剩下少数诸如僧（推|敲）月下门的一些轶事，所以凡人如我想要推敲一些字词的时候，总抓耳挠腮、觉得无路可循。
---
title: 听歌系列之李慧珍
date: '2019-04-23'
slug: li-huizhen
---

关于李慧珍，我[前年提过一次](/cn/2017/10/wash-cut-blow/)，说那首洗剪吹风格的《爱死了昨天》挺好的。今年初随机听到她另一首歌《[在等待](http://music.163.com/#/m/song?id=254061)》，当前奏响起的时候我感觉这段旋律有点熟悉，但又想不起是什么歌，于是切换到播放器看了一下。多数随机听的歌我都只是当背景音，一边听着一边码代码，不会专门去看。

这首歌开头平静安详，似乎是钢琴伴奏，后面甚是豪迈，逐渐加入了带节奏的鼓和高亢的贝斯。我唯一感到略有瑕疵的地方是第一段最后一句中两个字的发音：

> 我那么狂像马儿奔跑在旷野

我不知道她为什么把“跑”和“旷”的清辅音浊化了，也就是 p 发 b 音（奔“饱”），k 发 g 音（“光”野）。下面机关枪似的四句有些意思：

> 我想要放开总是欢乐之后走来的悲哀  
它让我明白美好永远会是短暂的存在  
我想要放开经过痛苦忍耐获得的精彩  
它让我认为付出很多代价换不回原来

如果这首歌的主题是不再为悲喜伤怀的话，那么我觉得第一句中的放开改为接受在意思上更通顺一些，因为只有接受了这种悲哀才能明白，而不能躲避；但接受二字的缺点在于嘴型太小，唱出来就不那么豪迈了。相比之下，第三句的放开则很好，只有放得开这种精彩的人，才算步入了通达之境；然而第四句的逻辑我又不懂了，因为第三句像是遁入了空门，第四句一下子又还俗了。

大约是有时候歌词只是为了唱起来好听吧（比如照顾嘴型和押韵），不能真的去推敲其意思。就像当我听到《紫浣花》这首歌时，心想紫浣花是什么花；放狗搜了一下，而人说“浣”[只是个发音](https://baike.baidu.com/item/%E7%B4%AB%E6%B5%A3%E8%8A%B1)。嚯，还可以酱紫。

在专辑《在等待》中还有另一首歌叫《[穿过风 穿过云](https://music.163.com/#/song?id=254063)》，里面有一句歌词叫“辉映我时光的空白”。我觉得“辉映”这个词用得清新脱俗，简直是神来之笔，尽管我刚开始[没听懂](/cn/2017/12/lyrics-incomprehensive/)。
---
title: 寒文
date: '2019-04-24'
slug: chill
---

上周列弛的一篇《[几个不相关的故事](https://www.liechi.org/cn/2019/04/stories-related/)》在我的浏览器里已经放了十来天，我来回看了几遍，不知该如何评论，因为故事都太悲惨。

我对鲁迅文章的主要印象是用语尖锐，可能是杂文看得多一些的缘故；这篇《颓败线的颤动》我以前从未看过，也可能是是看过但没留心，总之这次读了一遍之后感觉耳目一新，没想到文章还可以用诗一般的语言写出来。

至于老舍，前年读了他的一本文集，其中第一篇《微神》让我深为其文字功夫折服，尤其是形容和比喻辞藻之丰沛、华丽、柔美。在那之前，我已经好些年没有在看书的时候特别被白话文中的文字本身所吸引（通常是被故事和逻辑牵着走了）。最后一句的比喻诉尽无限遗憾：

> 心中茫然，只想起那双小绿拖鞋，像两片树叶在永生的树上做着春梦。

尽管列弛说这是些不相关的故事，但我觉得还是有些相关之处的。这些悲剧的现实起因都是穷困。列弛文中有个词用得极好，就是“清寒”。这也让我最终开写在我脑子里盘旋了很长时间的一个话题。

去年有一晚我在看《人间词话》时，在同一页上看见两首诗词都用了一个“寒”字。当时是王国维在评价他第二喜欢的五代时期词人冯延巳：

> 《醉花间》冯延巳

> 晴雪小园春未到，池边梅自早。高树鹊衔巢，斜月明寒草。  
山川风景好，自古金陵道。少年看却老。相逢莫厌醉金杯，别离多，欢会少。

王国维认为冯延巳的意境高于韦应物和孟浩然：

> 《寺居独夜寄崔主簿》韦应物

> 幽人寄无寐，木叶纷纷落。寒雨暗更深，流萤渡高阁。  
坐使青灯晓，还伤夏衣薄。宁知岁方晏，离居更萧索。

这两首诗词我都比较喜欢，先不论所谓的境界高下。一首作寒草，一首作寒雨。当时我给这两个寒字分别作了标记，心想从今往后的诗人文人有多少还能真的体会到寒冷呢？

去年[我曾提到](/cn/2018/07/fluent-essay/)《梅圣俞诗集序》里说诗人多穷而少达，在困厄之境才能产出高质量的文字；那么现如今物质条件好了，我们还剩哪些渠道获取文字的力量？我自从 2002 年到北京上大学之后基本上就忘了什么叫挨冻，主要是因为北方冬天有暖气。在那之前，我觉得冬天还是有点难以忍受的。上高中时我有些偏执，深秋初冬的时候还坚持只穿一件单衣，其实冻得跟狗似的；为了早上起来节省一分钟叠被子的时间，我晚上睡觉连被子都不打开，披着外套，把脚插在叠好的被子里，早上醒了爬起来洗把脸就可以走了。这种大冷天穿单衣的习惯我后来带到了大学，结果当时系里[两位老太](/cn/2007/11/type-iii-error/)总关切我是不是没衣服穿。

总之，我现在对饥寒的感觉还有些记忆，所以列弛列举的这些故事还很能打动我。我琢磨着等下一代娃长大了，我们恐怕无法向他们解释饥寒交迫是什么意思了，而且他们可能会问为什么挨饿的人不喝肉粥。往后的娃也许会偶尔受一次冻、挨一顿饿，但这种饥寒的状态几乎不可能持续几年甚至是哪怕几个月。

其实这在我的博客中也不是个新鲜话题了。熟悉我博客的客官恐怕耳朵已经听起茧：我要说的无非就是物质生活过度安逸、任何物理和生理的不快都被消除，可能会导致精神生活的贫瘠，这个贫瘠的体现之一就是文字的乏力。身处温室，恐怕难以想象到外面的草会是寒的。乔帮主说的保持饥饿是否有物理意义上的饥饿之意？如果让富兰克林来回答，答案估计是有，因为富兰克林就认为饥饿感能让他头脑更清醒（尽管我对此有所怀疑）。

因为注意到那两处寒，我读完这本小册子之后索性在我的笔记中搜了一下其它包含寒字的诗词，罗列如下。

秦观《踏莎行》：

> 雾失楼台，月迷津渡，桃源望断无寻处。可堪孤馆闭春寒，杜鹃声里斜阳暮。  
驿寄梅花，鱼传尺素，砌成此恨无重数。郴江幸自绕郴山，为谁流下潇湘去？

元好问（我又强迫症似的注意到叠字“寒波澹澹起，白鸟悠悠下”）：

> 故人重分携，临流驻归驾。乾坤展清眺，万景若相借。  
北风三日雪，太素秉元化。九山郁峥嵘，了不受陵跨。  
寒波澹澹起，白鸟悠悠下。怀归人自急，物态本闲暇。  
壶觞负吟啸，尘土足悲咤。回首亭中人，平林淡如画。

李璟《浣溪沙》：

> 菡萏香销翠叶残，西风愁起绿波间。还与韶光共憔悴，不堪看。  
细雨梦回鸡塞远，小楼吹彻玉笙寒。多少泪珠何限恨，倚阑干。

李煜《乌夜啼》：

> 林花谢了春红，太匆匆，无奈朝来寒雨晚来风。  
胭脂泪，留人醉，几时重？自是人生长恨水长东！

李煜《浪淘沙》：

> 帘外雨潺潺，春意阑珊。罗衾不耐五更寒。梦里不知身是客，一晌贪欢。  
独自莫凭阑，无限江山，别时容易见时难。流水落花春去也，天上人间。

纳兰性德《蝶恋花》：

> 又到绿杨曾折处，不语垂鞭，踏遍清秋路。衰草连天无意绪，雁声远向萧关去。  
不恨天涯行役苦，只恨西风，吹梦成今古。明日客程还几许，沾衣况是新寒雨。

贾岛：

> 闽国扬帆去，蟾蜍亏复圆。秋风吹渭水，落叶满长安。  
此地聚会夕，当时雷雨寒。兰桡殊未返，消息海云端。

苏轼《卜算子》：

> 缺月挂疏桐，漏断人初静。谁见幽人独往来，缥缈孤鸿影。  
惊起却回头，有恨无人省。拣尽寒枝不肯栖，寂寞沙洲冷。

左思：

> 亭亭山上松，瑟瑟谷中风。风声一何盛，松枝一何劲。  
冰霜正惨凄，终岁常端正。岂不罹凝寒，松柏有本性。

这些诗词大约占了我笔记的五分之一。我只是拣了个“寒”字，没有考虑“冷”等近义词。如果少了这些寒境，不知这些诗词的创作是否会打折扣。

当然，我不是主张大家为了欣赏或创作诗词都要关掉暖气、减少饭量，只是表达一个忧虑而已：温饱问题解决之后的生活可能真特么令人倦怠，人的脑子要是不用操心吃饭穿衣问题，就会操心其它芝麻琐事。我们就如此这般难逃[文明的缺憾](/cn/2018/11/civilization-and-its-discontents/)么？
---
title: 猩猩在手机上看视频，看视频的你在手机上看猩猩
date: '2019-04-24'
slug: chimpanzee-reflection
---

以前我就发现推特上几乎每一条我看到的高赞推文都有其荒谬之处，有些甚至是荒谬得可怕。我不知道是不是我脑子有毛病。比如在去年的《[狗](/cn/2018/10/dog/)》文中，我暗引了一则[赞数高达七十万的推文](https://twitter.com/dog_rates/status/1054404072164548611)（不知有多少客官留意到），里面显示的是一只老狗每天都在同一个地方故意把球扔到人行道上，迫使过路的人把球捡起来还给它。众人见了这个小视频都大呼可爱，而这在我眼中则是满满的可怜可悲，根本一点都不可爱。愚蠢自私的人类把动物囚禁在自家高墙之内，究竟有何可爱可言？

今日则瞥见一段[大猩猩看手机的视频](https://twitter.com/_DanielSinclair/status/1121252893586276352)，一天内赞数超四万。我估计众人的反应是：好逗哦，那大猩猩看手机的姿势跟人类一毛一样！你瞧瞧，它还会滑屏翻页！

然而我则像在看一段恐怖片一样，仿佛从一面镜子里看见一头扎进手机翻照片和视频的人类。那照片和视频永远翻不完，看完一个点下一个。不知我们是活在天堂还是地狱。
---
title: 铅笔签名
date: '2019-04-24'
slug: pencil-signature
---

作为写书界的小学生，有时候别人会拿我的书来让我签名。如果对方提供了笔，我会用对方的笔写。如果没有笔的话，我通常拿自己的铅笔写。对方拿过去一看是铅笔题字签名，都会感到诧异：怎么是用铅笔写的呢？

上周收到大鹏来信说收到了 bookdown 大赛的奖品，并间接表彰洒家的字写得不错。奖品是那本 R Markdown 的书，扉页上我用中文和英文各写了一句致谢，依旧是用铅笔写的。我用铅笔有两个原因：一是考虑到别人如果以后不想要这本书了，则可把我写的字擦掉，然后送人或卖掉，我并不介意这些处理（我坚定支持断舍离，不需要的东西尽量处理掉）；二则正是为了掩盖我自认为拿不出手的字迹。这次的掩盖效果似乎好得有些出乎我意料。

如果是用圆珠笔之类的细笔的话，那我的字肯定是“还与韶光共憔悴，不堪看”了。铅笔的好处是笔芯粗，既容易写出笔锋，也可以有明淡渐变的效果。若一不小心写错了，还可以擦了重写。毕竟给人家的书题字签名还是有点让人紧张的工作，错不得。

其实我对书法还是有些向往的，只不过是因为小时候没花心思练习，长大后再想要重塑笔迹就很困难了。在群众大学读研究生时，我曾经在校内地摊上整了根毛笔和两张水写纸，每天中午吃完饭在办公室装模作样画两笔天地玄黄、宇宙洪荒。一天有个同学（宝鹏海）路过，见桌上摊着纸笔，于是提笔也写了几个字。我一瞅，嚯，练过的奏是不一样啊。后来我把毛笔也带到了美帝。刚到 A 村的时候，[Rtist 送了我](/cn/2009/08/trace-in-summer/)一本颜真卿的字帖。在 A 村的那些年我估计我写过的字一共不超过二十个。后来回国又买了两根毛笔，带回美帝之后一个字都没写过。

我对毛笔字的兴趣出于两个原因：一是写字能让人聚精会神，有养性的效果；二是我觉得毛笔笔画的确是有非常别致的美感，每个字都有自己的生气和特点。然而练字是件耗时间并且需要耐心的事情（炼字就已经够费时间了），等我真有空正经练习，恐怕是要到退休以后了吧。

今天看了一篇[有关书法的文章](https://www.douban.com/note/715630365/)，所以想起这些事。待洒家三十年后给你们用毛笔签名。

又及：文中张大春提到“千山鸟飞绝，万径人踪灭”，这让我想起五年前一天我在 Ledges 州立公园西边的[德梅因河畔](https://www.google.com/maps/@41.9936788,-93.8927619,18.99z)的沙滩上提着一根棍子也写了这首诗。现在想想，我要是不把字在电脑上打出来，都已经想不起“蓑”字怎么写了。这种尴尬，近年来越来越频繁，提笔手写中文总是要先在电脑或手机上打出来看一下之后才知道怎么写。

再及：当年[女王踩沟里](/cn/2014/06/perspective/)湿鞋的案发地点就在河东边那条小溪里。
---
title: 蒲公英
date: '2019-04-25'
slug: dandelion
---

翻身成房奴的第一年，因为初来乍到，嘛也不懂，于是我听从邻居一起找了个打理草坪的工人，帮忙施肥除杂草。我见那工人每次来也就是在草坪上晃荡了几分钟，一次收费六十大洋，也不知到底是做了些什么事情。第二年我便没再找他。这一年，因为我很少给草坪浇水，草基本上都靠天吃饭。下雨时屋檐底下的草很难淋到雨，所以都死了。死了就死了吧，我也懒得搭理。

到了今年，也就是第三年，不知是不是去年没打理的缘故，上周末我往院子里一看，艾玛，草坪上的蒲公英可谓长势喜人。我都快哭了。

看着这一大片黄灿灿的蒲公英脑袋，第二天我立刻奔去沃尔玛拖回一袋除杂草颗粒，外加一壶杂草喷雾。先用小推车把颗粒撒完，然后拎着喷雾壶，对着那些蒲公英脑袋 bia~ bia~ bia~ 一通狂喷。就这么点破事又耗费了我一个多小时时间。喷完药等娃回家我还得提防他们跑到草地上去玩。这几天过去，我看多数蒲公英终于都蔫儿了。还有一些新长出来的，不过数量已经不那么多了。最近几天在小区里遛娃，发现有几户人家也不打理草坪，那蒲公英的长势更加喜人，可以说是蒲公英坪里长进来几棵草。

我上小学时，见到路边有蒲公英的话，通常把它摘起来，然后把它的茎管从一头撕开成几缕，放到嘴里或水里，撕开的茎就会立刻卷卷卷，比理发店烫的头发还卷。我们戏称这种玩法为炸麻花。这麻花有轻微的苦涩。

而现如今看见蒲公英，我却只想跪。额滴个祖宗诶，求求您别再长了。
---
title: 《人类简史：从动物到上帝》笔记
date: '2019-04-26'
slug: sapiens-notes
---

在今年年初我那篇《[迷茫与倒退](/cn/2019/01/confusion-seclusion/)》一文中，我提到尤瓦尔 · 赫拉利的畅销书《人类简史：从动物到上帝》对我的影响很大。该文下面的评论中，杨洵默兄提到了对这本书的一些批评，引人深思。我期待在我这一亩三分地里能多出现一些杨兄这样的读者，因为当一般人接触到一些看起来有不少证据支撑的新奇观点时，通常会本能性地接受它（抗拒的难度太大，因为要找更有力的反面证据，尤其是对于自己不熟悉的学科）。在那一系列评论里，列弛有几处发言尤为精彩，如：

> 鲁迅说介绍一个观点的时候，最好再同时介绍一些反对该观点的观点，以便读者思考。只是中文世界里，直到现在这样的习惯还是比较罕见。若是你已经看完了《人类简史》，看看批评的文章也是很过瘾的。

刚好昨天我看到[一篇文章](https://www.douban.com/note/715524114/)里有人讲：

> 马克思主义是复杂而开放的。马克思在阐述一条规律的时候，总能举出现实中的反例。

这一点上，列弛、鲁迅、马克思、齐泽克都不谋而合。在我眼中，赫拉利在他的简史三部曲中也同样鼓励读者保持极度开放的思想。例如他对部分宗教的批评力度之猛，甚至让我对他的人身安危感到担忧，我都觉得此公很可能会被极端分子暗杀。

杨兄引用别人的话评价这本书“对的全都不新鲜，新鲜的全都错”，从而完全不建议读这本书，但我更同意下面列弛的意见，即：如果这本书把不新鲜的对的那部分传播出去，也不失为一种贡献。

> 我推荐《人类简史》给一些朋友，是因为可读性，而不是科学性。同时我也推荐了我认为比较好的批评文章，以及提醒他们我觉察到的一些错误。我想，对不少人来说，《人类简史》应该是他们看的第一本跟人类进化相关的书，所以所谓"对的全都不新鲜"这部分对他们来说是有价值的。

> 如果没有这么一本可读性（话题性）强的书，或许很多人根本不会接触人类进化的相关知识。在我看来读书是个动态的过程，通过《人类简史》而对这个主题感兴趣的人或许会在以后更注意跟人类进化和社会文化宗教相关的文章，以及同主题的其他书。这样积累后了解自然会更全面。至于看完后不甚感兴趣的人，那么我想里面的谬误产生影响的可能性也不大。

畅销书往往容易引起争议，这很容易理解。对我个人而言，我并不是很在乎这些争议或是书中的专业谬误，因为这些都超出了我的处理能力。我更关心的是这些书对我有什么启示、对我的人生有什么帮助。我不会因为赫拉利说智人的成功建立在“虚构的故事”基础上就跳将出去在大街上喊你们都醒醒吧，而是去思考怎样运用“虚构的故事”的力量去引导自己和他人做有意义的事（话说回来，“意义”通常也是虚构和想象啊）。七八年前我看《明朝那些事儿》也被深深吸引，这书可读性也极强，但我关心的并不是史实（这又是超出我能力范围的事情），而是它的精神主题。如果要我用一个词概括我从《明朝那些事儿》里学到的东西，那就是隐忍（不要指望明天就能达成目标）。这套书也重新捧红了不少历史名人，比如我就是因为看了这套书才关注王阳明的（然而《传习录》翻了几百字就看不下去了）。赫拉利这套书起码可以作为开胃菜，让那些本来对人类学、进化史、社会学不感兴趣的人开始关注这方面的东西，让人以更宏观的角度看问题。说实话，赫拉利的素食主义都有些影响到我这个吃肉不眨眼的肉食动物，尽管目前还没能把我改造成素食主义者，但起码他成功引起了我对家畜生存状况的关注。他所传达的悲天悯人的情怀，我想还是有其积极意义的。

言归正传，把前年的笔记拉出来遛遛。如果我引用的部分有事实或逻辑谬误，还请各位客官不吝赐教。这篇笔记始写于四月末，当时休病假一周，然而当时没写完，后来断断续续写到六月初才写完。

## 第二章 知善恶树

开篇赫拉利就抛出一个听起来吓人的观点，就是智人的成功全靠《故事会》（当然，我是瞎转述的）！

> 所以，究竟智人是怎么跨过这个门槛值，最后创造出了有数万居民的城市、有上亿人口的帝国？这里的秘密很可能就在于虚构的故事。就算是大批互不相识的人，只要同样相信某个故事，就能共同合作。

里面用标致汽车作为一个例子，引起了杨兄的强烈反对，他认为“标致汽车老板其实和古代的巫师一样”是一派胡言。

> 所以，究竟阿尔芒 · 标致这个人是怎么创造出标致公司的？其实，这和史上许多祭司和巫师创造神魔的方式殊无二致，而且就算到了现在，许多天主教的教堂每次周日礼拜也是用这一套来创造出基督的身体。说穿了，就是讲故事，再说服听众相信这些故事。

> ……至于对标致公司来说，关键的故事就是由法国国会所编写的法律制度。根据法国国会的说法，只要经过认证的律师遵守所有适当的礼仪和仪式，在一张装饰得华华丽丽的纸上写下种种必需的咒语和誓言，再在文件底端龙飞凤舞签上姓名，就在这一分这一秒，新公司注册成立！

我并没有觉得这个类比有多不妥当（我估计杨兄可能过度解读了“一样”这个词）。标致公司和神魔都不是实体，都是人为创造出来的，这没啥啊。创造出这样的虚拟概念并笼络住一群人为之奉献，不一定是坏事。造汽车方便了我们的出行，拜神魔在一定程度上也可以让人类保持敬畏之心（当然也会有糟糕的副作用）。

如果要我举例子的话，我恐怕会用 Jupyter。这个“交互式计算打造科学计算和数据分析的人生赢家”的故事实在是编造得有些宏大。在这里我又得抄列弛的一句点评了：“与其说是因为它烂，不如说是因为它没有好到和其获得的名声相匹配的地步。”

当我们意识到一切都是故事，那么下一步就是看故事想把我们带到哪里，以及最终是谁受益。当然，人类的故事通常都复杂得要死，这些问题并不容易看清答案，但想还是要想一下的。

## 第三章 亚当和夏娃的一天

这一章试图描绘远古采集社会的生活容貌。我感觉它的问题是事实与推测、甚至是臆想的边界太模糊，作者总是用文学手法去描述，一不小心看的话，很容易就会把臆测当做有证据的推测。比如里面提到一种“远古公社”理论：

> 正由于男人都没办法确定小孩是不是自己的，对所有孩子的教养也就不会有偏心的问题。

> ……

> 这种“远古公社”理论的支持者认为，我们看到现代婚姻常有不孕的困扰，离婚率居高不下，不论大人小孩都常有各种心理问题，其实都是因为现代社会逼迫所有人类采用一夫一妻的核心家庭，但这其实与我们的生物本能背道而驰。

这只是引用别人的假说。人类要不要强制执行一夫一妻制度我无法发表意见（还是那句话：这种研究超出了我的能力范围），但我是赞同“幼吾幼以及人之幼”这样的理念的。如果我们能像对待自家孩子一样对待别人家的孩子，那我觉得孩子的成长以及家长自己都会轻松许多。这样会减少很多不必要的竞争和人类内耗。人类强烈的私有观是自己给自己上的一道无形枷锁（如[私有车](/cn/2017/11/boxes/)）。

> 今天多数文化仍然采用一夫一妻的核心家庭，男男女女都对彼此和孩子有强烈的占有欲，而且像是朝鲜和叙利亚这些现代的国家，政治权力还是父死子继。

我是倾向于反对权力和财富根据血缘关系传承的。占着祖上占过的茅坑有什么意思呢？

接下来作者要抛出一个被辉格大人强烈抨击的观点了。尽管赫拉利没有明说，但他的文字描述总是在向往远古的狩猎采集社会。

> 在现代的富裕社会，平均每周的工时是40～45小时，发展中国家则是60甚至80小时；但如果是狩猎采集者，就算住在最贫瘠的地区（像是卡拉哈里沙漠），平均每周也只需要工作35～45小时。他们大概只需要每三天打猎一次，每天采集3～6小时。一般时期，这样就足以养活整个部落了。而很有可能大多数的远古采集者住的都是比卡拉哈里沙漠更肥沃的地方，所以取得食物和原物料所需的时间还要更少。最重要的是，这些采集者可没什么家事负担。他们不用洗碗，不用吸地毯，不用擦地板，不用换尿布，也没账单得付。

[辉格大人认为](http://headsalon.org/archives/7957.html)农业社会确实恶化了人类营养和健康、文明有其暗面，但辉格大人绝不相信原始人有什么丰富的精神文化生活：

> 只有像《人类简史》作者那样的轻浮蠢蛋，才会宣称狩猎采集者也可以拥有同样丰富的精神世界和文化生活，也“可能经历过战争与革命，令人心醉神迷的宗教运动，拥有过深奥的哲学理论，无与伦比的艺术杰作……属于他们自己的所向披靡的拿破仑，以及他所统治的半个卢森堡大小的帝国；有着他们自己的天才贝多芬，只是没有交响乐团，唯以竹笛声催人落泪……”

赫拉利的原文是这样的：

> 这幅沉默的帷幕就这样罩住了几万年的历史。在这些年间，可能有战争和革命，有灵性激昂的宗教运动，有深刻的哲学理论，有无与伦比的艺术杰作。采集者之中可能也出过像成吉思汗这种所向披靡的人物，不过统治的帝国还没有新加坡的面积大；或许也出过天才贝多芬，虽然没有交响乐团，却能用竹笛令人潸然泪下；又或是出了像穆罕默德一样的先知，不过传达的是当地某棵栎树的话，而不是什么全宇宙的造物主。不过，这些我们全部只能靠猜测。

这一系列排比句写得太吸引人，以至于我们很容易忽略最后一句，我转述一下也就是：以上种种引人入胜的情形，我赫拉利都特么是瞎猜的，哈哈哈！

所以在原始社会好与不好、文明是在进步还是退步这个问题上，如果较真的话，我还是推荐看辉格；如果为了休闲娱乐，那看看赫拉利也没那么糟糕。文明的光辉是否足以遮挡它的阴暗，这问题有点主观，我个人并没有明确的答案。至少在精神健康方面，我觉得文明人并不比野蛮人强多少，而且我推测还会持续恶化。赫拉利举了个亚契人例子：

> 在亚契成年人之间的暴力其实非常罕见。无论男女，都可以自由改变伴侣。他们总是乐天且愉快，部落里不分地位高低，想颐指气使的人通常就会被排挤。虽然他们拥有的物质不多，但却非常慷慨，而且不会执着于成功和财富。在他们的生活里，最被看重的就是良好的人际互动，还有真正的友谊。虽然他们会杀害儿童、病人、老人，但他们的想法其实和今日许多人赞成堕胎和安乐死也没有两样。另外还该提的一点，是巴拉圭的农夫猎杀亚契人的时候，可是毫不手软。

我觉得这个杀死儿童和堕胎的类比不太合适，不过有时候我感觉文明社会的规矩守则确实是[太多了](/cn/2019/02/helicopter-parenting/)，把文明人都变成了套中人，把社会搞得太复杂，仿佛没了这些规矩的话就会天下大乱。不是每个地方都有着装规定（dress code），但我们也没见满大街的人都裸奔嘛。在看《[我如何极力控制自己不去控制孩子](https://www.buzzfeed.com/jcstearns/finding-limits)》那篇文章时，我学到一个很有意思的单词，叫 litigious，意思是“好诉讼的”。文明社会的最大受益人是不是律师？当然，在美帝还有第二大受益人，就是牙医。好，我终于是打电话约牙医洗牙了，然而结果不出意外，又让我对牙医感到深恶痛绝：那位小姐姐用尽各种洗脑手段，告诉我的牙有多少问题，后果多可怕，然后开出一张三千多美元的治疗方案。我问她，你觉得这些恐怖的问题什么时候会发作？她说很可能就是明天！切，六年前我第一次找牙医洗牙时，人就极力奉劝我拔掉智齿，后来每家牙医都这样说。到现在他们说的可怕的问题还没出现。我不是说我的牙一定没问题，我只是说牙医总是费尽心思、不管发作概率大小，总是把你的牙里面的各种可能的细枝末节问题扒出来，然后劝说你把它们都治了。我知道牙医为什么这么做，很简单：不让顾客自掏腰包的话，光靠保险提供的免费洗牙会让诊所破产的，因为对普通洗牙，保险公司只付给牙医极少的钱（在我看来牙齿保险完全就是个骗局）。举牙医的例子，是要说我们追逐的边际效应是多么微不足道（对我而言，牙不疼不痒能吃饭就够了，齐不齐、白不白我都毫不在乎），而在微不足道的边际效应上我们要付出多大的代价。不知将来会不会有一天出现专门负责修剪鼻毛的医生、用 X 光告诉你左边鼻孔的一坨半径三毫米的鼻屎有让你窒息的风险。

## 第五章 史上最大骗局

这一章又有一个耸人听闻的标题，但估计属于“对的都不新鲜”的那部分。对我而言，这是我第一次了解到农业文明的暗面。

> 农业革命所带来的非但不是轻松生活的新时代，反而让农民过着比采集者更辛苦、更不满足的生活。狩猎采集者的生活其实更为丰富多变，也比较少会碰上饥饿和疾病的威胁。确实，农业革命让人类的食物总量增加，但量的增加并不代表吃得更好、过得更悠闲，反而只是造成人口爆炸，而且产生一群养尊处优、娇生惯养的精英分子。普遍来说，农民的工作要比采集者更辛苦，而且到头来的饮食还要更糟。农业革命可说是史上最大的一桩骗局。

赫拉利有一句总结，像一记响亮的耳光：

> 这正是农业革命真正的本质：让更多的人却以更糟的状况活下去。

辉格认为与现代社会的新奇便利的科技和丰富的艺术比起来，在营养与健康上牺牲一点是非常值得的。这一点我完全同意他。然而我仍然在精神层面抱有疑虑。这一章中有一节《奢侈生活的陷阱》，里面谈各种让我们追求更好、更快、更高效的现代技术到头来反而让我们更忙碌、焦躁。

> ……我确实省下了所有麻烦和时间，但生活真的更轻松了吗？

> 可惜事与愿违。在传统信件的年代，我们通常只有最重要、不得不联络的事才会写信。写起信来也不是想起什么就写什么，而是字斟句酌、考虑再三。而且，通常对方的回信也会同样慎重。对大多数人来说，每个月来来去去的信顶多就是几封，也不会有人急于立刻回复。但在今天，我每天都会收到几十封电子邮件，而且所有人都希望你立刻响应。我们以为自己省下了时间；然而，我们其实是把生活的步调加速成过去的十倍快，于是我们整天忙忙碌碌、焦躁不安。

我并非要走极端、退回到邮票信封信纸时代（当然我觉得偶尔收到这么一封手写的信也不错，比如小轩哥每年过年往我家寄张贺年卡），我承认电子通信的便利，但同时我也[不得不](/cn/2018/09/inbox-zero/)开始有选择性地抗拒它了，尤其是抗拒那些有意无意滥用这种便利的人。

在《革命的受害者》一节中，赫拉利介绍了人类如何残忍压榨家畜。这一节让人看了以后如果细思一下的话，很可能会变成素食主义者（赫拉利本身是素食者）。我看完只好闭眼当没看见，但它还是影响了我对牛奶的印象。大约在 2011 年，我去楼下邻居家吃饭，席间女主人谈起男主人以前如何白痴、连只有刚下崽的奶牛才会产牛奶这种事情都不知道；当时埋头扒饭的我心里咯噔一下，因为……我……也不知道这个啊，我也以为奶牛一辈子都可以随时随便挤奶。书中也介绍了这个：

> 奶牛、山羊和绵羊只有生了小牛小羊之后才会产奶，而且也仅限哺乳期这一段时间。

如果我们看了我们从超市买的奶是如何从幼崽口中被残忍地掠夺过来的，那我估计多数人以后都喝不下牛奶了。人类简直丧尽天良。

## 第六章 盖起金字塔

赫拉利认为现代人通常终其一生想要盖起某种金字塔，个个都像古埃及的法老一样，只不过金字塔的形态在不同文化下不一样而已（比如在美帝最常见的就是一栋别墅）。问题是我们很少去想为什么我们要追求这些把自己锁死的金字塔。

> 人类发现自己已经很难离开这些人工岛屿了，所有的房子、田地、谷仓，放弃哪个都可能带来重大的损失。此外，随着时间过去，他们拥有的东西越来越多，不易搬运，也把他们绑得死死的。

对农民而言，不仅是肉身被锁死，而且还要受统治者剥削：

> 农业带来的压力影响深远，这正是后代大规模政治和社会制度的基础。但可悲的是，虽然农民勤劳不懈、希望能够保障自己未来的经济安全，但这几乎从来未曾实现。不管在任何地方，都出现了统治者和精英阶级，不仅靠着农民辛苦种出的食粮维生，还几乎全征收抢光，只留给农民勉强可过活的数量。

历史记录的通常是一将功成万骨枯：

> 历史只告诉了我们极少数的人在做些什么，而其他绝大多数人的生活就是不停挑水耕田。

这几百万挑水耕田的人如何能在一个社会里合作呢？赫拉利的回答仍然是讲故事：

> 现在看来，虚构故事的力量强过任何人的想象。

说到故事，我总是想起小时候看的《宰相刘罗锅》的片尾曲：故事里的事，说是就是不是也是；故事里的事，说不是就不是是也不是；故事里的事，也许是真事；故事里的事，也许是从来没有的事；其实故事，本来就是故事，故事就是故事……

> 不管是汉谟拉比还是美国的开国元勋，心中都有个想象的现实，想象着这个世界有着放诸四海皆准、永恒不变的正义原则（例如平等或阶级），但这种不变的原则其实只存在于智人丰富的想象力里，只存在于他们创造并告诉彼此的虚构故事中。这些原则，从来就没有客观的正确性。

我们看历史上的故事会觉得那时候的人竟然信那样的故事，太荒谬了（比如法典规定如果有人杀了别人的女儿，惩罚就是别人也杀掉凶手的女儿，而不是杀掉凶手本人），而绝不会觉得我们今天相信的故事如《独立宣言》也可能有荒谬之处：

> 我们说《汉谟拉比法典》是虚构故事，并不会觉得难以接受，但说到人权也只是虚构的故事，听来就有些刺耳。

伏尔泰说：

> 世界上本来就没有神，但可别告诉我的仆人，免得他半夜偷偷把我宰了。

光靠《独立宣言》的嘴遁远不够，就像鸣人的嘴遁不管用一样，最后必须得凭实力打一仗才能把虚构的故事现实化：

> 而在 1860 年，大部分美国公民已经认为黑奴也是人，必须享有自由的权利，这时也是靠着血流无数的一场内战，才让南方各州只能黯然接受。

为什么我们心甘情愿生活在想象的无限月读中？赫拉利的解释：

> 有三大原因，让人类不会发现组织自己生活的种种秩序其实是想象：

> 1. 想象建构的秩序深深与真实的世界结合。

> 2. 想象建构的秩序塑造了我们的欲望。

> 3. 想象建构的秩序存在于人和人之间思想的连接。

其中原因 2 尤其有意思，因为不同时代的人有不同的欲望，这些欲望受不同的想象的驱使。例如法老最大的人生目标就是建金字塔、死了以后把自己制成木乃伊躺进去。到了今天，谁还会干这种傻事呢；若像法老那么有钱，必须得买个奢侈的包包挂身上，或去椰林树影、水清沙幼的马尔代夫度个假啊。

究竟是谁在定义我们的人生追求呢？我们如何知道我们认同的意义是否真的有意义呢？

## 第八章 历史从无正义

近年来，我是越来越憎恶对人的分类。[我提倡](/cn/2017/08/political-correct-diversity/)近距离观察个人的具体个性，而少以门纲目科属种来谈论人群。抽象是万恶之源，它的恶不仅仅在于造成个体歧视，还容易引发无休止的人类内斗，因为每个人都可以有无数种属性，而总有些属性容易被归到劣等属性里，被歧视的人群就得耗费大量精力证明（或纯粹争吵）自己并不劣等，这样的仗根本就打不完，也毫无必要去打。赫拉利仍然用《独立宣言》作一面历史的镜子：

> 就算是1776年的美国《独立宣言》，尽管把人人生而平等喊得震天响，其实还是把人分成了上下等级。《独立宣言》区分了男女，男性从中得利，但女性却被剥夺了同样的权利。《独立宣言》也区分了白人、黑人和印第安人，让白人享有自由民主，但却认为黑人和印第安人是比较劣等的人类，不该享有平等的权利。当时许多蓄奴的人也在《独立宣言》上签了名，他们签署后并未释放奴隶，但一点儿也不觉得自己言行不一。在他们看来，黑鬼哪有什么“人”权？

现在看来这种歧视太无理了，那我们是否想过，就算两百多年后的今天，我们作为所谓的文明社会的人，心中还有多少三六九等的刻板印象呢。举个具体的例子，是什么阻挠我们[爱宇宙](/cn/2018/01/no-borders/)呢？其实不过就是我们认为我们归属的某个集体优越于其它集体而已，所以我们一定要在我们这个集体周围筑起高墙。若世界真的自由、平等、博爱，我们干啥还要签证嘛。

> 然而历史的铁则告诉我们，每一种由想象建构出来的秩序，都绝不会承认自己出于想象和虚构，而会大谈自己是自然、必然的结果。

可惜多数人都无法跳出这个想象的圈。我们之所以要遵从这些想象的秩序，只不过是因为一个字，就是懒。说得好听一点就是提高人与人的合作效率。如果没有阶层的想象，那我们就需要额外的精力去了解陌生人。

> 有了阶级之后，陌生人不用浪费时间和精力真正了解彼此，也能知道该如何对待对方。

作者举了诸多例子说明很多阶层只不过是想象，比如印度的种姓制度源于婆罗门教的神话传说，但不幸的是这些想象在历史长河中一步步被加固，就算我们用生物学去证明种姓制度毫无依据，也很难打破这个牢笼。说到这里，我赞同列弛说的，[用科学证明人与人的差异存在与否](https://www.liechi.org/cn/2019/05/watson-said/)这种事，从一起步就用错了科学，而且就算得到答案，也毫无意义。

> 大多数社会政治阶级制度其实都没有逻辑或生物学的基础，不过就是由历史的偶然事件引起，再用虚构的故事延续壮大。

最后赫拉利提供了一条法则来鉴别哪些事情只是人类以想象为依据去实施的：

> 我们究竟要如何才能判断，什么是真正在生物学上有所不同，而什么又只是人类说得煞有介事、自找借口？一项黄金法则就是“天生带来允许，文化造成封闭”。

这项法则听起来有点激进。赫拉利本人是同性恋，所以这里他有些忿忿不平：有些人天生就是同性恋，而文化却对这些人刻意打压。在这件事上，我们应该容易理解他的这项黄金法则，但这项法则有推广性吗？文化压制人的天性这种事，自古恒有之（例如存天理、灭人欲），那我们应该释放到什么程度呢？我觉得只要人类以集体方式合作、生活，就不可能完全释放天性；有一些自由，只能是零和博弈。

## 第九章 历史的方向

[从 2015 年起](/cn/2015/11/peer-review/)，我开始有意识地琢磨公平与公正的问题。赫拉利在第九章中丢出了这么一句话：

> 自从法国大革命之后，全球人民逐渐同意“自由”和“平等”都是基本的价值观。然而这两者根本就互相抵触！

嗨，在水深火热的美帝[连晒被子的自由都没有](/cn/2017/04/freedom/)，还谈个啥子平等嘛。就更不必说更严肃的自由了，比如[堕胎的自由](https://www.douban.com/note/719475468/)。

## 第十二章 宗教的法则

开头我说我甚至有些担心赫拉利会因为他的言论被极端分子暗杀。在这本书中，他的批判力度其实还不够强；到了他的三部曲的后两部《今日简史》和《未来简史》中，他基本上就是在说有些宗教纯属骗局，直言其虚伪性。

这里首先他赞许多神论，而抨击一神论的宗教：

> 真正让多神论与一神论不同的观点，在于多神论认为主宰世界的最高权力不带有任何私心或偏见，因此对于人类各种世俗的欲望、担心和忧虑毫不在意。因此，要向这个最高权力祈求战争胜利、健康或下雨，可以说是完全没有意义，因为从他全知全观的角度来说，某个王国的战争输赢、某个城市的兴衰胜败，又或是某个人的生老病死，根本不构成任何差别。希腊人不会浪费祭品去祭拜命运女神，而印度教徒也并未兴建寺庙来祭拜阿特曼。

多神教征服其它国家时，并不强行要求被征服的人民改变信仰。

> 多神论本质上就属于开明，很少迫害异教徒。

古罗马人征服别的民族之后，甚至愿意接受别人的神灵到他们自己的神殿，只有基督教例外：

> 古罗马人唯一长期以来不愿接受的，只有属于一神信仰并坚持要传福音的基督教。古罗马帝国并未要求基督徒放弃他们的信仰和仪式，只希望他们同时尊重帝国的守护神，并承认皇帝也有神性。这点可说是在政治上忠诚的声明。

罗马帝国有迫害过基督徒，但问题是一神论本身引起的争论导致教内互相残杀而死亡的人数远超过被多神教迫害致死的人数：

> 然而事实证明，就算把这些迫害的所有受害者全部加起来，在这三个世纪间，多神教古罗马处决基督徒的人数不超过几千人。但相对的是，在接下来的1500年间，虽然基督教号称主张爱与怜悯，但仅仅对信仰的诠释有些许差异，就引发基督徒自相残杀，死亡人数达到数百万。

> 其中最恶名昭彰的，就是在16、17世纪间席卷欧洲的天主教与新教徒之战。所有这些人都相信基督的神性，也相信他关于爱和怜悯的福音，只是对于“爱”的本质意见不合。新教徒认为，神如此爱着世人，所以让自己化为肉体，容许自己受到折磨、钉死在十字架上，从而赎了原罪，并对那些信他的人打开了天堂的大门。而天主教徒认为，虽然信仰是必要的，但光这样还不够。要进入天国，信徒还必须参加教堂礼拜，而且要多行善事。这点让新教徒无法接受，认为这样形同交易，对于神的爱和伟大是种贬抑。如果进不进天堂必须取决于自己的善行，岂不是放大了自己的重要性，而且暗示基督在十字架上为人类受的苦以及神对人类的爱都还不够？

> 这些神学争论愈演愈烈，最后在 16、17 世纪间，天主教徒和新教徒彼此杀红了眼，造成几十万人丧命。1572 年 8 月 23 日，强调个人善行的法国天主教徒，袭击了强调上帝之爱的法国新教徒。这场攻击称为圣巴塞洛缪节大屠杀（St. Bartholomew's Day Massacre），短短 24 小时间，就有 5000 到 10000 个新教徒遭到屠杀。消息从法国传到古罗马的天主教教皇耳里，叫他满心欢喜，立刻安排举行庆典，还委托瓦萨里（Giorgio Vasari）在梵蒂冈的一个房间里将这场大屠杀绘成壁画作为纪念（目前这个房间禁止游客参观）。不过 24 小时，基督徒自相残杀的人数，就已经超过了整个古罗马帝国曾经杀害的基督徒人数。

一神论有个大难题，这个难题恰好是我前年在《[职业羞耻感](/cn/2017/02/shame/)》最后一段提出来的问题。即：如果有个唯一、全能、无私、正义的神，他为什么会允许邪恶存在；我认为他要么没那么全能，要么没那么无私。抑或就像上面新教徒所质疑的一样：神是在与人类做交易吗？即：你信我我就保佑你，那些不信我的人，你们是死是活与本神无关（这器量似乎与我等码农也差不多嘛：你用我的软件我就帮你，你要不用那你就与我无关）。这让我想起丰子恺的一篇文章《佛无灵》，里面他老姑母的一句“佛无灵”让他长篇大论解释了信佛不是同佛做买卖，不能因为个人遭了不幸就怪罪神佛，信佛应该是信其精神并相应地去修行，而不是信佛像，或把佛当作保护神。我在《[人生有何意义](/cn/2018/03/meaning-of-life/)》中也引过胡适类似的话。

> 二元论之所以成为一种深具魅力的世界观，原因就在于人类有一个挥之不去的“恶的难题”（Problem of Evil），苦苦无法解决。“为什么世界上会有邪恶？为什么有苦难？为什么会有坏事发生在好人身上？”如果神真的是如此无所不知、无所不能、事事完美，又怎么会允许世界上有这么多的苦难？这让一神论者伤透了脑筋。

世界宗教史并不全部是神的历史。有些宗教是肉身凡胎的人创造的，比如佛教。[前年我也说过](/cn/2017/04/like-transitivity/)，虽然我不是任何宗教的信徒，但佛教的哲学相对比较能打动我。原因可能是佛教更贴近个人，而且它宣称的痛苦来自欲望这一点也无可辩驳。佛教修行中，我们绝大多数时间面对的都是自己的内心，而不是某个神。

> 一神论宗教的最高原则是：唯一真神确实存在，那么他想从我这里要什么呢？佛教的最高原则，则是：痛苦确实存在，我该如何逃离呢？

我没有找到赫拉利本人是否有宗教信仰，但他在后面的两本书中提到他每天会冥想（[内观](https://zh.wikipedia.org/wiki/%E8%A7%80_(%E4%BD%9B%E6%95%99))）两小时，感觉应该是受佛教影响比较大。

如果人并没有一个（宗教）所谓的灵魂、支配我们的不过是体内的生化反应，那我们的道德和法律体系会不会崩塌？

> 越来越多科学家认为，决定人类行为的不是什么自由意志，而是荷尔蒙、基因和神经突触——我们和黑猩猩、狼和蚂蚁并无不同。我们的司法和政治制度碰上这些发现，多半是视而不见、不愿面对。但坦白说，现在这面堵在生物学以及法律和政治学之间的墙，究竟还能维持多久？

## 第十三章 成功的秘密

赫拉利认为历史更像是混沌系统，而没那么多我们想当然的必然：

> 如果承认历史并非必然，等于就是承认了现在的民族主义、资本主义和人权都只是巧合的产物。

有学者认为文化就像寄生虫，并且比寄生虫更厉害，因为就算宿主死了，它还能传播到另一个宿主：

> 任何一个文化概念（像是基督教在天上的天堂），都可能让某个人毕生致力于传播这种想法，甚至为此牺牲生命。于是，人类死亡了，但想法持续传播。

## 第十四章 发现自己的无知

经书中多为故事，并不包含基于数学的近现代知识：

> 早期的知识体系常常是用“故事”构成理论，而现代科学用的则是“数学”。

而精确的数学有时候也处理不了复杂的现实，这里赫拉利专门提到了统计学：

> 在过去两百年间，为了处理现实中更复杂的层面，数学发展出一个新的分支：统计学。

他举的统计学的例子是精算的萌芽，即：为了解决牧师去世后的遗孀生计问题，有人用类似今天的保险模式预先筹集一笔款项（相当于今天的保费），而款项的数额则取决于每年多少牧师去世、留下多少遗孀以及这些人还能活多久。

就算是现代科研也有其本质局限性，就是它几乎不可能纯粹客观，它多少会跟政治、经济、宗教有牵连：

> 科学研究之所以能得到经费，多半是因为有人认为这些研究有助于达到某些政治、经济或宗教的目的。

赫拉利认为有两股推动科学研究的特别力量：帝国主义和资本主义。

## 第十六章 资本主义教条

宗教杀害了数百万人是出于仇恨，而资本主义杀害了数百万人则是出于冷漠和贪婪。英国人十七世纪初每人每年的糖摄入量几乎为零，到了十九世纪初则增长到八公斤。在此背景下，无数的非洲奴隶丧命：

> 从 16 世纪到 19 世纪，大约有 1000 万非洲奴隶被运到美洲，其中有大约七成都在甘蔗园里工作。奴隶的劳动条件极度恶劣，大多数奴隶生活悲惨、英年早逝。而且欧洲人发动战争俘虏非洲人，再从非洲内陆千里迢迢运至美洲，数百万非洲人就这样在战乱或运送过程中丧命。而这一切，不过就是为了让欧洲人能够在茶里加糖、能吃到甜点，让人能够靠着贩糖而获取暴利。

其实在当今文明社会，我们跟当年的欧洲人的区别只不过是他们杀害、压榨非洲奴隶，而我们杀害、压榨动物（家畜）而已。

我们以为现在是歌舞升平的时代，但就算全球经济大饼已经显著变大，却仍然有很多非洲农民和印尼劳工整日辛苦劳作所得还不如五百年前的先人（这就像农业骗局一样）：

> 虽然人类和全球经济看来都在继续成长，但更多的人却活在饥饿和困乏之中。

资本主义的辩护之一是：

> 只要我们再等等、再等饼变大一点，就能让人人都分到够大的一块。

我这几年特别注意“够”这个字。我们真的还知道什么是[够了](/cn/2017/07/enough/)吗？我觉得人心的贪婪增长速度会超过饼变大的速度、吃到大饼的人还想吃更大的；而另一方面，我们也在变得越来越冷漠，这在我看来有几个原因：一、[信息过载](/cn/2018/08/attention/)，我们的同情心被我们所听闻的海量不幸事件摊薄了；二、[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)，娱乐节目如同《美丽新世界》中的索麻，不断麻痹我们；三、我们习惯了贪婪以至于意识不到我们的冷漠，例如我有个邻居，几乎每周都有吃不完烂掉的水果和菜，我多管闲事跟他建议了好几次让他买菜时少买一点，可他显然并不以为然。并不是杜甫的时代才有朱门酒肉臭、路有冻死骨。

## 第十七章 工业的巨轮

赫拉利接下来很快就提到我们的冷漠问题了，他大篇幅描述了现代畜牧业的残忍（如工业上如何对待鸡和牛）：

> 大西洋奴隶贸易并非出于对非洲人的仇恨，而现代畜牧业也同样不是出于对动物的仇恨。这两者背后共同的推手，就是冷漠。

过去的节俭被消费主义击垮，我们都被鼓励过度消费：

> 我们都成了乖巧的消费者，买了无数种我们并不真正需要的产品，而且有的根本就是昨天才知道的。

在过去的伦理体系下，普通人想要上天堂真的是难如登天，因为多数人（即使是教徒）也极难达到一些常见要求，如慈悲、宽容、克服愤怒和欲望；而现在呢，赫拉利讽刺地说道：你只要打开电视，就知道你已经活在天堂里了；根本不用自己守着清规戒律、达到什么要求。

## 第十八章 一场永远的革命

工业革命让时间观念深深刻在人们脑中，任何事情都要规划时间。下面是一则与主旨没太大关系的轶事：

> 甚至还有些天才的德国物理学家，居然找出一套方法，只要靠着钟声在广播中的微小差异，就能判断伦敦当时的天气。

说到工业社会带来的精确时间观念，我不禁想起《[奇特的一生](/cn/2011/05/i-hate-exams/)》：我们的钟表随处可见并且越来越精确，而我们的一生很大一部分却都是虚抛浪掷、无所事事。

赫拉利在另外两部曲中也谈到恐怖主义的本质是为了吓唬人、制造影响，它的实质破坏没有我们想象的那么大。

> 在“9 · 11”恐怖袭击后的一年，虽然恐怖主义和战争喊得震天响，但说到某个人被恐怖分子、士兵或毒贩刺杀的可能，其实还比不上他自杀的可能。

这与我在《[我们为这个世界能操碎多少心](/cn/2017/10/media-emotion/)》一文中提到的是类似的。每年因糖尿病而死的人数远多于恐怖分子杀死的人，但恐怖分子吸引到的我们的注意远大于我们对糖尿病的注意。从这个角度来看，张一鸣就是当今中国登峰造极的恐怖分子。

## 第十九章 从此过着幸福快乐的日子

童话故事的结尾通常是王子和公主从此过着幸福快乐的日子。这本书临近尾声时，开始讨论人类对幸福快乐的追求，不过这些讨论都很佛系，我很中意。

首先，我就不爱洗澡更衣，觉得这事的舒服程度根本不足以抵消它的麻烦。西方国家的人还早上起来洗澡，在我看来根本就是虚伪嘛。白天脏了应该晚上洗洗睡啊，等到早上再洗大概只是为了别人而洗的吧，即：怕白天接触的人觉得自己脏臭。

> 现代社会丰饶富裕，我们很习惯每天都要洗澡更衣。但在中世纪，农民好几个月都不用洗澡，而且也很少会换衣服。对现代人来说，光是想到要这样生活，就觉得真是臭到要命、脏到骨头里，完全无法接受。只不过，中世纪的农民似乎一点都不介意。这种衣服长时间没洗没换的触感和气味，他们早就已经习惯。他们并不是因为太穷而无法负担换洗衣服，而是压根儿就没有这种期望。于是，至少就衣服这一件事来说，他们其实很满足了。

我很想知道有几家的娃天生就爱洗澡的，感觉通常都得靠大人连哄带骗；等他们养成洗澡的习惯之后，再去祸害他们的下一代：

> 就算是在富裕的社会里，小孩通常也不喜欢洗澡，得花上好几年的教育和管教，才能够养成这种理论上应该很舒服的习惯。一切都只是期望的问题而已。

我觉得这只不过是芝麻大点事，却被现代文明人无限放大。

在《[财务自由](/cn/2018/06/financial-freedom/)》一文中，我引了《人类简史》中的这段话来说明我们的需求是怎么被勾出来的：

> 有没有可能，第三世界国家之所以会对生活不满，不只是因为贫穷、疾病、腐败和政治压迫，也是因为他们看到了第一世界国家的生活标准？

关于这些花花世界的需求，于淼大人在《[钓愚](https://yufree.cn/cn/2019/05/10/phishing-for-phools/)》一文中引了一条建议：

> 保持专注与警惕，只关心你需要的而不是别人强加给你的需要。

我看到之后回复说现在不仅仅是强加的需要，而更多是勾引出来的需要。年初我在《[迷茫与倒退](/cn/2019/01/confusion-seclusion/)》中说过人越来越会利用人性的弱点，从而创造出各式各样莫名其妙的需求。

如果科学发展为我们带来了长生不老的灵药，我们会不会获得终极的幸福快乐？不一定。比如肯定只有巨富能首先享受到这项成果，而多数人只会更加愤怒和焦虑：

> 那些无力负担这些医学奇迹的人（也就是绝大多数人），一定会愤怒到无以复加。纵观历史，穷人和受压迫者之所以还能自我安慰，就是因为死亡是唯一完全公平的事。不论再富有、权力再大，人也难逃一死。光是想到自己得死，但有钱人居然能长生不老，就会让穷人怒火中烧、不可遏抑。

赫拉利引用了一句尼采（我没考证尼采[是不是真的说过](/cn/2017/02/kaiti/)）：

> 只要有了活下去的理由，几乎什么都能够忍受。

他用养小孩作为例子。无论你的父爱母爱多么泛滥，你都无法否认养小孩实际上是件苦差事；一位整天哭闹的小霸王，到底为啥要辛辛苦苦养他呢。用尼采的话来解释大概就是，一件事只要我们为之赋予意义，不管再苦再累我们都可以心甘情愿做下去。谁会觉得养娃没有意义呢？

所以幸福快乐的本质和成因就是意义吗？佛系青年赫拉利开始谈佛教了：

> 佛教认为，快乐既不是主观感受到愉悦，也不是主观觉得生命有意义，反而是在于放下追求主观感受这件事。

只有放弃对主观感受的追求，心里才能变得澄明、自在。这大概就是不以物喜、不以己悲。不然，这个追逐的过程就会让人累趴。

> 人想要离苦得乐，就必须了解自己所有的主观感受都只是一瞬间的波动，而且别再追求某种感受。如此一来，虽然感受疼痛，但不再感到悲惨；虽然愉悦，但不再干扰心灵的平静。

好了，停下追逐的脚步，涅槃吧，人类。

> 佛教与现代生物学和新世纪运动的相同点，在于都认定快乐不在于外在条件。但佛教更重要也更深刻的见解在于，真正的快乐也不在于我们的主观感受。我们如果越强调主观感受，反而就越感到苦。佛教给我们的建议是，除了别再追求外在成就之外，同时也别再追求那些感觉良好的心理感受了。

## 后记 变成神的这种动物

一定程度上，智人已经变成智神了：科技让我们可以轻松眼观六路、耳听八方、日行千里。我们寻求娱乐和舒适，却永远无法真正满足。在书的最后，赫拉利表达了对人类前途的担忧：

> 拥有神的能力，但是不负责任、贪得无厌，而且连想要什么都不知道。天下危险，恐怕莫此为甚。

纵观这篇笔记，我并没太把这本书当做史书来读。现在的出版物里，《简史》泛滥，我个人不是很喜欢简史这种标题，因为它看起来像是想要特意迎合快餐读者的口味。这本书对我的主要意义在于寻找内心的平静，也就是说，我读它几乎完全出于个人目的。我控制不了人潮，也无此兴趣，但我希望首先能取回对自己的控制、在喧嚣中能静下心来想想自己到底想要什么。
---
title: 理可顿悟，事须渐修
date: '2019-04-29'
slug: slow-process
---

今天读到一句“理可顿悟，事须渐修”，觉得有些意思，因为它有一点反身性，即：“理可顿悟，事须渐修”这个“理”只要我们看到就可以顿悟，但真正把这个理融入自己的思想并付诸修行则难得多。我们往往被“悟”所吸引，而悟完之后就忘了修行。要做到知行合一的确非常难。

所以问题不在于我们听到、读到多少智慧，而在于我们是否想到、并愿意将这些所谓的智慧用令自己不舒服、甚至是痛苦的方式通过一个漫长的过程吸收转化为自己思想的一部分。我想多数人应该是低估了这个过程有多长。有时候我们甚至需要一点麻醉剂来开始这个过程，比如我们常听人说二十一天可以养成一个好习惯，于是满心期待自己三周后悟道成圣、金光四射，然而这世上似乎并没有诞生很多三周大圣。我对这个数字有所怀疑，所以只把它当做一种麻醉剂，而且我认为这个剂量不足以掩盖真正养成一个好习惯所需要的痛苦量。如果我们对它期待过高，到头来只会失望。

现在这个时代更糟糕，因为可以顿悟的道理满天飞。满大街都在遛骡子，且不说骡子太多难以找到马，就算找到马我们也难以骑上去，骑上去也不一定能坐稳。我说的骡子就是所谓的自媒体。你可以看文章或看视频看得小宇宙噼噼啪啪燃烧三秒钟，然后又到冰冷的现实世界，再找一篇大道理继续燃烧，就像卖火柴的小女孩一样，火柴划了一根又一根，最终还是冻死街头。其实我们真正需要的不是一根又一根火柴。我们要找到一个自己的炉子，用一根火柴把它引燃，然后不断添柴把它烧旺。

一根火柴就够。一句话、一篇文章、一段视频、一本书、一门技艺，都可以足够。
---
title: 要公开道歉就别急着公开辩解嘛
date: '2019-05-14'
slug: datacamp-apology
---

上个月我在外面开会，晚上回旅馆突然发现满世界都在谈论 DataCamp 的性骚扰事件。在那之前我对此事毫不知情，所以感到有些震惊，尤其是被骚扰的对象是我认识的一个人（尽管不是很熟）。这个事件被公开讨论，起源于 DataCamp 的[一封不那么诚挚的道歉信](https://www.datacamp.com/community/blog/note-to-our-community)，连标题都那么没有诚意：《告社区书》，而不是直白的《道歉信》。接下来社区怒火越烧越旺，以 [Noam Ross](https://noamross.github.io/datacamp-sexual-assault/) 为代表的 DataCamp 授课老师大力抨击这种缺乏诚意的回应。期间还发生了一件技术性事件，就是 DataCamp 试图通过一个 HTML 标签躲避 Google 等搜索引擎对那封道歉信的索引、收录。注意他们的所有博客文章都没有这个标签，唯独这篇道歉信是他们想掩盖的。

总之，DataCamp 是一错再错，事情越闹越大。为了平息民怨，其 CEO 发了一封真正的题为《[道歉信](https://www.datacamp.com/community/blog/apology)》的道歉信，并临时性下台。然后董事会也发表了[一篇声明](https://www.datacamp.com/community/blog/board-update)，说明了他们接下来采取些什么行动来更彻底处理这次事件。看起来终于有浪子回头迹象了，然而在我看来，千不该万不该的是在这个声明中，这些董事们偏偏又加上一节“In the Interest of Clarity”，纯属画蛇添足。在这个风口浪尖，任何洗白行动都会看起来令人生疑，不管是真白还是假白。这一节加得实在是太不明智。它反映出来的信息是，我们董事会在任何情况下都会试图维护公司声誉。大哥，到了这节骨眼，您的声誉值已经是负一亿，再往上加二百有什么意义呢。我觉得这个董事会实在不知道办事的轻重缓急。

好嘛，既然要辩解，那我们就来看看这些辩解：

1. 他们声称被炒掉的两个员工不是因为这两个员工对这个性骚扰事件表达了自己的担忧和意见，而是因为员工的业绩考核太差。这两个人前脚刚对上层表达了自己的意见，后脚就被扫地出门。我们姑且相信这只是个时间上的巧合。从被炒掉的两个人的博客文章来看，一方面，他们问公司他们的业绩表现具体在哪方面评估不合格，公司拒绝解释；另一方面，公司称其中一位员工承认了自己被炒掉是表现不合格，而我读了他的博客，觉得“承认”一词用得太重，况且人家表现不合格是因为家兄不幸去世，当时向领导说明时，领导承诺他想用多长时间处理家事都可以，而随后却把人给炒掉了。

1. 他们否认了他们曾试图掩盖这个事件，而且这个否认的用词是极度坚决的。喂喂，那你们敢不敢解释一下你们那个特殊的 HTML 标签是怎么回事呢。如果你们不想掩盖这个事件，为什么 2017 年发生的事件，到了 2019 年才迫于压力出来致歉呢？贵司真是好透明哦。

真好意思辩解。可惜[越描越黑](https://www.buzzfeednews.com/article/daveyalba/datacamp-sexual-harassment-metoo-tech-startup)。
---
title: 香菜满园
date: '2019-05-21'
slug: cilantro-garden
---

[去年说](/cn/2018/06/vegie/)明年香菜当饭吃都吃不完，真被我说中了。今年开春天气暖和之后，香菜卯足了劲长。一开始我扯一两株炒菜随便放点，后来它们开始像野草一样长了，远超过我吃的节奏。一园子香菜我吃了不到二十分之一，就已经在开花了。香菜开花就已经太老，不那么好吃了。小区里邻居家墙边都种些花花草草，而我则是随便撒了一把香菜籽，于是我们家墙边开出来的都是香菜花，估计也是举世无双没谁了。

![长势不知道是喜人还是愁人的香菜](https://user-images.githubusercontent.com/163582/58126517-b917ae00-7bd8-11e9-8e0f-c441c509ff99.jpeg)

自己种菜的最大问题是要择菜，这也是我不太喜欢种叶子菜的原因。从地里拔出来总是带着土、渣滓，择起来太费时间。我经常蹲在外面择一个小时香菜或蒜苗，然后拿回厨房一炒，就变成一口了。就算好吃，也太低效。

![费劲择菜](https://user-images.githubusercontent.com/163582/58126518-b917ae00-7bd8-11e9-98f8-da33c6034e9c.jpeg)

上周香菜开始开花，于是我又去拔了一小部分。折腾了老半天，把叶子择洗干净。倒油盐酱醋随意一腌，就捧着一大盆香菜当饭吃，然后炒个土豆丝、再炸一盘花生米，三样都是美味，相当惬意。

![开吃香菜](https://user-images.githubusercontent.com/163582/58126519-b917ae00-7bd8-11e9-9ff8-6f819170d451.jpeg)

连吃了好几天凉拌香菜、凉拌黄豆花生香菜、香菜饼、香菜土豆饼、香菜包子、香菜丸子汤、蒸香菜珍珠丸子、假西湖牛肉羹（家里没牛肉了，纯粹是为了放香菜）之后，本马桶居士一日蹲完马桶回头一看：嚯，~~香菜又绿江南岸~~。
---
title: 鸟人孵蛋
date: '2019-05-21'
slug: hatch
---

去年我回忆了童年养蚕的[渴望](/cn/2018/12/craving/)，当时我已经放狗搜过，发现美帝有人卖蚕卵。加上我去年夏天又发现小区里有桑树，于是今年开始把养蚕大计提上日程。三周前买了五十粒蚕卵，像小时候一样，放胳肢窝下孵。

一天早上我看见车库外面的地上有些枯草，觉得有些不对劲，因为地上通常都是很干净的，但当时没多想。后来进屋坐在电脑前，发现有一只旅鸫（American Robin）一直在屋檐下面和对面草丛两头飞，再细看，才知道它衔草在雨水管子上面做窝。以前在屋后的屋檐下也有鸟做过窝，后来等小鸟孵出来飞走后我就搬梯子把鸟窝拆了扔了。这次换到房前的雨水管子上了。我本想趁它刚开始做窝就把它赶走，然而又一想，算了，你在屋檐下孵蛋，寡人在屋里孵蛋。同孵同孵，于是一同孵。

![屋檐下的雨水管子上的鸟窝](https://user-images.githubusercontent.com/163582/58129267-0434bf80-7bdf-11e9-8a6c-b1a5d117376c.jpeg)

它的窝做好后过了几天，我见它曾蹲在窝里很长时间，心想应该是已经下蛋了，于是搬梯子上房去看了一眼。果然，窝里已经有两枚蓝色的鹌鹑蛋般大小的鸟蛋。

![旅鸫的蛋](https://user-images.githubusercontent.com/163582/58129266-0434bf80-7bdf-11e9-98b6-e74ef939b504.jpeg)

[前面曾说](/cn/2019/02/helicopter-parenting/)三岁半的老大还没上过屋顶。这次他见我上房看鸟窝，也嚷嚷着要看。他平日胆小如鼠，这次估计是好奇心太重，居然不用我扶，自个儿顺梯子爬到顶，小心翼翼地探头看到了鸟蛋，并创造了四岁之前上房揭瓦的记录。

到现在那只旅鸫仍然在窝里端坐着，看样子是小鸟还没孵出来，而我的蚕卵已经开始出蚁蚕了。目前出了八条，死了一条，失踪了四条，还剩三条，不知道我能否养活它们。现在看来蚁蚕实在太小，伺候它们吃桑叶有些麻烦，果然成年人就没那么多耐心了。上周在小区的小公园里遛娃，碰到一户新搬来的中国人，无意说起他们也在养蚕，这让我很是吃惊。我本以为我会是奥马哈养蚕第一人，结果这最近一阵子我已经第二次听说有人养蚕了。他说有人养了一千多条，送了他们一百多条，于是我让他送我一些。第二天我就捧着二十多条已经长得有些大的蚕回家了。

![开始养蚕](https://user-images.githubusercontent.com/163582/58129268-0434bf80-7bdf-11e9-8b57-587406ca3f50.jpeg)

这梦也圆得忒快了点。
---
title: 作序未遂
date: '2019-05-21'
slug: no-preface
---

四月初有位作者通过一位朋友找到本[作序专业户](/cn/2018/05/preface-pro/)，想请我帮其新书写一篇推荐语。我之前没听说过这位作者，但看在朋友面上，没有断然拒绝。然而到了月底，我仍然是一页书都没翻开看过，心里觉着这事恐怕要黄，于是去信一封问找到其他作序人了没。人说找了几位了，于是我长舒一口气，把这封邮件归档了。

我写过的序实在有点太多了，加之时间有限，现在我已经不想随意答应为不太熟的人作序，哪怕是通过熟人介绍来的。我乐意为我熟识的人效劳，不一定是见过面的，比如经常在我这里留言的人、或在 COS 论坛回帖的人。为不熟的人作序让我感到很尴尬，因为我写不出什么具体的点来，而我又讨厌空赞，还不如一口回绝、不写罢了。其实哪怕我只是在你的帖子上点过一次赞，就足以让我为你效劳。若你我过去一点交集也没有，我着实难以下爪。
---
title: 晓晨
date: '2019-05-23'
slug: xiaochen
---

今天早上醒来一翻手机，看到晓晨的妈妈说晓晨走了。去年也大约是在这个时候，我突然看见[三舅](/cn/2018/04/san-jiu/)去世的消息。哪曾想一年过后，又看见这样的消息。

晓晨是我十年前在和君商学院的同班同学。根据我一贯的君子之交淡如水原则，我与她自然也没有什么密切交往，况且专业上我统计、她会计，也几乎没什么交集；在我认识的人中，她与我的熟络程度排名应该会在五百开外。当年在商学院时，我们班三十来号同学里，她是唯一留意到我的个人网站并过来[留过言](/cn/2008/06/back-from-bremen/#comment-429721332)的人；当时我不知道她的英文名，所以没意识到是她，过了几天收到一封群邮，我看邮件署名是 Amy Ji，才知道是她。前几年她告诉我，有一次她跟她老公提起和君和我，发现她老公知道我的名号（就是“那个成天在统计之都网站回帖的人”），于是她觉得“有种认识了个名人的感觉”。

从商学院毕业后这些年，我们几乎没有什么联系。直到 2015 年 5 月 19 日，班级群里面祝她生日快乐，我混在群众里跟风盖了层楼，她见我冒泡便加了我微信，算是毕业六年后第一次寒暄。其间她提到“国内工作压力太大，凡是发展得好、待遇好的人基本都是快累出毛病的节奏”。到了年底，群里面在说班级聚会的事情，我说我在美帝，身体出了点毛病，刚做完[手术](/cn/2017/01/blog/)，不能参加聚会。随后她看见消息，又特意问候了我。

然后就到了去年七月初，我突然收到她的消息说她被查出恶性肿瘤，问我到美国治疗的可能。我在震惊之余，大致研究了一下赴美就医的流程，发过去过了一天，就收到她的消息说已经确诊为癌症晚期，医生说已经没有治疗的必要。过了一段时间我再问起，她说正在化疗。尽管我已经戒掉微信朋友圈几年，但偶尔我还会去看一下她的状态。只见每隔一段时间她会发一些与家人在一起的照片，尤其是女儿。小女儿不到四岁，一脸烂漫，难以想象她将如何接受妈妈已经永远离开的事实。今年我晕头转向瞎忙着，也没再顾上此事。孰知噩耗就这样来了。

上午我翻阅了一下十年前的一些班级邮件，突然意识到前几天是她三十四岁生日，也顺便意识到一个巧合，那就是她与统计之都同一天生日，而我只注意到后者微博上的生日消息，并没有记得她的生日并祝福，不得不说是个遗憾^[后来她妈妈说晓晨是生日前一天走的。所以就算那一天送去生日祝福，她也收不到了。]。当年她的邮件并不多，多数邮件都是蜻蜓点水，只有最后的一份毕业报告，让我重新真切感受到一个人的印迹。为了不让这印迹消失，我且破例一次，未经许可、擅自把她的报告留存在此^[我将它存档的主要目的并不是为了赞颂和君商学院，而只是保存一个人曾经真情一刻的印迹。此时我们可以回想一下，上一次我们真心诚意写一篇文章是什么时候呢？但愿我们不要成为忙碌的行尸走肉——当我们离开时，我们能在这个世界留下什么印迹？]。

阴阳昏晓，聚散暮晨。生为吉人，何无天相。再见，晓晨。

---

<!-- 注：原文中有少数错别字，我已经自行修正 -->

## 毕业报告

> Life is not measured by the number of breaths we take, but by the number of moments that take our breath away.

> --- Anonymous

和君商学院 took my breath away，进入商学院已经整整一年时间，蓦然回首，发现这对于一个初出茅庐，见识一般，经历尚浅的 23 岁职场新鲜人来说，是一件多么的幸运而又有意义的事情。独立的人生刚刚起步的我，能相遇到和君这应该是命运的安排。

从 2006 年 11 月拿到四大 offer 到隔年 7 月进入普华永道工作，我发现自己一头扎在了影印、电话、Excel 表和无穷无尽的对数里面。以前在学校无忧无虑的时光一晃而过，再没有了属于我自己的私人时间。从前的我充满了对未来的憧憬和抱负，但是当梦想在现实中渐渐化为泡影时，我感到恐慌了。在学校里面做生意，搞兼职，不缺生活的来源的我，听师哥师姐们说四大非常锻炼人，可以找到接触更多企业的机会，再加上我想学习企业会计、扎实财务基础，带着这样的目标我毅然决然地选择进入普华永道，07 年正是中国经济大好的时候，金融专业毕业生有很多出路，很多选择了银行这比较稳定的工作，稳定对于女孩子来说似乎更具有现实意义，但是我还是不听劝，放弃银行进入四大，进来之后我彻底懵了。

我搞不懂很多会计术语，甚至搞不清借贷方，怎么去和客户谈话，一切都要从头学起，以前在不同的行业实习过，但是没有企业像专业性的公司这样，有着非常严谨专业的态度，甚至到了苛刻的程度，没有最好只有更好的服务态度，这对于做事情经常马虎、大而化之的我，非常头痛。发银行询证函要把所有客户的地址、邮编、电话核查一遍，给客户讲明需要做的东西，但是客户还是会出错，每个银行印章、经办人、寄出收回的时间、控制表，我一点点学会细致再细致，做过的东西自己先检查两遍再给老板看，工作注重对细节的把握，遇到事情也变得更加耐心，但是与此同时生活和工作的天平开始出现倾斜了，男朋友约会半夜凌晨却还在加班，朋友见面一推再推，周末到了只想补眠休息，黑眼圈成了消失不掉的印记……

我迷失了，这真的是我想要的工作吗？我在追求事业的道路上遇到的麻烦，是我不曾经历和想象到的，我听说别人说四大苦、四大累，偏要进来看看，结果我真的体验到了“安达信日出”，体验到了连续一个月进不了超市，因为回家的时候超市都打烊了的凄惨，身心俱疲，我找不到工作的快乐和意义。

为了什么？我开始询问自己，看到同龄的女孩子快乐的恋爱、逛街、购物，干着一份薪水不低责任不重的轻巧活，家人让我去我偏不去，我到底要什么？

其实我一直在和自己较劲，从小就在妈妈的打压教育下长大的我，特别的倔强，别人说不行我就要试试看的劲头，我乐意去学习和探索新的东西，乐意去从优秀的人身上学习，追随他们，我这样默默的努力也羡慕着，但是其实我一直都在把自己放在一个不公平的位置上去和别人比较，我甚至找不到自己的优点，每每看到人家好了，自己就开始纠结，于是产生很大的失落感，就推动自己努力，随着自己慢慢长大，我发现原来自卑也有好处，就是给一个人不断进步的动力，我于是来到了重点大学，进入了名牌企业，认识了更多比原来的同学更加有学识有抱负的一群人，和他们在一起，我觉得自己学习到的和我所带给他们的不成正比，我总是瞪大眼睛，在角落默默的关注每一个人，试图从他们的言谈中找到我想学习的东西。

记得当初在听完和君商学院先生在国图的宣讲后，一颗冷漠了很久的心重新跳动起来，我不想再埋头在会计的海洋里，还有很多知识我想补充，还有很多真诚的人我想认识，最重要我人生的路刚刚开始，我很迷茫，我需要一个导师来指引我，不是毕业了教育就结束了。我就是凭着一股劲头，那股从心底往外不断涌出的念头，我一定要来到和君，我就这么来了。像做一个梦一样，其实这个太不容易，我放弃了 IPO 在成功上市后五星级酒店的晚宴来听讲座，我请了病假来写申请，我加班到深夜仍然 6 点起床化个淡妆跑去和君从容淡定地面试，然后撒腿就往客户跑，我激动地参加笔试然后和兄弟姐妹会心的偷笑自己即将实现的梦想，进入和君，我听到“你能坚持吗？”那句话，我坚决的回答“是”，然后不管任何情况，饿着肚子，推掉家人的聚会，朋友的生日，太多太多，我要来参加和君，哪怕最后一节课，我仍然坚持到最后，项目通知我去塘沽，还是听到了最后一班车要出发才走，我坚持做到了。但是我想说的是，这根本不算什么，这里的每个人都这么有劲头，我的同学路明，每次要从天津坐火车赶来上课，我遇见这里的餐饮老板要打“飞的”过来听课，这就是我所知道的和君，就是这样的魅力，我觉得值了。

如果问我在大学四年和和君一年的感觉，我选择和君，因为在和君我能感觉到自己每天的进步。每当提起我的大学，我只能无奈的告诉别人我应该多读读书，更加去充实自己。而在和君的每一天都是充实的，没有讲座没有活动的日子，我自然而然的安排自己读书看报，关心金融时事，随时有锻炼身体的意识，有读书提高个人修养、沉潜内修的意识。上论坛看兄弟姐妹的发帖，看八拜之交已然成了我生活的一部分。一年了，时间转眼间飞逝，我成长了，成为一个对自己和未来更有信心的人，我感谢和君，感谢和君的兄弟姐妹，让我在毕业后能得到了大学所没有学到的知识，更多的是信念和理想。

“世界上没有任何事情比失去希望更加的糟糕”，在和君的大家庭里，请允许我用这么不学术的字眼，但是和君就像是一个家庭，给你温暖，信任你包容你，让你燃起对生活和未来的热诚和希望；这里教育你什么是责任和担当，告诉你远离浮夸膨胀和虚妄，教给你做人做事做学问的道理，不抛弃不放弃，对朋友、家人、同事、爱人、老板乃至社会。当整个社会都浮躁不堪的时候，和君就像是一朵在山水间悠然而生的一朵莲花，伫立在水中，清幽淡雅，即不妖艳也不绚丽，不沾染世俗，出淤泥而不染。

进入商学院后我开始相信一句话，那就是“生命其实是一个长期而积累的过程”，我们得到平日累积的成果，而失去我们不曾努力累积的！所以我认识到重要的不是和别人比成就，而是努力去做自己想做的。那么我现在即使很渺小，但是只要像和君所要求我们的一样去默默耕耘，以不抛弃不放弃的态度去对待事业对待人生，那么属于我该得的，迟早会得到。

在和君商学院的日子里，我和兄弟姐妹们一起学习投资咨询并购，一起畅谈人生理想，一起去出游领略大好春色，一起吃饭聚餐玩耍……古人说人生得一知己足以，但是恐怕在这里，你可以找到三个四个知己都不为过，为什么呢？就是因为大家抱着相同的人生信念，共同的理想而走到了和君，而和君创造了这个平台，让大家熟识。虽然我们来自不同院校、不同专业，有着不同的背景，天南海北、五湖四海，但是和君就是让我们这群有缘人聚在了一起，真是酒逢知己千杯少。临近毕业，我涌起了无数的感想，每当想起热切的笑脸关怀的眼神那么真诚的心灵，眼睛又被水汽氤氲了。

温婉可人四大前辈淑君，内敛不张扬实力男生丁珂，外向开朗讲义气玉洁，憨厚实在梦新，优秀上进的其林，多才多艺班长张怿，好逻辑好文笔的张曼，幽默爱生活的玉琢，稳重踏实的先明，朴素扎实的明庆，大气爽快的虹姐，聪敏有头脑的敏俊，帅气沉稳的孔营，坚韧血性男儿路明，前辈又大哥范儿的嗣永，气质才女艳芳，美丽大方的绿草殷茵，内秀不张扬的巍薇，才华横溢的文青，活跃多面手文思，认真勤奋的张力，健谈办事周到的邢凯，有底蕴有实力的益辉，创意未来新时代女王冉，沉潜内修的孙峰，财务小老师邳显，事业爱情双丰收伟然，许三多精神的寇政，热情又实在的文宇，内敛有思想的章通……

在你们身上我看到了不同的闪光点，就如夜空的繁星一样闪闪发亮，每一颗又都是独特的，这些闪光点能照耀我一生，让我在辛苦的工作时，遇到困难看不到希望的时候，看到的你们的优秀品质、为理想的付出，又觉得这点辛苦不算什么，觉得在世界上有这么一群有着奋斗激情的人，追求理想的道路上我就不孤单了。更重要的，我知道了遇到困难的时候应该向谁倾诉，知道了应该携手奋进的时候找谁一起上路。谢谢你们，你们是我一生中的宝贵财富、真正的财富。临近毕业也送上我最美好的祝愿，愿大家都能实现自己人生的梦想，不管有多大不管有多小，人生的意义就在于认真努力的实现的理想的过程。

此时的心情真是有一种感动涌动在心头，恐怕说出来就要掉泪，还是再说一声感谢，说一声珍重，和君，多少年后，希望和君再聚能看到你我的身影，到我们不再年轻，当金色年华已经成了夕阳西下，我们还能在一起回首往事的时候，笑谈人生，到那时成功失败都不再重要，重要的是我们都曾经来过和君，在这里出发。和君的精神已经深深在你我心中烙下，让我们将精神永存。

最后，让我用一首歌的歌词来表达我的感想：

> You've tasted bitter defeat and the sweet success.  
你已经尝过失败的痛苦和成功的甜蜜  
You want it all and you settle for nothing less．  
你想要的莫过于此  
You've tried harder than the rest.  
你比所有人都更努力  
You've become one of the best.  
你已经成为最好的一个  
This is the time you'll remember for all your life.  
这是值得你一辈子铭记的时刻  
Forever through the years  
多年过后  
we'll hear the cheers.  
我们能够听到穿越时空的欢呼喝彩  
Joy and laughter everywhere! We're together here to share  
我们共同分享无处不在的欢笑喜悦  
Forever friends  
永远的朋友  
No matter where we are or go  
无论我们身在何处前往何方  
No matter what we hope for or know  
无论我们心怀何种梦想  
There is one dream we share  
这是我们共同分享的梦想
---
title: 心肥
date: '2019-05-25'
slug: fat-heart
---

几年前我尚会点开微博上的小视频时，曾听那 papi 酱讲：四月不减肥，五月徒伤悲，六月徒伤悲，七月徒伤悲，八月徒伤悲，九月徒伤悲。

这周有位小妹来家里作客。第一天我炸了一些麻花，和面时手抖略微多放了一点糖。她从外面玩完回来，拿起一根咬一口，道好吃。在本厨看来，放糖、油炸的东西想做得不好吃都不行，毕竟人类的基因还是追逐高热量的嘛。

第二日，她便宣称要减肥了。嗨，对一个厨子来说，最怕听到的话就是客人说要减肥：洒家已经在脑子里列出了二十八道菜，你跟我说要减肥？不过我也不介意，尊重客人的选择，而且我也非常支持现代人在饮食适当节制自己。傍晚她玩完回来，手捧一杯珍珠奶茶。吾见状笑问：客官早上不是宣称要减肥么？客曰：这奶茶零热量。吾曰：减肥不正心诚意，零热量莫不是自欺么？客笑而不语。

不管什么客人来我们家，我极少劝饮或劝食。我唯一的工作只是把饭菜做出来，并告知这些是什么饭菜。至于吃多少喝多少，全凭客人随意。这是很不符合中国人的传统礼节的，仿佛主人很冷淡，但我只是不想给客人压力，他要是吃撑我当然高兴，因为这是对厨子的最大表扬，但我宁愿他不要吃撑，尤其不要迫于压力和情面吃撑。

我赞成适度节食减肥，不过在这之前有两个问题：一是为什么我们会肥？二是我们为什么而减肥？除去遗传、疾病等不可抗因素，我觉得肥大约就是摄入了超额的热量而已。如果不是因为不可抗因素，那么肥胖很可能是缺乏自制力的体现，吃饱了还想吃。脂肪只是表面，要减的是过度的口腹之欲。寄几不能控寄寄几的人，应该很难找到深层次的幸福感。前面我说喝零热量的奶茶属于自欺，意思是嘴上说减肥，但并没意识到真正肥的不是身体，而是心。我琢磨着零热量的奶茶一样会好喝（虽然我没喝过），应该跟零热量的可乐、七喜等碳酸饮料类似，虽然无糖，但口感差不多，比如仍然是甜的。若心里还在渴求好吃好喝的东西，就是还没减到真正的肥处。

当然，对不同的人来说，克服口腹之欲的难度应该是不一样的。这事对我而言相对简单一点，虽然我也好（hào）吃，但本吃货基本上把目标从“好吃”扭转到了“好做”上，也就是更多追求做好吃的东西、而少追求吃好吃的东西。我从小到大没什么零食可吃，万幸也没有养成吃零食的习惯，但我也得承认如果零食摆在我面前的话（比如一包瓜子或一包甜甜脆脆的饼干），它对我的吸引力仍然很大，所以我的策略就是压根儿就不买，省得买了它总是诱惑我。相见争如不见，有情还似无情。

我并不认为这种减心肥算自虐，而是自我控制的一种刻意练习。它让人不舒服，但这种牺牲通常可以让我们取得更大的成就，比如有更健康的身体，或面对更难的任务时不会本能性退却，或面对不该得的利益时不去伸手。

至于为什么减肥这个问题，我想它本质上应该是个社会问题。对多数人而言，减肥问题只是一个标志：减肥意味着我很在意别人怎么看我；换句话说，我把我的人生选择权交给了相关或不相关的路人。在我看来，那些不问来由就嘲笑肥胖的路人，根本不值得我们为他们去做任何改变。凭什么让肤浅的人通过外观定义我的价值呢？

类似的问题还有化妆、衣着服饰。仔细想想，难道都不是被无关的路人裹挟出来的压力吗？我们在这些问题上投入的大量精力和钱财，真的值得吗？封建社会的中国女人都要裹脚，现代社会的女人当然不可能再傻乎乎把自己的脚骨掰断缠起来，然而芭蕾舞、高跟鞋这些变态的审美导致的伤痕累累的双脚，跟封建社会的小脚又有何不同？

所以心肥的另一层含义是我们心里充斥了太多外部灌输的像垃圾食品一样的杂念，导致我们无法做自己。可悲的是，人与人的虚拟连接（所谓社交）越来越多，这种裹挟的力量就越来越强大，个体无法对抗集体制造的审美。那种网红一个短视频带货几个亿的新闻，我们看了在惊诧之余是不是该也从心里泛起一丝悲哀呢。

同学，等等，别往前挤了，你东西掉了。

啥？

你自己的灵魂。
---
title: 葱喇叭
date: '2019-05-30'
slug: onion-trumpet
---

几日前，大娃不知吃啥吃得总放响屁。每次他放屁我都问：是谁在吹喇叭？后来我[联想](/cn/2018/08/association/)起小时候用沟渠边一种野生水草做的小喇叭。那种水草我们叫水马草，类似马齿苋，但茎是空心管状、一节一节的。我们有时候会掐一节，把一头用牙稍微咬咬，咬瘪了之后就可以吹响了。

于是我问他想不想玩喇叭，他说想。我便去冰箱里拿一根葱，这葱是自家地里种的，已经开花了，花下面那部分葱管很细，跟水马草粗细差不多，所以我估摸着应该也一样能吹响。我切下一小段葱管，咬咬一头，一吹就响了，只是需要一点肺活量。我本以为他那小肺和弱腮帮子吹不响这只葱喇叭，没想到他试了几次，居然也吹响了。

![开花的大葱](https://user-images.githubusercontent.com/163582/58849642-babd8900-8650-11e9-9e0a-80fb5905923b.JPG)

这还并不能算是喇叭。小时候村里的葬礼上通常有喇叭，我见吹喇叭的人就是摘一段稻草管，插在喇叭上就可以吹了。关键是有个喇叭头来放大这根小管的声音，所以我拿张纸卷成喇叭状、用葱管对着纸筒吹。

有了这样神器之后，满屋子嘟嘟嘟的声音，我们说话都听不清了。邻居带娃过来玩，见这葱喇叭，感慨道：还真是不一样的童年。我说现在成年人总是费尽心思给娃制造各种玩具（尤其是以启发智力为名头），但其实并不一定比随手拿根葱做的玩具好玩。问题只是，我们还留有多少童心童趣。
---
title: 莴笋与芹菜
date: '2019-06-02'
slug: celtuce-celery
---

今年天气热得太晚，这都到了六月了，菜园里的各种种子才开始冒芽出来。因为这个缘故，我一直都没什么新菜可种，于是那长势愁人的香菜我就任凭它占着一大块地在那儿继续瞎长。上周三终于忍不了，抽空把它们都拔了。一大株老香菜上也就剩底下的一两片叶子还能吃，所以择了半天也就择出来一盆。

![全歼香菜](https://user-images.githubusercontent.com/163582/58775747-b4fe6f80-858c-11e9-93bd-974fbcd10ac0.jpeg)

促使我终于动手拔掉香菜的另一个重要原因是最近王大爷招呼我去他家拿莴笋和中国芹菜苗。这两样都是我超爱吃的菜，尤其是莴笋，我到美帝之后似乎就没再吃到过。王大爷说哇塞太好吃了，于是周末我立马跑过去挖了一些种上。

![中国芹菜](https://user-images.githubusercontent.com/163582/59229602-7413e580-8ba0-11e9-8c42-985281116409.jpg)

中国芹菜在亚洲超市经常有卖的，但往往太老。虽然芹菜味很重，是我喜欢的味道，但吃起来像嚼稻草。我记得小时候我最初本来是不爱吃芹菜的，嫌它味道太冲，后来因为我娘总是炒，我吃着吃着就被更改了口味。美帝的芹菜主要是水分足，芹菜味不像中国芹菜那么冲，不过炒炒香辣虾也挺好吃。本来我初来美帝时对这种肥芹菜也无感，但有一次在一家鸡翅店啃鸡翅时，用那生的肥芹菜蘸沙拉酱咬了一口，突然间觉得这水分充足的芹菜脆脆的，也很好吃。自此便开始喜欢上生吃芹菜。

![刚种下去的莴笋](https://user-images.githubusercontent.com/163582/58849748-30c1f000-8651-11e9-8c11-4ab6a20055b3.JPG)

莴笋在我老家很常见，长得粗粗壮壮，我们通常吃茎；切片炒肉吃，或者干脆生吃也挺好吃。现在仍然记得小时候我爹给莴笋去皮的方式：用菜刀在莴笋根部边上切一小条口子，然后顺手用食指把那一小段莴笋皮压在刀上，往下一撕，一条莴笋皮就撕下来了，这样一圈切撕下来，就去完皮了。所以我以前给[西兰花去皮](/cn/2018/08/cabbage/)也差不多是这个手法。

从大爷家捧回来的两棵冬瓜苗不幸都夭折了。黄瓜苗似乎活了下来，不出意外的话，今年估计能收几百条黄瓜，因为今年贪心种了好几棵苗（一家人吃的话，两棵足矣）。冬瓜苗夭折的原因直到后来我再次移植几棵自家发出来的黄瓜苗时才搞明白：我把苗直接放进了肥料土中，后来我看土的说明才知道，那土需要和普通土混合使用，所以那两棵冬瓜苗应该是被肥烧死了，可惜我的一批小芹菜也被烧死了大半。从大爷家拿回来的两棵脆瓜苗断了一棵，可能是兔子或者鸟干的好事。防野生禽兽是种菜最头疼的事情，而美帝这种[毫无意义的栅栏](/cn/2018/10/fence-lawn/)又根本挡不住兔子，只能挡邻居。就算我拉了一道铁丝网，那兔子仍然可以从木栅栏缝里钻进来，唯一能指望的就是希望兔子能傻一点，不要惦记我这点可怜兮兮的菜。

且看这些小菜苗能否顺利长大吧。目前莴笋长得还行，不过貌似种得太密了。大爷还专门叮嘱过我不要种太密，看样子还得抽空把它们重新移栽一下。

![两周后的莴笋](https://user-images.githubusercontent.com/163582/59229600-7413e580-8ba0-11e9-911d-d8c3648e7fd5.jpg)

![两周后的芹菜](https://user-images.githubusercontent.com/163582/60347990-3f67a280-9984-11e9-9ed2-cf22ad6cef57.jpg)
---
title: 相逢初度
date: '2019-06-07'
slug: passed-youth
---

前两天发现太云也在批阅我的旧折子。因为他现在不常在个人博客里发评论，这次冒泡让我颇感惊异，于是我顺藤摸瓜瞅了一眼他以前的评论。七弯八绕看见小轩哥十年前的一篇日志《[社区和火炬](https://yixuan.cos.name/cn/2009/12/community-and-torch/)》，然后又想起前年在论坛上扒出来[一则帖子](https://d.cosx.org/d/17549)，写的都是第二届中国 R 语言会议。

几周前我在《[晓晨](/cn/2019/05/xiaochen/)》一文的脚注里提到了“印迹”，并感叹如今似乎再也难寻一个普通人的印迹；不知为何，这种朴实而真情的文字在渐渐消逝。我首页上龚自珍的词已道尽这一切：客气渐多真气少，汩没心灵何已。

[去年](/cn/2018/11/email-reply/)依含大人在留言中问我在我收到的邮件里有哪些让我印象深刻的，我望着天花板回想了半天，也没想出来多少。最先想起来的只是十来年前与小轩哥相逢初度的一些邮件了。而最近让我印象深刻的日志呢？我现在也只能顺势想起[依含大人的外公](https://yihanxu.github.io/in-memory-of-my-grandpa/)，以及[给列弛大人看病的老中医](https://www.liechi.org/cn/2019/05/an-old-traditionalchinesemed-doctor/)。

相比起青史几行名姓，我更关心的是北邙无数荒丘。无名之辈亦可有[真性情](https://www.liechi.org/cn/2019/05/to-be-real/)、亦可被欣赏、怀念。人要怎样活法，才能活出数十年后还能被人追忆的真气？
---
title: 重口味
date: '2019-06-07'
slug: strong-taste
---

前几天看到一篇文章叫《[被重口味毁掉的中国人](https://mp.weixin.qq.com/s/Vk_-_Yqn9pz7FprhvNiIuQ)》。作为一个曾经的重口味患者，现在我赞同不要一味追求重口味。我在群众大学时，班里有个广东籍同学就曾经说我的味蕾被辣味破坏掉了，只嗜辣而吃不出别的味道的香。

自打有娃之后，我做辣菜的频率大大降低，通常是家里来客人了我才会做两个辣菜，自个儿在家吃饭时都不太吃辣了。两个月前回 A 村，承蒙小谋子招待，我突然发现我吃辣的功力都倒退了。他烤了一些墨西哥辣椒，自己可以一口吃一个，而我一个辣椒夹到碗里要分好几口才能吃下去，而且还觉得会被辣到。一个吃饭不是不怕辣而是怕不辣的人居然都会被辣到了，简直无法相信。

到美帝之后发现重口味并不只有辣：美帝的一大特色重口味是甜，能把人齁死的甜；另外，冰也算一种重口味，在外不管喝什么、也无论春夏秋冬，服务员一律默认加冰，这让死心塌地信奉热水教的中国人实在不习惯，所以中国人在美帝餐馆吃饭通常要嘱咐服务员不要在水里加冰，或者干脆要热水。在美帝待了这些年后，我对甜的容忍度应该略有提高，而对冰则是完全适应了。有时候坐飞机因为懒得另外找空姐要水，我就直接吃饮料里剩的冰；而平日生活里我也从不喝热水了，只喝冰箱水管子里的冷自来水。重口味的人可能就是会口味越来越重。

回到那篇文章。我想说的是这篇文章其实有些讽刺，因为一篇劝人向淡的文章，在形式上依旧是重口味，例如：

- 文章取了一个常见的耸人听闻的标题：毁掉、中国人。真毁掉了吗？所有中国人？外国人都安然无恙？文中嘲讽了一个标题，叫《作家余秋雨重病住院，目睹医院所作所为，说了一句话让国人沉默》。你回头来想一想，《被重口味毁掉的中国人》这个标题莫不是一样粗暴、直接？

- 图，铺天盖地的[配图](/cn/2017/06/illustration/)。现今文章中的图跟辣椒无异，都是为了加重口味。有多少图是必不可少的配图呢？比如开头一定要放一幅葛优吃着火锅唱着歌的图吗？

- 三步一加粗，五步一换行（当然，还有十步一配图）。以前我表达过对[滥加粗](/cn/2018/11/moron-readers/)的无比反感，当时忘了说另外一个常见问题了，就是好好一篇文章，又不是诗歌，非特么要拆成每段只有一句话的段落、段落之间还有无比大的段间距，仿佛给婴儿喂食一般。

作者通篇不断煽情，到最后煽道：真渴望那个传统的、东方的、富有审美的中国还会回来。好感人哦。讲真，其实我非常赞同这篇文章表达出来的大部分观点（唯一不同意的是我认为重口味在去腥方面很有实用价值、不能一棍子打死），我向往作者描述的“情中见真意、淡中有真味”的生活，我期待阿城这样的真人，但就现在这种心口不一的狗屁审美，我敢说，作者这个渴望是无望了，洗洗睡吧。人间不值得。
---
title: 育儿反焦虑中透露的焦虑
date: '2019-06-20'
slug: childcare-anxiety
---

上周看了一篇讲[家庭教育的文章](https://www.douban.com/note/722437939/)，总体来说我比较同意里面两位育儿专家的观点。唯独第三个问题，也就是校园霸凌如何解决，我觉得答案不太现实，但这也没办法，因为这个问题牵涉到别人家的家庭教育，不受我们自己控制。我尤其认同其中所说的育儿更多应该是父母自我完善的过程，而不是强行塑造孩子的过程。比如我让娃背诗词的两个主要动机是练习他的中文口语，以及我自己背诵一些我曾经喜欢但又背不下来的诗词。我鼓励娃对甜食保持克制，也是同时为了防止自己过于贪吃而啪啪打脸。

关于这篇文章，我主要想说的是它里面透露出来的一个隐形矛盾。作为一篇反焦虑、反世俗成功定义的文章，它里面总是嵌入一些勾起我们焦虑的元素。一边讲不要追求成为所谓成功的父母，一边抬出尹建莉、陈美龄的各种头衔、学位和成就；一边讲孩子自然养养就好啦，一边提陈美龄的三个孩子都上了斯坦福、尹建莉的女儿考上了清华、最后就读美国常青藤名校。

真是嘴上说不要。

假设这两位专家没有这遍身光环，假如她们的孩子没有巨大的世俗意义上的成就，我们还会关注她们吗？我觉得完全不会。如果我们真的在乎让孩子自然成长，并认同那样是最合适的育儿方式，那么我们应该宣传的普通妈妈教育出来的普通孩子。我希望看到怎样的育儿例子呢？它可以是一个农民的儿子从小喜欢种菜，他爹并不逼迫儿子头悬梁、锥刺股、考上大学，而是任其在镇上摆个菜摊，生活略劳累但自给自足；或者是一位环卫工人大妈的女儿，体谅妈妈工作的艰辛，像富兰克林一样琢磨出了改善城市环境的妙法（参见《富兰克林自传》），最终成为一名城市规划师；或是一位大学宿舍门卫阿姨的儿子，从小爱好写东西，但从不被教育要以莫言为目标、将来拿诺贝尔文学奖，而是坚持随性而写，最终成为一个五线城市的陶渊明、稿费不多但也无须为五斗米折腰，一生没因为写作拿到任何奖，但一样真切生活过；或是一个本来沉迷电子游戏的娃，被引导出编程的兴趣，从而觉得写游戏比打游戏更有趣，最终成为一名普通码农供职于一家在线教育公司，用程序提高人们学习的效率；或是一个贪吃的娃，被勾起对食物味道机理的好奇心，最终成为一名化学家或生物学家，与人合作研发出肉蛋鱼等荤食的完美替代品，因此大量减少了家禽家畜的杀戮，又或是成为一名普通厨师，虽然工作辛苦，但是内心就是热爱捣鼓锅碗瓢盆、油盐酱醋。

我们的焦虑来自于我们对成功的定义和渴望，而不幸的是，世俗意义上的成功总是建立在某种横向而非纵向比较的机制上，比财富、比地位、比名声、比身材、比天比地比空气。根据这样的定义，金字塔尖永远只可能只有少数人，下面的人只能永世焦虑。我说的横向比较是人与人比，纵向比较是人与自己的过去比。只有什么时候社会接受了后一种成功机制，这焦虑才会减弱，不过我觉得这个基本不可能。最近了解到一位韩裔德国哲学家叫[韩炳哲](https://en.wikipedia.org/wiki/Byung-Chul_Han)，他抛出了一些有意思的观点，比如以往的社会是人剥削人，而现在的社会已经变成了人各自主动剥削、压榨自己。想想真是这样，我们都在心甘情愿变成自己的奴隶。
---
title: 变态中文
date: '2019-06-20'
slug: obfuscated-chinese
---

今日瞥见余光中 1987 年的一篇文章《论中文的常态与变态》^[彼“变态”不及今日之“变态”包含的贬义之重，只是与“常态”对应，表示不符合常态而已。我们今天说的“变态”大约是莫名其妙借用了一个生物名词，并通常赋予了很重的道德评判。]，这种抠文字的文章我读来自然会有共鸣，他的大部分观点我都同意。中文受英文影响[的确很大](https://zh.wikipedia.org/wiki/%E6%AD%90%E5%8C%96%E4%B8%AD%E6%96%87)。民国时期好些文人都有中英混杂毛病，可能是对古文实在失望和痛恨透顶，恨不能废弃中文、干脆跳转到英文算了。这在那个语言文字青黄不接的特殊时期是可以理解的。

我刚上大学时，在高等代数书上生平头一次见到把“如果”放在后半句的情形（类似“A 是幂等矩阵，如果 A * A = A”这样的句子），所以那条定理我看了好几遍都没看懂；我是指语文而不是数学意义上的没看懂。很久以后脑子才转过弯来，原来那是按照英文句子的语序习惯硬译过来的。

余光中认为中文的常态是：措词简洁、句式灵活、声调铿锵。我觉得前两项不是中文的专利，其它人类语言应该都能做到。第三项是因为中文有四声，才产生了声律美，不过追求声调也很容易导致另一种变态的中文。他说的那些变态的中文例子，有些也不专属中文。奥威尔的《[政治与英语](/cn/2019/03/politics-and-english/)》表达过一些类似的批评。我觉得语言的常态首先应该是清楚，至于措辞简洁和句式灵活，则属于次要要求。比如余光中批评的“最……之一”句式，本质上就是因为太含糊；如“某人是某领域最厉害的专家之一”，那究竟是有多厉害呢？还有弱动词的使用，也是因为不清楚。文章开头批评了“可读性”这个词，在此之前我从没想过这个词有何不妥，甚至都没意识到这是个英文翻译造就的词，但看了他的分析，不得不服；说一本书可读性很好，一方面就跟说一个人高度值很大一样蹩脚（直接说一个人很高就完事了），另一方面其实也不清楚，究竟是怎么个可读法，比如是文字浅显易懂，还是情节吸引人。把话说清楚着实不简单呐。
---
title: 贤哉斌也
date: '2019-06-21'
slug: huibin-zhou
---

今天看群众大学统计学院新闻时，读到耶鲁统计系主任周慧斌老师[到学院座谈](http://stat.ruc.edu.cn/displaynews.php?id=5327)的消息，其中他表示：

> 教学一直是自己最引以为傲的事情，教育好下一代更是每一位教师不可推卸的责任。几十年如一日，他坚持投入大量的时间进行备课，坚持在课前一小时拒绝任何人的来访，以便将课程内容再仔细回顾一遍。对于“科研还是教学”，他表示，教学永远是第一位的。

我知道肯定也有很多其他老师也相信教学重于科研，但这是我第一次听一位大学教授旗帜鲜明地讲教学毫无疑问应该重于科研。几年前我就[发过牢骚](/cn/2015/11/peer-review/)，说学校里科研大大重于教学是很不健康的现象。这也不能怪老师，都是激励机制和评价体系的错：发表的论文算成果，而培育出来的优秀学生就不算。要我说，这个激励机制理论上很容易纠正，比如把老师的薪水、职称和他培养的毕业生的薪水、职位挂钩。学生厉害了，老师就水涨船高。这样大学才能切换到巴菲特的价值投资理念上、更注重对社会的远期贡献，而不是一些眼前的所谓成果。当然，我说的只是“理论上”可以搞这么个激励机制，因为这件事基本不具备可操作性。一是长年持续追踪学生很难，二是学生的薪水、职位等信息都涉及到个人隐私，而且就算采集到，也可能不准确，三是老师带学生有一定的随机性，有些老师可能碰巧就遇到了一个好学生，而且学生毕业后工作也有随机性，要碰上一个好公司、好老板，也更容易飞黄腾达。

我对周老师并不熟，这是我第一次在中文世界里看到他的有关报道。也有可能是因为这位老师的科研实力已经超强，所以有足够的底气把重心放到教学上。无论如何，我很高兴见到老师说教学永远是第一位。不亦贤哉！
---
title: 自制豆腐脑
date: '2019-06-24'
slug: soft-tofu
---

我不太常去亚洲食品店，两周前顺路去了一趟，瞥见有石膏粉卖。我心想这玩意儿不是做豆腐的吗，于是掏出手机查了一下。确认过眼神，你是对的人。遂抄起一袋拿回家。

昨天试了一下。要早知豆腐脑如此简单，我早就做了。就是用搅拌机打黄豆，过滤出豆浆，煮开之后将豆浆冲进石膏水中，静置一小时就好了。唯一略微麻烦的一步就是过滤豆浆，我没有滤网，所以用了一块蒸包子的笼屉布盖在一个玻璃盆上，让够不着厨房台面的娃爬上椅子来帮我从两边压着布，我好往上面浇豆浆。我刚浇两勺，他手一松，结果滤布就掉进盆里了。我又把豆浆倒回搅拌机，把布用水冲一冲，重来一遍。第二次他就学乖了，小心翼翼把布紧贴着盆边摁住。

见一盆豆浆水凝聚成豆腐真是个奇妙的体验（类似的还有[豆腐变腐乳](/cn/2019/02/fermented-tofu-2/)、[糯米变米酒](/cn/2017/01/rice-wine/)、牛奶变酸奶、[腊肉变透明](/cn/2017/04/smoked-bacon/)）。本来我以为我加了太多的水，结果最后还是完美地凝聚成了超嫩的豆腐脑。仰天大笑出门去，我辈也是豆腐人。

笑完进来把剩下的豆渣和进面糊烙了两张大饼。咬一口，嚯，竟然如此这般松软（美中不足是手抖脑抽盐放多了）。通常来说，如果我追求松软的饼，饼就很容易因为太稀而不成个，甩锅[翻面](/cn/2018/06/flip-a-cake/)也甩不起来，很容易让我焦躁。这次还好，既能做到饼软，又能甩翻过来。遂再次仰天大笑出门去，人生得意须尽欢。
---
title: 另类大学
date: '2019-06-27'
slug: anti-college
---

看了纽约时报上一篇[反大学的文章](https://www.nytimes.com/2019/06/08/opinion/sunday/college-anti-college-mainstream-universities.html)，讲了几所试图反叛现有大学体制的教育机构。这些机构建立的动机是如今美国大学太昂贵、太官僚、太以学生未来的职业事业为中心、专业过度细化，让学生无法意识到更大的问题：[人生的意义](/cn/2018/03/ikigai/)是什么。

分久必合、合久必分，自有其道理。合久了就不免会沦陷到官僚与琐碎中，让人想另寻出路。文章提到的那些教育机构的这些举动引起了我的注意：

- 学生每周要进行十五到二十小时的体力劳动。我觉得这个做法很好。现在的大学教育几乎是纯脑力劳动，应该安插一些体力劳动，直接感受一下自食其力，不要以为摇笔杆子或敲键盘就高人一等，不要忘了自己的口粮是怎么来的。另外，总是沉浸在思维或想象的世界里，也该间或出来到现实世界放放风，亲近一下大自然。

- 限制上课时使用手机，也限制半夜使用网络。这个我也赞成。现代人应该适时掉线，留点时间拷问自己的灵魂。

- 读哲学。这一点听起来是很好，不过对我不太适用。我大学期间完全读不懂所谓的哲学，一听这个词就敬而远之，感觉那些大胡子德国哲学家跟我不是一个星球的人。现在依然看不太懂，只不过没那么犯怵了。

- 结合静修的周游世界。关于旅游，我觉得就像孔夫子讲的学而不思则罔一样，游而不思也让人迷茫。我个人就非常不喜欢急忙赶路的旅游，真不知每天起早贪黑、累得要死要活图个啥。回头一想，记忆里只剩下照相和赶路。行万里路当如读万卷书，得有时间消化才行。

- 大学教育让我们花大部分精力去把成绩单和简历弄得漂亮一些，而漂亮的分数和简历能代表优秀吗？

- 禁烟酒、[大麻](/cn/2018/10/pot/)以及一切消遣性毒品。不用说，我自然支持禁烟禁毒；至于酒，适量就好，要看个人的自制力如何，可以吃酒，但不能酗酒。

- 学生对读柏拉图存在很大争议：有人觉得能获取很多智慧，而有人则强烈反对读一个死白男人。这些反对党让我有些吃惊，因为理由竟然是死、白、男这些外在标签，而不是反对柏拉图的观点。还能更肤浅一点吗？

这些教育机构做的事情在传统大学里能做吗？我觉得当然也能做。传统大学最大的问题是那个官僚、琐碎的大环境，人在一个大环境里很容易怂（羊群效应），比如看别的同学在拼命复习准备考试时，一个人就很难把这时间花在冥想人生的意义上。说到底，还是看学生个人是否有足够高的眼界和足够开放的头脑。这个眼界和头脑我觉得应该可以通过家庭教育和社会教育弥补，不能指望学校教育，因为羊群的眼界和头脑最多也就是被最厉害的那只羊界定。从这个角度来说，望爹成龙其实比望子成龙重要得多。

不过爹成龙也未必管用——房祖名还不是一样废柴。
---
title: 听歌系列之罗文《黄昏》
date: '2019-06-27'
slug: dusk
---

两周前随机听到罗文的《[黄昏](https://music.163.com/song?id=112143&userid=318661386)》，我以前没听说过这首歌，但一听钟情，然后单曲循环了八十来遍。它也成了我迄今为止最喜欢的男声歌曲。罗文作为乐坛教父，吐字果然清晰，唯一一点瑕疵是少数几个卷舌音读成了平舌。这首歌的唱法略微有点美声，通常我并不是太喜欢美声唱法，像费玉清那种嗓音对我来说就过于亮丽，从而感觉有些腻。罗文这首歌的美声程度对我来说刚刚好，有清秀的感觉。

这首歌是电视剧《[刺马](https://baike.baidu.com/item/刺马/10072179)》的片尾曲。刺马案我是直到八九年前读唐浩明的《曾国藩》才第一次听说，而这部电视剧我之前更是从未听说过，可能是没在我们那里播，也可能是播了我忘了。结合剧情看歌词的话，不得不佩服词作者：歌词非常贴切这部剧，所有主要人物最后都消逝在了黄昏。

这是一首悲情的歌词，但做到了伤而不悲，而且伤都伤得那么淡然、从容。它并不一味强调伤的一面，而是把伤撒播到广阔的山谷和晚风中。

> 山谷中已有点点灯火  
暮色就要渐渐昏沉  
你和我也然笑泪满唇  
感叹年华竟是一无余剩

其中“笑泪满唇”一词用得尤其高明，为这首词增添了很强的文学意味，是这首歌中我最中意的词组。笑满唇、泪满唇都常见，而笑泪满唇则不那么常见。这让我联想到弘一法师的临终绝笔：悲欣交集。

歌词中还有青丝、黄花、红颜，一串颜色的组合也很有意味。看来词作者邓伟雄作为饶宗颐的女婿不是盖的。歌词中的颜色和点点灯火让我想起一生钟爱乡村黄昏的赫尔岑，他在《往事与随想》中的这段描写和罗文这首歌颇有相似之处：

> 然而除了放炮，还有一种乐趣是我始终不变的，这就是对乡村晚景的爱好。即使现在，它们对我说来仍像当初一样，是虔诚、安谧和诗意的时刻。近来我生活中一段光辉可爱的经历，也使我想起乡村的黄昏。太阳庄严地、灿烂地落进火红的海洋，终于溶化在它中间……突然，深青色取代了浓重的紫红色，一切蒙上了一层朦胧的烟雾——在意大利黄昏是来得很快的。我们骑在骡背上，从弗拉斯卡蒂去罗马，必须经过一个不大的村庄，有些地方已出现了点点灯火，一切静悄悄的，骡蹄踩着石子发出清脆的声响，新鲜而有些潮湿的风从亚平宁山吹来；村口的壁龛中供着一尊小小的圣母像，像前点着一盏灯；农村姑娘们收工之后，还没摘下白头巾，便跪在像前祷告；行乞的山民吹着木笛经过这儿，也随着她们一起祈祷。我深有感触，也深为激动。我们互相看了一眼……静静地走向饭店——马车在那里等我们。

其实罗文的歌我小学时就听过了，也就是我在《[渴望](/cn/2018/12/craving/)》中提过的《莲花争霸》的主题曲《江湖路》。只不过喜欢那首歌是受了电视剧的影响，这首《黄昏》则纯粹是歌声和歌词打动了我。话说《江湖路》的歌词也是侠气冲天，不过不知道作者是谁。

> 在风云之中你追我逐，恩怨由谁来结束？

一语道尽江湖。
---
title: 娱乐至死了吗？波兹曼错了吗？
date: '2019-06-27'
slug: postman-amusing
---

年初杨洵默兄在我的《[迷茫与倒退](/cn/2019/01/confusion-seclusion/)》下面提到[辉格认为](http://headsalon.org/archives/5508.html)波兹曼的《[娱乐至死](/cn/2018/04/amusing-ourselves-to-death/)》预言“完全错了”。我读了辉格的文章，并没有觉得哪里有波兹曼错了的证据。于是杨兄摘抄了几段辉格的话作为证据：

> 也常听媒体业者说，微博时代，阅读碎片化了，媒体快餐化了，没人看书了，写长文章没意义了；然而，这些耸人听闻的哀叹毫无事实依据，就在卡尔文章发表之后的四年里，尽管手持终端迅猛普及，网络媒体渗透率不断提高，但图书出版、销售和阅读量也在快速增长，美国图书销量增长了14%；读者对长内容的热情并未消减，连抗拒多年的微博也终于接受了长文章。

> 从印刷术、报纸、广播、电视，到互联网、智能手机、社交网，新型传播媒介始终在拓展大众的信息来源，开阔其眼界，让他们认识到生活还有更多可能性，从来没有人因为信息来源更多而变得更愚蠢、更不自由。

> 自由的丧失，从来都是从信息源的剥夺开始，而这一剥夺必须依靠强制才能做到，动物庄园的建设者们，无不视新媒体为大敌，必欲除之而后快。

杨兄自己讲：

> 从历史经验来说，类似的担忧在电视时代和电脑时代都出现过，但现在回头看，事实却是电视让我们看到了更大的世界，电脑让我们看到了更大的世界，手机何以就会有所不同呢？

> 这件事的分歧主要在于把新技术看做筛子还是洗脑者，担忧者担心新技术让人们变浅薄了，但在我看来它基本上只是把浅薄的人筛选出来了而已。想想今天沉迷抖音的那些人，穿越回十年前他们会拿起书本吗？穿越到八十年代他们会变得更聪明视野开阔吗？显然不会。哪个年代/地区更有可能涌现出优秀的思考者，信息量开放的还是封闭的？奶头乐和传销、邪教一样，在一个开放社会起的更多的是筛子的作用。美国从来不缺少邪教，政府也基本不会去禁止，但值得担心吗？假如哪天某篇关于小众邪教的报道突然火了，大家肯定也会觉得这些人被洗脑的厉害，但如果洗脑技术真这么强怎么还那么小众呢？奶头乐受众之所以看起来更让人痛心一是因为他们群体数量更大，互联网让他们更有曝光度了，许多有识之士不得不面对“啊原来我的同类中有那么多人不求上进”的事实，但深度阅读从来都属于少数人。我没看出微信抖音的存在对那些能够进行深度阅读的人有多大影响，有人在用微信摇一摇，有人在用微信阅读，还有谢大这样的不就直接戒了微信吗。你有遇到哪个人让你觉得假如没有抖音他本来可以成大事的吗？应该没有吧……二是互联网给自控力强的人带来的进步空间远大于自控力差的人，没有互联网你我根本不可能有今天的视野。但互联网也没有让那些自控力差的人过得更糟呀，一个刷抖音的小镇青年比不刷抖音的小镇青年懂的恐怕还更多一些。

继续引用辉格：

> 新媒体确实产生了大量肤浅和碎片化的信息，但不是因为它挤掉了长篇深度内容，而是因为它成倍扩大了受众面，要满足这么多受众，其多数内容必定是肤浅和碎片化的，基于人类的认知局限，深度阅读只能是也从来都是少数人在少数时候能够且愿意做的事情；没有新媒体，或许有些人会多翻几本书，但那未必是深度阅读，因为不是所有被钉进书籍里的都是深度内容。

杨兄继续评论：

> 黄章晋写的更直白：《[没错，他们的时间和生命没有任何价值](https://mp.weixin.qq.com/s/4G7fyaxkVWzP9on1hOykQA)》。

> > 这些人是把大把时间浪费在了游戏上，那是因为这些人的时间不值钱，没错，他们的时间和生命没有任何价值，他们活着没有成就感，没有生活乐趣可言。只有我的游戏，才能给他这些他没有的东西。这样的人，其实应该感谢我们，是我们给了他幸福感。

> 愿意学习的人有了丰富得多的资源，不愿意的人有了丰富得多的娱乐，到底哪不好了呢。

杨兄的留言很精彩，为了不被埋没在评论里，我特意把它复制出来。杨兄的最后一句总结中，三个分句我同意前两个，它们是事实陈述，毋庸置疑，最后一个我要打个问号。

首先我要从辉格的文章说起。辉格讲，就算有网络媒体的强力攻势，图书销量和阅读量仍然在不断增长，而网络媒体也让人们有了更多的信息和信息源。攻击网络媒体，就仿佛在建设动物庄园，是在剥夺人们的自由。辉格也断言：从来没有人因为信息来源更多而变得更愚蠢、更不自由。

我不清楚辉格说的阅读量增长是怎么计算出来的，我存疑的地方是，这些人都在读什么书。我怀疑阅读量的增长更多是被娱乐性书籍带起来的，比如我见我侄子在微信读书上唯一读的一本书是《龙族 V：悼亡者的归来》，若我不对他推荐其它书，他可能会一直看类似的书。他们看了这些书可能会笑、会被深深吸引，而关键问题是他们读完书会不会思考。这才是波兹曼真正的担忧所在。当然，我完全不否认武侠、科幻、侦探、悬疑之类的小说同样可以促进人思考，甚至可以催生拷问灵魂式的思考。只要你愿意带着脑子思考，你几乎可以从任何书中受益，不必囿于文史哲数理化之类的所谓正道书籍。问题是如波兹曼指出的，娱乐性质的节目和媒介很容易让人停不下来，而思考必需停顿，甚至是长时间的停顿。

辉格讲图书销量也在增长。同样，我对它为什么增长存疑。很可能它的增长并不能说明问题。就问现在有什么东西的销量不增长吧。增长的原因很可能是我们现在太习惯于买些不用的东西，多数人都成了消费主义的奴隶。作为一个作者，我写的书都有免费的网络版，然而依然每年能卖出去一两千本，我都不太明白这些读者为啥还要买（可能是因为纸质书翻页更容易或看起来不那么费眼），以及买了是否真的看。就更不必说那些没有免费版、标题和介绍又看起来摄人心魄的书了，让人忍不住就往购物车里丢。还有，图书销量可能还跟学校和城市图书馆的批量购买有关，问题依然是买了[是否有人去借来看](https://www.theatlantic.com/ideas/archive/2019/05/college-students-arent-checking-out-books/590305/)。

关于辉格说的信息和信息源海量增加，我对它的积极意义也深表怀疑；从上下文看，辉格似乎倾向于认为信息是一个褒义词。当然，我反对老大哥式的控制，但我同样讨厌垃圾信息的横行，垃圾信息的暴政跟老大哥的暴政比起来一样糟糕，甚至更糟。我不认为信息量的增加有普世的积极意义（相反我甚至认为有负面价值），但我同意杨兄说的筛子，即：海量信息给了有头脑的人更多选择和自由，而有些人即使没有互联网和手机，也一样会苟且地活、会寻求其它消遣方式；互联网和手机只不过是更快地把这些人筛下去了而已。

我的核心问题也就在这个筛子上。杨兄、辉格、黄章晋似乎认为，那些时间和生命没有任何价值的人，就随他们去吧。我想起鲁迅《呐喊》自序中与钱玄同的对话，里面说眼看炙热铁屋子里沉睡的人就要被烧死了，是该吼一嗓子把他们叫醒了再烧死，还是就让他们在睡梦中烧死算了？

我就是辉格文中所说的“自以为是的知识分子、比皇帝还着急的太监、怕‘信息’太多让民众变蠢”。不过我的忧心远不如鲁迅那样伟大。我的忧心完全出于私心，我担心的是这些被筛子筛下去的人的未来。说白了，就是我不想将来为太多的蠢人买单。比如他们要是没有工作的能力，谁来养活他们？他们带来的不安定因素和问题，谁来解决？也许是我见的身边的负面例子太多了，让我产生了娱乐至死的悲观。我见过沉迷电子游戏的孩子与束手无策的父母之间的剧烈冲突，见过吃饭时在餐桌上只顾着看娱乐节目而不与小孩说话的父母。

还有，辉格和杨兄对留在筛子之上人似乎有些乐观过度。有人总说工具只是工具，仿佛独立于人的意志，而那些意志力强的人，总能抗拒工具的负面作用。我感觉现在的工具没那么简单了，它们在深挖人性的弱点，就像刘若英唱的：

> 每一次当爱在靠近  
感觉他在紧紧地抱住你  
他骚动你的心  
遮住你的眼睛  
又不让你知道去哪里

如我在[《人类简史》笔记](/cn/2019/04/sapiens-notes/)中所说，张一鸣就是当今中国登峰造极的恐怖分子，因为他做到了用科学的方法瓦解人的意志。张一鸣自己推崇延迟满足，却造出一张大筛子，意欲把别人都筛下去，筛下去的人越多，他就越有利可图。流氓会武术，谁都挡不住。意志力强并不是一个永恒或绝对的状态，总有那么些垃圾信息可能会骚动你的心，让你感到不转不是中国人、不点开了解一下就会马上落伍而被嘲笑无知、不在微信里给你二大爷的三闺女的初中同学的七舅姥爷的八姨侄孙子投上宝贵的一票就会被断绝亲戚关系。只要坚持挖以及换着花样挖，我相信多数人的意志都可以从某种角度被挖垮。

娱乐是否至死，现在还言之略早。再等几年，它的恶果应该会更明显了吧。现在我们看到的拖延症和普遍焦虑就已经够糟糕了，这锅该不该娱乐和媒体来背呢？我觉得它们得负大部分责任吧。如今的电子信号时代比波兹曼谈的电波信号时代（电报、电视、收音机）强大太多了，完全解除了娱乐的所有物理限制，并持续解除我们的心理警戒。且看我们是否会加速娱乐至死。
---
title: 炸麻团
date: '2019-06-28'
slug: sesame-ball
---

两周前请一家人来家里吃饭。我按照一贯的请客标准下厨，也就是不管来多少人，一律十个菜起步（哪怕只有一位客人也是十个菜），然后在时间和餐桌面积两个限制条件中看哪个条件先达到。即：如果到了饭点，或者桌子摆不下菜了，就停止做菜。我通常倾向于让人来吃晚饭，因为这样准备起来更悠闲，否则要是吃午饭的话，就只有上午三小时左右的时间。这次他们是来吃午饭，之前我直接把[菜谱](/cn/recipe/)页面当作菜单发给他们，让他们事先点菜。他们点了六个菜，说会不会点太多了。嗨，这是太不了解本莽撞厨了。客人点的菜里面包括麻团，不幸的是麻团准备起来比较费时间，吃午饭会比较紧张。事实是最后我们一点半才开饭，而且麻团还没炸。

做麻团本身并不复杂，材料也非常简单：煮熟的红薯和糯米面加糖，戴手套揉匀，然后揪成一小块一小块，搓圆沾上芝麻，下油锅一炸就好了。就是弄这一个个小球球太费时间。后来我看来不及了，便把搓球的任务交给客人。我先做了个示范，然后他们一家老少四口摩拳擦掌上阵了。爸爸洗了手没擦干、手上还滴着水就来揪面团，被我打回去擦手（一看平时就不怎么下厨）；小儿子很兴奋地来助阵，搓了一地芝麻；大女儿揪了一块面，小心翼翼地搓，然后因为太过小心而掉地上了；妈妈看着这狼烟四起的战局，不断叮嘱小心点小心点。最后终于在鸡飞狗跳中搓完了所有麻团。我一看，大的大，小的小，水金地火木土天海冥。芝麻这儿秃一块那儿秃一块。

罢了，第一次搓麻团搓成这样可以了，大小不一也没事，炸的时候按大小归置一下，大小相似的同批炸就可以了。他们搓完前几个我去看了一眼，发现芝麻只是沾了一下，这跟我第一次做麻团犯了同样的错误。芝麻只是滚上去并不牢靠，炸的时候容易掉，滚完之后必须再搓一下，把芝麻嵌进麻团才行。下面是我两年前炸的一盘。

![炸麻团](https://user-images.githubusercontent.com/163582/60377342-7cab4f00-99db-11e9-9395-db3fff3b1a0b.jpg)

还是那句话，放糖的、油炸的东西几乎不可能做得不好吃。放糖的糯米制品就更容易好吃了。麻团刚出锅时外面薄薄一层脆壳，里面软糯香甜。若是第一次炸，一定会被自己感动哭（啊？原来我辣么厉害！）。

鉴于准备的菜太多（还有同样费时间的辣子鸡丁），我争分夺秒也没炒完，最终放弃了中午炸。傍晚炸了麻团和辣子鸡丁，叫人再回来吃第二顿。这一桌菜，等客人走了之后足足吃到第八天我们自己才吃完（当然中间偶尔会新炒个素菜）。没吃完的麻团主要是留给娃吃了，因为每天限量供应，也吃了四天。

现在我也想不起来两年前怎么想到炸麻团的了。这种东西一般只有在中餐馆吃饭才能吃到，不像是寻常百姓家能做的东西。其实只要胆子大，很多看上去厉害的菜或小吃在家里试试也能复制出来。人生也有涯，而知也无涯。自己有心多练习、琢磨，总会在某个时刻能突破一个厨子的胆量阈值，进而提刀四顾、踌躇滿志。
---
title: 十五美元
date: '2019-06-30'
slug: fifteen-dollars
---

一个月多前中国大使馆到我们州来办理护照业务。我的护照还有几个月就要过期了，所以我就预约了一下。所有材料准备起来都很简单，唯一麻烦的是照片，原因是照片最终要使馆领事人工审核，我们事先无法完全确定照片是否符合要求。就算是这些来外州办证的领事也无法完全确定（但通常在他们眼中通过的照片应该就问题不大了），因为护照的最终签发也不是他们负责。网站上的[护照照片要求](https://ppt.mfa.gov.cn/appo/page/instruction.html)其实很清楚，但还是怕人工审核时有任何不符合要求的地方。

预约的那天我起了个大早，匆匆赶去办证地点。不出所料，前面已经排出了二十来人的队。莫说相公早，更有早于相公者。进去之后一步步走流程、等待（我坐那儿顺便续写了几段《人类简史》[读书笔记](/cn/2019/04/sapiens-notes/)）。其中有一步是志愿者帮忙预审材料，包括照片。我带的照片是自己照的，并在绿墙（Walgreens 的戏称）花了三毛钱打印出来的，我觉得问题应该不大，唯一一点瑕疵是右眼镜片的右上角有一丁点反光。那位志愿者大叔看了我的照片，然后用使馆给他的相框比了一下，说可能头顶的空白太小，别的没什么问题。按照片要求，头顶应该留三到五毫米的空白，而我事先量过，一定有够三毫米，所以我并不是太担心。我担心的镜片问题他倒是没提。

这次的办证地点是本州的华人协会，协会提供了志愿者，并考虑到照片问题，也提供了照相人员当场帮忙照相；收费十五美元，保证照片符合要求，若领事跟你面谈时说照片不合格，则免费重照到合格为止。我考虑到我的照片应该基本符合要求，并且自己照三毛钱和别人照十五美元的差距略大，抱着铁公鸡心理，就没在现场重照。等到领事面谈时，他并没有说我的照片有问题，最后也在照片上盖了章，于是我以为照片通过了他的审核。没想到他审完了材料后，我还得到下一个领事那边录指纹，而那位领事瞅了一眼我的照片，说你这照片不行啊，不能戴眼镜。我心想，照片要求中没说不能戴眼镜；她大约是说那一点反光不行。

垮了噻。上一个领事已经盖过章了，这照片就不能换了。哎哟喂，咋就不把看照片的领事放到流程的前一步呢，这样盖章之前还有机会重照照片。我一边嘀咕一边琢磨，这可咋整。是赌一把呢，还是花十五美元重照、并央求领事大人帮我重新盖个章呢？

我先想着赌一把，出门之后走到车里坐下了又觉得不安。踌躇了一下，又回到楼里。不管怎样，先去照相处看看吧，要是方便就重照一下算了。照相处也需要取号排队。我到了那里，发现取号已经取到快二百号了，也就意味着若是等着照相，恐怕得等到下午三四点。此时我后悔当时没有一进门就先取个照相的号，以防万一。然后我又意识到一个问题：因为我本来没打算在这里现场照相，所以我连现金也没准备（平时我钱包里一般只有三五块钱的现金），只是带了个支票本就来了。不知道照相师傅是否接受支票。托一位志愿者帮我进去问了一下，答复是不接受。然而我还有一个恶习，就是几乎从不带银行借记卡（并且连借记卡的密码都不记得），身上只有信用卡，所以要取钱的话只能跑银行柜台找人用身份证取，而没法去自动取款机取。想到这一串麻烦，我一咬牙一跺脚，算了，不照了，回府。

这些领事只负责审核材料，并不会当场带走材料，所有材料最终需要本人自己去邮局邮寄，所以照片和申请表仍然在我手里。回家后我调了半天那张照片的明暗对比色调，希望能削弱那一丁点反光，但终究不具备修图技能，所以怎么也弄不好。最终决定还是重新自己照一张不戴眼镜的照片。在又一遍经历[去除背景](/cn/2019/03/ugly-eyes/)、调整明暗大小、[四乘六英寸排版](https://cn.idphoto4you.com/)、拿卷尺对着屏幕反复测量各项宽高之后，我重新把照片传到绿墙网站打印。

第二天早上，我把娃送到托儿所后，在一个不能调头的路口调头（因为调头之后马上就到绿墙店了，要是不调头就得过了红绿灯之后到四百米开外的地方调头回来重新过红绿灯），不巧我一百八十度左转的时候，左边来了个车要右转跟我上同一条路，理论上他可以走的，但见我在调头，就刹车等了我一下；幸好不是个粗心或暴躁的司机。我取了照片，仔细着剪下两张贴到申请表上，到附近的一个邮局准备把材料寄出去。到了那边的停车场，我还是放心不下，怕领事觉得新的照片不是我本人、从而要求我飞去华盛顿使馆面谈换护照。又踌躇了一会儿，从车里翻出一张废纸，撕下空白的半张，哆嗦着写了一张便签，恳切地解释为什么申请表上有两张不同的照片，并请领事大人任选一张合格的照片。到了邮局，我仿佛[凡卡](http://www.nanshansi123.com/kewen/liunianjixiace/1647.html)一样在信封上写下“华盛顿……中国驻美大使馆 收”。然而收不了。那个邮局只是超市里的一个便利邮局，职员告诉我他没法提供回邮信封。我嘀咕着怎么这么简单一项业务都办不了，也只好作罢，再开四十条街，去另外一个正式邮局。寄完出来上路，脑子打结，忘了那里离我即将要上的高速路非常近，也就是一上路就要立刻从最右道切到最左道准备左转进入匝道上高速（我以为还要往前开开再左转）。等我意识到这个问题时，已经错过了左转道，我看了一下后面没有直行的车，但有辆准备左转的卡车已经离我很近了，于是我先等它走了，再一次违规强行切过实线，到了左转道上一溜烟跑了。顺便说一下，去年奥马哈被评为全美最恶劣司机的城市，估计就是我这种一马平川的烂司机太多了。

铁公鸡省了十五美元之后付出多少额外的代价，现在应该很清楚了。如果一开始就决定不要自己照、洗照片，那么我只需要提前准备一点现金，剩下啥事儿都没有了。不用前后忐忑忧虑，不用调、修、量、取照片，不用额外解释，不用开车违章。

论绝对值，十五美元不是什么大数额，但一想到自己弄照片只要三毛钱，就觉得十五美元的数额无比之大（五十倍啊）。我这是活生生掉进了[对比效应](https://en.wikipedia.org/wiki/Contrast_effect)的[认知偏误](https://zh.wikipedia.org/wiki/%E8%AA%8D%E7%9F%A5%E5%81%8F%E8%AA%A4%E5%88%97%E8%A1%A8)陷阱。

还好，这个愚蠢透顶的故事有个善终：这周我收到了我的新护照。领事大人采用了我的新照片，看来我第一次用的照片的确是不合格；我若是没那样穷折腾一番，很可能这次还办不成护照，又得误大事。错错错，莫莫莫。
---
title: 共情过度
date: '2019-07-01'
slug: excessive-empathy
---

昨天去一位新朋友家吃烧烤。因为他们是四川人，所以我吃得非常安逸，尤其是川花椒麻得相当过瘾。席间我瞥见他们院子的阴凉角落放着一盆西红柿苗，上面已经挂了几个青西红柿。我便问为什么把西红柿放在阴凉处，主人答曰怕晒死了。我笑道：西红柿要是晒不到太阳怎么能熟呢？主人曰，怪不得这些西红柿结出来一直都不变红呢。

过去的这个周末是今年迄今为止最热的两天，天气预报说是三十七度，但外面热浪滚滚感觉仿佛有四十度。人觉得热得要命，便对西红柿也心生怜悯，怕它也热着，殊不知西红柿就是要足够的阳光和温度才长得好（当然，也不能极端高温）。

共情是非常重要的心理素质，是仁者的必要条件，不过我总是观察到一些过度共情的现象。话说回来，其实我也很难评判别人的共情是否过度，因为共情是体谅他人内心的情绪和感觉，这里面不免有相当一部分主观判断。比如我们都知道有一种饿叫“奶奶觉得你饿”，这应该就是共情过度。我觉得成人对饥饿的忍耐力比小孩差一些，因此总怕小孩饿着。而那些经历过饥荒的老人对饥饿就更是有创伤性的记忆和感受，所以就算把孙子喂成小胖子也还要追着喂饭、时不时想再找点什么东西给他吃以及问饿不饿。成人对美食的渴望也比小孩强，所以要是小孩没吃到什么美食，大人会替他们觉得惋惜。

窃以为那“儿寒乎、欲食乎”的时代对当代多数人来说已经过去了，根本无须再一遍遍问小朋友这种基本生理需求的问题。他要是真饿了、渴了，自然会吃喝；玩水或喝水把身上弄湿了要是真不舒服，也自然会表示出来；冷了热了只要不生病，尽管让他冷着或热着就好了。我自己通常的原则是，在基本生理问题上，只要娃没表示拒绝零假设，我就认为他接受了零假设。不想吃饭就不吃，不想喝水就不喝，不想换衣服就不换，都是些鸡毛小事，敬请随意。

码农的世界里也一样。码农到了一定程度，你就会看见遍地仿佛都是嗷嗷待哺的婴儿，整天哭着叫着要这要那，有着永远解决不完的问题。你只有两个选择：让一部分婴儿饿死，或者你自己累到崩溃。两个选择都有合理之处，没有哪个绝对对或错。在一般人听来，饿死一部分婴儿似乎过于残忍、太缺乏共情心，但如我以前所说，有时候真的是[爱莫能助](/cn/2018/09/unable-to-help/)。是的，我可以选择放弃种菜、打球、看书、烹饪、写日志、休闲，把所有时间节省下来去回答问题、写代码，可就算那样，我也怀疑我究竟能多顾及到几个人。几年前我引过一篇文章叫《[爸爸，你为什么再也不笑了](http://third-bit.com/2015/11/09/daddy-why-dont-you-ever-laugh.html)》，讲的就是极端共情的恶果。他是一个真真的好人，可他也同时是一个无比悲惨的人。

况且这些婴儿也未必真会饿死，你未必是他们[唯一的希望](/cn/2015/10/only-hope/)。我们要保留足够的共情心，也要保留一份信任，那就是有些人有自理生活的能力，他们当前的痛苦可能可以锻炼他们成为更强的人。也许西红柿晒太阳确实感到痛苦，但没太阳它肯定是长不好的，这是它生存必须经过的一关。
---
title: 净土之嚣
date: '2019-07-02'
slug: tidy-noise
---

前年列弛大人有感于汪精卫的才情与下场，说：有些人如果没有被推上高位才是一生之幸。[当时我也说](https://www.liechi.org/cn/2017/04/tears_under_the_moon/#comment-3239887778)我自己正有此想法，有意选择保持安静，不去做振臂高呼的所谓社区领袖，原因有二：一是我不想对用户洗脑；二是我认为手握权力太大，终归会有很大的反作用。想必大家都明白我针对的是什么。是的，就是极乐净土（非彼净土，莫误会）。

两年过去，我觉得我的预言基本上成了现实。净土宗的敌对势力开始猛烈开炮了。导火索来自一篇 R 与 Python 的比较文章，那文章写着写着就变味了，变成了炮轰净土党，而之前潜水的反对党也纷纷冒出来，开始各种抱怨、中伤、诽谤、造谣、诬蔑净土宗。由于我与净土宗的距离很近，我有机会在隐蔽处看到了两派各自的态度。限于话题的敏感性，我不想多说具体的人事。总的来说，净土宗或多或少还是有些傲气的，大约是如我两年说的一样，权力会在无意中腐蚀人；就算你不想作恶，你也很可能在间接作恶，而且还自以为带着一身正义。净土宗的大领袖可能是少数几个头脑尚存理智的人，无奈他也收不住场、管不住下面嗷嗷待战的信众了。而反对党呢，在我看来虽然处于绝对的弱势，但反击手段有时候也有点令人作呕，实在太小人了。也可能是被压制久了，他们的头脑已经完全不清醒，不知道自己在说什么，看什么都不对，分不清现实和幻觉。比如[这位大哥](https://twitter.com/winvectorllc/status/1145388135007698945)宣称自己投了一篇文章被敝厂的编辑给拒了，乍一听好像是净土宗在故意打压他，但这跟净土不净土毫无关系，编辑也跳出来[作了澄清](https://twitter.com/topepos/status/1145462243078942720)（哎哟喂，重要的事情为何要在推特垃圾场里说呢）。不是我要卫护敝厂的人，而是我看过前面那位大哥的很多文章和行为，我认为他的话不可信；他非常喜欢扭曲事实，有妄想狂或迫害狂的倾向。有时候净土人士开个毫无恶意的普通玩笑，都能被牵涉、拔高到[宗派战争](https://twitter.com/MattDowle/status/1143255701558448128)。

这些年我们厂招了一大批人来开发净土，越来越闹闹哄哄，而我从入厂至今已六年，仍是单人团队，这也是我刻意的结果。并不是我不想更大的势力，而是我从一开始就看透了树大招风的道理，不想走到树欲静而风不止那一步。现在净土的风似乎就已经停不下来了：粉丝们使劲吹，反对派就使劲怼。影响力大到“头目打个喷嚏，社区就要感冒”的程度。

净土宗主要捧红了两样本来在 R 社区不存在的东西，一是管道，二是 tibble 数据格式。这两样东西我[前年](/cn/2017/07/long-live-the-pipe/)都表达过它们的洗脑效果，也是反对派抨击的主要对象。我在统计之都论坛上也隔三差五看见一些莫名其妙的管道（[例一](https://d.cosx.org/d/420580)、[例二](https://d.cosx.org/d/420697)、[最可怕的例三](https://d.cosx.org/d/420476)）。真如列弛举的鲁迅举的例子，看那些管道代码，就仿佛看“‘原来，你认得。’林冲笑着说”这样的主语后置的句子。有人觉得我是炮轰净土，我也三番五次澄清我不是在炮轰，而只是提醒：劲酒虽好，不要贪杯哟。

回到本文标题，我的重点在于这里面的喧嚣，这也是我眼中净土宗的最大问题。东西是好，但[叫卖的声音太大啦](https://twitter.com/MichaelDorman84/status/1146680713862897664)。嚣的后果是，非净土宗的声音听起来太微弱，间接受到了打压；有时候甚至是直接受到了打压，比如一些人总为基础 R 包和语法鸣不平，就是因为净土宗的宣传里面给人一种基础 R 非常混乱的印象。乱不乱呢？是很乱，谁叫 R 核心开发团队没有一个所有人都信服的主心骨呢。然而基础 R 应该也不至于乱到一团糟、没法用的地步。嚣还有另一层意思，就是嚣张、狂妄。因为我是近距离观察者，所以我可以负责任地说，几个头目开发者都是很谦虚的人，毫不狂妄，但事实是一回事，外界感受又是另一回事。一群人一起嚷嚷，嚷着嚷着就容易出乱子。已故的美国单口相声表演艺术家 George Carlin 曾经说过这么一段话：

> People are wonderful. I love individuals. I hate groups of people. I hate a group of people with a 'common purpose'. 'Cause pretty soon they have little hats. And armbands. And fight songs. And a list of people they're going to visit at 3am. So, I dislike and despise groups of people but I love individuals. Every person you look at; you can see the universe in their eyes, if you're really looking.

可以说一定程度上它描述了当下敝厂领导的净土宗。我们有了 T 恤、六边形贴纸，还有粉丝[创作漫画](https://twitter.com/CMastication/status/1142832452890759169)。我们有着其他人无可比拟的巨大宣传优势。这样的后果是，就算我们推出的是垃圾产品，也一定有无数粉丝叫好。就像《皇帝的新装》一样，没有人敢站出来说皇帝没穿衣服，因为别人都在叫好，你就算觉得不太对也不敢出声，不然好像显得你很蠢。比如 [TC 兄说](https://d.cosx.org/d/420697/14)他至今没明白“非标准运行代码”（non-standard evaluation）是怎么回事，他敢承认，而我估计绝大多数迷迷瞪瞪的粉丝都不敢公开说。其实我也没太明白 rlang 造出来的一系列新概念在弄啥，但这可能是我也没认真看，因为那些玩意儿跟我没啥关系，我不做数据分析，也用不到。这就要说到净土的第二大问题了：发明的新概念太多（尤其是魔法），变动太快。他们自己可能也意识到了这个问题，但丝毫没有刹车的迹象。更可怕的是，狂热的粉丝看见净土开发者承认自己的失误之后，会把这些本来该批评、反省的行为解读为“[聆听社区的声音](https://twitter.com/MilesMcBain/status/1144608295061090306)”：你们过去发明了我们搞不懂的魔法，现在推出了一个更易懂的新魔法，谢主隆恩！

在喧嚣中很难有人能静下来反省、批评与自我批评。喧嚣让修正错误这种行为变成了纯粹的恩惠。这不免[让我想起](/cn/2018/12/craving/)《文明及其缺憾》中那种廉价的缩被窝的幸福。推特上总是弥漫着“R 社区是世界上最友好的社区”这种情绪，但这正是我对 R 社区最大的担心。我们的确有很多友好的方面，尤其是对待新手、少数族裔、女性、同性恋等群体，但这个社区现在实在是太缺乏批评的声音，而净土宗的反对派的批评又不靠谱，更像是私人泄愤，而不是健康的批评。要我说，R 社区是过度友好到不太健康的社区。

要发动社区进行批评与自我批评比较难，尤其是在现在群情高涨的情况下。我觉得唯一可行的办法就是人工冷却：把我们喧嚣的宣传机器停一停，不要再主动摇旗呐喊了，留一点网络空间给用户，让他们有时间和机会发表自己的意见。不然，我们一天到晚在推出新功能并喊话，用户根本静不下心来做客观的判断。基于这个原因，我这几年已经大幅减少宣传我开发的新功能。每个包我基本上都是一声不吭更新上 CRAN。我知道，在意的用户一定能自己读那个 NEWS 文件，不必我亲自出马吼一嗓子；不在意的就不在意吧，我不在意他在不在意，反正我已经辣么厉害了。

相传王维的母亲在房中挂着三个字：净、静、境。层层递进：心净才能心静，心静方可达心境。净土宗若是懂中文该多好，我觉得就这三个字就可以醍醐灌顶（到这儿顺便说一句，我们的娃为何要学中文？不应该是为了与中国长辈交流方便，而是中文里有些微言大义的妙处，要欣赏不到就太可惜了）。

作为一个“若为自由故，嘛都可以抛”的人，我最终意识到一件很有意思的事情，就是善意的阴暗面：善意和恶意一样，都会压制到言论自由。在一个过度善意的环境里，人们只会相互吹捧、说好话，仿佛批评就意味着不善良、会变成人民公敌一样。出于这样的担忧，连我也不敢过多在英文世界里提批评意见。去年年底我写了两篇英文日志，非常含蓄地表达了我对净土[统治力](/en/2018/11/dependency-winner/)和[宣传攻势](/en/2018/12/social-media-marketing/)的意见，但估计没多少人能理解我的含蓄。其实我也不是完全没这个胆量，只是我觉得这个世界已经够喧嚣了，我不想再出手让它更吵。与其劝别人住口，不如我先自己住口罢了。我控制不了别人，但寄几还是能控寄寄几的。不必我说，各位客官看了现在这篇日志也请不要帮忙传播到英文社区。

说一段题外话。其实统计之都有类似的问题，大家普遍都太善良、听话。我过去为了追求效率，也有意无意会压制别人的意见。由于我的绝对统治力，通常我都能成功压制。回想起来，我都想不出几次别人反对我的事件；也许是我就是对的，也许是他们不敢或不想发声。我现在只记得若干年前我强烈建议论坛转型到爆栈网的形式，一硕跟我有激烈的争执。再就是有一次璟烁跟我在[一篇文章](https://cosx.org/2017/06/interview-fugee-tsung/)的中英混杂问题上表达过强烈的异议，但也被我镇压了。前年网站改版时，小轩哥有些[样式建议](https://github.com/cosname/cosx.org/pull/624)，也被我无情砍掉了。此外，我都不记得还有谁曾经挑战过我。

也许，所有问题的祸端都来自“净”这个形容词。我现在觉得这是净土宗的重大失误：怎么可以自己用褒义词形容自己呢？去年我就感慨过，[形容词太难用](/en/2018/03/on-adjectives/)，人们容易夸张，到最后根本搞不清一个形容词究竟是什么意思。比如净土宗下面有些包根本跟净数据没什么关系，而有些包本不属于净土宗却被人当做净土包来攻击（只因为是净土宗的领袖参与了开发），所以这仗有时候也是打得糊里糊涂，硝烟弥漫中看不清净土的真面目到底是怎样的。用了“净”这个褒义词来立国号，自然就有人会想，你自称净，那谁是脏乱差呢。我知道净土领袖没这个意思，他在[净土宣言](https://cran.rstudio.com/web/packages/tidyverse/vignettes/manifesto.html)中也专门强调过净土不意味着别的地方都是脏土，但我深表怀疑到底有几人会注意到这句话。据内幕消息，已经有一位 CRAN 总管在邮件中直接把净土称为脏土了，因为净土包更新频繁、变动太快，引起了 CRAN 的极大不满。这位总管的行为有些幼稚，就像小孩一样，打不过就骂，妄图用恶语获得精神胜利。然而我不觉得他是个例，肯定还有人对净土宗的自我标榜感到不满。敌方的不满只是一方面的问题，另一方面是追随者。谁不想站在一面“净”大旗下呢？它的名义吸引力太大了，加上人类无可救药的偶像崇拜习惯，这个阵营很容易无比团结、和谐、友善。名不正则言不顺；言顺是不是名正的结果呢？净土宗总是宣称自己的工具更容易学习，下载量巨大，学生也多，可有多少人纯粹是因为名义和宣传效应加入这个阵营的呢？如果把“净土”换成一个土得掉渣的中性词，比如“数海”，然后让大领袖用假名开发包（以去除偶像效应），那净土宗还能火起来吗？如果这一串 R 包没有成立一个明确的宗派，那它们还会像现在这样招风引敌吗？也许“净”字大旗就是双重错误：不该写上净字，也不该扯大旗。

因为愚蠢的人类有“我们的孩子不能白白牺牲”综合征（Our Boys Didn't Die in Vain），所以一旦开始打仗，通常难以收手。结束战争比发动战争难得多。这闹剧会如何收场，我也不知道。
---
title: 脑补障碍
date: '2019-07-05'
slug: aphantasia
---

今天看了一个维基词条叫 [Aphantasia](https://en.wikipedia.org/wiki/Aphantasia)，说的是有些人无法或很难脑补画面。然后我猛然意识到原来我的脑子不太正常，也有这种症状。去年我在《[有何胜利可言](/cn/2018/09/no-victory/)》的最后一段说作家和画家都好厉害，一部分就是指的他们的画面想象能力。要我用文字描述一样东西的话，我只能凭抽象的特征记忆，而很难在脑中回放画面、并对着画面描述；要我凭脑子画一样东西的话，那更是画不出来——轮廓都画不对，就更不必说细节了。我用脑子想一样东西只能想出很模糊的画面，就算再简单、再熟悉的物体我也无法想出它的清晰画面。比如哪怕是脑补一个正方形，我也无法“看到”它的边线；它只能若隐若现存在于一团黑幕中，而意识告诉我那里有个正方形。

所以当我知道有人真的可以把一样东西以如同亲眼所见的画面形式在脑中想象出来的时候，我都震惊了。这简直是超人，得是多强的记忆力啊。随手放狗搜了一下，说是有三分之一的人有脑补障碍。我常常自诩脑洞清奇、联想能力超强，然而从不知道我的脑子缺了这么一样功能。

怪不得我做梦的基色从来都是灰黑，几乎从来没有做过有彩色出现的梦（清醒状态下我都很难想象出颜色，只能想出颜色的感觉），而且梦境通常也都是模糊的；我知道梦里有什么人什么事，但就是看不清楚。我还以为是因为我睡觉时没戴眼镜。

不知道听觉方面是否有类似的概念。我觉得我尤其对人声的记忆还不错（以前在群众大学明德楼办公室时，往那里打过电话的人下一次打电话时我很容易听出来是谁），可以很清楚地把认识的人的声音在脑海里复现出来，就仿佛真的听到他说话一样。当然没有到过耳不忘的程度，但相比起视觉的脑海复现，听觉方面要强多了。
---
title: 炸黄豆
date: '2019-07-09'
slug: fried-soy-bean
---

两周前翻菜谱时翻到炸黄豆。这是我没试过的，而且要是不看别人的菜谱，我也绝不会想到原来炸黄豆需要先将黄豆泡水。我一直以为炸黄豆就是干黄豆直接放油里面炸。现在想来，干炸估计很难炸熟。泡软了更容易熟。用我的小炸锅试了一下，还不错，炸出来很是香酥，于是带去[四川朋友](/cn/2019/07/excessive-empathy/)家吃饭时作下酒菜，最后没吃完的都留给他们了，可以放在酸辣粉或担担面里。
---
title: 自制米酒的最后一步
date: '2019-07-09'
slug: last-step
---

两年前我写过[自制米酒](/cn/2017/01/rice-wine/)（酒酿）的办法。这几年来我一直陆陆续续在做，所以家里米酒基本上没断过。然而直到前几天随机翻菜谱我才意识到，我做的米酒缺了最后的一步，就是做好之后再加些水。此前我的米酒总是做好就拿出来装盆放冰箱了，那样的米酒略干。虽然发酵过程中会出水，但水不是特别多。这次做好之后我往里面掺了一些水，放冰箱里过了两天再吃，发现无论是酒味还是甜味都大增。看样子在水充足的条件下，酒曲里的酵母还能继续工作，哪怕是在冰箱的冷环境里。

以前我总纳闷，店里卖的米酒为啥是一大瓶水里漂着几粒糯米，那些水是怎么来的。光靠发酵绝对不可能发出那么大量的水来。这下终于解开了一个谜。

又及：我在《[懒厨](/cn/2018/06/lazy-cook/)》中说现在做米酒时，把蒸糯米改成了直接用电高压锅煮糯米，省去了泡糯米和蒸的麻烦。其实这会导致一个问题，就是锅底的糯米容易结锅巴。变成锅巴的糯米就很难发酵了。所以我后来改成了用电饭锅煮糯米，这样也很省事，而且不太会有锅巴，就是多洗个电饭锅而已。
---
title: 垃圾
date: '2019-07-10'
slug: trash
---

垃圾分类成了最近的热门话题。我只有两个问题：为什么现在垃圾这么多？为什么垃圾分类这么难？

如果需要一点心理震撼，那么以城市垃圾为关键词，在搜索引擎上随便搜搜，就知道现在的垃圾到了多糟糕的地步。城市垃圾处理不了，就运往郊区或农村；发达国家垃圾太多，就运往落后国家。消费主义让我们不断产生垃圾，只管吃喝拉撒，不管事后的垃圾何去何从。我们的享受建立在污染别人环境的基础上，而且别人的环境已经污染到没有更多的地方可污染的地步。

垃圾多大概是因为我们只顾着放纵，忘了克制。垃圾分类难大概是我们习惯了对环境不负责任，误以为垃圾只要进了垃圾桶，就从地球上消失了。在这个所谓的文明时代，我们只能看到所有事物最美好的一面，我们无限追求清洁、秩序、美，把脏、乱、丑都小心翼翼地掩盖了起来。然而我们的丑脸可以通过美颜相机无限掩盖，垃圾却只有有限的地球空间可以掩埋。
---
title: 球场真人
date: '2019-07-15'
slug: badminton-mind
---

这里说的真人[依然不是](/cn/2013/05/love-at-first-sight/)道士的意思，而是喜欢较真的人。在我打羽毛球这几年里，见过一些小心思很重的球友。哪怕是打着玩的一场普通比赛，也能触及到他们最细的神经。

有人是特别在乎输赢，确切说是非常怕输。曾有一次，我的双打队友屡屡对比分提出异议，认为对方记错了分数。我打球通常自己会记住比分。我注意到他每次的异议都是为我们这边升分或为对方降分，而我心里非常确定，他要么是在撒谎，要么是被怕输球的恐惧支配了，总之他说的分数都是错的，是在靠赖分的手段赢比赛。

有人是教练附体，话非常多，喜欢指导和指责队友，不管是神队友还是猪队友。有一次双打中，我的队友发球前回头看了一眼我的站位，说我站在中线偏左不对，叫我站在中线上。在业余球友里，我虽然还不够神队友，但应该也不算猪队友。双打时我站得稍微偏左一点自然是有原因的：人都是反手弱，所以要多照顾一点反手区，尽量避免反手被动击球，而正手即使被动也不会太糟糕，大不了就是一记猛抽，普通被动的情况下还是能抽到后场的。听了这位队友的指导意见，我也没吭声。其实这种指导意见大可以等到我在正手区因为来不及而丢球之后再提出来，那样还能有点说服力；问题是我并没有因此丢球。

有人是喜欢揶揄对方球友，打完每个球之后都是一堆废话。不知道是在实行心理战，还是自己输了一球不甘心或赢了一球自鸣得意。

有人是被假动作骗到或被偷发后场没反应过来就会一肚子火。羽毛球非常有趣味的一个地方就是技术战和心理战的结合。在关键分上（比如最后的两分）人的精力容易过度集中在思考如何得分，于是一门心思希望对方发球过来就大力去扑，这时候偷发后场容易奏效。有一次我用这种手段轻易结束了战斗，而对方的男队友则是一脸不高兴，于是第二场球一直偷发我的后场，而我则料到他会如此，已经有所思想准备，因此他偷了好几次都没偷着，估计心里更加不高兴。

说到偷发后场球，除非是面对高水平的女选手，我一般不偷发女选手的后场，因为一偷一个准。而有些男选手则得分心切，明知对方女队员接不了后场球，还一个劲儿偷发人家后场，这就太不够意思了。

我自己打球通常是娱乐为主、技术为辅的风格，输赢无所谓。因此我在轻松心态下渐渐练成了一些花式招数，比如球拍绕到身体后面从胯下击球，或从背后绕到左边接杀，这样有略微长一点点的反应时间；今年新练成了一项技能：从网前猛奔到后场、背对球网把对方挑到后场落下的球从双腿之间抽回去，虽然这样抽不太远，但也能表达一下小强的意思（没那么容易被打死）。嗨，和我年龄差不多的李宗伟都退役了，我们这种半吊子、野路子业余玩球的还较啥真呢；随便玩玩、体会一下随机和意外的乐趣就好啦。
---
title: 躺着开枪
date: '2019-07-16'
slug: flywheel
---

上周三我看推特时，突然一大波系统通知袭来。心想我又犯啥事儿了。点开一看，原来是有人发了一条推文并圈了我。这条推文说的是今年在法国举办的 R 官方会议上的一个演讲，主题是关于这次 R 会议最有影响力的推特账号，副标题是如何找出关于特定话题的最有意思的推特账号。

[这个演讲的幻灯片](https://johnguerra.co/viz/influentials/story/?hashtag=useR2019)做得非常酷炫，碰巧我今年四月回故乡爱荷华州参加一个码农会议的时候也花了两天时间研究这种所谓的“讲故事”的格式。当时我只是给[一个叫 rolldown 的 R 包](https://github.com/yihui/rolldown)开了个头，回来之后立刻被淹没在别的事情中，直到这两周才又挤出时间把这个包的初始版本发布到 CRAN。这是题外话。

今年这一届 R 会议我没参加，也没记得我参与过任何推特讨论，所以当我看见我的头像赫然出现在幻灯片中时，我还纳闷了半天。我琢磨着这大概就是飞轮效应的结果吧，也就是我的影响力已经到了根本不需要我亲自开口吼的地步。别人还要费牛鼻子劲用各种手段呐喊、吸引注意力，而我在碉堡里躺着、外面自然有人帮我开枪（腔）。

我已经有一整年没在推特上主动发文，是因为我渐渐意识到，一是我已经没什么短句子好碎碎念了，只要抄起键盘，就必然不会三两句话就能结束；二是我也没什么惊天的成就可昭告天下。既然没啥好说的，那就索性啥也不说了。有心人自会知道我想说什么以及在做什么，无心人就随他们闹闹哄哄、想关注啥关注啥吧。大约是因为我在推特上沉静得离奇，那个演讲也把我专门拎了出来，说这家伙很酷，什么也没留下。看，我的静默营销手段是不是瞬间就超越了那些闹哄哄的账号：[不宣传](/cn/2010/04/no-advertisement/)的人反而被宣传了。作为一个从不谦虚的人，我自认为在营销方面还是[有两把刷子的](/en/2018/12/social-media-marketing/)。

其实说到底，就是物极必反。别人不叫唤的时候，我就像一条恶犬一样狂吠；等别人都开始叫唤之时，我就像一条黄瓜一样沉静。总之，做不一样的烟火就对了。所以，零发言的账号也可以从另一个角度变成所谓“最有意思”的推特账号。
---
title: 深巷之酒
date: '2019-07-18'
slug: hidden-gem
---

我并不想对 Jupyter 过度吐槽，但我一直认为它的设计其实非常辣鸡，而如此一款辣鸡产品偏偏流行到令人发指的程度，[其名声和能力实在不般配](/cn/2019/04/sapiens-notes/)。因为流行，人们便给它戴各种高帽子。上个月我见狗熊会一篇文章给 Jupyter 戴上了文学化编程的高帽子，便给留了条言，说它离文学化编程还远着呢。不知何故，这条留言没被准奏。后来问[雪姨](/cn/2019/01/copss-6/)，雪姨问管理员，管理员说没见着我的留言。

好吧，我们再次祝[同样辣鸡](/cn/2017/05/wechat/)的微信公众号系统早日灭亡。

狗熊会的熊大说，要不你干脆给我们写篇文章澄清算了。我心里明镜似的，这不是给我挖坑吗——我赔了留言还得折文章。转念想想，我要说的主题并不复杂，于是告诉雪姨半小时后来收货。于是就有了《[究竟嘛是文学化编程，以及为何 Jupyter 不算真 · 文学化编程](https://mp.weixin.qq.com/s/vIH1KPSRNE7GogAWsonodA)》这篇短文。其实我写了也不会有几个人看，看了也未必能看懂，懂了也未必觉得有用。说实话，我觉得普通用户也用不着这种功能。

在我眼中，Jupyter 最大的设计缺陷在于它没有 knitr 里的代码段选项的概念，因此很难做到对输出结果的精细控制。比如 knitr 里的 `echo = FALSE`、`fig.width = 5` 之类的选项，恐怕 Jupyter 都无法做到。我那篇微信文章强调的是诸多代码段选项中的一项，即代码段标签。有了标签，则有了无穷的文学化编程法力。至于它采取 JSON 而不是普通纯文本文档作为源文档格式，倒不算太大的设计缺陷（不过强行把输出和源代码混在一个笨重的 JSON 文件里是一个设计缺陷）。

我一直好奇，为啥这么明显的问题在如此庞大而狂热的 Python 社区没有人出来解决呢？直到前天我终于看见 Python 里出现一款能与 knitr 的设计匹敌的产品，叫 [Codebraid](https://github.com/gpoore/codebraid)。我不懂 Python，但从文档来看，它的设计终于有点像 knitr 了。它号称支持文学化编程，但我不知道它不知道它支持到什么程度。当然，做人不能太厚颜，我得申明 knitr 的设计源于 Sweave；Sweave 提出了一个天才的想法，问题只是它的具体实现太弱。

从 Github 上看，这项目差不多开发了一年了，但它所吸引的目光与 Jupyter 相比，显然只是沧海一粟。在我看来，Codebraid 理论上应该是完胜 Jupyter，但恐怕这巷子太深，Jupyter 的金字招牌太亮眼，好酒也不会有人注意到。一个项目的成功，一定程度上还得取决于时机和宣传手段。之所以有很多人愿意帮我[躺着开枪](/cn/2019/07/flywheel/)，也不过是因为我踩中了一个好时机（碰巧赶上了 RStudio 的火车），并持续使用一些非常规的营销手段而已。

说到这儿，我干脆打个小广告好了。若有客官像我一样觉得 Jupyter 太弱，不妨尝试一下我几个月前偷偷塞进 rmarkdown 包的[一个小函数](https://rmarkdown.rstudio.com/docs/reference/convert_ipynb.html)，它可以把 Jupyter 转化为 R Markdown 文档哟。若觉得它有用，还请帮忙不要公开宣传（可私下转告亲友）。若有任何建议和功能请求，我将洗耳恭听。
---
title: 如何想静静
date: '2019-07-19'
slug: inner-peace
---

约两周前有一位素不相识的文波兄来函，希望我写篇博客谈谈我如何静下心来研究一个东西，原因是他见我似乎产出颇丰：比如我作为一个非科班出身的码农，Github 打卡比他（专业码农）还勤得多，而且保持了六七年的满格；还有我自从 2005 年以来的这一两千篇中英文日志，看起来也有点厉害的样子。

这要分两头说。一方面是我真实的厉害与别人想象的我的厉害有多大差距，另一方面是我怎么做到把这些数字撑到远大于一般人的成绩。我觉得毫无疑问，别人到我的个人网站来溜达一圈，对我的实力评估肯定超出我真正的实力一大截。这些表面上的数字都有水分，比如有些 Github 打卡是自动的（我会每日自动编译一些包）、我写的日志里也有很多流水账、我简历页面上那超长一串演讲和报告几乎包含了我人生中所有的报告（包括课堂作业报告），所以初来乍到的客官们大可不必看了这些数量级后纳头就拜。

好了，挤掉部分水分后我们来谈谈静静的事情。为了我写起来方便，我就直接抄录邮件原文并就其各项问题逐一回应了。

> 我看到您学业达到博士，这个必定花费很多时间精力。

博士头衔应该只是个围城了，里面的人觉得也没什么，就是走个过程而已。多数人只要能被录取，最终应该都能混毕业。我读博的四年半时间里，全身心为这个博士头衔贡献的时间只有从[归隐](/cn/2011/06/study-furiously/)到[出山](/cn/2011/07/exams-done/)的一个月。剩下的时间一小部分贡献给了熬夜赶作业，大部分贡献给了写代码和混迹统计之都网站，极小部分贡献给了写论文和看文献。这肯定不是一个正常博士的时间分配，因为我的所谓科研的比例低到几乎可忽略不计。毕业之后[掰着指头一数](/cn/2014/01/five-years/)，博士期间去过 25 个城市、做了 34 场报告。整体而言，我觉得还算比较轻松。现在想想，那时候只需要维护一两个 R 包，是多么幸福的事情。

> 看到您 Github 从 2012 开始几乎都是满的，而我作为一个专业的程序，居然没有您一般多，确实感受到了差距。而且我相信程序只是您的兴趣之一。

王国维提了诗词三境界，我也提个码农三境界：我找事、找我事、事找我。这里我特指开源社区的码农，不包含在公司里闷头喂自己公司袋盐的码农。我想多数开源码农应该停留在第一阶段，就是找事情做。如果找对了事情，开始小有名气，就会开始有人来找你事，因为开源项目里没多少前无古人的纯原创项目；每个项目几乎一定有类似的其它项目已经存在，所以人家不免要来比天比地比空气。等你埋头把你的项目欠缺的功能都补齐、可以与竞争者一较高低之后，你便强大到“事找我”的程度了。一个项目的成功容易催化下一个项目的成功，因为你已经有了一定的眼光和经验积累。陷入这个正向循环后，就算想退出 Github 江湖都没那么容易了。江湖里的人会把你绑架，日复一日给你各种反馈，酸甜苦辣都有，簇拥你前行。现在先记住“反馈”这个词，下文再谈。

> 还有您的博客更新多年，几千篇，这个也是我非常羡慕的，因为我也是有博客，但是一直拖拖拉拉，没有认真写几篇，反复挂掉又建最后又没去打理。

我知道有些跑步的人会上瘾。我个人对跑步没有任何爱好，所以我完全无法理解枯燥的跑步怎么可能使人上瘾。同理，不打羽毛球的人若听说我可以一直打五小时的羽毛球，一定也很难理解：不就是拿个拍子把球抡过来抡过去吗，怎么能打整整一下午。我想说的是，写博客也一样，到一定量级之后会让人上瘾。可能是拜我们的语文教育所赐，我们被摁着头写了十几年的作文，便坚定地认为写东西是一件苦差事。世上存在那种哪怕没有任何甜头、甚至只有苦头也要坚持做一件事的人，但这样的人应该还是少数。多数人的坚持，应该还是有甜头的存在。现在记住“甜头”这个词。

> 工作方面，看到您的简历，虽然非专业看不懂，但是相信必定是很有成果的。

我已经多次鼓吹“[我网故我在](/cn/2016/12/student-project/)”的观点了，只是真正的响应者甚寡。很多人听我忽悠，随手搭个网站，但也就撂在那儿不管了。他们没听到我的后一句话：网站是用来积累成就的，而简历可以是成就的堆砌汇总处。最初可以从堆砌小成就开始，把你写的作业、拍的照片、做的菜肴统统发上来。勿以事小而不堆。很多小事的价值，要过很多年你才能发现（比如[十一年](https://d.cosx.org/d/420778)）。除非你记忆力超群，否则凡是没有写下来的东西你很快就会忘，而你忘记的事情跟没做也没什么区别。换句话说，你差不多算是在白活。记住“堆砌”。

> 其实您自己觉得这些可能没什么，按部就班都会做到，但是我们一般人会觉得很难，可能专注力，毅力或者其他内在动力起到更重要作用，如果可以，很希望得到您的分享：

> 您每天作息时间是怎么样的？您如何利用时间，如何解决拖延问题，如何避免不必要的打扰（比如手机、家人孩子）？坚持做这些事情的动力（因为我看到您的最初的网站以及一些插件，您肯定没有预料到会有后面的这么多人重视以及重要性，最初做这些的动力）？

注意力分散、拖延症基本上都是时代病，除非你归隐山林，否则很难治疗。我同样是这些时代病的患者，只不过可能病情略微轻一点而已。那些认为我光芒万丈、仿佛已经成圣成佛的人，不妨了解一下我[前些年的挣扎](/en/2018/02/career-crisis/)。要说我跟众人有何不同的话，那就是多数心里苦的宝宝都不会说，而我会说。我知道那些表面光芒万丈、内心苦痛挣扎的宝宝绝对不在少数。我深信“透明”这个原则。我的多数所思所想所做，都是公开的。我个人极度讨厌人为树立的围墙，可理解、但绝不喜欢于淼大人文末[提到的](https://yufree.cn/cn/2019/07/14/patent/)那种藏着掖着的人。

论毅力，它在我上大学本科期间已经逐渐消失了。在那之前，我还算有点毅力：严冬可以早起，炎夏可以背英汉词典。这是早年间[寒门](/cn/2019/04/chill/)背景的驱动。现在已经过上了吃馒头想蘸红糖蘸红糖、想蘸白糖蘸白糖的富足生活，来自生理层面的驱动就没了。我的专注仅限于我的四大业余爱好：~~吃喝嫖赌，哦说错了，是说学逗唱，哦不，~~看书、写东西、做饭、打羽毛球。除此之外，我同样觉得保持专注很困难，这个时代的噪声源太多了。目前我唯一成功克制住的是[社交媒体瘾](/cn/2018/01/craving-exploit/)：我已经关掉微信朋友圈近四年；今年我也克制住了推特，训练到可以看着那个新消息提醒的数字而偏偏就不点开它。但其实即使这样也是杯水车薪，仍然有太多噪声源，况且有些还不是纯噪声，是必须听以及必须处理的。

人人都一边说着想静静，一边又舍不得这光怪陆离、醉生梦死的红尘。空有转瞬即逝的迷茫，却没有[倒退的勇气](/cn/2019/01/confusion-seclusion/)。只要陷在这个矛盾中，就不可避免会沦为他人的木偶，他想怎么牵引你就怎么牵引。在这里我得[重提](/cn/2019/07/tidy-noise/)王维母亲那三个字：净、静、境。净的最大敌人是欲望，保留欲望就是保留被人挑逗的可能性。心理渴求赞扬，而又无法面对[多数人都是平庸平凡平淡](/cn/2018/11/mediocre-self/)、无法得到强力赞扬的现实，于是只能靠别人在你美颜自拍下的敷衍点赞续命。物欲旺盛，便容易被洗脑、网购些根本用不到的东西堆在家里。若连基本的脸净和家净都做不到，哪会有闲暇想静静？静静需要五感皆空，而你回想一下，你上一次没看、没听、没吃、没闻、没触碰任何东西是在什么时候？恐怕五感已经尽被外物锁死，人已经没有了真正的无聊时间，所有时刻都被无孔不入的信息占满；上茅房时是几乎一定在看手机，开车时一定同时放着音乐或其它音频节目。

静静到底是谁？静静是有质量的输出。我眼中这个时代最大的问题就是每个人的输入太多，输出太少。我们总在[被动接受输入](https://tjcx.me/posts/consumption-distraction/)，而无暇顾及输出。信息输入量太大，就像郭德纲常说的恶心笑话：金针菇进，金针菇出。人们仿佛出于生理本能，认为吃得越多，就长得越好，而不去想想吃下去的到底消化了没有。于是肥胖、拉稀者繁，肌肉者寡。我平日最不乐意见到的就是静默转发，也就是转发别人的文章，自己没一句评论，或者只有干瘪的几个字评论和千篇一律的表情符。若看完一样东西后什么也讲不出来，那转它作甚、是何意呢？孟庭苇的一首歌《[风里的梦](https://music.163.com/#/song?id=276722)》中有不相关但相似的一问：

> 太多别人的传说，为何没有我的梦？

滚滚红尘和欲望并不一定是坏事。我在《[迷茫与倒退](/cn/2019/01/confusion-seclusion/)》中也说过，人的弱点都有转化为优点的潜力。问题只不过是你想让别人利用你的弱点，还是你自己利用自己的弱点。现在我们来说第一个关键词：反馈。对毅力不那么超群的人来说，做事若要有持续动力的话，则外界反馈必不可少。反馈有几方面作用：一是满足虚荣（表面上是个弱点），因为有人可能会夸你；二是扩张你的视角，促使你想你本来没想到的东西，这可能会让你的成果越来越宏伟；三是培养做事的惯性，因为路人的反馈有持续性，若处理得当，能有滚雪球的效应。我每天都在 Github 打卡，主要就是我每天都会收到新的反馈。若这地方根本没人搭理我，我也很难持续打卡。相比之下，我早已不用 Facebook，自然也没什么人来给我反馈，所以它对我毫无吸引力，我也就没有任何动力去为谁去哪儿旅游、谁的晚饭吃了什么而操碎我的心了。同样我也极少看知乎，因为我[非常排斥](/cn/2017/02/zhihu/)那里的总体氛围，也不觉得它对我有任何帮助，所以在那里别人很难给我反馈，我也就不会有兴趣去打卡。我倾向于看单对单的反馈，而不是群对单的反馈；当一大群人围上来的时候，反馈很容易失真。

反馈的前提条件是公开。把你的软件开源、想法公开、论文提前挂出来。那些藏着掖着的人，大约是不懂放长线钓大鱼的道理。常有人对我出版了四本书却从未收过一分钱的版税、并且还把书都免费公开发布出来感到惊奇和不理解，其实这只不过是我把版税变相为推广费了（每年几千？一万美元？我不知道，也没兴趣知道）而已。免费公开的书可以流传更广。我相信至少在统计学界，靠写书每年挣版税的人，其影响力一定远不如我，而且就算他每年拿一万美元专门给自己做推广，效果可能还未必如我，况且广告多了也招人烦。我一声不吭就同时收获了影响力和反馈，就问你这版税我要它有何用？何不行个方便，让读者以更便宜的价格买书算了。

再说第二个关键词：甜头。这初看又是一个弱点，奔着甜头做事，似乎无法长久。我说的不是普通甜头，比如吃糖、吃蛋糕的那种甜头，那是没有根基的甜头，转瞬即逝。记得有一幅漫画我看见过几次，但现在找不到了（更新：下面评论中有人[帮忙找到了](https://static.highexistence.com/wp-content/uploads/2018/08/modern-life-depression-books-1.jpg)）。漫画上画的大约是三个人：第一个人在凡间地上鸟语花香，第二个人站在一摞书上，伸入云霄看见满世界压抑的乌云，第三个人则站在更高的一摞书上，看到了九霄层云之上的灿烂千阳。这灿烂就是我说的甜头。不读书的人，无所得无所失，反正就那样凑合着过；开始读书的人，可能会感受到繁杂阴暗的痛苦；而咬牙读下去的人，终能圆融贯通，看到金光乍现。最初我写博客是满足表现欲，碎碎念很多，而现在写博客则终于有点想静静的意思了。我喜欢在键盘上把一件事情掰碎了分析，把脑子里漂浮的念头都固化下来，这是我的甜头。我不知道别的客官会花多久，但我自己从 2005 年写到近两年才体会到这个甜头。世间有很多事情的进展都极慢，我们需要一些关于耐心的训练。比如种菜对我来说就不只是为了吃而种，而是要在朝朝频顾惜、暮暮去浇水的过程中见证它从一粒小种子慢慢长成一两米高的庞然大物。其实这个过程也只不过才几个月时间，但如今对已经几乎失去延迟满足能力的我们来说，几个月时间可能也很难熬，就更不必说在 2029 年收获写博客的甜头了。此处你需要停顿下来、清空脑子后感受一下，2029 年是什么概念。只羡慕贼吃肉、不见贼挨揍的人是吃不到肉的。

![黄瓜的生长](https://user-images.githubusercontent.com/163582/61556189-db864600-aa26-11e9-9a18-1ee09c0420f7.jpg#full)

对我来说，写代码的甜头在于站在别的巨人肩头指挥这些巨人排兵列阵，这主要是因为我自己的本事不够创造出巨人来。若我的软件写得漂亮，那多半是巨人的功劳，我跟着沾沾光。而为了找到适合我操纵的巨人，我也得静静，不能盲目跟风。比如我对所谓深度学习、人工智能的了解几乎为零，那里面的巨人软件我指挥不动，而且指挥者也已经太多，轮不到我插脚。从这个角度来说，刻意减少外界信息输入反倒是好事，我知道的越多便越难聚焦。指挥别人都没想到的小巨人，便是我特有的甜头。

最后说第三个关键词：堆砌。不积跬步，无以至千里。[道理都懂，就是不做](/cn/2019/04/slow-process/)。做也是东一榔头西一棒槌，[不注意聚焦](/cn/2019/03/influence-focus/)、不把做过的劳什子都归置到一处。有时候我不是很明白为什么大家要这样东奔西跑。比如我见涛妹前几天在微信读书上发了几篇颇有质量的书评，而两年前[他曾说要给博客除草](https://joegaotao.github.io/2017/06/11/blog-start/)；这几篇书评不就是绝佳的除草剂吗？为何要无怨无悔地把除草剂贡献给微信读书平台呢？发在社交媒体上的任何文字，无论是否有质量、思想，其生命周期大约也只有那么两三天；也许两三天内能被大范围传播，但很快就会被第二天的热点取代。堆砌在自己个人网站上的东西，十年二十年后仍可以在那里。无论这些东西看起来是蠢还是牛还是庸，那都是你生命的[印迹](/cn/2019/06/passed-youth/)，证明你曾经鲜活过。为了未来还能一直保持鲜活，你必须要保存下鲜活的历史记录，作为对自己的激励。

以上便是我的灵魂拷问。最后我回到文波兄说的作息时间问题。几年前没娃时经常熬夜到两三点然后睡到中午。有娃之后作息有规律多了，通常早上七点半左右在生物钟的召唤下自动醒，晚上十二点左右睡觉。我的拖延症从未治愈过，我也一样为此焦虑，只不过焦虑时多时少而已。我很想把我拖延的事情、经过和结果写下来，以告诉自己拖延一是没有好下场，二是那些事情并没有想象中的可怕（的确如此），但至今还没怎么公开写过这样的例子，将来还得找机会写写。未知、不确定的恐惧比已知的恐惧更可怕，这是拖延症的纸老虎。另一个造成拖延的原因是我每天都要面对一大堆决策，有时候很想掀桌不干了，这些大小决策会削弱我的意志力。我在公司是单人团队，基本上零沟通，所以工作时不容易被公司同事打断。打断我的多为我的软件用户，他们有问不完的问题和提不完的请求。我不是说这些不能提，只是这个量级和频率我一个人搞不定，会给我制造一定的焦虑。我的手机从不打扰我，我的手机只有两个用途：看书和看菜谱。我常年把手机调在静音状态，电话几乎从来不接（因为都是垃圾电话，我不知道这年头还要这电话功能有何用）。早上八点把娃扔到托儿所，所以他们白天也打扰不到我。晚上六点接回来之后，各种吃吃喝喝洗洗刷刷，大约一直到十点我才能回到电脑前。这期间若有闲暇，我一般在手机上浏览菜谱，但这种闲暇很少。每天在日三省吾身后（早上吃什么、中午吃什么、晚上吃什么），我会花一到两小时做饭。现在夏天我早上还会在菜园里瞅瞅，摘个黄瓜、拔个草、掐个苗、剪个韭菜、扒个菜叶子什么的。每隔几天傍晚去浇个水。今年总体来我的工作节奏相当散乱无章，不是我满意的状态。这周我正在琢磨规划下半年的工作，希望能把一本书整完。

如何想静静？要我说，不净者不静，卸下名缰利锁，轻装上阵才能更快找到静静；浅虑者不静，播种后立刻盼着结果、一看没有果实就放弃或立刻播新种，永远在焦虑绝望的牢笼中左冲右突，不知这牢笼除了日复一日用牙对准一点死磨，并无它法可开，也不知牢笼外的自由完全值得这份咬磨的耐心；无根者不静，身世浮沉雨打萍，无法立足，只有长时间堆砌大小成果、有了十足的底气之后才能静下来。

每当你觉得臣妾做不到的时候，不妨再读一遍《[别声张](/cn/2014/12/the-gadfly/)》。留点时间给自己，好在恍恍惚惚的生活中能留下一点印迹。当然，也不要光听我忽悠，若迷信我的话小心连年都过错。有人可能会在静静中爆发，有人会在静静中灭亡。我静静积攒半年日志发出来一定还有人批阅，而你可能静三天不更新日志客人就走光了。想清楚你的追求，并采用合适的手段实现。小马过河，深浅自己去试。
---
title: 躁厨
date: '2019-07-19'
slug: manic-cook
---

书接《[怵厨](/cn/2018/09/coward-cook/)》与《[懒厨](/cn/2018/06/lazy-cook/)》。我喜欢在厨房里捣鼓饭菜的一个重要原因是它能让我高度专注，毕竟在现代人的生活里已经没多少事能让人长时间全神贯注了。我做饭的专注程度堪比冥想。鉴于这个原因，我的唯一一条厨房守则就是，在我做饭时，别人尽量不要和我说话，尤其是不要说些让我需要动脑筋的话。如果长时间跟我说话，让我的心思回不到饭菜上来的话，我会变得狂躁，那感觉就像睡眠剥夺。同样，我做饭向来不让人来帮忙，大小事务我都自己一手搞定，别人要是来帮忙我容易乱了阵脚。这也体现了我不爱与人合作的人格特征。

预警一下：下一段可能会引起部分客官的生理不适，建议跳过或速读后赶紧抛之脑后。

[去年说过](/cn/2018/10/baking/)我忌手摸油腻的东西。炒菜时我也不喜欢铲子把或锅把是湿的。不过油腻和湿把手还不至于让我狂躁。器具方面唯一让我心里躁得慌的是粽叶。包粽子的时候手摸着毛毛的粽叶或者两片粽叶叠在一起摩擦时，我便觉得百爪挠心。现在写这句话都感觉如此。有些人害怕粉笔里的小石头或黑板擦的金属边摩擦黑板的声音，我对这两种声音也感到略微不适，但还没到恶心的程度。过去生活中我感到最不适的声音是小时候用铁簸箕扒稻谷的摩擦声，而现在发现粽叶也给我类似的感受。

以上便是本躁厨分别在心理和生理方面的一例。除此之外，厨房里便是无穷乐趣。
